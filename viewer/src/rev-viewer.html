<html><head></head><body><div hidden="" by-polymer-bundler=""><script>"use strict";Polymer({is:"iron-request",hostAttributes:{hidden:!0},properties:{xhr:{type:Object,notify:!0,readOnly:!0,value:function value(){return new XMLHttpRequest}},response:{type:Object,notify:!0,readOnly:!0,value:function value(){return null}},status:{type:Number,notify:!0,readOnly:!0,value:0},statusText:{type:String,notify:!0,readOnly:!0,value:""},completes:{type:Object,readOnly:!0,notify:!0,value:function value(){return new Promise(function(resolve,reject){this.resolveCompletes=resolve;this.rejectCompletes=reject}.bind(this))}},progress:{type:Object,notify:!0,readOnly:!0,value:function value(){return{}}},aborted:{type:Boolean,notify:!0,readOnly:!0,value:!1},errored:{type:Boolean,notify:!0,readOnly:!0,value:!1},timedOut:{type:Boolean,notify:!0,readOnly:!0,value:!1}},get succeeded(){if(this.errored||this.aborted||this.timedOut){return!1}var status=this.xhr.status||0;return 0===status||200<=status&&300>status},send:function send(options){var xhr=this.xhr;if(0<xhr.readyState){return null}xhr.addEventListener("progress",function(progress){this._setProgress({lengthComputable:progress.lengthComputable,loaded:progress.loaded,total:progress.total})}.bind(this));xhr.addEventListener("error",function(error){this._setErrored(!0);this._updateStatus();var response=options.rejectWithRequest?{error:error,request:this}:error;this.rejectCompletes(response)}.bind(this));xhr.addEventListener("timeout",function(error){this._setTimedOut(!0);this._updateStatus();var response=options.rejectWithRequest?{error:error,request:this}:error;this.rejectCompletes(response)}.bind(this));xhr.addEventListener("abort",function(){this._setAborted(!0);this._updateStatus();var error=new Error("Request aborted."),response=options.rejectWithRequest?{error:error,request:this}:error;this.rejectCompletes(response)}.bind(this));xhr.addEventListener("loadend",function(){this._updateStatus();this._setResponse(this.parseResponse());if(!this.succeeded){var error=new Error("The request failed with status code: "+this.xhr.status),response=options.rejectWithRequest?{error:error,request:this}:error;this.rejectCompletes(response);return}this.resolveCompletes(this)}.bind(this));this.url=options.url;xhr.open(options.method||"GET",options.url,!1!==options.async);var acceptType={json:"application/json",text:"text/plain",html:"text/html",xml:"application/xml",arraybuffer:"application/octet-stream"}[options.handleAs],headers=options.headers||Object.create(null),newHeaders=Object.create(null);for(var key in headers){newHeaders[key.toLowerCase()]=headers[key]}headers=newHeaders;if(acceptType&&!headers.accept){headers.accept=acceptType}Object.keys(headers).forEach(function(requestHeader){if(/[A-Z]/.test(requestHeader)){Polymer.Base._error("Headers must be lower case, got",requestHeader)}xhr.setRequestHeader(requestHeader,headers[requestHeader])},this);if(!1!==options.async){if(options.async){xhr.timeout=options.timeout}var handleAs=options.handleAs;if(!!options.jsonPrefix||!handleAs){handleAs="text"}xhr.responseType=xhr._responseType=handleAs;if(!!options.jsonPrefix){xhr._jsonPrefix=options.jsonPrefix}}xhr.withCredentials=!!options.withCredentials;var body=this._encodeBodyObject(options.body,headers["content-type"]);xhr.send(body);return this.completes},parseResponse:function parseResponse(){var xhr=this.xhr,responseType=xhr.responseType||xhr._responseType,preferResponseText=!this.xhr.responseType,prefixLen=xhr._jsonPrefix&&xhr._jsonPrefix.length||0;try{switch(responseType){case"json":if(preferResponseText||xhr.response===void 0){try{return JSON.parse(xhr.responseText)}catch(_){return null}}return xhr.response;case"xml":return xhr.responseXML;case"blob":case"document":case"arraybuffer":return xhr.response;case"text":default:{if(prefixLen){try{return JSON.parse(xhr.responseText.substring(prefixLen))}catch(_){return null}}return xhr.responseText}}}catch(e){this.rejectCompletes(new Error("Could not parse response. "+e.message))}},abort:function abort(){this._setAborted(!0);this.xhr.abort()},_encodeBodyObject:function _encodeBodyObject(body,contentType){if("string"==typeof body){return body}var bodyObj=body;switch(contentType){case"application/json":return JSON.stringify(bodyObj);case"application/x-www-form-urlencoded":return this._wwwFormUrlEncode(bodyObj);}return body},_wwwFormUrlEncode:function _wwwFormUrlEncode(object){if(!object){return""}var pieces=[];Object.keys(object).forEach(function(key){pieces.push(this._wwwFormUrlEncodePiece(key)+"="+this._wwwFormUrlEncodePiece(object[key]))},this);return pieces.join("&")},_wwwFormUrlEncodePiece:function _wwwFormUrlEncodePiece(str){if(null===str){return""}return encodeURIComponent(str.toString().replace(/\r?\n/g,"\r\n")).replace(/%20/g,"+")},_updateStatus:function _updateStatus(){this._setStatus(this.xhr.status);this._setStatusText(this.xhr.statusText===void 0?"":this.xhr.statusText)}});</script><script>"use strict";Polymer({is:"iron-ajax",hostAttributes:{hidden:!0},properties:{url:{type:String},params:{type:Object,value:function value(){return{}}},method:{type:String,value:"GET"},headers:{type:Object,value:function value(){return{}}},contentType:{type:String,value:null},body:{type:Object,value:null},sync:{type:Boolean,value:!1},handleAs:{type:String,value:"json"},withCredentials:{type:Boolean,value:!1},timeout:{type:Number,value:0},auto:{type:Boolean,value:!1},verbose:{type:Boolean,value:!1},lastRequest:{type:Object,notify:!0,readOnly:!0},loading:{type:Boolean,notify:!0,readOnly:!0},lastResponse:{type:Object,notify:!0,readOnly:!0},lastError:{type:Object,notify:!0,readOnly:!0},activeRequests:{type:Array,notify:!0,readOnly:!0,value:function value(){return[]}},debounceDuration:{type:Number,value:0,notify:!0},jsonPrefix:{type:String,value:""},bubbles:{type:Boolean,value:!1},rejectWithRequest:{type:Boolean,value:!1},_boundHandleResponse:{type:Function,value:function value(){return this._handleResponse.bind(this)}}},observers:["_requestOptionsChanged(url, method, params.*, headers, contentType, "+"body, sync, handleAs, jsonPrefix, withCredentials, timeout, auto)"],get queryString(){var queryParts=[],param,value;for(param in this.params){value=this.params[param];param=window.encodeURIComponent(param);if(Array.isArray(value)){for(var i=0;i<value.length;i++){queryParts.push(param+"="+window.encodeURIComponent(value[i]))}}else if(null!==value){queryParts.push(param+"="+window.encodeURIComponent(value))}else{queryParts.push(param)}}return queryParts.join("&")},get requestUrl(){var queryString=this.queryString,url=this.url||"";if(queryString){var bindingChar=0<=url.indexOf("?")?"&":"?";return url+bindingChar+queryString}return url},get requestHeaders(){var headers={},contentType=this.contentType;if(null==contentType&&"string"===typeof this.body){contentType="application/x-www-form-urlencoded"}if(contentType){headers["content-type"]=contentType}var header;if(babelHelpers.instanceof(this.headers,Object)){for(header in this.headers){headers[header]=this.headers[header].toString()}}return headers},toRequestOptions:function toRequestOptions(){return{url:this.requestUrl||"",method:this.method,headers:this.requestHeaders,body:this.body,async:!this.sync,handleAs:this.handleAs,jsonPrefix:this.jsonPrefix,withCredentials:this.withCredentials,timeout:this.timeout,rejectWithRequest:this.rejectWithRequest}},generateRequest:function generateRequest(){var request=document.createElement("iron-request"),requestOptions=this.toRequestOptions();this.push("activeRequests",request);request.completes.then(this._boundHandleResponse).catch(this._handleError.bind(this,request)).then(this._discardRequest.bind(this,request));var evt=this.fire("iron-ajax-presend",{request:request,options:requestOptions},{bubbles:this.bubbles,cancelable:!0});if(evt.defaultPrevented){request.abort();request.rejectCompletes(request);return request}request.send(requestOptions);this._setLastRequest(request);this._setLoading(!0);this.fire("request",{request:request,options:requestOptions},{bubbles:this.bubbles,composed:!0});this.fire("iron-ajax-request",{request:request,options:requestOptions},{bubbles:this.bubbles,composed:!0});return request},_handleResponse:function _handleResponse(request){if(request===this.lastRequest){this._setLastResponse(request.response);this._setLastError(null);this._setLoading(!1)}this.fire("response",request,{bubbles:this.bubbles,composed:!0});this.fire("iron-ajax-response",request,{bubbles:this.bubbles,composed:!0})},_handleError:function _handleError(request,error){if(this.verbose){Polymer.Base._error(error)}if(request===this.lastRequest){this._setLastError({request:request,error:error,status:request.xhr.status,statusText:request.xhr.statusText,response:request.xhr.response});this._setLastResponse(null);this._setLoading(!1)}this.fire("iron-ajax-error",{request:request,error:error},{bubbles:this.bubbles,composed:!0});this.fire("error",{request:request,error:error},{bubbles:this.bubbles,composed:!0})},_discardRequest:function _discardRequest(request){var requestIndex=this.activeRequests.indexOf(request);if(-1<requestIndex){this.splice("activeRequests",requestIndex,1)}},_requestOptionsChanged:function _requestOptionsChanged(){this.debounce("generate-request",function(){if(null==this.url){return}if(this.auto){this.generateRequest()}},this.debounceDuration)}});</script><script>Polymer({is:"iron-iconset-svg",properties:{name:{type:String,observer:"_nameChanged"},size:{type:Number,value:24},rtlMirroring:{type:Boolean,value:!1}},created:function created(){this._meta=new Polymer.IronMeta({type:"iconset",key:null,value:null})},attached:function attached(){this.style.display="none"},getIconNames:function getIconNames(){this._icons=this._createIconMap();return Object.keys(this._icons).map(function(n){return this.name+":"+n},this)},applyIcon:function applyIcon(element,iconName){this.removeIcon(element);var svg=this._cloneIcon(iconName,this.rtlMirroring&&this._targetIsRTL(element));if(svg){var pde=Polymer.dom(element.root||element);pde.insertBefore(svg,pde.childNodes[0]);return element._svgIcon=svg}return null},removeIcon:function removeIcon(element){if(element._svgIcon){Polymer.dom(element.root||element).removeChild(element._svgIcon);element._svgIcon=null}},_targetIsRTL:function _targetIsRTL(target){if(null==this.__targetIsRTL){if(target&&target.nodeType!==Node.ELEMENT_NODE){target=target.host}this.__targetIsRTL=target&&"rtl"===window.getComputedStyle(target).direction}return this.__targetIsRTL},_nameChanged:function _nameChanged(){this._meta.value=null;this._meta.key=this.name;this._meta.value=this;this.async(function(){this.fire("iron-iconset-added",this,{node:window})})},_createIconMap:function _createIconMap(){var icons=Object.create(null);Polymer.dom(this).querySelectorAll("[id]").forEach(function(icon){icons[icon.id]=icon});return icons},_cloneIcon:function _cloneIcon(id,mirrorAllowed){this._icons=this._icons||this._createIconMap();return this._prepareSvgClone(this._icons[id],this.size,mirrorAllowed)},_prepareSvgClone:function _prepareSvgClone(sourceSvg,size,mirrorAllowed){if(sourceSvg){var content=sourceSvg.cloneNode(!0),svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),viewBox=content.getAttribute("viewBox")||"0 0 "+size+" "+size,cssText="pointer-events: none; display: block; width: 100%; height: 100%;";if(mirrorAllowed&&content.hasAttribute("mirror-in-rtl")){cssText+="-webkit-transform:scale(-1,1);transform:scale(-1,1);"}svg.setAttribute("viewBox",viewBox);svg.setAttribute("preserveAspectRatio","xMidYMid meet");svg.setAttribute("focusable","false");svg.style.cssText=cssText;svg.appendChild(content).removeAttribute("id");return svg}return null}});</script><iron-iconset-svg name="icons" size="24"><svg><defs><g id="3d-rotation"><path d="M7.52 21.48C4.25 19.94 1.91 16.76 1.55 13H.05C.56 19.16 5.71 24 12 24l.66-.03-3.81-3.81-1.33 1.32zm.89-6.52c-.19 0-.37-.03-.52-.08-.16-.06-.29-.13-.4-.24-.11-.1-.2-.22-.26-.37-.06-.14-.09-.3-.09-.47h-1.3c0 .36.07.68.21.95.14.27.33.5.56.69.24.18.51.32.82.41.3.1.62.15.96.15.37 0 .72-.05 1.03-.15.32-.1.6-.25.83-.44s.42-.43.55-.72c.13-.29.2-.61.2-.97 0-.19-.02-.38-.07-.56-.05-.18-.12-.35-.23-.51-.1-.16-.24-.3-.4-.43-.17-.13-.37-.23-.61-.31.2-.09.37-.2.52-.33.15-.13.27-.27.37-.42.1-.15.17-.3.22-.46.05-.16.07-.32.07-.48 0-.36-.06-.68-.18-.96-.12-.28-.29-.51-.51-.69-.2-.19-.47-.33-.77-.43C9.1 8.05 8.76 8 8.39 8c-.36 0-.69.05-1 .16-.3.11-.57.26-.79.45-.21.19-.38.41-.51.67-.12.26-.18.54-.18.85h1.3c0-.17.03-.32.09-.45s.14-.25.25-.34c.11-.09.23-.17.38-.22.15-.05.3-.08.48-.08.4 0 .7.1.89.31.19.2.29.49.29.86 0 .18-.03.34-.08.49-.05.15-.14.27-.25.37-.11.1-.25.18-.41.24-.16.06-.36.09-.58.09H7.5v1.03h.77c.22 0 .42.02.6.07s.33.13.45.23c.12.11.22.24.29.4.07.16.1.35.1.57 0 .41-.12.72-.35.93-.23.23-.55.33-.95.33zm8.55-5.92c-.32-.33-.7-.59-1.14-.77-.43-.18-.92-.27-1.46-.27H12v8h2.3c.55 0 1.06-.09 1.51-.27.45-.18.84-.43 1.16-.76.32-.33.57-.73.74-1.19.17-.47.26-.99.26-1.57v-.4c0-.58-.09-1.1-.26-1.57-.18-.47-.43-.87-.75-1.2zm-.39 3.16c0 .42-.05.79-.14 1.13-.1.33-.24.62-.43.85-.19.23-.43.41-.71.53-.29.12-.62.18-.99.18h-.91V9.12h.97c.72 0 1.27.23 1.64.69.38.46.57 1.12.57 1.99v.4zM12 0l-.66.03 3.81 3.81 1.33-1.33c3.27 1.55 5.61 4.72 5.96 8.48h1.5C23.44 4.84 18.29 0 12 0z"></path></g><g id="accessibility"><path d="M12 2c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2zm9 7h-6v13h-2v-6h-2v6H9V9H3V7h18v2z"></path></g><g id="accessible"><circle cx="12" cy="4" r="2"></circle><path d="M19 13v-2c-1.54.02-3.09-.75-4.07-1.83l-1.29-1.43c-.17-.19-.38-.34-.61-.45-.01 0-.01-.01-.02-.01H13c-.35-.2-.75-.3-1.19-.26C10.76 7.11 10 8.04 10 9.09V15c0 1.1.9 2 2 2h5v5h2v-5.5c0-1.1-.9-2-2-2h-3v-3.45c1.29 1.07 3.25 1.94 5 1.95zm-6.17 5c-.41 1.16-1.52 2-2.83 2-1.66 0-3-1.34-3-3 0-1.31.84-2.41 2-2.83V12.1c-2.28.46-4 2.48-4 4.9 0 2.76 2.24 5 5 5 2.42 0 4.44-1.72 4.9-4h-2.07z"></path></g><g id="account-balance"><path d="M4 10v7h3v-7H4zm6 0v7h3v-7h-3zM2 22h19v-3H2v3zm14-12v7h3v-7h-3zm-4.5-9L2 6v2h19V6l-9.5-5z"></path></g><g id="account-balance-wallet"><path d="M21 18v1c0 1.1-.9 2-2 2H5c-1.11 0-2-.9-2-2V5c0-1.1.89-2 2-2h14c1.1 0 2 .9 2 2v1h-9c-1.11 0-2 .9-2 2v8c0 1.1.89 2 2 2h9zm-9-2h10V8H12v8zm4-2.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"></path></g><g id="account-box"><path d="M3 5v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2H5c-1.11 0-2 .9-2 2zm12 4c0 1.66-1.34 3-3 3s-3-1.34-3-3 1.34-3 3-3 3 1.34 3 3zm-9 8c0-2 4-3.1 6-3.1s6 1.1 6 3.1v1H6v-1z"></path></g><g id="account-circle"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.2c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08-1.29 1.94-3.5 3.22-6 3.22z"></path></g><g id="add"><path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"></path></g><g id="add-alert"><path d="M10.01 21.01c0 1.1.89 1.99 1.99 1.99s1.99-.89 1.99-1.99h-3.98zm8.87-4.19V11c0-3.25-2.25-5.97-5.29-6.69v-.72C13.59 2.71 12.88 2 12 2s-1.59.71-1.59 1.59v.72C7.37 5.03 5.12 7.75 5.12 11v5.82L3 18.94V20h18v-1.06l-2.12-2.12zM16 13.01h-3v3h-2v-3H8V11h3V8h2v3h3v2.01z"></path></g><g id="add-box"><path d="M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10h-4v4h-2v-4H7v-2h4V7h2v4h4v2z"></path></g><g id="add-circle"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11h-4v4h-2v-4H7v-2h4V7h2v4h4v2z"></path></g><g id="add-circle-outline"><path d="M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"></path></g><g id="add-shopping-cart"><path d="M11 9h2V6h3V4h-3V1h-2v3H8v2h3v3zm-4 9c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zm10 0c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2zm-9.83-3.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.86-7.01L19.42 4h-.01l-1.1 2-2.76 5H8.53l-.13-.27L6.16 6l-.95-2-.94-2H1v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.13 0-.25-.11-.25-.25z"></path></g><g id="alarm"><path d="M22 5.72l-4.6-3.86-1.29 1.53 4.6 3.86L22 5.72zM7.88 3.39L6.6 1.86 2 5.71l1.29 1.53 4.59-3.85zM12.5 8H11v6l4.75 2.85.75-1.23-4-2.37V8zM12 4c-4.97 0-9 4.03-9 9s4.02 9 9 9c4.97 0 9-4.03 9-9s-4.03-9-9-9zm0 16c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"></path></g><g id="alarm-add"><path d="M7.88 3.39L6.6 1.86 2 5.71l1.29 1.53 4.59-3.85zM22 5.72l-4.6-3.86-1.29 1.53 4.6 3.86L22 5.72zM12 4c-4.97 0-9 4.03-9 9s4.02 9 9 9c4.97 0 9-4.03 9-9s-4.03-9-9-9zm0 16c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7zm1-11h-2v3H8v2h3v3h2v-3h3v-2h-3V9z"></path></g><g id="alarm-off"><path d="M12 6c3.87 0 7 3.13 7 7 0 .84-.16 1.65-.43 2.4l1.52 1.52c.58-1.19.91-2.51.91-3.92 0-4.97-4.03-9-9-9-1.41 0-2.73.33-3.92.91L9.6 6.43C10.35 6.16 11.16 6 12 6zm10-.28l-4.6-3.86-1.29 1.53 4.6 3.86L22 5.72zM2.92 2.29L1.65 3.57 2.98 4.9l-1.11.93 1.42 1.42 1.11-.94.8.8C3.83 8.69 3 10.75 3 13c0 4.97 4.02 9 9 9 2.25 0 4.31-.83 5.89-2.2l2.2 2.2 1.27-1.27L3.89 3.27l-.97-.98zm13.55 16.1C15.26 19.39 13.7 20 12 20c-3.87 0-7-3.13-7-7 0-1.7.61-3.26 1.61-4.47l9.86 9.86zM8.02 3.28L6.6 1.86l-.86.71 1.42 1.42.86-.71z"></path></g><g id="alarm-on"><path d="M22 5.72l-4.6-3.86-1.29 1.53 4.6 3.86L22 5.72zM7.88 3.39L6.6 1.86 2 5.71l1.29 1.53 4.59-3.85zM12 4c-4.97 0-9 4.03-9 9s4.02 9 9 9c4.97 0 9-4.03 9-9s-4.03-9-9-9zm0 16c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7zm-1.46-5.47L8.41 12.4l-1.06 1.06 3.18 3.18 6-6-1.06-1.06-4.93 4.95z"></path></g><g id="all-out"><path d="M16.21 4.16l4 4v-4zm4 12l-4 4h4zm-12 4l-4-4v4zm-4-12l4-4h-4zm12.95-.95c-2.73-2.73-7.17-2.73-9.9 0s-2.73 7.17 0 9.9 7.17 2.73 9.9 0 2.73-7.16 0-9.9zm-1.1 8.8c-2.13 2.13-5.57 2.13-7.7 0s-2.13-5.57 0-7.7 5.57-2.13 7.7 0 2.13 5.57 0 7.7z"></path></g><g id="android"><path d="M6 18c0 .55.45 1 1 1h1v3.5c0 .83.67 1.5 1.5 1.5s1.5-.67 1.5-1.5V19h2v3.5c0 .83.67 1.5 1.5 1.5s1.5-.67 1.5-1.5V19h1c.55 0 1-.45 1-1V8H6v10zM3.5 8C2.67 8 2 8.67 2 9.5v7c0 .83.67 1.5 1.5 1.5S5 17.33 5 16.5v-7C5 8.67 4.33 8 3.5 8zm17 0c-.83 0-1.5.67-1.5 1.5v7c0 .83.67 1.5 1.5 1.5s1.5-.67 1.5-1.5v-7c0-.83-.67-1.5-1.5-1.5zm-4.97-5.84l1.3-1.3c.2-.2.2-.51 0-.71-.2-.2-.51-.2-.71 0l-1.48 1.48C13.85 1.23 12.95 1 12 1c-.96 0-1.86.23-2.66.63L7.85.15c-.2-.2-.51-.2-.71 0-.2.2-.2.51 0 .71l1.31 1.31C6.97 3.26 6 5.01 6 7h12c0-1.99-.97-3.75-2.47-4.84zM10 5H9V4h1v1zm5 0h-1V4h1v1z"></path></g><g id="announcement"><path d="M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-7 9h-2V5h2v6zm0 4h-2v-2h2v2z"></path></g><g id="apps"><path d="M4 8h4V4H4v4zm6 12h4v-4h-4v4zm-6 0h4v-4H4v4zm0-6h4v-4H4v4zm6 0h4v-4h-4v4zm6-10v4h4V4h-4zm-6 4h4V4h-4v4zm6 6h4v-4h-4v4zm0 6h4v-4h-4v4z"></path></g><g id="archive"><path d="M20.54 5.23l-1.39-1.68C18.88 3.21 18.47 3 18 3H6c-.47 0-.88.21-1.16.55L3.46 5.23C3.17 5.57 3 6.02 3 6.5V19c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V6.5c0-.48-.17-.93-.46-1.27zM12 17.5L6.5 12H10v-2h4v2h3.5L12 17.5zM5.12 5l.81-1h12l.94 1H5.12z"></path></g><g id="arrow-back"><path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"></path></g><g id="arrow-downward"><path d="M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"></path></g><g id="arrow-drop-down"><path d="M7 10l5 5 5-5z"></path></g><g id="arrow-drop-down-circle"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 12l-4-4h8l-4 4z"></path></g><g id="arrow-drop-up"><path d="M7 14l5-5 5 5z"></path></g><g id="arrow-forward"><path d="M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"></path></g><g id="arrow-upward"><path d="M4 12l1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8-8 8z"></path></g><g id="aspect-ratio"><path d="M19 12h-2v3h-3v2h5v-5zM7 9h3V7H5v5h2V9zm14-6H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16.01H3V4.99h18v14.02z"></path></g><g id="assessment"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"></path></g><g id="assignment"><path d="M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm2 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"></path></g><g id="assignment-ind"><path d="M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm0 4c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm6 12H6v-1.4c0-2 4-3.1 6-3.1s6 1.1 6 3.1V19z"></path></g><g id="assignment-late"><path d="M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-6 15h-2v-2h2v2zm0-4h-2V8h2v6zm-1-9c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1z"></path></g><g id="assignment-return"><path d="M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm4 12h-4v3l-5-5 5-5v3h4v4z"></path></g><g id="assignment-returned"><path d="M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm0 15l-5-5h3V9h4v4h3l-5 5z"></path></g><g id="assignment-turned-in"><path d="M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm-2 14l-4-4 1.41-1.41L10 14.17l6.59-6.59L18 9l-8 8z"></path></g><g id="attachment"><path d="M2 12.5C2 9.46 4.46 7 7.5 7H18c2.21 0 4 1.79 4 4s-1.79 4-4 4H9.5C8.12 15 7 13.88 7 12.5S8.12 10 9.5 10H17v2H9.41c-.55 0-.55 1 0 1H18c1.1 0 2-.9 2-2s-.9-2-2-2H7.5C5.57 9 4 10.57 4 12.5S5.57 16 7.5 16H17v2H7.5C4.46 18 2 15.54 2 12.5z"></path></g><g id="autorenew"><path d="M12 6v3l4-4-4-4v3c-4.42 0-8 3.58-8 8 0 1.57.46 3.03 1.24 4.26L6.7 14.8c-.45-.83-.7-1.79-.7-2.8 0-3.31 2.69-6 6-6zm6.76 1.74L17.3 9.2c.44.84.7 1.79.7 2.8 0 3.31-2.69 6-6 6v-3l-4 4 4 4v-3c4.42 0 8-3.58 8-8 0-1.57-.46-3.03-1.24-4.26z"></path></g><g id="backspace"><path d="M22 3H7c-.69 0-1.23.35-1.59.88L0 12l5.41 8.11c.36.53.9.89 1.59.89h15c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-3 12.59L17.59 17 14 13.41 10.41 17 9 15.59 12.59 12 9 8.41 10.41 7 14 10.59 17.59 7 19 8.41 15.41 12 19 15.59z"></path></g><g id="backup"><path d="M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM14 13v4h-4v-4H7l5-5 5 5h-3z"></path></g><g id="block"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM4 12c0-4.42 3.58-8 8-8 1.85 0 3.55.63 4.9 1.69L5.69 16.9C4.63 15.55 4 13.85 4 12zm8 8c-1.85 0-3.55-.63-4.9-1.69L18.31 7.1C19.37 8.45 20 10.15 20 12c0 4.42-3.58 8-8 8z"></path></g><g id="book"><path d="M18 2H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM6 4h5v8l-2.5-1.5L6 12V4z"></path></g><g id="bookmark"><path d="M17 3H7c-1.1 0-1.99.9-1.99 2L5 21l7-3 7 3V5c0-1.1-.9-2-2-2z"></path></g><g id="bookmark-border"><path d="M17 3H7c-1.1 0-1.99.9-1.99 2L5 21l7-3 7 3V5c0-1.1-.9-2-2-2zm0 15l-5-2.18L7 18V5h10v13z"></path></g><g id="bug-report"><path d="M20 8h-2.81c-.45-.78-1.07-1.45-1.82-1.96L17 4.41 15.59 3l-2.17 2.17C12.96 5.06 12.49 5 12 5c-.49 0-.96.06-1.41.17L8.41 3 7 4.41l1.62 1.63C7.88 6.55 7.26 7.22 6.81 8H4v2h2.09c-.05.33-.09.66-.09 1v1H4v2h2v1c0 .34.04.67.09 1H4v2h2.81c1.04 1.79 2.97 3 5.19 3s4.15-1.21 5.19-3H20v-2h-2.09c.05-.33.09-.66.09-1v-1h2v-2h-2v-1c0-.34-.04-.67-.09-1H20V8zm-6 8h-4v-2h4v2zm0-4h-4v-2h4v2z"></path></g><g id="build"><path d="M22.7 19l-9.1-9.1c.9-2.3.4-5-1.5-6.9-2-2-5-2.4-7.4-1.3L9 6 6 9 1.6 4.7C.4 7.1.9 10.1 2.9 12.1c1.9 1.9 4.6 2.4 6.9 1.5l9.1 9.1c.4.4 1 .4 1.4 0l2.3-2.3c.5-.4.5-1.1.1-1.4z"></path></g><g id="cached"><path d="M19 8l-4 4h3c0 3.31-2.69 6-6 6-1.01 0-1.97-.25-2.8-.7l-1.46 1.46C8.97 19.54 10.43 20 12 20c4.42 0 8-3.58 8-8h3l-4-4zM6 12c0-3.31 2.69-6 6-6 1.01 0 1.97.25 2.8.7l1.46-1.46C15.03 4.46 13.57 4 12 4c-4.42 0-8 3.58-8 8H1l4 4 4-4H6z"></path></g><g id="camera-enhance"><path d="M9 3L7.17 5H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2h-3.17L15 3H9zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-1l1.25-2.75L16 13l-2.75-1.25L12 9l-1.25 2.75L8 13l2.75 1.25z"></path></g><g id="cancel"><path d="M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"></path></g><g id="card-giftcard"><path d="M20 6h-2.18c.11-.31.18-.65.18-1 0-1.66-1.34-3-3-3-1.05 0-1.96.54-2.5 1.35l-.5.67-.5-.68C10.96 2.54 10.05 2 9 2 7.34 2 6 3.34 6 5c0 .35.07.69.18 1H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-5-2c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zM9 4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm11 15H4v-2h16v2zm0-5H4V8h5.08L7 10.83 8.62 12 11 8.76l1-1.36 1 1.36L15.38 12 17 10.83 14.92 8H20v6z"></path></g><g id="card-membership"><path d="M20 2H4c-1.11 0-2 .89-2 2v11c0 1.11.89 2 2 2h4v5l4-2 4 2v-5h4c1.11 0 2-.89 2-2V4c0-1.11-.89-2-2-2zm0 13H4v-2h16v2zm0-5H4V4h16v6z"></path></g><g id="card-travel"><path d="M20 6h-3V4c0-1.11-.89-2-2-2H9c-1.11 0-2 .89-2 2v2H4c-1.11 0-2 .89-2 2v11c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zM9 4h6v2H9V4zm11 15H4v-2h16v2zm0-5H4V8h3v2h2V8h6v2h2V8h3v6z"></path></g><g id="change-history"><path d="M12 7.77L18.39 18H5.61L12 7.77M12 4L2 20h20L12 4z"></path></g><g id="check"><path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"></path></g><g id="check-box"><path d="M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"></path></g><g id="check-box-outline-blank"><path d="M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"></path></g><g id="check-circle"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"></path></g><g id="chevron-left"><path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"></path></g><g id="chevron-right"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"></path></g><g id="chrome-reader-mode"><path d="M13 12h7v1.5h-7zm0-2.5h7V11h-7zm0 5h7V16h-7zM21 4H3c-1.1 0-2 .9-2 2v13c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 15h-9V6h9v13z"></path></g><g id="class"><path d="M18 2H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM6 4h5v8l-2.5-1.5L6 12V4z"></path></g><g id="clear"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></g><g id="close"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></g><g id="cloud"><path d="M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96z"></path></g><g id="cloud-circle"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm4.5 14H8c-1.66 0-3-1.34-3-3s1.34-3 3-3l.14.01C8.58 8.28 10.13 7 12 7c2.21 0 4 1.79 4 4h.5c1.38 0 2.5 1.12 2.5 2.5S17.88 16 16.5 16z"></path></g><g id="cloud-done"><path d="M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM10 17l-3.5-3.5 1.41-1.41L10 14.17 15.18 9l1.41 1.41L10 17z"></path></g><g id="cloud-download"><path d="M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM17 13l-5 5-5-5h3V9h4v4h3z"></path></g><g id="cloud-off"><path d="M19.35 10.04C18.67 6.59 15.64 4 12 4c-1.48 0-2.85.43-4.01 1.17l1.46 1.46C10.21 6.23 11.08 6 12 6c3.04 0 5.5 2.46 5.5 5.5v.5H19c1.66 0 3 1.34 3 3 0 1.13-.64 2.11-1.56 2.62l1.45 1.45C23.16 18.16 24 16.68 24 15c0-2.64-2.05-4.78-4.65-4.96zM3 5.27l2.75 2.74C2.56 8.15 0 10.77 0 14c0 3.31 2.69 6 6 6h11.73l2 2L21 20.73 4.27 4 3 5.27zM7.73 10l8 8H6c-2.21 0-4-1.79-4-4s1.79-4 4-4h1.73z"></path></g><g id="cloud-queue"><path d="M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM19 18H6c-2.21 0-4-1.79-4-4s1.79-4 4-4h.71C7.37 7.69 9.48 6 12 6c3.04 0 5.5 2.46 5.5 5.5v.5H19c1.66 0 3 1.34 3 3s-1.34 3-3 3z"></path></g><g id="cloud-upload"><path d="M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM14 13v4h-4v-4H7l5-5 5 5h-3z"></path></g><g id="code"><path d="M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"></path></g><g id="compare-arrows"><path d="M9.01 14H2v2h7.01v3L13 15l-3.99-4v3zm5.98-1v-3H22V8h-7.01V5L11 9l3.99 4z"></path></g><g id="content-copy"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></g><g id="content-cut"><path d="M9.64 7.64c.23-.5.36-1.05.36-1.64 0-2.21-1.79-4-4-4S2 3.79 2 6s1.79 4 4 4c.59 0 1.14-.13 1.64-.36L10 12l-2.36 2.36C7.14 14.13 6.59 14 6 14c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4c0-.59-.13-1.14-.36-1.64L12 14l7 7h3v-1L9.64 7.64zM6 8c-1.1 0-2-.89-2-2s.9-2 2-2 2 .89 2 2-.9 2-2 2zm0 12c-1.1 0-2-.89-2-2s.9-2 2-2 2 .89 2 2-.9 2-2 2zm6-7.5c-.28 0-.5-.22-.5-.5s.22-.5.5-.5.5.22.5.5-.22.5-.5.5zM19 3l-6 6 2 2 7-7V3z"></path></g><g id="content-paste"><path d="M19 2h-4.18C14.4.84 13.3 0 12 0c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm7 18H5V4h2v3h10V4h2v16z"></path></g><g id="copyright"><path d="M10.08 10.86c.05-.33.16-.62.3-.87s.34-.46.59-.62c.24-.15.54-.22.91-.23.23.01.44.05.63.13.2.09.38.21.52.36s.25.33.34.53.13.42.14.64h1.79c-.02-.47-.11-.9-.28-1.29s-.4-.73-.7-1.01-.66-.5-1.08-.66-.88-.23-1.39-.23c-.65 0-1.22.11-1.7.34s-.88.53-1.2.92-.56.84-.71 1.36S8 11.29 8 11.87v.27c0 .58.08 1.12.23 1.64s.39.97.71 1.35.72.69 1.2.91 1.05.34 1.7.34c.47 0 .91-.08 1.32-.23s.77-.36 1.08-.63.56-.58.74-.94.29-.74.3-1.15h-1.79c-.01.21-.06.4-.15.58s-.21.33-.36.46-.32.23-.52.3c-.19.07-.39.09-.6.1-.36-.01-.66-.08-.89-.23-.25-.16-.45-.37-.59-.62s-.25-.55-.3-.88-.08-.67-.08-1v-.27c0-.35.03-.68.08-1.01zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"></path></g><g id="create"><path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"></path></g><g id="create-new-folder"><path d="M20 6h-8l-2-2H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-1 8h-3v3h-2v-3h-3v-2h3V9h2v3h3v2z"></path></g><g id="credit-card"><path d="M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2zm0 14H4v-6h16v6zm0-10H4V6h16v2z"></path></g><g id="dashboard"><path d="M3 13h8V3H3v10zm0 8h8v-6H3v6zm10 0h8V11h-8v10zm0-18v6h8V3h-8z"></path></g><g id="date-range"><path d="M9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z"></path></g><g id="delete"><path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"></path></g><g id="delete-forever"><path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12l1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"></path></g><g id="delete-sweep"><path d="M15 16h4v2h-4zm0-8h7v2h-7zm0 4h6v2h-6zM3 18c0 1.1.9 2 2 2h6c1.1 0 2-.9 2-2V8H3v10zM14 5h-3l-1-1H6L5 5H2v2h12z"></path></g><g id="description"><path d="M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z"></path></g><g id="dns"><path d="M20 13H4c-.55 0-1 .45-1 1v6c0 .55.45 1 1 1h16c.55 0 1-.45 1-1v-6c0-.55-.45-1-1-1zM7 19c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zM20 3H4c-.55 0-1 .45-1 1v6c0 .55.45 1 1 1h16c.55 0 1-.45 1-1V4c0-.55-.45-1-1-1zM7 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z"></path></g><g id="done"><path d="M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z"></path></g><g id="done-all"><path d="M18 7l-1.41-1.41-6.34 6.34 1.41 1.41L18 7zm4.24-1.41L11.66 16.17 7.48 12l-1.41 1.41L11.66 19l12-12-1.42-1.41zM.41 13.41L6 19l1.41-1.41L1.83 12 .41 13.41z"></path></g><g id="donut-large"><path d="M11 5.08V2c-5 .5-9 4.81-9 10s4 9.5 9 10v-3.08c-3-.48-6-3.4-6-6.92s3-6.44 6-6.92zM18.97 11H22c-.47-5-4-8.53-9-9v3.08C16 5.51 18.54 8 18.97 11zM13 18.92V22c5-.47 8.53-4 9-9h-3.03c-.43 3-2.97 5.49-5.97 5.92z"></path></g><g id="donut-small"><path d="M11 9.16V2c-5 .5-9 4.79-9 10s4 9.5 9 10v-7.16c-1-.41-2-1.52-2-2.84s1-2.43 2-2.84zM14.86 11H22c-.48-4.75-4-8.53-9-9v7.16c1 .3 1.52.98 1.86 1.84zM13 14.84V22c5-.47 8.52-4.25 9-9h-7.14c-.34.86-.86 1.54-1.86 1.84z"></path></g><g id="drafts"><path d="M21.99 8c0-.72-.37-1.35-.94-1.7L12 1 2.95 6.3C2.38 6.65 2 7.28 2 8v10c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2l-.01-10zM12 13L3.74 7.84 12 3l8.26 4.84L12 13z"></path></g><g id="eject"><path d="M5 17h14v2H5zm7-12L5.33 15h13.34z"></path></g><g id="error"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"></path></g><g id="error-outline"><path d="M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"></path></g><g id="euro-symbol"><path d="M15 18.5c-2.51 0-4.68-1.42-5.76-3.5H15v-2H8.58c-.05-.33-.08-.66-.08-1s.03-.67.08-1H15V9H9.24C10.32 6.92 12.5 5.5 15 5.5c1.61 0 3.09.59 4.23 1.57L21 5.3C19.41 3.87 17.3 3 15 3c-3.92 0-7.24 2.51-8.48 6H3v2h3.06c-.04.33-.06.66-.06 1 0 .34.02.67.06 1H3v2h3.52c1.24 3.49 4.56 6 8.48 6 2.31 0 4.41-.87 6-2.3l-1.78-1.77c-1.13.98-2.6 1.57-4.22 1.57z"></path></g><g id="event"><path d="M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z"></path></g><g id="event-seat"><path d="M4 18v3h3v-3h10v3h3v-6H4zm15-8h3v3h-3zM2 10h3v3H2zm15 3H7V5c0-1.1.9-2 2-2h6c1.1 0 2 .9 2 2v8z"></path></g><g id="exit-to-app"><path d="M10.09 15.59L11.5 17l5-5-5-5-1.41 1.41L12.67 11H3v2h9.67l-2.58 2.59zM19 3H5c-1.11 0-2 .9-2 2v4h2V5h14v14H5v-4H3v4c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"></path></g><g id="expand-less"><path d="M12 8l-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z"></path></g><g id="expand-more"><path d="M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"></path></g><g id="explore"><path d="M12 10.9c-.61 0-1.1.49-1.1 1.1s.49 1.1 1.1 1.1c.61 0 1.1-.49 1.1-1.1s-.49-1.1-1.1-1.1zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm2.19 12.19L6 18l3.81-8.19L18 6l-3.81 8.19z"></path></g><g id="extension"><path d="M20.5 11H19V7c0-1.1-.9-2-2-2h-4V3.5C13 2.12 11.88 1 10.5 1S8 2.12 8 3.5V5H4c-1.1 0-1.99.9-1.99 2v3.8H3.5c1.49 0 2.7 1.21 2.7 2.7s-1.21 2.7-2.7 2.7H2V20c0 1.1.9 2 2 2h3.8v-1.5c0-1.49 1.21-2.7 2.7-2.7 1.49 0 2.7 1.21 2.7 2.7V22H17c1.1 0 2-.9 2-2v-4h1.5c1.38 0 2.5-1.12 2.5-2.5S21.88 11 20.5 11z"></path></g><g id="face"><path d="M9 11.75c-.69 0-1.25.56-1.25 1.25s.56 1.25 1.25 1.25 1.25-.56 1.25-1.25-.56-1.25-1.25-1.25zm6 0c-.69 0-1.25.56-1.25 1.25s.56 1.25 1.25 1.25 1.25-.56 1.25-1.25-.56-1.25-1.25-1.25zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8 0-.29.02-.58.05-.86 2.36-1.05 4.23-2.98 5.21-5.37C11.07 8.33 14.05 10 17.42 10c.78 0 1.53-.09 2.25-.26.21.71.33 1.47.33 2.26 0 4.41-3.59 8-8 8z"></path></g><g id="favorite"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"></path></g><g id="favorite-border"><path d="M16.5 3c-1.74 0-3.41.81-4.5 2.09C10.91 3.81 9.24 3 7.5 3 4.42 3 2 5.42 2 8.5c0 3.78 3.4 6.86 8.55 11.54L12 21.35l1.45-1.32C18.6 15.36 22 12.28 22 8.5 22 5.42 19.58 3 16.5 3zm-4.4 15.55l-.1.1-.1-.1C7.14 14.24 4 11.39 4 8.5 4 6.5 5.5 5 7.5 5c1.54 0 3.04.99 3.57 2.36h1.87C13.46 5.99 14.96 5 16.5 5c2 0 3.5 1.5 3.5 3.5 0 2.89-3.14 5.74-7.9 10.05z"></path></g><g id="feedback"><path d="M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-7 12h-2v-2h2v2zm0-4h-2V6h2v4z"></path></g><g id="file-download"><path d="M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"></path></g><g id="file-upload"><path d="M9 16h6v-6h4l-7-7-7 7h4zm-4 2h14v2H5z"></path></g><g id="filter-list"><path d="M10 18h4v-2h-4v2zM3 6v2h18V6H3zm3 7h12v-2H6v2z"></path></g><g id="find-in-page"><path d="M20 19.59V8l-6-6H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c.45 0 .85-.15 1.19-.4l-4.43-4.43c-.8.52-1.74.83-2.76.83-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5c0 1.02-.31 1.96-.83 2.75L20 19.59zM9 13c0 1.66 1.34 3 3 3s3-1.34 3-3-1.34-3-3-3-3 1.34-3 3z"></path></g><g id="find-replace"><path d="M11 6c1.38 0 2.63.56 3.54 1.46L12 10h6V4l-2.05 2.05C14.68 4.78 12.93 4 11 4c-3.53 0-6.43 2.61-6.92 6H6.1c.46-2.28 2.48-4 4.9-4zm5.64 9.14c.66-.9 1.12-1.97 1.28-3.14H15.9c-.46 2.28-2.48 4-4.9 4-1.38 0-2.63-.56-3.54-1.46L10 12H4v6l2.05-2.05C7.32 17.22 9.07 18 11 18c1.55 0 2.98-.51 4.14-1.36L20 21.49 21.49 20l-4.85-4.86z"></path></g><g id="fingerprint"><path d="M17.81 4.47c-.08 0-.16-.02-.23-.06C15.66 3.42 14 3 12.01 3c-1.98 0-3.86.47-5.57 1.41-.24.13-.54.04-.68-.2-.13-.24-.04-.55.2-.68C7.82 2.52 9.86 2 12.01 2c2.13 0 3.99.47 6.03 1.52.25.13.34.43.21.67-.09.18-.26.28-.44.28zM3.5 9.72c-.1 0-.2-.03-.29-.09-.23-.16-.28-.47-.12-.7.99-1.4 2.25-2.5 3.75-3.27C9.98 4.04 14 4.03 17.15 5.65c1.5.77 2.76 1.86 3.75 3.25.16.22.11.54-.12.7-.23.16-.54.11-.7-.12-.9-1.26-2.04-2.25-3.39-2.94-2.87-1.47-6.54-1.47-9.4.01-1.36.7-2.5 1.7-3.4 2.96-.08.14-.23.21-.39.21zm6.25 12.07c-.13 0-.26-.05-.35-.15-.87-.87-1.34-1.43-2.01-2.64-.69-1.23-1.05-2.73-1.05-4.34 0-2.97 2.54-5.39 5.66-5.39s5.66 2.42 5.66 5.39c0 .28-.22.5-.5.5s-.5-.22-.5-.5c0-2.42-2.09-4.39-4.66-4.39-2.57 0-4.66 1.97-4.66 4.39 0 1.44.32 2.77.93 3.85.64 1.15 1.08 1.64 1.85 2.42.19.2.19.51 0 .71-.11.1-.24.15-.37.15zm7.17-1.85c-1.19 0-2.24-.3-3.1-.89-1.49-1.01-2.38-2.65-2.38-4.39 0-.28.22-.5.5-.5s.5.22.5.5c0 1.41.72 2.74 1.94 3.56.71.48 1.54.71 2.54.71.24 0 .64-.03 1.04-.1.27-.05.53.13.58.41.05.27-.13.53-.41.58-.57.11-1.07.12-1.21.12zM14.91 22c-.04 0-.09-.01-.13-.02-1.59-.44-2.63-1.03-3.72-2.1-1.4-1.39-2.17-3.24-2.17-5.22 0-1.62 1.38-2.94 3.08-2.94 1.7 0 3.08 1.32 3.08 2.94 0 1.07.93 1.94 2.08 1.94s2.08-.87 2.08-1.94c0-3.77-3.25-6.83-7.25-6.83-2.84 0-5.44 1.58-6.61 4.03-.39.81-.59 1.76-.59 2.8 0 .78.07 2.01.67 3.61.1.26-.03.55-.29.64-.26.1-.55-.04-.64-.29-.49-1.31-.73-2.61-.73-3.96 0-1.2.23-2.29.68-3.24 1.33-2.79 4.28-4.6 7.51-4.6 4.55 0 8.25 3.51 8.25 7.83 0 1.62-1.38 2.94-3.08 2.94s-3.08-1.32-3.08-2.94c0-1.07-.93-1.94-2.08-1.94s-2.08.87-2.08 1.94c0 1.71.66 3.31 1.87 4.51.95.94 1.86 1.46 3.27 1.85.27.07.42.35.35.61-.05.23-.26.38-.47.38z"></path></g><g id="first-page"><path d="M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"></path></g><g id="flag"><path d="M14.4 6L14 4H5v17h2v-7h5.6l.4 2h7V6z"></path></g><g id="flight-land"><path d="M2.5 19h19v2h-19zm7.18-5.73l4.35 1.16 5.31 1.42c.8.21 1.62-.26 1.84-1.06.21-.8-.26-1.62-1.06-1.84l-5.31-1.42-2.76-9.02L10.12 2v8.28L5.15 8.95l-.93-2.32-1.45-.39v5.17l1.6.43 5.31 1.43z"></path></g><g id="flight-takeoff"><path d="M2.5 19h19v2h-19zm19.57-9.36c-.21-.8-1.04-1.28-1.84-1.06L14.92 10l-6.9-6.43-1.93.51 4.14 7.17-4.97 1.33-1.97-1.54-1.45.39 1.82 3.16.77 1.33 1.6-.43 5.31-1.42 4.35-1.16L21 11.49c.81-.23 1.28-1.05 1.07-1.85z"></path></g><g id="flip-to-back"><path d="M9 7H7v2h2V7zm0 4H7v2h2v-2zm0-8c-1.11 0-2 .9-2 2h2V3zm4 12h-2v2h2v-2zm6-12v2h2c0-1.1-.9-2-2-2zm-6 0h-2v2h2V3zM9 17v-2H7c0 1.1.89 2 2 2zm10-4h2v-2h-2v2zm0-4h2V7h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2zM5 7H3v12c0 1.1.89 2 2 2h12v-2H5V7zm10-2h2V3h-2v2zm0 12h2v-2h-2v2z"></path></g><g id="flip-to-front"><path d="M3 13h2v-2H3v2zm0 4h2v-2H3v2zm2 4v-2H3c0 1.1.89 2 2 2zM3 9h2V7H3v2zm12 12h2v-2h-2v2zm4-18H9c-1.11 0-2 .9-2 2v10c0 1.1.89 2 2 2h10c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 12H9V5h10v10zm-8 6h2v-2h-2v2zm-4 0h2v-2H7v2z"></path></g><g id="folder"><path d="M10 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8l-2-2z"></path></g><g id="folder-open"><path d="M20 6h-8l-2-2H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm0 12H4V8h16v10z"></path></g><g id="folder-shared"><path d="M20 6h-8l-2-2H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm-5 3c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2zm4 8h-8v-1c0-1.33 2.67-2 4-2s4 .67 4 2v1z"></path></g><g id="font-download"><path d="M9.93 13.5h4.14L12 7.98zM20 2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-4.05 16.5l-1.14-3H9.17l-1.12 3H5.96l5.11-13h1.86l5.11 13h-2.09z"></path></g><g id="forward"><path d="M12 8V4l8 8-8 8v-4H4V8z"></path></g><g id="fullscreen"><path d="M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"></path></g><g id="fullscreen-exit"><path d="M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z"></path></g><g id="g-translate"><path d="M20 5h-9.12L10 2H4c-1.1 0-2 .9-2 2v13c0 1.1.9 2 2 2h7l1 3h8c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zM7.17 14.59c-2.25 0-4.09-1.83-4.09-4.09s1.83-4.09 4.09-4.09c1.04 0 1.99.37 2.74 1.07l.07.06-1.23 1.18-.06-.05c-.29-.27-.78-.59-1.52-.59-1.31 0-2.38 1.09-2.38 2.42s1.07 2.42 2.38 2.42c1.37 0 1.96-.87 2.12-1.46H7.08V9.91h3.95l.01.07c.04.21.05.4.05.61 0 2.35-1.61 4-3.92 4zm6.03-1.71c.33.6.74 1.18 1.19 1.7l-.54.53-.65-2.23zm.77-.76h-.99l-.31-1.04h3.99s-.34 1.31-1.56 2.74c-.52-.62-.89-1.23-1.13-1.7zM21 20c0 .55-.45 1-1 1h-7l2-2-.81-2.77.92-.92L17.79 18l.73-.73-2.71-2.68c.9-1.03 1.6-2.25 1.92-3.51H19v-1.04h-3.64V9h-1.04v1.04h-1.96L11.18 6H20c.55 0 1 .45 1 1v13z"></path></g><g id="gavel"><path d="M1 21h12v2H1zM5.245 8.07l2.83-2.827 14.14 14.142-2.828 2.828zM12.317 1l5.657 5.656-2.83 2.83-5.654-5.66zM3.825 9.485l5.657 5.657-2.828 2.828-5.657-5.657z"></path></g><g id="gesture"><path d="M4.59 6.89c.7-.71 1.4-1.35 1.71-1.22.5.2 0 1.03-.3 1.52-.25.42-2.86 3.89-2.86 6.31 0 1.28.48 2.34 1.34 2.98.75.56 1.74.73 2.64.46 1.07-.31 1.95-1.4 3.06-2.77 1.21-1.49 2.83-3.44 4.08-3.44 1.63 0 1.65 1.01 1.76 1.79-3.78.64-5.38 3.67-5.38 5.37 0 1.7 1.44 3.09 3.21 3.09 1.63 0 4.29-1.33 4.69-6.1H21v-2.5h-2.47c-.15-1.65-1.09-4.2-4.03-4.2-2.25 0-4.18 1.91-4.94 2.84-.58.73-2.06 2.48-2.29 2.72-.25.3-.68.84-1.11.84-.45 0-.72-.83-.36-1.92.35-1.09 1.4-2.86 1.85-3.52.78-1.14 1.3-1.92 1.3-3.28C8.95 3.69 7.31 3 6.44 3 5.12 3 3.97 4 3.72 4.25c-.36.36-.66.66-.88.93l1.75 1.71zm9.29 11.66c-.31 0-.74-.26-.74-.72 0-.6.73-2.2 2.87-2.76-.3 2.69-1.43 3.48-2.13 3.48z"></path></g><g id="get-app"><path d="M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"></path></g><g id="gif"><path d="M11.5 9H13v6h-1.5zM9 9H6c-.6 0-1 .5-1 1v4c0 .5.4 1 1 1h3c.6 0 1-.5 1-1v-2H8.5v1.5h-2v-3H10V10c0-.5-.4-1-1-1zm10 1.5V9h-4.5v6H16v-2h2v-1.5h-2v-1z"></path></g><g id="grade"><path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"></path></g><g id="group-work"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM8 17.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5zM9.5 8c0-1.38 1.12-2.5 2.5-2.5s2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5S9.5 9.38 9.5 8zm6.5 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"></path></g><g id="help"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75l-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z"></path></g><g id="help-outline"><path d="M11 18h2v-2h-2v2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4z"></path></g><g id="highlight-off"><path d="M14.59 8L12 10.59 9.41 8 8 9.41 10.59 12 8 14.59 9.41 16 12 13.41 14.59 16 16 14.59 13.41 12 16 9.41 14.59 8zM12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"></path></g><g id="history"><path d="M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9zm-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8H12z"></path></g><g id="home"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"></path></g><g id="hourglass-empty"><path d="M6 2v6h.01L6 8.01 10 12l-4 4 .01.01H6V22h12v-5.99h-.01L18 16l-4-4 4-3.99-.01-.01H18V2H6zm10 14.5V20H8v-3.5l4-4 4 4zm-4-5l-4-4V4h8v3.5l-4 4z"></path></g><g id="hourglass-full"><path d="M6 2v6h.01L6 8.01 10 12l-4 4 .01.01H6V22h12v-5.99h-.01L18 16l-4-4 4-3.99-.01-.01H18V2H6z"></path></g><g id="http"><path d="M4.5 11h-2V9H1v6h1.5v-2.5h2V15H6V9H4.5v2zm2.5-.5h1.5V15H10v-4.5h1.5V9H7v1.5zm5.5 0H14V15h1.5v-4.5H17V9h-4.5v1.5zm9-1.5H18v6h1.5v-2h2c.8 0 1.5-.7 1.5-1.5v-1c0-.8-.7-1.5-1.5-1.5zm0 2.5h-2v-1h2v1z"></path></g><g id="https"><path d="M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z"></path></g><g id="important-devices"><path d="M23 11.01L18 11c-.55 0-1 .45-1 1v9c0 .55.45 1 1 1h5c.55 0 1-.45 1-1v-9c0-.55-.45-.99-1-.99zM23 20h-5v-7h5v7zM20 2H2C.89 2 0 2.89 0 4v12c0 1.1.89 2 2 2h7v2H7v2h8v-2h-2v-2h2v-2H2V4h18v5h2V4c0-1.11-.9-2-2-2zm-8.03 7L11 6l-.97 3H7l2.47 1.76-.94 2.91 2.47-1.8 2.47 1.8-.94-2.91L15 9h-3.03z"></path></g><g id="inbox"><path d="M19 3H4.99c-1.11 0-1.98.89-1.98 2L3 19c0 1.1.88 2 1.99 2H19c1.1 0 2-.9 2-2V5c0-1.11-.9-2-2-2zm0 12h-4c0 1.66-1.35 3-3 3s-3-1.34-3-3H4.99V5H19v10z"></path></g><g id="indeterminate-check-box"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"></path></g><g id="info"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"></path></g><g id="info-outline"><path d="M11 17h2v-6h-2v6zm1-15C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zM11 9h2V7h-2v2z"></path></g><g id="input"><path d="M21 3.01H3c-1.1 0-2 .9-2 2V9h2V4.99h18v14.03H3V15H1v4.01c0 1.1.9 1.98 2 1.98h18c1.1 0 2-.88 2-1.98v-14c0-1.11-.9-2-2-2zM11 16l4-4-4-4v3H1v2h10v3z"></path></g><g id="invert-colors"><path d="M17.66 7.93L12 2.27 6.34 7.93c-3.12 3.12-3.12 8.19 0 11.31C7.9 20.8 9.95 21.58 12 21.58c2.05 0 4.1-.78 5.66-2.34 3.12-3.12 3.12-8.19 0-11.31zM12 19.59c-1.6 0-3.11-.62-4.24-1.76C6.62 16.69 6 15.19 6 13.59s.62-3.11 1.76-4.24L12 5.1v14.49z"></path></g><g id="label"><path d="M17.63 5.84C17.27 5.33 16.67 5 16 5L5 5.01C3.9 5.01 3 5.9 3 7v10c0 1.1.9 1.99 2 1.99L16 19c.67 0 1.27-.33 1.63-.84L22 12l-4.37-6.16z"></path></g><g id="label-outline"><path d="M17.63 5.84C17.27 5.33 16.67 5 16 5L5 5.01C3.9 5.01 3 5.9 3 7v10c0 1.1.9 1.99 2 1.99L16 19c.67 0 1.27-.33 1.63-.84L22 12l-4.37-6.16zM16 17H5V7h11l3.55 5L16 17z"></path></g><g id="language"><path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zm6.93 6h-2.95c-.32-1.25-.78-2.45-1.38-3.56 1.84.63 3.37 1.91 4.33 3.56zM12 4.04c.83 1.2 1.48 2.53 1.91 3.96h-3.82c.43-1.43 1.08-2.76 1.91-3.96zM4.26 14C4.1 13.36 4 12.69 4 12s.1-1.36.26-2h3.38c-.08.66-.14 1.32-.14 2 0 .68.06 1.34.14 2H4.26zm.82 2h2.95c.32 1.25.78 2.45 1.38 3.56-1.84-.63-3.37-1.9-4.33-3.56zm2.95-8H5.08c.96-1.66 2.49-2.93 4.33-3.56C8.81 5.55 8.35 6.75 8.03 8zM12 19.96c-.83-1.2-1.48-2.53-1.91-3.96h3.82c-.43 1.43-1.08 2.76-1.91 3.96zM14.34 14H9.66c-.09-.66-.16-1.32-.16-2 0-.68.07-1.35.16-2h4.68c.09.65.16 1.32.16 2 0 .68-.07 1.34-.16 2zm.25 5.56c.6-1.11 1.06-2.31 1.38-3.56h2.95c-.96 1.65-2.49 2.93-4.33 3.56zM16.36 14c.08-.66.14-1.32.14-2 0-.68-.06-1.34-.14-2h3.38c.16.64.26 1.31.26 2s-.1 1.36-.26 2h-3.38z"></path></g><g id="last-page"><path d="M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"></path></g><g id="launch"><path d="M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z"></path></g><g id="lightbulb-outline"><path d="M9 21c0 .55.45 1 1 1h4c.55 0 1-.45 1-1v-1H9v1zm3-19C8.14 2 5 5.14 5 9c0 2.38 1.19 4.47 3 5.74V17c0 .55.45 1 1 1h6c.55 0 1-.45 1-1v-2.26c1.81-1.27 3-3.36 3-5.74 0-3.86-3.14-7-7-7zm2.85 11.1l-.85.6V16h-4v-2.3l-.85-.6C7.8 12.16 7 10.63 7 9c0-2.76 2.24-5 5-5s5 2.24 5 5c0 1.63-.8 3.16-2.15 4.1z"></path></g><g id="line-style"><path d="M3 16h5v-2H3v2zm6.5 0h5v-2h-5v2zm6.5 0h5v-2h-5v2zM3 20h2v-2H3v2zm4 0h2v-2H7v2zm4 0h2v-2h-2v2zm4 0h2v-2h-2v2zm4 0h2v-2h-2v2zM3 12h8v-2H3v2zm10 0h8v-2h-8v2zM3 4v4h18V4H3z"></path></g><g id="line-weight"><path d="M3 17h18v-2H3v2zm0 3h18v-1H3v1zm0-7h18v-3H3v3zm0-9v4h18V4H3z"></path></g><g id="link"><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"></path></g><g id="list"><path d="M3 13h2v-2H3v2zm0 4h2v-2H3v2zm0-8h2V7H3v2zm4 4h14v-2H7v2zm0 4h14v-2H7v2zM7 7v2h14V7H7z"></path></g><g id="lock"><path d="M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z"></path></g><g id="lock-open"><path d="M12 17c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm6-9h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6h1.9c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm0 12H6V10h12v10z"></path></g><g id="lock-outline"><path d="M12 17c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm6-9h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zM8.9 6c0-1.71 1.39-3.1 3.1-3.1s3.1 1.39 3.1 3.1v2H8.9V6zM18 20H6V10h12v10z"></path></g><g id="low-priority"><path d="M14 5h8v2h-8zm0 5.5h8v2h-8zm0 5.5h8v2h-8zM2 11.5C2 15.08 4.92 18 8.5 18H9v2l3-3-3-3v2h-.5C6.02 16 4 13.98 4 11.5S6.02 7 8.5 7H12V5H8.5C4.92 5 2 7.92 2 11.5z"></path></g><g id="loyalty"><path d="M21.41 11.58l-9-9C12.05 2.22 11.55 2 11 2H4c-1.1 0-2 .9-2 2v7c0 .55.22 1.05.59 1.42l9 9c.36.36.86.58 1.41.58.55 0 1.05-.22 1.41-.59l7-7c.37-.36.59-.86.59-1.41 0-.55-.23-1.06-.59-1.42zM5.5 7C4.67 7 4 6.33 4 5.5S4.67 4 5.5 4 7 4.67 7 5.5 6.33 7 5.5 7zm11.77 8.27L13 19.54l-4.27-4.27C8.28 14.81 8 14.19 8 13.5c0-1.38 1.12-2.5 2.5-2.5.69 0 1.32.28 1.77.74l.73.72.73-.73c.45-.45 1.08-.73 1.77-.73 1.38 0 2.5 1.12 2.5 2.5 0 .69-.28 1.32-.73 1.77z"></path></g><g id="mail"><path d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"></path></g><g id="markunread"><path d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"></path></g><g id="markunread-mailbox"><path d="M20 6H10v6H8V4h6V0H6v6H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2z"></path></g><g id="menu"><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"></path></g><g id="more-horiz"><path d="M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"></path></g><g id="more-vert"><path d="M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"></path></g><g id="motorcycle"><path d="M19.44 9.03L15.41 5H11v2h3.59l2 2H5c-2.8 0-5 2.2-5 5s2.2 5 5 5c2.46 0 4.45-1.69 4.9-4h1.65l2.77-2.77c-.21.54-.32 1.14-.32 1.77 0 2.8 2.2 5 5 5s5-2.2 5-5c0-2.65-1.97-4.77-4.56-4.97zM7.82 15C7.4 16.15 6.28 17 5 17c-1.63 0-3-1.37-3-3s1.37-3 3-3c1.28 0 2.4.85 2.82 2H5v2h2.82zM19 17c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3z"></path></g><g id="move-to-inbox"><path d="M19 3H4.99c-1.11 0-1.98.9-1.98 2L3 19c0 1.1.88 2 1.99 2H19c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 12h-4c0 1.66-1.35 3-3 3s-3-1.34-3-3H4.99V5H19v10zm-3-5h-2V7h-4v3H8l4 4 4-4z"></path></g><g id="next-week"><path d="M20 7h-4V5c0-.55-.22-1.05-.59-1.41C15.05 3.22 14.55 3 14 3h-4c-1.1 0-2 .9-2 2v2H4c-1.1 0-2 .9-2 2v11c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2zM10 5h4v2h-4V5zm1 13.5l-1-1 3-3-3-3 1-1 4 4-4 4z"></path></g><g id="note-add"><path d="M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 14h-3v3h-2v-3H8v-2h3v-3h2v3h3v2zm-3-7V3.5L18.5 9H13z"></path></g><g id="offline-pin"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2zm5 16H7v-2h10v2zm-6.7-4L7 10.7l1.4-1.4 1.9 1.9 5.3-5.3L17 7.3 10.3 14z"></path></g><g id="opacity"><path d="M17.66 8L12 2.35 6.34 8C4.78 9.56 4 11.64 4 13.64s.78 4.11 2.34 5.67 3.61 2.35 5.66 2.35 4.1-.79 5.66-2.35S20 15.64 20 13.64 19.22 9.56 17.66 8zM6 14c.01-2 .62-3.27 1.76-4.4L12 5.27l4.24 4.38C17.38 10.77 17.99 12 18 14H6z"></path></g><g id="open-in-browser"><path d="M19 4H5c-1.11 0-2 .9-2 2v12c0 1.1.89 2 2 2h4v-2H5V8h14v10h-4v2h4c1.1 0 2-.9 2-2V6c0-1.1-.89-2-2-2zm-7 6l-4 4h3v6h2v-6h3l-4-4z"></path></g><g id="open-in-new"><path d="M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z"></path></g><g id="open-with"><path d="M10 9h4V6h3l-5-5-5 5h3v3zm-1 1H6V7l-5 5 5 5v-3h3v-4zm14 2l-5-5v3h-3v4h3v3l5-5zm-9 3h-4v3H7l5 5 5-5h-3v-3z"></path></g><g id="pageview"><path d="M11.5 9C10.12 9 9 10.12 9 11.5s1.12 2.5 2.5 2.5 2.5-1.12 2.5-2.5S12.88 9 11.5 9zM20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-3.21 14.21l-2.91-2.91c-.69.44-1.51.7-2.39.7C9.01 16 7 13.99 7 11.5S9.01 7 11.5 7 16 9.01 16 11.5c0 .88-.26 1.69-.7 2.39l2.91 2.9-1.42 1.42z"></path></g><g id="pan-tool"><path d="M23 5.5V20c0 2.2-1.8 4-4 4h-7.3c-1.08 0-2.1-.43-2.85-1.19L1 14.83s1.26-1.23 1.3-1.25c.22-.19.49-.29.79-.29.22 0 .42.06.6.16.04.01 4.31 2.46 4.31 2.46V4c0-.83.67-1.5 1.5-1.5S11 3.17 11 4v7h1V1.5c0-.83.67-1.5 1.5-1.5S15 .67 15 1.5V11h1V2.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5V11h1V5.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5z"></path></g><g id="payment"><path d="M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2zm0 14H4v-6h16v6zm0-10H4V6h16v2z"></path></g><g id="perm-camera-mic"><path d="M20 5h-3.17L15 3H9L7.17 5H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h7v-2.09c-2.83-.48-5-2.94-5-5.91h2c0 2.21 1.79 4 4 4s4-1.79 4-4h2c0 2.97-2.17 5.43-5 5.91V21h7c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm-6 8c0 1.1-.9 2-2 2s-2-.9-2-2V9c0-1.1.9-2 2-2s2 .9 2 2v4z"></path></g><g id="perm-contact-calendar"><path d="M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm6 12H6v-1c0-2 4-3.1 6-3.1s6 1.1 6 3.1v1z"></path></g><g id="perm-data-setting"><path d="M18.99 11.5c.34 0 .67.03 1 .07L20 0 0 20h11.56c-.04-.33-.07-.66-.07-1 0-4.14 3.36-7.5 7.5-7.5zm3.71 7.99c.02-.16.04-.32.04-.49 0-.17-.01-.33-.04-.49l1.06-.83c.09-.08.12-.21.06-.32l-1-1.73c-.06-.11-.19-.15-.31-.11l-1.24.5c-.26-.2-.54-.37-.85-.49l-.19-1.32c-.01-.12-.12-.21-.24-.21h-2c-.12 0-.23.09-.25.21l-.19 1.32c-.3.13-.59.29-.85.49l-1.24-.5c-.11-.04-.24 0-.31.11l-1 1.73c-.06.11-.04.24.06.32l1.06.83c-.02.16-.03.32-.03.49 0 .17.01.33.03.49l-1.06.83c-.09.08-.12.21-.06.32l1 1.73c.06.11.19.15.31.11l1.24-.5c.26.2.54.37.85.49l.19 1.32c.02.12.12.21.25.21h2c.12 0 .23-.09.25-.21l.19-1.32c.3-.13.59-.29.84-.49l1.25.5c.11.04.24 0 .31-.11l1-1.73c.06-.11.03-.24-.06-.32l-1.07-.83zm-3.71 1.01c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"></path></g><g id="perm-device-information"><path d="M13 7h-2v2h2V7zm0 4h-2v6h2v-6zm4-9.99L7 1c-1.1 0-2 .9-2 2v18c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V3c0-1.1-.9-1.99-2-1.99zM17 19H7V5h10v14z"></path></g><g id="perm-identity"><path d="M12 5.9c1.16 0 2.1.94 2.1 2.1s-.94 2.1-2.1 2.1S9.9 9.16 9.9 8s.94-2.1 2.1-2.1m0 9c2.97 0 6.1 1.46 6.1 2.1v1.1H5.9V17c0-.64 3.13-2.1 6.1-2.1M12 4C9.79 4 8 5.79 8 8s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm0 9c-2.67 0-8 1.34-8 4v3h16v-3c0-2.66-5.33-4-8-4z"></path></g><g id="perm-media"><path d="M2 6H0v5h.01L0 20c0 1.1.9 2 2 2h18v-2H2V6zm20-2h-8l-2-2H6c-1.1 0-1.99.9-1.99 2L4 16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zM7 15l4.5-6 3.5 4.51 2.5-3.01L21 15H7z"></path></g><g id="perm-phone-msg"><path d="M20 15.5c-1.25 0-2.45-.2-3.57-.57-.35-.11-.74-.03-1.02.24l-2.2 2.2c-2.83-1.44-5.15-3.75-6.59-6.58l2.2-2.21c.28-.27.36-.66.25-1.01C8.7 6.45 8.5 5.25 8.5 4c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1 0 9.39 7.61 17 17 17 .55 0 1-.45 1-1v-3.5c0-.55-.45-1-1-1zM12 3v10l3-3h6V3h-9z"></path></g><g id="perm-scan-wifi"><path d="M12 3C6.95 3 3.15 4.85 0 7.23L12 22 24 7.25C20.85 4.87 17.05 3 12 3zm1 13h-2v-6h2v6zm-2-8V6h2v2h-2z"></path></g><g id="pets"><circle cx="4.5" cy="9.5" r="2.5"></circle><circle cx="9" cy="5.5" r="2.5"></circle><circle cx="15" cy="5.5" r="2.5"></circle><circle cx="19.5" cy="9.5" r="2.5"></circle><path d="M17.34 14.86c-.87-1.02-1.6-1.89-2.48-2.91-.46-.54-1.05-1.08-1.75-1.32-.11-.04-.22-.07-.33-.09-.25-.04-.52-.04-.78-.04s-.53 0-.79.05c-.11.02-.22.05-.33.09-.7.24-1.28.78-1.75 1.32-.87 1.02-1.6 1.89-2.48 2.91-1.31 1.31-2.92 2.76-2.62 4.79.29 1.02 1.02 2.03 2.33 2.32.73.15 3.06-.44 5.54-.44h.18c2.48 0 4.81.58 5.54.44 1.31-.29 2.04-1.31 2.33-2.32.31-2.04-1.3-3.49-2.61-4.8z"></path></g><g id="picture-in-picture"><path d="M19 7h-8v6h8V7zm2-4H3c-1.1 0-2 .9-2 2v14c0 1.1.9 1.98 2 1.98h18c1.1 0 2-.88 2-1.98V5c0-1.1-.9-2-2-2zm0 16.01H3V4.98h18v14.03z"></path></g><g id="picture-in-picture-alt"><path d="M19 11h-8v6h8v-6zm4 8V4.98C23 3.88 22.1 3 21 3H3c-1.1 0-2 .88-2 1.98V19c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2zm-2 .02H3V4.97h18v14.05z"></path></g><g id="play-for-work"><path d="M11 5v5.59H7.5l4.5 4.5 4.5-4.5H13V5h-2zm-5 9c0 3.31 2.69 6 6 6s6-2.69 6-6h-2c0 2.21-1.79 4-4 4s-4-1.79-4-4H6z"></path></g><g id="polymer"><path d="M19 4h-4L7.11 16.63 4.5 12 9 4H5L.5 12 5 20h4l7.89-12.63L19.5 12 15 20h4l4.5-8z"></path></g><g id="power-settings-new"><path d="M13 3h-2v10h2V3zm4.83 2.17l-1.42 1.42C17.99 7.86 19 9.81 19 12c0 3.87-3.13 7-7 7s-7-3.13-7-7c0-2.19 1.01-4.14 2.58-5.42L6.17 5.17C4.23 6.82 3 9.26 3 12c0 4.97 4.03 9 9 9s9-4.03 9-9c0-2.74-1.23-5.18-3.17-6.83z"></path></g><g id="pregnant-woman"><path d="M9 4c0-1.11.89-2 2-2s2 .89 2 2-.89 2-2 2-2-.89-2-2zm7 9c-.01-1.34-.83-2.51-2-3 0-1.66-1.34-3-3-3s-3 1.34-3 3v7h2v5h3v-5h3v-4z"></path></g><g id="print"><path d="M19 8H5c-1.66 0-3 1.34-3 3v6h4v4h12v-4h4v-6c0-1.66-1.34-3-3-3zm-3 11H8v-5h8v5zm3-7c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm-1-9H6v4h12V3z"></path></g><g id="query-builder"><path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm.5-13H11v6l5.25 3.15.75-1.23-4.5-2.67z"></path></g><g id="question-answer"><path d="M21 6h-2v9H6v2c0 .55.45 1 1 1h11l4 4V7c0-.55-.45-1-1-1zm-4 6V3c0-.55-.45-1-1-1H3c-.55 0-1 .45-1 1v14l4-4h10c.55 0 1-.45 1-1z"></path></g><g id="radio-button-checked"><path d="M12 7c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zm0-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"></path></g><g id="radio-button-unchecked"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"></path></g><g id="receipt"><path d="M18 17H6v-2h12v2zm0-4H6v-2h12v2zm0-4H6V7h12v2zM3 22l1.5-1.5L6 22l1.5-1.5L9 22l1.5-1.5L12 22l1.5-1.5L15 22l1.5-1.5L18 22l1.5-1.5L21 22V2l-1.5 1.5L18 2l-1.5 1.5L15 2l-1.5 1.5L12 2l-1.5 1.5L9 2 7.5 3.5 6 2 4.5 3.5 3 2v20z"></path></g><g id="record-voice-over"><circle cx="9" cy="9" r="4"></circle><path d="M9 15c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4zm7.76-9.64l-1.68 1.69c.84 1.18.84 2.71 0 3.89l1.68 1.69c2.02-2.02 2.02-5.07 0-7.27zM20.07 2l-1.63 1.63c2.77 3.02 2.77 7.56 0 10.74L20.07 16c3.9-3.89 3.91-9.95 0-14z"></path></g><g id="redeem"><path d="M20 6h-2.18c.11-.31.18-.65.18-1 0-1.66-1.34-3-3-3-1.05 0-1.96.54-2.5 1.35l-.5.67-.5-.68C10.96 2.54 10.05 2 9 2 7.34 2 6 3.34 6 5c0 .35.07.69.18 1H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-5-2c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zM9 4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm11 15H4v-2h16v2zm0-5H4V8h5.08L7 10.83 8.62 12 11 8.76l1-1.36 1 1.36L15.38 12 17 10.83 14.92 8H20v6z"></path></g><g id="redo"><path d="M18.4 10.6C16.55 8.99 14.15 8 11.5 8c-4.65 0-8.58 3.03-9.96 7.22L3.9 16c1.05-3.19 4.05-5.5 7.6-5.5 1.95 0 3.73.72 5.12 1.88L13 16h9V7l-3.6 3.6z"></path></g><g id="refresh"><path d="M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"></path></g><g id="remove"><path d="M19 13H5v-2h14v2z"></path></g><g id="remove-circle"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11H7v-2h10v2z"></path></g><g id="remove-circle-outline"><path d="M7 11v2h10v-2H7zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"></path></g><g id="remove-shopping-cart"><path d="M22.73 22.73L2.77 2.77 2 2l-.73-.73L0 2.54l4.39 4.39 2.21 4.66-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h7.46l1.38 1.38c-.5.36-.83.95-.83 1.62 0 1.1.89 2 1.99 2 .67 0 1.26-.33 1.62-.84L21.46 24l1.27-1.27zM7.42 15c-.14 0-.25-.11-.25-.25l.03-.12.9-1.63h2.36l2 2H7.42zm8.13-2c.75 0 1.41-.41 1.75-1.03l3.58-6.49c.08-.14.12-.31.12-.48 0-.55-.45-1-1-1H6.54l9.01 9zM7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2z"></path></g><g id="reorder"><path d="M3 15h18v-2H3v2zm0 4h18v-2H3v2zm0-8h18V9H3v2zm0-6v2h18V5H3z"></path></g><g id="reply"><path d="M10 9V5l-7 7 7 7v-4.1c5 0 8.5 1.6 11 5.1-1-5-4-10-11-11z"></path></g><g id="reply-all"><path d="M7 8V5l-7 7 7 7v-3l-4-4 4-4zm6 1V5l-7 7 7 7v-4.1c5 0 8.5 1.6 11 5.1-1-5-4-10-11-11z"></path></g><g id="report"><path d="M15.73 3H8.27L3 8.27v7.46L8.27 21h7.46L21 15.73V8.27L15.73 3zM12 17.3c-.72 0-1.3-.58-1.3-1.3 0-.72.58-1.3 1.3-1.3.72 0 1.3.58 1.3 1.3 0 .72-.58 1.3-1.3 1.3zm1-4.3h-2V7h2v6z"></path></g><g id="report-problem"><path d="M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"></path></g><g id="restore"><path d="M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9zm-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8H12z"></path></g><g id="restore-page"><path d="M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm-2 16c-2.05 0-3.81-1.24-4.58-3h1.71c.63.9 1.68 1.5 2.87 1.5 1.93 0 3.5-1.57 3.5-3.5S13.93 9.5 12 9.5c-1.35 0-2.52.78-3.1 1.9l1.6 1.6h-4V9l1.3 1.3C8.69 8.92 10.23 8 12 8c2.76 0 5 2.24 5 5s-2.24 5-5 5z"></path></g><g id="room"><path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"></path></g><g id="rounded-corner"><path d="M19 19h2v2h-2v-2zm0-2h2v-2h-2v2zM3 13h2v-2H3v2zm0 4h2v-2H3v2zm0-8h2V7H3v2zm0-4h2V3H3v2zm4 0h2V3H7v2zm8 16h2v-2h-2v2zm-4 0h2v-2h-2v2zm4 0h2v-2h-2v2zm-8 0h2v-2H7v2zm-4 0h2v-2H3v2zM21 8c0-2.76-2.24-5-5-5h-5v2h5c1.65 0 3 1.35 3 3v5h2V8z"></path></g><g id="rowing"><path d="M8.5 14.5L4 19l1.5 1.5L9 17h2l-2.5-2.5zM15 1c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 20.01L18 24l-2.99-3.01V19.5l-7.1-7.09c-.31.05-.61.07-.91.07v-2.16c1.66.03 3.61-.87 4.67-2.04l1.4-1.55c.19-.21.43-.38.69-.5.29-.14.62-.23.96-.23h.03C15.99 6.01 17 7.02 17 8.26v5.75c0 .84-.35 1.61-.92 2.16l-3.58-3.58v-2.27c-.63.52-1.43 1.02-2.29 1.39L16.5 18H18l3 3.01z"></path></g><g id="save"><path d="M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"></path></g><g id="schedule"><path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm.5-13H11v6l5.25 3.15.75-1.23-4.5-2.67z"></path></g><g id="search"><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"></path></g><g id="select-all"><path d="M3 5h2V3c-1.1 0-2 .9-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2c0-1.1-.9-2-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2zM7 17h10V7H7v10zm2-8h6v6H9V9z"></path></g><g id="send"><path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"></path></g><g id="settings"><path d="M19.43 12.98c.04-.32.07-.64.07-.98s-.03-.66-.07-.98l2.11-1.65c.19-.15.24-.42.12-.64l-2-3.46c-.12-.22-.39-.3-.61-.22l-2.49 1c-.52-.4-1.08-.73-1.69-.98l-.38-2.65C14.46 2.18 14.25 2 14 2h-4c-.25 0-.46.18-.49.42l-.38 2.65c-.61.25-1.17.59-1.69.98l-2.49-1c-.23-.09-.49 0-.61.22l-2 3.46c-.13.22-.07.49.12.64l2.11 1.65c-.04.32-.07.65-.07.98s.03.66.07.98l-2.11 1.65c-.19.15-.24.42-.12.64l2 3.46c.12.22.39.3.61.22l2.49-1c.52.4 1.08.73 1.69.98l.38 2.65c.03.24.24.42.49.42h4c.25 0 .46-.18.49-.42l.38-2.65c.61-.25 1.17-.59 1.69-.98l2.49 1c.23.09.49 0 .61-.22l2-3.46c.12-.22.07-.49-.12-.64l-2.11-1.65zM12 15.5c-1.93 0-3.5-1.57-3.5-3.5s1.57-3.5 3.5-3.5 3.5 1.57 3.5 3.5-1.57 3.5-3.5 3.5z"></path></g><g id="settings-applications"><path d="M12 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm7-7H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-1.75 9c0 .23-.02.46-.05.68l1.48 1.16c.13.11.17.3.08.45l-1.4 2.42c-.09.15-.27.21-.43.15l-1.74-.7c-.36.28-.76.51-1.18.69l-.26 1.85c-.03.17-.18.3-.35.3h-2.8c-.17 0-.32-.13-.35-.29l-.26-1.85c-.43-.18-.82-.41-1.18-.69l-1.74.7c-.16.06-.34 0-.43-.15l-1.4-2.42c-.09-.15-.05-.34.08-.45l1.48-1.16c-.03-.23-.05-.46-.05-.69 0-.23.02-.46.05-.68l-1.48-1.16c-.13-.11-.17-.3-.08-.45l1.4-2.42c.09-.15.27-.21.43-.15l1.74.7c.36-.28.76-.51 1.18-.69l.26-1.85c.03-.17.18-.3.35-.3h2.8c.17 0 .32.13.35.29l.26 1.85c.43.18.82.41 1.18.69l1.74-.7c.16-.06.34 0 .43.15l1.4 2.42c.09.15.05.34-.08.45l-1.48 1.16c.03.23.05.46.05.69z"></path></g><g id="settings-backup-restore"><path d="M14 12c0-1.1-.9-2-2-2s-2 .9-2 2 .9 2 2 2 2-.9 2-2zm-2-9c-4.97 0-9 4.03-9 9H0l4 4 4-4H5c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.51 0-2.91-.49-4.06-1.3l-1.42 1.44C8.04 20.3 9.94 21 12 21c4.97 0 9-4.03 9-9s-4.03-9-9-9z"></path></g><g id="settings-bluetooth"><path d="M11 24h2v-2h-2v2zm-4 0h2v-2H7v2zm8 0h2v-2h-2v2zm2.71-18.29L12 0h-1v7.59L6.41 3 5 4.41 10.59 10 5 15.59 6.41 17 11 12.41V20h1l5.71-5.71-4.3-4.29 4.3-4.29zM13 3.83l1.88 1.88L13 7.59V3.83zm1.88 10.46L13 16.17v-3.76l1.88 1.88z"></path></g><g id="settings-brightness"><path d="M21 3H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16.01H3V4.99h18v14.02zM8 16h2.5l1.5 1.5 1.5-1.5H16v-2.5l1.5-1.5-1.5-1.5V8h-2.5L12 6.5 10.5 8H8v2.5L6.5 12 8 13.5V16zm4-7c1.66 0 3 1.34 3 3s-1.34 3-3 3V9z"></path></g><g id="settings-cell"><path d="M7 24h2v-2H7v2zm4 0h2v-2h-2v2zm4 0h2v-2h-2v2zM16 .01L8 0C6.9 0 6 .9 6 2v16c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V2c0-1.1-.9-1.99-2-1.99zM16 16H8V4h8v12z"></path></g><g id="settings-ethernet"><path d="M7.77 6.76L6.23 5.48.82 12l5.41 6.52 1.54-1.28L3.42 12l4.35-5.24zM7 13h2v-2H7v2zm10-2h-2v2h2v-2zm-6 2h2v-2h-2v2zm6.77-7.52l-1.54 1.28L20.58 12l-4.35 5.24 1.54 1.28L23.18 12l-5.41-6.52z"></path></g><g id="settings-input-antenna"><path d="M12 5c-3.87 0-7 3.13-7 7h2c0-2.76 2.24-5 5-5s5 2.24 5 5h2c0-3.87-3.13-7-7-7zm1 9.29c.88-.39 1.5-1.26 1.5-2.29 0-1.38-1.12-2.5-2.5-2.5S9.5 10.62 9.5 12c0 1.02.62 1.9 1.5 2.29v3.3L7.59 21 9 22.41l3-3 3 3L16.41 21 13 17.59v-3.3zM12 1C5.93 1 1 5.93 1 12h2c0-4.97 4.03-9 9-9s9 4.03 9 9h2c0-6.07-4.93-11-11-11z"></path></g><g id="settings-input-component"><path d="M5 2c0-.55-.45-1-1-1s-1 .45-1 1v4H1v6h6V6H5V2zm4 14c0 1.3.84 2.4 2 2.82V23h2v-4.18c1.16-.41 2-1.51 2-2.82v-2H9v2zm-8 0c0 1.3.84 2.4 2 2.82V23h2v-4.18C6.16 18.4 7 17.3 7 16v-2H1v2zM21 6V2c0-.55-.45-1-1-1s-1 .45-1 1v4h-2v6h6V6h-2zm-8-4c0-.55-.45-1-1-1s-1 .45-1 1v4H9v6h6V6h-2V2zm4 14c0 1.3.84 2.4 2 2.82V23h2v-4.18c1.16-.41 2-1.51 2-2.82v-2h-6v2z"></path></g><g id="settings-input-composite"><path d="M5 2c0-.55-.45-1-1-1s-1 .45-1 1v4H1v6h6V6H5V2zm4 14c0 1.3.84 2.4 2 2.82V23h2v-4.18c1.16-.41 2-1.51 2-2.82v-2H9v2zm-8 0c0 1.3.84 2.4 2 2.82V23h2v-4.18C6.16 18.4 7 17.3 7 16v-2H1v2zM21 6V2c0-.55-.45-1-1-1s-1 .45-1 1v4h-2v6h6V6h-2zm-8-4c0-.55-.45-1-1-1s-1 .45-1 1v4H9v6h6V6h-2V2zm4 14c0 1.3.84 2.4 2 2.82V23h2v-4.18c1.16-.41 2-1.51 2-2.82v-2h-6v2z"></path></g><g id="settings-input-hdmi"><path d="M18 7V4c0-1.1-.9-2-2-2H8c-1.1 0-2 .9-2 2v3H5v6l3 6v3h8v-3l3-6V7h-1zM8 4h8v3h-2V5h-1v2h-2V5h-1v2H8V4z"></path></g><g id="settings-input-svideo"><path d="M8 11.5c0-.83-.67-1.5-1.5-1.5S5 10.67 5 11.5 5.67 13 6.5 13 8 12.33 8 11.5zm7-5c0-.83-.67-1.5-1.5-1.5h-3C9.67 5 9 5.67 9 6.5S9.67 8 10.5 8h3c.83 0 1.5-.67 1.5-1.5zM8.5 15c-.83 0-1.5.67-1.5 1.5S7.67 18 8.5 18s1.5-.67 1.5-1.5S9.33 15 8.5 15zM12 1C5.93 1 1 5.93 1 12s4.93 11 11 11 11-4.93 11-11S18.07 1 12 1zm0 20c-4.96 0-9-4.04-9-9s4.04-9 9-9 9 4.04 9 9-4.04 9-9 9zm5.5-11c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm-2 5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5z"></path></g><g id="settings-overscan"><path d="M12.01 5.5L10 8h4l-1.99-2.5zM18 10v4l2.5-1.99L18 10zM6 10l-2.5 2.01L6 14v-4zm8 6h-4l2.01 2.5L14 16zm7-13H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16.01H3V4.99h18v14.02z"></path></g><g id="settings-phone"><path d="M13 9h-2v2h2V9zm4 0h-2v2h2V9zm3 6.5c-1.25 0-2.45-.2-3.57-.57-.35-.11-.74-.03-1.02.24l-2.2 2.2c-2.83-1.44-5.15-3.75-6.59-6.58l2.2-2.21c.28-.27.36-.66.25-1.01C8.7 6.45 8.5 5.25 8.5 4c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1 0 9.39 7.61 17 17 17 .55 0 1-.45 1-1v-3.5c0-.55-.45-1-1-1zM19 9v2h2V9h-2z"></path></g><g id="settings-power"><path d="M7 24h2v-2H7v2zm4 0h2v-2h-2v2zm2-22h-2v10h2V2zm3.56 2.44l-1.45 1.45C16.84 6.94 18 8.83 18 11c0 3.31-2.69 6-6 6s-6-2.69-6-6c0-2.17 1.16-4.06 2.88-5.12L7.44 4.44C5.36 5.88 4 8.28 4 11c0 4.42 3.58 8 8 8s8-3.58 8-8c0-2.72-1.36-5.12-3.44-6.56zM15 24h2v-2h-2v2z"></path></g><g id="settings-remote"><path d="M15 9H9c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h6c.55 0 1-.45 1-1V10c0-.55-.45-1-1-1zm-3 6c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zM7.05 6.05l1.41 1.41C9.37 6.56 10.62 6 12 6s2.63.56 3.54 1.46l1.41-1.41C15.68 4.78 13.93 4 12 4s-3.68.78-4.95 2.05zM12 0C8.96 0 6.21 1.23 4.22 3.22l1.41 1.41C7.26 3.01 9.51 2 12 2s4.74 1.01 6.36 2.64l1.41-1.41C17.79 1.23 15.04 0 12 0z"></path></g><g id="settings-voice"><path d="M7 24h2v-2H7v2zm5-11c1.66 0 2.99-1.34 2.99-3L15 4c0-1.66-1.34-3-3-3S9 2.34 9 4v6c0 1.66 1.34 3 3 3zm-1 11h2v-2h-2v2zm4 0h2v-2h-2v2zm4-14h-1.7c0 3-2.54 5.1-5.3 5.1S6.7 13 6.7 10H5c0 3.41 2.72 6.23 6 6.72V20h2v-3.28c3.28-.49 6-3.31 6-6.72z"></path></g><g id="shop"><path d="M16 6V4c0-1.11-.89-2-2-2h-4c-1.11 0-2 .89-2 2v2H2v13c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6h-6zm-6-2h4v2h-4V4zM9 18V9l7.5 4L9 18z"></path></g><g id="shop-two"><path d="M3 9H1v11c0 1.11.89 2 2 2h14c1.11 0 2-.89 2-2H3V9zm15-4V3c0-1.11-.89-2-2-2h-4c-1.11 0-2 .89-2 2v2H5v11c0 1.11.89 2 2 2h14c1.11 0 2-.89 2-2V5h-5zm-6-2h4v2h-4V3zm0 12V8l5.5 3-5.5 4z"></path></g><g id="shopping-basket"><path d="M17.21 9l-4.38-6.56c-.19-.28-.51-.42-.83-.42-.32 0-.64.14-.83.43L6.79 9H2c-.55 0-1 .45-1 1 0 .09.01.18.04.27l2.54 9.27c.23.84 1 1.46 1.92 1.46h13c.92 0 1.69-.62 1.93-1.46l2.54-9.27L23 10c0-.55-.45-1-1-1h-4.79zM9 9l3-4.4L15 9H9zm3 8c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z"></path></g><g id="shopping-cart"><path d="M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zM1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.58-6.49c.08-.14.12-.31.12-.48 0-.55-.45-1-1-1H5.21l-.94-2H1zm16 16c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2z"></path></g><g id="sort"><path d="M3 18h6v-2H3v2zM3 6v2h18V6H3zm0 7h12v-2H3v2z"></path></g><g id="speaker-notes"><path d="M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM8 14H6v-2h2v2zm0-3H6V9h2v2zm0-3H6V6h2v2zm7 6h-5v-2h5v2zm3-3h-8V9h8v2zm0-3h-8V6h8v2z"></path></g><g id="speaker-notes-off"><path d="M10.54 11l-.54-.54L7.54 8 6 6.46 2.38 2.84 1.27 1.73 0 3l2.01 2.01L2 22l4-4h9l5.73 5.73L22 22.46 17.54 18l-7-7zM8 14H6v-2h2v2zm-2-3V9l2 2H6zm14-9H4.08L10 7.92V6h8v2h-7.92l1 1H18v2h-4.92l6.99 6.99C21.14 17.95 22 17.08 22 16V4c0-1.1-.9-2-2-2z"></path></g><g id="spellcheck"><path d="M12.45 16h2.09L9.43 3H7.57L2.46 16h2.09l1.12-3h5.64l1.14 3zm-6.02-5L8.5 5.48 10.57 11H6.43zm15.16.59l-8.09 8.09L9.83 16l-1.41 1.41 5.09 5.09L23 13l-1.41-1.41z"></path></g><g id="star"><path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"></path></g><g id="star-border"><path d="M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"></path></g><g id="star-half"><path d="M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4V6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"></path></g><g id="stars"><path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zm4.24 16L12 15.45 7.77 18l1.12-4.81-3.73-3.23 4.92-.42L12 5l1.92 4.53 4.92.42-3.73 3.23L16.23 18z"></path></g><g id="store"><path d="M20 4H4v2h16V4zm1 10v-2l-1-5H4l-1 5v2h1v6h10v-6h4v6h2v-6h1zm-9 4H6v-4h6v4z"></path></g><g id="subdirectory-arrow-left"><path d="M11 9l1.42 1.42L8.83 14H18V4h2v12H8.83l3.59 3.58L11 21l-6-6 6-6z"></path></g><g id="subdirectory-arrow-right"><path d="M19 15l-6 6-1.42-1.42L15.17 16H4V4h2v10h9.17l-3.59-3.58L13 9l6 6z"></path></g><g id="subject"><path d="M14 17H4v2h10v-2zm6-8H4v2h16V9zM4 15h16v-2H4v2zM4 5v2h16V5H4z"></path></g><g id="supervisor-account"><path d="M16.5 12c1.38 0 2.49-1.12 2.49-2.5S17.88 7 16.5 7C15.12 7 14 8.12 14 9.5s1.12 2.5 2.5 2.5zM9 11c1.66 0 2.99-1.34 2.99-3S10.66 5 9 5C7.34 5 6 6.34 6 8s1.34 3 3 3zm7.5 3c-1.83 0-5.5.92-5.5 2.75V19h11v-2.25c0-1.83-3.67-2.75-5.5-2.75zM9 13c-2.33 0-7 1.17-7 3.5V19h7v-2.25c0-.85.33-2.34 2.37-3.47C10.5 13.1 9.66 13 9 13z"></path></g><g id="swap-horiz"><path d="M6.99 11L3 15l3.99 4v-3H14v-2H6.99v-3zM21 9l-3.99-4v3H10v2h7.01v3L21 9z"></path></g><g id="swap-vert"><path d="M16 17.01V10h-2v7.01h-3L15 21l4-3.99h-3zM9 3L5 6.99h3V14h2V6.99h3L9 3z"></path></g><g id="swap-vertical-circle"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM6.5 9L10 5.5 13.5 9H11v4H9V9H6.5zm11 6L14 18.5 10.5 15H13v-4h2v4h2.5z"></path></g><g id="system-update-alt"><path d="M12 16.5l4-4h-3v-9h-2v9H8l4 4zm9-13h-6v1.99h6v14.03H3V5.49h6V3.5H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2v-14c0-1.1-.9-2-2-2z"></path></g><g id="tab"><path d="M21 3H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H3V5h10v4h8v10z"></path></g><g id="tab-unselected"><path d="M1 9h2V7H1v2zm0 4h2v-2H1v2zm0-8h2V3c-1.1 0-2 .9-2 2zm8 16h2v-2H9v2zm-8-4h2v-2H1v2zm2 4v-2H1c0 1.1.9 2 2 2zM21 3h-8v6h10V5c0-1.1-.9-2-2-2zm0 14h2v-2h-2v2zM9 5h2V3H9v2zM5 21h2v-2H5v2zM5 5h2V3H5v2zm16 16c1.1 0 2-.9 2-2h-2v2zm0-8h2v-2h-2v2zm-8 8h2v-2h-2v2zm4 0h2v-2h-2v2z"></path></g><g id="text-format"><path d="M5 17v2h14v-2H5zm4.5-4.2h5l.9 2.2h2.1L12.75 4h-1.5L6.5 15h2.1l.9-2.2zM12 5.98L13.87 11h-3.74L12 5.98z"></path></g><g id="theaters"><path d="M18 3v2h-2V3H8v2H6V3H4v18h2v-2h2v2h8v-2h2v2h2V3h-2zM8 17H6v-2h2v2zm0-4H6v-2h2v2zm0-4H6V7h2v2zm10 8h-2v-2h2v2zm0-4h-2v-2h2v2zm0-4h-2V7h2v2z"></path></g><g id="thumb-down"><path d="M15 3H6c-.83 0-1.54.5-1.84 1.22l-3.02 7.05c-.09.23-.14.47-.14.73v1.91l.01.01L1 14c0 1.1.9 2 2 2h6.31l-.95 4.57-.03.32c0 .41.17.79.44 1.06L9.83 23l6.59-6.59c.36-.36.58-.86.58-1.41V5c0-1.1-.9-2-2-2zm4 0v12h4V3h-4z"></path></g><g id="thumb-up"><path d="M1 21h4V9H1v12zm22-11c0-1.1-.9-2-2-2h-6.31l.95-4.57.03-.32c0-.41-.17-.79-.44-1.06L14.17 1 7.59 7.59C7.22 7.95 7 8.45 7 9v10c0 1.1.9 2 2 2h9c.83 0 1.54-.5 1.84-1.22l3.02-7.05c.09-.23.14-.47.14-.73v-1.91l-.01-.01L23 10z"></path></g><g id="thumbs-up-down"><path d="M12 6c0-.55-.45-1-1-1H5.82l.66-3.18.02-.23c0-.31-.13-.59-.33-.8L5.38 0 .44 4.94C.17 5.21 0 5.59 0 6v6.5c0 .83.67 1.5 1.5 1.5h6.75c.62 0 1.15-.38 1.38-.91l2.26-5.29c.07-.17.11-.36.11-.55V6zm10.5 4h-6.75c-.62 0-1.15.38-1.38.91l-2.26 5.29c-.07.17-.11.36-.11.55V18c0 .55.45 1 1 1h5.18l-.66 3.18-.02.24c0 .31.13.59.33.8l.79.78 4.94-4.94c.27-.27.44-.65.44-1.06v-6.5c0-.83-.67-1.5-1.5-1.5z"></path></g><g id="timeline"><path d="M23 8c0 1.1-.9 2-2 2-.18 0-.35-.02-.51-.07l-3.56 3.55c.05.16.07.34.07.52 0 1.1-.9 2-2 2s-2-.9-2-2c0-.18.02-.36.07-.52l-2.55-2.55c-.16.05-.34.07-.52.07s-.36-.02-.52-.07l-4.55 4.56c.05.16.07.33.07.51 0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2c.18 0 .35.02.51.07l4.56-4.55C8.02 9.36 8 9.18 8 9c0-1.1.9-2 2-2s2 .9 2 2c0 .18-.02.36-.07.52l2.55 2.55c.16-.05.34-.07.52-.07s.36.02.52.07l3.55-3.56C19.02 8.35 19 8.18 19 8c0-1.1.9-2 2-2s2 .9 2 2z"></path></g><g id="toc"><path d="M3 9h14V7H3v2zm0 4h14v-2H3v2zm0 4h14v-2H3v2zm16 0h2v-2h-2v2zm0-10v2h2V7h-2zm0 6h2v-2h-2v2z"></path></g><g id="today"><path d="M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"></path></g><g id="toll"><path d="M15 4c-4.42 0-8 3.58-8 8s3.58 8 8 8 8-3.58 8-8-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6s2.69-6 6-6 6 2.69 6 6-2.69 6-6 6zM3 12c0-2.61 1.67-4.83 4-5.65V4.26C3.55 5.15 1 8.27 1 12s2.55 6.85 6 7.74v-2.09c-2.33-.82-4-3.04-4-5.65z"></path></g><g id="touch-app"><path d="M9 11.24V7.5C9 6.12 10.12 5 11.5 5S14 6.12 14 7.5v3.74c1.21-.81 2-2.18 2-3.74C16 5.01 13.99 3 11.5 3S7 5.01 7 7.5c0 1.56.79 2.93 2 3.74zm9.84 4.63l-4.54-2.26c-.17-.07-.35-.11-.54-.11H13v-6c0-.83-.67-1.5-1.5-1.5S10 6.67 10 7.5v10.74l-3.43-.72c-.08-.01-.15-.03-.24-.03-.31 0-.59.13-.79.33l-.79.8 4.94 4.94c.27.27.65.44 1.06.44h6.79c.75 0 1.33-.55 1.44-1.28l.75-5.27c.01-.07.02-.14.02-.2 0-.62-.38-1.16-.91-1.38z"></path></g><g id="track-changes"><path d="M19.07 4.93l-1.41 1.41C19.1 7.79 20 9.79 20 12c0 4.42-3.58 8-8 8s-8-3.58-8-8c0-4.08 3.05-7.44 7-7.93v2.02C8.16 6.57 6 9.03 6 12c0 3.31 2.69 6 6 6s6-2.69 6-6c0-1.66-.67-3.16-1.76-4.24l-1.41 1.41C15.55 9.9 16 10.9 16 12c0 2.21-1.79 4-4 4s-4-1.79-4-4c0-1.86 1.28-3.41 3-3.86v2.14c-.6.35-1 .98-1 1.72 0 1.1.9 2 2 2s2-.9 2-2c0-.74-.4-1.38-1-1.72V2h-1C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10c0-2.76-1.12-5.26-2.93-7.07z"></path></g><g id="translate"><path d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></g><g id="trending-down"><path d="M16 18l2.29-2.29-4.88-4.88-4 4L2 7.41 3.41 6l6 6 4-4 6.3 6.29L22 12v6z"></path></g><g id="trending-flat"><path d="M22 12l-4-4v3H3v2h15v3z"></path></g><g id="trending-up"><path d="M16 6l2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6z"></path></g><g id="turned-in"><path d="M17 3H7c-1.1 0-1.99.9-1.99 2L5 21l7-3 7 3V5c0-1.1-.9-2-2-2z"></path></g><g id="turned-in-not"><path d="M17 3H7c-1.1 0-1.99.9-1.99 2L5 21l7-3 7 3V5c0-1.1-.9-2-2-2zm0 15l-5-2.18L7 18V5h10v13z"></path></g><g id="unarchive"><path d="M20.55 5.22l-1.39-1.68C18.88 3.21 18.47 3 18 3H6c-.47 0-.88.21-1.15.55L3.46 5.22C3.17 5.57 3 6.01 3 6.5V19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6.5c0-.49-.17-.93-.45-1.28zM12 9.5l5.5 5.5H14v2h-4v-2H6.5L12 9.5zM5.12 5l.82-1h12l.93 1H5.12z"></path></g><g id="undo"><path d="M12.5 8c-2.65 0-5.05.99-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8z"></path></g><g id="unfold-less"><path d="M7.41 18.59L8.83 20 12 16.83 15.17 20l1.41-1.41L12 14l-4.59 4.59zm9.18-13.18L15.17 4 12 7.17 8.83 4 7.41 5.41 12 10l4.59-4.59z"></path></g><g id="unfold-more"><path d="M12 5.83L15.17 9l1.41-1.41L12 3 7.41 7.59 8.83 9 12 5.83zm0 12.34L8.83 15l-1.41 1.41L12 21l4.59-4.59L15.17 15 12 18.17z"></path></g><g id="update"><path d="M21 10.12h-6.78l2.74-2.82c-2.73-2.7-7.15-2.8-9.88-.1-2.73 2.71-2.73 7.08 0 9.79 2.73 2.71 7.15 2.71 9.88 0C18.32 15.65 19 14.08 19 12.1h2c0 1.98-.88 4.55-2.64 6.29-3.51 3.48-9.21 3.48-12.72 0-3.5-3.47-3.53-9.11-.02-12.58 3.51-3.47 9.14-3.47 12.65 0L21 3v7.12zM12.5 8v4.25l3.5 2.08-.72 1.21L11 13V8h1.5z"></path></g><g id="verified-user"><path d="M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm-2 16l-4-4 1.41-1.41L10 14.17l6.59-6.59L18 9l-8 8z"></path></g><g id="view-agenda"><path d="M20 13H3c-.55 0-1 .45-1 1v6c0 .55.45 1 1 1h17c.55 0 1-.45 1-1v-6c0-.55-.45-1-1-1zm0-10H3c-.55 0-1 .45-1 1v6c0 .55.45 1 1 1h17c.55 0 1-.45 1-1V4c0-.55-.45-1-1-1z"></path></g><g id="view-array"><path d="M4 18h3V5H4v13zM18 5v13h3V5h-3zM8 18h9V5H8v13z"></path></g><g id="view-carousel"><path d="M7 19h10V4H7v15zm-5-2h4V6H2v11zM18 6v11h4V6h-4z"></path></g><g id="view-column"><path d="M10 18h5V5h-5v13zm-6 0h5V5H4v13zM16 5v13h5V5h-5z"></path></g><g id="view-day"><path d="M2 21h19v-3H2v3zM20 8H3c-.55 0-1 .45-1 1v6c0 .55.45 1 1 1h17c.55 0 1-.45 1-1V9c0-.55-.45-1-1-1zM2 3v3h19V3H2z"></path></g><g id="view-headline"><path d="M4 15h16v-2H4v2zm0 4h16v-2H4v2zm0-8h16V9H4v2zm0-6v2h16V5H4z"></path></g><g id="view-list"><path d="M4 14h4v-4H4v4zm0 5h4v-4H4v4zM4 9h4V5H4v4zm5 5h12v-4H9v4zm0 5h12v-4H9v4zM9 5v4h12V5H9z"></path></g><g id="view-module"><path d="M4 11h5V5H4v6zm0 7h5v-6H4v6zm6 0h5v-6h-5v6zm6 0h5v-6h-5v6zm-6-7h5V5h-5v6zm6-6v6h5V5h-5z"></path></g><g id="view-quilt"><path d="M10 18h5v-6h-5v6zm-6 0h5V5H4v13zm12 0h5v-6h-5v6zM10 5v6h11V5H10z"></path></g><g id="view-stream"><path d="M4 18h17v-6H4v6zM4 5v6h17V5H4z"></path></g><g id="view-week"><path d="M6 5H3c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h3c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1zm14 0h-3c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h3c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1zm-7 0h-3c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h3c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1z"></path></g><g id="visibility"><path d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"></path></g><g id="visibility-off"><path d="M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"></path></g><g id="warning"><path d="M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"></path></g><g id="watch-later"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2zm4.2 14.2L11 13V7h1.5v5.2l4.5 2.7-.8 1.3z"></path></g><g id="weekend"><path d="M21 10c-1.1 0-2 .9-2 2v3H5v-3c0-1.1-.9-2-2-2s-2 .9-2 2v5c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2v-5c0-1.1-.9-2-2-2zm-3-5H6c-1.1 0-2 .9-2 2v2.15c1.16.41 2 1.51 2 2.82V14h12v-2.03c0-1.3.84-2.4 2-2.82V7c0-1.1-.9-2-2-2z"></path></g><g id="work"><path d="M20 6h-4V4c0-1.11-.89-2-2-2h-4c-1.11 0-2 .89-2 2v2H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-6 0h-4V4h4v2z"></path></g><g id="youtube-searched-for"><path d="M17.01 14h-.8l-.27-.27c.98-1.14 1.57-2.61 1.57-4.23 0-3.59-2.91-6.5-6.5-6.5s-6.5 3-6.5 6.5H2l3.84 4 4.16-4H6.51C6.51 7 8.53 5 11.01 5s4.5 2.01 4.5 4.5c0 2.48-2.02 4.5-4.5 4.5-.65 0-1.26-.14-1.82-.38L7.71 15.1c.97.57 2.09.9 3.3.9 1.61 0 3.08-.59 4.22-1.57l.27.27v.79l5.01 4.99L22 19l-4.99-5z"></path></g><g id="zoom-in"><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zm2.5-4h-2v2H9v-2H7V9h2V7h1v2h2v1z"></path></g><g id="zoom-out"><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zM7 9h5v1H7z"></path></g></defs></svg></iron-iconset-svg><iron-iconset-svg name="social" size="24"><svg><defs><g id="cake"><path d="M12 6c1.11 0 2-.9 2-2 0-.38-.1-.73-.29-1.03L12 0l-1.71 2.97c-.19.3-.29.65-.29 1.03 0 1.1.9 2 2 2zm4.6 9.99l-1.07-1.07-1.08 1.07c-1.3 1.3-3.58 1.31-4.89 0l-1.07-1.07-1.09 1.07C6.75 16.64 5.88 17 4.96 17c-.73 0-1.4-.23-1.96-.61V21c0 .55.45 1 1 1h16c.55 0 1-.45 1-1v-4.61c-.56.38-1.23.61-1.96.61-.92 0-1.79-.36-2.44-1.01zM18 9h-5V7h-2v2H6c-1.66 0-3 1.34-3 3v1.54c0 1.08.88 1.96 1.96 1.96.52 0 1.02-.2 1.38-.57l2.14-2.13 2.13 2.13c.74.74 2.03.74 2.77 0l2.14-2.13 2.13 2.13c.37.37.86.57 1.38.57 1.08 0 1.96-.88 1.96-1.96V12C21 10.34 19.66 9 18 9z"></path></g><g id="domain"><path d="M12 7V3H2v18h20V7H12zM6 19H4v-2h2v2zm0-4H4v-2h2v2zm0-4H4V9h2v2zm0-4H4V5h2v2zm4 12H8v-2h2v2zm0-4H8v-2h2v2zm0-4H8V9h2v2zm0-4H8V5h2v2zm10 12h-8v-2h2v-2h-2v-2h2v-2h-2V9h8v10zm-2-8h-2v2h2v-2zm0 4h-2v2h2v-2z"></path></g><g id="group"><path d="M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z"></path></g><g id="group-add"><path d="M8 10H5V7H3v3H0v2h3v3h2v-3h3v-2zm10 1c1.66 0 2.99-1.34 2.99-3S19.66 5 18 5c-.32 0-.63.05-.91.14.57.81.9 1.79.9 2.86s-.34 2.04-.9 2.86c.28.09.59.14.91.14zm-5 0c1.66 0 2.99-1.34 2.99-3S14.66 5 13 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm6.62 2.16c.83.73 1.38 1.66 1.38 2.84v2h3v-2c0-1.54-2.37-2.49-4.38-2.84zM13 13c-2 0-6 1-6 3v2h12v-2c0-2-4-3-6-3z"></path></g><g id="location-city"><path d="M15 11V5l-3-3-3 3v2H3v14h18V11h-6zm-8 8H5v-2h2v2zm0-4H5v-2h2v2zm0-4H5V9h2v2zm6 8h-2v-2h2v2zm0-4h-2v-2h2v2zm0-4h-2V9h2v2zm0-4h-2V5h2v2zm6 12h-2v-2h2v2zm0-4h-2v-2h2v2z"></path></g><g id="mood"><path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm3.5-9c.83 0 1.5-.67 1.5-1.5S16.33 8 15.5 8 14 8.67 14 9.5s.67 1.5 1.5 1.5zm-7 0c.83 0 1.5-.67 1.5-1.5S9.33 8 8.5 8 7 8.67 7 9.5 7.67 11 8.5 11zm3.5 6.5c2.33 0 4.31-1.46 5.11-3.5H6.89c.8 2.04 2.78 3.5 5.11 3.5z"></path></g><g id="mood-bad"><path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm3.5-9c.83 0 1.5-.67 1.5-1.5S16.33 8 15.5 8 14 8.67 14 9.5s.67 1.5 1.5 1.5zm-7 0c.83 0 1.5-.67 1.5-1.5S9.33 8 8.5 8 7 8.67 7 9.5 7.67 11 8.5 11zm3.5 3c-2.33 0-4.31 1.46-5.11 3.5h10.22c-.8-2.04-2.78-3.5-5.11-3.5z"></path></g><g id="notifications"><path d="M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"></path></g><g id="notifications-active"><path d="M7.58 4.08L6.15 2.65C3.75 4.48 2.17 7.3 2.03 10.5h2c.15-2.65 1.51-4.97 3.55-6.42zm12.39 6.42h2c-.15-3.2-1.73-6.02-4.12-7.85l-1.42 1.43c2.02 1.45 3.39 3.77 3.54 6.42zM18 11c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2v-5zm-6 11c.14 0 .27-.01.4-.04.65-.14 1.18-.58 1.44-1.18.1-.24.15-.5.15-.78h-4c.01 1.1.9 2 2.01 2z"></path></g><g id="notifications-none"><path d="M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2zm6-6v-5c0-3.07-1.63-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.64 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2zm-2 1H8v-6c0-2.48 1.51-4.5 4-4.5s4 2.02 4 4.5v6z"></path></g><g id="notifications-off"><path d="M20 18.69L7.84 6.14 5.27 3.49 4 4.76l2.8 2.8v.01c-.52.99-.8 2.16-.8 3.42v5l-2 2v1h13.73l2 2L21 19.72l-1-1.03zM12 22c1.11 0 2-.89 2-2h-4c0 1.11.89 2 2 2zm6-7.32V11c0-3.08-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68c-.15.03-.29.08-.42.12-.1.03-.2.07-.3.11h-.01c-.01 0-.01 0-.02.01-.23.09-.46.2-.68.31 0 0-.01 0-.01.01L18 14.68z"></path></g><g id="notifications-paused"><path d="M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.93 6 11v5l-2 2v1h16v-1l-2-2zm-3.5-6.2l-2.8 3.4h2.8V15h-5v-1.8l2.8-3.4H9.5V8h5v1.8z"></path></g><g id="pages"><path d="M3 5v6h5L7 7l4 1V3H5c-1.1 0-2 .9-2 2zm5 8H3v6c0 1.1.9 2 2 2h6v-5l-4 1 1-4zm9 4l-4-1v5h6c1.1 0 2-.9 2-2v-6h-5l1 4zm2-14h-6v5l4-1-1 4h5V5c0-1.1-.9-2-2-2z"></path></g><g id="party-mode"><path d="M20 4h-3.17L15 2H9L7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-8 3c1.63 0 3.06.79 3.98 2H12c-1.66 0-3 1.34-3 3 0 .35.07.69.18 1H7.1c-.06-.32-.1-.66-.1-1 0-2.76 2.24-5 5-5zm0 10c-1.63 0-3.06-.79-3.98-2H12c1.66 0 3-1.34 3-3 0-.35-.07-.69-.18-1h2.08c.07.32.1.66.1 1 0 2.76-2.24 5-5 5z"></path></g><g id="people"><path d="M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z"></path></g><g id="people-outline"><path d="M16.5 13c-1.2 0-3.07.34-4.5 1-1.43-.67-3.3-1-4.5-1C5.33 13 1 14.08 1 16.25V19h22v-2.75c0-2.17-4.33-3.25-6.5-3.25zm-4 4.5h-10v-1.25c0-.54 2.56-1.75 5-1.75s5 1.21 5 1.75v1.25zm9 0H14v-1.25c0-.46-.2-.86-.52-1.22.88-.3 1.96-.53 3.02-.53 2.44 0 5 1.21 5 1.75v1.25zM7.5 12c1.93 0 3.5-1.57 3.5-3.5S9.43 5 7.5 5 4 6.57 4 8.5 5.57 12 7.5 12zm0-5.5c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2zm9 5.5c1.93 0 3.5-1.57 3.5-3.5S18.43 5 16.5 5 13 6.57 13 8.5s1.57 3.5 3.5 3.5zm0-5.5c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2z"></path></g><g id="person"><path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"></path></g><g id="person-add"><path d="M15 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm-9-2V7H4v3H1v2h3v3h2v-3h3v-2H6zm9 4c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"></path></g><g id="person-outline"><path d="M12 5.9c1.16 0 2.1.94 2.1 2.1s-.94 2.1-2.1 2.1S9.9 9.16 9.9 8s.94-2.1 2.1-2.1m0 9c2.97 0 6.1 1.46 6.1 2.1v1.1H5.9V17c0-.64 3.13-2.1 6.1-2.1M12 4C9.79 4 8 5.79 8 8s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm0 9c-2.67 0-8 1.34-8 4v3h16v-3c0-2.66-5.33-4-8-4z"></path></g><g id="plus-one"><path d="M10 8H8v4H4v2h4v4h2v-4h4v-2h-4zm4.5-1.92V7.9l2.5-.5V18h2V5z"></path></g><g id="poll"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"></path></g><g id="public"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z"></path></g><g id="school"><path d="M5 13.18v4L12 21l7-3.82v-4L12 17l-7-3.82zM12 3L1 9l11 6 9-4.91V17h2V9L12 3z"></path></g><g id="sentiment-dissatisfied"><circle cx="15.5" cy="9.5" r="1.5"></circle><circle cx="8.5" cy="9.5" r="1.5"></circle><path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm0-6c-2.33 0-4.32 1.45-5.12 3.5h1.67c.69-1.19 1.97-2 3.45-2s2.75.81 3.45 2h1.67c-.8-2.05-2.79-3.5-5.12-3.5z"></path></g><g id="sentiment-neutral"><path d="M9 14h6v1.5H9z"></path><circle cx="15.5" cy="9.5" r="1.5"></circle><circle cx="8.5" cy="9.5" r="1.5"></circle><path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"></path></g><g id="sentiment-satisfied"><circle cx="15.5" cy="9.5" r="1.5"></circle><circle cx="8.5" cy="9.5" r="1.5"></circle><path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm0-4c-1.48 0-2.75-.81-3.45-2H6.88c.8 2.05 2.79 3.5 5.12 3.5s4.32-1.45 5.12-3.5h-1.67c-.7 1.19-1.97 2-3.45 2z"></path></g><g id="sentiment-very-dissatisfied"><path d="M11.99 2C6.47 2 2 6.47 2 12s4.47 10 9.99 10S22 17.53 22 12 17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm4.18-12.24l-1.06 1.06-1.06-1.06L13 8.82l1.06 1.06L13 10.94 14.06 12l1.06-1.06L16.18 12l1.06-1.06-1.06-1.06 1.06-1.06zM7.82 12l1.06-1.06L9.94 12 11 10.94 9.94 9.88 11 8.82 9.94 7.76 8.88 8.82 7.82 7.76 6.76 8.82l1.06 1.06-1.06 1.06zM12 14c-2.33 0-4.31 1.46-5.11 3.5h10.22c-.8-2.04-2.78-3.5-5.11-3.5z"></path></g><g id="sentiment-very-satisfied"><path d="M11.99 2C6.47 2 2 6.47 2 12s4.47 10 9.99 10S22 17.53 22 12 17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm1-10.06L14.06 11l1.06-1.06L16.18 11l1.06-1.06-2.12-2.12zm-4.12 0L9.94 11 11 9.94 8.88 7.82 6.76 9.94 7.82 11zM12 17.5c2.33 0 4.31-1.46 5.11-3.5H6.89c.8 2.04 2.78 3.5 5.11 3.5z"></path></g><g id="share"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z"></path></g><g id="whatshot"><path d="M13.5.67s.74 2.65.74 4.8c0 2.06-1.35 3.73-3.41 3.73-2.07 0-3.63-1.67-3.63-3.73l.03-.36C5.21 7.51 4 10.62 4 14c0 4.42 3.58 8 8 8s8-3.58 8-8C20 8.61 17.41 3.8 13.5.67zM11.71 19c-1.78 0-3.22-1.4-3.22-3.14 0-1.62 1.05-2.76 2.81-3.12 1.77-.36 3.6-1.21 4.62-2.58.39 1.29.59 2.65.59 4.04 0 2.65-2.15 4.8-4.8 4.8z"></path></g></defs></svg></iron-iconset-svg><script>Polymer.IronRangeBehavior={properties:{value:{type:Number,value:0,notify:!0,reflectToAttribute:!0},min:{type:Number,value:0,notify:!0},max:{type:Number,value:100,notify:!0},step:{type:Number,value:1,notify:!0},ratio:{type:Number,value:0,readOnly:!0,notify:!0}},observers:["_update(value, min, max, step)"],_calcRatio:function _calcRatio(value){return(this._clampValue(value)-this.min)/(this.max-this.min)},_clampValue:function _clampValue(value){return Math.min(this.max,Math.max(this.min,this._calcStep(value)))},_calcStep:function _calcStep(value){value=parseFloat(value);if(!this.step){return value}var numSteps=Math.round((value-this.min)/this.step);if(1>this.step){return numSteps/(1/this.step)+this.min}else{return numSteps*this.step+this.min}},_validateValue:function _validateValue(){var v=this._clampValue(this.value);this.value=this.oldValue=isNaN(v)?this.oldValue:v;return this.value!==v},_update:function _update(){this._validateValue();this._setRatio(100*this._calcRatio(this.value))}};</script><dom-module id="paper-progress" assetpath="../bower_components/paper-progress/"><template><style>:host{display:block;width:200px;position:relative;overflow:hidden;}:host([hidden]), [hidden]{display:none !important;}#progressContainer{@apply --paper-progress-container;position:relative;}#progressContainer,
      /* the stripe for the indeterminate animation*/
      .indeterminate::after{height:var(--paper-progress-height, 4px);}#primaryProgress,
      #secondaryProgress,
      .indeterminate::after{@apply --layout-fit;}#progressContainer,
      .indeterminate::after{background:var(--paper-progress-container-color, var(--google-grey-300));}:host(.transiting) #primaryProgress,
      :host(.transiting) #secondaryProgress{-webkit-transition-property:-webkit-transform;transition-property:transform;-webkit-transition-duration:var(--paper-progress-transition-duration, 0.08s);transition-duration:var(--paper-progress-transition-duration, 0.08s);-webkit-transition-timing-function:var(--paper-progress-transition-timing-function, ease);transition-timing-function:var(--paper-progress-transition-timing-function, ease);-webkit-transition-delay:var(--paper-progress-transition-delay, 0s);transition-delay:var(--paper-progress-transition-delay, 0s);}#primaryProgress,
      #secondaryProgress{@apply --layout-fit;-webkit-transform-origin:left center;transform-origin:left center;-webkit-transform:scaleX(0);transform:scaleX(0);will-change:transform;}#primaryProgress{background:var(--paper-progress-active-color, var(--google-green-500));}#secondaryProgress{background:var(--paper-progress-secondary-color, var(--google-green-100));}:host([disabled]) #primaryProgress{background:var(--paper-progress-disabled-active-color, var(--google-grey-500));}:host([disabled]) #secondaryProgress{background:var(--paper-progress-disabled-secondary-color, var(--google-grey-300));}:host(:not([disabled])) #primaryProgress.indeterminate{-webkit-transform-origin:right center;transform-origin:right center;-webkit-animation:indeterminate-bar var(--paper-progress-indeterminate-cycle-duration, 2s) linear infinite;animation:indeterminate-bar var(--paper-progress-indeterminate-cycle-duration, 2s) linear infinite;}:host(:not([disabled])) #primaryProgress.indeterminate::after{content:"";-webkit-transform-origin:center center;transform-origin:center center;-webkit-animation:indeterminate-splitter var(--paper-progress-indeterminate-cycle-duration, 2s) linear infinite;animation:indeterminate-splitter var(--paper-progress-indeterminate-cycle-duration, 2s) linear infinite;}@-webkit-keyframes indeterminate-bar{0%{-webkit-transform:scaleX(1) translateX(-100%);}50%{-webkit-transform:scaleX(1) translateX(0%);}75%{-webkit-transform:scaleX(1) translateX(0%);-webkit-animation-timing-function:cubic-bezier(.28,.62,.37,.91);}100%{-webkit-transform:scaleX(0) translateX(0%);}}@-webkit-keyframes indeterminate-splitter{0%{-webkit-transform:scaleX(.75) translateX(-125%);}30%{-webkit-transform:scaleX(.75) translateX(-125%);-webkit-animation-timing-function:cubic-bezier(.42,0,.6,.8);}90%{-webkit-transform:scaleX(.75) translateX(125%);}100%{-webkit-transform:scaleX(.75) translateX(125%);}}@keyframes indeterminate-bar{0%{transform:scaleX(1) translateX(-100%);}50%{transform:scaleX(1) translateX(0%);}75%{transform:scaleX(1) translateX(0%);animation-timing-function:cubic-bezier(.28,.62,.37,.91);}100%{transform:scaleX(0) translateX(0%);}}@keyframes indeterminate-splitter{0%{transform:scaleX(.75) translateX(-125%);}30%{transform:scaleX(.75) translateX(-125%);animation-timing-function:cubic-bezier(.42,0,.6,.8);}90%{transform:scaleX(.75) translateX(125%);}100%{transform:scaleX(.75) translateX(125%);}}</style><div id="progressContainer"><div id="secondaryProgress" hidden$="[[_hideSecondaryProgress(secondaryRatio)]]"></div><div id="primaryProgress"></div></div></template></dom-module><script>Polymer({is:"paper-progress",behaviors:[Polymer.IronRangeBehavior],properties:{secondaryProgress:{type:Number,value:0},secondaryRatio:{type:Number,value:0,readOnly:!0},indeterminate:{type:Boolean,value:!1,observer:"_toggleIndeterminate"},disabled:{type:Boolean,value:!1,reflectToAttribute:!0,observer:"_disabledChanged"}},observers:["_progressChanged(secondaryProgress, value, min, max, indeterminate)"],hostAttributes:{role:"progressbar"},_toggleIndeterminate:function _toggleIndeterminate(indeterminate){this.toggleClass("indeterminate",indeterminate,this.$.primaryProgress)},_transformProgress:function _transformProgress(progress,ratio){var transform="scaleX("+ratio/100+")";progress.style.transform=progress.style.webkitTransform=transform},_mainRatioChanged:function _mainRatioChanged(ratio){this._transformProgress(this.$.primaryProgress,ratio)},_progressChanged:function _progressChanged(secondaryProgress,value,min,max,indeterminate){secondaryProgress=this._clampValue(secondaryProgress);value=this._clampValue(value);var secondaryRatio=100*this._calcRatio(secondaryProgress),mainRatio=100*this._calcRatio(value);this._setSecondaryRatio(secondaryRatio);this._transformProgress(this.$.secondaryProgress,secondaryRatio);this._transformProgress(this.$.primaryProgress,mainRatio);this.secondaryProgress=secondaryProgress;if(indeterminate){this.removeAttribute("aria-valuenow")}else{this.setAttribute("aria-valuenow",value)}this.setAttribute("aria-valuemin",min);this.setAttribute("aria-valuemax",max)},_disabledChanged:function _disabledChanged(disabled){this.setAttribute("aria-disabled",disabled?"true":"false")},_hideSecondaryProgress:function _hideSecondaryProgress(secondaryRatio){return 0===secondaryRatio}});</script><script>!function(e,t){"object"==("undefined"===typeof exports?"undefined":babelHelpers.typeof(exports))&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.moment=t()}(this,function(){"use strict";var _Mathround=Math.round,_Mathabs=Math.abs,_Mathmin=Math.min,_Mathfloor=Math.floor,_Mathceil=Math.ceil,e,i;function c(){return e.apply(null,arguments)}function o(e){return babelHelpers.instanceof(e,Array)||"[object Array]"===Object.prototype.toString.call(e)}function u(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function l(e){return void 0===e}function d(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function h(e){return babelHelpers.instanceof(e,Date)||"[object Date]"===Object.prototype.toString.call(e)}function f(e,t){var n,s=[];for(n=0;n<e.length;++n){s.push(t(e[n],n))}return s}function m(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function _(e,t){for(var n in t){m(t,n)&&(e[n]=t[n])}return m(t,"toString")&&(e.toString=t.toString),m(t,"valueOf")&&(e.valueOf=t.valueOf),e}function y(e,t,n,s){return Ot(e,t,n,s,!0).utc()}function g(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function p(e){if(null==e._isValid){var t=g(e),n=i.call(t.parsedDateParts,function(e){return null!=e}),s=!isNaN(e._d.getTime())&&0>t.overflow&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(s=s&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return s;e._isValid=s}return e._isValid}function v(e){var t=y(NaN);return null!=e?_(g(t),e):g(t).userInvalidated=!0,t}i=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),n=t.length>>>0,s=0;s<n;s++){if(s in t&&e.call(this,t[s],s,t))return!0}return!1};var r=c.momentProperties=[];function w(e,t){var n,s,i;if(l(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),l(t._i)||(e._i=t._i),l(t._f)||(e._f=t._f),l(t._l)||(e._l=t._l),l(t._strict)||(e._strict=t._strict),l(t._tzm)||(e._tzm=t._tzm),l(t._isUTC)||(e._isUTC=t._isUTC),l(t._offset)||(e._offset=t._offset),l(t._pf)||(e._pf=g(t)),l(t._locale)||(e._locale=t._locale),0<r.length)for(n=0;n<r.length;n++){l(i=t[s=r[n]])||(e[s]=i)}return e}var t=!1;function M(e){w(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===t&&(t=!0,c.updateOffset(this),t=!1)}function S(e){return babelHelpers.instanceof(e,M)||null!=e&&null!=e._isAMomentObject}function D(e){return 0>e?_Mathceil(e)||0:_Mathfloor(e)}function k(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=D(t)),n}function a(e,t,n){var s,i=_Mathmin(e.length,t.length),r=_Mathabs(e.length-t.length),a=0;for(s=0;s<i;s++){(n&&e[s]!==t[s]||!n&&k(e[s])!==k(t[s]))&&a++}return a+r}function Y(e){!1===c.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function n(i,r){var a=!0;return _(function(){if(null!=c.deprecationHandler&&c.deprecationHandler(null,i),a){for(var e,t=[],n=0;n<arguments.length;n++){if(e="","object"==babelHelpers.typeof(arguments[n])){for(var s in e+="\n["+n+"] ",arguments[0]){e+=s+": "+arguments[0][s]+", "}e=e.slice(0,-2)}else e=arguments[n];t.push(e)}Y(i+"\nArguments: "+Array.prototype.slice.call(t).join("")+"\n"+new Error().stack),a=!1}return r.apply(this,arguments)},r)}var s,O={};function T(e,t){null!=c.deprecationHandler&&c.deprecationHandler(e,t),O[e]||(Y(t),O[e]=!0)}function x(e){return babelHelpers.instanceof(e,Function)||"[object Function]"===Object.prototype.toString.call(e)}function b(e,t){var n,s=_({},e);for(n in t){m(t,n)&&(u(e[n])&&u(t[n])?(s[n]={},_(s[n],e[n]),_(s[n],t[n])):null!=t[n]?s[n]=t[n]:delete s[n])}for(n in e){m(e,n)&&!m(t,n)&&u(e[n])&&(s[n]=_({},s[n]))}return s}function P(e){null!=e&&this.set(e)}c.suppressDeprecationWarnings=!1,c.deprecationHandler=null,s=Object.keys?Object.keys:function(e){var t,n=[];for(t in e){m(e,t)&&n.push(t)}return n};var W={};function H(e,t){var n=e.toLowerCase();W[n]=W[n+"s"]=W[t]=e}function R(e){return"string"==typeof e?W[e]||W[e.toLowerCase()]:void 0}function C(e){var t,n,s={};for(n in e){m(e,n)&&(t=R(n))&&(s[t]=e[n])}return s}var F={};function L(e,t){F[e]=t}function U(e,t,n){var s=""+_Mathabs(e),i=t-s.length;return(0<=e?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+s}var N=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,G=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,V={},E={};function I(e,t,n,s){var i=s;"string"==typeof s&&(i=function i(){return this[s]()}),e&&(E[e]=i),t&&(E[t[0]]=function(){return U(i.apply(this,arguments),t[1],t[2])}),n&&(E[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function A(e,t){return e.isValid()?(t=j(t,e.localeData()),V[t]=V[t]||function(s){var e,i,t,r=s.match(N);for(e=0,i=r.length;e<i;e++){E[r[e]]?r[e]=E[r[e]]:r[e]=(t=r[e]).match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}return function(e){var t,n="";for(t=0;t<i;t++){n+=x(r[t])?r[t].call(e,s):r[t]}return n}}(t),V[t](e)):e.localeData().invalidDate()}function j(e,t){var n=5;function s(e){return t.longDateFormat(e)||e}for(G.lastIndex=0;0<=n&&G.test(e);){e=e.replace(G,s),G.lastIndex=0,n-=1}return e}var Z=/\d/,z=/\d\d/,$=/\d{3}/,q=/\d{4}/,J=/[+-]?\d{6}/,B=/\d\d?/,Q=/\d\d\d\d?/,X=/\d\d\d\d\d\d?/,K=/\d{1,3}/,ee=/\d{1,4}/,te=/[+-]?\d{1,6}/,ne=/\d+/,se=/[+-]?\d+/,ie=/Z|[+-]\d\d:?\d\d/gi,re=/Z|[+-]\d\d(?::?\d\d)?/gi,ae=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,oe={};function ue(e,n,s){oe[e]=x(n)?n:function(e,t){return e&&s?s:n}}function le(e,t){return m(oe,e)?oe[e](t._strict,t._locale):new RegExp(de(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,s,i){return t||n||s||i})))}function de(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var he={};function ce(e,n){var t,s=n;for("string"==typeof e&&(e=[e]),d(n)&&(s=function s(e,t){t[n]=k(e)}),t=0;t<e.length;t++){he[e[t]]=s}}function fe(e,i){ce(e,function(e,t,n,s){n._w=n._w||{},i(e,n._w,n,s)})}var me=0,_e=1,ye=2,ge=3,pe=4,ve=5,we=6,Me=7,Se=8;function De(e){return ke(e)?366:365}function ke(e){return 0==e%4&&0!=e%100||0==e%400}I("Y",0,0,function(){var e=this.year();return 9999>=e?""+e:"+"+e}),I(0,["YY",2],0,function(){return this.year()%100}),I(0,["YYYY",4],0,"year"),I(0,["YYYYY",5],0,"year"),I(0,["YYYYYY",6,!0],0,"year"),H("year","y"),L("year",1),ue("Y",se),ue("YY",B,z),ue("YYYY",ee,q),ue("YYYYY",te,J),ue("YYYYYY",te,J),ce(["YYYYY","YYYYYY"],me),ce("YYYY",function(e,t){t[me]=2===e.length?c.parseTwoDigitYear(e):k(e)}),ce("YY",function(e,t){t[me]=c.parseTwoDigitYear(e)}),ce("Y",function(e,t){t[me]=parseInt(e,10)}),c.parseTwoDigitYear=function(e){return k(e)+(68<k(e)?1900:2e3)};var Ye,Oe=Te("FullYear",!0);function Te(t,n){return function(e){return null!=e?(be(this,t,e),c.updateOffset(this,n),this):xe(this,t)}}function xe(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function be(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&ke(e.year())&&1===e.month()&&29===e.date()?e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),Pe(n,e.month())):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function Pe(e,t){if(isNaN(e)||isNaN(t))return NaN;var n,s=(t%(n=12)+n)%n;return e+=(t-s)/12,1===s?ke(e)?29:28:31-s%7%2}Ye=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t){if(this[t]===e)return t}return-1},I("M",["MM",2],"Mo",function(){return this.month()+1}),I("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),I("MMMM",0,0,function(e){return this.localeData().months(this,e)}),H("month","M"),L("month",8),ue("M",B),ue("MM",B,z),ue("MMM",function(e,t){return t.monthsShortRegex(e)}),ue("MMMM",function(e,t){return t.monthsRegex(e)}),ce(["M","MM"],function(e,t){t[_e]=k(e)-1}),ce(["MMM","MMMM"],function(e,t,n,s){var i=n._locale.monthsParse(e,s,n._strict);null!=i?t[_e]=i:g(n).invalidMonth=e});var We=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,He="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Re="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function Ce(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=k(t);else if(!d(t=e.localeData().monthsParse(t)))return e;return n=_Mathmin(e.date(),Pe(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function Fe(e){return null!=e?(Ce(this,e),c.updateOffset(this,!0),this):xe(this,"Month")}var Le=ae,Ue=ae;function Ne(){function e(e,t){return t.length-e.length}var t,n,s=[],i=[],r=[];for(t=0;12>t;t++){n=y([2e3,t]),s.push(this.monthsShort(n,"")),i.push(this.months(n,"")),r.push(this.months(n,"")),r.push(this.monthsShort(n,""))}for(s.sort(e),i.sort(e),r.sort(e),t=0;12>t;t++){s[t]=de(s[t]),i[t]=de(i[t])}for(t=0;24>t;t++){r[t]=de(r[t])}this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+s.join("|")+")","i")}function Ge(e){var t=new Date(Date.UTC.apply(null,arguments));return 100>e&&0<=e&&isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e),t}function Ve(e,t,n){var s=7+t-n;return-((7+Ge(e,0,s).getUTCDay()-t)%7)+s-1}function Ee(e,t,n,s,i){var r,a,o=1+7*(t-1)+(7+n-s)%7+Ve(e,s,i);return a=0>=o?De(r=e-1)+o:o>De(e)?(r=e+1,o-De(e)):(r=e,o),{year:r,dayOfYear:a}}function Ie(e,t,n){var s,i,r=Ve(e.year(),t,n),a=_Mathfloor((e.dayOfYear()-r-1)/7)+1;return 1>a?s=a+Ae(i=e.year()-1,t,n):a>Ae(e.year(),t,n)?(s=a-Ae(e.year(),t,n),i=e.year()+1):(i=e.year(),s=a),{week:s,year:i}}function Ae(e,t,n){var s=Ve(e,t,n),i=Ve(e+1,t,n);return(De(e)-s+i)/7}I("w",["ww",2],"wo","week"),I("W",["WW",2],"Wo","isoWeek"),H("week","w"),H("isoWeek","W"),L("week",5),L("isoWeek",5),ue("w",B),ue("ww",B,z),ue("W",B),ue("WW",B,z),fe(["w","ww","W","WW"],function(e,t,n,s){t[s.substr(0,1)]=k(e)});I("d",0,"do","day"),I("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),I("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),I("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),I("e",0,0,"weekday"),I("E",0,0,"isoWeekday"),H("day","d"),H("weekday","e"),H("isoWeekday","E"),L("day",11),L("weekday",11),L("isoWeekday",11),ue("d",B),ue("e",B),ue("E",B),ue("dd",function(e,t){return t.weekdaysMinRegex(e)}),ue("ddd",function(e,t){return t.weekdaysShortRegex(e)}),ue("dddd",function(e,t){return t.weekdaysRegex(e)}),fe(["dd","ddd","dddd"],function(e,t,n,s){var i=n._locale.weekdaysParse(e,s,n._strict);null!=i?t.d=i:g(n).invalidWeekday=e}),fe(["d","e","E"],function(e,t,n,s){t[s]=k(e)});var je="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Ze="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),ze="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),$e=ae,qe=ae,Je=ae;function Be(){function e(e,t){return t.length-e.length}var t,n,s,i,r,a=[],o=[],u=[],l=[];for(t=0;7>t;t++){n=y([2e3,1]).day(t),s=this.weekdaysMin(n,""),i=this.weekdaysShort(n,""),r=this.weekdays(n,""),a.push(s),o.push(i),u.push(r),l.push(s),l.push(i),l.push(r)}for(a.sort(e),o.sort(e),u.sort(e),l.sort(e),t=0;7>t;t++){o[t]=de(o[t]),u[t]=de(u[t]),l[t]=de(l[t])}this._weekdaysRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function Qe(){return this.hours()%12||12}function Xe(e,t){I(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function Ke(e,t){return t._meridiemParse}I("H",["HH",2],0,"hour"),I("h",["hh",2],0,Qe),I("k",["kk",2],0,function(){return this.hours()||24}),I("hmm",0,0,function(){return""+Qe.apply(this)+U(this.minutes(),2)}),I("hmmss",0,0,function(){return""+Qe.apply(this)+U(this.minutes(),2)+U(this.seconds(),2)}),I("Hmm",0,0,function(){return""+this.hours()+U(this.minutes(),2)}),I("Hmmss",0,0,function(){return""+this.hours()+U(this.minutes(),2)+U(this.seconds(),2)}),Xe("a",!0),Xe("A",!1),H("hour","h"),L("hour",13),ue("a",Ke),ue("A",Ke),ue("H",B),ue("h",B),ue("k",B),ue("HH",B,z),ue("hh",B,z),ue("kk",B,z),ue("hmm",Q),ue("hmmss",X),ue("Hmm",Q),ue("Hmmss",X),ce(["H","HH"],ge),ce(["k","kk"],function(e,t,n){var s=k(e);t[ge]=24===s?0:s}),ce(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),ce(["h","hh"],function(e,t,n){t[ge]=k(e),g(n).bigHour=!0}),ce("hmm",function(e,t,n){var s=e.length-2;t[ge]=k(e.substr(0,s)),t[pe]=k(e.substr(s)),g(n).bigHour=!0}),ce("hmmss",function(e,t,n){var s=e.length-4,i=e.length-2;t[ge]=k(e.substr(0,s)),t[pe]=k(e.substr(s,2)),t[ve]=k(e.substr(i)),g(n).bigHour=!0}),ce("Hmm",function(e,t,n){var s=e.length-2;t[ge]=k(e.substr(0,s)),t[pe]=k(e.substr(s))}),ce("Hmmss",function(e,t,n){var s=e.length-4,i=e.length-2;t[ge]=k(e.substr(0,s)),t[pe]=k(e.substr(s,2)),t[ve]=k(e.substr(i))});var et,tt=Te("Hours",!0),nt={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:He,monthsShort:Re,week:{dow:0,doy:6},weekdays:je,weekdaysMin:ze,weekdaysShort:Ze,meridiemParse:/[ap]\.?m?\.?/i},st={},it={};function rt(e){return e?e.toLowerCase().replace("_","-"):e}function at(e){var t=null;if(!st[e]&&"undefined"!=typeof module&&module&&module.exports)try{t=et._abbr,require("./locale/"+e),ot(t)}catch(e){}return st[e]}function ot(e,t){var n;return e&&((n=l(t)?lt(e):ut(e,t))?et=n:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),et._abbr}function ut(e,t){if(null===t)return delete st[e],null;var n,s=nt;if(t.abbr=e,null!=st[e])T("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),s=st[e]._config;else if(null!=t.parentLocale)if(null!=st[t.parentLocale])s=st[t.parentLocale]._config;else{if(null==(n=at(t.parentLocale)))return it[t.parentLocale]||(it[t.parentLocale]=[]),it[t.parentLocale].push({name:e,config:t}),null;s=n._config}return st[e]=new P(b(s,t)),it[e]&&it[e].forEach(function(e){ut(e.name,e.config)}),ot(e),st[e]}function lt(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return et;if(!o(e)){if(t=at(e))return t;e=[e]}return function(e){for(var t,n,s,i,r=0;r<e.length;){for(t=(i=rt(e[r]).split("-")).length,n=(n=rt(e[r+1]))?n.split("-"):null;0<t;){if(s=at(i.slice(0,t).join("-")))return s;if(n&&n.length>=t&&a(i,n,!0)>=t-1)break;t--}r++}return et}(e)}function dt(e){var t,n=e._a;return n&&-2===g(e).overflow&&(t=0>n[_e]||11<n[_e]?_e:1>n[ye]||n[ye]>Pe(n[me],n[_e])?ye:0>n[ge]||24<n[ge]||24===n[ge]&&(0!==n[pe]||0!==n[ve]||0!==n[we])?ge:0>n[pe]||59<n[pe]?pe:0>n[ve]||59<n[ve]?ve:0>n[we]||999<n[we]?we:-1,g(e)._overflowDayOfYear&&(t<me||ye<t)&&(t=ye),g(e)._overflowWeeks&&-1===t&&(t=Me),g(e)._overflowWeekday&&-1===t&&(t=Se),g(e).overflow=t),e}function ht(e,t,n){return null!=e?e:null!=t?t:n}function ct(e){var t,n,s,i,r,a=[];if(!e._d){var o,u;for(o=e,u=new Date(c.now()),s=o._useUTC?[u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()]:[u.getFullYear(),u.getMonth(),u.getDate()],e._w&&null==e._a[ye]&&null==e._a[_e]&&function(e){var t,n,s,i,r,a,o,u;if(null!=(t=e._w).GG||null!=t.W||null!=t.E)r=1,a=4,n=ht(t.GG,e._a[me],Ie(Tt(),1,4).year),s=ht(t.W,1),(1>(i=ht(t.E,1))||7<i)&&(u=!0);else{r=e._locale._week.dow,a=e._locale._week.doy;var l=Ie(Tt(),r,a);n=ht(t.gg,e._a[me],l.year),s=ht(t.w,l.week),null!=t.d?(0>(i=t.d)||6<i)&&(u=!0):null!=t.e?(i=t.e+r,(0>t.e||6<t.e)&&(u=!0)):i=r}1>s||s>Ae(n,r,a)?g(e)._overflowWeeks=!0:null!=u?g(e)._overflowWeekday=!0:(o=Ee(n,s,i,r,a),e._a[me]=o.year,e._dayOfYear=o.dayOfYear)}(e),null!=e._dayOfYear&&(r=ht(e._a[me],s[me]),(e._dayOfYear>De(r)||0===e._dayOfYear)&&(g(e)._overflowDayOfYear=!0),n=Ge(r,0,e._dayOfYear),e._a[_e]=n.getUTCMonth(),e._a[ye]=n.getUTCDate()),t=0;3>t&&null==e._a[t];++t){e._a[t]=a[t]=s[t]}for(;7>t;t++){e._a[t]=a[t]=null==e._a[t]?2===t?1:0:e._a[t]}24===e._a[ge]&&0===e._a[pe]&&0===e._a[ve]&&0===e._a[we]&&(e._nextDay=!0,e._a[ge]=0),e._d=(e._useUTC?Ge:function(e,t,n,s,i,r,a){var o=new Date(e,t,n,s,i,r,a);return 100>e&&0<=e&&isFinite(o.getFullYear())&&o.setFullYear(e),o}).apply(null,a),i=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[ge]=24),e._w&&void 0!==e._w.d&&e._w.d!==i&&(g(e).weekdayMismatch=!0)}}var ft=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,mt=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,_t=/Z|[+-]\d\d(?::?\d\d)?/,yt=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],gt=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],pt=/^\/?Date\((\-?\d+)/i;function vt(e){var t,n,s,i,r,a,o=e._i,u=ft.exec(o)||mt.exec(o);if(u){for(g(e).iso=!0,t=0,n=yt.length;t<n;t++){if(yt[t][1].exec(u[1])){i=yt[t][0],s=!1!==yt[t][2];break}}if(null==i)return void(e._isValid=!1);if(u[3]){for(t=0,n=gt.length;t<n;t++){if(gt[t][1].exec(u[3])){r=(u[2]||" ")+gt[t][0];break}}if(null==r)return void(e._isValid=!1)}if(!s&&null!=r)return void(e._isValid=!1);if(u[4]){if(!_t.exec(u[4]))return void(e._isValid=!1);a="Z"}e._f=i+(r||"")+(a||""),kt(e)}else e._isValid=!1}var wt=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;function Mt(e,t,n,s,i,r){var a=[function(e){var t=parseInt(e,10);{if(49>=t)return 2e3+t;if(999>=t)return 1900+t}return t}(e),Re.indexOf(t),parseInt(n,10),parseInt(s,10),parseInt(i,10)];return r&&a.push(parseInt(r,10)),a}var St={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Dt(e){var t,n,s,i=wt.exec(e._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));if(i){var r=Mt(i[4],i[3],i[2],i[5],i[6],i[7]);if(t=i[1],n=r,s=e,t&&Ze.indexOf(t)!==new Date(n[0],n[1],n[2]).getDay()&&(g(s).weekdayMismatch=!0,!(s._isValid=!1)))return;e._a=r,e._tzm=function(e,t,n){if(e)return St[e];if(t)return 0;var s=parseInt(n,10),i=s%100;return 60*((s-i)/100)+i}(i[8],i[9],i[10]),e._d=Ge.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),g(e).rfc2822=!0}else e._isValid=!1}function kt(e){if(e._f!==c.ISO_8601){if(e._f!==c.RFC_2822){e._a=[],g(e).empty=!0;var t,n,s,i,r,a,o,u,l=""+e._i,d=l.length,h=0;for(s=j(e._f,e._locale).match(N)||[],t=0;t<s.length;t++){i=s[t],(n=(l.match(le(i,e))||[])[0])&&(0<(r=l.substr(0,l.indexOf(n))).length&&g(e).unusedInput.push(r),l=l.slice(l.indexOf(n)+n.length),h+=n.length),E[i]?(n?g(e).empty=!1:g(e).unusedTokens.push(i),a=i,u=e,null!=(o=n)&&m(he,a)&&he[a](o,u._a,u,a)):e._strict&&!n&&g(e).unusedTokens.push(i)}g(e).charsLeftOver=d-h,0<l.length&&g(e).unusedInput.push(l),12>=e._a[ge]&&!0===g(e).bigHour&&0<e._a[ge]&&(g(e).bigHour=void 0),g(e).parsedDateParts=e._a.slice(0),g(e).meridiem=e._meridiem,e._a[ge]=function(e,t,n){var s;if(null==n)return t;return null!=e.meridiemHour?e.meridiemHour(t,n):(null!=e.isPM&&((s=e.isPM(n))&&12>t&&(t+=12),s||12!==t||(t=0)),t)}(e._locale,e._a[ge],e._meridiem),ct(e),dt(e)}else Dt(e);}else vt(e)}function Yt(e){var t,n,s,i,r=e._i,a=e._f;return e._locale=e._locale||lt(e._l),null===r||void 0===a&&""===r?v({nullInput:!0}):("string"==typeof r&&(e._i=r=e._locale.preparse(r)),S(r)?new M(dt(r)):(h(r)?e._d=r:o(a)?function(e){var t,n,s,i,r;if(0===e._f.length)return g(e).invalidFormat=!0,e._d=new Date(NaN);for(i=0;i<e._f.length;i++){r=0,t=w({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],kt(t),p(t)&&(r+=g(t).charsLeftOver,r+=10*g(t).unusedTokens.length,g(t).score=r,(null==s||r<s)&&(s=r,n=t))}_(e,n||t)}(e):a?kt(e):l(n=(t=e)._i)?t._d=new Date(c.now()):h(n)?t._d=new Date(n.valueOf()):"string"==typeof n?(s=t,null===(i=pt.exec(s._i))?(vt(s),!1===s._isValid&&(delete s._isValid,Dt(s),!1===s._isValid&&(delete s._isValid,c.createFromInputFallback(s)))):s._d=new Date(+i[1])):o(n)?(t._a=f(n.slice(0),function(e){return parseInt(e,10)}),ct(t)):u(n)?function(e){if(!e._d){var t=C(e._i);e._a=f([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),ct(e)}}(t):d(n)?t._d=new Date(n):c.createFromInputFallback(t),p(e)||(e._d=null),e))}function Ot(e,t,n,s,i){var r,a={};return!0!==n&&!1!==n||(s=n,n=void 0),(u(e)&&function(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e){if(e.hasOwnProperty(t))return!1}return!0}(e)||o(e)&&0===e.length)&&(e=void 0),a._isAMomentObject=!0,a._useUTC=a._isUTC=i,a._l=n,a._i=e,a._f=t,a._strict=s,(r=new M(dt(Yt(a))))._nextDay&&(r.add(1,"d"),r._nextDay=void 0),r}function Tt(e,t,n,s){return Ot(e,t,n,s,!1)}c.createFromInputFallback=n("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),c.ISO_8601=function(){},c.RFC_2822=function(){};var xt=n("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Tt.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:v()}),bt=n("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Tt.apply(null,arguments);return this.isValid()&&e.isValid()?this<e?this:e:v()});function Pt(e,t){var n,s;if(1===t.length&&o(t[0])&&(t=t[0]),!t.length)return Tt();for(n=t[0],s=1;s<t.length;++s){t[s].isValid()&&!t[s][e](n)||(n=t[s])}return n}var Wt=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Ht(e){var t=C(e),n=t.year||0,s=t.quarter||0,i=t.month||0,r=t.week||t.isoWeek||0,a=t.day||0,o=t.hour||0,u=t.minute||0,l=t.second||0,d=t.millisecond||0;this._isValid=function(e){for(var t in e){if(-1===Ye.call(Wt,t)||null!=e[t]&&isNaN(e[t]))return!1}for(var n=!1,s=0;s<Wt.length;++s){if(e[Wt[s]]){if(n)return!1;parseFloat(e[Wt[s]])!==k(e[Wt[s]])&&(n=!0)}}return!0}(t),this._milliseconds=+d+1e3*l+6e4*u+60*(60*(1e3*o)),this._days=+a+7*r,this._months=+i+3*s+12*n,this._data={},this._locale=lt(),this._bubble()}function Rt(e){return babelHelpers.instanceof(e,Ht)}function Ct(e){return 0>e?-1*_Mathround(-1*e):_Mathround(e)}function Ft(e,n){I(e,0,0,function(){var e=this.utcOffset(),t="+";return 0>e&&(e=-e,t="-"),t+U(~~(e/60),2)+n+U(~~e%60,2)})}Ft("Z",":"),Ft("ZZ",""),ue("Z",re),ue("ZZ",re),ce(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Ut(re,e)});var Lt=/([\+\-]|\d\d)/gi;function Ut(e,t){var n=(t||"").match(e);if(null===n)return null;var s=((n[n.length-1]||[])+"").match(Lt)||["-",0,0],i=60*s[1]+k(s[2]);return 0===i?0:"+"===s[0]?i:-i}function Nt(e,t){var n,s;return t._isUTC?(n=t.clone(),s=(S(e)||h(e)?e.valueOf():Tt(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+s),c.updateOffset(n,!1),n):Tt(e).local()}function Gt(e){return 15*-_Mathround(e._d.getTimezoneOffset()/15)}function Vt(){return!!this.isValid()&&this._isUTC&&0===this._offset}c.updateOffset=function(){};var Et=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,It=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function At(e,t){var n,s,i,r=e,a=null;return Rt(e)?r={ms:e._milliseconds,d:e._days,M:e._months}:d(e)?(r={},t?r[t]=e:r.milliseconds=e):(a=Et.exec(e))?(n="-"===a[1]?-1:1,r={y:0,d:k(a[ye])*n,h:k(a[ge])*n,m:k(a[pe])*n,s:k(a[ve])*n,ms:k(Ct(1e3*a[we]))*n}):(a=It.exec(e))?(n="-"===a[1]?-1:1,r={y:jt(a[2],n),M:jt(a[3],n),w:jt(a[4],n),d:jt(a[5],n),h:jt(a[6],n),m:jt(a[7],n),s:jt(a[8],n)}):null==r?r={}:"object"==babelHelpers.typeof(r)&&("from"in r||"to"in r)&&(i=function(e,t){var n;if(!e.isValid()||!t.isValid())return{milliseconds:0,months:0};t=Nt(t,e),e.isBefore(t)?n=Zt(e,t):((n=Zt(t,e)).milliseconds=-n.milliseconds,n.months=-n.months);return n}(Tt(r.from),Tt(r.to)),(r={}).ms=i.milliseconds,r.M=i.months),s=new Ht(r),Rt(e)&&m(e,"_locale")&&(s._locale=e._locale),s}function jt(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Zt(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function zt(s,i){return function(e,t){var n;return null===t||isNaN(+t)||(T(i,"moment()."+i+"(period, number) is deprecated. Please use moment()."+i+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),n=e,e=t,t=n),$t(this,At(e="string"==typeof e?+e:e,t),s),this}}function $t(e,t,n,s){var i=t._milliseconds,r=Ct(t._days),a=Ct(t._months);e.isValid()&&(s=null==s||s,a&&Ce(e,xe(e,"Month")+a*n),r&&be(e,"Date",xe(e,"Date")+r*n),i&&e._d.setTime(e._d.valueOf()+i*n),s&&c.updateOffset(e,r||a))}At.fn=Ht.prototype,At.invalid=function(){return At(NaN)};var qt=zt(1,"add"),Jt=zt(-1,"subtract");function Bt(e,t){var n=12*(t.year()-e.year())+(t.month()-e.month()),s=e.clone().add(n,"months");return-(n+(0>t-s?(t-s)/(s-e.clone().add(n-1,"months")):(t-s)/(e.clone().add(n+1,"months")-s)))||0}function Qt(e){var t;return void 0===e?this._locale._abbr:(null!=(t=lt(e))&&(this._locale=t),this)}c.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",c.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Xt=n("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});function Kt(){return this._locale}function en(e,t){I(0,[e,e.length],0,t)}function tn(e,t,n,s,i){var r;return null==e?Ie(this,s,i).year:((r=Ae(e,s,i))<t&&(t=r),function(e,t,n,s,i){var r=Ee(e,t,n,s,i),a=Ge(r.year,0,r.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}.call(this,e,t,n,s,i))}I(0,["gg",2],0,function(){return this.weekYear()%100}),I(0,["GG",2],0,function(){return this.isoWeekYear()%100}),en("gggg","weekYear"),en("ggggg","weekYear"),en("GGGG","isoWeekYear"),en("GGGGG","isoWeekYear"),H("weekYear","gg"),H("isoWeekYear","GG"),L("weekYear",1),L("isoWeekYear",1),ue("G",se),ue("g",se),ue("GG",B,z),ue("gg",B,z),ue("GGGG",ee,q),ue("gggg",ee,q),ue("GGGGG",te,J),ue("ggggg",te,J),fe(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,s){t[s.substr(0,2)]=k(e)}),fe(["gg","GG"],function(e,t,n,s){t[s]=c.parseTwoDigitYear(e)}),I("Q",0,"Qo","quarter"),H("quarter","Q"),L("quarter",7),ue("Q",Z),ce("Q",function(e,t){t[_e]=3*(k(e)-1)}),I("D",["DD",2],"Do","date"),H("date","D"),L("date",9),ue("D",B),ue("DD",B,z),ue("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),ce(["D","DD"],ye),ce("Do",function(e,t){t[ye]=k(e.match(B)[0])});var nn=Te("Date",!0);I("DDD",["DDDD",3],"DDDo","dayOfYear"),H("dayOfYear","DDD"),L("dayOfYear",4),ue("DDD",K),ue("DDDD",$),ce(["DDD","DDDD"],function(e,t,n){n._dayOfYear=k(e)}),I("m",["mm",2],0,"minute"),H("minute","m"),L("minute",14),ue("m",B),ue("mm",B,z),ce(["m","mm"],pe);var sn=Te("Minutes",!1);I("s",["ss",2],0,"second"),H("second","s"),L("second",15),ue("s",B),ue("ss",B,z),ce(["s","ss"],ve);var rn,an=Te("Seconds",!1);for(I("S",0,0,function(){return~~(this.millisecond()/100)}),I(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),I(0,["SSS",3],0,"millisecond"),I(0,["SSSS",4],0,function(){return 10*this.millisecond()}),I(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),I(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),I(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),I(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),I(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),H("millisecond","ms"),L("millisecond",16),ue("S",K,Z),ue("SS",K,z),ue("SSS",K,$),rn="SSSS";9>=rn.length;rn+="S"){ue(rn,ne)}function on(e,t){t[we]=k(1e3*("0."+e))}for(rn="S";9>=rn.length;rn+="S"){ce(rn,on)}var un=Te("Milliseconds",!1);I("z",0,0,"zoneAbbr"),I("zz",0,0,"zoneName");var ln=M.prototype;function dn(e){return e}ln.add=qt,ln.calendar=function(e,t){var n=e||Tt(),s=Nt(n,this).startOf("day"),i=c.calendarFormat(this,s)||"sameElse",r=t&&(x(t[i])?t[i].call(this,n):t[i]);return this.format(r||this.localeData().calendar(i,this,Tt(n)))},ln.clone=function(){return new M(this)},ln.diff=function(e,t,n){var s,i,r;if(!this.isValid())return NaN;if(!(s=Nt(e,this)).isValid())return NaN;switch(i=6e4*(s.utcOffset()-this.utcOffset()),t=R(t)){case"year":r=Bt(this,s)/12;break;case"month":r=Bt(this,s);break;case"quarter":r=Bt(this,s)/3;break;case"second":r=(this-s)/1e3;break;case"minute":r=(this-s)/6e4;break;case"hour":r=(this-s)/36e5;break;case"day":r=(this-s-i)/864e5;break;case"week":r=(this-s-i)/6048e5;break;default:r=this-s;}return n?r:D(r)},ln.endOf=function(e){return void 0===(e=R(e))||"millisecond"===e?this:("date"===e&&(e="day"),this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms"))},ln.format=function(e){e||(e=this.isUtc()?c.defaultFormatUtc:c.defaultFormat);var t=A(this,e);return this.localeData().postformat(t)},ln.from=function(e,t){return this.isValid()&&(S(e)&&e.isValid()||Tt(e).isValid())?At({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},ln.fromNow=function(e){return this.from(Tt(),e)},ln.to=function(e,t){return this.isValid()&&(S(e)&&e.isValid()||Tt(e).isValid())?At({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},ln.toNow=function(e){return this.to(Tt(),e)},ln.get=function(e){return x(this[e=R(e)])?this[e]():this},ln.invalidAt=function(){return g(this).overflow},ln.isAfter=function(e,t){var n=S(e)?e:Tt(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=R(t)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())},ln.isBefore=function(e,t){var n=S(e)?e:Tt(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=R(t)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())},ln.isBetween=function(e,t,n,s){var i=S(e)?e:Tt(e),r=S(t)?t:Tt(t);return!!(this.isValid()&&i.isValid()&&r.isValid())&&("("===(s=s||"()")[0]?this.isAfter(i,n):!this.isBefore(i,n))&&(")"===s[1]?this.isBefore(r,n):!this.isAfter(r,n))},ln.isSame=function(e,t){var n,s=S(e)?e:Tt(e);return!(!this.isValid()||!s.isValid())&&("millisecond"===(t=R(t)||"millisecond")?this.valueOf()===s.valueOf():(n=s.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))},ln.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},ln.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},ln.isValid=function(){return p(this)},ln.lang=Xt,ln.locale=Qt,ln.localeData=Kt,ln.max=bt,ln.min=xt,ln.parsingFlags=function(){return _({},g(this))},ln.set=function(e,t){if("object"==babelHelpers.typeof(e))for(var n=function(e){var t=[];for(var n in e){t.push({unit:n,priority:F[n]})}return t.sort(function(e,t){return e.priority-t.priority}),t}(e=C(e)),s=0;s<n.length;s++){this[n[s].unit](e[n[s].unit])}else if(x(this[e=R(e)]))return this[e](t);return this},ln.startOf=function(e){switch(e=R(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0);}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*_Mathfloor(this.month()/3)),this},ln.subtract=Jt,ln.toArray=function(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]},ln.toObject=function(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}},ln.toDate=function(){return new Date(this.valueOf())},ln.toISOString=function(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return 0>n.year()||9999<n.year()?A(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):x(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+1e3*(60*this.utcOffset())).toISOString().replace("Z",A(n,"Z")):A(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},ln.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="";this.isLocal()||(e=0===this.utcOffset()?"moment.utc":"moment.parseZone",t="Z");var n="["+e+"(\"]",s=0<=this.year()&&9999>=this.year()?"YYYY":"YYYYYY",i=t+"[\")]";return this.format(n+s+"-MM-DD[T]HH:mm:ss.SSS"+i)},ln.toJSON=function(){return this.isValid()?this.toISOString():null},ln.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},ln.unix=function(){return _Mathfloor(this.valueOf()/1e3)},ln.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},ln.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},ln.year=Oe,ln.isLeapYear=function(){return ke(this.year())},ln.weekYear=function(e){return tn.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},ln.isoWeekYear=function(e){return tn.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},ln.quarter=ln.quarters=function(e){return null==e?_Mathceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},ln.month=Fe,ln.daysInMonth=function(){return Pe(this.year(),this.month())},ln.week=ln.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},ln.isoWeek=ln.isoWeeks=function(e){var t=Ie(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},ln.weeksInYear=function(){var e=this.localeData()._week;return Ae(this.year(),e.dow,e.doy)},ln.isoWeeksInYear=function(){return Ae(this.year(),1,4)},ln.date=nn,ln.day=ln.days=function(e){if(!this.isValid())return null!=e?this:NaN;var t,n,s=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(t=e,n=this.localeData(),e="string"!=typeof t?t:isNaN(t)?"number"==typeof(t=n.weekdaysParse(t))?t:null:parseInt(t,10),this.add(e-s,"d")):s},ln.weekday=function(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},ln.isoWeekday=function(e){if(!this.isValid())return null!=e?this:NaN;if(null==e)return this.day()||7;var t,n,s=(t=e,n=this.localeData(),"string"==typeof t?n.weekdaysParse(t)%7||7:isNaN(t)?null:t);return this.day(this.day()%7?s:s-7)},ln.dayOfYear=function(e){var t=_Mathround((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},ln.hour=ln.hours=tt,ln.minute=ln.minutes=sn,ln.second=ln.seconds=an,ln.millisecond=ln.milliseconds=un,ln.utcOffset=function(e,t,n){var s,i=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null==e)return this._isUTC?i:Gt(this);if("string"==typeof e){if(null===(e=Ut(re,e)))return this}else 16>_Mathabs(e)&&!n&&(e*=60);return!this._isUTC&&t&&(s=Gt(this)),this._offset=e,this._isUTC=!0,null!=s&&this.add(s,"m"),i!==e&&(!t||this._changeInProgress?$t(this,At(e-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,c.updateOffset(this,!0),this._changeInProgress=null)),this},ln.utc=function(e){return this.utcOffset(0,e)},ln.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Gt(this),"m")),this},ln.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=Ut(ie,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this},ln.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?Tt(e).utcOffset():0,0==(this.utcOffset()-e)%60)},ln.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},ln.isLocal=function(){return!!this.isValid()&&!this._isUTC},ln.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},ln.isUtc=Vt,ln.isUTC=Vt,ln.zoneAbbr=function(){return this._isUTC?"UTC":""},ln.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},ln.dates=n("dates accessor is deprecated. Use date instead.",nn),ln.months=n("months accessor is deprecated. Use month instead",Fe),ln.years=n("years accessor is deprecated. Use year instead",Oe),ln.zone=n("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}),ln.isDSTShifted=n("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!l(this._isDSTShifted))return this._isDSTShifted;var e={};if(w(e,this),(e=Yt(e))._a){var t=e._isUTC?y(e._a):Tt(e._a);this._isDSTShifted=this.isValid()&&0<a(e._a,t.toArray())}else this._isDSTShifted=!1;return this._isDSTShifted});var hn=P.prototype;function cn(e,t,n,s){var i=lt(),r=y().set(s,t);return i[n](r,e)}function fn(e,t,n){if(d(e)&&(t=e,e=void 0),e=e||"",null!=t)return cn(e,t,n,"month");var s,i=[];for(s=0;12>s;s++){i[s]=cn(e,s,n,"month")}return i}function mn(e,t,n,s){t=("boolean"==typeof e?d(t)&&(n=t,t=void 0):(t=e,e=!1,d(n=t)&&(n=t,t=void 0)),t||"");var i,r=lt(),a=e?r._week.dow:0;if(null!=n)return cn(t,(n+a)%7,s,"day");var o=[];for(i=0;7>i;i++){o[i]=cn(t,(i+a)%7,s,"day")}return o}hn.calendar=function(e,t,n){var s=this._calendar[e]||this._calendar.sameElse;return x(s)?s.call(t,n):s},hn.longDateFormat=function(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])},hn.invalidDate=function(){return this._invalidDate},hn.ordinal=function(e){return this._ordinal.replace("%d",e)},hn.preparse=dn,hn.postformat=dn,hn.relativeTime=function(e,t,n,s){var i=this._relativeTime[n];return x(i)?i(e,t,n,s):i.replace(/%d/i,e)},hn.pastFuture=function(e,t){var n=this._relativeTime[0<e?"future":"past"];return x(n)?n(t):n.replace(/%s/i,t)},hn.set=function(e){var t,n;for(n in e){x(t=e[n])?this[n]=t:this["_"+n]=t}this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},hn.months=function(e,t){return e?o(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||We).test(t)?"format":"standalone"][e.month()]:o(this._months)?this._months:this._months.standalone},hn.monthsShort=function(e,t){return e?o(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[We.test(t)?"format":"standalone"][e.month()]:o(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},hn.monthsParse=function(e,t,n){var s,i,r;if(this._monthsParseExact)return function(e,t,n){var s,i,r,a=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],s=0;12>s;++s){r=y([2e3,s]),this._shortMonthsParse[s]=this.monthsShort(r,"").toLocaleLowerCase(),this._longMonthsParse[s]=this.months(r,"").toLocaleLowerCase()}return n?"MMM"===t?-1!==(i=Ye.call(this._shortMonthsParse,a))?i:null:-1!==(i=Ye.call(this._longMonthsParse,a))?i:null:"MMM"===t?-1!==(i=Ye.call(this._shortMonthsParse,a))?i:-1!==(i=Ye.call(this._longMonthsParse,a))?i:null:-1!==(i=Ye.call(this._longMonthsParse,a))?i:-1!==(i=Ye.call(this._shortMonthsParse,a))?i:null}.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),s=0;12>s;s++){if(i=y([2e3,s]),n&&!this._longMonthsParse[s]&&(this._longMonthsParse[s]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[s]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[s]||(r="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[s]=new RegExp(r.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[s].test(e))return s;if(n&&"MMM"===t&&this._shortMonthsParse[s].test(e))return s;if(!n&&this._monthsParse[s].test(e))return s}},hn.monthsRegex=function(e){return this._monthsParseExact?(m(this,"_monthsRegex")||Ne.call(this),e?this._monthsStrictRegex:this._monthsRegex):(m(this,"_monthsRegex")||(this._monthsRegex=Ue),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},hn.monthsShortRegex=function(e){return this._monthsParseExact?(m(this,"_monthsRegex")||Ne.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(m(this,"_monthsShortRegex")||(this._monthsShortRegex=Le),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},hn.week=function(e){return Ie(e,this._week.dow,this._week.doy).week},hn.firstDayOfYear=function(){return this._week.doy},hn.firstDayOfWeek=function(){return this._week.dow},hn.weekdays=function(e,t){return e?o(this._weekdays)?this._weekdays[e.day()]:this._weekdays[this._weekdays.isFormat.test(t)?"format":"standalone"][e.day()]:o(this._weekdays)?this._weekdays:this._weekdays.standalone},hn.weekdaysMin=function(e){return e?this._weekdaysMin[e.day()]:this._weekdaysMin},hn.weekdaysShort=function(e){return e?this._weekdaysShort[e.day()]:this._weekdaysShort},hn.weekdaysParse=function(e,t,n){var s,i,r;if(this._weekdaysParseExact)return function(e,t,n){var s,i,r,a=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],s=0;7>s;++s){r=y([2e3,1]).day(s),this._minWeekdaysParse[s]=this.weekdaysMin(r,"").toLocaleLowerCase(),this._shortWeekdaysParse[s]=this.weekdaysShort(r,"").toLocaleLowerCase(),this._weekdaysParse[s]=this.weekdays(r,"").toLocaleLowerCase()}return n?"dddd"===t?-1!==(i=Ye.call(this._weekdaysParse,a))?i:null:"ddd"===t?-1!==(i=Ye.call(this._shortWeekdaysParse,a))?i:null:-1!==(i=Ye.call(this._minWeekdaysParse,a))?i:null:"dddd"===t?-1!==(i=Ye.call(this._weekdaysParse,a))?i:-1!==(i=Ye.call(this._shortWeekdaysParse,a))?i:-1!==(i=Ye.call(this._minWeekdaysParse,a))?i:null:"ddd"===t?-1!==(i=Ye.call(this._shortWeekdaysParse,a))?i:-1!==(i=Ye.call(this._weekdaysParse,a))?i:-1!==(i=Ye.call(this._minWeekdaysParse,a))?i:null:-1!==(i=Ye.call(this._minWeekdaysParse,a))?i:-1!==(i=Ye.call(this._weekdaysParse,a))?i:-1!==(i=Ye.call(this._shortWeekdaysParse,a))?i:null}.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),s=0;7>s;s++){if(i=y([2e3,1]).day(s),n&&!this._fullWeekdaysParse[s]&&(this._fullWeekdaysParse[s]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[s]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[s]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[s]||(r="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[s]=new RegExp(r.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[s].test(e))return s;if(n&&"ddd"===t&&this._shortWeekdaysParse[s].test(e))return s;if(n&&"dd"===t&&this._minWeekdaysParse[s].test(e))return s;if(!n&&this._weekdaysParse[s].test(e))return s}},hn.weekdaysRegex=function(e){return this._weekdaysParseExact?(m(this,"_weekdaysRegex")||Be.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(m(this,"_weekdaysRegex")||(this._weekdaysRegex=$e),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},hn.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(m(this,"_weekdaysRegex")||Be.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(m(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=qe),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},hn.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(m(this,"_weekdaysRegex")||Be.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(m(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Je),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},hn.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},hn.meridiem=function(e,t,n){return 11<e?n?"pm":"PM":n?"am":"AM"},ot("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function ordinal(e){var t=e%10;return e+(1===k(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),c.lang=n("moment.lang is deprecated. Use moment.locale instead.",ot),c.langData=n("moment.langData is deprecated. Use moment.localeData instead.",lt);var _n=_Mathabs;function yn(e,t,n,s){var i=At(t,n);return e._milliseconds+=s*i._milliseconds,e._days+=s*i._days,e._months+=s*i._months,e._bubble()}function gn(e){return 0>e?_Mathfloor(e):_Mathceil(e)}function pn(e){return 4800*e/146097}function vn(e){return 146097*e/4800}function wn(e){return function(){return this.as(e)}}var Mn=wn("ms"),Sn=wn("s"),Dn=wn("m"),kn=wn("h"),Yn=wn("d"),On=wn("w"),Tn=wn("M"),xn=wn("y");function bn(e){return function(){return this.isValid()?this._data[e]:NaN}}var Pn=bn("milliseconds"),Wn=bn("seconds"),Hn=bn("minutes"),Rn=bn("hours"),Cn=bn("days"),Fn=bn("months"),Ln=bn("years"),Un=_Mathround,Nn={ss:44,s:45,m:45,h:22,d:26,M:11},Gn=_Mathabs;function Vn(e){return(0<e)-(0>e)||+e}function En(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n=Gn(this._milliseconds)/1e3,s=Gn(this._days),i=Gn(this._months);t=D((e=D(n/60))/60),n%=60,e%=60;var r=D(i/12),a=i%=12,o=s,u=t,l=e,d=n?n.toFixed(3).replace(/\.?0+$/,""):"",h=this.asSeconds();if(!h)return"P0D";var c=0>h?"-":"",f=Vn(this._months)!==Vn(h)?"-":"",m=Vn(this._days)!==Vn(h)?"-":"",_=Vn(this._milliseconds)!==Vn(h)?"-":"";return c+"P"+(r?f+r+"Y":"")+(a?f+a+"M":"")+(o?m+o+"D":"")+(u||l||d?"T":"")+(u?_+u+"H":"")+(l?_+l+"M":"")+(d?_+d+"S":"")}var In=Ht.prototype;return In.isValid=function(){return this._isValid},In.abs=function(){var e=this._data;return this._milliseconds=_n(this._milliseconds),this._days=_n(this._days),this._months=_n(this._months),e.milliseconds=_n(e.milliseconds),e.seconds=_n(e.seconds),e.minutes=_n(e.minutes),e.hours=_n(e.hours),e.months=_n(e.months),e.years=_n(e.years),this},In.add=function(e,t){return yn(this,e,t,1)},In.subtract=function(e,t){return yn(this,e,t,-1)},In.as=function(e){if(!this.isValid())return NaN;var t,n,s=this._milliseconds;if("month"===(e=R(e))||"year"===e)return t=this._days+s/864e5,n=this._months+pn(t),"month"===e?n:n/12;switch(t=this._days+_Mathround(vn(this._months)),e){case"week":return t/7+s/6048e5;case"day":return t+s/864e5;case"hour":return 24*t+s/36e5;case"minute":return 1440*t+s/6e4;case"second":return 86400*t+s/1e3;case"millisecond":return _Mathfloor(864e5*t)+s;default:throw new Error("Unknown unit "+e);}},In.asMilliseconds=Mn,In.asSeconds=Sn,In.asMinutes=Dn,In.asHours=kn,In.asDays=Yn,In.asWeeks=On,In.asMonths=Tn,In.asYears=xn,In.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+2592e6*(this._months%12)+31536e6*k(this._months/12):NaN},In._bubble=function(){var e,t,n,s,i,r=this._milliseconds,a=this._days,o=this._months,u=this._data;return 0<=r&&0<=a&&0<=o||0>=r&&0>=a&&0>=o||(r+=864e5*gn(vn(o)+a),o=a=0),u.milliseconds=r%1e3,e=D(r/1e3),u.seconds=e%60,t=D(e/60),u.minutes=t%60,n=D(t/60),u.hours=n%24,o+=i=D(pn(a+=D(n/24))),a-=gn(vn(i)),s=D(o/12),o%=12,u.days=a,u.months=o,u.years=s,this},In.clone=function(){return At(this)},In.get=function(e){return e=R(e),this.isValid()?this[e+"s"]():NaN},In.milliseconds=Pn,In.seconds=Wn,In.minutes=Hn,In.hours=Rn,In.days=Cn,In.weeks=function(){return D(this.days()/7)},In.months=Fn,In.years=Ln,In.humanize=function(e){if(!this.isValid())return this.localeData().invalidDate();var t,n,s,i,r,a,o,u,l,d,h,c=this.localeData(),f=(n=!e,s=c,i=At(t=this).abs(),r=Un(i.as("s")),a=Un(i.as("m")),o=Un(i.as("h")),u=Un(i.as("d")),l=Un(i.as("M")),d=Un(i.as("y")),(h=r<=Nn.ss&&["s",r]||r<Nn.s&&["ss",r]||1>=a&&["m"]||a<Nn.m&&["mm",a]||1>=o&&["h"]||o<Nn.h&&["hh",o]||1>=u&&["d"]||u<Nn.d&&["dd",u]||1>=l&&["M"]||l<Nn.M&&["MM",l]||1>=d&&["y"]||["yy",d])[2]=n,h[3]=0<+t,h[4]=s,function(e,t,n,s,i){return i.relativeTime(t||1,!!n,e,s)}.apply(null,h));return e&&(f=c.pastFuture(+this,f)),c.postformat(f)},In.toISOString=En,In.toString=En,In.toJSON=En,In.locale=Qt,In.localeData=Kt,In.toIsoString=n("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",En),In.lang=Xt,I("X",0,0,"unix"),I("x",0,0,"valueOf"),ue("x",se),ue("X",/[+-]?\d+(\.\d{1,3})?/),ce("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))}),ce("x",function(e,t,n){n._d=new Date(k(e))}),c.version="2.23.0",e=Tt,c.fn=ln,c.min=function(){return Pt("isBefore",[].slice.call(arguments,0))},c.max=function(){return Pt("isAfter",[].slice.call(arguments,0))},c.now=function(){return Date.now?Date.now():+new Date},c.utc=y,c.unix=function(e){return Tt(1e3*e)},c.months=function(e,t){return fn(e,t,"months")},c.isDate=h,c.locale=ot,c.invalid=v,c.duration=At,c.isMoment=S,c.weekdays=function(e,t,n){return mn(e,t,n,"weekdays")},c.parseZone=function(){return Tt.apply(null,arguments).parseZone()},c.localeData=lt,c.isDuration=Rt,c.monthsShort=function(e,t){return fn(e,t,"monthsShort")},c.weekdaysMin=function(e,t,n){return mn(e,t,n,"weekdaysMin")},c.defineLocale=ut,c.updateLocale=function(e,t){if(null!=t){var n,s,i=nt;null!=(s=at(e))&&(i=s._config),(n=new P(t=b(i,t))).parentLocale=st[e],st[e]=n,ot(e)}else null!=st[e]&&(null!=st[e].parentLocale?st[e]=st[e].parentLocale:null!=st[e]&&delete st[e]);return st[e]},c.locales=function(){return s(st)},c.weekdaysShort=function(e,t,n){return mn(e,t,n,"weekdaysShort")},c.normalizeUnits=R,c.relativeTimeRounding=function(e){return void 0===e?Un:"function"==typeof e&&(Un=e,!0)},c.relativeTimeThreshold=function(e,t){return void 0!==Nn[e]&&(void 0===t?Nn[e]:(Nn[e]=t,"s"===e&&(Nn.ss=t-1),!0))},c.calendarFormat=function(e,t){var n=e.diff(t,"days",!0);return-6>n?"sameElse":-1>n?"lastWeek":0>n?"lastDay":1>n?"sameDay":2>n?"nextDay":7>n?"nextWeek":"sameElse"},c.prototype=ln,c.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},c});</script><dom-module id="moment-element" assetpath="../bower_components/moment-element/"><template>[[output]]</template><script>Polymer({is:"moment-element",properties:{datetime:{type:String,value:function value(){return new Date}},inputFormat:{type:String,value:""},outputFormat:{type:String,value:""},from:{type:String,value:""},to:{type:String,value:""},output:{type:String,notify:!0},__moment:{type:Object,computed:"_computeMoment(datetime, inputFormat)"}},observers:["_computeOutput(__moment, outputFormat, from, to)"],_computeMoment:function _computeMoment(datetime,inputFormat){return inputFormat?moment(datetime,inputFormat):moment(datetime)},getMoment:function getMoment(){return this.__moment},update:function update(){this._computeOutput(this.__moment,this.outputFormat,this.from,this.to)},_computeOutput:function _computeOutput(_moment,outputFormat,from,to){var output;if(outputFormat){output=_moment.format(outputFormat)}else if(from){output="now"===from?_moment.fromNow():_moment.from(moment(from))}else if(to){output="now"===to?_moment.toNow():_moment.to(moment(to))}else{output=_moment.toString()}this.set("output",output)}});</script></dom-module><dom-module id="series-layout-location" assetpath="../bower_components/wc-series-preview/"><template><style>:host{display:block;}.layout{stroke:#fff;stroke-width:1;fill:none;}.cube{fill-opacity:0;}.cube.full{fill:var(--primary-text-color);fill-opacity:.5;}.l1.rl0, .l2.rl0, .l3.rl0, .l4.rl0, .l5.rl0{stroke:none;}.l2.rl1, .l3.rl1, .l4.rl1, .l5.rl1{stroke:none;}.l3.rl2, .l4.rl2, .l5.rl2{stroke:none;}.l4.rl3, .l5.rl3{stroke:none;}.l5.rl4{stroke:none;}.l0.rl5, .l1.rl5, .l2.rl5, .l3.rl5, .l4.rl5{stroke:none;}</style><svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width$="{{size}}" height$="{{size}}" viewBox="0 0 48 32"><path class$="cube {{_fill(0, tick, currentLayout, layout, seriesUid)}}" d="M0 0 L16 0 L16 16 L0 16 L0 0"></path><path class$="cube {{_fill(1, tick, currentLayout, layout, seriesUid)}}" d="M16 0 L32 0 L32 16 L16 16 L16 0"></path><path class$="cube {{_fill(2, tick, currentLayout, layout, seriesUid)}}" d="M0 16 L16 16 L16 32 L0 32 L0 16"></path><path class$="cube {{_fill(3, tick, currentLayout, layout, seriesUid)}}" d="M16 16 L32 16 L32 32 L16 32 L16 16"></path><path class$="cube {{_fill(4, tick, currentLayout, layout, seriesUid)}}" d="M32 0 L48 0 L48 16 L32 16 L32 0"></path><path class$="cube {{_fill(5, tick, currentLayout, layout, seriesUid)}}" d="M32 16 L48 16 L48 32 L32 32 L32 16"></path><path class$="layout l0 rl[[layout]]" d="M0 0 L32 0 L32 32 L0 32 L 0 0"></path><path class$="layout l1 rl[[layout]]" d="M16 0 L16 32"></path><path class$="layout l2 rl[[layout]]" d="M16 16 L32 16"></path><path class$="layout l3 rl[[layout]]" d="M0 16 L16 16"></path><path class$="layout l4 rl[[layout]]" d="M32 0 L48 0 L48 32 L32 32 M32 16 L48 16"></path><path class$="layout l5 rl[[layout]]" d="M0 0 L64 0 L64 32 L0 32 L0 0 M16 0 L16 32 M32 32 L32 0"></path></svg></template><script>var SeriesLayoutLocation=function(_Polymer$Element){babelHelpers.inherits(SeriesLayoutLocation,_Polymer$Element);function SeriesLayoutLocation(){babelHelpers.classCallCheck(this,SeriesLayoutLocation);return babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(SeriesLayoutLocation).apply(this,arguments))}babelHelpers.createClass(SeriesLayoutLocation,[{key:"_currentLayoutChanged",value:function _currentLayoutChanged(currentLayout){if(currentLayout===void 0){return}this.tick=!this.tick}},{key:"_fill",value:function _fill(quarter,tick,layout,layoutType,seriesUid){if(0===layoutType){if(layout[0]===seriesUid){if(4>quarter){return"full"}}}if(1===layoutType){if(layout[0]===seriesUid){if(0===quarter||2===quarter){return"full"}}if(layout[1]===seriesUid){if(1===quarter||3===quarter){return"full"}}}if(2===layoutType){if(layout[0]===seriesUid){if(0===quarter||2===quarter){return"full"}}if(layout[1]===seriesUid){if(1===quarter){return"full"}}if(layout[2]===seriesUid){if(3===quarter){return"full"}}}if(3===layoutType){if(layout[0]===seriesUid){if(0===quarter){return"full"}}if(layout[1]===seriesUid){if(2===quarter){return"full"}}if(layout[2]===seriesUid){if(1===quarter){return"full"}}if(layout[3]===seriesUid){if(3===quarter){return"full"}}}if(4===layoutType){if(layout[0]===seriesUid){if(0===quarter){return"full"}}if(layout[1]===seriesUid){if(2===quarter){return"full"}}if(layout[2]===seriesUid){if(1===quarter){return"full"}}if(layout[3]===seriesUid){if(3===quarter){return"full"}}if(layout[4]===seriesUid){if(4===quarter){return"full"}}if(layout[5]===seriesUid){if(5===quarter){return"full"}}}if(5===layoutType){if(layout[0]===seriesUid){if(0===quarter||2===quarter){return"full"}}if(layout[1]===seriesUid){if(1===quarter||3===quarter){return"full"}}if(layout[2]===seriesUid){if(4===quarter||5===quarter){return"full"}}}}}],[{key:"is",get:function get(){return"series-layout-location"}},{key:"properties",get:function get(){return{layout:{type:Number,value:0},currentLayout:{type:Array,value:[-1]},seriesUid:{type:Number},size:{type:Number,value:32},tick:{type:Boolean,value:!0}}}},{key:"observers",get:function get(){return["_currentLayoutChanged(currentLayout.*)"]}}]);return SeriesLayoutLocation}(Polymer.Element);window.customElements.define(SeriesLayoutLocation.is,SeriesLayoutLocation);</script></dom-module><dom-module id="wc-series-preview" assetpath="../bower_components/wc-series-preview/"><template><style>:host{display:block;}.previewContainer{height:128px;width:128px;margin:auto;overflow:hidden;}.seriesPreview{border:1px solid rgba(0, 0, 0, 0);position:relative;}.seriesPreview:hover{cursor:pointer;border-color:var(--accent-color);}.seriesPreview[selected]{border-color:var(--accent-color);}.overlay{position:absolute;top:0;bottom:0;left:0;right:0;background:var(--accent-color);opacity:.3;z-index:1;pointer-events:none;}img{min-width:128px;min-height:128px;background-color:#000;}.about{font-size:12px;color:var(--primary-text-color);position:absolute;pointer-events:none;background-color:#212121;opacity:.7;}.about.description{top:50%;left:50%;transform:translate(-50%,-50%);margin:auto;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;text-align:center;font-weight:normal;padding:2px;z-index:2;max-width:128px;}.about.date{bottom:0px;right:4px;font-size:11px;}.about.files{bottom:0px;left:4px;font-size:11px;}.about{white-space:nowrap;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;}series-layout-location{position:absolute;top:2px;right:2px;z-index:2;}[hidden]{display:none;}</style><div class="seriesPreview"><div hidden$="{{!_seriesActive(active,currentLayout,series)}}" class="overlay"></div><div class="previewContainer"><img id="image" draggable="false" on-mousedown="onDown" on-mousemove="onMove" on-mouseout="centerThumbnail"></div><series-layout-location hidden$="{{!_seriesInLayout(currentLayout,series,tick)}}" layout="[[layout]]" current-layout="[[currentLayout]]" series-uid="[[series.details.series.uid]]" size="18"></series-layout-location><div class="about description">[[series.details.series.description]]</div><div class="about date"><moment-element datetime="[[series.details.series.date]]" output-format="MMM DD[,] YYYY"></moment-element></div><div class="about files">[[series.details.series.files]] images</div></div></template><script>var WCSeriesPreview=function(_Polymer$Element){babelHelpers.inherits(WCSeriesPreview,_Polymer$Element);function WCSeriesPreview(){babelHelpers.classCallCheck(this,WCSeriesPreview);return babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(WCSeriesPreview).apply(this,arguments))}babelHelpers.createClass(WCSeriesPreview,[{key:"onDown",value:function onDown(e){this.$.image.style.display="none"}},{key:"onMove",value:function onMove(e){var target=e.currentTarget,rect=target.getBoundingClientRect(),normalizedPosition=(e.clientX-rect.left)/target.clientWidth;this.positionThumbnail(normalizedPosition,target)}},{key:"centerThumbnail",value:function centerThumbnail(e){var target=e.currentTarget;this.positionThumbnail(.5,target)}},{key:"positionThumbnail",value:function positionThumbnail(normalizedPosition,target){var THUMBNAIL_HEIGHT=128,TOTAL_HEIGHT=target.offsetHeight,nbFrames=TOTAL_HEIGHT/THUMBNAIL_HEIGHT,offset=Math.floor(normalizedPosition*nbFrames)*THUMBNAIL_HEIGHT;target.style.transform="translateY(-".concat(offset,"px)")}},{key:"_seriesDeepChange",value:function _seriesDeepChange(series){if("series.details.series.preview.blob"===series.path){this._previewBlobChanged(series.value)}}},{key:"_previewBlobChanged",value:function _previewBlobChanged(previewBlob){if(previewBlob===void 0){return}var urlCreator=window.URL||window.webkitURL,imageURL=urlCreator.createObjectURL(previewBlob);this.$.image.onload=this.centerThumbnail.bind(this);this.$.image.src=imageURL}},{key:"_seriesChanged",value:function _seriesChanged(series){if(null===series.details.series.preview.blob||""===series.details.series.preview.blob){this.$.image.onload=this.centerThumbnail.bind(this);var url=series.details.series.preview.url;this.$.image.src=url}else{this._previewBlobChanged(series.details.series.preview.blob)}}},{key:"_layoutChanged",value:function _layoutChanged(layout){this.tick=!this.tick;if(this.series===void 0||"currentLayout"===layout.path){return}var act=this.active;this.active=-1;this.active=act}},{key:"_activeChanged",value:function _activeChanged(active){}},{key:"_currentLayoutChanged",value:function _currentLayoutChanged(currentLayout){}},{key:"_seriesActive",value:function _seriesActive(activeWindow,layout,series){if(activeWindow===void 0||layout===void 0||series===void 0){return!1}var seriesUid=series.details.series.uid,activeUid=layout[activeWindow];return seriesUid===activeUid}},{key:"_seriesInLayout",value:function _seriesInLayout(layout,series,tick){if(layout===void 0||series===void 0){return!1}for(var seriesUid=series.details.series.uid,i=0;i<layout.length;i++){if(layout[i]===seriesUid){return!0}}return!1}}],[{key:"is",get:function get(){return"wc-series-preview"}},{key:"properties",get:function get(){return{active:{type:Number,observer:"_activeChanged"},currentLayout:{type:Array,value:function value(){return[-1]},observer:"_currentLayoutChanged"},layout:{type:Number,value:0},series:{type:Object,observer:"_seriesChanged"},tick:{type:Boolean,value:!0}}}},{key:"observers",get:function get(){return["_layoutChanged(currentLayout.*)","_previewBlobChanged(series.preview.blob)","_seriesDeepChange(series.*)"]}}]);return WCSeriesPreview}(Polymer.Element);window.customElements.define(WCSeriesPreview.is,WCSeriesPreview);</script></dom-module><script>Polymer.PaperItemBehaviorImpl={hostAttributes:{role:"option",tabindex:"0"}};Polymer.PaperItemBehavior=[Polymer.IronButtonState,Polymer.IronControlState,Polymer.PaperItemBehaviorImpl];</script><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto+Mono:400,700|Roboto:400,300,300italic,400italic,500,500italic,700,700italic" crossorigin="anonymous"><custom-style><style is="custom-style">html{--paper-font-common-base:{font-family:'Roboto', 'Noto', sans-serif;-webkit-font-smoothing:antialiased;};--paper-font-common-code:{font-family:'Roboto Mono', 'Consolas', 'Menlo', monospace;-webkit-font-smoothing:antialiased;};--paper-font-common-expensive-kerning:{text-rendering:optimizeLegibility;};--paper-font-common-nowrap:{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;};--paper-font-display4:{@apply --paper-font-common-base;@apply --paper-font-common-nowrap;font-size:112px;font-weight:300;letter-spacing:-.044em;line-height:120px;};--paper-font-display3:{@apply --paper-font-common-base;@apply --paper-font-common-nowrap;font-size:56px;font-weight:400;letter-spacing:-.026em;line-height:60px;};--paper-font-display2:{@apply --paper-font-common-base;font-size:45px;font-weight:400;letter-spacing:-.018em;line-height:48px;};--paper-font-display1:{@apply --paper-font-common-base;font-size:34px;font-weight:400;letter-spacing:-.01em;line-height:40px;};--paper-font-headline:{@apply --paper-font-common-base;font-size:24px;font-weight:400;letter-spacing:-.012em;line-height:32px;};--paper-font-title:{@apply --paper-font-common-base;@apply --paper-font-common-nowrap;font-size:20px;font-weight:500;line-height:28px;};--paper-font-subhead:{@apply --paper-font-common-base;font-size:16px;font-weight:400;line-height:24px;};--paper-font-body2:{@apply --paper-font-common-base;font-size:14px;font-weight:500;line-height:24px;};--paper-font-body1:{@apply --paper-font-common-base;font-size:14px;font-weight:400;line-height:20px;};--paper-font-caption:{@apply --paper-font-common-base;@apply --paper-font-common-nowrap;font-size:12px;font-weight:400;letter-spacing:0.011em;line-height:20px;};--paper-font-menu:{@apply --paper-font-common-base;@apply --paper-font-common-nowrap;font-size:13px;font-weight:500;line-height:24px;};--paper-font-button:{@apply --paper-font-common-base;@apply --paper-font-common-nowrap;font-size:14px;font-weight:500;letter-spacing:0.018em;line-height:24px;text-transform:uppercase;};--paper-font-code2:{@apply --paper-font-common-code;font-size:14px;font-weight:700;line-height:20px;};--paper-font-code1:{@apply --paper-font-common-code;font-size:14px;font-weight:500;line-height:20px;};}</style></custom-style><dom-module id="paper-item-shared-styles" assetpath="../bower_components/paper-item/"><template><style>:host, .paper-item{display:block;position:relative;min-height:var(--paper-item-min-height, 48px);padding:0px 16px;}.paper-item{@apply --paper-font-subhead;border:none;outline:none;background:white;width:100%;text-align:left;}:host([hidden]), .paper-item[hidden]{display:none !important;}:host(.iron-selected), .paper-item.iron-selected{font-weight:var(--paper-item-selected-weight, bold);@apply --paper-item-selected;}:host([disabled]), .paper-item[disabled]{color:var(--paper-item-disabled-color, var(--disabled-text-color));@apply --paper-item-disabled;}:host(:focus), .paper-item:focus{position:relative;outline:0;@apply --paper-item-focused;}:host(:focus):before, .paper-item:focus:before{@apply --layout-fit;background:currentColor;content:'';opacity:var(--dark-divider-opacity);pointer-events:none;@apply --paper-item-focused-before;}</style></template></dom-module><dom-module id="paper-item" assetpath="../bower_components/paper-item/"><template><style include="paper-item-shared-styles">:host{@apply --layout-horizontal;@apply --layout-center;@apply --paper-font-subhead;@apply --paper-item;}</style><slot></slot></template><script>Polymer({is:"paper-item",behaviors:[Polymer.PaperItemBehavior]});</script></dom-module><script>Polymer.IronMenuBehaviorImpl={properties:{focusedItem:{observer:"_focusedItemChanged",readOnly:!0,type:Object},attrForItemTitle:{type:String},disabled:{type:Boolean,value:!1,observer:"_disabledChanged"}},_MODIFIER_KEYS:["Alt","AltGraph","CapsLock","Control","Fn","FnLock","Hyper","Meta","NumLock","OS","ScrollLock","Shift","Super","Symbol","SymbolLock"],_SEARCH_RESET_TIMEOUT_MS:1e3,_previousTabIndex:0,hostAttributes:{role:"menu"},observers:["_updateMultiselectable(multi)"],listeners:{focus:"_onFocus",keydown:"_onKeydown","iron-items-changed":"_onIronItemsChanged"},keyBindings:{up:"_onUpKey",down:"_onDownKey",esc:"_onEscKey","shift+tab:keydown":"_onShiftTabDown"},attached:function attached(){this._resetTabindices()},select:function select(value){if(this._defaultFocusAsync){this.cancelAsync(this._defaultFocusAsync);this._defaultFocusAsync=null}var item=this._valueToItem(value);if(item&&item.hasAttribute("disabled"))return;this._setFocusedItem(item);Polymer.IronMultiSelectableBehaviorImpl.select.apply(this,arguments)},_resetTabindices:function _resetTabindices(){var selectedItem=this.multi?this.selectedItems&&this.selectedItems[0]:this.selectedItem;this.items.forEach(function(item){item.setAttribute("tabindex",item===selectedItem?"0":"-1")},this)},_updateMultiselectable:function _updateMultiselectable(multi){if(multi){this.setAttribute("aria-multiselectable","true")}else{this.removeAttribute("aria-multiselectable")}},_focusWithKeyboardEvent:function _focusWithKeyboardEvent(event){if(-1!==this._MODIFIER_KEYS.indexOf(event.key))return;this.cancelDebouncer("_clearSearchText");var searchText=this._searchText||"",key=event.key&&1==event.key.length?event.key:String.fromCharCode(event.keyCode);searchText+=key.toLocaleLowerCase();for(var searchLength=searchText.length,i=0,item;item=this.items[i];i++){if(item.hasAttribute("disabled")){continue}var attr=this.attrForItemTitle||"textContent",title=(item[attr]||item.getAttribute(attr)||"").trim();if(title.length<searchLength){continue}if(title.slice(0,searchLength).toLocaleLowerCase()==searchText){this._setFocusedItem(item);break}}this._searchText=searchText;this.debounce("_clearSearchText",this._clearSearchText,this._SEARCH_RESET_TIMEOUT_MS)},_clearSearchText:function _clearSearchText(){this._searchText=""},_focusPrevious:function _focusPrevious(){for(var length=this.items.length,curFocusIndex=+this.indexOf(this.focusedItem),i=1,item;i<length+1;i++){item=this.items[(curFocusIndex-i+length)%length];if(!item.hasAttribute("disabled")){var owner=Polymer.dom(item).getOwnerRoot()||document;this._setFocusedItem(item);if(Polymer.dom(owner).activeElement==item){return}}}},_focusNext:function _focusNext(){for(var length=this.items.length,curFocusIndex=+this.indexOf(this.focusedItem),i=1,item;i<length+1;i++){item=this.items[(curFocusIndex+i)%length];if(!item.hasAttribute("disabled")){var owner=Polymer.dom(item).getOwnerRoot()||document;this._setFocusedItem(item);if(Polymer.dom(owner).activeElement==item){return}}}},_applySelection:function _applySelection(item,isSelected){if(isSelected){item.setAttribute("aria-selected","true")}else{item.removeAttribute("aria-selected")}Polymer.IronSelectableBehavior._applySelection.apply(this,arguments)},_focusedItemChanged:function _focusedItemChanged(focusedItem,old){old&&old.setAttribute("tabindex","-1");if(focusedItem&&!focusedItem.hasAttribute("disabled")&&!this.disabled){focusedItem.setAttribute("tabindex","0");focusedItem.focus()}},_onIronItemsChanged:function _onIronItemsChanged(event){if(event.detail.addedNodes.length){this._resetTabindices()}},_onShiftTabDown:function _onShiftTabDown(event){var oldTabIndex=this.getAttribute("tabindex");Polymer.IronMenuBehaviorImpl._shiftTabPressed=!0;this._setFocusedItem(null);this.setAttribute("tabindex","-1");this.async(function(){this.setAttribute("tabindex",oldTabIndex);Polymer.IronMenuBehaviorImpl._shiftTabPressed=!1},1)},_onFocus:function _onFocus(event){if(Polymer.IronMenuBehaviorImpl._shiftTabPressed){return}var rootTarget=Polymer.dom(event).rootTarget;if(rootTarget!==this&&"undefined"!==typeof rootTarget.tabIndex&&!this.isLightDescendant(rootTarget)){return}this._defaultFocusAsync=this.async(function(){var selectedItem=this.multi?this.selectedItems&&this.selectedItems[0]:this.selectedItem;this._setFocusedItem(null);if(selectedItem){this._setFocusedItem(selectedItem)}else if(this.items[0]){this._focusNext()}})},_onUpKey:function _onUpKey(event){this._focusPrevious();event.detail.keyboardEvent.preventDefault()},_onDownKey:function _onDownKey(event){this._focusNext();event.detail.keyboardEvent.preventDefault()},_onEscKey:function _onEscKey(event){var focusedItem=this.focusedItem;if(focusedItem){focusedItem.blur()}},_onKeydown:function _onKeydown(event){if(!this.keyboardEventMatchesKeys(event,"up down esc")){this._focusWithKeyboardEvent(event)}event.stopPropagation()},_activateHandler:function _activateHandler(event){Polymer.IronSelectableBehavior._activateHandler.call(this,event);event.stopPropagation()},_disabledChanged:function _disabledChanged(disabled){if(disabled){this._previousTabIndex=this.hasAttribute("tabindex")?this.tabIndex:0;this.removeAttribute("tabindex")}else if(!this.hasAttribute("tabindex")){this.setAttribute("tabindex",this._previousTabIndex)}}};Polymer.IronMenuBehaviorImpl._shiftTabPressed=!1;Polymer.IronMenuBehavior=[Polymer.IronMultiSelectableBehavior,Polymer.IronA11yKeysBehavior,Polymer.IronMenuBehaviorImpl];</script><dom-module id="paper-listbox" assetpath="../bower_components/paper-listbox/"><template><style>:host{display:block;padding:8px 0;background:var(--paper-listbox-background-color, var(--primary-background-color));color:var(--paper-listbox-color, var(--primary-text-color));@apply --paper-listbox;}</style><slot></slot></template><script>(function(){Polymer({is:"paper-listbox",behaviors:[Polymer.IronMenuBehavior],hostAttributes:{role:"listbox"}})})();</script></dom-module><script>Polymer.IronFitBehavior={properties:{sizingTarget:{type:Object,value:function value(){return this}},fitInto:{type:Object,value:window},noOverlap:{type:Boolean},positionTarget:{type:Element},horizontalAlign:{type:String},verticalAlign:{type:String},dynamicAlign:{type:Boolean},horizontalOffset:{type:Number,value:0,notify:!0},verticalOffset:{type:Number,value:0,notify:!0},autoFitOnAttach:{type:Boolean,value:!1},_fitInfo:{type:Object}},get _fitWidth(){var fitWidth;if(this.fitInto===window){fitWidth=this.fitInto.innerWidth}else{fitWidth=this.fitInto.getBoundingClientRect().width}return fitWidth},get _fitHeight(){var fitHeight;if(this.fitInto===window){fitHeight=this.fitInto.innerHeight}else{fitHeight=this.fitInto.getBoundingClientRect().height}return fitHeight},get _fitLeft(){var fitLeft;if(this.fitInto===window){fitLeft=0}else{fitLeft=this.fitInto.getBoundingClientRect().left}return fitLeft},get _fitTop(){var fitTop;if(this.fitInto===window){fitTop=0}else{fitTop=this.fitInto.getBoundingClientRect().top}return fitTop},get _defaultPositionTarget(){var parent=Polymer.dom(this).parentNode;if(parent&&parent.nodeType===Node.DOCUMENT_FRAGMENT_NODE){parent=parent.host}return parent},get _localeHorizontalAlign(){if(this._isRTL){if("right"===this.horizontalAlign){return"left"}if("left"===this.horizontalAlign){return"right"}}return this.horizontalAlign},get __shouldPosition(){return(this.horizontalAlign||this.verticalAlign)&&this.positionTarget},attached:function attached(){if("undefined"===typeof this._isRTL){this._isRTL="rtl"==window.getComputedStyle(this).direction}this.positionTarget=this.positionTarget||this._defaultPositionTarget;if(this.autoFitOnAttach){if("none"===window.getComputedStyle(this).display){setTimeout(function(){this.fit()}.bind(this))}else{window.ShadyDOM&&ShadyDOM.flush();this.fit()}}},detached:function detached(){if(this.__deferredFit){clearTimeout(this.__deferredFit);this.__deferredFit=null}},fit:function fit(){this.position();this.constrain();this.center()},_discoverInfo:function _discoverInfo(){if(this._fitInfo){return}var target=window.getComputedStyle(this),sizer=window.getComputedStyle(this.sizingTarget);this._fitInfo={inlineStyle:{top:this.style.top||"",left:this.style.left||"",position:this.style.position||""},sizerInlineStyle:{maxWidth:this.sizingTarget.style.maxWidth||"",maxHeight:this.sizingTarget.style.maxHeight||"",boxSizing:this.sizingTarget.style.boxSizing||""},positionedBy:{vertically:"auto"!==target.top?"top":"auto"!==target.bottom?"bottom":null,horizontally:"auto"!==target.left?"left":"auto"!==target.right?"right":null},sizedBy:{height:"none"!==sizer.maxHeight,width:"none"!==sizer.maxWidth,minWidth:parseInt(sizer.minWidth,10)||0,minHeight:parseInt(sizer.minHeight,10)||0},margin:{top:parseInt(target.marginTop,10)||0,right:parseInt(target.marginRight,10)||0,bottom:parseInt(target.marginBottom,10)||0,left:parseInt(target.marginLeft,10)||0}}},resetFit:function resetFit(){var info=this._fitInfo||{};for(var property in info.sizerInlineStyle){this.sizingTarget.style[property]=info.sizerInlineStyle[property]}for(var property in info.inlineStyle){this.style[property]=info.inlineStyle[property]}this._fitInfo=null},refit:function refit(){var scrollLeft=this.sizingTarget.scrollLeft,scrollTop=this.sizingTarget.scrollTop;this.resetFit();this.fit();this.sizingTarget.scrollLeft=scrollLeft;this.sizingTarget.scrollTop=scrollTop},position:function position(){var _Mathmax=Math.max,_Mathmin=Math.min;if(!this.__shouldPosition){return}this._discoverInfo();this.style.position="fixed";this.sizingTarget.style.boxSizing="border-box";this.style.left="0px";this.style.top="0px";var rect=this.getBoundingClientRect(),positionRect=this.__getNormalizedRect(this.positionTarget),fitRect=this.__getNormalizedRect(this.fitInto),margin=this._fitInfo.margin,size={width:rect.width+margin.left+margin.right,height:rect.height+margin.top+margin.bottom},position=this.__getPosition(this._localeHorizontalAlign,this.verticalAlign,size,rect,positionRect,fitRect),left=position.left+margin.left,top=position.top+margin.top,right=_Mathmin(fitRect.right-margin.right,left+rect.width),bottom=_Mathmin(fitRect.bottom-margin.bottom,top+rect.height);left=_Mathmax(fitRect.left+margin.left,_Mathmin(left,right-this._fitInfo.sizedBy.minWidth));top=_Mathmax(fitRect.top+margin.top,_Mathmin(top,bottom-this._fitInfo.sizedBy.minHeight));this.sizingTarget.style.maxWidth=_Mathmax(right-left,this._fitInfo.sizedBy.minWidth)+"px";this.sizingTarget.style.maxHeight=_Mathmax(bottom-top,this._fitInfo.sizedBy.minHeight)+"px";this.style.left=left-rect.left+"px";this.style.top=top-rect.top+"px"},constrain:function constrain(){if(this.__shouldPosition){return}this._discoverInfo();var info=this._fitInfo;if(!info.positionedBy.vertically){this.style.position="fixed";this.style.top="0px"}if(!info.positionedBy.horizontally){this.style.position="fixed";this.style.left="0px"}this.sizingTarget.style.boxSizing="border-box";var rect=this.getBoundingClientRect();if(!info.sizedBy.height){this.__sizeDimension(rect,info.positionedBy.vertically,"top","bottom","Height")}if(!info.sizedBy.width){this.__sizeDimension(rect,info.positionedBy.horizontally,"left","right","Width")}},_sizeDimension:function _sizeDimension(rect,positionedBy,start,end,extent){this.__sizeDimension(rect,positionedBy,start,end,extent)},__sizeDimension:function __sizeDimension(rect,positionedBy,start,end,extent){var info=this._fitInfo,fitRect=this.__getNormalizedRect(this.fitInto),max="Width"===extent?fitRect.width:fitRect.height,flip=positionedBy===end,offset=flip?max-rect[end]:rect[start],margin=info.margin[flip?start:end],offsetExtent="offset"+extent,sizingOffset=this[offsetExtent]-this.sizingTarget[offsetExtent];this.sizingTarget.style["max"+extent]=max-margin-offset-sizingOffset+"px"},center:function center(){if(this.__shouldPosition){return}this._discoverInfo();var positionedBy=this._fitInfo.positionedBy;if(positionedBy.vertically&&positionedBy.horizontally){return}this.style.position="fixed";if(!positionedBy.vertically){this.style.top="0px"}if(!positionedBy.horizontally){this.style.left="0px"}var rect=this.getBoundingClientRect(),fitRect=this.__getNormalizedRect(this.fitInto);if(!positionedBy.vertically){var top=fitRect.top-rect.top+(fitRect.height-rect.height)/2;this.style.top=top+"px"}if(!positionedBy.horizontally){var left=fitRect.left-rect.left+(fitRect.width-rect.width)/2;this.style.left=left+"px"}},__getNormalizedRect:function __getNormalizedRect(target){if(target===document.documentElement||target===window){return{top:0,left:0,width:window.innerWidth,height:window.innerHeight,right:window.innerWidth,bottom:window.innerHeight}}return target.getBoundingClientRect()},__getOffscreenArea:function __getOffscreenArea(position,size,fitRect){var _Mathabs=Math.abs,_Mathmin2=Math.min,verticalCrop=_Mathmin2(0,position.top)+_Mathmin2(0,fitRect.bottom-(position.top+size.height)),horizontalCrop=_Mathmin2(0,position.left)+_Mathmin2(0,fitRect.right-(position.left+size.width));return _Mathabs(verticalCrop)*size.width+_Mathabs(horizontalCrop)*size.height},__getPosition:function __getPosition(hAlign,vAlign,size,sizeNoMargins,positionRect,fitRect){var positions=[{verticalAlign:"top",horizontalAlign:"left",top:positionRect.top+this.verticalOffset,left:positionRect.left+this.horizontalOffset},{verticalAlign:"top",horizontalAlign:"right",top:positionRect.top+this.verticalOffset,left:positionRect.right-size.width-this.horizontalOffset},{verticalAlign:"bottom",horizontalAlign:"left",top:positionRect.bottom-size.height-this.verticalOffset,left:positionRect.left+this.horizontalOffset},{verticalAlign:"bottom",horizontalAlign:"right",top:positionRect.bottom-size.height-this.verticalOffset,left:positionRect.right-size.width-this.horizontalOffset}];if(this.noOverlap){for(var i=0,l=positions.length,copy;i<l;i++){copy={};for(var key in positions[i]){copy[key]=positions[i][key]}positions.push(copy)}positions[0].top=positions[1].top+=positionRect.height;positions[2].top=positions[3].top-=positionRect.height;positions[4].left=positions[6].left+=positionRect.width;positions[5].left=positions[7].left-=positionRect.width}vAlign="auto"===vAlign?null:vAlign;hAlign="auto"===hAlign?null:hAlign;if(!hAlign||"center"===hAlign){positions.push({verticalAlign:"top",horizontalAlign:"center",top:positionRect.top+this.verticalOffset+(this.noOverlap?positionRect.height:0),left:positionRect.left-sizeNoMargins.width/2+positionRect.width/2+this.horizontalOffset});positions.push({verticalAlign:"bottom",horizontalAlign:"center",top:positionRect.bottom-size.height-this.verticalOffset-(this.noOverlap?positionRect.height:0),left:positionRect.left-sizeNoMargins.width/2+positionRect.width/2+this.horizontalOffset})}if(!vAlign||"middle"===vAlign){positions.push({verticalAlign:"middle",horizontalAlign:"left",top:positionRect.top-sizeNoMargins.height/2+positionRect.height/2+this.verticalOffset,left:positionRect.left+this.horizontalOffset+(this.noOverlap?positionRect.width:0)});positions.push({verticalAlign:"middle",horizontalAlign:"right",top:positionRect.top-sizeNoMargins.height/2+positionRect.height/2+this.verticalOffset,left:positionRect.right-size.width-this.horizontalOffset-(this.noOverlap?positionRect.width:0)})}if("middle"===vAlign&&"center"===hAlign){positions.push({verticalAlign:"middle",horizontalAlign:"center",top:positionRect.top-sizeNoMargins.height/2+positionRect.height/2+this.verticalOffset,left:positionRect.left-sizeNoMargins.width/2+positionRect.width/2+this.horizontalOffset})}for(var position,i=0;i<positions.length;i++){var candidate=positions[i],vAlignOk=candidate.verticalAlign===vAlign,hAlignOk=candidate.horizontalAlign===hAlign;if(!this.dynamicAlign&&!this.noOverlap&&vAlignOk&&hAlignOk){position=candidate;break}var alignOk=(!vAlign||vAlignOk)&&(!hAlign||hAlignOk);if(!this.dynamicAlign&&!alignOk){continue}candidate.offscreenArea=this.__getOffscreenArea(candidate,size,fitRect);if(0===candidate.offscreenArea&&alignOk){position=candidate;break}position=position||candidate;var diff=candidate.offscreenArea-position.offscreenArea;if(0>diff||0===diff&&(vAlignOk||hAlignOk)){position=candidate}}return position}};</script><dom-module id="iron-overlay-backdrop" assetpath="../bower_components/iron-overlay-behavior/"><template><style>:host{position:fixed;top:0;left:0;width:100%;height:100%;background-color:var(--iron-overlay-backdrop-background-color, #000);opacity:0;transition:opacity 0.2s;pointer-events:none;@apply --iron-overlay-backdrop;}:host(.opened){opacity:var(--iron-overlay-backdrop-opacity, 0.6);pointer-events:auto;@apply --iron-overlay-backdrop-opened;}</style><slot></slot></template></dom-module><script>Polymer({is:"iron-overlay-backdrop",properties:{opened:{reflectToAttribute:!0,type:Boolean,value:!1,observer:"_openedChanged"}},listeners:{transitionend:"_onTransitionend"},created:function created(){this.__openedRaf=null},attached:function attached(){this.opened&&this._openedChanged(this.opened)},prepare:function prepare(){if(this.opened&&!this.parentNode){Polymer.dom(document.body).appendChild(this)}},open:function open(){this.opened=!0},close:function close(){this.opened=!1},complete:function complete(){if(!this.opened&&this.parentNode===document.body){Polymer.dom(this.parentNode).removeChild(this)}},_onTransitionend:function _onTransitionend(event){if(event&&event.target===this){this.complete()}},_openedChanged:function _openedChanged(opened){if(opened){this.prepare()}else{var cs=window.getComputedStyle(this);if("0s"===cs.transitionDuration||0==cs.opacity){this.complete()}}if(!this.isAttached){return}if(this.__openedRaf){window.cancelAnimationFrame(this.__openedRaf);this.__openedRaf=null}this.scrollTop=this.scrollTop;this.__openedRaf=window.requestAnimationFrame(function(){this.__openedRaf=null;this.toggleClass("opened",this.opened)}.bind(this))}});</script><script>Polymer.IronOverlayManagerClass=function(){this._overlays=[];this._minimumZ=101;this._backdropElement=null;Polymer.Gestures.add(document.documentElement,"tap",function(){});document.addEventListener("tap",this._onCaptureClick.bind(this),!0);document.addEventListener("focus",this._onCaptureFocus.bind(this),!0);document.addEventListener("keydown",this._onCaptureKeyDown.bind(this),!0)};Polymer.IronOverlayManagerClass.prototype={constructor:Polymer.IronOverlayManagerClass,get backdropElement(){if(!this._backdropElement){this._backdropElement=document.createElement("iron-overlay-backdrop")}return this._backdropElement},get deepActiveElement(){var active=document.activeElement;if(!active||!1===babelHelpers.instanceof(active,Element)){active=document.body}while(active.root&&Polymer.dom(active.root).activeElement){active=Polymer.dom(active.root).activeElement}return active},_bringOverlayAtIndexToFront:function _bringOverlayAtIndexToFront(i){var overlay=this._overlays[i];if(!overlay){return}var lastI=this._overlays.length-1,currentOverlay=this._overlays[lastI];if(currentOverlay&&this._shouldBeBehindOverlay(overlay,currentOverlay)){lastI--}if(i>=lastI){return}var minimumZ=Math.max(this.currentOverlayZ(),this._minimumZ);if(this._getZ(overlay)<=minimumZ){this._applyOverlayZ(overlay,minimumZ)}while(i<lastI){this._overlays[i]=this._overlays[i+1];i++}this._overlays[lastI]=overlay},addOrRemoveOverlay:function addOrRemoveOverlay(overlay){if(overlay.opened){this.addOverlay(overlay)}else{this.removeOverlay(overlay)}},addOverlay:function addOverlay(overlay){var _Mathmax=Math.max,i=this._overlays.indexOf(overlay);if(0<=i){this._bringOverlayAtIndexToFront(i);this.trackBackdrop();return}var insertionIndex=this._overlays.length,currentOverlay=this._overlays[insertionIndex-1],minimumZ=_Mathmax(this._getZ(currentOverlay),this._minimumZ),newZ=this._getZ(overlay);if(currentOverlay&&this._shouldBeBehindOverlay(overlay,currentOverlay)){this._applyOverlayZ(currentOverlay,minimumZ);insertionIndex--;var previousOverlay=this._overlays[insertionIndex-1];minimumZ=_Mathmax(this._getZ(previousOverlay),this._minimumZ)}if(newZ<=minimumZ){this._applyOverlayZ(overlay,minimumZ)}this._overlays.splice(insertionIndex,0,overlay);this.trackBackdrop()},removeOverlay:function removeOverlay(overlay){var i=this._overlays.indexOf(overlay);if(-1===i){return}this._overlays.splice(i,1);this.trackBackdrop()},currentOverlay:function currentOverlay(){var i=this._overlays.length-1;return this._overlays[i]},currentOverlayZ:function currentOverlayZ(){return this._getZ(this.currentOverlay())},ensureMinimumZ:function ensureMinimumZ(minimumZ){this._minimumZ=Math.max(this._minimumZ,minimumZ)},focusOverlay:function focusOverlay(){var current=this.currentOverlay();if(current){current._applyFocus()}},trackBackdrop:function trackBackdrop(){var overlay=this._overlayWithBackdrop();if(!overlay&&!this._backdropElement){return}this.backdropElement.style.zIndex=this._getZ(overlay)-1;this.backdropElement.opened=!!overlay;this.backdropElement.prepare()},getBackdrops:function getBackdrops(){for(var backdrops=[],i=0;i<this._overlays.length;i++){if(this._overlays[i].withBackdrop){backdrops.push(this._overlays[i])}}return backdrops},backdropZ:function backdropZ(){return this._getZ(this._overlayWithBackdrop())-1},_overlayWithBackdrop:function _overlayWithBackdrop(){for(var i=this._overlays.length-1;0<=i;i--){if(this._overlays[i].withBackdrop){return this._overlays[i]}}},_getZ:function _getZ(overlay){var z=this._minimumZ;if(overlay){var z1=+(overlay.style.zIndex||window.getComputedStyle(overlay).zIndex);if(z1===z1){z=z1}}return z},_setZ:function _setZ(element,z){element.style.zIndex=z},_applyOverlayZ:function _applyOverlayZ(overlay,aboveZ){this._setZ(overlay,aboveZ+2)},_overlayInPath:function _overlayInPath(path){path=path||[];for(var i=0;i<path.length;i++){if(path[i]._manager===this){return path[i]}}},_onCaptureClick:function _onCaptureClick(event){var i=this._overlays.length-1;if(-1===i)return;var path=Polymer.dom(event).path,overlay;while((overlay=this._overlays[i])&&this._overlayInPath(path)!==overlay){overlay._onCaptureClick(event);if(overlay.allowClickThrough){i--}else{break}}},_onCaptureFocus:function _onCaptureFocus(event){var overlay=this.currentOverlay();if(overlay){overlay._onCaptureFocus(event)}},_onCaptureKeyDown:function _onCaptureKeyDown(event){var overlay=this.currentOverlay();if(overlay){if(Polymer.IronA11yKeysBehavior.keyboardEventMatchesKeys(event,"esc")){overlay._onCaptureEsc(event)}else if(Polymer.IronA11yKeysBehavior.keyboardEventMatchesKeys(event,"tab")){overlay._onCaptureTab(event)}}},_shouldBeBehindOverlay:function _shouldBeBehindOverlay(overlay1,overlay2){return!overlay1.alwaysOnTop&&overlay2.alwaysOnTop}};Polymer.IronOverlayManager=new Polymer.IronOverlayManagerClass;</script><script>(function(){"use strict";var lastTouchPosition={pageX:0,pageY:0},lastRootTarget=null,lastScrollableNodes=[],scrollEvents=["wheel","mousewheel","DOMMouseScroll","touchstart","touchmove"];Polymer.IronScrollManager={get currentLockingElement(){return this._lockingElements[this._lockingElements.length-1]},elementIsScrollLocked:function elementIsScrollLocked(element){var currentLockingElement=this.currentLockingElement;if(currentLockingElement===void 0)return!1;var scrollLocked;if(this._hasCachedLockedElement(element)){return!0}if(this._hasCachedUnlockedElement(element)){return!1}scrollLocked=!!currentLockingElement&&currentLockingElement!==element&&!this._composedTreeContains(currentLockingElement,element);if(scrollLocked){this._lockedElementCache.push(element)}else{this._unlockedElementCache.push(element)}return scrollLocked},pushScrollLock:function pushScrollLock(element){if(0<=this._lockingElements.indexOf(element)){return}if(0===this._lockingElements.length){this._lockScrollInteractions()}this._lockingElements.push(element);this._lockedElementCache=[];this._unlockedElementCache=[]},removeScrollLock:function removeScrollLock(element){var index=this._lockingElements.indexOf(element);if(-1===index){return}this._lockingElements.splice(index,1);this._lockedElementCache=[];this._unlockedElementCache=[];if(0===this._lockingElements.length){this._unlockScrollInteractions()}},_lockingElements:[],_lockedElementCache:null,_unlockedElementCache:null,_hasCachedLockedElement:function _hasCachedLockedElement(element){return-1<this._lockedElementCache.indexOf(element)},_hasCachedUnlockedElement:function _hasCachedUnlockedElement(element){return-1<this._unlockedElementCache.indexOf(element)},_composedTreeContains:function _composedTreeContains(element,child){var contentElements,distributedNodes,contentIndex,nodeIndex;if(element.contains(child)){return!0}contentElements=Polymer.dom(element).querySelectorAll("content,slot");for(contentIndex=0;contentIndex<contentElements.length;++contentIndex){distributedNodes=Polymer.dom(contentElements[contentIndex]).getDistributedNodes();for(nodeIndex=0;nodeIndex<distributedNodes.length;++nodeIndex){if(distributedNodes[nodeIndex].nodeType!==Node.ELEMENT_NODE)continue;if(this._composedTreeContains(distributedNodes[nodeIndex],child)){return!0}}}return!1},_scrollInteractionHandler:function _scrollInteractionHandler(event){if(event.cancelable&&this._shouldPreventScrolling(event)){event.preventDefault()}if(event.targetTouches){var touch=event.targetTouches[0];lastTouchPosition.pageX=touch.pageX;lastTouchPosition.pageY=touch.pageY}},_boundScrollHandler:void 0,_lockScrollInteractions:function _lockScrollInteractions(){this._boundScrollHandler=this._boundScrollHandler||this._scrollInteractionHandler.bind(this);for(var i=0,l=scrollEvents.length;i<l;i++){document.addEventListener(scrollEvents[i],this._boundScrollHandler,{capture:!0,passive:!1})}},_unlockScrollInteractions:function _unlockScrollInteractions(){for(var i=0,l=scrollEvents.length;i<l;i++){document.removeEventListener(scrollEvents[i],this._boundScrollHandler,{capture:!0,passive:!1})}},_shouldPreventScrolling:function _shouldPreventScrolling(event){var target=Polymer.dom(event).rootTarget;if("touchmove"!==event.type&&lastRootTarget!==target){lastRootTarget=target;lastScrollableNodes=this._getScrollableNodes(Polymer.dom(event).path)}if(!lastScrollableNodes.length){return!0}if("touchstart"===event.type){return!1}var info=this._getScrollInfo(event);return!this._getScrollingNode(lastScrollableNodes,info.deltaX,info.deltaY)},_getScrollableNodes:function _getScrollableNodes(nodes){for(var scrollables=[],lockingIndex=nodes.indexOf(this.currentLockingElement),i=0;i<=lockingIndex;i++){if(nodes[i].nodeType!==Node.ELEMENT_NODE){continue}var node=nodes[i],style=node.style;if("scroll"!==style.overflow&&"auto"!==style.overflow){style=window.getComputedStyle(node)}if("scroll"===style.overflow||"auto"===style.overflow){scrollables.push(node)}}return scrollables},_getScrollingNode:function _getScrollingNode(nodes,deltaX,deltaY){var _Mathabs=Math.abs;if(!deltaX&&!deltaY){return}for(var verticalScroll=_Mathabs(deltaY)>=_Mathabs(deltaX),i=0;i<nodes.length;i++){var node=nodes[i],canScroll=!1;if(verticalScroll){canScroll=0>deltaY?0<node.scrollTop:node.scrollTop<node.scrollHeight-node.clientHeight}else{canScroll=0>deltaX?0<node.scrollLeft:node.scrollLeft<node.scrollWidth-node.clientWidth}if(canScroll){return node}}},_getScrollInfo:function _getScrollInfo(event){var info={deltaX:event.deltaX,deltaY:event.deltaY};if("deltaX"in event){}else if("wheelDeltaX"in event&&"wheelDeltaY"in event){info.deltaX=-event.wheelDeltaX;info.deltaY=-event.wheelDeltaY}else if("wheelDelta"in event){info.deltaX=0;info.deltaY=-event.wheelDelta}else if("axis"in event){info.deltaX=1===event.axis?event.detail:0;info.deltaY=2===event.axis?event.detail:0}else if(event.targetTouches){var touch=event.targetTouches[0];info.deltaX=lastTouchPosition.pageX-touch.pageX;info.deltaY=lastTouchPosition.pageY-touch.pageY}return info}}})();</script><script>(function(){"use strict";var p=Element.prototype,matches=p.matches||p.matchesSelector||p.mozMatchesSelector||p.msMatchesSelector||p.oMatchesSelector||p.webkitMatchesSelector;Polymer.IronFocusablesHelper={getTabbableNodes:function getTabbableNodes(node){var result=[],needsSortByTabIndex=this._collectTabbableNodes(node,result);if(needsSortByTabIndex){return this._sortByTabIndex(result)}return result},isFocusable:function isFocusable(element){if(matches.call(element,"input, select, textarea, button, object")){return matches.call(element,":not([disabled])")}return matches.call(element,"a[href], area[href], iframe, [tabindex], [contentEditable]")},isTabbable:function isTabbable(element){return this.isFocusable(element)&&matches.call(element,":not([tabindex=\"-1\"])")&&this._isVisible(element)},_normalizedTabIndex:function _normalizedTabIndex(element){if(this.isFocusable(element)){var tabIndex=element.getAttribute("tabindex")||0;return+tabIndex}return-1},_collectTabbableNodes:function _collectTabbableNodes(node,result){if(node.nodeType!==Node.ELEMENT_NODE||!this._isVisible(node)){return!1}var element=node,tabIndex=this._normalizedTabIndex(element),needsSort=0<tabIndex;if(0<=tabIndex){result.push(element)}var children;if("content"===element.localName||"slot"===element.localName){children=Polymer.dom(element).getDistributedNodes()}else{children=Polymer.dom(element.root||element).children}for(var i=0;i<children.length;i++){needsSort=this._collectTabbableNodes(children[i],result)||needsSort}return needsSort},_isVisible:function _isVisible(element){var style=element.style;if("hidden"!==style.visibility&&"none"!==style.display){style=window.getComputedStyle(element);return"hidden"!==style.visibility&&"none"!==style.display}return!1},_sortByTabIndex:function _sortByTabIndex(tabbables){var len=tabbables.length;if(2>len){return tabbables}var pivot=Math.ceil(len/2),left=this._sortByTabIndex(tabbables.slice(0,pivot)),right=this._sortByTabIndex(tabbables.slice(pivot));return this._mergeSortByTabIndex(left,right)},_mergeSortByTabIndex:function _mergeSortByTabIndex(left,right){var result=[];while(0<left.length&&0<right.length){if(this._hasLowerTabOrder(left[0],right[0])){result.push(right.shift())}else{result.push(left.shift())}}return result.concat(left,right)},_hasLowerTabOrder:function _hasLowerTabOrder(a,b){var _Mathmax=Math.max,ati=_Mathmax(a.tabIndex,0),bti=_Mathmax(b.tabIndex,0);return 0===ati||0===bti?bti>ati:ati>bti}}})();</script><script>(function(){"use strict";Polymer.IronOverlayBehaviorImpl={properties:{opened:{observer:"_openedChanged",type:Boolean,value:!1,notify:!0},canceled:{observer:"_canceledChanged",readOnly:!0,type:Boolean,value:!1},withBackdrop:{observer:"_withBackdropChanged",type:Boolean},noAutoFocus:{type:Boolean,value:!1},noCancelOnEscKey:{type:Boolean,value:!1},noCancelOnOutsideClick:{type:Boolean,value:!1},closingReason:{type:Object},restoreFocusOnClose:{type:Boolean,value:!1},allowClickThrough:{type:Boolean},alwaysOnTop:{type:Boolean},scrollAction:{type:String},_manager:{type:Object,value:Polymer.IronOverlayManager},_focusedChild:{type:Object}},listeners:{"iron-resize":"_onIronResize"},observers:["__updateScrollObservers(isAttached, opened, scrollAction)"],get backdropElement(){return this._manager.backdropElement},get _focusNode(){return this._focusedChild||Polymer.dom(this).querySelector("[autofocus]")||this},get _focusableNodes(){return Polymer.IronFocusablesHelper.getTabbableNodes(this)},ready:function ready(){this.__isAnimating=!1;this.__shouldRemoveTabIndex=!1;this.__firstFocusableNode=this.__lastFocusableNode=null;this.__rafs={};this.__restoreFocusNode=null;this.__scrollTop=this.__scrollLeft=null;this.__onCaptureScroll=this.__onCaptureScroll.bind(this);this.__rootNodes=null;this._ensureSetup()},attached:function attached(){if(this.opened){this._openedChanged(this.opened)}this._observer=Polymer.dom(this).observeNodes(this._onNodesChange)},detached:function detached(){Polymer.dom(this).unobserveNodes(this._observer);this._observer=null;for(var cb in this.__rafs){if(null!==this.__rafs[cb]){cancelAnimationFrame(this.__rafs[cb])}}this.__rafs={};this._manager.removeOverlay(this);if(this.__isAnimating){if(this.opened){this._finishRenderOpened()}else{this._applyFocus();this._finishRenderClosed()}}},toggle:function toggle(){this._setCanceled(!1);this.opened=!this.opened},open:function open(){this._setCanceled(!1);this.opened=!0},close:function close(){this._setCanceled(!1);this.opened=!1},cancel:function cancel(event){var cancelEvent=this.fire("iron-overlay-canceled",event,{cancelable:!0});if(cancelEvent.defaultPrevented){return}this._setCanceled(!0);this.opened=!1},invalidateTabbables:function invalidateTabbables(){this.__firstFocusableNode=this.__lastFocusableNode=null},_ensureSetup:function _ensureSetup(){if(this._overlaySetup){return}this._overlaySetup=!0;this.style.outline="none";this.style.display="none"},_openedChanged:function _openedChanged(opened){if(opened){this.removeAttribute("aria-hidden")}else{this.setAttribute("aria-hidden","true")}if(!this.isAttached){return}this.__isAnimating=!0;this.__deraf("__openedChanged",this.__openedChanged)},_canceledChanged:function _canceledChanged(){this.closingReason=this.closingReason||{};this.closingReason.canceled=this.canceled},_withBackdropChanged:function _withBackdropChanged(){if(this.withBackdrop&&!this.hasAttribute("tabindex")){this.setAttribute("tabindex","-1");this.__shouldRemoveTabIndex=!0}else if(this.__shouldRemoveTabIndex){this.removeAttribute("tabindex");this.__shouldRemoveTabIndex=!1}if(this.opened&&this.isAttached){this._manager.trackBackdrop()}},_prepareRenderOpened:function _prepareRenderOpened(){this.__restoreFocusNode=this._manager.deepActiveElement;this._preparePositioning();this.refit();this._finishPositioning();if(this.noAutoFocus&&document.activeElement===this._focusNode){this._focusNode.blur();this.__restoreFocusNode.focus()}},_renderOpened:function _renderOpened(){this._finishRenderOpened()},_renderClosed:function _renderClosed(){this._finishRenderClosed()},_finishRenderOpened:function _finishRenderOpened(){this.notifyResize();this.__isAnimating=!1;this.fire("iron-overlay-opened")},_finishRenderClosed:function _finishRenderClosed(){this.style.display="none";this.style.zIndex="";this.notifyResize();this.__isAnimating=!1;this.fire("iron-overlay-closed",this.closingReason)},_preparePositioning:function _preparePositioning(){this.style.transition=this.style.webkitTransition="none";this.style.transform=this.style.webkitTransform="none";this.style.display=""},_finishPositioning:function _finishPositioning(){this.style.display="none";this.scrollTop=this.scrollTop;this.style.transition=this.style.webkitTransition="";this.style.transform=this.style.webkitTransform="";this.style.display="";this.scrollTop=this.scrollTop},_applyFocus:function _applyFocus(){if(this.opened){if(!this.noAutoFocus){this._focusNode.focus()}}else{if(this.restoreFocusOnClose&&this.__restoreFocusNode){var activeElement=this._manager.deepActiveElement;if(activeElement===document.body||Polymer.dom(this).deepContains(activeElement)){this.__restoreFocusNode.focus()}}this.__restoreFocusNode=null;this._focusNode.blur();this._focusedChild=null}},_onCaptureClick:function _onCaptureClick(event){if(!this.noCancelOnOutsideClick){this.cancel(event)}},_onCaptureFocus:function _onCaptureFocus(event){if(!this.withBackdrop){return}var path=Polymer.dom(event).path;if(-1===path.indexOf(this)){event.stopPropagation();this._applyFocus()}else{this._focusedChild=path[0]}},_onCaptureEsc:function _onCaptureEsc(event){if(!this.noCancelOnEscKey){this.cancel(event)}},_onCaptureTab:function _onCaptureTab(event){if(!this.withBackdrop){return}this.__ensureFirstLastFocusables();var shift=event.shiftKey,nodeToCheck=shift?this.__firstFocusableNode:this.__lastFocusableNode,nodeToSet=shift?this.__lastFocusableNode:this.__firstFocusableNode,shouldWrap=!1;if(nodeToCheck===nodeToSet){shouldWrap=!0}else{var focusedNode=this._manager.deepActiveElement;shouldWrap=focusedNode===nodeToCheck||focusedNode===this}if(shouldWrap){event.preventDefault();this._focusedChild=nodeToSet;this._applyFocus()}},_onIronResize:function _onIronResize(){if(this.opened&&!this.__isAnimating){this.__deraf("refit",this.refit)}},_onNodesChange:function _onNodesChange(){if(this.opened&&!this.__isAnimating){this.invalidateTabbables();this.notifyResize()}},__ensureFirstLastFocusables:function __ensureFirstLastFocusables(){if(!this.__firstFocusableNode||!this.__lastFocusableNode){var focusableNodes=this._focusableNodes;this.__firstFocusableNode=focusableNodes[0];this.__lastFocusableNode=focusableNodes[focusableNodes.length-1]}},__openedChanged:function __openedChanged(){if(this.opened){this._prepareRenderOpened();this._manager.addOverlay(this);this._applyFocus();this._renderOpened()}else{this._manager.removeOverlay(this);this._applyFocus();this._renderClosed()}},__deraf:function __deraf(jobname,callback){var rafs=this.__rafs;if(null!==rafs[jobname]){cancelAnimationFrame(rafs[jobname])}rafs[jobname]=requestAnimationFrame(function nextAnimationFrame(){rafs[jobname]=null;callback.call(this)}.bind(this))},__updateScrollObservers:function __updateScrollObservers(isAttached,opened,scrollAction){if(!isAttached||!opened||!this.__isValidScrollAction(scrollAction)){Polymer.IronScrollManager.removeScrollLock(this);this.__removeScrollListeners()}else{if("lock"===scrollAction){this.__saveScrollPosition();Polymer.IronScrollManager.pushScrollLock(this)}this.__addScrollListeners()}},__addScrollListeners:function __addScrollListeners(){if(!this.__rootNodes){this.__rootNodes=[];if(Polymer.Settings.useShadow){var node=this;while(node){if(node.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&node.host){this.__rootNodes.push(node)}node=node.host||node.assignedSlot||node.parentNode}}this.__rootNodes.push(document)}this.__rootNodes.forEach(function(el){el.addEventListener("scroll",this.__onCaptureScroll,{capture:!0,passive:!0})},this)},__removeScrollListeners:function __removeScrollListeners(){if(this.__rootNodes){this.__rootNodes.forEach(function(el){el.removeEventListener("scroll",this.__onCaptureScroll,{capture:!0,passive:!0})},this)}if(!this.isAttached){this.__rootNodes=null}},__isValidScrollAction:function __isValidScrollAction(scrollAction){return"lock"===scrollAction||"refit"===scrollAction||"cancel"===scrollAction},__onCaptureScroll:function __onCaptureScroll(event){if(this.__isAnimating){return}if(0<=Polymer.dom(event).path.indexOf(this)){return}switch(this.scrollAction){case"lock":this.__restoreScrollPosition();break;case"refit":this.__deraf("refit",this.refit);break;case"cancel":this.cancel(event);break;}},__saveScrollPosition:function __saveScrollPosition(){var _Mathmax=Math.max;if(document.scrollingElement){this.__scrollTop=document.scrollingElement.scrollTop;this.__scrollLeft=document.scrollingElement.scrollLeft}else{this.__scrollTop=_Mathmax(document.documentElement.scrollTop,document.body.scrollTop);this.__scrollLeft=_Mathmax(document.documentElement.scrollLeft,document.body.scrollLeft)}},__restoreScrollPosition:function __restoreScrollPosition(){if(document.scrollingElement){document.scrollingElement.scrollTop=this.__scrollTop;document.scrollingElement.scrollLeft=this.__scrollLeft}else{document.documentElement.scrollTop=document.body.scrollTop=this.__scrollTop;document.documentElement.scrollLeft=document.body.scrollLeft=this.__scrollLeft}}};Polymer.IronOverlayBehavior=[Polymer.IronFitBehavior,Polymer.IronResizableBehavior,Polymer.IronOverlayBehaviorImpl]})();</script><script>Polymer.NeonAnimatableBehavior={properties:{animationConfig:{type:Object},entryAnimation:{observer:"_entryAnimationChanged",type:String},exitAnimation:{observer:"_exitAnimationChanged",type:String}},_entryAnimationChanged:function _entryAnimationChanged(){this.animationConfig=this.animationConfig||{};this.animationConfig.entry=[{name:this.entryAnimation,node:this}]},_exitAnimationChanged:function _exitAnimationChanged(){this.animationConfig=this.animationConfig||{};this.animationConfig.exit=[{name:this.exitAnimation,node:this}]},_copyProperties:function _copyProperties(config1,config2){for(var property in config2){config1[property]=config2[property]}},_cloneConfig:function _cloneConfig(config){var clone={isClone:!0};this._copyProperties(clone,config);return clone},_getAnimationConfigRecursive:function _getAnimationConfigRecursive(type,map,allConfigs){if(!this.animationConfig){return}if(this.animationConfig.value&&"function"===typeof this.animationConfig.value){this._warn(this._logf("playAnimation","Please put 'animationConfig' inside of your components 'properties' object instead of outside of it."));return}var thisConfig;if(type){thisConfig=this.animationConfig[type]}else{thisConfig=this.animationConfig}if(!Array.isArray(thisConfig)){thisConfig=[thisConfig]}if(thisConfig){for(var config,index=0;config=thisConfig[index];index++){if(config.animatable){config.animatable._getAnimationConfigRecursive(config.type||type,map,allConfigs)}else{if(config.id){var cachedConfig=map[config.id];if(cachedConfig){if(!cachedConfig.isClone){map[config.id]=this._cloneConfig(cachedConfig);cachedConfig=map[config.id]}this._copyProperties(cachedConfig,config)}else{map[config.id]=config}}else{allConfigs.push(config)}}}}},getAnimationConfig:function getAnimationConfig(type){var map={},allConfigs=[];this._getAnimationConfigRecursive(type,map,allConfigs);for(var key in map){allConfigs.push(map[key])}return allConfigs}};</script><script>Polymer.NeonAnimationRunnerBehaviorImpl={_configureAnimations:function _configureAnimations(configs){var results=[],resultsToPlay=[];if(0<configs.length){for(var config,index=0,neonAnimation;config=configs[index];index++){neonAnimation=document.createElement(config.name);if(neonAnimation.isNeonAnimation){var result=null;if(!neonAnimation.configure){neonAnimation.configure=function(config){return null}}result=neonAnimation.configure(config);resultsToPlay.push({result:result,config:config})}else{console.warn(this.is+":",config.name,"not found!")}}}for(var i=0;i<resultsToPlay.length;i++){var result=resultsToPlay[i].result,config=resultsToPlay[i].config;try{if("function"!=typeof result.cancel){result=document.timeline.play(result)}}catch(e){result=null;console.warn("Couldnt play","(",config.name,").",e)}if(result){results.push({neonAnimation:neonAnimation,config:config,animation:result})}}return results},_shouldComplete:function _shouldComplete(activeEntries){for(var finished=!0,i=0;i<activeEntries.length;i++){if("finished"!=activeEntries[i].animation.playState){finished=!1;break}}return finished},_complete:function _complete(activeEntries){for(var i=0;i<activeEntries.length;i++){activeEntries[i].neonAnimation.complete(activeEntries[i].config)}for(var i=0;i<activeEntries.length;i++){activeEntries[i].animation.cancel()}},playAnimation:function playAnimation(type,cookie){var configs=this.getAnimationConfig(type);if(!configs){return}this._active=this._active||{};if(this._active[type]){this._complete(this._active[type]);delete this._active[type]}var activeEntries=this._configureAnimations(configs);if(0==activeEntries.length){this.fire("neon-animation-finish",cookie,{bubbles:!1});return}this._active[type]=activeEntries;for(var i=0;i<activeEntries.length;i++){activeEntries[i].animation.onfinish=function(){if(this._shouldComplete(activeEntries)){this._complete(activeEntries);delete this._active[type];this.fire("neon-animation-finish",cookie,{bubbles:!1})}}.bind(this)}},cancelAnimation:function cancelAnimation(){for(var k in this._active){var entries=this._active[k];for(var j in entries){entries[j].animation.cancel()}}this._active={}}};Polymer.NeonAnimationRunnerBehavior=[Polymer.NeonAnimatableBehavior,Polymer.NeonAnimationRunnerBehaviorImpl];</script><script>(function(){"use strict";Polymer.IronDropdownScrollManager=Polymer.IronScrollManager})();</script><dom-module id="iron-dropdown" assetpath="../bower_components/iron-dropdown/"><template><style>:host{position:fixed;}#contentWrapper ::slotted(*){overflow:auto;}#contentWrapper.animating ::slotted(*){overflow:hidden;pointer-events:none;}</style><div id="contentWrapper"><slot id="content" name="dropdown-content"></slot></div></template><script>(function(){"use strict";Polymer({is:"iron-dropdown",behaviors:[Polymer.IronControlState,Polymer.IronA11yKeysBehavior,Polymer.IronOverlayBehavior,Polymer.NeonAnimationRunnerBehavior],properties:{horizontalAlign:{type:String,value:"left",reflectToAttribute:!0},verticalAlign:{type:String,value:"top",reflectToAttribute:!0},openAnimationConfig:{type:Object},closeAnimationConfig:{type:Object},focusTarget:{type:Object},noAnimations:{type:Boolean,value:!1},allowOutsideScroll:{type:Boolean,value:!1,observer:"_allowOutsideScrollChanged"}},listeners:{"neon-animation-finish":"_onNeonAnimationFinish"},observers:["_updateOverlayPosition(positionTarget, verticalAlign, horizontalAlign, verticalOffset, horizontalOffset)"],get containedElement(){for(var nodes=Polymer.dom(this.$.content).getDistributedNodes(),i=0,l=nodes.length;i<l;i++){if(nodes[i].nodeType===Node.ELEMENT_NODE){return nodes[i]}}},ready:function ready(){if(!this.scrollAction){this.scrollAction=this.allowOutsideScroll?"refit":"lock"}this._readied=!0},attached:function attached(){if(!this.sizingTarget||this.sizingTarget===this){this.sizingTarget=this.containedElement||this}},detached:function detached(){this.cancelAnimation()},_openedChanged:function _openedChanged(){if(this.opened&&this.disabled){this.cancel()}else{this.cancelAnimation();this._updateAnimationConfig();Polymer.IronOverlayBehaviorImpl._openedChanged.apply(this,arguments)}},_renderOpened:function _renderOpened(){if(!this.noAnimations&&this.animationConfig.open){this.$.contentWrapper.classList.add("animating");this.playAnimation("open")}else{Polymer.IronOverlayBehaviorImpl._renderOpened.apply(this,arguments)}},_renderClosed:function _renderClosed(){if(!this.noAnimations&&this.animationConfig.close){this.$.contentWrapper.classList.add("animating");this.playAnimation("close")}else{Polymer.IronOverlayBehaviorImpl._renderClosed.apply(this,arguments)}},_onNeonAnimationFinish:function _onNeonAnimationFinish(){this.$.contentWrapper.classList.remove("animating");if(this.opened){this._finishRenderOpened()}else{this._finishRenderClosed()}},_updateAnimationConfig:function _updateAnimationConfig(){for(var animationNode=this.containedElement,animations=[].concat(this.openAnimationConfig||[]).concat(this.closeAnimationConfig||[]),i=0;i<animations.length;i++){animations[i].node=animationNode}this.animationConfig={open:this.openAnimationConfig,close:this.closeAnimationConfig}},_updateOverlayPosition:function _updateOverlayPosition(){if(this.isAttached){this.notifyResize()}},_allowOutsideScrollChanged:function _allowOutsideScrollChanged(allowOutsideScroll){if(!this._readied){return}if(!allowOutsideScroll){this.scrollAction="lock"}else if(!this.scrollAction||"lock"===this.scrollAction){this.scrollAction="refit"}},_applyFocus:function _applyFocus(){var focusTarget=this.focusTarget||this.containedElement;if(focusTarget&&this.opened&&!this.noAutoFocus){focusTarget.focus()}else{Polymer.IronOverlayBehaviorImpl._applyFocus.apply(this,arguments)}}})})();</script></dom-module><script>Polymer.NeonAnimationBehavior={properties:{animationTiming:{type:Object,value:function value(){return{duration:500,easing:"cubic-bezier(0.4, 0, 0.2, 1)",fill:"both"}}}},isNeonAnimation:!0,created:function created(){if(!document.body.animate){console.warn("No web animations detected. This element will not"+" function without a web animations polyfill.")}},timingFromConfig:function timingFromConfig(config){if(config.timing){for(var property in config.timing){this.animationTiming[property]=config.timing[property]}}return this.animationTiming},setPrefixedProperty:function setPrefixedProperty(node,property,value){for(var map={transform:["webkitTransform"],transformOrigin:["mozTransformOrigin","webkitTransformOrigin"]},prefixes=map[property],prefix,index=0;prefix=prefixes[index];index++){node.style[prefix]=value}node.style[property]=value},complete:function complete(config){}};</script><script>Polymer({is:"fade-in-animation",behaviors:[Polymer.NeonAnimationBehavior],configure:function configure(config){var node=config.node;this._effect=new KeyframeEffect(node,[{opacity:"0"},{opacity:"1"}],this.timingFromConfig(config));return this._effect}});</script><script>Polymer({is:"fade-out-animation",behaviors:[Polymer.NeonAnimationBehavior],configure:function configure(config){var node=config.node;this._effect=new KeyframeEffect(node,[{opacity:"1"},{opacity:"0"}],this.timingFromConfig(config));return this._effect}});</script><script>Polymer({is:"paper-menu-grow-height-animation",behaviors:[Polymer.NeonAnimationBehavior],configure:function configure(config){var node=config.node,rect=node.getBoundingClientRect(),height=rect.height;this._effect=new KeyframeEffect(node,[{height:height/2+"px"},{height:height+"px"}],this.timingFromConfig(config));return this._effect}});Polymer({is:"paper-menu-grow-width-animation",behaviors:[Polymer.NeonAnimationBehavior],configure:function configure(config){var node=config.node,rect=node.getBoundingClientRect(),width=rect.width;this._effect=new KeyframeEffect(node,[{width:width/2+"px"},{width:width+"px"}],this.timingFromConfig(config));return this._effect}});Polymer({is:"paper-menu-shrink-width-animation",behaviors:[Polymer.NeonAnimationBehavior],configure:function configure(config){var node=config.node,rect=node.getBoundingClientRect(),width=rect.width;this._effect=new KeyframeEffect(node,[{width:width+"px"},{width:width-width/20+"px"}],this.timingFromConfig(config));return this._effect}});Polymer({is:"paper-menu-shrink-height-animation",behaviors:[Polymer.NeonAnimationBehavior],configure:function configure(config){var node=config.node,rect=node.getBoundingClientRect(),height=rect.height;this.setPrefixedProperty(node,"transformOrigin","0 0");this._effect=new KeyframeEffect(node,[{height:height+"px",transform:"translateY(0)"},{height:height/2+"px",transform:"translateY(-20px)"}],this.timingFromConfig(config));return this._effect}});</script><dom-module id="paper-menu-button" assetpath="../bower_components/paper-menu-button/"><template><style>:host{display:inline-block;position:relative;padding:8px;outline:none;@apply --paper-menu-button;}:host([disabled]){cursor:auto;color:var(--disabled-text-color);@apply --paper-menu-button-disabled;}iron-dropdown{@apply --paper-menu-button-dropdown;}.dropdown-content{@apply --shadow-elevation-2dp;position:relative;border-radius:2px;background-color:var(--paper-menu-button-dropdown-background, var(--primary-background-color));@apply --paper-menu-button-content;}:host([vertical-align="top"]) .dropdown-content{margin-bottom:20px;margin-top:-10px;top:10px;}:host([vertical-align="bottom"]) .dropdown-content{bottom:10px;margin-bottom:-10px;margin-top:20px;}#trigger{cursor:pointer;}</style><div id="trigger" on-tap="toggle"><slot name="dropdown-trigger"></slot></div><iron-dropdown id="dropdown" opened="{{opened}}" horizontal-align="[[horizontalAlign]]" vertical-align="[[verticalAlign]]" dynamic-align="[[dynamicAlign]]" horizontal-offset="[[horizontalOffset]]" vertical-offset="[[verticalOffset]]" no-overlap="[[noOverlap]]" open-animation-config="[[openAnimationConfig]]" close-animation-config="[[closeAnimationConfig]]" no-animations="[[noAnimations]]" focus-target="[[_dropdownContent]]" allow-outside-scroll="[[allowOutsideScroll]]" restore-focus-on-close="[[restoreFocusOnClose]]" on-iron-overlay-canceled="__onIronOverlayCanceled"><div slot="dropdown-content" class="dropdown-content"><slot id="content" name="dropdown-content"></slot></div></iron-dropdown></template><script>(function(){"use strict";var config={ANIMATION_CUBIC_BEZIER:"cubic-bezier(.3,.95,.5,1)",MAX_ANIMATION_TIME_MS:400};Polymer.PaperMenuButton=Polymer({is:"paper-menu-button",behaviors:[Polymer.IronA11yKeysBehavior,Polymer.IronControlState],properties:{opened:{type:Boolean,value:!1,notify:!0,observer:"_openedChanged"},horizontalAlign:{type:String,value:"left",reflectToAttribute:!0},verticalAlign:{type:String,value:"top",reflectToAttribute:!0},dynamicAlign:{type:Boolean},horizontalOffset:{type:Number,value:0,notify:!0},verticalOffset:{type:Number,value:0,notify:!0},noOverlap:{type:Boolean},noAnimations:{type:Boolean,value:!1},ignoreSelect:{type:Boolean,value:!1},closeOnActivate:{type:Boolean,value:!1},openAnimationConfig:{type:Object,value:function value(){return[{name:"fade-in-animation",timing:{delay:100,duration:200}},{name:"paper-menu-grow-width-animation",timing:{delay:100,duration:150,easing:config.ANIMATION_CUBIC_BEZIER}},{name:"paper-menu-grow-height-animation",timing:{delay:100,duration:275,easing:config.ANIMATION_CUBIC_BEZIER}}]}},closeAnimationConfig:{type:Object,value:function value(){return[{name:"fade-out-animation",timing:{duration:150}},{name:"paper-menu-shrink-width-animation",timing:{delay:100,duration:50,easing:config.ANIMATION_CUBIC_BEZIER}},{name:"paper-menu-shrink-height-animation",timing:{duration:200,easing:"ease-in"}}]}},allowOutsideScroll:{type:Boolean,value:!1},restoreFocusOnClose:{type:Boolean,value:!0},_dropdownContent:{type:Object}},hostAttributes:{role:"group","aria-haspopup":"true"},listeners:{"iron-activate":"_onIronActivate","iron-select":"_onIronSelect"},get contentElement(){for(var nodes=Polymer.dom(this.$.content).getDistributedNodes(),i=0,l=nodes.length;i<l;i++){if(nodes[i].nodeType===Node.ELEMENT_NODE){return nodes[i]}}},toggle:function toggle(){if(this.opened){this.close()}else{this.open()}},open:function open(){if(this.disabled){return}this.$.dropdown.open()},close:function close(){this.$.dropdown.close()},_onIronSelect:function _onIronSelect(event){if(!this.ignoreSelect){this.close()}},_onIronActivate:function _onIronActivate(event){if(this.closeOnActivate){this.close()}},_openedChanged:function _openedChanged(opened,oldOpened){if(opened){this._dropdownContent=this.contentElement;this.fire("paper-dropdown-open")}else if(null!=oldOpened){this.fire("paper-dropdown-close")}},_disabledChanged:function _disabledChanged(disabled){Polymer.IronControlState._disabledChanged.apply(this,arguments);if(disabled&&this.opened){this.close()}},__onIronOverlayCanceled:function __onIronOverlayCanceled(event){var uiEvent=event.detail,trigger=this.$.trigger,path=Polymer.dom(uiEvent).path;if(-1<path.indexOf(trigger)){event.preventDefault()}}});Object.keys(config).forEach(function(key){Polymer.PaperMenuButton[key]=config[key]})})();</script></dom-module><script>Polymer.IronFormElementBehavior={properties:{name:{type:String},value:{notify:!0,type:String},required:{type:Boolean,value:!1},_parentForm:{type:Object}},attached:function attached(){if(!Polymer.Element){this.fire("iron-form-element-register")}},detached:function detached(){if(!Polymer.Element&&this._parentForm){this._parentForm.fire("iron-form-element-unregister",{target:this})}}};</script><dom-module id="iron-a11y-announcer" assetpath="../bower_components/iron-a11y-announcer/"><template><style>:host{display:inline-block;position:fixed;clip:rect(0px,0px,0px,0px);}</style><div aria-live$="[[mode]]">[[_text]]</div></template><script>(function(){"use strict";Polymer.IronA11yAnnouncer=Polymer({is:"iron-a11y-announcer",properties:{mode:{type:String,value:"polite"},_text:{type:String,value:""}},created:function created(){if(!Polymer.IronA11yAnnouncer.instance){Polymer.IronA11yAnnouncer.instance=this}document.body.addEventListener("iron-announce",this._onIronAnnounce.bind(this))},announce:function announce(text){this._text="";this.async(function(){this._text=text},100)},_onIronAnnounce:function _onIronAnnounce(event){if(event.detail&&event.detail.text){this.announce(event.detail.text)}}});Polymer.IronA11yAnnouncer.instance=null;Polymer.IronA11yAnnouncer.requestAvailability=function(){if(!Polymer.IronA11yAnnouncer.instance){Polymer.IronA11yAnnouncer.instance=document.createElement("iron-a11y-announcer")}document.body.appendChild(Polymer.IronA11yAnnouncer.instance)}})();</script></dom-module><script>Polymer.IronValidatableBehaviorMeta=null;Polymer.IronValidatableBehavior={properties:{validator:{type:String},invalid:{notify:!0,reflectToAttribute:!0,type:Boolean,value:!1,observer:"_invalidChanged"}},registered:function registered(){Polymer.IronValidatableBehaviorMeta=new Polymer.IronMeta({type:"validator"})},_invalidChanged:function _invalidChanged(){if(this.invalid){this.setAttribute("aria-invalid","true")}else{this.removeAttribute("aria-invalid")}},get _validator(){return Polymer.IronValidatableBehaviorMeta&&Polymer.IronValidatableBehaviorMeta.byKey(this.validator)},hasValidator:function hasValidator(){return null!=this._validator},validate:function validate(value){if(value===void 0&&this.value!==void 0)this.invalid=!this._getValidity(this.value);else this.invalid=!this._getValidity(value);return!this.invalid},_getValidity:function _getValidity(value){if(this.hasValidator()){return this._validator.validate(value)}return!0}};</script><dom-module id="iron-input" assetpath="../bower_components/iron-input/"><template><style>:host{display:inline-block;}</style><slot id="content"></slot></template><script>Polymer({is:"iron-input",behaviors:[Polymer.IronValidatableBehavior],properties:{bindValue:{type:String,value:""},value:{type:String,computed:"_computeValue(bindValue)"},allowedPattern:{type:String},autoValidate:{type:Boolean,value:!1},_inputElement:Object},observers:["_bindValueChanged(bindValue, _inputElement)"],listeners:{input:"_onInput",keypress:"_onKeypress"},created:function created(){Polymer.IronA11yAnnouncer.requestAvailability();this._previousValidInput="";this._patternAlreadyChecked=!1},attached:function attached(){this._observer=Polymer.dom(this).observeNodes(function(info){this._initSlottedInput()}.bind(this))},detached:function detached(){if(this._observer){Polymer.dom(this).unobserveNodes(this._observer);this._observer=null}},get inputElement(){return this._inputElement},_initSlottedInput:function _initSlottedInput(){this._inputElement=this.getEffectiveChildren()[0];if(this.inputElement&&this.inputElement.value){this.bindValue=this.inputElement.value}this.fire("iron-input-ready")},get _patternRegExp(){var pattern;if(this.allowedPattern){pattern=new RegExp(this.allowedPattern)}else{switch(this.inputElement.type){case"number":pattern=/[0-9.,e-]/;break;}}return pattern},_bindValueChanged:function _bindValueChanged(bindValue,inputElement){if(!inputElement){return}if(bindValue===void 0){inputElement.value=null}else if(bindValue!==inputElement.value){this.inputElement.value=bindValue}if(this.autoValidate){this.validate()}this.fire("bind-value-changed",{value:bindValue})},_onInput:function _onInput(){if(this.allowedPattern&&!this._patternAlreadyChecked){var valid=this._checkPatternValidity();if(!valid){this._announceInvalidCharacter("Invalid string of characters not entered.");this.inputElement.value=this._previousValidInput}}this.bindValue=this._previousValidInput=this.inputElement.value;this._patternAlreadyChecked=!1},_isPrintable:function _isPrintable(event){var anyNonPrintable=8==event.keyCode||9==event.keyCode||13==event.keyCode||27==event.keyCode,mozNonPrintable=19==event.keyCode||20==event.keyCode||45==event.keyCode||46==event.keyCode||144==event.keyCode||145==event.keyCode||32<event.keyCode&&41>event.keyCode||111<event.keyCode&&124>event.keyCode;return!anyNonPrintable&&!(0==event.charCode&&mozNonPrintable)},_onKeypress:function _onKeypress(event){if(!this.allowedPattern&&"number"!==this.inputElement.type){return}var regexp=this._patternRegExp;if(!regexp){return}if(event.metaKey||event.ctrlKey||event.altKey){return}this._patternAlreadyChecked=!0;var thisChar=String.fromCharCode(event.charCode);if(this._isPrintable(event)&&!regexp.test(thisChar)){event.preventDefault();this._announceInvalidCharacter("Invalid character "+thisChar+" not entered.")}},_checkPatternValidity:function _checkPatternValidity(){var regexp=this._patternRegExp;if(!regexp){return!0}for(var i=0;i<this.inputElement.value.length;i++){if(!regexp.test(this.inputElement.value[i])){return!1}}return!0},validate:function validate(){if(!this.inputElement){this.invalid=!1;return!0}var valid=this.inputElement.checkValidity();if(valid){if(this.required&&""===this.bindValue){valid=!1}else if(this.hasValidator()){valid=Polymer.IronValidatableBehavior.validate.call(this,this.bindValue)}}this.invalid=!valid;this.fire("iron-input-validate");return valid},_announceInvalidCharacter:function _announceInvalidCharacter(message){this.fire("iron-announce",{text:message})},_computeValue:function _computeValue(bindValue){return bindValue}});</script></dom-module><script>Polymer.PaperInputHelper={};Polymer.PaperInputHelper.NextLabelID=1;Polymer.PaperInputHelper.NextAddonID=1;Polymer.PaperInputHelper.NextInputID=1;Polymer.PaperInputBehaviorImpl={properties:{label:{type:String},value:{notify:!0,type:String},disabled:{type:Boolean,value:!1},invalid:{type:Boolean,value:!1,notify:!0},allowedPattern:{type:String},type:{type:String},list:{type:String},pattern:{type:String},required:{type:Boolean,value:!1},errorMessage:{type:String},charCounter:{type:Boolean,value:!1},noLabelFloat:{type:Boolean,value:!1},alwaysFloatLabel:{type:Boolean,value:!1},autoValidate:{type:Boolean,value:!1},validator:{type:String},autocomplete:{type:String,value:"off"},autofocus:{type:Boolean,observer:"_autofocusChanged"},inputmode:{type:String},minlength:{type:Number},maxlength:{type:Number},min:{type:String},max:{type:String},step:{type:String},name:{type:String},placeholder:{type:String,value:""},readonly:{type:Boolean,value:!1},size:{type:Number},autocapitalize:{type:String,value:"none"},autocorrect:{type:String,value:"off"},autosave:{type:String},results:{type:Number},accept:{type:String},multiple:{type:Boolean},_ariaDescribedBy:{type:String,value:""},_ariaLabelledBy:{type:String,value:""},_inputId:{type:String,value:""}},listeners:{"addon-attached":"_onAddonAttached"},keyBindings:{"shift+tab:keydown":"_onShiftTabDown"},hostAttributes:{tabindex:0},get inputElement(){if(!this.$){this.$={}}if(!this.$.input){this._generateInputId();this.$.input=this.$$("#"+this._inputId)}return this.$.input},get _focusableElement(){return this.inputElement},created:function created(){this._typesThatHaveText=["date","datetime","datetime-local","month","time","week","file"]},attached:function attached(){this._updateAriaLabelledBy();if(!Polymer.Element&&this.inputElement&&-1!==this._typesThatHaveText.indexOf(this.inputElement.type)){this.alwaysFloatLabel=!0}},_appendStringWithSpace:function _appendStringWithSpace(str,more){if(str){str=str+" "+more}else{str=more}return str},_onAddonAttached:function _onAddonAttached(event){var target=Polymer.dom(event).rootTarget;if(target.id){this._ariaDescribedBy=this._appendStringWithSpace(this._ariaDescribedBy,target.id)}else{var id="paper-input-add-on-"+Polymer.PaperInputHelper.NextAddonID++;target.id=id;this._ariaDescribedBy=this._appendStringWithSpace(this._ariaDescribedBy,id)}},validate:function validate(){return this.inputElement.validate()},_focusBlurHandler:function _focusBlurHandler(event){Polymer.IronControlState._focusBlurHandler.call(this,event);if(this.focused&&!this._shiftTabPressed&&this._focusableElement){this._focusableElement.focus()}},_onShiftTabDown:function _onShiftTabDown(event){var oldTabIndex=this.getAttribute("tabindex");this._shiftTabPressed=!0;this.setAttribute("tabindex","-1");this.async(function(){this.setAttribute("tabindex",oldTabIndex);this._shiftTabPressed=!1},1)},_handleAutoValidate:function _handleAutoValidate(){if(this.autoValidate)this.validate()},updateValueAndPreserveCaret:function updateValueAndPreserveCaret(newValue){try{var start=this.inputElement.selectionStart;this.value=newValue;this.inputElement.selectionStart=start;this.inputElement.selectionEnd=start}catch(e){this.value=newValue}},_computeAlwaysFloatLabel:function _computeAlwaysFloatLabel(alwaysFloatLabel,placeholder){return placeholder||alwaysFloatLabel},_updateAriaLabelledBy:function _updateAriaLabelledBy(){var label=Polymer.dom(this.root).querySelector("label");if(!label){this._ariaLabelledBy="";return}var labelledBy;if(label.id){labelledBy=label.id}else{labelledBy="paper-input-label-"+Polymer.PaperInputHelper.NextLabelID++;label.id=labelledBy}this._ariaLabelledBy=labelledBy},_generateInputId:function _generateInputId(){if(!this._inputId||""===this._inputId){this._inputId="input-"+Polymer.PaperInputHelper.NextInputID++}},_onChange:function _onChange(event){if(this.shadowRoot){this.fire(event.type,{sourceEvent:event},{node:this,bubbles:event.bubbles,cancelable:event.cancelable})}},_autofocusChanged:function _autofocusChanged(){if(this.autofocus&&this._focusableElement){var activeElement=document.activeElement,isActiveElementValid=babelHelpers.instanceof(activeElement,HTMLElement),isSomeElementActive=isActiveElementValid&&activeElement!==document.body&&activeElement!==document.documentElement;if(!isSomeElementActive){this._focusableElement.focus()}}}};Polymer.PaperInputBehavior=[Polymer.IronControlState,Polymer.IronA11yKeysBehavior,Polymer.PaperInputBehaviorImpl];</script><script>Polymer.PaperInputAddonBehavior={attached:function attached(){this.fire("addon-attached")},update:function update(state){}};</script><dom-module id="paper-input-char-counter" assetpath="../bower_components/paper-input/"><template><style>:host{display:inline-block;float:right;@apply --paper-font-caption;@apply --paper-input-char-counter;}:host([hidden]){display:none !important;}:host(:dir(rtl)){float:left;}</style><span>[[_charCounterStr]]</span></template></dom-module><script>Polymer({is:"paper-input-char-counter",behaviors:[Polymer.PaperInputAddonBehavior],properties:{_charCounterStr:{type:String,value:"0"}},update:function update(state){if(!state.inputElement){return}state.value=state.value||"";var counter=state.value.toString().length.toString();if(state.inputElement.hasAttribute("maxlength")){counter+="/"+state.inputElement.getAttribute("maxlength")}this._charCounterStr=counter}});</script><custom-style><style is="custom-style">html{--paper-input-container-shared-input-style:{position:relative;outline:none;box-shadow:none;padding:0;margin:0;width:100%;max-width:100%;background:transparent;border:none;color:var(--paper-input-container-input-color, var(--primary-text-color));-webkit-appearance:none;text-align:inherit;vertical-align:bottom;@apply --paper-font-subhead;};}</style></custom-style><dom-module id="paper-input-container" assetpath="../bower_components/paper-input/"><template><style>:host{display:block;padding:8px 0;@apply --paper-input-container;}:host([inline]){display:inline-block;}:host([disabled]){pointer-events:none;opacity:0.33;@apply --paper-input-container-disabled;}:host([hidden]){display:none !important;}[hidden]{display:none !important;}.floated-label-placeholder{@apply --paper-font-caption;}.underline{height:2px;position:relative;}.focused-line{@apply --layout-fit;border-bottom:2px solid var(--paper-input-container-focus-color, var(--primary-color));-webkit-transform-origin:center center;transform-origin:center center;-webkit-transform:scale3d(0,1,1);transform:scale3d(0,1,1);@apply --paper-input-container-underline-focus;}.underline.is-highlighted .focused-line{-webkit-transform:none;transform:none;-webkit-transition:-webkit-transform 0.25s;transition:transform 0.25s;@apply --paper-transition-easing;}.underline.is-invalid .focused-line{border-color:var(--paper-input-container-invalid-color, var(--error-color));-webkit-transform:none;transform:none;-webkit-transition:-webkit-transform 0.25s;transition:transform 0.25s;@apply --paper-transition-easing;}.unfocused-line{@apply --layout-fit;border-bottom:1px solid var(--paper-input-container-color, var(--secondary-text-color));@apply --paper-input-container-underline;}:host([disabled]) .unfocused-line{border-bottom:1px dashed;border-color:var(--paper-input-container-color, var(--secondary-text-color));@apply --paper-input-container-underline-disabled;}.input-wrapper{@apply --layout-horizontal;@apply --layout-center;position:relative;}.input-content{@apply --layout-flex-auto;@apply --layout-relative;max-width:100%;}.input-content ::slotted(label),
      .input-content ::slotted(.paper-input-label){position:absolute;top:0;left:0;width:100%;font:inherit;color:var(--paper-input-container-color, var(--secondary-text-color));-webkit-transition:-webkit-transform 0.25s, width 0.25s;transition:transform 0.25s, width 0.25s;-webkit-transform-origin:left top;transform-origin:left top;min-height:1px;@apply --paper-font-common-nowrap;@apply --paper-font-subhead;@apply --paper-input-container-label;@apply --paper-transition-easing;}.input-content.label-is-floating ::slotted(label),
      .input-content.label-is-floating ::slotted(.paper-input-label){-webkit-transform:translateY(-75%) scale(0.75);transform:translateY(-75%) scale(0.75);width:133%;@apply --paper-input-container-label-floating;}:host(:dir(rtl)) .input-content.label-is-floating ::slotted(label),
      :host(:dir(rtl)) .input-content.label-is-floating ::slotted(.paper-input-label){right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;}.input-content.label-is-highlighted ::slotted(label),
      .input-content.label-is-highlighted ::slotted(.paper-input-label){color:var(--paper-input-container-focus-color, var(--primary-color));@apply --paper-input-container-label-focus;}.input-content.is-invalid ::slotted(label),
      .input-content.is-invalid ::slotted(.paper-input-label){color:var(--paper-input-container-invalid-color, var(--error-color));}.input-content.label-is-hidden ::slotted(label),
      .input-content.label-is-hidden ::slotted(.paper-input-label){visibility:hidden;}.input-content ::slotted(input),
      .input-content ::slotted(iron-input),
      .input-content ::slotted(textarea),
      .input-content ::slotted(iron-autogrow-textarea),
      .input-content ::slotted(.paper-input-input){@apply --paper-input-container-shared-input-style;color:var(--paper-input-container-input-color, var(--primary-text-color));@apply --paper-input-container-input;}.input-content ::slotted(input)::-webkit-outer-spin-button,
      .input-content ::slotted(input)::-webkit-inner-spin-button{@apply --paper-input-container-input-webkit-spinner;}.input-content.focused ::slotted(input),
      .input-content.focused ::slotted(iron-input),
      .input-content.focused ::slotted(textarea),
      .input-content.focused ::slotted(iron-autogrow-textarea),
      .input-content.focused ::slotted(.paper-input-input){@apply --paper-input-container-input-focus;}.input-content.is-invalid ::slotted(input),
      .input-content.is-invalid ::slotted(iron-input),
      .input-content.is-invalid ::slotted(textarea),
      .input-content.is-invalid ::slotted(iron-autogrow-textarea),
      .input-content.is-invalid ::slotted(.paper-input-input){@apply --paper-input-container-input-invalid;}.prefix ::slotted(*){display:inline-block;@apply --paper-font-subhead;@apply --layout-flex-none;@apply --paper-input-prefix;}.suffix ::slotted(*){display:inline-block;@apply --paper-font-subhead;@apply --layout-flex-none;@apply --paper-input-suffix;}.input-content ::slotted(input){min-width:0;}.input-content ::slotted(textarea){resize:none;}.add-on-content{position:relative;}.add-on-content.is-invalid ::slotted(*){color:var(--paper-input-container-invalid-color, var(--error-color));}.add-on-content.is-highlighted ::slotted(*){color:var(--paper-input-container-focus-color, var(--primary-color));}</style><div class="floated-label-placeholder" aria-hidden="true" hidden="[[noLabelFloat]]">&nbsp;</div><div class="input-wrapper"><span class="prefix"><slot name="prefix"></slot></span><div class$="[[_computeInputContentClass(noLabelFloat,alwaysFloatLabel,focused,invalid,_inputHasContent)]]" id="labelAndInputContainer"><slot name="label"></slot><slot name="input"></slot></div><span class="suffix"><slot name="suffix"></slot></span></div><div class$="[[_computeUnderlineClass(focused,invalid)]]"><div class="unfocused-line"></div><div class="focused-line"></div></div><div class$="[[_computeAddOnContentClass(focused,invalid)]]"><slot name="add-on"></slot></div></template></dom-module><script>Polymer({is:"paper-input-container",properties:{noLabelFloat:{type:Boolean,value:!1},alwaysFloatLabel:{type:Boolean,value:!1},attrForValue:{type:String,value:"bind-value"},autoValidate:{type:Boolean,value:!1},invalid:{observer:"_invalidChanged",type:Boolean,value:!1},focused:{readOnly:!0,type:Boolean,value:!1,notify:!0},_addons:{type:Array},_inputHasContent:{type:Boolean,value:!1},_inputSelector:{type:String,value:"input,iron-input,textarea,.paper-input-input"},_boundOnFocus:{type:Function,value:function value(){return this._onFocus.bind(this)}},_boundOnBlur:{type:Function,value:function value(){return this._onBlur.bind(this)}},_boundOnInput:{type:Function,value:function value(){return this._onInput.bind(this)}},_boundValueChanged:{type:Function,value:function value(){return this._onValueChanged.bind(this)}}},listeners:{"addon-attached":"_onAddonAttached","iron-input-validate":"_onIronInputValidate"},get _valueChangedEvent(){return this.attrForValue+"-changed"},get _propertyForValue(){return Polymer.CaseMap.dashToCamelCase(this.attrForValue)},get _inputElement(){return Polymer.dom(this).querySelector(this._inputSelector)},get _inputElementValue(){return this._inputElement[this._propertyForValue]||this._inputElement.value},ready:function ready(){this.__isFirstValueUpdate=!0;if(!this._addons){this._addons=[]}this.addEventListener("focus",this._boundOnFocus,!0);this.addEventListener("blur",this._boundOnBlur,!0)},attached:function attached(){if(this.attrForValue){this._inputElement.addEventListener(this._valueChangedEvent,this._boundValueChanged)}else{this.addEventListener("input",this._onInput)}if(this._inputElementValue&&""!=this._inputElementValue){this._handleValueAndAutoValidate(this._inputElement)}else{this._handleValue(this._inputElement)}},_onAddonAttached:function _onAddonAttached(event){if(!this._addons){this._addons=[]}var target=event.target;if(-1===this._addons.indexOf(target)){this._addons.push(target);if(this.isAttached){this._handleValue(this._inputElement)}}},_onFocus:function _onFocus(){this._setFocused(!0)},_onBlur:function _onBlur(){this._setFocused(!1);this._handleValueAndAutoValidate(this._inputElement)},_onInput:function _onInput(event){this._handleValueAndAutoValidate(event.target)},_onValueChanged:function _onValueChanged(event){var input=event.target;if(this.__isFirstValueUpdate){this.__isFirstValueUpdate=!1;if(input.value===void 0||""===input.value){return}}this._handleValueAndAutoValidate(event.target)},_handleValue:function _handleValue(inputElement){var value=this._inputElementValue;if(value||0===value||"number"===inputElement.type&&!inputElement.checkValidity()){this._inputHasContent=!0}else{this._inputHasContent=!1}this.updateAddons({inputElement:inputElement,value:value,invalid:this.invalid})},_handleValueAndAutoValidate:function _handleValueAndAutoValidate(inputElement){if(this.autoValidate&&inputElement){var valid;if(inputElement.validate){valid=inputElement.validate(this._inputElementValue)}else{valid=inputElement.checkValidity()}this.invalid=!valid}this._handleValue(inputElement)},_onIronInputValidate:function _onIronInputValidate(event){this.invalid=this._inputElement.invalid},_invalidChanged:function _invalidChanged(){if(this._addons){this.updateAddons({invalid:this.invalid})}},updateAddons:function updateAddons(state){for(var addon,index=0;addon=this._addons[index];index++){addon.update(state)}},_computeInputContentClass:function _computeInputContentClass(noLabelFloat,alwaysFloatLabel,focused,invalid,_inputHasContent){var cls="input-content";if(!noLabelFloat){var label=this.querySelector("label");if(alwaysFloatLabel||_inputHasContent){cls+=" label-is-floating";this.$.labelAndInputContainer.style.position="static";if(invalid){cls+=" is-invalid"}else if(focused){cls+=" label-is-highlighted"}}else{if(label){this.$.labelAndInputContainer.style.position="relative"}if(invalid){cls+=" is-invalid"}}}else{if(_inputHasContent){cls+=" label-is-hidden"}if(invalid){cls+=" is-invalid"}}if(focused){cls+=" focused"}return cls},_computeUnderlineClass:function _computeUnderlineClass(focused,invalid){var cls="underline";if(invalid){cls+=" is-invalid"}else if(focused){cls+=" is-highlighted"}return cls},_computeAddOnContentClass:function _computeAddOnContentClass(focused,invalid){var cls="add-on-content";if(invalid){cls+=" is-invalid"}else if(focused){cls+=" is-highlighted"}return cls}});</script><dom-module id="paper-input-error" assetpath="../bower_components/paper-input/"><template><style>:host{display:inline-block;visibility:hidden;color:var(--paper-input-container-invalid-color, var(--error-color));@apply --paper-font-caption;@apply --paper-input-error;position:absolute;left:0;right:0;}:host([invalid]){visibility:visible;}</style><slot></slot></template></dom-module><script>Polymer({is:"paper-input-error",behaviors:[Polymer.PaperInputAddonBehavior],properties:{invalid:{readOnly:!0,reflectToAttribute:!0,type:Boolean}},update:function update(state){this._setInvalid(state.invalid)}});</script><dom-module id="paper-input" assetpath="../bower_components/paper-input/"><template><style>:host{display:block;}:host([focused]){outline:none;}:host([hidden]){display:none !important;}input{min-width:0;}iron-input > input{@apply --paper-input-container-shared-input-style;font-family:inherit;font-weight:inherit;font-size:inherit;letter-spacing:inherit;word-spacing:inherit;line-height:inherit;text-shadow:inherit;color:inherit;cursor:inherit;}input:disabled{@apply --paper-input-container-input-disabled;}input::-webkit-outer-spin-button,
      input::-webkit-inner-spin-button{@apply --paper-input-container-input-webkit-spinner;}input::-webkit-clear-button{@apply --paper-input-container-input-webkit-clear;}input::-webkit-calendar-picker-indicator{@apply --paper-input-container-input-webkit-calendar-picker-indicator;}input::-webkit-input-placeholder{color:var(--paper-input-container-color, var(--secondary-text-color));}input:-moz-placeholder{color:var(--paper-input-container-color, var(--secondary-text-color));}input::-moz-placeholder{color:var(--paper-input-container-color, var(--secondary-text-color));}input::-ms-clear{@apply --paper-input-container-ms-clear;}input::-ms-reveal{@apply --paper-input-container-ms-reveal;}input:-ms-input-placeholder{color:var(--paper-input-container-color, var(--secondary-text-color));}label{pointer-events:none;}</style><paper-input-container id="container" no-label-float="[[noLabelFloat]]" always-float-label="[[_computeAlwaysFloatLabel(alwaysFloatLabel,placeholder)]]" auto-validate$="[[autoValidate]]" disabled$="[[disabled]]" invalid="[[invalid]]"><slot name="prefix" slot="prefix"></slot><label hidden$="[[!label]]" aria-hidden="true" for$="[[_inputId]]" slot="label">[[label]]</label> <span id="template-placeholder"></span><slot name="suffix" slot="suffix"></slot><template is="dom-if" if="[[errorMessage]]"><paper-input-error aria-live="assertive" slot="add-on">[[errorMessage]]</paper-input-error></template><template is="dom-if" if="[[charCounter]]"><paper-input-char-counter slot="add-on"></paper-input-char-counter></template></paper-input-container></template><template id="v0"><input is="iron-input" slot="input" class="input-element" id$="[[_inputId]]" aria-labelledby$="[[_ariaLabelledBy]]" aria-describedby$="[[_ariaDescribedBy]]" disabled$="[[disabled]]" title$="[[title]]" bind-value="{{value}}" invalid="{{invalid}}" prevent-invalid-input="[[preventInvalidInput]]" allowed-pattern="[[allowedPattern]]" validator="[[validator]]" type$="[[type]]" pattern$="[[pattern]]" required$="[[required]]" autocomplete$="[[autocomplete]]" autofocus$="[[autofocus]]" inputmode$="[[inputmode]]" minlength$="[[minlength]]" maxlength$="[[maxlength]]" min$="[[min]]" max$="[[max]]" step$="[[step]]" name$="[[name]]" placeholder$="[[placeholder]]" readonly$="[[readonly]]" list$="[[list]]" size$="[[size]]" autocapitalize$="[[autocapitalize]]" autocorrect$="[[autocorrect]]" on-change="_onChange" tabindex$="[[tabIndex]]" autosave$="[[autosave]]" results$="[[results]]" accept$="[[accept]]" multiple$="[[multiple]]"></template><template id="v1"><iron-input bind-value="{{value}}" slot="input" class="input-element" id$="[[_inputId]]" maxlength$="[[maxlength]]" allowed-pattern="[[allowedPattern]]" invalid="{{invalid}}" validator="[[validator]]"><input aria-labelledby$="[[_ariaLabelledBy]]" aria-describedby$="[[_ariaDescribedBy]]" disabled$="[[disabled]]" title$="[[title]]" type$="[[type]]" pattern$="[[pattern]]" required$="[[required]]" autocomplete$="[[autocomplete]]" autofocus$="[[autofocus]]" inputmode$="[[inputmode]]" minlength$="[[minlength]]" maxlength$="[[maxlength]]" min$="[[min]]" max$="[[max]]" step$="[[step]]" name$="[[name]]" placeholder$="[[placeholder]]" readonly$="[[readonly]]" list$="[[list]]" size$="[[size]]" autocapitalize$="[[autocapitalize]]" autocorrect$="[[autocorrect]]" on-change="_onChange" tabindex$="[[tabIndex]]" autosave$="[[autosave]]" results$="[[results]]" accept$="[[accept]]" multiple$="[[multiple]]"></iron-input></template></dom-module><script>Polymer({is:"paper-input",behaviors:[Polymer.PaperInputBehavior,Polymer.IronFormElementBehavior],properties:{value:{type:String}},beforeRegister:function beforeRegister(){var ironInput=document.createElement("iron-input"),version="function"==typeof ironInput._initSlottedInput?"v1":"v0",template=Polymer.DomModule.import("paper-input","template"),inputTemplate=Polymer.DomModule.import("paper-input","template#"+version),inputPlaceholder=template.content.querySelector("#template-placeholder");if(inputPlaceholder){inputPlaceholder.parentNode.replaceChild(inputTemplate.content,inputPlaceholder)}},get _focusableElement(){return Polymer.Element?this.inputElement._inputElement:this.inputElement},listeners:{"iron-input-ready":"_onIronInputReady"},_onIronInputReady:function _onIronInputReady(){if(!this.$.nativeInput){this.$.nativeInput=this.$$("input")}if(this.inputElement&&-1!==this._typesThatHaveText.indexOf(this.$.nativeInput.type)){this.alwaysFloatLabel=!0}if(!!this.inputElement.bindValue){this.$.container._handleValueAndAutoValidate(this.inputElement)}}});</script><dom-module id="paper-slider" assetpath="../bower_components/paper-slider/"><template strip-whitespace=""><style>:host{@apply --layout;@apply --layout-justified;@apply --layout-center;width:200px;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-tap-highlight-color:rgba(0, 0, 0, 0);--paper-progress-active-color:var(--paper-slider-active-color, var(--google-blue-700));--paper-progress-secondary-color:var(--paper-slider-secondary-color, var(--google-blue-300));--paper-progress-disabled-active-color:var(--paper-slider-disabled-active-color, var(--paper-grey-400));--paper-progress-disabled-secondary-color:var(--paper-slider-disabled-secondary-color, var(--paper-grey-400));--calculated-paper-slider-height:var(--paper-slider-height, 2px);}:host(:focus){outline:none;}:dir(rtl) #sliderContainer{-webkit-transform:scaleX(-1);transform:scaleX(-1);}:host([dir="rtl"]) #sliderContainer{-webkit-transform:scaleX(-1);transform:scaleX(-1);}:host([dir="ltr"]) #sliderContainer{-webkit-transform:scaleX(1);transform:scaleX(1);}#sliderContainer{position:relative;width:100%;height:calc(30px + var(--calculated-paper-slider-height));margin-left:calc(15px + var(--calculated-paper-slider-height)/2);margin-right:calc(15px + var(--calculated-paper-slider-height)/2);}#sliderContainer:focus{outline:0;}#sliderContainer.editable{margin-top:12px;margin-bottom:12px;}.bar-container{position:absolute;top:0;bottom:0;left:0;right:0;overflow:hidden;}.ring > .bar-container{left:calc(5px + var(--calculated-paper-slider-height)/2);transition:left 0.18s ease;}.ring.expand.dragging > .bar-container{transition:none;}.ring.expand:not(.pin) > .bar-container{left:calc(8px + var(--calculated-paper-slider-height)/2);}#sliderBar{padding:15px 0;width:100%;background-color:var(--paper-slider-bar-color, transparent);--paper-progress-container-color:var(--paper-slider-container-color, var(--paper-grey-400));--paper-progress-height:var(--calculated-paper-slider-height);}.slider-markers{position:absolute;top:15px;height:var(--calculated-paper-slider-height);left:0;right:-1px;box-sizing:border-box;pointer-events:none;@apply --layout-horizontal;}.slider-marker{@apply --layout-flex;}.slider-markers::after,
      .slider-marker::after{content:"";display:block;margin-left:-1px;width:2px;height:var(--calculated-paper-slider-height);border-radius:50%;background-color:var(--paper-slider-markers-color, #000);}.slider-knob{position:absolute;left:0;top:0;margin-left:calc(-15px - var(--calculated-paper-slider-height)/2);width:calc(30px + var(--calculated-paper-slider-height));height:calc(30px + var(--calculated-paper-slider-height));}.transiting > .slider-knob{transition:left 0.08s ease;}.slider-knob:focus{outline:none;}.slider-knob.dragging{transition:none;}.snaps > .slider-knob.dragging{transition:-webkit-transform 0.08s ease;transition:transform 0.08s ease;}.slider-knob-inner{margin:10px;width:calc(100% - 20px);height:calc(100% - 20px);background-color:var(--paper-slider-knob-color, var(--google-blue-700));border:2px solid var(--paper-slider-knob-color, var(--google-blue-700));border-radius:50%;-moz-box-sizing:border-box;box-sizing:border-box;transition-property:-webkit-transform, background-color, border;transition-property:transform, background-color, border;transition-duration:0.18s;transition-timing-function:ease;}.expand:not(.pin) > .slider-knob > .slider-knob-inner{-webkit-transform:scale(1.5);transform:scale(1.5);}.ring > .slider-knob > .slider-knob-inner{background-color:var(--paper-slider-knob-start-color, transparent);border:2px solid var(--paper-slider-knob-start-border-color, var(--paper-grey-400));}.slider-knob-inner::before{background-color:var(--paper-slider-pin-color, var(--google-blue-700));}.pin > .slider-knob > .slider-knob-inner::before{content:"";position:absolute;top:0;left:50%;margin-left:-13px;width:26px;height:26px;border-radius:50% 50% 50% 0;-webkit-transform:rotate(-45deg) scale(0) translate(0);transform:rotate(-45deg) scale(0) translate(0);}.slider-knob-inner::before,
      .slider-knob-inner::after{transition:-webkit-transform .18s ease, background-color .18s ease;transition:transform .18s ease, background-color .18s ease;}.pin.ring > .slider-knob > .slider-knob-inner::before{background-color:var(--paper-slider-pin-start-color, var(--paper-grey-400));}.pin.expand > .slider-knob > .slider-knob-inner::before{-webkit-transform:rotate(-45deg) scale(1) translate(17px, -17px);transform:rotate(-45deg) scale(1) translate(17px, -17px);}.pin > .slider-knob > .slider-knob-inner::after{content:attr(value);position:absolute;top:0;left:50%;margin-left:-16px;width:32px;height:26px;text-align:center;color:var(--paper-slider-font-color, #fff);font-size:10px;-webkit-transform:scale(0) translate(0);transform:scale(0) translate(0);}.pin.expand > .slider-knob > .slider-knob-inner::after{-webkit-transform:scale(1) translate(0, -17px);transform:scale(1) translate(0, -17px);}.slider-input{width:50px;overflow:hidden;--paper-input-container-input:{text-align:center;@apply --paper-slider-input-container-input;};@apply --paper-slider-input;}#sliderContainer.disabled{pointer-events:none;}.disabled > .slider-knob > .slider-knob-inner{background-color:var(--paper-slider-disabled-knob-color, var(--paper-grey-400));border:2px solid var(--paper-slider-disabled-knob-color, var(--paper-grey-400));-webkit-transform:scale3d(0.75, 0.75, 1);transform:scale3d(0.75, 0.75, 1);}.disabled.ring > .slider-knob > .slider-knob-inner{background-color:var(--paper-slider-knob-start-color, transparent);border:2px solid var(--paper-slider-knob-start-border-color, var(--paper-grey-400));}paper-ripple{color:var(--paper-slider-knob-color, var(--google-blue-700));}</style><div id="sliderContainer" class$="[[_getClassNames(disabled, pin, snaps, immediateValue, min, expand, dragging, transiting, editable)]]"><div class="bar-container"><paper-progress disabled$="[[disabled]]" id="sliderBar" aria-hidden="true" min="[[min]]" max="[[max]]" step="[[step]]" value="[[immediateValue]]" secondary-progress="[[secondaryProgress]]" on-down="_bardown" on-up="_resetKnob" on-track="_bartrack" on-tap="_barclick"></paper-progress></div><template is="dom-if" if="[[snaps]]"><div class="slider-markers"><template is="dom-repeat" items="[[markers]]"><div class="slider-marker"></div></template></div></template><div id="sliderKnob" class="slider-knob" on-down="_knobdown" on-up="_resetKnob" on-track="_onTrack" on-transitionend="_knobTransitionEnd"><div class="slider-knob-inner" value$="[[immediateValue]]"></div></div></div><template is="dom-if" if="[[editable]]"><paper-input id="input" type="number" step="[[step]]" min="[[min]]" max="[[max]]" class="slider-input" disabled$="[[disabled]]" value="[[immediateValue]]" on-change="_changeValue" on-keydown="_inputKeyDown" no-label-float=""></paper-input></template></template><script>Polymer({is:"paper-slider",behaviors:[Polymer.IronA11yKeysBehavior,Polymer.IronFormElementBehavior,Polymer.PaperInkyFocusBehavior,Polymer.IronRangeBehavior],properties:{value:{type:Number,value:0},snaps:{type:Boolean,value:!1,notify:!0},pin:{type:Boolean,value:!1,notify:!0},secondaryProgress:{type:Number,value:0,notify:!0,observer:"_secondaryProgressChanged"},editable:{type:Boolean,value:!1},immediateValue:{type:Number,value:0,readOnly:!0,notify:!0},maxMarkers:{type:Number,value:0,notify:!0},expand:{type:Boolean,value:!1,readOnly:!0},ignoreBarTouch:{type:Boolean,value:!1},dragging:{type:Boolean,value:!1,readOnly:!0,notify:!0},transiting:{type:Boolean,value:!1,readOnly:!0},markers:{type:Array,readOnly:!0,value:function value(){return[]}}},observers:["_updateKnob(value, min, max, snaps, step)","_valueChanged(value)","_immediateValueChanged(immediateValue)","_updateMarkers(maxMarkers, min, max, snaps)"],hostAttributes:{role:"slider",tabindex:0},keyBindings:{left:"_leftKey",right:"_rightKey","down pagedown home":"_decrementKey","up pageup end":"_incrementKey"},ready:function ready(){if(this.ignoreBarTouch){Polymer.Gestures.setTouchAction(this.$.sliderBar,"auto")}},increment:function increment(){this.value=this._clampValue(this.value+this.step)},decrement:function decrement(){this.value=this._clampValue(this.value-this.step)},_updateKnob:function _updateKnob(value,min,max,snaps,step){this.setAttribute("aria-valuemin",min);this.setAttribute("aria-valuemax",max);this.setAttribute("aria-valuenow",value);this._positionKnob(100*this._calcRatio(value))},_valueChanged:function _valueChanged(){this.fire("value-change",{composed:!0})},_immediateValueChanged:function _immediateValueChanged(){if(this.dragging){this.fire("immediate-value-change",{composed:!0})}else{this.value=this.immediateValue}},_secondaryProgressChanged:function _secondaryProgressChanged(){this.secondaryProgress=this._clampValue(this.secondaryProgress)},_expandKnob:function _expandKnob(){this._setExpand(!0)},_resetKnob:function _resetKnob(){this.cancelDebouncer("expandKnob");this._setExpand(!1)},_positionKnob:function _positionKnob(ratio){this._setImmediateValue(this._calcStep(this._calcKnobPosition(ratio)));this._setRatio(100*this._calcRatio(this.immediateValue));this.$.sliderKnob.style.left=this.ratio+"%";if(this.dragging){this._knobstartx=this.ratio*this._w/100;this.translate3d(0,0,0,this.$.sliderKnob)}},_calcKnobPosition:function _calcKnobPosition(ratio){return(this.max-this.min)*ratio/100+this.min},_onTrack:function _onTrack(event){event.stopPropagation();switch(event.detail.state){case"start":this._trackStart(event);break;case"track":this._trackX(event);break;case"end":this._trackEnd();break;}},_trackStart:function _trackStart(event){this._setTransiting(!1);this._w=this.$.sliderBar.offsetWidth;this._x=this.ratio*this._w/100;this._startx=this._x;this._knobstartx=this._startx;this._minx=-this._startx;this._maxx=this._w-this._startx;this.$.sliderKnob.classList.add("dragging");this._setDragging(!0)},_trackX:function _trackX(event){if(!this.dragging){this._trackStart(event)}var direction=this._isRTL?-1:1,dx=Math.min(this._maxx,Math.max(this._minx,event.detail.dx*direction));this._x=this._startx+dx;var immediateValue=this._calcStep(this._calcKnobPosition(100*(this._x/this._w)));this._setImmediateValue(immediateValue);var translateX=this._calcRatio(this.immediateValue)*this._w-this._knobstartx;this.translate3d(translateX+"px",0,0,this.$.sliderKnob)},_trackEnd:function _trackEnd(){var s=this.$.sliderKnob.style;this.$.sliderKnob.classList.remove("dragging");this._setDragging(!1);this._resetKnob();this.value=this.immediateValue;s.transform=s.webkitTransform="";this.fire("change",{composed:!0})},_knobdown:function _knobdown(event){this._expandKnob();event.preventDefault();this.focus()},_bartrack:function _bartrack(event){if(this._allowBarEvent(event)){this._onTrack(event)}},_barclick:function _barclick(event){this._w=this.$.sliderBar.offsetWidth;var rect=this.$.sliderBar.getBoundingClientRect(),ratio=100*((event.detail.x-rect.left)/this._w);if(this._isRTL){ratio=100-ratio}var prevRatio=this.ratio;this._setTransiting(!0);this._positionKnob(ratio);if(prevRatio===this.ratio){this._setTransiting(!1)}this.async(function(){this.fire("change",{composed:!0})});event.preventDefault();this.focus()},_bardown:function _bardown(event){if(this._allowBarEvent(event)){this.debounce("expandKnob",this._expandKnob,60);this._barclick(event)}},_knobTransitionEnd:function _knobTransitionEnd(event){if(event.target===this.$.sliderKnob){this._setTransiting(!1)}},_updateMarkers:function _updateMarkers(maxMarkers,min,max,snaps){if(!snaps){this._setMarkers([])}var steps=Math.round((max-min)/this.step);if(steps>maxMarkers){steps=maxMarkers}if(0>steps||!isFinite(steps)){steps=0}this._setMarkers(Array(steps))},_mergeClasses:function _mergeClasses(classes){return Object.keys(classes).filter(function(className){return classes[className]}).join(" ")},_getClassNames:function _getClassNames(){return this._mergeClasses({disabled:this.disabled,pin:this.pin,snaps:this.snaps,ring:this.immediateValue<=this.min,expand:this.expand,dragging:this.dragging,transiting:this.transiting,editable:this.editable})},_allowBarEvent:function _allowBarEvent(event){return!this.ignoreBarTouch||babelHelpers.instanceof(event.detail.sourceEvent,MouseEvent)},get _isRTL(){if(this.__isRTL===void 0){this.__isRTL="rtl"===window.getComputedStyle(this).direction}return this.__isRTL},_leftKey:function _leftKey(event){if(this._isRTL)this._incrementKey(event);else this._decrementKey(event)},_rightKey:function _rightKey(event){if(this._isRTL)this._decrementKey(event);else this._incrementKey(event)},_incrementKey:function _incrementKey(event){if(!this.disabled){if("end"===event.detail.key){this.value=this.max}else{this.increment()}this.fire("change");event.preventDefault()}},_decrementKey:function _decrementKey(event){if(!this.disabled){if("home"===event.detail.key){this.value=this.min}else{this.decrement()}this.fire("change");event.preventDefault()}},_changeValue:function _changeValue(event){this.value=event.target.value;this.fire("change",{composed:!0})},_inputKeyDown:function _inputKeyDown(event){event.stopPropagation()},_createRipple:function _createRipple(){this._rippleContainer=this.$.sliderKnob;return Polymer.PaperInkyFocusBehaviorImpl._createRipple.call(this)},_focusedChanged:function _focusedChanged(receivedFocusFromKeyboard){if(receivedFocusFromKeyboard){this.ensureRipple()}if(this.hasRipple()){if(receivedFocusFromKeyboard){this._ripple.style.display=""}else{this._ripple.style.display="none"}this._ripple.holdDown=receivedFocusFromKeyboard}}});</script></dom-module><iron-iconset-svg name="av" size="24"><svg><defs><g id="add-to-queue"><path d="M21 3H3c-1.11 0-2 .89-2 2v12c0 1.1.89 2 2 2h5v2h8v-2h5c1.1 0 1.99-.9 1.99-2L23 5c0-1.11-.9-2-2-2zm0 14H3V5h18v12zm-5-7v2h-3v3h-2v-3H8v-2h3V7h2v3h3z"></path></g><g id="airplay"><path d="M6 22h12l-6-6zM21 3H3c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h4v-2H3V5h18v12h-4v2h4c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"></path></g><g id="album"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 14.5c-2.49 0-4.5-2.01-4.5-4.5S9.51 7.5 12 7.5s4.5 2.01 4.5 4.5-2.01 4.5-4.5 4.5zm0-5.5c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1z"></path></g><g id="art-track"><path d="M22 13h-8v-2h8v2zm0-6h-8v2h8V7zm-8 10h8v-2h-8v2zm-2-8v6c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V9c0-1.1.9-2 2-2h6c1.1 0 2 .9 2 2zm-1.5 6l-2.25-3-1.75 2.26-1.25-1.51L3.5 15h7z"></path></g><g id="av-timer"><path d="M11 17c0 .55.45 1 1 1s1-.45 1-1-.45-1-1-1-1 .45-1 1zm0-14v4h2V5.08c3.39.49 6 3.39 6 6.92 0 3.87-3.13 7-7 7s-7-3.13-7-7c0-1.68.59-3.22 1.58-4.42L12 13l1.41-1.41-6.8-6.8v.02C4.42 6.45 3 9.05 3 12c0 4.97 4.02 9 9 9 4.97 0 9-4.03 9-9s-4.03-9-9-9h-1zm7 9c0-.55-.45-1-1-1s-1 .45-1 1 .45 1 1 1 1-.45 1-1zM6 12c0 .55.45 1 1 1s1-.45 1-1-.45-1-1-1-1 .45-1 1z"></path></g><g id="branding-watermark"><path d="M21 3H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16h-9v-6h9v6z"></path></g><g id="call-to-action"><path d="M21 3H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H3v-3h18v3z"></path></g><g id="closed-caption"><path d="M19 4H5c-1.11 0-2 .9-2 2v12c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-8 7H9.5v-.5h-2v3h2V13H11v1c0 .55-.45 1-1 1H7c-.55 0-1-.45-1-1v-4c0-.55.45-1 1-1h3c.55 0 1 .45 1 1v1zm7 0h-1.5v-.5h-2v3h2V13H18v1c0 .55-.45 1-1 1h-3c-.55 0-1-.45-1-1v-4c0-.55.45-1 1-1h3c.55 0 1 .45 1 1v1z"></path></g><g id="equalizer"><path d="M10 20h4V4h-4v16zm-6 0h4v-8H4v8zM16 9v11h4V9h-4z"></path></g><g id="explicit"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-4 6h-4v2h4v2h-4v2h4v2H9V7h6v2z"></path></g><g id="fast-forward"><path d="M4 18l8.5-6L4 6v12zm9-12v12l8.5-6L13 6z"></path></g><g id="fast-rewind"><path d="M11 18V6l-8.5 6 8.5 6zm.5-6l8.5 6V6l-8.5 6z"></path></g><g id="featured-play-list"><path d="M21 3H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-9 8H3V9h9v2zm0-4H3V5h9v2z"></path></g><g id="featured-video"><path d="M21 3H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-9 9H3V5h9v7z"></path></g><g id="fiber-dvr"><path d="M17.5 10.5h2v1h-2zm-13 0h2v3h-2zM21 3H3c-1.11 0-2 .89-2 2v14c0 1.1.89 2 2 2h18c1.11 0 2-.9 2-2V5c0-1.11-.89-2-2-2zM8 13.5c0 .85-.65 1.5-1.5 1.5H3V9h3.5c.85 0 1.5.65 1.5 1.5v3zm4.62 1.5h-1.5L9.37 9h1.5l1 3.43 1-3.43h1.5l-1.75 6zM21 11.5c0 .6-.4 1.15-.9 1.4L21 15h-1.5l-.85-2H17.5v2H16V9h3.5c.85 0 1.5.65 1.5 1.5v1z"></path></g><g id="fiber-manual-record"><circle cx="12" cy="12" r="8"></circle></g><g id="fiber-new"><path d="M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2zM8.5 15H7.3l-2.55-3.5V15H3.5V9h1.25l2.5 3.5V9H8.5v6zm5-4.74H11v1.12h2.5v1.26H11v1.11h2.5V15h-4V9h4v1.26zm7 3.74c0 .55-.45 1-1 1h-4c-.55 0-1-.45-1-1V9h1.25v4.51h1.13V9.99h1.25v3.51h1.12V9h1.25v5z"></path></g><g id="fiber-pin"><path d="M5.5 10.5h2v1h-2zM20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2zM9 11.5c0 .85-.65 1.5-1.5 1.5h-2v2H4V9h3.5c.85 0 1.5.65 1.5 1.5v1zm3.5 3.5H11V9h1.5v6zm7.5 0h-1.2l-2.55-3.5V15H15V9h1.25l2.5 3.5V9H20v6z"></path></g><g id="fiber-smart-record"><g><circle cx="9" cy="12" r="8"></circle><path d="M17 4.26v2.09c2.33.82 4 3.04 4 5.65s-1.67 4.83-4 5.65v2.09c3.45-.89 6-4.01 6-7.74s-2.55-6.85-6-7.74z"></path></g></g><g id="forward-10"><path d="M4 13c0 4.4 3.6 8 8 8s8-3.6 8-8h-2c0 3.3-2.7 6-6 6s-6-2.7-6-6 2.7-6 6-6v4l5-5-5-5v4c-4.4 0-8 3.6-8 8zm6.8 3H10v-3.3L9 13v-.7l1.8-.6h.1V16zm4.3-1.8c0 .3 0 .6-.1.8l-.3.6s-.3.3-.5.3-.4.1-.6.1-.4 0-.6-.1-.3-.2-.5-.3-.2-.3-.3-.6-.1-.5-.1-.8v-.7c0-.3 0-.6.1-.8l.3-.6s.3-.3.5-.3.4-.1.6-.1.4 0 .6.1.3.2.5.3.2.3.3.6.1.5.1.8v.7zm-.8-.8v-.5s-.1-.2-.1-.3-.1-.1-.2-.2-.2-.1-.3-.1-.2 0-.3.1l-.2.2s-.1.2-.1.3v2s.1.2.1.3.1.1.2.2.2.1.3.1.2 0 .3-.1l.2-.2s.1-.2.1-.3v-1.5z"></path></g><g id="forward-30"><path d="M9.6 13.5h.4c.2 0 .4-.1.5-.2s.2-.2.2-.4v-.2s-.1-.1-.1-.2-.1-.1-.2-.1h-.5s-.1.1-.2.1-.1.1-.1.2v.2h-1c0-.2 0-.3.1-.5s.2-.3.3-.4.3-.2.4-.2.4-.1.5-.1c.2 0 .4 0 .6.1s.3.1.5.2.2.2.3.4.1.3.1.5v.3s-.1.2-.1.3-.1.2-.2.2-.2.1-.3.2c.2.1.4.2.5.4s.2.4.2.6c0 .2 0 .4-.1.5s-.2.3-.3.4-.3.2-.5.2-.4.1-.6.1c-.2 0-.4 0-.5-.1s-.3-.1-.5-.2-.2-.2-.3-.4-.1-.4-.1-.6h.8v.2s.1.1.1.2.1.1.2.1h.5s.1-.1.2-.1.1-.1.1-.2v-.5s-.1-.1-.1-.2-.1-.1-.2-.1h-.6v-.7zm5.7.7c0 .3 0 .6-.1.8l-.3.6s-.3.3-.5.3-.4.1-.6.1-.4 0-.6-.1-.3-.2-.5-.3-.2-.3-.3-.6-.1-.5-.1-.8v-.7c0-.3 0-.6.1-.8l.3-.6s.3-.3.5-.3.4-.1.6-.1.4 0 .6.1.3.2.5.3.2.3.3.6.1.5.1.8v.7zm-.9-.8v-.5s-.1-.2-.1-.3-.1-.1-.2-.2-.2-.1-.3-.1-.2 0-.3.1l-.2.2s-.1.2-.1.3v2s.1.2.1.3.1.1.2.2.2.1.3.1.2 0 .3-.1l.2-.2s.1-.2.1-.3v-1.5zM4 13c0 4.4 3.6 8 8 8s8-3.6 8-8h-2c0 3.3-2.7 6-6 6s-6-2.7-6-6 2.7-6 6-6v4l5-5-5-5v4c-4.4 0-8 3.6-8 8z"></path></g><g id="forward-5"><path d="M4 13c0 4.4 3.6 8 8 8s8-3.6 8-8h-2c0 3.3-2.7 6-6 6s-6-2.7-6-6 2.7-6 6-6v4l5-5-5-5v4c-4.4 0-8 3.6-8 8zm6.7.9l.2-2.2h2.4v.7h-1.7l-.1.9s.1 0 .1-.1.1 0 .1-.1.1 0 .2 0h.2c.2 0 .4 0 .5.1s.3.2.4.3.2.3.3.5.1.4.1.6c0 .2 0 .4-.1.5s-.1.3-.3.5-.3.2-.5.3-.4.1-.6.1c-.2 0-.4 0-.5-.1s-.3-.1-.5-.2-.2-.2-.3-.4-.1-.3-.1-.5h.8c0 .2.1.3.2.4s.2.1.4.1c.1 0 .2 0 .3-.1l.2-.2s.1-.2.1-.3v-.6l-.1-.2-.2-.2s-.2-.1-.3-.1h-.2s-.1 0-.2.1-.1 0-.1.1-.1.1-.1.1h-.6z"></path></g><g id="games"><path d="M15 7.5V2H9v5.5l3 3 3-3zM7.5 9H2v6h5.5l3-3-3-3zM9 16.5V22h6v-5.5l-3-3-3 3zM16.5 9l-3 3 3 3H22V9h-5.5z"></path></g><g id="hd"><path d="M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-8 12H9.5v-2h-2v2H6V9h1.5v2.5h2V9H11v6zm2-6h4c.55 0 1 .45 1 1v4c0 .55-.45 1-1 1h-4V9zm1.5 4.5h2v-3h-2v3z"></path></g><g id="hearing"><path d="M17 20c-.29 0-.56-.06-.76-.15-.71-.37-1.21-.88-1.71-2.38-.51-1.56-1.47-2.29-2.39-3-.79-.61-1.61-1.24-2.32-2.53C9.29 10.98 9 9.93 9 9c0-2.8 2.2-5 5-5s5 2.2 5 5h2c0-3.93-3.07-7-7-7S7 5.07 7 9c0 1.26.38 2.65 1.07 3.9.91 1.65 1.98 2.48 2.85 3.15.81.62 1.39 1.07 1.71 2.05.6 1.82 1.37 2.84 2.73 3.55.51.23 1.07.35 1.64.35 2.21 0 4-1.79 4-4h-2c0 1.1-.9 2-2 2zM7.64 2.64L6.22 1.22C4.23 3.21 3 5.96 3 9s1.23 5.79 3.22 7.78l1.41-1.41C6.01 13.74 5 11.49 5 9s1.01-4.74 2.64-6.36zM11.5 9c0 1.38 1.12 2.5 2.5 2.5s2.5-1.12 2.5-2.5-1.12-2.5-2.5-2.5-2.5 1.12-2.5 2.5z"></path></g><g id="high-quality"><path d="M19 4H5c-1.11 0-2 .9-2 2v12c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-8 11H9.5v-2h-2v2H6V9h1.5v2.5h2V9H11v6zm7-1c0 .55-.45 1-1 1h-.75v1.5h-1.5V15H14c-.55 0-1-.45-1-1v-4c0-.55.45-1 1-1h3c.55 0 1 .45 1 1v4zm-3.5-.5h2v-3h-2v3z"></path></g><g id="library-add"><path d="M4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6zm16-4H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-1 9h-4v4h-2v-4H9V9h4V5h2v4h4v2z"></path></g><g id="library-books"><path d="M4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6zm16-4H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-1 9H9V9h10v2zm-4 4H9v-2h6v2zm4-8H9V5h10v2z"></path></g><g id="library-music"><path d="M20 2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-2 5h-3v5.5c0 1.38-1.12 2.5-2.5 2.5S10 13.88 10 12.5s1.12-2.5 2.5-2.5c.57 0 1.08.19 1.5.51V5h4v2zM4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6z"></path></g><g id="loop"><path d="M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1.01-.25 1.97-.7 2.8l1.46 1.46C19.54 15.03 20 13.57 20 12c0-4.42-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6 0-1.01.25-1.97.7-2.8L5.24 7.74C4.46 8.97 4 10.43 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4v3z"></path></g><g id="mic"><path d="M12 14c1.66 0 2.99-1.34 2.99-3L15 5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3zm5.3-3c0 3-2.54 5.1-5.3 5.1S6.7 14 6.7 11H5c0 3.41 2.72 6.23 6 6.72V21h2v-3.28c3.28-.48 6-3.3 6-6.72h-1.7z"></path></g><g id="mic-none"><path d="M12 14c1.66 0 2.99-1.34 2.99-3L15 5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3zm-1.2-9.1c0-.66.54-1.2 1.2-1.2.66 0 1.2.54 1.2 1.2l-.01 6.2c0 .66-.53 1.2-1.19 1.2-.66 0-1.2-.54-1.2-1.2V4.9zm6.5 6.1c0 3-2.54 5.1-5.3 5.1S6.7 14 6.7 11H5c0 3.41 2.72 6.23 6 6.72V21h2v-3.28c3.28-.48 6-3.3 6-6.72h-1.7z"></path></g><g id="mic-off"><path d="M19 11h-1.7c0 .74-.16 1.43-.43 2.05l1.23 1.23c.56-.98.9-2.09.9-3.28zm-4.02.17c0-.06.02-.11.02-.17V5c0-1.66-1.34-3-3-3S9 3.34 9 5v.18l5.98 5.99zM4.27 3L3 4.27l6.01 6.01V11c0 1.66 1.33 3 2.99 3 .22 0 .44-.03.65-.08l1.66 1.66c-.71.33-1.5.52-2.31.52-2.76 0-5.3-2.1-5.3-5.1H5c0 3.41 2.72 6.23 6 6.72V21h2v-3.28c.91-.13 1.77-.45 2.54-.9L19.73 21 21 19.73 4.27 3z"></path></g><g id="movie"><path d="M18 4l2 4h-3l-2-4h-2l2 4h-3l-2-4H8l2 4H7L5 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V4h-4z"></path></g><g id="music-video"><path d="M21 3H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H3V5h18v14zM8 15c0-1.66 1.34-3 3-3 .35 0 .69.07 1 .18V6h5v2h-3v7.03c-.02 1.64-1.35 2.97-3 2.97-1.66 0-3-1.34-3-3z"></path></g><g id="new-releases"><path d="M23 12l-2.44-2.78.34-3.68-3.61-.82-1.89-3.18L12 3 8.6 1.54 6.71 4.72l-3.61.81.34 3.68L1 12l2.44 2.78-.34 3.69 3.61.82 1.89 3.18L12 21l3.4 1.46 1.89-3.18 3.61-.82-.34-3.68L23 12zm-10 5h-2v-2h2v2zm0-4h-2V7h2v6z"></path></g><g id="not-interested"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8 0-1.85.63-3.55 1.69-4.9L16.9 18.31C15.55 19.37 13.85 20 12 20zm6.31-3.1L7.1 5.69C8.45 4.63 10.15 4 12 4c4.42 0 8 3.58 8 8 0 1.85-.63 3.55-1.69 4.9z"></path></g><g id="note"><path d="M22 10l-6-6H4c-1.1 0-2 .9-2 2v12.01c0 1.1.9 1.99 2 1.99l16-.01c1.1 0 2-.89 2-1.99v-8zm-7-4.5l5.5 5.5H15V5.5z"></path></g><g id="pause"><path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"></path></g><g id="pause-circle-filled"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 14H9V8h2v8zm4 0h-2V8h2v8z"></path></g><g id="pause-circle-outline"><path d="M9 16h2V8H9v8zm3-14C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm1-4h2V8h-2v8z"></path></g><g id="play-arrow"><path d="M8 5v14l11-7z"></path></g><g id="play-circle-filled"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 14.5v-9l6 4.5-6 4.5z"></path></g><g id="play-circle-outline"><path d="M10 16.5l6-4.5-6-4.5v9zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"></path></g><g id="playlist-add"><path d="M14 10H2v2h12v-2zm0-4H2v2h12V6zm4 8v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zM2 16h8v-2H2v2z"></path></g><g id="playlist-add-check"><path d="M14 10H2v2h12v-2zm0-4H2v2h12V6zM2 16h8v-2H2v2zm19.5-4.5L23 13l-6.99 7-4.51-4.5L13 14l3.01 3 5.49-5.5z"></path></g><g id="playlist-play"><path d="M19 9H2v2h17V9zm0-4H2v2h17V5zM2 15h13v-2H2v2zm15-2v6l5-3-5-3z"></path></g><g id="queue"><path d="M4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6zm16-4H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-1 9h-4v4h-2v-4H9V9h4V5h2v4h4v2z"></path></g><g id="queue-music"><path d="M15 6H3v2h12V6zm0 4H3v2h12v-2zM3 16h8v-2H3v2zM17 6v8.18c-.31-.11-.65-.18-1-.18-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3V8h3V6h-5z"></path></g><g id="queue-play-next"><path d="M21 3H3c-1.11 0-2 .89-2 2v12c0 1.1.89 2 2 2h5v2h8v-2h2v-2H3V5h18v8h2V5c0-1.11-.9-2-2-2zm-8 7V7h-2v3H8v2h3v3h2v-3h3v-2h-3zm11 8l-4.5 4.5L18 21l3-3-3-3 1.5-1.5L24 18z"></path></g><g id="radio"><path d="M3.24 6.15C2.51 6.43 2 7.17 2 8v12c0 1.1.89 2 2 2h16c1.11 0 2-.9 2-2V8c0-1.11-.89-2-2-2H8.3l8.26-3.34L15.88 1 3.24 6.15zM7 20c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm13-8h-2v-2h-2v2H4V8h16v4z"></path></g><g id="recent-actors"><path d="M21 5v14h2V5h-2zm-4 14h2V5h-2v14zM14 5H2c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h12c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1zM8 7.75c1.24 0 2.25 1.01 2.25 2.25S9.24 12.25 8 12.25 5.75 11.24 5.75 10 6.76 7.75 8 7.75zM12.5 17h-9v-.75c0-1.5 3-2.25 4.5-2.25s4.5.75 4.5 2.25V17z"></path></g><g id="remove-from-queue"><path d="M21 3H3c-1.11 0-2 .89-2 2v12c0 1.1.89 2 2 2h5v2h8v-2h5c1.1 0 1.99-.9 1.99-2L23 5c0-1.11-.9-2-2-2zm0 14H3V5h18v12zm-5-7v2H8v-2h8z"></path></g><g id="repeat"><path d="M7 7h10v3l4-4-4-4v3H5v6h2V7zm10 10H7v-3l-4 4 4 4v-3h12v-6h-2v4z"></path></g><g id="repeat-one"><path d="M7 7h10v3l4-4-4-4v3H5v6h2V7zm10 10H7v-3l-4 4 4 4v-3h12v-6h-2v4zm-4-2V9h-1l-2 1v1h1.5v4H13z"></path></g><g id="replay"><path d="M12 5V1L7 6l5 5V7c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6H4c0 4.42 3.58 8 8 8s8-3.58 8-8-3.58-8-8-8z"></path></g><g id="replay-10"><path d="M12 5V1L7 6l5 5V7c3.3 0 6 2.7 6 6s-2.7 6-6 6-6-2.7-6-6H4c0 4.4 3.6 8 8 8s8-3.6 8-8-3.6-8-8-8zm-1.1 11H10v-3.3L9 13v-.7l1.8-.6h.1V16zm4.3-1.8c0 .3 0 .6-.1.8l-.3.6s-.3.3-.5.3-.4.1-.6.1-.4 0-.6-.1-.3-.2-.5-.3-.2-.3-.3-.6-.1-.5-.1-.8v-.7c0-.3 0-.6.1-.8l.3-.6s.3-.3.5-.3.4-.1.6-.1.4 0 .6.1c.2.1.3.2.5.3s.2.3.3.6.1.5.1.8v.7zm-.9-.8v-.5s-.1-.2-.1-.3-.1-.1-.2-.2-.2-.1-.3-.1-.2 0-.3.1l-.2.2s-.1.2-.1.3v2s.1.2.1.3.1.1.2.2.2.1.3.1.2 0 .3-.1l.2-.2s.1-.2.1-.3v-1.5z"></path></g><g id="replay-30"><path d="M12 5V1L7 6l5 5V7c3.3 0 6 2.7 6 6s-2.7 6-6 6-6-2.7-6-6H4c0 4.4 3.6 8 8 8s8-3.6 8-8-3.6-8-8-8zm-2.4 8.5h.4c.2 0 .4-.1.5-.2s.2-.2.2-.4v-.2s-.1-.1-.1-.2-.1-.1-.2-.1h-.5s-.1.1-.2.1-.1.1-.1.2v.2h-1c0-.2 0-.3.1-.5s.2-.3.3-.4.3-.2.4-.2.4-.1.5-.1c.2 0 .4 0 .6.1s.3.1.5.2.2.2.3.4.1.3.1.5v.3s-.1.2-.1.3-.1.2-.2.2-.2.1-.3.2c.2.1.4.2.5.4s.2.4.2.6c0 .2 0 .4-.1.5s-.2.3-.3.4-.3.2-.5.2-.4.1-.6.1c-.2 0-.4 0-.5-.1s-.3-.1-.5-.2-.2-.2-.3-.4-.1-.4-.1-.6h.8v.2s.1.1.1.2.1.1.2.1h.5s.1-.1.2-.1.1-.1.1-.2v-.5s-.1-.1-.1-.2-.1-.1-.2-.1h-.6v-.7zm5.7.7c0 .3 0 .6-.1.8l-.3.6s-.3.3-.5.3-.4.1-.6.1-.4 0-.6-.1-.3-.2-.5-.3-.2-.3-.3-.6-.1-.5-.1-.8v-.7c0-.3 0-.6.1-.8l.3-.6s.3-.3.5-.3.4-.1.6-.1.4 0 .6.1.3.2.5.3.2.3.3.6.1.5.1.8v.7zm-.8-.8v-.5c0-.1-.1-.2-.1-.3s-.1-.1-.2-.2-.2-.1-.3-.1-.2 0-.3.1l-.2.2s-.1.2-.1.3v2s.1.2.1.3.1.1.2.2.2.1.3.1.2 0 .3-.1l.2-.2s.1-.2.1-.3v-1.5z"></path></g><g id="replay-5"><path d="M12 5V1L7 6l5 5V7c3.3 0 6 2.7 6 6s-2.7 6-6 6-6-2.7-6-6H4c0 4.4 3.6 8 8 8s8-3.6 8-8-3.6-8-8-8zm-1.3 8.9l.2-2.2h2.4v.7h-1.7l-.1.9s.1 0 .1-.1.1 0 .1-.1.1 0 .2 0h.2c.2 0 .4 0 .5.1s.3.2.4.3.2.3.3.5.1.4.1.6c0 .2 0 .4-.1.5s-.1.3-.3.5-.3.2-.4.3-.4.1-.6.1c-.2 0-.4 0-.5-.1s-.3-.1-.5-.2-.2-.2-.3-.4-.1-.3-.1-.5h.8c0 .2.1.3.2.4s.2.1.4.1c.1 0 .2 0 .3-.1l.2-.2s.1-.2.1-.3v-.6l-.1-.2-.2-.2s-.2-.1-.3-.1h-.2s-.1 0-.2.1-.1 0-.1.1-.1.1-.1.1h-.7z"></path></g><g id="shuffle"><path d="M10.59 9.17L5.41 4 4 5.41l5.17 5.17 1.42-1.41zM14.5 4l2.04 2.04L4 18.59 5.41 20 17.96 7.46 20 9.5V4h-5.5zm.33 9.41l-1.41 1.41 3.13 3.13L14.5 20H20v-5.5l-2.04 2.04-3.13-3.13z"></path></g><g id="skip-next"><path d="M6 18l8.5-6L6 6v12zM16 6v12h2V6h-2z"></path></g><g id="skip-previous"><path d="M6 6h2v12H6zm3.5 6l8.5 6V6z"></path></g><g id="slow-motion-video"><path d="M13.05 9.79L10 7.5v9l3.05-2.29L16 12zm0 0L10 7.5v9l3.05-2.29L16 12zm0 0L10 7.5v9l3.05-2.29L16 12zM11 4.07V2.05c-2.01.2-3.84 1-5.32 2.21L7.1 5.69c1.11-.86 2.44-1.44 3.9-1.62zM5.69 7.1L4.26 5.68C3.05 7.16 2.25 8.99 2.05 11h2.02c.18-1.46.76-2.79 1.62-3.9zM4.07 13H2.05c.2 2.01 1 3.84 2.21 5.32l1.43-1.43c-.86-1.1-1.44-2.43-1.62-3.89zm1.61 6.74C7.16 20.95 9 21.75 11 21.95v-2.02c-1.46-.18-2.79-.76-3.9-1.62l-1.42 1.43zM22 12c0 5.16-3.92 9.42-8.95 9.95v-2.02C16.97 19.41 20 16.05 20 12s-3.03-7.41-6.95-7.93V2.05C18.08 2.58 22 6.84 22 12z"></path></g><g id="snooze"><path d="M7.88 3.39L6.6 1.86 2 5.71l1.29 1.53 4.59-3.85zM22 5.72l-4.6-3.86-1.29 1.53 4.6 3.86L22 5.72zM12 4c-4.97 0-9 4.03-9 9s4.02 9 9 9c4.97 0 9-4.03 9-9s-4.03-9-9-9zm0 16c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7zm-3-9h3.63L9 15.2V17h6v-2h-3.63L15 10.8V9H9v2z"></path></g><g id="sort-by-alpha"><path d="M14.94 4.66h-4.72l2.36-2.36zm-4.69 14.71h4.66l-2.33 2.33zM6.1 6.27L1.6 17.73h1.84l.92-2.45h5.11l.92 2.45h1.84L7.74 6.27H6.1zm-1.13 7.37l1.94-5.18 1.94 5.18H4.97zm10.76 2.5h6.12v1.59h-8.53v-1.29l5.92-8.56h-5.88v-1.6h8.3v1.26l-5.93 8.6z"></path></g><g id="stop"><path d="M6 6h12v12H6z"></path></g><g id="subscriptions"><path d="M20 8H4V6h16v2zm-2-6H6v2h12V2zm4 10v8c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2v-8c0-1.1.9-2 2-2h16c1.1 0 2 .9 2 2zm-6 4l-6-3.27v6.53L16 16z"></path></g><g id="subtitles"><path d="M20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zM4 12h4v2H4v-2zm10 6H4v-2h10v2zm6 0h-4v-2h4v2zm0-4H10v-2h10v2z"></path></g><g id="surround-sound"><path d="M20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zM7.76 16.24l-1.41 1.41C4.78 16.1 4 14.05 4 12c0-2.05.78-4.1 2.34-5.66l1.41 1.41C6.59 8.93 6 10.46 6 12s.59 3.07 1.76 4.24zM12 16c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4zm5.66 1.66l-1.41-1.41C17.41 15.07 18 13.54 18 12s-.59-3.07-1.76-4.24l1.41-1.41C19.22 7.9 20 9.95 20 12c0 2.05-.78 4.1-2.34 5.66zM12 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"></path></g><g id="video-call"><path d="M17 10.5V7c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.55 0 1-.45 1-1v-3.5l4 4v-11l-4 4zM14 13h-3v3H9v-3H6v-2h3V8h2v3h3v2z"></path></g><g id="video-label"><path d="M21 3H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 13H3V5h18v11z"></path></g><g id="video-library"><path d="M4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6zm16-4H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-8 12.5v-9l6 4.5-6 4.5z"></path></g><g id="videocam"><path d="M17 10.5V7c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.55 0 1-.45 1-1v-3.5l4 4v-11l-4 4z"></path></g><g id="videocam-off"><path d="M21 6.5l-4 4V7c0-.55-.45-1-1-1H9.82L21 17.18V6.5zM3.27 2L2 3.27 4.73 6H4c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.21 0 .39-.08.54-.18L19.73 21 21 19.73 3.27 2z"></path></g><g id="volume-down"><path d="M18.5 12c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM5 9v6h4l5 5V4L9 9H5z"></path></g><g id="volume-mute"><path d="M7 9v6h4l5 5V4l-5 5H7z"></path></g><g id="volume-off"><path d="M16.5 12c0-1.77-1.02-3.29-2.5-4.03v2.21l2.45 2.45c.03-.2.05-.41.05-.63zm2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51C20.63 14.91 21 13.5 21 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71zM4.27 3L3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06c1.38-.31 2.63-.95 3.69-1.81L19.73 21 21 19.73l-9-9L4.27 3zM12 4L9.91 6.09 12 8.18V4z"></path></g><g id="volume-up"><path d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"></path></g><g id="web"><path d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-5 14H4v-4h11v4zm0-5H4V9h11v4zm5 5h-4V9h4v9z"></path></g><g id="web-asset"><path d="M19 4H5c-1.11 0-2 .9-2 2v12c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.89-2-2-2zm0 14H5V8h14v10z"></path></g></defs></svg></iron-iconset-svg><script>var UltronAPIMixin=function UltronAPIMixin(superclass){return function(_superclass){babelHelpers.inherits(_class,_superclass);function _class(){babelHelpers.classCallCheck(this,_class);return babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(_class).apply(this,arguments))}babelHelpers.createClass(_class,[{key:"__ultronApiUrl",value:function __ultronApiUrl(type){switch(type){case"data":return"/uploadedfiles/";case"login":return"/auth-token/";case"feeds":return"/";case"feedsSearch":return"/search/";case"plugins":return"/plugins/";case"users":return"/users/";default:return type;}}},{key:"__ultronApiResponse",value:function __ultronApiResponse(target,params,response){switch(target){case"login":return{status:!0,message:"Successful login.",token:response.token};default:return response;}}}]);return _class}(superclass)};</script><dom-module id="chips-api" assetpath="../bower_components/chips-api/"><template><iron-ajax id="ironAjax" url="[[url]]" method="[[method]]" body="[[body]]" params="[[params]]" content-type="[[contentType]]" last-response="{{response}}" last-error="{{error}}" handle-as="[[handleAs]]" auto="[[auto]]" headers="[[headers]]" timeout="[[timeout]]"></iron-ajax></template><script>var ChipsAPI=function(_UltronAPIMixin){babelHelpers.inherits(ChipsAPI,_UltronAPIMixin);function ChipsAPI(){babelHelpers.classCallCheck(this,ChipsAPI);return babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(ChipsAPI).apply(this,arguments))}babelHelpers.createClass(ChipsAPI,[{key:"ready",value:function ready(){babelHelpers.get(babelHelpers.getPrototypeOf(ChipsAPI.prototype),"ready",this).call(this);this.apiRoot="undefined"===typeof ChipsConfiguration?this.apiRoot:ChipsConfiguration.apiRoot;this.api="undefined"===typeof ChipsConfiguration?this.api:ChipsConfiguration.api}},{key:"request",value:function request(action,target,data){this.method=action;this.target=target;this._handleParameters(data.params);this._handleBody(target,data.body);this._handleAuthorization(data.auth);this._handleTimeout(data.timeout);this._handleType(target);var request=this.generateRequest();this._attachToRequest(request,"cache",data.cache);this._attachToRequest(request,"target",target);this._attachToRequest(request,"params",data.params);return request.completes.then(this.handleResponse.bind(this)).catch(this.handleError.bind(this,request))}},{key:"generateRequest",value:function generateRequest(){this._updateUrl();return this.$.ironAjax.generateRequest()}},{key:"_updateUrl",value:function _updateUrl(){if(""===this.apiRoot||""===this.api){return}this.url=this.apiRoot+this["__".concat(this.api,"ApiUrl")](this.target)}},{key:"handleResponse",value:function handleResponse(request){var response=this.formatResponse(request);this._setResponse(response);return new Promise(function(resolve){resolve(response)})}},{key:"formatResponse",value:function formatResponse(request){var response=this["__".concat(this.api,"ApiResponse")](request.target,request.params,request.response);response=this.formatJsonCollectionResponse(response);var cache=request.cache;if(cache){response.cache=cache}return response}},{key:"formatJsonCollectionResponse",value:function formatJsonCollectionResponse(itemObj){if(!itemObj)return;if(!itemObj.collection)return itemObj;var item={href:this._removeAPIRoot(itemObj.collection.href)};if(itemObj.collection.template&&itemObj.collection.template.data&&0<itemObj.collection.template.data.length){item.template=itemObj.collection.template}if(itemObj.collection.error){item.error=itemObj.collection.error}else if(itemObj.collection.items){item.data=[];for(var i=0,data;i<itemObj.collection.items.length;i++){data={};data.data={};for(var j=0;j<itemObj.collection.items[i].data.length;j++){data.data[itemObj.collection.items[i].data[j].name]=itemObj.collection.items[i].data[j].value}if(itemObj.collection.items[i].links&&0<itemObj.collection.items[i].links.length){data.links={};for(var _j=0;_j<itemObj.collection.items[i].links.length;_j++){data.links[itemObj.collection.items[i].links[_j].rel]=this._removeAPIRoot(itemObj.collection.items[i].links[_j].href)}}data.href=this._removeAPIRoot(itemObj.collection.items[i].href);item.data.push(data)}}return item}},{key:"_removeAPIRoot",value:function _removeAPIRoot(value){return value.replace(this.apiRoot,"")}},{key:"_handleParameters",value:function _handleParameters(params){if(params){this.params=params}else{this.params={}}this.params=params}},{key:"_handleBody",value:function _handleBody(target,body){if("login"===target){this.body=body}else if(body&&body.template&&body.data){for(var jsonCollectionBody={template:body.template},i=0;i<body.template.data.length;i++){if(body.data[body.template.data[i].name]){jsonCollectionBody.template.data[i].value=body.data[body.template.data[i].name]}}this.body=JSON.stringify(jsonCollectionBody)}}},{key:"_handleAuthorization",value:function _handleAuthorization(auth){if(auth.type){if("basic"===auth.type){var authorization=window.btoa(unescape(encodeURIComponent(auth.username+":"+auth.password)));this.headers.Authorization="Basic "+authorization}else if("token"===auth.type){this.headers.Authorization="Token "+auth.token}else{this.headers.Authorization=""}}}},{key:"_handleTimeout",value:function _handleTimeout(timeout){if(timeout===void 0){this.timeout=0;return}this.timeout=timeout}},{key:"_handleType",value:function _handleType(target){if("login"===target){this.headers["Content-Type"]="application/json";this.headers.Accept="application/json"}else{this.headers["Content-Type"]="application/vnd.collection+json";this.headers.Accept="application/vnd.collection+json"}}},{key:"_attachToRequest",value:function _attachToRequest(request,label,value){if(value){request[label]=value}}},{key:"_setResponse",value:function _setResponse(response){this.response=response;var responseChangedEvent=new CustomEvent("response-changed");this.dispatchEvent(responseChangedEvent);var responseEvent=new CustomEvent("response",{detail:response});this.dispatchEvent(responseEvent)}},{key:"handleError",value:function handleError(request,error){var formattedError=this.formatError(request,error);this._setError(formattedError);return new Promise(function(resolve,reject){reject(formattedError)})}},{key:"formatError",value:function formatError(request,error){var text="";switch(request.xhr.status){case 400:text="Bad request to server.";break;case 401:text="Unauthorized to contact server.";break;case 404:text="Server not found.";break;default:text="Unknown ".concat(request.xhr.status," error.");break;}var formattedError={request:request,error:error,status:request.xhr.status,statusText:request.xhr.statusText,response:request.xhr.response,notification:{text:text}};return formattedError}},{key:"_setError",value:function _setError(error){this.error=error;var errorChangedEvent=new CustomEvent("error-changed");this.dispatchEvent(errorChangedEvent);var errorEvent=new CustomEvent("error",{detail:error});this.dispatchEvent(errorEvent)}},{key:"_methodChanged",value:function _methodChanged(method){if(method===void 0){return}this.$.ironAjax.method=method}}],[{key:"is",get:function get(){return"chips-api"}},{key:"properties",get:function get(){return{method:{type:String,value:"GET"},target:{type:String,value:""},headers:{type:Object,value:{}},api:{type:String,value:""},apiRoot:{type:String,value:""},body:{type:Object,value:{}},contentType:{type:String,value:""},params:{type:Object,value:{}},url:{type:String,value:""},handleAs:{type:String,value:"json"},auto:{type:Boolean,value:!1},timeout:{type:Number,value:0},response:{type:Object,value:{}},error:{type:Object,value:{}}}}},{key:"observers",get:function get(){return["_updateUrl(apiRoot, api, target)"]}}]);return ChipsAPI}(UltronAPIMixin(Polymer.Element));window.customElements.define(ChipsAPI.is,ChipsAPI);</script></dom-module><script>(function(l,ja){"object"===("undefined"===typeof exports?"undefined":babelHelpers.typeof(exports))&&"undefined"!==typeof module?ja(exports):"function"===typeof define&&define.amd?define(["exports"],ja):ja(l.THREE={})})(this,function(l){var _Mathtan=Math.tan,_Mathatan2=Math.atan,_Mathacos=Math.acos,_Mathround=Math.round,_Mathceil=Math.ceil,_NumberisInteger=Number.isInteger,_Mathsign=Math.sign,_NumberEPSILON=Number.EPSILON,_Mathsin=Math.sin,_Mathatan=Math.atan2,_Mathpow=Math.pow,_MathPI=Math.PI,_Mathsqrt=Math.sqrt,_MathLN=Math.LN2,_Mathlog=Math.log,_Mathmax=Math.max,_Mathcos=Math.cos,_Mathmin=Math.min,_Mathabs=Math.abs,_Mathfloor=Math.floor;function ja(){}function z(a,b){this.x=a||0;this.y=b||0}function O(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];0<arguments.length&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}function ka(a,b,c,d){this._x=a||0;this._y=b||0;this._z=c||0;this._w=void 0!==d?d:1}function n(a,b,c){this.x=a||0;this.y=b||0;this.z=c||0}function da(){this.elements=[1,0,0,0,1,0,0,0,1];0<arguments.length&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}function X(a,b,c,d,e,f,g,h,k,m){Object.defineProperty(this,"id",{value:Mf++});this.uuid=R.generateUUID();this.name="";this.image=void 0!==a?a:X.DEFAULT_IMAGE;this.mipmaps=[];this.mapping=void 0!==b?b:X.DEFAULT_MAPPING;this.wrapS=void 0!==c?c:1001;this.wrapT=void 0!==d?d:1001;this.magFilter=void 0!==e?e:1006;this.minFilter=void 0!==f?f:1008;this.anisotropy=void 0!==k?k:1;this.format=void 0!==g?g:1023;this.type=void 0!==h?h:1009;this.offset=new z(0,0);this.repeat=new z(1,1);this.center=new z(0,0);this.rotation=0;this.matrixAutoUpdate=!0;this.matrix=new da;this.generateMipmaps=!0;this.premultiplyAlpha=!1;this.flipY=!0;this.unpackAlignment=4;this.encoding=void 0!==m?m:3E3;this.version=0;this.onUpdate=null}function ca(a,b,c,d){this.x=a||0;this.y=b||0;this.z=c||0;this.w=void 0!==d?d:1}function jb(a,b,c){this.width=a;this.height=b;this.scissor=new ca(0,0,a,b);this.scissorTest=!1;this.viewport=new ca(0,0,a,b);c=c||{};this.texture=new X(void 0,void 0,c.wrapS,c.wrapT,c.magFilter,c.minFilter,c.format,c.type,c.anisotropy,c.encoding);this.texture.generateMipmaps=void 0!==c.generateMipmaps?c.generateMipmaps:!1;this.texture.minFilter=void 0!==c.minFilter?c.minFilter:1006;this.depthBuffer=void 0!==c.depthBuffer?c.depthBuffer:!0;this.stencilBuffer=void 0!==c.stencilBuffer?c.stencilBuffer:!0;this.depthTexture=void 0!==c.depthTexture?c.depthTexture:null}function Ib(a,b,c){jb.call(this,a,b,c);this.activeMipMapLevel=this.activeCubeFace=0}function kb(a,b,c,d,e,f,g,h,k,m,q,p){X.call(this,null,f,g,h,k,m,d,e,q,p);this.image={data:a,width:b,height:c};this.magFilter=void 0!==k?k:1003;this.minFilter=void 0!==m?m:1003;this.flipY=this.generateMipmaps=!1;this.unpackAlignment=1}function Wa(a,b){this.min=void 0!==a?a:new n(1/0,1/0,1/0);this.max=void 0!==b?b:new n(-Infinity,-Infinity,-Infinity)}function Ea(a,b){this.center=void 0!==a?a:new n;this.radius=void 0!==b?b:0}function Pa(a,b){this.normal=void 0!==a?a:new n(1,0,0);this.constant=void 0!==b?b:0}function td(a,b,c,d,e,f){this.planes=[void 0!==a?a:new Pa,void 0!==b?b:new Pa,void 0!==c?c:new Pa,void 0!==d?d:new Pa,void 0!==e?e:new Pa,void 0!==f?f:new Pa]}function Jb(a){var b={},c;for(c in a){b[c]={};for(var d in a[c]){var e=a[c][d];e&&(e.isColor||e.isMatrix3||e.isMatrix4||e.isVector2||e.isVector3||e.isVector4||e.isTexture)?b[c][d]=e.clone():Array.isArray(e)?b[c][d]=e.slice():b[c][d]=e}}return b}function ma(a){for(var b={},c=0;c<a.length;c++){var d=Jb(a[c]),e;for(e in d){b[e]=d[e]}}return b}function I(a,b,c){return void 0===b&&void 0===c?this.set(a):this.setRGB(a,b,c)}function Wd(){function a(e,f){!1!==c&&(d(e,f),b.requestAnimationFrame(a))}var b=null,c=!1,d=null;return{start:function start(){!0!==c&&null!==d&&(b.requestAnimationFrame(a),c=!0)},stop:function stop(){c=!1},setAnimationLoop:function setAnimationLoop(a){d=a},setContext:function setContext(a){b=a}}}function Nf(a){function b(b,c){var d=b.array,e=b.dynamic?35048:35044,h=a.createBuffer();a.bindBuffer(c,h);a.bufferData(c,d,e);b.onUploadCallback();c=5126;babelHelpers.instanceof(d,Float32Array)?c=5126:babelHelpers.instanceof(d,Float64Array)?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):babelHelpers.instanceof(d,Uint16Array)?c=5123:babelHelpers.instanceof(d,Int16Array)?c=5122:babelHelpers.instanceof(d,Uint32Array)?c=5125:babelHelpers.instanceof(d,Int32Array)?c=5124:babelHelpers.instanceof(d,Int8Array)?c=5120:babelHelpers.instanceof(d,Uint8Array)&&(c=5121);return{buffer:h,type:c,bytesPerElement:d.BYTES_PER_ELEMENT,version:b.version}}var c=new WeakMap;return{get:function get(a){a.isInterleavedBufferAttribute&&(a=a.data);return c.get(a)},remove:function remove(b){b.isInterleavedBufferAttribute&&(b=b.data);var d=c.get(b);d&&(a.deleteBuffer(d.buffer),c.delete(b))},update:function update(d,e){d.isInterleavedBufferAttribute&&(d=d.data);var f=c.get(d);if(void 0===f)c.set(d,b(d,e));else if(f.version<d.version){var g=d,h=g.array,k=g.updateRange;a.bindBuffer(e,f.buffer);!1===g.dynamic?a.bufferData(e,h,35044):-1===k.count?a.bufferSubData(e,0,h):0===k.count?console.error("THREE.WebGLObjects.updateBuffer: dynamic THREE.BufferAttribute marked as needsUpdate but updateRange.count is 0, ensure you are using set methods or updating manually."):(a.bufferSubData(e,k.offset*h.BYTES_PER_ELEMENT,h.subarray(k.offset,k.offset+k.count)),k.count=-1);f.version=d.version}}}}function Kb(a,b,c,d,e,f){this.a=a;this.b=b;this.c=c;this.normal=d&&d.isVector3?d:new n;this.vertexNormals=Array.isArray(d)?d:[];this.color=e&&e.isColor?e:new I;this.vertexColors=Array.isArray(e)?e:[];this.materialIndex=void 0!==f?f:0}function lb(a,b,c,d){this._x=a||0;this._y=b||0;this._z=c||0;this._order=d||lb.DefaultOrder}function Xd(){this.mask=1}function D(){Object.defineProperty(this,"id",{value:Of++});this.uuid=R.generateUUID();this.name="";this.type="Object3D";this.parent=null;this.children=[];this.up=D.DefaultUp.clone();var a=new n,b=new lb,c=new ka,d=new n(1,1,1);b.onChange(function(){c.setFromEuler(b,!1)});c.onChange(function(){b.setFromQuaternion(c,void 0,!1)});Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:a},rotation:{configurable:!0,enumerable:!0,value:b},quaternion:{configurable:!0,enumerable:!0,value:c},scale:{configurable:!0,enumerable:!0,value:d},modelViewMatrix:{value:new O},normalMatrix:{value:new da}});this.matrix=new O;this.matrixWorld=new O;this.matrixAutoUpdate=D.DefaultMatrixAutoUpdate;this.matrixWorldNeedsUpdate=!1;this.layers=new Xd;this.visible=!0;this.receiveShadow=this.castShadow=!1;this.frustumCulled=!0;this.renderOrder=0;this.userData={}}function Q(){Object.defineProperty(this,"id",{value:Pf+=2});this.uuid=R.generateUUID();this.name="";this.type="Geometry";this.vertices=[];this.colors=[];this.faces=[];this.faceVertexUvs=[[]];this.morphTargets=[];this.morphNormals=[];this.skinWeights=[];this.skinIndices=[];this.lineDistances=[];this.boundingSphere=this.boundingBox=null;this.groupsNeedUpdate=this.lineDistancesNeedUpdate=this.colorsNeedUpdate=this.normalsNeedUpdate=this.uvsNeedUpdate=this.verticesNeedUpdate=this.elementsNeedUpdate=!1}function E(a,b,c){if(Array.isArray(a))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="";this.array=a;this.itemSize=b;this.count=void 0!==a?a.length/b:0;this.normalized=!0===c;this.dynamic=!1;this.updateRange={offset:0,count:-1};this.version=0}function tc(a,b,c){E.call(this,new Int8Array(a),b,c)}function uc(a,b,c){E.call(this,new Uint8Array(a),b,c)}function vc(a,b,c){E.call(this,new Uint8ClampedArray(a),b,c)}function wc(a,b,c){E.call(this,new Int16Array(a),b,c)}function mb(a,b,c){E.call(this,new Uint16Array(a),b,c)}function xc(a,b,c){E.call(this,new Int32Array(a),b,c)}function nb(a,b,c){E.call(this,new Uint32Array(a),b,c)}function A(a,b,c){E.call(this,new Float32Array(a),b,c)}function yc(a,b,c){E.call(this,new Float64Array(a),b,c)}function Je(){this.vertices=[];this.normals=[];this.colors=[];this.uvs=[];this.uvs2=[];this.groups=[];this.morphTargets={};this.skinWeights=[];this.skinIndices=[];this.boundingSphere=this.boundingBox=null;this.groupsNeedUpdate=this.uvsNeedUpdate=this.colorsNeedUpdate=this.normalsNeedUpdate=this.verticesNeedUpdate=!1}function Ke(a){if(0===a.length)return-Infinity;for(var b=a[0],c=1,d=a.length;c<d;++c){a[c]>b&&(b=a[c])}return b}function C(){Object.defineProperty(this,"id",{value:Qf+=2});this.uuid=R.generateUUID();this.name="";this.type="BufferGeometry";this.index=null;this.attributes={};this.morphAttributes={};this.groups=[];this.boundingSphere=this.boundingBox=null;this.drawRange={start:0,count:1/0};this.userData={}}function Lb(a,b,c,d,e,f){Q.call(this);this.type="BoxGeometry";this.parameters={width:a,height:b,depth:c,widthSegments:d,heightSegments:e,depthSegments:f};this.fromBufferGeometry(new ob(a,b,c,d,e,f));this.mergeVertices()}function ob(a,b,c,d,e,f){function g(a,b,c,d,e,f,g,l,W,B,Mb){var t=f/W,v=g/B,w=f/2,u=g/2,y=l/2;g=W+1;var G=B+1,K=f=0,N,z,A=new n;for(z=0;z<G;z++){var D=z*v-u;for(N=0;N<g;N++){A[a]=(N*t-w)*d,A[b]=D*e,A[c]=y,m.push(A.x,A.y,A.z),A[a]=0,A[b]=0,A[c]=0<l?1:-1,q.push(A.x,A.y,A.z),p.push(N/W),p.push(1-z/B),f+=1}}for(z=0;z<B;z++){for(N=0;N<W;N++){a=r+N+g*(z+1),b=r+(N+1)+g*(z+1),c=r+(N+1)+g*z,k.push(r+N+g*z,a,c),k.push(a,b,c),K+=6}}h.addGroup(x,K,Mb);x+=K;r+=f}C.call(this);this.type="BoxBufferGeometry";this.parameters={width:a,height:b,depth:c,widthSegments:d,heightSegments:e,depthSegments:f};var h=this;a=a||1;b=b||1;c=c||1;d=_Mathfloor(d)||1;e=_Mathfloor(e)||1;f=_Mathfloor(f)||1;var k=[],m=[],q=[],p=[],r=0,x=0;g("z","y","x",-1,-1,c,b,a,f,e,0);g("z","y","x",1,-1,c,b,-a,f,e,1);g("x","z","y",1,1,a,c,b,d,f,2);g("x","z","y",1,-1,a,c,-b,d,f,3);g("x","y","z",1,-1,a,b,c,d,e,4);g("x","y","z",-1,-1,a,b,-c,d,e,5);this.setIndex(k);this.addAttribute("position",new A(m,3));this.addAttribute("normal",new A(q,3));this.addAttribute("uv",new A(p,2))}function zc(a,b,c,d){Q.call(this);this.type="PlaneGeometry";this.parameters={width:a,height:b,widthSegments:c,heightSegments:d};this.fromBufferGeometry(new pb(a,b,c,d));this.mergeVertices()}function pb(a,b,c,d){C.call(this);this.type="PlaneBufferGeometry";this.parameters={width:a,height:b,widthSegments:c,heightSegments:d};a=a||1;b=b||1;var e=a/2,f=b/2;c=_Mathfloor(c)||1;d=_Mathfloor(d)||1;var g=c+1,h=d+1,k=a/c,m=b/d,q=[],p=[],r=[],x=[];for(a=0;a<h;a++){var l=a*m-f;for(b=0;b<g;b++){p.push(b*k-e,-l,0),r.push(0,0,1),x.push(b/c),x.push(1-a/d)}}for(a=0;a<d;a++){for(b=0;b<c;b++){e=b+g*(a+1),f=b+1+g*(a+1),h=b+1+g*a,q.push(b+g*a,e,h),q.push(e,f,h)}}this.setIndex(q);this.addAttribute("position",new A(p,3));this.addAttribute("normal",new A(r,3));this.addAttribute("uv",new A(x,2))}function L(){Object.defineProperty(this,"id",{value:Rf++});this.uuid=R.generateUUID();this.name="";this.type="Material";this.lights=this.fog=!0;this.blending=1;this.side=0;this.flatShading=!1;this.vertexColors=0;this.opacity=1;this.transparent=!1;this.blendSrc=204;this.blendDst=205;this.blendEquation=100;this.blendEquationAlpha=this.blendDstAlpha=this.blendSrcAlpha=null;this.depthFunc=3;this.depthWrite=this.depthTest=!0;this.clippingPlanes=null;this.clipShadows=this.clipIntersection=!1;this.shadowSide=null;this.colorWrite=!0;this.precision=null;this.polygonOffset=!1;this.polygonOffsetUnits=this.polygonOffsetFactor=0;this.dithering=!1;this.alphaTest=0;this.premultipliedAlpha=!1;this.visible=!0;this.userData={};this.needsUpdate=!0}function Ba(a){L.call(this);this.type="ShaderMaterial";this.defines={};this.uniforms={};this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}";this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}";this.linewidth=1;this.wireframe=!1;this.wireframeLinewidth=1;this.morphNormals=this.morphTargets=this.skinning=this.clipping=this.lights=this.fog=!1;this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1};this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]};this.index0AttributeName=void 0;this.uniformsNeedUpdate=!1;void 0!==a&&(void 0!==a.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(a))}function qb(a,b){this.origin=void 0!==a?a:new n;this.direction=void 0!==b?b:new n}function ha(a,b,c){this.a=void 0!==a?a:new n;this.b=void 0!==b?b:new n;this.c=void 0!==c?c:new n}function wa(a){L.call(this);this.type="MeshBasicMaterial";this.color=new I(16777215);this.lightMap=this.map=null;this.lightMapIntensity=1;this.aoMap=null;this.aoMapIntensity=1;this.envMap=this.alphaMap=this.specularMap=null;this.combine=0;this.reflectivity=1;this.refractionRatio=.98;this.wireframe=!1;this.wireframeLinewidth=1;this.wireframeLinejoin=this.wireframeLinecap="round";this.lights=this.morphTargets=this.skinning=!1;this.setValues(a)}function na(a,b){D.call(this);this.type="Mesh";this.geometry=void 0!==a?a:new C;this.material=void 0!==b?b:new wa({color:16777215*Math.random()});this.drawMode=0;this.updateMorphTargets()}function Sf(a,b,c,d){function e(a,c){b.buffers.color.setClear(a.r,a.g,a.b,c,d)}var f=new I(0),g=0,h,k,m=null,q=0;return{getClearColor:function getClearColor(){return f},setClearColor:function setClearColor(a,b){f.set(a);g=void 0!==b?b:1;e(f,g)},getClearAlpha:function getClearAlpha(){return g},setClearAlpha:function setClearAlpha(a){g=a;e(f,g)},render:function render(b,d,x,l){d=d.background;null===d?(e(f,g),m=null,q=0):d&&d.isColor&&(e(d,1),l=!0,m=null,q=0);(a.autoClear||l)&&a.clear(a.autoClearColor,a.autoClearDepth,a.autoClearStencil);if(d&&(d.isCubeTexture||d.isWebGLRenderTargetCube)){void 0===k&&(k=new na(new ob(1,1,1),new Ba({type:"BackgroundCubeMaterial",uniforms:Jb(Qa.cube.uniforms),vertexShader:Qa.cube.vertexShader,fragmentShader:Qa.cube.fragmentShader,side:1,depthTest:!0,depthWrite:!1,fog:!1})),k.geometry.removeAttribute("normal"),k.geometry.removeAttribute("uv"),k.onBeforeRender=function(a,b,c){this.matrixWorld.copyPosition(c.matrixWorld)},Object.defineProperty(k.material,"map",{get:function get(){return this.uniforms.tCube.value}}),c.update(k));l=d.isWebGLRenderTargetCube?d.texture:d;k.material.uniforms.tCube.value=l;k.material.uniforms.tFlip.value=d.isWebGLRenderTargetCube?1:-1;if(m!==d||q!==l.version)k.material.needsUpdate=!0,m=d,q=l.version;b.unshift(k,k.geometry,k.material,0,null)}else if(d&&d.isTexture){void 0===h&&(h=new na(new pb(2,2),new Ba({type:"BackgroundMaterial",uniforms:Jb(Qa.background.uniforms),vertexShader:Qa.background.vertexShader,fragmentShader:Qa.background.fragmentShader,side:0,depthTest:!1,depthWrite:!1,fog:!1})),h.geometry.removeAttribute("normal"),Object.defineProperty(h.material,"map",{get:function get(){return this.uniforms.t2D.value}}),c.update(h));h.material.uniforms.t2D.value=d;!0===d.matrixAutoUpdate&&d.updateMatrix();h.material.uniforms.uvTransform.value.copy(d.matrix);if(m!==d||q!==d.version)h.material.needsUpdate=!0,m=d,q=d.version;b.unshift(h,h.geometry,h.material,0,null)}}}}function Tf(a,b,c,d){var e;this.setMode=function(a){e=a};this.render=function(b,d){a.drawArrays(e,b,d);c.update(d,e)};this.renderInstances=function(f,g,h){if(d.isWebGL2)var k=a;else if(k=b.get("ANGLE_instanced_arrays"),null===k){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}k[d.isWebGL2?"drawArraysInstanced":"drawArraysInstancedANGLE"](e,g,h,f.maxInstancedCount);c.update(h,e,f.maxInstancedCount)}}function Uf(a,b,c){function d(b){if("highp"===b){if(0<a.getShaderPrecisionFormat(35633,36338).precision&&0<a.getShaderPrecisionFormat(35632,36338).precision)return"highp";b="mediump"}return"mediump"===b&&0<a.getShaderPrecisionFormat(35633,36337).precision&&0<a.getShaderPrecisionFormat(35632,36337).precision?"mediump":"lowp"}var e,f="undefined"!==typeof WebGL2RenderingContext&&babelHelpers.instanceof(a,WebGL2RenderingContext),g=void 0!==c.precision?c.precision:"highp",h=d(g);h!==g&&(console.warn("THREE.WebGLRenderer:",g,"not supported, using",h,"instead."),g=h);c=!0===c.logarithmicDepthBuffer;h=a.getParameter(34930);var k=a.getParameter(35660),m=a.getParameter(3379),q=a.getParameter(34076),p=a.getParameter(34921),r=a.getParameter(36347),l=a.getParameter(36348),t=a.getParameter(36349),v=0<k,w=f||!!b.get("OES_texture_float");return{isWebGL2:f,getMaxAnisotropy:function getMaxAnisotropy(){if(void 0!==e)return e;var c=b.get("EXT_texture_filter_anisotropic");return e=null!==c?a.getParameter(c.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0},getMaxPrecision:d,precision:g,logarithmicDepthBuffer:c,maxTextures:h,maxVertexTextures:k,maxTextureSize:m,maxCubemapSize:q,maxAttributes:p,maxVertexUniforms:r,maxVaryings:l,maxFragmentUniforms:t,vertexTextures:v,floatFragmentTextures:w,floatVertexTextures:v&&w}}function Vf(){function a(){m.value!==d&&(m.value=d,m.needsUpdate=0<e);c.numPlanes=e;c.numIntersection=0}function b(a,b,d,e){var f=null!==a?a.length:0,g=null;if(0!==f){g=m.value;if(!0!==e||null===g){e=d+4*f;b=b.matrixWorldInverse;k.getNormalMatrix(b);if(null===g||g.length<e)g=new Float32Array(e);for(e=0;e!==f;++e,d+=4){h.copy(a[e]).applyMatrix4(b,k),h.normal.toArray(g,d),g[d+3]=h.constant}}m.value=g;m.needsUpdate=!0}c.numPlanes=f;return g}var c=this,d=null,e=0,f=!1,g=!1,h=new Pa,k=new da,m={value:null,needsUpdate:!1};this.uniform=m;this.numIntersection=this.numPlanes=0;this.init=function(a,c,g){var h=0!==a.length||c||0!==e||f;f=c;d=b(a,g,0);e=a.length;return h};this.beginShadows=function(){g=!0;b(null)};this.endShadows=function(){g=!1;a()};this.setState=function(c,h,k,l,t,v){if(!f||null===c||0===c.length||g&&!k)g?b(null):a();else{k=g?0:e;var q=4*k,p=t.clippingState||null;m.value=p;p=b(c,l,q,v);for(c=0;c!==q;++c){p[c]=d[c]}t.clippingState=p;this.numIntersection=h?this.numPlanes:0;this.numPlanes+=k}}}function Wf(a){var b={};return{get:function get(c){if(void 0!==b[c])return b[c];switch(c){case"WEBGL_depth_texture":var d=a.getExtension("WEBGL_depth_texture")||a.getExtension("MOZ_WEBGL_depth_texture")||a.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":d=a.getExtension("EXT_texture_filter_anisotropic")||a.getExtension("MOZ_EXT_texture_filter_anisotropic")||a.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":d=a.getExtension("WEBGL_compressed_texture_s3tc")||a.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||a.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":d=a.getExtension("WEBGL_compressed_texture_pvrtc")||a.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:d=a.getExtension(c);}null===d&&console.warn("THREE.WebGLRenderer: "+c+" extension not supported.");return b[c]=d}}}function Xf(a,b,c){function d(a){var g=a.target;a=e[g.id];null!==a.index&&b.remove(a.index);for(var k in a.attributes){b.remove(a.attributes[k])}g.removeEventListener("dispose",d);delete e[g.id];if(k=f[a.id])b.remove(k),delete f[a.id];c.memory.geometries--}var e={},f={};return{get:function get(a,b){var f=e[b.id];if(f)return f;b.addEventListener("dispose",d);b.isBufferGeometry?f=b:b.isGeometry&&(void 0===b._bufferGeometry&&(b._bufferGeometry=new C().setFromObject(a)),f=b._bufferGeometry);e[b.id]=f;c.memory.geometries++;return f},update:function update(a){var c=a.index,d=a.attributes;null!==c&&b.update(c,34963);for(var e in d){b.update(d[e],34962)}a=a.morphAttributes;for(e in a){c=a[e];d=0;for(var f=c.length;d<f;d++){b.update(c[d],34962)}}},getWireframeAttribute:function getWireframeAttribute(a){var c=f[a.id];if(c)return c;c=[];var d=a.index,e=a.attributes;if(null!==d){d=d.array;e=0;for(var g=d.length;e<g;e+=3){var p=d[e+0],r=d[e+1],l=d[e+2];c.push(p,r,r,l,l,p)}}else for(d=e.position.array,e=0,g=d.length/3-1;e<g;e+=3){p=e+0,r=e+1,l=e+2,c.push(p,r,r,l,l,p)}c=new(65535<Ke(c)?nb:mb)(c,1);b.update(c,34963);return f[a.id]=c}}}function Yf(a,b,c,d){var e,f,g;this.setMode=function(a){e=a};this.setIndex=function(a){f=a.type;g=a.bytesPerElement};this.render=function(b,d){a.drawElements(e,d,f,b*g);c.update(d,e)};this.renderInstances=function(h,k,m){if(d.isWebGL2)var q=a;else if(q=b.get("ANGLE_instanced_arrays"),null===q){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}q[d.isWebGL2?"drawElementsInstanced":"drawElementsInstancedANGLE"](e,m,f,k*g,h.maxInstancedCount);c.update(m,e,h.maxInstancedCount)}}function Zf(a){var b={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:b,programs:null,autoReset:!0,reset:function reset(){b.frame++;b.calls=0;b.triangles=0;b.points=0;b.lines=0},update:function update(a,d,e){e=e||1;b.calls++;switch(d){case 4:b.triangles+=a/3*e;break;case 5:case 6:b.triangles+=e*(a-2);break;case 1:b.lines+=a/2*e;break;case 3:b.lines+=e*(a-1);break;case 2:b.lines+=e*a;break;case 0:b.points+=e*a;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",d);}}}}function $f(a,b){return _Mathabs(b[1])-_Mathabs(a[1])}function ag(a){var b={},c=new Float32Array(8);return{update:function update(d,e,f,g){var h=d.morphTargetInfluences,k=h.length;d=b[e.id];if(void 0===d){d=[];for(var m=0;m<k;m++){d[m]=[m,0]}b[e.id]=d}var q=f.morphTargets&&e.morphAttributes.position;f=f.morphNormals&&e.morphAttributes.normal;for(m=0;m<k;m++){var p=d[m];0!==p[1]&&(q&&e.removeAttribute("morphTarget"+m),f&&e.removeAttribute("morphNormal"+m))}for(m=0;m<k;m++){p=d[m],p[0]=m,p[1]=h[m]}d.sort($f);for(m=0;8>m;m++){if(p=d[m])if(h=p[0],k=p[1]){q&&e.addAttribute("morphTarget"+m,q[h]);f&&e.addAttribute("morphNormal"+m,f[h]);c[m]=k;continue}c[m]=0}g.getUniforms().setValue(a,"morphTargetInfluences",c)}}}function bg(a,b){var c={};return{update:function update(d){var e=b.render.frame,f=d.geometry,g=a.get(d,f);c[g.id]!==e&&(f.isGeometry&&g.updateFromObject(d),a.update(g),c[g.id]=e);return g},dispose:function dispose(){c={}}}}function Xa(a,b,c,d,e,f,g,h,k,m){a=void 0!==a?a:[];X.call(this,a,void 0!==b?b:301,c,d,e,f,g,h,k,m);this.flipY=!1}function Nb(a,b,c,d){X.call(this,null);this.image={data:a,width:b,height:c,depth:d};this.minFilter=this.magFilter=1003;this.flipY=this.generateMipmaps=!1}function Ob(a,b,c){var d=a[0];if(0>=d||0<d)return a;var e=b*c,f=Le[e];void 0===f&&(f=new Float32Array(e),Le[e]=f);if(0!==b)for(d.toArray(f,0),d=1,e=0;d!==b;++d){e+=c,a[d].toArray(f,e)}return f}function ea(a,b){if(a.length!==b.length)return!1;for(var c=0,d=a.length;c<d;c++){if(a[c]!==b[c])return!1}return!0}function sa(a,b){for(var c=0,d=b.length;c<d;c++){a[c]=b[c]}}function Me(a,b){var c=Ne[b];void 0===c&&(c=new Int32Array(b),Ne[b]=c);for(var d=0;d!==b;++d){c[d]=a.allocTextureUnit()}return c}function cg(a,b){var c=this.cache;c[0]!==b&&(a.uniform1f(this.addr,b),c[0]=b)}function dg(a,b){var c=this.cache;c[0]!==b&&(a.uniform1i(this.addr,b),c[0]=b)}function eg(a,b){var c=this.cache;if(void 0!==b.x){if(c[0]!==b.x||c[1]!==b.y)a.uniform2f(this.addr,b.x,b.y),c[0]=b.x,c[1]=b.y}else ea(c,b)||(a.uniform2fv(this.addr,b),sa(c,b))}function fg(a,b){var c=this.cache;if(void 0!==b.x){if(c[0]!==b.x||c[1]!==b.y||c[2]!==b.z)a.uniform3f(this.addr,b.x,b.y,b.z),c[0]=b.x,c[1]=b.y,c[2]=b.z}else if(void 0!==b.r){if(c[0]!==b.r||c[1]!==b.g||c[2]!==b.b)a.uniform3f(this.addr,b.r,b.g,b.b),c[0]=b.r,c[1]=b.g,c[2]=b.b}else ea(c,b)||(a.uniform3fv(this.addr,b),sa(c,b))}function gg(a,b){var c=this.cache;if(void 0!==b.x){if(c[0]!==b.x||c[1]!==b.y||c[2]!==b.z||c[3]!==b.w)a.uniform4f(this.addr,b.x,b.y,b.z,b.w),c[0]=b.x,c[1]=b.y,c[2]=b.z,c[3]=b.w}else ea(c,b)||(a.uniform4fv(this.addr,b),sa(c,b))}function hg(a,b){var c=this.cache,d=b.elements;void 0===d?ea(c,b)||(a.uniformMatrix2fv(this.addr,!1,b),sa(c,b)):ea(c,d)||(Oe.set(d),a.uniformMatrix2fv(this.addr,!1,Oe),sa(c,d))}function ig(a,b){var c=this.cache,d=b.elements;void 0===d?ea(c,b)||(a.uniformMatrix3fv(this.addr,!1,b),sa(c,b)):ea(c,d)||(Pe.set(d),a.uniformMatrix3fv(this.addr,!1,Pe),sa(c,d))}function jg(a,b){var c=this.cache,d=b.elements;void 0===d?ea(c,b)||(a.uniformMatrix4fv(this.addr,!1,b),sa(c,b)):ea(c,d)||(Qe.set(d),a.uniformMatrix4fv(this.addr,!1,Qe),sa(c,d))}function kg(a,b,c){var d=this.cache,e=c.allocTextureUnit();d[0]!==e&&(a.uniform1i(this.addr,e),d[0]=e);c.setTexture2D(b||Re,e)}function lg(a,b,c){var d=this.cache,e=c.allocTextureUnit();d[0]!==e&&(a.uniform1i(this.addr,e),d[0]=e);c.setTexture3D(b||mg,e)}function ng(a,b,c){var d=this.cache,e=c.allocTextureUnit();d[0]!==e&&(a.uniform1i(this.addr,e),d[0]=e);c.setTextureCube(b||Se,e)}function Te(a,b){var c=this.cache;ea(c,b)||(a.uniform2iv(this.addr,b),sa(c,b))}function Ue(a,b){var c=this.cache;ea(c,b)||(a.uniform3iv(this.addr,b),sa(c,b))}function Ve(a,b){var c=this.cache;ea(c,b)||(a.uniform4iv(this.addr,b),sa(c,b))}function og(a){switch(a){case 5126:return cg;case 35664:return eg;case 35665:return fg;case 35666:return gg;case 35674:return hg;case 35675:return ig;case 35676:return jg;case 35678:case 36198:return kg;case 35679:return lg;case 35680:return ng;case 5124:case 35670:return dg;case 35667:case 35671:return Te;case 35668:case 35672:return Ue;case 35669:case 35673:return Ve;}}function pg(a,b){var c=this.cache;ea(c,b)||(a.uniform1fv(this.addr,b),sa(c,b))}function qg(a,b){var c=this.cache;ea(c,b)||(a.uniform1iv(this.addr,b),sa(c,b))}function rg(a,b){var c=this.cache;b=Ob(b,this.size,2);ea(c,b)||(a.uniform2fv(this.addr,b),this.updateCache(b))}function sg(a,b){var c=this.cache;b=Ob(b,this.size,3);ea(c,b)||(a.uniform3fv(this.addr,b),this.updateCache(b))}function tg(a,b){var c=this.cache;b=Ob(b,this.size,4);ea(c,b)||(a.uniform4fv(this.addr,b),this.updateCache(b))}function ug(a,b){var c=this.cache;b=Ob(b,this.size,4);ea(c,b)||(a.uniformMatrix2fv(this.addr,!1,b),this.updateCache(b))}function vg(a,b){var c=this.cache;b=Ob(b,this.size,9);ea(c,b)||(a.uniformMatrix3fv(this.addr,!1,b),this.updateCache(b))}function wg(a,b){var c=this.cache;b=Ob(b,this.size,16);ea(c,b)||(a.uniformMatrix4fv(this.addr,!1,b),this.updateCache(b))}function xg(a,b,c){var d=this.cache,e=b.length,f=Me(c,e);!1===ea(d,f)&&(a.uniform1iv(this.addr,f),sa(d,f));for(a=0;a!==e;++a){c.setTexture2D(b[a]||Re,f[a])}}function yg(a,b,c){var d=this.cache,e=b.length,f=Me(c,e);!1===ea(d,f)&&(a.uniform1iv(this.addr,f),sa(d,f));for(a=0;a!==e;++a){c.setTextureCube(b[a]||Se,f[a])}}function zg(a){switch(a){case 5126:return pg;case 35664:return rg;case 35665:return sg;case 35666:return tg;case 35674:return ug;case 35675:return vg;case 35676:return wg;case 35678:return xg;case 35680:return yg;case 5124:case 35670:return qg;case 35667:case 35671:return Te;case 35668:case 35672:return Ue;case 35669:case 35673:return Ve;}}function Ag(a,b,c){this.id=a;this.addr=c;this.cache=[];this.setValue=og(b.type)}function We(a,b,c){this.id=a;this.addr=c;this.cache=[];this.size=b.size;this.setValue=zg(b.type)}function Xe(a){this.id=a;this.seq=[];this.map={}}function cb(a,b,c){this.seq=[];this.map={};this.renderer=c;c=a.getProgramParameter(b,35718);for(var d=0;d<c;++d){var e=a.getActiveUniform(b,d),f=a.getUniformLocation(b,e.name),g=this,h=e.name,k=h.length;for(Zd.lastIndex=0;;){var m=Zd.exec(h),q=Zd.lastIndex,p=m[1],r=m[3];"]"===m[2]&&(p|=0);if(void 0===r||"["===r&&q+2===k){h=g;e=void 0===r?new Ag(p,e,f):new We(p,e,f);h.seq.push(e);h.map[e.id]=e;break}else r=g.map[p],void 0===r&&(r=new Xe(p),p=g,g=r,p.seq.push(g),p.map[g.id]=g),g=r}}}function Bg(a){a=a.split("\n");for(var b=0;b<a.length;b++){a[b]=b+1+": "+a[b]}return a.join("\n")}function Ye(a,b,c){var d=a.createShader(b);a.shaderSource(d,c);a.compileShader(d);!1===a.getShaderParameter(d,35713)&&console.error("THREE.WebGLShader: Shader couldn't compile.");""!==a.getShaderInfoLog(d)&&console.warn("THREE.WebGLShader: gl.getShaderInfoLog()",35633===b?"vertex":"fragment",a.getShaderInfoLog(d),Bg(c));return d}function Ze(a){switch(a){case 3E3:return["Linear","( value )"];case 3001:return["sRGB","( value )"];case 3002:return["RGBE","( value )"];case 3004:return["RGBM","( value, 7.0 )"];case 3005:return["RGBM","( value, 16.0 )"];case 3006:return["RGBD","( value, 256.0 )"];case 3007:return["Gamma","( value, float( GAMMA_FACTOR ) )"];default:throw Error("unsupported encoding: "+a);}}function vd(a,b){b=Ze(b);return"vec4 "+a+"( vec4 value ) { return "+b[0]+"ToLinear"+b[1]+"; }"}function Cg(a,b){b=Ze(b);return"vec4 "+a+"( vec4 value ) { return LinearTo"+b[0]+b[1]+"; }"}function Dg(a,b){switch(b){case 1:b="Linear";break;case 2:b="Reinhard";break;case 3:b="Uncharted2";break;case 4:b="OptimizedCineon";break;case 5:b="ACESFilmic";break;default:throw Error("unsupported toneMapping: "+b);}return"vec3 "+a+"( vec3 color ) { return "+b+"ToneMapping( color ); }"}function Eg(a,b,c){a=a||{};return[a.derivatives||b.envMapCubeUV||b.bumpMap||b.normalMap&&!b.objectSpaceNormalMap||b.flatShading?"#extension GL_OES_standard_derivatives : enable":"",(a.fragDepth||b.logarithmicDepthBuffer)&&c.get("EXT_frag_depth")?"#extension GL_EXT_frag_depth : enable":"",a.drawBuffers&&c.get("WEBGL_draw_buffers")?"#extension GL_EXT_draw_buffers : require":"",(a.shaderTextureLOD||b.envMap)&&c.get("EXT_shader_texture_lod")?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Ac).join("\n")}function Fg(a){var b=[],c;for(c in a){var d=a[c];!1!==d&&b.push("#define "+c+" "+d)}return b.join("\n")}function Ac(a){return""!==a}function $e(a,b){return a.replace(/NUM_DIR_LIGHTS/g,b.numDirLights).replace(/NUM_SPOT_LIGHTS/g,b.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,b.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,b.numPointLights).replace(/NUM_HEMI_LIGHTS/g,b.numHemiLights)}function af(a,b){return a.replace(/NUM_CLIPPING_PLANES/g,b.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,b.numClippingPlanes-b.numClipIntersection)}function $d(a){return a.replace(/^[ \t]*#include +<([\w\d./]+)>/gm,function(a,c){a=H[c];if(void 0===a)throw Error("Can not resolve #include <"+c+">");return $d(a)})}function bf(a){return a.replace(/#pragma unroll_loop[\s]+?for \( int i = (\d+); i < (\d+); i \+\+ \) \{([\s\S]+?)(?=\})\}/g,function(a,c,d,e){a="";for(c=parseInt(c);c<parseInt(d);c++){a+=e.replace(/\[ i \]/g,"[ "+c+" ]")}return a})}function Gg(a,b,c,d,e,f,g){var h=a.context,k=d.defines,m=e.vertexShader,q=e.fragmentShader,p="SHADOWMAP_TYPE_BASIC";1===f.shadowMapType?p="SHADOWMAP_TYPE_PCF":2===f.shadowMapType&&(p="SHADOWMAP_TYPE_PCF_SOFT");var r="ENVMAP_TYPE_CUBE",l="ENVMAP_MODE_REFLECTION",t="ENVMAP_BLENDING_MULTIPLY";if(f.envMap){switch(d.envMap.mapping){case 301:case 302:r="ENVMAP_TYPE_CUBE";break;case 306:case 307:r="ENVMAP_TYPE_CUBE_UV";break;case 303:case 304:r="ENVMAP_TYPE_EQUIREC";break;case 305:r="ENVMAP_TYPE_SPHERE";}switch(d.envMap.mapping){case 302:case 304:l="ENVMAP_MODE_REFRACTION";}switch(d.combine){case 0:t="ENVMAP_BLENDING_MULTIPLY";break;case 1:t="ENVMAP_BLENDING_MIX";break;case 2:t="ENVMAP_BLENDING_ADD";}}var v=0<a.gammaFactor?a.gammaFactor:1,w=g.isWebGL2?"":Eg(d.extensions,f,b),n=Fg(k),u=h.createProgram();d.isRawShaderMaterial?(k=[n].filter(Ac).join("\n"),0<k.length&&(k+="\n"),b=[w,n].filter(Ac).join("\n"),0<b.length&&(b+="\n")):(k=["precision "+f.precision+" float;","precision "+f.precision+" int;","#define SHADER_NAME "+e.name,n,f.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+v,"#define MAX_BONES "+f.maxBones,f.useFog&&f.fog?"#define USE_FOG":"",f.useFog&&f.fogExp?"#define FOG_EXP2":"",f.map?"#define USE_MAP":"",f.envMap?"#define USE_ENVMAP":"",f.envMap?"#define "+l:"",f.lightMap?"#define USE_LIGHTMAP":"",f.aoMap?"#define USE_AOMAP":"",f.emissiveMap?"#define USE_EMISSIVEMAP":"",f.bumpMap?"#define USE_BUMPMAP":"",f.normalMap?"#define USE_NORMALMAP":"",f.normalMap&&f.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",f.displacementMap&&f.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",f.specularMap?"#define USE_SPECULARMAP":"",f.roughnessMap?"#define USE_ROUGHNESSMAP":"",f.metalnessMap?"#define USE_METALNESSMAP":"",f.alphaMap?"#define USE_ALPHAMAP":"",f.vertexColors?"#define USE_COLOR":"",f.flatShading?"#define FLAT_SHADED":"",f.skinning?"#define USE_SKINNING":"",f.useVertexTexture?"#define BONE_TEXTURE":"",f.morphTargets?"#define USE_MORPHTARGETS":"",f.morphNormals&&!1===f.flatShading?"#define USE_MORPHNORMALS":"",f.doubleSided?"#define DOUBLE_SIDED":"",f.flipSided?"#define FLIP_SIDED":"",f.shadowMapEnabled?"#define USE_SHADOWMAP":"",f.shadowMapEnabled?"#define "+p:"",f.sizeAttenuation?"#define USE_SIZEATTENUATION":"",f.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",f.logarithmicDepthBuffer&&(g.isWebGL2||b.get("EXT_frag_depth"))?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(Ac).join("\n"),b=[w,"precision "+f.precision+" float;","precision "+f.precision+" int;","#define SHADER_NAME "+e.name,n,f.alphaTest?"#define ALPHATEST "+f.alphaTest+(f.alphaTest%1?"":".0"):"","#define GAMMA_FACTOR "+v,f.useFog&&f.fog?"#define USE_FOG":"",f.useFog&&f.fogExp?"#define FOG_EXP2":"",f.map?"#define USE_MAP":"",f.matcap?"#define USE_MATCAP":"",f.envMap?"#define USE_ENVMAP":"",f.envMap?"#define "+r:"",f.envMap?"#define "+l:"",f.envMap?"#define "+t:"",f.lightMap?"#define USE_LIGHTMAP":"",f.aoMap?"#define USE_AOMAP":"",f.emissiveMap?"#define USE_EMISSIVEMAP":"",f.bumpMap?"#define USE_BUMPMAP":"",f.normalMap?"#define USE_NORMALMAP":"",f.normalMap&&f.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",f.specularMap?"#define USE_SPECULARMAP":"",f.roughnessMap?"#define USE_ROUGHNESSMAP":"",f.metalnessMap?"#define USE_METALNESSMAP":"",f.alphaMap?"#define USE_ALPHAMAP":"",f.vertexColors?"#define USE_COLOR":"",f.gradientMap?"#define USE_GRADIENTMAP":"",f.flatShading?"#define FLAT_SHADED":"",f.doubleSided?"#define DOUBLE_SIDED":"",f.flipSided?"#define FLIP_SIDED":"",f.shadowMapEnabled?"#define USE_SHADOWMAP":"",f.shadowMapEnabled?"#define "+p:"",f.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",f.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",f.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",f.logarithmicDepthBuffer&&(g.isWebGL2||b.get("EXT_frag_depth"))?"#define USE_LOGDEPTHBUF_EXT":"",f.envMap&&(g.isWebGL2||b.get("EXT_shader_texture_lod"))?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;",0!==f.toneMapping?"#define TONE_MAPPING":"",0!==f.toneMapping?H.tonemapping_pars_fragment:"",0!==f.toneMapping?Dg("toneMapping",f.toneMapping):"",f.dithering?"#define DITHERING":"",f.outputEncoding||f.mapEncoding||f.matcapEncoding||f.envMapEncoding||f.emissiveMapEncoding?H.encodings_pars_fragment:"",f.mapEncoding?vd("mapTexelToLinear",f.mapEncoding):"",f.matcapEncoding?vd("matcapTexelToLinear",f.matcapEncoding):"",f.envMapEncoding?vd("envMapTexelToLinear",f.envMapEncoding):"",f.emissiveMapEncoding?vd("emissiveMapTexelToLinear",f.emissiveMapEncoding):"",f.outputEncoding?Cg("linearToOutputTexel",f.outputEncoding):"",f.depthPacking?"#define DEPTH_PACKING "+d.depthPacking:"","\n"].filter(Ac).join("\n"));m=$d(m);m=$e(m,f);m=af(m,f);q=$d(q);q=$e(q,f);q=af(q,f);m=bf(m);q=bf(q);g.isWebGL2&&!d.isRawShaderMaterial&&(g=!1,p=/^\s*#version\s+300\s+es\s*\n/,d.isShaderMaterial&&null!==m.match(p)&&null!==q.match(p)&&(g=!0,m=m.replace(p,""),q=q.replace(p,"")),k="#version 300 es\n\n#define attribute in\n#define varying out\n#define texture2D texture\n"+k,b=["#version 300 es\n\n#define varying in",g?"":"out highp vec4 pc_fragColor;",g?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth\n#define texture2D texture\n#define textureCube texture\n#define texture2DProj textureProj\n#define texture2DLodEXT textureLod\n#define texture2DProjLodEXT textureProjLod\n#define textureCubeLodEXT textureLod\n#define texture2DGradEXT textureGrad\n#define texture2DProjGradEXT textureProjGrad\n#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+b);q=b+q;m=Ye(h,35633,k+m);q=Ye(h,35632,q);h.attachShader(u,m);h.attachShader(u,q);void 0!==d.index0AttributeName?h.bindAttribLocation(u,0,d.index0AttributeName):!0===f.morphTargets&&h.bindAttribLocation(u,0,"position");h.linkProgram(u);f=h.getProgramInfoLog(u).trim();g=h.getShaderInfoLog(m).trim();p=h.getShaderInfoLog(q).trim();l=r=!0;if(!1===h.getProgramParameter(u,35714))r=!1,console.error("THREE.WebGLProgram: shader error: ",h.getError(),"35715",h.getProgramParameter(u,35715),"gl.getProgramInfoLog",f,g,p);else if(""!==f)console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",f);else if(""===g||""===p)l=!1;l&&(this.diagnostics={runnable:r,material:d,programLog:f,vertexShader:{log:g,prefix:k},fragmentShader:{log:p,prefix:b}});h.deleteShader(m);h.deleteShader(q);var K;this.getUniforms=function(){void 0===K&&(K=new cb(h,u,a));return K};var G;this.getAttributes=function(){if(void 0===G){for(var a={},b=h.getProgramParameter(u,35721),c=0,d;c<b;c++){d=h.getActiveAttrib(u,c).name;a[d]=h.getAttribLocation(u,d)}G=a}return G};this.destroy=function(){h.deleteProgram(u);this.program=void 0};Object.defineProperties(this,{uniforms:{get:function get(){console.warn("THREE.WebGLProgram: .uniforms is now .getUniforms().");return this.getUniforms()}},attributes:{get:function get(){console.warn("THREE.WebGLProgram: .attributes is now .getAttributes().");return this.getAttributes()}}});this.name=e.name;this.id=Hg++;this.code=c;this.usedTimes=1;this.program=u;this.vertexShader=m;this.fragmentShader=q;return this}function Ig(a,b,c){function d(a,b){if(a)a.isTexture?c=a.encoding:a.isWebGLRenderTarget&&(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),c=a.texture.encoding);else var c=3E3;3E3===c&&b&&(c=3007);return c}var e=[],f={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"phong",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},g="precision supportsVertexTextures map mapEncoding matcap matcapEncoding envMap envMapMode envMapEncoding lightMap aoMap emissiveMap emissiveMapEncoding bumpMap normalMap objectSpaceNormalMap displacementMap specularMap roughnessMap metalnessMap gradientMap alphaMap combine vertexColors fog useFog fogExp flatShading sizeAttenuation logarithmicDepthBuffer skinning maxBones useVertexTexture morphTargets morphNormals maxMorphTargets maxMorphNormals premultipliedAlpha numDirLights numPointLights numSpotLights numHemiLights numRectAreaLights shadowMapEnabled shadowMapType toneMapping physicallyCorrectLights alphaTest doubleSided flipSided numClippingPlanes numClipIntersection depthPacking dithering".split(" ");this.getParameters=function(b,e,g,q,p,r,l){var h=f[b.type];if(l.isSkinnedMesh){var k=l.skeleton.bones;if(c.floatVertexTextures)k=1024;else{var m=_Mathmin(_Mathfloor((c.maxVertexUniforms-20)/4),k.length);m<k.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+k.length+" bones. This GPU supports "+m+"."),k=0):k=m}}else k=0;m=c.precision;null!==b.precision&&(m=c.getMaxPrecision(b.precision),m!==b.precision&&console.warn("THREE.WebGLProgram.getParameters:",b.precision,"not supported, using",m,"instead."));var x=a.getRenderTarget();return{shaderID:h,precision:m,supportsVertexTextures:c.vertexTextures,outputEncoding:d(x?x.texture:null,a.gammaOutput),map:!!b.map,mapEncoding:d(b.map,a.gammaInput),matcap:!!b.matcap,matcapEncoding:d(b.matcap,a.gammaInput),envMap:!!b.envMap,envMapMode:b.envMap&&b.envMap.mapping,envMapEncoding:d(b.envMap,a.gammaInput),envMapCubeUV:!!b.envMap&&(306===b.envMap.mapping||307===b.envMap.mapping),lightMap:!!b.lightMap,aoMap:!!b.aoMap,emissiveMap:!!b.emissiveMap,emissiveMapEncoding:d(b.emissiveMap,a.gammaInput),bumpMap:!!b.bumpMap,normalMap:!!b.normalMap,objectSpaceNormalMap:1===b.normalMapType,displacementMap:!!b.displacementMap,roughnessMap:!!b.roughnessMap,metalnessMap:!!b.metalnessMap,specularMap:!!b.specularMap,alphaMap:!!b.alphaMap,gradientMap:!!b.gradientMap,combine:b.combine,vertexColors:b.vertexColors,fog:!!q,useFog:b.fog,fogExp:q&&q.isFogExp2,flatShading:b.flatShading,sizeAttenuation:b.sizeAttenuation,logarithmicDepthBuffer:c.logarithmicDepthBuffer,skinning:b.skinning&&0<k,maxBones:k,useVertexTexture:c.floatVertexTextures,morphTargets:b.morphTargets,morphNormals:b.morphNormals,maxMorphTargets:a.maxMorphTargets,maxMorphNormals:a.maxMorphNormals,numDirLights:e.directional.length,numPointLights:e.point.length,numSpotLights:e.spot.length,numRectAreaLights:e.rectArea.length,numHemiLights:e.hemi.length,numClippingPlanes:p,numClipIntersection:r,dithering:b.dithering,shadowMapEnabled:a.shadowMap.enabled&&l.receiveShadow&&0<g.length,shadowMapType:a.shadowMap.type,toneMapping:a.toneMapping,physicallyCorrectLights:a.physicallyCorrectLights,premultipliedAlpha:b.premultipliedAlpha,alphaTest:b.alphaTest,doubleSided:2===b.side,flipSided:1===b.side,depthPacking:void 0!==b.depthPacking?b.depthPacking:!1}};this.getProgramCode=function(b,c){var d=[];c.shaderID?d.push(c.shaderID):(d.push(b.fragmentShader),d.push(b.vertexShader));if(void 0!==b.defines)for(var e in b.defines){d.push(e),d.push(b.defines[e])}for(e=0;e<g.length;e++){d.push(c[g[e]])}d.push(b.onBeforeCompile.toString());d.push(a.gammaOutput);d.push(a.gammaFactor);return d.join()};this.acquireProgram=function(d,f,g,q){for(var h,k=0,m=e.length,l;k<m;k++){l=e[k];if(l.code===q){h=l;++h.usedTimes;break}}void 0===h&&(h=new Gg(a,b,q,d,f,g,c),e.push(h));return h};this.releaseProgram=function(a){if(0===--a.usedTimes){var b=e.indexOf(a);e[b]=e[e.length-1];e.pop();a.destroy()}};this.programs=e}function Jg(){var a=new WeakMap;return{get:function get(b){var c=a.get(b);void 0===c&&(c={},a.set(b,c));return c},remove:function remove(b){a.delete(b)},update:function update(b,c,d){a.get(b)[c]=d},dispose:function dispose(){a=new WeakMap}}}function Kg(a,b){return a.renderOrder!==b.renderOrder?a.renderOrder-b.renderOrder:a.program&&b.program&&a.program!==b.program?a.program.id-b.program.id:a.material.id!==b.material.id?a.material.id-b.material.id:a.z!==b.z?a.z-b.z:a.id-b.id}function Lg(a,b){return a.renderOrder!==b.renderOrder?a.renderOrder-b.renderOrder:a.z!==b.z?b.z-a.z:a.id-b.id}function cf(){function a(a,d,e,k,m){var f=b[c];void 0===f?(f={id:a.id,object:a,geometry:d,material:e,program:e.program,renderOrder:a.renderOrder,z:k,group:m},b[c]=f):(f.id=a.id,f.object=a,f.geometry=d,f.material=e,f.program=e.program,f.renderOrder=a.renderOrder,f.z=k,f.group=m);c++;return f}var b=[],c=0,d=[],e=[];return{opaque:d,transparent:e,init:function init(){c=0;d.length=0;e.length=0},push:function push(b,c,h,k,m){b=a(b,c,h,k,m);(!0===h.transparent?e:d).push(b)},unshift:function unshift(b,c,h,k,m){b=a(b,c,h,k,m);(!0===h.transparent?e:d).unshift(b)},sort:function sort(){1<d.length&&d.sort(Kg);1<e.length&&e.sort(Lg)}}}function Mg(){var a={};return{get:function get(b,c){var d=a[b.id];if(void 0===d){var e=new cf;a[b.id]={};a[b.id][c.id]=e}else e=d[c.id],void 0===e&&(e=new cf,d[c.id]=e);return e},dispose:function dispose(){a={}}}}function Ng(){var a={};return{get:function get(b){if(void 0!==a[b.id])return a[b.id];switch(b.type){case"DirectionalLight":var c={direction:new n,color:new I,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new z};break;case"SpotLight":c={position:new n,direction:new n,color:new I,distance:0,coneCos:0,penumbraCos:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new z};break;case"PointLight":c={position:new n,color:new I,distance:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new z,shadowCameraNear:1,shadowCameraFar:1E3};break;case"HemisphereLight":c={direction:new n,skyColor:new I,groundColor:new I};break;case"RectAreaLight":c={color:new I,position:new n,halfWidth:new n,halfHeight:new n};}return a[b.id]=c}}}function Og(){var a=new Ng,b={id:Pg++,hash:{stateID:-1,directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,shadowsLength:-1},ambient:[0,0,0],directional:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],point:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]},c=new n,d=new O,e=new O;return{setup:function setup(f,g,h){var k=0,m=0,q=0,p=0,r=0,l=0,t=0,v=0;h=h.matrixWorldInverse;for(var w=0,n=f.length;w<n;w++){var u=f[w],K=u.color,G=u.intensity,N=u.distance,W=u.shadow&&u.shadow.map?u.shadow.map.texture:null;if(u.isAmbientLight)k+=K.r*G,m+=K.g*G,q+=K.b*G;else if(u.isDirectionalLight){var B=a.get(u);B.color.copy(u.color).multiplyScalar(u.intensity);B.direction.setFromMatrixPosition(u.matrixWorld);c.setFromMatrixPosition(u.target.matrixWorld);B.direction.sub(c);B.direction.transformDirection(h);if(B.shadow=u.castShadow)K=u.shadow,B.shadowBias=K.bias,B.shadowRadius=K.radius,B.shadowMapSize=K.mapSize;b.directionalShadowMap[p]=W;b.directionalShadowMatrix[p]=u.shadow.matrix;b.directional[p]=B;p++}else if(u.isSpotLight){B=a.get(u);B.position.setFromMatrixPosition(u.matrixWorld);B.position.applyMatrix4(h);B.color.copy(K).multiplyScalar(G);B.distance=N;B.direction.setFromMatrixPosition(u.matrixWorld);c.setFromMatrixPosition(u.target.matrixWorld);B.direction.sub(c);B.direction.transformDirection(h);B.coneCos=_Mathcos(u.angle);B.penumbraCos=_Mathcos(u.angle*(1-u.penumbra));B.decay=u.decay;if(B.shadow=u.castShadow)K=u.shadow,B.shadowBias=K.bias,B.shadowRadius=K.radius,B.shadowMapSize=K.mapSize;b.spotShadowMap[l]=W;b.spotShadowMatrix[l]=u.shadow.matrix;b.spot[l]=B;l++}else if(u.isRectAreaLight)B=a.get(u),B.color.copy(K).multiplyScalar(G),B.position.setFromMatrixPosition(u.matrixWorld),B.position.applyMatrix4(h),e.identity(),d.copy(u.matrixWorld),d.premultiply(h),e.extractRotation(d),B.halfWidth.set(.5*u.width,0,0),B.halfHeight.set(0,.5*u.height,0),B.halfWidth.applyMatrix4(e),B.halfHeight.applyMatrix4(e),b.rectArea[t]=B,t++;else if(u.isPointLight){B=a.get(u);B.position.setFromMatrixPosition(u.matrixWorld);B.position.applyMatrix4(h);B.color.copy(u.color).multiplyScalar(u.intensity);B.distance=u.distance;B.decay=u.decay;if(B.shadow=u.castShadow)K=u.shadow,B.shadowBias=K.bias,B.shadowRadius=K.radius,B.shadowMapSize=K.mapSize,B.shadowCameraNear=K.camera.near,B.shadowCameraFar=K.camera.far;b.pointShadowMap[r]=W;b.pointShadowMatrix[r]=u.shadow.matrix;b.point[r]=B;r++}else u.isHemisphereLight&&(B=a.get(u),B.direction.setFromMatrixPosition(u.matrixWorld),B.direction.transformDirection(h),B.direction.normalize(),B.skyColor.copy(u.color).multiplyScalar(G),B.groundColor.copy(u.groundColor).multiplyScalar(G),b.hemi[v]=B,v++)}b.ambient[0]=k;b.ambient[1]=m;b.ambient[2]=q;b.directional.length=p;b.spot.length=l;b.rectArea.length=t;b.point.length=r;b.hemi.length=v;b.hash.stateID=b.id;b.hash.directionalLength=p;b.hash.pointLength=r;b.hash.spotLength=l;b.hash.rectAreaLength=t;b.hash.hemiLength=v;b.hash.shadowsLength=g.length},state:b}}function df(){var a=new Og,b=[],c=[];return{init:function init(){b.length=0;c.length=0},state:{lightsArray:b,shadowsArray:c,lights:a},setupLights:function setupLights(d){a.setup(b,c,d)},pushLight:function pushLight(a){b.push(a)},pushShadow:function pushShadow(a){c.push(a)}}}function Qg(){var a={};return{get:function get(b,c){if(void 0===a[b.id]){var d=new df;a[b.id]={};a[b.id][c.id]=d}else void 0===a[b.id][c.id]?(d=new df,a[b.id][c.id]=d):d=a[b.id][c.id];return d},dispose:function dispose(){a={}}}}function db(a){L.call(this);this.type="MeshDepthMaterial";this.depthPacking=3200;this.morphTargets=this.skinning=!1;this.displacementMap=this.alphaMap=this.map=null;this.displacementScale=1;this.displacementBias=0;this.wireframe=!1;this.wireframeLinewidth=1;this.lights=this.fog=!1;this.setValues(a)}function eb(a){L.call(this);this.type="MeshDistanceMaterial";this.referencePosition=new n;this.nearDistance=1;this.farDistance=1E3;this.morphTargets=this.skinning=!1;this.displacementMap=this.alphaMap=this.map=null;this.displacementScale=1;this.displacementBias=0;this.lights=this.fog=!1;this.setValues(a)}function ef(a,b,c){function d(b,c,d,e,f,g){var h=b.geometry,k=p,m=b.customDepthMaterial;d&&(k=r,m=b.customDistanceMaterial);m?k=m:(m=!1,c.morphTargets&&(h&&h.isBufferGeometry?m=h.morphAttributes&&h.morphAttributes.position&&0<h.morphAttributes.position.length:h&&h.isGeometry&&(m=h.morphTargets&&0<h.morphTargets.length)),b.isSkinnedMesh&&!1===c.skinning&&console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:",b),b=b.isSkinnedMesh&&c.skinning,h=0,m&&(h|=1),b&&(h|=2),k=k[h]);a.localClippingEnabled&&!0===c.clipShadows&&0!==c.clippingPlanes.length&&(h=k.uuid,m=c.uuid,b=l[h],void 0===b&&(b={},l[h]=b),h=b[m],void 0===h&&(h=k.clone(),b[m]=h),k=h);k.visible=c.visible;k.wireframe=c.wireframe;k.side=null!=c.shadowSide?c.shadowSide:t[c.side];k.clipShadows=c.clipShadows;k.clippingPlanes=c.clippingPlanes;k.clipIntersection=c.clipIntersection;k.wireframeLinewidth=c.wireframeLinewidth;k.linewidth=c.linewidth;d&&k.isMeshDistanceMaterial&&(k.referencePosition.copy(e),k.nearDistance=f,k.farDistance=g);return k}function e(c,g,h,k){if(!1!==c.visible){if(c.layers.test(g.layers)&&(c.isMesh||c.isLine||c.isPoints)&&c.castShadow&&(!c.frustumCulled||f.intersectsObject(c))){c.modelViewMatrix.multiplyMatrices(h.matrixWorldInverse,c.matrixWorld);var m=b.update(c),p=c.material;if(Array.isArray(p))for(var r=m.groups,l=0,t=r.length;l<t;l++){var x=r[l],W=p[x.materialIndex];W&&W.visible&&(W=d(c,W,k,q,h.near,h.far),a.renderBufferDirect(h,null,m,W,c,x))}else p.visible&&(W=d(c,p,k,q,h.near,h.far),a.renderBufferDirect(h,null,m,W,c,null))}c=c.children;m=0;for(p=c.length;m<p;m++){e(c[m],g,h,k)}}}var f=new td,g=new O,h=new z,k=new z(c,c),m=new n,q=new n,p=[,,,,],r=[,,,,],l={},t={0:1,1:0,2:2},v=[new n(1,0,0),new n(-1,0,0),new n(0,0,1),new n(0,0,-1),new n(0,1,0),new n(0,-1,0)],w=[new n(0,1,0),new n(0,1,0),new n(0,1,0),new n(0,1,0),new n(0,0,1),new n(0,0,-1)],y=[new ca,new ca,new ca,new ca,new ca,new ca];for(c=0;4!==c;++c){var u=0!==(1&c),K=0!==(2&c),G=new db({depthPacking:3201,morphTargets:u,skinning:K});p[c]=G;u=new eb({morphTargets:u,skinning:K});r[c]=u}var N=this;this.enabled=!1;this.autoUpdate=!0;this.needsUpdate=!1;this.type=1;this.render=function(b,c,d){if(!1!==N.enabled&&(!1!==N.autoUpdate||!1!==N.needsUpdate)&&0!==b.length){var p=a.state;p.disable(3042);p.buffers.color.setClear(1,1,1,1);p.buffers.depth.setTest(!0);p.setScissorTest(!1);for(var r,l=0,t=b.length,x;l<t;l++){x=b[l];r=x.shadow;var W=x&&x.isPointLight;if(void 0===r)console.warn("THREE.WebGLShadowMap:",x,"has no shadow.");else{var B=r.camera;h.copy(r.mapSize);h.min(k);if(W){var n=h.x,u=h.y;y[0].set(2*n,u,n,u);y[1].set(0,u,n,u);y[2].set(3*n,u,n,u);y[3].set(n,u,n,u);y[4].set(3*n,0,n,u);y[5].set(n,0,n,u);h.x*=4;h.y*=2}null===r.map&&(r.map=new jb(h.x,h.y,{minFilter:1003,magFilter:1003,format:1023}),r.map.texture.name=x.name+".shadowMap",B.updateProjectionMatrix());r.isSpotLightShadow&&r.update(x);n=r.map;u=r.matrix;q.setFromMatrixPosition(x.matrixWorld);B.position.copy(q);W?(r=6,u.makeTranslation(-q.x,-q.y,-q.z)):(r=1,m.setFromMatrixPosition(x.target.matrixWorld),B.lookAt(m),B.updateMatrixWorld(),u.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),u.multiply(B.projectionMatrix),u.multiply(B.matrixWorldInverse));a.setRenderTarget(n);a.clear();for(x=0;x<r;x++){W&&(m.copy(B.position),m.add(v[x]),B.up.copy(w[x]),B.lookAt(m),B.updateMatrixWorld(),p.viewport(y[x])),g.multiplyMatrices(B.projectionMatrix,B.matrixWorldInverse),f.setFromMatrix(g),e(c,d,B,W)}}}N.needsUpdate=!1}}}function Rg(a,b,c,d){function e(b,c,d){var e=new Uint8Array(4),f=a.createTexture();a.bindTexture(b,f);a.texParameteri(b,10241,9728);a.texParameteri(b,10240,9728);for(b=0;b<d;b++){a.texImage2D(c+b,0,6408,1,1,0,6408,5121,e)}return f}function f(c,e){y[c]=1;0===u[c]&&(a.enableVertexAttribArray(c),u[c]=1);K[c]!==e&&((d.isWebGL2?a:b.get("ANGLE_instanced_arrays"))[d.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](c,e),K[c]=e)}function g(b){!0!==G[b]&&(a.enable(b),G[b]=!0)}function h(b){!1!==G[b]&&(a.disable(b),G[b]=!1)}function k(b,d,e,f,k,m,p,q){if(0===b)B&&(h(3042),B=!1);else if(B||(g(3042),B=!0),5!==b){if(b!==Mb||q!==F){if(100!==z||100!==A)a.blendEquation(32774),A=z=100;if(q)switch(b){case 1:a.blendFuncSeparate(1,771,1,771);break;case 2:a.blendFunc(1,1);break;case 3:a.blendFuncSeparate(0,0,769,771);break;case 4:a.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",b);}else switch(b){case 1:a.blendFuncSeparate(770,771,1,771);break;case 2:a.blendFunc(770,1);break;case 3:a.blendFunc(0,769);break;case 4:a.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",b);}C=D=Y=Yd=null;Mb=b;F=q}}else{k=k||d;m=m||e;p=p||f;if(d!==z||k!==A)a.blendEquationSeparate(c.convert(d),c.convert(k)),z=d,A=k;if(e!==Yd||f!==Y||m!==D||p!==C)a.blendFuncSeparate(c.convert(e),c.convert(f),c.convert(m),c.convert(p)),Yd=e,Y=f,D=m,C=p;Mb=b;F=null}}function m(b){I!==b&&(b?a.frontFace(2304):a.frontFace(2305),I=b)}function q(b){0!==b?(g(2884),b!==J&&(1===b?a.cullFace(1029):2===b?a.cullFace(1028):a.cullFace(1032))):h(2884);J=b}function p(b,c,d){if(b){if(g(32823),Q!==c||L!==d)a.polygonOffset(c,d),Q=c,L=d}else h(32823)}function r(b){void 0===b&&(b=33984+R-1);H!==b&&(a.activeTexture(b),H=b)}var l=new function(){var b=!1,c=new ca,d=null,e=new ca(0,0,0,0);return{setMask:function setMask(c){d===c||b||(a.colorMask(c,c,c,c),d=c)},setLocked:function setLocked(a){b=a},setClear:function setClear(b,d,f,g,h){!0===h&&(b*=g,d*=g,f*=g);c.set(b,d,f,g);!1===e.equals(c)&&(a.clearColor(b,d,f,g),e.copy(c))},reset:function reset(){b=!1;d=null;e.set(-1,0,0,0)}}},t=new function(){var b=!1,c=null,d=null,e=null;return{setTest:function setTest(a){a?g(2929):h(2929)},setMask:function setMask(d){c===d||b||(a.depthMask(d),c=d)},setFunc:function setFunc(b){if(d!==b){if(b)switch(b){case 0:a.depthFunc(512);break;case 1:a.depthFunc(519);break;case 2:a.depthFunc(513);break;case 3:a.depthFunc(515);break;case 4:a.depthFunc(514);break;case 5:a.depthFunc(518);break;case 6:a.depthFunc(516);break;case 7:a.depthFunc(517);break;default:a.depthFunc(515);}else a.depthFunc(515);d=b}},setLocked:function setLocked(a){b=a},setClear:function setClear(b){e!==b&&(a.clearDepth(b),e=b)},reset:function reset(){b=!1;e=d=c=null}}},v=new function(){var b=!1,c=null,d=null,e=null,f=null,k=null,m=null,p=null,q=null;return{setTest:function setTest(a){a?g(2960):h(2960)},setMask:function setMask(d){c===d||b||(a.stencilMask(d),c=d)},setFunc:function setFunc(b,c,g){if(d!==b||e!==c||f!==g)a.stencilFunc(b,c,g),d=b,e=c,f=g},setOp:function setOp(b,c,d){if(k!==b||m!==c||p!==d)a.stencilOp(b,c,d),k=b,m=c,p=d},setLocked:function setLocked(a){b=a},setClear:function setClear(b){q!==b&&(a.clearStencil(b),q=b)},reset:function reset(){b=!1;q=p=m=k=f=e=d=c=null}}},n=a.getParameter(34921),y=new Uint8Array(n),u=new Uint8Array(n),K=new Uint8Array(n),G={},N=null,W=null,B=null,Mb=null,z=null,Yd=null,Y=null,A=null,D=null,C=null,F=!1,I=null,J=null,O=null,Q=null,L=null,R=a.getParameter(35661),E=!1;n=0;n=a.getParameter(7938);-1!==n.indexOf("WebGL")?(n=parseFloat(/^WebGL ([0-9])/.exec(n)[1]),E=1<=n):-1!==n.indexOf("OpenGL ES")&&(n=parseFloat(/^OpenGL ES ([0-9])/.exec(n)[1]),E=2<=n);var H=null,T={},X=new ca,M=new ca,U={};U[3553]=e(3553,3553,1);U[34067]=e(34067,34069,6);l.setClear(0,0,0,1);t.setClear(1);v.setClear(0);g(2929);t.setFunc(3);m(!1);q(1);g(2884);k(0);return{buffers:{color:l,depth:t,stencil:v},initAttributes:function initAttributes(){for(var a=0,b=y.length;a<b;a++){y[a]=0}},enableAttribute:function enableAttribute(a){f(a,0)},enableAttributeAndDivisor:f,disableUnusedAttributes:function disableUnusedAttributes(){for(var b=0,c=u.length;b!==c;++b){u[b]!==y[b]&&(a.disableVertexAttribArray(b),u[b]=0)}},enable:g,disable:h,getCompressedTextureFormats:function getCompressedTextureFormats(){if(null===N&&(N=[],b.get("WEBGL_compressed_texture_pvrtc")||b.get("WEBGL_compressed_texture_s3tc")||b.get("WEBGL_compressed_texture_etc1")||b.get("WEBGL_compressed_texture_astc")))for(var c=a.getParameter(34467),d=0;d<c.length;d++){N.push(c[d])}return N},useProgram:function useProgram(b){return W!==b?(a.useProgram(b),W=b,!0):!1},setBlending:k,setMaterial:function setMaterial(a,b){2===a.side?h(2884):g(2884);var c=1===a.side;b&&(c=!c);m(c);1===a.blending&&!1===a.transparent?k(0):k(a.blending,a.blendEquation,a.blendSrc,a.blendDst,a.blendEquationAlpha,a.blendSrcAlpha,a.blendDstAlpha,a.premultipliedAlpha);t.setFunc(a.depthFunc);t.setTest(a.depthTest);t.setMask(a.depthWrite);l.setMask(a.colorWrite);p(a.polygonOffset,a.polygonOffsetFactor,a.polygonOffsetUnits)},setFlipSided:m,setCullFace:q,setLineWidth:function setLineWidth(b){b!==O&&(E&&a.lineWidth(b),O=b)},setPolygonOffset:p,setScissorTest:function setScissorTest(a){a?g(3089):h(3089)},activeTexture:r,bindTexture:function bindTexture(b,c){null===H&&r();var d=T[H];void 0===d&&(d={type:void 0,texture:void 0},T[H]=d);if(d.type!==b||d.texture!==c)a.bindTexture(b,c||U[b]),d.type=b,d.texture=c},compressedTexImage2D:function compressedTexImage2D(){try{a.compressedTexImage2D.apply(a,arguments)}catch(fa){console.error("THREE.WebGLState:",fa)}},texImage2D:function texImage2D(){try{a.texImage2D.apply(a,arguments)}catch(fa){console.error("THREE.WebGLState:",fa)}},texImage3D:function texImage3D(){try{a.texImage3D.apply(a,arguments)}catch(fa){console.error("THREE.WebGLState:",fa)}},scissor:function scissor(b){!1===X.equals(b)&&(a.scissor(b.x,b.y,b.z,b.w),X.copy(b))},viewport:function viewport(b){!1===M.equals(b)&&(a.viewport(b.x,b.y,b.z,b.w),M.copy(b))},reset:function reset(){for(var b=0;b<u.length;b++){1===u[b]&&(a.disableVertexAttribArray(b),u[b]=0)}G={};H=N=null;T={};J=I=Mb=W=null;l.reset();t.reset();v.reset()}}}function Sg(a,b,c,d,e,f,g){function h(a,b){if(a.width>b||a.height>b){if("data"in a){console.warn("THREE.WebGLRenderer: image in DataTexture is too big ("+a.width+"x"+a.height+").");return}b/=_Mathmax(a.width,a.height);var c=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");c.width=_Mathfloor(a.width*b);c.height=_Mathfloor(a.height*b);c.getContext("2d").drawImage(a,0,0,a.width,a.height,0,0,c.width,c.height);console.warn("THREE.WebGLRenderer: image is too big ("+a.width+"x"+a.height+"). Resized to "+c.width+"x"+c.height);return c}return a}function k(a){return R.isPowerOfTwo(a.width)&&R.isPowerOfTwo(a.height)}function m(a,b){return a.generateMipmaps&&b&&1003!==a.minFilter&&1006!==a.minFilter}function q(b,c,e,f){a.generateMipmap(b);d.get(c).__maxMipLevel=_Mathlog(_Mathmax(e,f))*Math.LOG2E}function p(a,b){if(!e.isWebGL2)return a;if(6403===a){if(5126===b)return 33326;if(5131===b)return 33325;if(5121===b)return 33321}if(6407===a){if(5126===b)return 34837;if(5131===b)return 34843;if(5121===b)return 32849}if(6408===a){if(5126===b)return 34836;if(5131===b)return 34842;if(5121===b)return 32856}return a}function r(a){return 1003===a||1004===a||1005===a?9728:9729}function l(b){b=b.target;b.removeEventListener("dispose",l);a:{var c=d.get(b);if(b.image&&c.__image__webglTextureCube)a.deleteTexture(c.__image__webglTextureCube);else{if(void 0===c.__webglInit)break a;a.deleteTexture(c.__webglTexture)}d.remove(b)}b.isVideoTexture&&delete G[b.id];g.memory.textures--}function t(b){b=b.target;b.removeEventListener("dispose",t);var c=d.get(b),e=d.get(b.texture);if(b){void 0!==e.__webglTexture&&a.deleteTexture(e.__webglTexture);b.depthTexture&&b.depthTexture.dispose();if(b.isWebGLRenderTargetCube)for(e=0;6>e;e++){a.deleteFramebuffer(c.__webglFramebuffer[e]),c.__webglDepthbuffer&&a.deleteRenderbuffer(c.__webglDepthbuffer[e])}else a.deleteFramebuffer(c.__webglFramebuffer),c.__webglDepthbuffer&&a.deleteRenderbuffer(c.__webglDepthbuffer);d.remove(b.texture);d.remove(b)}g.memory.textures--}function v(a,b){var e=d.get(a);if(a.isVideoTexture){var f=a.id,h=g.render.frame;G[f]!==h&&(G[f]=h,a.update())}if(0<a.version&&e.__version!==a.version)if(f=a.image,void 0===f)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else if(!1===f.complete)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{y(e,a,b);return}c.activeTexture(33984+b);c.bindTexture(3553,e.__webglTexture)}function n(c,g,h){h?(a.texParameteri(c,10242,f.convert(g.wrapS)),a.texParameteri(c,10243,f.convert(g.wrapT)),a.texParameteri(c,10240,f.convert(g.magFilter)),a.texParameteri(c,10241,f.convert(g.minFilter))):(a.texParameteri(c,10242,33071),a.texParameteri(c,10243,33071),1001===g.wrapS&&1001===g.wrapT||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),a.texParameteri(c,10240,r(g.magFilter)),a.texParameteri(c,10241,r(g.minFilter)),1003!==g.minFilter&&1006!==g.minFilter&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter."));(h=b.get("EXT_texture_filter_anisotropic"))&&(1015!==g.type||null!==b.get("OES_texture_float_linear"))&&(1016!==g.type||null!==(e.isWebGL2||b.get("OES_texture_half_float_linear")))&&(1<g.anisotropy||d.get(g).__currentAnisotropy)&&(a.texParameterf(c,h.TEXTURE_MAX_ANISOTROPY_EXT,_Mathmin(g.anisotropy,e.getMaxAnisotropy())),d.get(g).__currentAnisotropy=g.anisotropy)}function y(b,d,r){var x=d.isDataTexture3D?32879:3553;void 0===b.__webglInit&&(b.__webglInit=!0,d.addEventListener("dispose",l),b.__webglTexture=a.createTexture(),g.memory.textures++);c.activeTexture(33984+r);c.bindTexture(x,b.__webglTexture);a.pixelStorei(37440,d.flipY);a.pixelStorei(37441,d.premultiplyAlpha);a.pixelStorei(3317,d.unpackAlignment);r=h(d.image,e.maxTextureSize);var t=e.isWebGL2?!1:1001!==d.wrapS||1001!==d.wrapT||1003!==d.minFilter&&1006!==d.minFilter;t&&!1===k(r)&&(babelHelpers.instanceof(r,HTMLImageElement)||babelHelpers.instanceof(r,HTMLCanvasElement)||babelHelpers.instanceof(r,ImageBitmap))&&(void 0===N&&(N=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),N.width=R.floorPowerOfTwo(r.width),N.height=R.floorPowerOfTwo(r.height),N.getContext("2d").drawImage(r,0,0,N.width,N.height),console.warn("THREE.WebGLRenderer: image is not power of two ("+r.width+"x"+r.height+"). Resized to "+N.width+"x"+N.height),r=N);t=k(r);var v=f.convert(d.format),w=f.convert(d.type),u=p(v,w);n(x,d,t);var W=d.mipmaps;if(d.isDepthTexture){u=6402;if(1015===d.type){if(!e.isWebGL2)throw Error("Float Depth Texture only supported in WebGL2.0");u=36012}else e.isWebGL2&&(u=33189);1026===d.format&&6402===u&&1012!==d.type&&1014!==d.type&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),d.type=1012,w=f.convert(d.type));1027===d.format&&(u=34041,1020!==d.type&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),d.type=1020,w=f.convert(d.type)));c.texImage2D(3553,0,u,r.width,r.height,0,v,w,null)}else if(d.isDataTexture){if(0<W.length&&t){for(var B=0,G=W.length;B<G;B++){x=W[B],c.texImage2D(3553,B,u,x.width,x.height,0,v,w,x.data)}d.generateMipmaps=!1;b.__maxMipLevel=W.length-1}else c.texImage2D(3553,0,u,r.width,r.height,0,v,w,r.data),b.__maxMipLevel=0;}else if(d.isCompressedTexture){B=0;for(G=W.length;B<G;B++){x=W[B],1023!==d.format&&1022!==d.format?-1<c.getCompressedTextureFormats().indexOf(v)?c.compressedTexImage2D(3553,B,u,x.width,x.height,0,x.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):c.texImage2D(3553,B,u,x.width,x.height,0,v,w,x.data)}b.__maxMipLevel=W.length-1}else if(d.isDataTexture3D)c.texImage3D(32879,0,u,r.width,r.height,r.depth,0,v,w,r.data),b.__maxMipLevel=0;else if(0<W.length&&t){B=0;for(G=W.length;B<G;B++){x=W[B],c.texImage2D(3553,B,u,v,w,x)}d.generateMipmaps=!1;b.__maxMipLevel=W.length-1}else c.texImage2D(3553,0,u,v,w,r),b.__maxMipLevel=0;m(d,t)&&q(3553,d,r.width,r.height);b.__version=d.version;if(d.onUpdate)d.onUpdate(d)}function u(b,e,g,h){var k=f.convert(e.texture.format),m=f.convert(e.texture.type),q=p(k,m);c.texImage2D(h,0,q,e.width,e.height,0,k,m,null);a.bindFramebuffer(36160,b);a.framebufferTexture2D(36160,g,h,d.get(e.texture).__webglTexture,0);a.bindFramebuffer(36160,null)}function K(b,c){a.bindRenderbuffer(36161,b);c.depthBuffer&&!c.stencilBuffer?(a.renderbufferStorage(36161,33189,c.width,c.height),a.framebufferRenderbuffer(36160,36096,36161,b)):c.depthBuffer&&c.stencilBuffer?(a.renderbufferStorage(36161,34041,c.width,c.height),a.framebufferRenderbuffer(36160,33306,36161,b)):a.renderbufferStorage(36161,32854,c.width,c.height);a.bindRenderbuffer(36161,null)}var G={},N;this.setTexture2D=v;this.setTexture3D=function(a,b){var e=d.get(a);0<a.version&&e.__version!==a.version?y(e,a,b):(c.activeTexture(33984+b),c.bindTexture(32879,e.__webglTexture))};this.setTextureCube=function(b,r){var x=d.get(b);if(6===b.image.length)if(0<b.version&&x.__version!==b.version){x.__image__webglTextureCube||(b.addEventListener("dispose",l),x.__image__webglTextureCube=a.createTexture(),g.memory.textures++);c.activeTexture(33984+r);c.bindTexture(34067,x.__image__webglTextureCube);a.pixelStorei(37440,b.flipY);r=b&&b.isCompressedTexture;for(var t=b.image[0]&&b.image[0].isDataTexture,v=[],u=0;6>u;u++){v[u]=r||t?t?b.image[u].image:b.image[u]:h(b.image[u],e.maxCubemapSize)}var w=v[0],W=k(w),B=f.convert(b.format),G=f.convert(b.type),K=p(B,G);n(34067,b,W);for(u=0;6>u;u++){if(r)for(var y,N=v[u].mipmaps,z=0,A=N.length;z<A;z++){y=N[z],1023!==b.format&&1022!==b.format?-1<c.getCompressedTextureFormats().indexOf(B)?c.compressedTexImage2D(34069+u,z,K,y.width,y.height,0,y.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):c.texImage2D(34069+u,z,K,y.width,y.height,0,B,G,y.data)}else t?c.texImage2D(34069+u,0,K,v[u].width,v[u].height,0,B,G,v[u].data):c.texImage2D(34069+u,0,K,B,G,v[u])}x.__maxMipLevel=r?N.length-1:0;m(b,W)&&q(34067,b,w.width,w.height);x.__version=b.version;if(b.onUpdate)b.onUpdate(b)}else c.activeTexture(33984+r),c.bindTexture(34067,x.__image__webglTextureCube)};this.setTextureCubeDynamic=function(a,b){c.activeTexture(33984+b);c.bindTexture(34067,d.get(a).__webglTexture)};this.setupRenderTarget=function(b){var e=d.get(b),f=d.get(b.texture);b.addEventListener("dispose",t);f.__webglTexture=a.createTexture();g.memory.textures++;var h=!0===b.isWebGLRenderTargetCube,p=k(b);if(h){e.__webglFramebuffer=[];for(var r=0;6>r;r++){e.__webglFramebuffer[r]=a.createFramebuffer()}}else e.__webglFramebuffer=a.createFramebuffer();if(h){c.bindTexture(34067,f.__webglTexture);n(34067,b.texture,p);for(r=0;6>r;r++){u(e.__webglFramebuffer[r],b,36064,34069+r)}m(b.texture,p)&&q(34067,b.texture,b.width,b.height);c.bindTexture(34067,null)}else c.bindTexture(3553,f.__webglTexture),n(3553,b.texture,p),u(e.__webglFramebuffer,b,36064,3553),m(b.texture,p)&&q(3553,b.texture,b.width,b.height),c.bindTexture(3553,null);if(b.depthBuffer){e=d.get(b);f=!0===b.isWebGLRenderTargetCube;if(b.depthTexture){if(f)throw Error("target.depthTexture not supported in Cube render targets");if(b&&b.isWebGLRenderTargetCube)throw Error("Depth Texture with cube render targets is not supported");a.bindFramebuffer(36160,e.__webglFramebuffer);if(!b.depthTexture||!b.depthTexture.isDepthTexture)throw Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");d.get(b.depthTexture).__webglTexture&&b.depthTexture.image.width===b.width&&b.depthTexture.image.height===b.height||(b.depthTexture.image.width=b.width,b.depthTexture.image.height=b.height,b.depthTexture.needsUpdate=!0);v(b.depthTexture,0);e=d.get(b.depthTexture).__webglTexture;if(1026===b.depthTexture.format)a.framebufferTexture2D(36160,36096,3553,e,0);else if(1027===b.depthTexture.format)a.framebufferTexture2D(36160,33306,3553,e,0);else throw Error("Unknown depthTexture format")}else if(f)for(e.__webglDepthbuffer=[],f=0;6>f;f++){a.bindFramebuffer(36160,e.__webglFramebuffer[f]),e.__webglDepthbuffer[f]=a.createRenderbuffer(),K(e.__webglDepthbuffer[f],b)}else a.bindFramebuffer(36160,e.__webglFramebuffer),e.__webglDepthbuffer=a.createRenderbuffer(),K(e.__webglDepthbuffer,b);a.bindFramebuffer(36160,null)}};this.updateRenderTargetMipmap=function(a){var b=a.texture,e=k(a);if(m(b,e)){e=a.isWebGLRenderTargetCube?34067:3553;var f=d.get(b).__webglTexture;c.bindTexture(e,f);q(e,b,a.width,a.height);c.bindTexture(e,null)}}}function ff(a,b,c){return{convert:function convert(a){if(1E3===a)return 10497;if(1001===a)return 33071;if(1002===a)return 33648;if(1003===a)return 9728;if(1004===a)return 9984;if(1005===a)return 9986;if(1006===a)return 9729;if(1007===a)return 9985;if(1008===a)return 9987;if(1009===a)return 5121;if(1017===a)return 32819;if(1018===a)return 32820;if(1019===a)return 33635;if(1010===a)return 5120;if(1011===a)return 5122;if(1012===a)return 5123;if(1013===a)return 5124;if(1014===a)return 5125;if(1015===a)return 5126;if(1016===a){if(c.isWebGL2)return 5131;var d=b.get("OES_texture_half_float");if(null!==d)return d.HALF_FLOAT_OES}if(1021===a)return 6406;if(1022===a)return 6407;if(1023===a)return 6408;if(1024===a)return 6409;if(1025===a)return 6410;if(1026===a)return 6402;if(1027===a)return 34041;if(1028===a)return 6403;if(100===a)return 32774;if(101===a)return 32778;if(102===a)return 32779;if(200===a)return 0;if(201===a)return 1;if(202===a)return 768;if(203===a)return 769;if(204===a)return 770;if(205===a)return 771;if(206===a)return 772;if(207===a)return 773;if(208===a)return 774;if(209===a)return 775;if(210===a)return 776;if(33776===a||33777===a||33778===a||33779===a)if(d=b.get("WEBGL_compressed_texture_s3tc"),null!==d){if(33776===a)return d.COMPRESSED_RGB_S3TC_DXT1_EXT;if(33777===a)return d.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(33778===a)return d.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(33779===a)return d.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(35840===a||35841===a||35842===a||35843===a)if(d=b.get("WEBGL_compressed_texture_pvrtc"),null!==d){if(35840===a)return d.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(35841===a)return d.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(35842===a)return d.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(35843===a)return d.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(36196===a&&(d=b.get("WEBGL_compressed_texture_etc1"),null!==d))return d.COMPRESSED_RGB_ETC1_WEBGL;if(37808===a||37809===a||37810===a||37811===a||37812===a||37813===a||37814===a||37815===a||37816===a||37817===a||37818===a||37819===a||37820===a||37821===a)if(d=b.get("WEBGL_compressed_texture_astc"),null!==d)return a;if(103===a||104===a){if(c.isWebGL2){if(103===a)return 32775;if(104===a)return 32776}d=b.get("EXT_blend_minmax");if(null!==d){if(103===a)return d.MIN_EXT;if(104===a)return d.MAX_EXT}}if(1020===a){if(c.isWebGL2)return 34042;d=b.get("WEBGL_depth_texture");if(null!==d)return d.UNSIGNED_INT_24_8_WEBGL}return 0}}}function Pb(){D.call(this);this.type="Group"}function Ra(){D.call(this);this.type="Camera";this.matrixWorldInverse=new O;this.projectionMatrix=new O;this.projectionMatrixInverse=new O}function V(a,b,c,d){Ra.call(this);this.type="PerspectiveCamera";this.fov=void 0!==a?a:50;this.zoom=1;this.near=void 0!==c?c:.1;this.far=void 0!==d?d:2E3;this.focus=10;this.aspect=void 0!==b?b:1;this.view=null;this.filmGauge=35;this.filmOffset=0;this.updateProjectionMatrix()}function Dc(a){V.call(this);this.cameras=a||[]}function gf(a,b,c){hf.setFromMatrixPosition(b.matrixWorld);jf.setFromMatrixPosition(c.matrixWorld);var d=hf.distanceTo(jf),e=b.projectionMatrix.elements,f=c.projectionMatrix.elements,g=e[14]/(e[10]-1);c=e[14]/(e[10]+1);var h=(e[9]+1)/e[5],k=(e[9]-1)/e[5],m=(e[8]-1)/e[0],q=(f[8]+1)/f[0];e=g*m;f=g*q;q=d/(-m+q);m=q*-m;b.matrixWorld.decompose(a.position,a.quaternion,a.scale);a.translateX(m);a.translateZ(q);a.matrixWorld.compose(a.position,a.quaternion,a.scale);a.matrixWorldInverse.getInverse(a.matrixWorld);b=g+q;g=c+q;a.projectionMatrix.makePerspective(e-m,f+(d-m),h*c/g*b,k*c/g*b,b,g)}function kf(a){function b(){return null!==e&&!0===e.isPresenting}function c(){if(b()){var c=e.getEyeParameters("left"),f=c.renderWidth*q;c=c.renderHeight*q;K=a.getPixelRatio();u=a.getSize();a.setDrawingBufferSize(2*f,c,1);N.start()}else d.enabled&&a.setDrawingBufferSize(u.width,u.height,K),N.stop()}var d=this,e=null,f=null,g=null,h=[],k=new O,m=new O,q=1,p="stage";"undefined"!==typeof window&&"VRFrameData"in window&&(f=new window.VRFrameData,window.addEventListener("vrdisplaypresentchange",c,!1));var r=new O,l=new ka,t=new n,v=new V;v.bounds=new ca(0,0,.5,1);v.layers.enable(1);var w=new V;w.bounds=new ca(.5,0,.5,1);w.layers.enable(2);var y=new Dc([v,w]);y.layers.enable(1);y.layers.enable(2);var u,K,G=[];this.enabled=!1;this.getController=function(a){var b=h[a];void 0===b&&(b=new Pb,b.matrixAutoUpdate=!1,b.visible=!1,h[a]=b);return b};this.getDevice=function(){return e};this.setDevice=function(a){void 0!==a&&(e=a);N.setContext(a)};this.setFramebufferScaleFactor=function(a){q=a};this.setFrameOfReferenceType=function(a){p=a};this.setPoseTarget=function(a){void 0!==a&&(g=a)};this.getCamera=function(a){var b="stage"===p?1.6:0;if(null===e)return a.position.set(0,b,0),a;e.depthNear=a.near;e.depthFar=a.far;e.getFrameData(f);if("stage"===p){var c=e.stageParameters;c?k.fromArray(c.sittingToStandingTransform):k.makeTranslation(0,b,0)}b=f.pose;c=null!==g?g:a;c.matrix.copy(k);c.matrix.decompose(c.position,c.quaternion,c.scale);null!==b.orientation&&(l.fromArray(b.orientation),c.quaternion.multiply(l));null!==b.position&&(l.setFromRotationMatrix(k),t.fromArray(b.position),t.applyQuaternion(l),c.position.add(t));c.updateMatrixWorld();if(!1===e.isPresenting)return a;v.near=a.near;w.near=a.near;v.far=a.far;w.far=a.far;v.matrixWorldInverse.fromArray(f.leftViewMatrix);w.matrixWorldInverse.fromArray(f.rightViewMatrix);m.getInverse(k);"stage"===p&&(v.matrixWorldInverse.multiply(m),w.matrixWorldInverse.multiply(m));a=c.parent;null!==a&&(r.getInverse(a.matrixWorld),v.matrixWorldInverse.multiply(r),w.matrixWorldInverse.multiply(r));v.matrixWorld.getInverse(v.matrixWorldInverse);w.matrixWorld.getInverse(w.matrixWorldInverse);v.projectionMatrix.fromArray(f.leftProjectionMatrix);w.projectionMatrix.fromArray(f.rightProjectionMatrix);gf(y,v,w);a=e.getLayers();a.length&&(a=a[0],null!==a.leftBounds&&4===a.leftBounds.length&&v.bounds.fromArray(a.leftBounds),null!==a.rightBounds&&4===a.rightBounds.length&&w.bounds.fromArray(a.rightBounds));a:for(a=0;a<h.length;a++){b=h[a];b:{c=a;for(var d=navigator.getGamepads&&navigator.getGamepads(),q=0,x=0,n=d.length,u;q<n;q++){u=d[q];if(u&&("Daydream Controller"===u.id||"Gear VR Controller"===u.id||"Oculus Go Controller"===u.id||"OpenVR Gamepad"===u.id||u.id.startsWith("Oculus Touch")||u.id.startsWith("Spatial Controller"))){if(x===c){c=u;break b}x++}}c=void 0}if(void 0!==c&&void 0!==c.pose){if(null===c.pose)break a;d=c.pose;!1===d.hasPosition&&b.position.set(.2,-.6,-.05);null!==d.position&&b.position.fromArray(d.position);null!==d.orientation&&b.quaternion.fromArray(d.orientation);b.matrix.compose(b.position,b.quaternion,b.scale);b.matrix.premultiply(k);b.matrix.decompose(b.position,b.quaternion,b.scale);b.matrixWorldNeedsUpdate=!0;b.visible=!0;d="Daydream Controller"===c.id?0:1;G[a]!==c.buttons[d].pressed&&(G[a]=c.buttons[d].pressed,!0===G[a]?b.dispatchEvent({type:"selectstart"}):(b.dispatchEvent({type:"selectend"}),b.dispatchEvent({type:"select"})))}else b.visible=!1}return y};this.getStandingMatrix=function(){return k};this.isPresenting=b;var N=new Wd;this.setAnimationLoop=function(a){N.setAnimationLoop(a)};this.submitFrame=function(){b()&&e.submitFrame()};this.dispose=function(){"undefined"!==typeof window&&window.removeEventListener("vrdisplaypresentchange",c)}}function Tg(a){function b(){return null!==h&&null!==m}function c(a){var b=r[l.indexOf(a.inputSource)];b&&b.dispatchEvent({type:a.type})}function d(){a.setFramebuffer(null);u.stop()}function e(a,b){null===b?a.matrixWorld.copy(a.matrix):a.matrixWorld.multiplyMatrices(b.matrixWorld,a.matrix);a.matrixWorldInverse.getInverse(a.matrixWorld)}var f=a.context,g=null,h=null,k=1,m=null,q="stage",p=null,r=[],l=[],t=new V;t.layers.enable(1);t.viewport=new ca;var v=new V;v.layers.enable(2);v.viewport=new ca;var n=new Dc([t,v]);n.layers.enable(1);n.layers.enable(2);this.enabled=!1;this.getController=function(a){var b=r[a];void 0===b&&(b=new Pb,b.matrixAutoUpdate=!1,b.visible=!1,r[a]=b);return b};this.getDevice=function(){return g};this.setDevice=function(a){void 0!==a&&(g=a);babelHelpers.instanceof(a,XRDevice)&&f.setCompatibleXRDevice(a)};this.setFramebufferScaleFactor=function(a){k=a};this.setFrameOfReferenceType=function(a){q=a};this.setSession=function(b){h=b;null!==h&&(h.addEventListener("select",c),h.addEventListener("selectstart",c),h.addEventListener("selectend",c),h.addEventListener("end",d),h.baseLayer=new XRWebGLLayer(h,f,{framebufferScaleFactor:k}),h.requestFrameOfReference(q).then(function(b){m=b;a.setFramebuffer(h.baseLayer.framebuffer);u.setContext(h);u.start()}),l=h.getInputSources(),h.addEventListener("inputsourceschange",function(){l=h.getInputSources();console.log(l);for(var a=0;a<r.length;a++){r[a].userData.inputSource=l[a]}}))};this.getCamera=function(a){if(b()){var c=a.parent,d=n.cameras;e(n,c);for(var f=0;f<d.length;f++){e(d[f],c)}a.matrixWorld.copy(n.matrixWorld);a=a.children;f=0;for(c=a.length;f<c;f++){a[f].updateMatrixWorld(!0)}gf(n,t,v);return n}return a};this.isPresenting=b;var y=null,u=new Wd;u.setAnimationLoop(function(a,b){p=b.getDevicePose(m);if(null!==p)for(var c=h.baseLayer,d=b.views,e=0;e<d.length;e++){var f=d[e],g=c.getViewport(f),k=p.getViewMatrix(f),q=n.cameras[e];q.matrix.fromArray(k).getInverse(q.matrix);q.projectionMatrix.fromArray(f.projectionMatrix);q.viewport.set(g.x,g.y,g.width,g.height);0===e&&n.matrix.copy(q.matrix)}for(e=0;e<r.length;e++){c=r[e];if(d=l[e])if(d=b.getInputPose(d,m),null!==d){"targetRay"in d?c.matrix.elements=d.targetRay.transformMatrix:"pointerMatrix"in d&&(c.matrix.elements=d.pointerMatrix);c.matrix.decompose(c.position,c.rotation,c.scale);c.visible=!0;continue}c.visible=!1}y&&y(a)});this.setAnimationLoop=function(a){y=a};this.dispose=function(){};this.getStandingMatrix=function(){console.warn("THREE.WebXRManager: getStandingMatrix() is no longer needed.");return new THREE.Matrix4};this.submitFrame=function(){}}function be(a){var b;function c(){la=new Wf(P);xa=new Uf(P,la,a);xa.isWebGL2||(la.get("WEBGL_depth_texture"),la.get("OES_texture_float"),la.get("OES_texture_half_float"),la.get("OES_texture_half_float_linear"),la.get("OES_standard_derivatives"),la.get("OES_element_index_uint"),la.get("ANGLE_instanced_arrays"));la.get("OES_texture_float_linear");ia=new ff(P,la,xa);aa=new Rg(P,la,ia,xa);aa.scissor(Cc.copy(ka).multiplyScalar(U));aa.viewport(S.copy(fa).multiplyScalar(U));da=new Zf(P);Ca=new Jg;ha=new Sg(P,la,aa,Ca,xa,ia,da);ra=new Nf(P);ua=new Xf(P,ra,da);oa=new bg(ua,da);ya=new ag(P);na=new Ig(Y,la,xa);ta=new Mg;pa=new Qg;ma=new Sf(Y,aa,oa,z);za=new Tf(P,la,da,xa);Aa=new Yf(P,la,da,xa);da.programs=na.programs;Y.context=P;Y.capabilities=xa;Y.extensions=la;Y.properties=Ca;Y.renderLists=ta;Y.state=aa;Y.info=da}function d(a){a.preventDefault();console.log("THREE.WebGLRenderer: Context Lost.");I=!0}function e(){console.log("THREE.WebGLRenderer: Context Restored.");I=!1;c()}function f(a){a=a.target;a.removeEventListener("dispose",f);g(a);Ca.remove(a)}function g(a){var b=Ca.get(a).program;a.program=void 0;void 0!==b&&na.releaseProgram(b)}function h(a,b){a.render(function(a){Y.renderBufferImmediate(a,b)})}function k(a,b,c){if(!1!==a.visible){if(a.layers.test(b.layers))if(a.isLight)C.pushLight(a),a.castShadow&&C.pushShadow(a);else if(a.isSprite){if(!a.frustumCulled||qa.intersectsSprite(a)){c&&fb.setFromMatrixPosition(a.matrixWorld).applyMatrix4(Bc);var d=oa.update(a),e=a.material;D.push(a,d,e,fb.z,null)}}else if(a.isImmediateRenderObject)c&&fb.setFromMatrixPosition(a.matrixWorld).applyMatrix4(Bc),D.push(a,null,a.material,fb.z,null);else if(a.isMesh||a.isLine||a.isPoints)if(a.isSkinnedMesh&&a.skeleton.update(),!a.frustumCulled||qa.intersectsObject(a))if(c&&fb.setFromMatrixPosition(a.matrixWorld).applyMatrix4(Bc),d=oa.update(a),e=a.material,Array.isArray(e))for(var f=d.groups,g=0,h=f.length;g<h;g++){var m=f[g],p=e[m.materialIndex];p&&p.visible&&D.push(a,d,p,fb.z,m)}else e.visible&&D.push(a,d,e,fb.z,null);a=a.children;g=0;for(h=a.length;g<h;g++){k(a[g],b,c)}}}function m(a,b,c,d){for(var e=0,f=a.length;e<f;e++){var g=a[e],h=g.object,k=g.geometry,m=void 0===d?g.material:d;g=g.group;if(c.isArrayCamera){X=c;for(var p=c.cameras,r=0,l=p.length,t;r<l;r++){t=p[r];if(h.layers.test(t.layers)){if("viewport"in t)aa.viewport(S.copy(t.viewport));else{var x=t.bounds;aa.viewport(S.set(x.x*V,x.y*M,x.z*V,x.w*M).multiplyScalar(U))}C.setupLights(t);q(h,b,t,k,m,g)}}}else X=null,q(h,b,c,k,m,g)}}function q(a,c,d,e,f,g){a.onBeforeRender(Y,c,d,e,f,g);C=pa.get(c,X||d);a.modelViewMatrix.multiplyMatrices(d.matrixWorldInverse,a.matrixWorld);a.normalMatrix.getNormalMatrix(a.modelViewMatrix);if(a.isImmediateRenderObject){aa.setMaterial(f);var k=r(d,c.fog,f,a);H=b=null;ud=!1;h(a,k)}else Y.renderBufferDirect(d,c.fog,e,f,a,g);a.onAfterRender(Y,c,d,e,f,g);C=pa.get(c,X||d)}function p(a,b,c){var d=Ca.get(a),e=C.state.lights,h=d.lightsHash,k=e.state.hash;c=na.getParameters(a,e.state,C.state.shadowsArray,b,Z.numPlanes,Z.numIntersection,c);var m=na.getProgramCode(a,c),p=d.program,q=!0;if(void 0===p)a.addEventListener("dispose",f);else if(p.code!==m)g(a);else{if(h.stateID!==k.stateID||h.directionalLength!==k.directionalLength||h.pointLength!==k.pointLength||h.spotLength!==k.spotLength||h.rectAreaLength!==k.rectAreaLength||h.hemiLength!==k.hemiLength||h.shadowsLength!==k.shadowsLength)h.stateID=k.stateID,h.directionalLength=k.directionalLength,h.pointLength=k.pointLength,h.spotLength=k.spotLength,h.rectAreaLength=k.rectAreaLength,h.hemiLength=k.hemiLength,h.shadowsLength=k.shadowsLength;else if(void 0!==c.shaderID)return;q=!1}q&&(c.shaderID?(m=Qa[c.shaderID],d.shader={name:a.type,uniforms:Jb(m.uniforms),vertexShader:m.vertexShader,fragmentShader:m.fragmentShader}):d.shader={name:a.type,uniforms:a.uniforms,vertexShader:a.vertexShader,fragmentShader:a.fragmentShader},a.onBeforeCompile(d.shader,Y),m=na.getProgramCode(a,c),p=na.acquireProgram(a,d.shader,c,m),d.program=p,a.program=p);c=p.getAttributes();if(a.morphTargets)for(m=a.numSupportedMorphTargets=0;m<Y.maxMorphTargets;m++){0<=c["morphTarget"+m]&&a.numSupportedMorphTargets++}if(a.morphNormals)for(m=a.numSupportedMorphNormals=0;m<Y.maxMorphNormals;m++){0<=c["morphNormal"+m]&&a.numSupportedMorphNormals++}c=d.shader.uniforms;if(!a.isShaderMaterial&&!a.isRawShaderMaterial||!0===a.clipping)d.numClippingPlanes=Z.numPlanes,d.numIntersection=Z.numIntersection,c.clippingPlanes=Z.uniform;d.fog=b;void 0===h&&(d.lightsHash=h={});h.stateID=k.stateID;h.directionalLength=k.directionalLength;h.pointLength=k.pointLength;h.spotLength=k.spotLength;h.rectAreaLength=k.rectAreaLength;h.hemiLength=k.hemiLength;h.shadowsLength=k.shadowsLength;a.lights&&(c.ambientLightColor.value=e.state.ambient,c.directionalLights.value=e.state.directional,c.spotLights.value=e.state.spot,c.rectAreaLights.value=e.state.rectArea,c.pointLights.value=e.state.point,c.hemisphereLights.value=e.state.hemi,c.directionalShadowMap.value=e.state.directionalShadowMap,c.directionalShadowMatrix.value=e.state.directionalShadowMatrix,c.spotShadowMap.value=e.state.spotShadowMap,c.spotShadowMatrix.value=e.state.spotShadowMatrix,c.pointShadowMap.value=e.state.pointShadowMap,c.pointShadowMatrix.value=e.state.pointShadowMatrix);a=d.program.getUniforms();a=cb.seqWithValue(a.seq,c);d.uniformsList=a}function r(a,b,c,d){ba=0;var e=Ca.get(c),f=e.lightsHash,g=C.state.lights.state.hash;wd&&(ae||a!==T)&&Z.setState(c.clippingPlanes,c.clipIntersection,c.clipShadows,a,e,a===T&&c.id===E);!1===c.needsUpdate&&(void 0===e.program?c.needsUpdate=!0:c.fog&&e.fog!==b?c.needsUpdate=!0:!c.lights||f.stateID===g.stateID&&f.directionalLength===g.directionalLength&&f.pointLength===g.pointLength&&f.spotLength===g.spotLength&&f.rectAreaLength===g.rectAreaLength&&f.hemiLength===g.hemiLength&&f.shadowsLength===g.shadowsLength?void 0===e.numClippingPlanes||e.numClippingPlanes===Z.numPlanes&&e.numIntersection===Z.numIntersection||(c.needsUpdate=!0):c.needsUpdate=!0);c.needsUpdate&&(p(c,b,d),c.needsUpdate=!1);var h=!1,k=!1,m=!1;f=e.program;g=f.getUniforms();var q=e.shader.uniforms;aa.useProgram(f.program)&&(m=k=h=!0);c.id!==E&&(E=c.id,k=!0);if(h||T!==a){g.setValue(P,"projectionMatrix",a.projectionMatrix);xa.logarithmicDepthBuffer&&g.setValue(P,"logDepthBufFC",2/(_Mathlog(a.far+1)/_MathLN));T!==a&&(T=a,m=k=!0);if(c.isShaderMaterial||c.isMeshPhongMaterial||c.isMeshStandardMaterial||c.envMap)h=g.map.cameraPosition,void 0!==h&&h.setValue(P,fb.setFromMatrixPosition(a.matrixWorld));(c.isMeshPhongMaterial||c.isMeshLambertMaterial||c.isMeshBasicMaterial||c.isMeshStandardMaterial||c.isShaderMaterial||c.skinning)&&g.setValue(P,"viewMatrix",a.matrixWorldInverse)}if(c.skinning&&(g.setOptional(P,d,"bindMatrix"),g.setOptional(P,d,"bindMatrixInverse"),a=d.skeleton))if(h=a.bones,xa.floatVertexTextures){if(void 0===a.boneTexture){h=_Mathsqrt(4*h.length);h=R.ceilPowerOfTwo(h);h=_Mathmax(h,4);var r=new Float32Array(4*(h*h));r.set(a.boneMatrices);var x=new kb(r,h,h,1023,1015);x.needsUpdate=!0;a.boneMatrices=r;a.boneTexture=x;a.boneTextureSize=h}g.setValue(P,"boneTexture",a.boneTexture);g.setValue(P,"boneTextureSize",a.boneTextureSize)}else g.setOptional(P,a,"boneMatrices");k&&(g.setValue(P,"toneMappingExposure",Y.toneMappingExposure),g.setValue(P,"toneMappingWhitePoint",Y.toneMappingWhitePoint),c.lights&&(k=m,q.ambientLightColor.needsUpdate=k,q.directionalLights.needsUpdate=k,q.pointLights.needsUpdate=k,q.spotLights.needsUpdate=k,q.rectAreaLights.needsUpdate=k,q.hemisphereLights.needsUpdate=k),b&&c.fog&&(q.fogColor.value=b.color,b.isFog?(q.fogNear.value=b.near,q.fogFar.value=b.far):b.isFogExp2&&(q.fogDensity.value=b.density)),c.isMeshBasicMaterial?l(q,c):c.isMeshLambertMaterial?(l(q,c),c.emissiveMap&&(q.emissiveMap.value=c.emissiveMap)):c.isMeshPhongMaterial?(l(q,c),c.isMeshToonMaterial?(t(q,c),c.gradientMap&&(q.gradientMap.value=c.gradientMap)):t(q,c)):c.isMeshStandardMaterial?(l(q,c),c.isMeshPhysicalMaterial?(v(q,c),q.reflectivity.value=c.reflectivity,q.clearCoat.value=c.clearCoat,q.clearCoatRoughness.value=c.clearCoatRoughness):v(q,c)):c.isMeshMatcapMaterial?(l(q,c),c.matcap&&(q.matcap.value=c.matcap),c.bumpMap&&(q.bumpMap.value=c.bumpMap,q.bumpScale.value=c.bumpScale,1===c.side&&(q.bumpScale.value*=-1)),c.normalMap&&(q.normalMap.value=c.normalMap,q.normalScale.value.copy(c.normalScale),1===c.side&&q.normalScale.value.negate()),c.displacementMap&&(q.displacementMap.value=c.displacementMap,q.displacementScale.value=c.displacementScale,q.displacementBias.value=c.displacementBias)):c.isMeshDepthMaterial?(l(q,c),c.displacementMap&&(q.displacementMap.value=c.displacementMap,q.displacementScale.value=c.displacementScale,q.displacementBias.value=c.displacementBias)):c.isMeshDistanceMaterial?(l(q,c),c.displacementMap&&(q.displacementMap.value=c.displacementMap,q.displacementScale.value=c.displacementScale,q.displacementBias.value=c.displacementBias),q.referencePosition.value.copy(c.referencePosition),q.nearDistance.value=c.nearDistance,q.farDistance.value=c.farDistance):c.isMeshNormalMaterial?(l(q,c),c.bumpMap&&(q.bumpMap.value=c.bumpMap,q.bumpScale.value=c.bumpScale,1===c.side&&(q.bumpScale.value*=-1)),c.normalMap&&(q.normalMap.value=c.normalMap,q.normalScale.value.copy(c.normalScale),1===c.side&&q.normalScale.value.negate()),c.displacementMap&&(q.displacementMap.value=c.displacementMap,q.displacementScale.value=c.displacementScale,q.displacementBias.value=c.displacementBias)):c.isLineBasicMaterial?(q.diffuse.value=c.color,q.opacity.value=c.opacity,c.isLineDashedMaterial&&(q.dashSize.value=c.dashSize,q.totalSize.value=c.dashSize+c.gapSize,q.scale.value=c.scale)):c.isPointsMaterial?(q.diffuse.value=c.color,q.opacity.value=c.opacity,q.size.value=c.size*U,q.scale.value=.5*M,q.map.value=c.map,null!==c.map&&(!0===c.map.matrixAutoUpdate&&c.map.updateMatrix(),q.uvTransform.value.copy(c.map.matrix))):c.isSpriteMaterial?(q.diffuse.value=c.color,q.opacity.value=c.opacity,q.rotation.value=c.rotation,q.map.value=c.map,null!==c.map&&(!0===c.map.matrixAutoUpdate&&c.map.updateMatrix(),q.uvTransform.value.copy(c.map.matrix))):c.isShadowMaterial&&(q.color.value=c.color,q.opacity.value=c.opacity),void 0!==q.ltc_1&&(q.ltc_1.value=F.LTC_1),void 0!==q.ltc_2&&(q.ltc_2.value=F.LTC_2),cb.upload(P,e.uniformsList,q,Y));c.isShaderMaterial&&!0===c.uniformsNeedUpdate&&(cb.upload(P,e.uniformsList,q,Y),c.uniformsNeedUpdate=!1);c.isSpriteMaterial&&g.setValue(P,"center",d.center);g.setValue(P,"modelViewMatrix",d.modelViewMatrix);g.setValue(P,"normalMatrix",d.normalMatrix);g.setValue(P,"modelMatrix",d.matrixWorld);return f}function l(a,b){a.opacity.value=b.opacity;b.color&&(a.diffuse.value=b.color);b.emissive&&a.emissive.value.copy(b.emissive).multiplyScalar(b.emissiveIntensity);b.map&&(a.map.value=b.map);b.alphaMap&&(a.alphaMap.value=b.alphaMap);b.specularMap&&(a.specularMap.value=b.specularMap);b.envMap&&(a.envMap.value=b.envMap,a.flipEnvMap.value=b.envMap.isCubeTexture?-1:1,a.reflectivity.value=b.reflectivity,a.refractionRatio.value=b.refractionRatio,a.maxMipLevel.value=Ca.get(b.envMap).__maxMipLevel);b.lightMap&&(a.lightMap.value=b.lightMap,a.lightMapIntensity.value=b.lightMapIntensity);b.aoMap&&(a.aoMap.value=b.aoMap,a.aoMapIntensity.value=b.aoMapIntensity);if(b.map)var c=b.map;else b.specularMap?c=b.specularMap:b.displacementMap?c=b.displacementMap:b.normalMap?c=b.normalMap:b.bumpMap?c=b.bumpMap:b.roughnessMap?c=b.roughnessMap:b.metalnessMap?c=b.metalnessMap:b.alphaMap?c=b.alphaMap:b.emissiveMap&&(c=b.emissiveMap);void 0!==c&&(c.isWebGLRenderTarget&&(c=c.texture),!0===c.matrixAutoUpdate&&c.updateMatrix(),a.uvTransform.value.copy(c.matrix))}function t(a,b){a.specular.value=b.specular;a.shininess.value=_Mathmax(b.shininess,1E-4);b.emissiveMap&&(a.emissiveMap.value=b.emissiveMap);b.bumpMap&&(a.bumpMap.value=b.bumpMap,a.bumpScale.value=b.bumpScale,1===b.side&&(a.bumpScale.value*=-1));b.normalMap&&(a.normalMap.value=b.normalMap,a.normalScale.value.copy(b.normalScale),1===b.side&&a.normalScale.value.negate());b.displacementMap&&(a.displacementMap.value=b.displacementMap,a.displacementScale.value=b.displacementScale,a.displacementBias.value=b.displacementBias)}function v(a,b){a.roughness.value=b.roughness;a.metalness.value=b.metalness;b.roughnessMap&&(a.roughnessMap.value=b.roughnessMap);b.metalnessMap&&(a.metalnessMap.value=b.metalnessMap);b.emissiveMap&&(a.emissiveMap.value=b.emissiveMap);b.bumpMap&&(a.bumpMap.value=b.bumpMap,a.bumpScale.value=b.bumpScale,1===b.side&&(a.bumpScale.value*=-1));b.normalMap&&(a.normalMap.value=b.normalMap,a.normalScale.value.copy(b.normalScale),1===b.side&&a.normalScale.value.negate());b.displacementMap&&(a.displacementMap.value=b.displacementMap,a.displacementScale.value=b.displacementScale,a.displacementBias.value=b.displacementBias);b.envMap&&(a.envMapIntensity.value=b.envMapIntensity)}console.log("THREE.WebGLRenderer","100dev");a=a||{};var w=void 0!==a.canvas?a.canvas:document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),y=void 0!==a.context?a.context:null,u=void 0!==a.alpha?a.alpha:!1,K=void 0!==a.depth?a.depth:!0,G=void 0!==a.stencil?a.stencil:!0,N=void 0!==a.antialias?a.antialias:!1,z=void 0!==a.premultipliedAlpha?a.premultipliedAlpha:!0,B=void 0!==a.preserveDrawingBuffer?a.preserveDrawingBuffer:!1,A=void 0!==a.powerPreference?a.powerPreference:"default",D=null,C=null;this.domElement=w;this.context=null;this.sortObjects=this.autoClearStencil=this.autoClearDepth=this.autoClearColor=this.autoClear=!0;this.clippingPlanes=[];this.localClippingEnabled=!1;this.gammaFactor=2;this.physicallyCorrectLights=this.gammaOutput=this.gammaInput=!1;this.toneMappingWhitePoint=this.toneMappingExposure=this.toneMapping=1;this.maxMorphTargets=8;this.maxMorphNormals=4;var Y=this,I=!1,J=null,Q=null,L=null,E=-1,H=b=null,ud=!1,T=null,X=null,S=new ca,Cc=new ca,ea=null,ba=0,V=w.width,M=w.height,U=1,fa=new ca(0,0,V,M),ka=new ca(0,0,V,M),sa=!1,qa=new td,Z=new Vf,wd=!1,ae=!1,Bc=new O,fb=new n;try{u={alpha:u,depth:K,stencil:G,antialias:N,premultipliedAlpha:z,preserveDrawingBuffer:B,powerPreference:A};w.addEventListener("webglcontextlost",d,!1);w.addEventListener("webglcontextrestored",e,!1);var P=y||w.getContext("webgl",u)||w.getContext("experimental-webgl",u);if(null===P){if(null!==w.getContext("webgl"))throw Error("Error creating WebGL context with your selected attributes.");throw Error("Error creating WebGL context.")}void 0===P.getShaderPrecisionFormat&&(P.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(Ug){console.error("THREE.WebGLRenderer: "+Ug.message)}var la,xa,aa,da,Ca,ha,ra,ua,oa,na,ta,pa,ma,ya,za,Aa,ia;c();var ja=null;"undefined"!==typeof navigator&&(ja="xr"in navigator?new Tg(Y):new kf(Y));this.vr=ja;var Ba=new ef(Y,oa,xa.maxTextureSize);this.shadowMap=Ba;this.getContext=function(){return P};this.getContextAttributes=function(){return P.getContextAttributes()};this.forceContextLoss=function(){var a=la.get("WEBGL_lose_context");a&&a.loseContext()};this.forceContextRestore=function(){var a=la.get("WEBGL_lose_context");a&&a.restoreContext()};this.getPixelRatio=function(){return U};this.setPixelRatio=function(a){void 0!==a&&(U=a,this.setSize(V,M,!1))};this.getSize=function(){return{width:V,height:M}};this.setSize=function(a,b,c){ja.isPresenting()?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(V=a,M=b,w.width=a*U,w.height=b*U,!1!==c&&(w.style.width=a+"px",w.style.height=b+"px"),this.setViewport(0,0,a,b))};this.getDrawingBufferSize=function(){return{width:V*U,height:M*U}};this.setDrawingBufferSize=function(a,b,c){V=a;M=b;U=c;w.width=a*c;w.height=b*c;this.setViewport(0,0,a,b)};this.getCurrentViewport=function(){return S};this.setViewport=function(a,b,c,d){fa.set(a,M-b-d,c,d);aa.viewport(S.copy(fa).multiplyScalar(U))};this.setScissor=function(a,b,c,d){ka.set(a,M-b-d,c,d);aa.scissor(Cc.copy(ka).multiplyScalar(U))};this.setScissorTest=function(a){aa.setScissorTest(sa=a)};this.getClearColor=function(){return ma.getClearColor()};this.setClearColor=function(){ma.setClearColor.apply(ma,arguments)};this.getClearAlpha=function(){return ma.getClearAlpha()};this.setClearAlpha=function(){ma.setClearAlpha.apply(ma,arguments)};this.clear=function(a,b,c){var d=0;if(void 0===a||a)d|=16384;if(void 0===b||b)d|=256;if(void 0===c||c)d|=1024;P.clear(d)};this.clearColor=function(){this.clear(!0,!1,!1)};this.clearDepth=function(){this.clear(!1,!0,!1)};this.clearStencil=function(){this.clear(!1,!1,!0)};this.dispose=function(){w.removeEventListener("webglcontextlost",d,!1);w.removeEventListener("webglcontextrestored",e,!1);ta.dispose();pa.dispose();Ca.dispose();oa.dispose();ja.dispose();va.stop()};this.renderBufferImmediate=function(a,b){aa.initAttributes();var c=Ca.get(a);a.hasPositions&&!c.position&&(c.position=P.createBuffer());a.hasNormals&&!c.normal&&(c.normal=P.createBuffer());a.hasUvs&&!c.uv&&(c.uv=P.createBuffer());a.hasColors&&!c.color&&(c.color=P.createBuffer());b=b.getAttributes();a.hasPositions&&(P.bindBuffer(34962,c.position),P.bufferData(34962,a.positionArray,35048),aa.enableAttribute(b.position),P.vertexAttribPointer(b.position,3,5126,!1,0,0));a.hasNormals&&(P.bindBuffer(34962,c.normal),P.bufferData(34962,a.normalArray,35048),aa.enableAttribute(b.normal),P.vertexAttribPointer(b.normal,3,5126,!1,0,0));a.hasUvs&&(P.bindBuffer(34962,c.uv),P.bufferData(34962,a.uvArray,35048),aa.enableAttribute(b.uv),P.vertexAttribPointer(b.uv,2,5126,!1,0,0));a.hasColors&&(P.bindBuffer(34962,c.color),P.bufferData(34962,a.colorArray,35048),aa.enableAttribute(b.color),P.vertexAttribPointer(b.color,3,5126,!1,0,0));aa.disableUnusedAttributes();P.drawArrays(4,0,a.count);a.count=0};this.renderBufferDirect=function(a,c,d,e,f,g){var h=f.isMesh&&0>f.normalMatrix.determinant();aa.setMaterial(e,h);var k=r(a,c,e,f),m=!1;if(b!==d.id||H!==k.id||ud!==(!0===e.wireframe))b=d.id,H=k.id,ud=!0===e.wireframe,m=!0;f.morphTargetInfluences&&(ya.update(f,d,e,k),m=!0);h=d.index;var q=d.attributes.position;c=1;!0===e.wireframe&&(h=ua.getWireframeAttribute(d),c=2);a=za;if(null!==h){var p=ra.get(h);a=Aa;a.setIndex(p)}if(m){if(d&&d.isInstancedBufferGeometry&!xa.isWebGL2&&null===la.get("ANGLE_instanced_arrays"))console.error("THREE.WebGLRenderer.setupVertexAttributes: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");else{aa.initAttributes();m=d.attributes;k=k.getAttributes();var l=e.defaultAttributeValues;for(B in k){var t=k[B];if(0<=t){var x=m[B];if(void 0!==x){var v=x.normalized,n=x.itemSize,u=ra.get(x);if(void 0!==u){var w=u.buffer,y=u.type;u=u.bytesPerElement;if(x.isInterleavedBufferAttribute){var G=x.data,K=G.stride;x=x.offset;G&&G.isInstancedInterleavedBuffer?(aa.enableAttributeAndDivisor(t,G.meshPerAttribute),void 0===d.maxInstancedCount&&(d.maxInstancedCount=G.meshPerAttribute*G.count)):aa.enableAttribute(t);P.bindBuffer(34962,w);P.vertexAttribPointer(t,n,y,v,K*u,x*u)}else x.isInstancedBufferAttribute?(aa.enableAttributeAndDivisor(t,x.meshPerAttribute),void 0===d.maxInstancedCount&&(d.maxInstancedCount=x.meshPerAttribute*x.count)):aa.enableAttribute(t),P.bindBuffer(34962,w),P.vertexAttribPointer(t,n,y,v,0,0)}}else if(void 0!==l&&(v=l[B],void 0!==v))switch(v.length){case 2:P.vertexAttrib2fv(t,v);break;case 3:P.vertexAttrib3fv(t,v);break;case 4:P.vertexAttrib4fv(t,v);break;default:P.vertexAttrib1fv(t,v);}}}aa.disableUnusedAttributes()}null!==h&&P.bindBuffer(34963,p.buffer)}p=1/0;null!==h?p=h.count:void 0!==q&&(p=q.count);h=d.drawRange.start*c;q=null!==g?g.start*c:0;var B=_Mathmax(h,q);g=_Mathmax(0,_Mathmin(p,h+d.drawRange.count*c,q+(null!==g?g.count*c:1/0))-1-B+1);if(0!==g){if(f.isMesh){if(!0===e.wireframe)aa.setLineWidth(e.wireframeLinewidth*(null===Q?U:1)),a.setMode(1);else switch(f.drawMode){case 0:a.setMode(4);break;case 1:a.setMode(5);break;case 2:a.setMode(6);}}else f.isLine?(e=e.linewidth,void 0===e&&(e=1),aa.setLineWidth(e*(null===Q?U:1)),f.isLineSegments?a.setMode(1):f.isLineLoop?a.setMode(2):a.setMode(3)):f.isPoints?a.setMode(0):f.isSprite&&a.setMode(4);d&&d.isInstancedBufferGeometry?0<d.maxInstancedCount&&a.renderInstances(d,B,g):a.render(B,g)}};this.compile=function(a,b){C=pa.get(a,b);C.init();a.traverse(function(a){a.isLight&&(C.pushLight(a),a.castShadow&&C.pushShadow(a))});C.setupLights(b);a.traverse(function(b){if(b.material)if(Array.isArray(b.material))for(var c=0;c<b.material.length;c++){p(b.material[c],a.fog,b)}else p(b.material,a.fog,b)})};var wa=null,va=new Wd;va.setAnimationLoop(function(a){ja.isPresenting()||wa&&wa(a)});"undefined"!==typeof window&&va.setContext(window);this.setAnimationLoop=function(a){wa=a;ja.setAnimationLoop(a);va.start()};this.render=function(a,c,d,e){if(!c||!c.isCamera)console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");else if(!I){H=b=null;ud=!1;E=-1;T=null;!0===a.autoUpdate&&a.updateMatrixWorld();null===c.parent&&c.updateMatrixWorld();ja.enabled&&(c=ja.getCamera(c));C=pa.get(a,c);C.init();a.onBeforeRender(Y,a,c,d);Bc.multiplyMatrices(c.projectionMatrix,c.matrixWorldInverse);qa.setFromMatrix(Bc);ae=this.localClippingEnabled;wd=Z.init(this.clippingPlanes,ae,c);D=ta.get(a,c);D.init();k(a,c,Y.sortObjects);!0===Y.sortObjects&&D.sort();wd&&Z.beginShadows();Ba.render(C.state.shadowsArray,a,c);C.setupLights(c);wd&&Z.endShadows();this.info.autoReset&&this.info.reset();void 0===d&&(d=null);this.setRenderTarget(d);ma.render(D,a,c,e);e=D.opaque;var f=D.transparent;if(a.overrideMaterial){var g=a.overrideMaterial;e.length&&m(e,a,c,g);f.length&&m(f,a,c,g)}else e.length&&m(e,a,c),f.length&&m(f,a,c);d&&ha.updateRenderTargetMipmap(d);aa.buffers.depth.setTest(!0);aa.buffers.depth.setMask(!0);aa.buffers.color.setMask(!0);aa.setPolygonOffset(!1);a.onAfterRender(Y,a,c);ja.enabled&&ja.submitFrame();C=D=null}};this.allocTextureUnit=function(){var a=ba;a>=xa.maxTextures&&console.warn("THREE.WebGLRenderer: Trying to use "+a+" texture units while this GPU supports only "+xa.maxTextures);ba+=1;return a};this.setTexture2D=function(){var a=!1;return function(b,c){b&&b.isWebGLRenderTarget&&(a||(console.warn("THREE.WebGLRenderer.setTexture2D: don't use render targets as textures. Use their .texture property instead."),a=!0),b=b.texture);ha.setTexture2D(b,c)}}();this.setTexture3D=function(){return function(a,b){ha.setTexture3D(a,b)}}();this.setTexture=function(){var a=!1;return function(b,c){a||(console.warn("THREE.WebGLRenderer: .setTexture is deprecated, use setTexture2D instead."),a=!0);ha.setTexture2D(b,c)}}();this.setTextureCube=function(){var a=!1;return function(b,c){b&&b.isWebGLRenderTargetCube&&(a||(console.warn("THREE.WebGLRenderer.setTextureCube: don't use cube render targets as textures. Use their .texture property instead."),a=!0),b=b.texture);b&&b.isCubeTexture||Array.isArray(b.image)&&6===b.image.length?ha.setTextureCube(b,c):ha.setTextureCubeDynamic(b,c)}}();this.setFramebuffer=function(a){J=a};this.getRenderTarget=function(){return Q};this.setRenderTarget=function(a){(Q=a)&&void 0===Ca.get(a).__webglFramebuffer&&ha.setupRenderTarget(a);var b=J,c=!1;a?(b=Ca.get(a).__webglFramebuffer,a.isWebGLRenderTargetCube&&(b=b[a.activeCubeFace],c=!0),S.copy(a.viewport),Cc.copy(a.scissor),ea=a.scissorTest):(S.copy(fa).multiplyScalar(U),Cc.copy(ka).multiplyScalar(U),ea=sa);L!==b&&(P.bindFramebuffer(36160,b),L=b);aa.viewport(S);aa.scissor(Cc);aa.setScissorTest(ea);c&&(c=Ca.get(a.texture),P.framebufferTexture2D(36160,36064,34069+a.activeCubeFace,c.__webglTexture,a.activeMipMapLevel))};this.readRenderTargetPixels=function(a,b,c,d,e,f){if(a&&a.isWebGLRenderTarget){var g=Ca.get(a).__webglFramebuffer;if(g){var h=!1;g!==L&&(P.bindFramebuffer(36160,g),h=!0);try{var k=a.texture,m=k.format,q=k.type;1023!==m&&ia.convert(m)!==P.getParameter(35739)?console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format."):1009===q||ia.convert(q)===P.getParameter(35738)||1015===q&&(xa.isWebGL2||la.get("OES_texture_float")||la.get("WEBGL_color_buffer_float"))||1016===q&&(xa.isWebGL2?la.get("EXT_color_buffer_float"):la.get("EXT_color_buffer_half_float"))?36053===P.checkFramebufferStatus(36160)?0<=b&&b<=a.width-d&&0<=c&&c<=a.height-e&&P.readPixels(b,c,d,e,ia.convert(m),ia.convert(q),f):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete."):console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.")}finally{h&&P.bindFramebuffer(36160,L)}}}else console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.")};this.copyFramebufferToTexture=function(a,b,c){var d=b.image.width,e=b.image.height,f=ia.convert(b.format);this.setTexture2D(b,0);P.copyTexImage2D(3553,c||0,f,a.x,a.y,d,e,0)};this.copyTextureToTexture=function(a,b,c,d){var e=b.image.width,f=b.image.height,g=ia.convert(c.format),h=ia.convert(c.type);this.setTexture2D(c,0);b.isDataTexture?P.texSubImage2D(3553,d||0,a.x,a.y,e,f,g,h,b.image.data):P.texSubImage2D(3553,d||0,a.x,a.y,g,h,b.image)}}function Qb(a,b){this.name="";this.color=new I(a);this.density=void 0!==b?b:25e-5}function Rb(a,b,c){this.name="";this.color=new I(a);this.near=void 0!==b?b:1;this.far=void 0!==c?c:1E3}function xd(){D.call(this);this.type="Scene";this.overrideMaterial=this.fog=this.background=null;this.autoUpdate=!0}function rb(a,b){this.array=a;this.stride=b;this.count=void 0!==a?a.length/b:0;this.dynamic=!1;this.updateRange={offset:0,count:-1};this.version=0}function Ec(a,b,c,d){this.data=a;this.itemSize=b;this.offset=c;this.normalized=!0===d}function gb(a){L.call(this);this.type="SpriteMaterial";this.color=new I(16777215);this.map=null;this.rotation=0;this.sizeAttenuation=!0;this.lights=!1;this.transparent=!0;this.setValues(a)}function Fc(a){D.call(this);this.type="Sprite";if(void 0===Sb){Sb=new C;var b=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]);b=new rb(b,5);Sb.setIndex([0,1,2,0,2,3]);Sb.addAttribute("position",new Ec(b,3,0,!1));Sb.addAttribute("uv",new Ec(b,2,3,!1))}this.geometry=Sb;this.material=void 0!==a?a:new gb;this.center=new z(.5,.5)}function Gc(){D.call(this);this.type="LOD";Object.defineProperties(this,{levels:{enumerable:!0,value:[]}})}function Hc(a,b){a&&a.isGeometry&&console.error("THREE.SkinnedMesh no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");na.call(this,a,b);this.type="SkinnedMesh";this.bindMode="attached";this.bindMatrix=new O;this.bindMatrixInverse=new O}function yd(a,b){a=a||[];this.bones=a.slice(0);this.boneMatrices=new Float32Array(16*this.bones.length);if(void 0===b)this.calculateInverses();else if(this.bones.length===b.length)this.boneInverses=b.slice(0);else for(console.warn("THREE.Skeleton boneInverses is the wrong length."),this.boneInverses=[],a=0,b=this.bones.length;a<b;a++){this.boneInverses.push(new O)}}function ce(){D.call(this);this.type="Bone"}function T(a){L.call(this);this.type="LineBasicMaterial";this.color=new I(16777215);this.linewidth=1;this.linejoin=this.linecap="round";this.lights=!1;this.setValues(a)}function ta(a,b,c){1===c&&console.error("THREE.Line: parameter THREE.LinePieces no longer supported. Use THREE.LineSegments instead.");D.call(this);this.type="Line";this.geometry=void 0!==a?a:new C;this.material=void 0!==b?b:new T({color:16777215*Math.random()})}function S(a,b){ta.call(this,a,b);this.type="LineSegments"}function zd(a,b){ta.call(this,a,b);this.type="LineLoop"}function Fa(a){L.call(this);this.type="PointsMaterial";this.color=new I(16777215);this.map=null;this.size=1;this.sizeAttenuation=!0;this.lights=this.morphTargets=!1;this.setValues(a)}function Tb(a,b){D.call(this);this.type="Points";this.geometry=void 0!==a?a:new C;this.material=void 0!==b?b:new Fa({color:16777215*Math.random()})}function de(a,b,c,d,e,f,g,h,k){X.call(this,a,b,c,d,e,f,g,h,k);this.format=void 0!==g?g:1022;this.minFilter=void 0!==f?f:1006;this.magFilter=void 0!==e?e:1006;this.generateMipmaps=!1}function Ub(a,b,c,d,e,f,g,h,k,m,q,p){X.call(this,null,f,g,h,k,m,d,e,q,p);this.image={width:b,height:c};this.mipmaps=a;this.generateMipmaps=this.flipY=!1}function Ic(a,b,c,d,e,f,g,h,k){X.call(this,a,b,c,d,e,f,g,h,k);this.needsUpdate=!0}function Jc(a,b,c,d,e,f,g,h,k,m){m=void 0!==m?m:1026;if(1026!==m&&1027!==m)throw Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===c&&1026===m&&(c=1012);void 0===c&&1027===m&&(c=1020);X.call(this,null,d,e,f,g,h,m,c,k);this.image={width:a,height:b};this.magFilter=void 0!==g?g:1003;this.minFilter=void 0!==h?h:1003;this.generateMipmaps=this.flipY=!1}function Vb(a){C.call(this);this.type="WireframeGeometry";var b=[],c,d,e,f=[0,0],g={},h=["a","b","c"];if(a&&a.isGeometry){var k=a.faces,m=0;for(d=k.length;m<d;m++){var q=k[m];for(c=0;3>c;c++){var p=q[h[c]],r=q[h[(c+1)%3]];f[0]=_Mathmin(p,r);f[1]=_Mathmax(p,r);p=f[0]+","+f[1];void 0===g[p]&&(g[p]={index1:f[0],index2:f[1]})}}for(p in g){m=g[p],h=a.vertices[m.index1],b.push(h.x,h.y,h.z),h=a.vertices[m.index2],b.push(h.x,h.y,h.z)}}else if(a&&a.isBufferGeometry)if(h=new n,null!==a.index){k=a.attributes.position;q=a.index;var l=a.groups;0===l.length&&(l=[{start:0,count:q.count,materialIndex:0}]);a=0;for(e=l.length;a<e;++a){for(m=l[a],c=m.start,d=m.count,m=c,d=c+d;m<d;m+=3){for(c=0;3>c;c++){p=q.getX(m+c),r=q.getX(m+(c+1)%3),f[0]=_Mathmin(p,r),f[1]=_Mathmax(p,r),p=f[0]+","+f[1],void 0===g[p]&&(g[p]={index1:f[0],index2:f[1]})}}}for(p in g){m=g[p],h.fromBufferAttribute(k,m.index1),b.push(h.x,h.y,h.z),h.fromBufferAttribute(k,m.index2),b.push(h.x,h.y,h.z)}}else for(k=a.attributes.position,m=0,d=k.count/3;m<d;m++){for(c=0;3>c;c++){g=3*m+c,h.fromBufferAttribute(k,g),b.push(h.x,h.y,h.z),g=3*m+(c+1)%3,h.fromBufferAttribute(k,g),b.push(h.x,h.y,h.z)}}this.addAttribute("position",new A(b,3))}function Kc(a,b,c){Q.call(this);this.type="ParametricGeometry";this.parameters={func:a,slices:b,stacks:c};this.fromBufferGeometry(new Wb(a,b,c));this.mergeVertices()}function Wb(a,b,c){C.call(this);this.type="ParametricBufferGeometry";this.parameters={func:a,slices:b,stacks:c};var d=[],e=[],f=[],g=[],h=new n,k=new n,m=new n,q=new n,p=new n,r,l;3>a.length&&console.error("THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.");var t=b+1;for(r=0;r<=c;r++){var v=r/c;for(l=0;l<=b;l++){var w=l/b;a(w,v,k);e.push(k.x,k.y,k.z);0<=w-1E-5?(a(w-1E-5,v,m),q.subVectors(k,m)):(a(w+1E-5,v,m),q.subVectors(m,k));0<=v-1E-5?(a(w,v-1E-5,m),p.subVectors(k,m)):(a(w,v+1E-5,m),p.subVectors(m,k));h.crossVectors(q,p).normalize();f.push(h.x,h.y,h.z);g.push(w,v)}}for(r=0;r<c;r++){for(l=0;l<b;l++){a=r*t+l+1,h=(r+1)*t+l+1,k=(r+1)*t+l,d.push(r*t+l,a,k),d.push(a,h,k)}}this.setIndex(d);this.addAttribute("position",new A(e,3));this.addAttribute("normal",new A(f,3));this.addAttribute("uv",new A(g,2))}function Lc(a,b,c,d){Q.call(this);this.type="PolyhedronGeometry";this.parameters={vertices:a,indices:b,radius:c,detail:d};this.fromBufferGeometry(new ya(a,b,c,d));this.mergeVertices()}function ya(a,b,c,d){function e(a){h.push(a.x,a.y,a.z)}function f(b,c){b*=3;c.x=a[b+0];c.y=a[b+1];c.z=a[b+2]}function g(a,b,c,d){0>d&&1===a.x&&(k[b]=a.x-1);0===c.x&&0===c.z&&(k[b]=d/2/_MathPI+.5)}C.call(this);this.type="PolyhedronBufferGeometry";this.parameters={vertices:a,indices:b,radius:c,detail:d};c=c||1;d=d||0;var h=[],k=[];(function(a){for(var c=new n,d=new n,g=new n,h=0;h<b.length;h+=3){f(b[h+0],c);f(b[h+1],d);f(b[h+2],g);var k,m,l=c,y=d,u=g,K=_Mathpow(2,a),G=[];for(m=0;m<=K;m++){G[m]=[];var N=l.clone().lerp(u,m/K),z=y.clone().lerp(u,m/K),B=K-m;for(k=0;k<=B;k++){G[m][k]=0===k&&m===K?N:N.clone().lerp(z,k/B)}}for(m=0;m<K;m++){for(k=0;k<2*(K-m)-1;k++){l=_Mathfloor(k/2),0===k%2?(e(G[m][l+1]),e(G[m+1][l]),e(G[m][l])):(e(G[m][l+1]),e(G[m+1][l+1]),e(G[m+1][l]))}}}})(d);(function(a){for(var b=new n,c=0;c<h.length;c+=3){b.x=h[c+0],b.y=h[c+1],b.z=h[c+2],b.normalize().multiplyScalar(a),h[c+0]=b.x,h[c+1]=b.y,h[c+2]=b.z}})(c);(function(){for(var a=new n,b=0;b<h.length;b+=3){a.x=h[b+0],a.y=h[b+1],a.z=h[b+2],k.push(_Mathatan(a.z,-a.x)/2/_MathPI+.5,1-(_Mathatan(-a.y,_Mathsqrt(a.x*a.x+a.z*a.z))/_MathPI+.5))}a=new n;b=new n;for(var c=new n,d=new n,e=new z,f=new z,l=new z,w=0,y=0;w<h.length;w+=9,y+=6){a.set(h[w+0],h[w+1],h[w+2]);b.set(h[w+3],h[w+4],h[w+5]);c.set(h[w+6],h[w+7],h[w+8]);e.set(k[y+0],k[y+1]);f.set(k[y+2],k[y+3]);l.set(k[y+4],k[y+5]);d.copy(a).add(b).add(c).divideScalar(3);var u=_Mathatan(d.z,-d.x);g(e,y+0,a,u);g(f,y+2,b,u);g(l,y+4,c,u)}for(a=0;a<k.length;a+=6){b=k[a+0],c=k[a+2],d=k[a+4],e=_Mathmin(b,c,d),.9<_Mathmax(b,c,d)&&.1>e&&(.2>b&&(k[a+0]+=1),.2>c&&(k[a+2]+=1),.2>d&&(k[a+4]+=1))}})();this.addAttribute("position",new A(h,3));this.addAttribute("normal",new A(h.slice(),3));this.addAttribute("uv",new A(k,2));0===d?this.computeVertexNormals():this.normalizeNormals()}function Mc(a,b){Q.call(this);this.type="TetrahedronGeometry";this.parameters={radius:a,detail:b};this.fromBufferGeometry(new Xb(a,b));this.mergeVertices()}function Xb(a,b){ya.call(this,[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],a,b);this.type="TetrahedronBufferGeometry";this.parameters={radius:a,detail:b}}function Nc(a,b){Q.call(this);this.type="OctahedronGeometry";this.parameters={radius:a,detail:b};this.fromBufferGeometry(new sb(a,b));this.mergeVertices()}function sb(a,b){ya.call(this,[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],a,b);this.type="OctahedronBufferGeometry";this.parameters={radius:a,detail:b}}function Oc(a,b){Q.call(this);this.type="IcosahedronGeometry";this.parameters={radius:a,detail:b};this.fromBufferGeometry(new Yb(a,b));this.mergeVertices()}function Yb(a,b){var c=(1+2.23606797749979)/2;ya.call(this,[-1,c,0,1,c,0,-1,-c,0,1,-c,0,0,-1,c,0,1,c,0,-1,-c,0,1,-c,c,0,-1,c,0,1,-c,0,-1,-c,0,1],[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],a,b);this.type="IcosahedronBufferGeometry";this.parameters={radius:a,detail:b}}function Pc(a,b){Q.call(this);this.type="DodecahedronGeometry";this.parameters={radius:a,detail:b};this.fromBufferGeometry(new Zb(a,b));this.mergeVertices()}function Zb(a,b){var c=(1+2.23606797749979)/2,d=1/c;ya.call(this,[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-d,-c,0,-d,c,0,d,-c,0,d,c,-d,-c,0,-d,c,0,d,-c,0,d,c,0,-c,0,-d,c,0,-d,-c,0,d,c,0,d],[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],a,b);this.type="DodecahedronBufferGeometry";this.parameters={radius:a,detail:b}}function Qc(a,b,c,d,e,f){Q.call(this);this.type="TubeGeometry";this.parameters={path:a,tubularSegments:b,radius:c,radialSegments:d,closed:e};void 0!==f&&console.warn("THREE.TubeGeometry: taper has been removed.");a=new $b(a,b,c,d,e);this.tangents=a.tangents;this.normals=a.normals;this.binormals=a.binormals;this.fromBufferGeometry(a);this.mergeVertices()}function $b(a,b,c,d,e){function f(e){q=a.getPointAt(e/b,q);var f=g.normals[e];e=g.binormals[e];for(r=0;r<=d;r++){var m=2*(r/d*_MathPI),p=_Mathsin(m);m=-_Mathcos(m);k.x=m*f.x+p*e.x;k.y=m*f.y+p*e.y;k.z=m*f.z+p*e.z;k.normalize();t.push(k.x,k.y,k.z);h.x=q.x+c*k.x;h.y=q.y+c*k.y;h.z=q.z+c*k.z;l.push(h.x,h.y,h.z)}}C.call(this);this.type="TubeBufferGeometry";this.parameters={path:a,tubularSegments:b,radius:c,radialSegments:d,closed:e};b=b||64;c=c||1;d=d||8;e=e||!1;var g=a.computeFrenetFrames(b,e);this.tangents=g.tangents;this.normals=g.normals;this.binormals=g.binormals;var h=new n,k=new n,m=new z,q=new n,p,r,l=[],t=[],v=[],w=[];for(p=0;p<b;p++){f(p)}f(!1===e?b:0);for(p=0;p<=b;p++){for(r=0;r<=d;r++){m.x=p/b,m.y=r/d,v.push(m.x,m.y)}}(function(){for(r=1;r<=b;r++){for(p=1;p<=d;p++){var a=(d+1)*r+(p-1),c=(d+1)*r+p,e=(d+1)*(r-1)+p;w.push((d+1)*(r-1)+(p-1),a,e);w.push(a,c,e)}}})();this.setIndex(w);this.addAttribute("position",new A(l,3));this.addAttribute("normal",new A(t,3));this.addAttribute("uv",new A(v,2))}function Rc(a,b,c,d,e,f,g){Q.call(this);this.type="TorusKnotGeometry";this.parameters={radius:a,tube:b,tubularSegments:c,radialSegments:d,p:e,q:f};void 0!==g&&console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead.");this.fromBufferGeometry(new ac(a,b,c,d,e,f));this.mergeVertices()}function ac(a,b,c,d,e,f){function g(a,b,c,d,e){var f=_Mathsin(a);b=c/b*a;c=_Mathcos(b);e.x=.5*(d*(2+c))*_Mathcos(a);e.y=.5*(d*(2+c)*f);e.z=.5*(d*_Mathsin(b))}C.call(this);this.type="TorusKnotBufferGeometry";this.parameters={radius:a,tube:b,tubularSegments:c,radialSegments:d,p:e,q:f};a=a||1;b=b||.4;c=_Mathfloor(c)||64;d=_Mathfloor(d)||8;e=e||2;f=f||3;var h=[],k=[],m=[],q=[],p,r=new n,l=new n,t=new n,v=new n,w=new n,y=new n,u=new n;for(p=0;p<=c;++p){var K=2*(p/c*e*_MathPI);g(K,e,f,a,t);g(K+.01,e,f,a,v);y.subVectors(v,t);u.addVectors(v,t);w.crossVectors(y,u);u.crossVectors(w,y);w.normalize();u.normalize();for(K=0;K<=d;++K){var G=2*(K/d*_MathPI),N=-b*_Mathcos(G);G=b*_Mathsin(G);r.x=t.x+(N*u.x+G*w.x);r.y=t.y+(N*u.y+G*w.y);r.z=t.z+(N*u.z+G*w.z);k.push(r.x,r.y,r.z);l.subVectors(r,t).normalize();m.push(l.x,l.y,l.z);q.push(p/c);q.push(K/d)}}for(K=1;K<=c;K++){for(p=1;p<=d;p++){a=(d+1)*K+(p-1),b=(d+1)*K+p,e=(d+1)*(K-1)+p,h.push((d+1)*(K-1)+(p-1),a,e),h.push(a,b,e)}}this.setIndex(h);this.addAttribute("position",new A(k,3));this.addAttribute("normal",new A(m,3));this.addAttribute("uv",new A(q,2))}function Sc(a,b,c,d,e){Q.call(this);this.type="TorusGeometry";this.parameters={radius:a,tube:b,radialSegments:c,tubularSegments:d,arc:e};this.fromBufferGeometry(new bc(a,b,c,d,e));this.mergeVertices()}function bc(a,b,c,d,e){C.call(this);this.type="TorusBufferGeometry";this.parameters={radius:a,tube:b,radialSegments:c,tubularSegments:d,arc:e};a=a||1;b=b||.4;c=_Mathfloor(c)||8;d=_Mathfloor(d)||6;e=e||2*_MathPI;var f=[],g=[],h=[],k=[],m=new n,q=new n,p=new n,r,l;for(r=0;r<=c;r++){for(l=0;l<=d;l++){var t=l/d*e,v=2*(r/c*_MathPI);q.x=(a+b*_Mathcos(v))*_Mathcos(t);q.y=(a+b*_Mathcos(v))*_Mathsin(t);q.z=b*_Mathsin(v);g.push(q.x,q.y,q.z);m.x=a*_Mathcos(t);m.y=a*_Mathsin(t);p.subVectors(q,m).normalize();h.push(p.x,p.y,p.z);k.push(l/d);k.push(r/c)}}for(r=1;r<=c;r++){for(l=1;l<=d;l++){a=(d+1)*(r-1)+l-1,b=(d+1)*(r-1)+l,e=(d+1)*r+l,f.push((d+1)*r+l-1,a,e),f.push(a,b,e)}}this.setIndex(f);this.addAttribute("position",new A(g,3));this.addAttribute("normal",new A(h,3));this.addAttribute("uv",new A(k,2))}function lf(a,b,c,d,e){for(var f,g=0,h=b,k=c-d;h<c;h+=d){g+=(a[k]-a[h])*(a[h+1]+a[k+1]),k=h}if(e===0<g)for(e=b;e<c;e+=d){f=mf(e,a[e],a[e+1],f)}else for(e=c-d;e>=b;e-=d){f=mf(e,a[e],a[e+1],f)}f&&tb(f,f.next)&&(Tc(f),f=f.next);return f}function Uc(a,b){if(!a)return a;b||(b=a);do{var c=!1;if(a.steiner||!tb(a,a.next)&&0!==pa(a.prev,a,a.next))a=a.next;else{Tc(a);a=b=a.prev;if(a===a.next)break;c=!0}}while(c||a!==b);return b}function Vc(a,b,c,d,e,f,g){if(a){if(!g&&f){var h=a,k=h;do{null===k.z&&(k.z=ee(k.x,k.y,d,e,f)),k.prevZ=k.prev,k=k.nextZ=k.next}while(k!==h);k.prevZ.nextZ=null;k.prevZ=null;h=k;var m,q,p,r,l=1;do{k=h;var t=h=null;for(q=0;k;){q++;var n=k;for(m=p=0;m<l&&(p++,n=n.nextZ,n);m++){;}for(r=l;0<p||0<r&&n;){0!==p&&(0===r||!n||k.z<=n.z)?(m=k,k=k.nextZ,p--):(m=n,n=n.nextZ,r--),t?t.nextZ=m:h=m,m.prevZ=t,t=m}k=n}t.nextZ=null;l*=2}while(1<q)}for(h=a;a.prev!==a.next;){k=a.prev;n=a.next;if(f)a:{t=a;r=d;var w=e,y=f;q=t.prev;p=t;l=t.next;if(0<=pa(q,p,l))t=!1;else{var u=q.x>p.x?q.x>l.x?q.x:l.x:p.x>l.x?p.x:l.x,K=q.y>p.y?q.y>l.y?q.y:l.y:p.y>l.y?p.y:l.y;m=ee(q.x<p.x?q.x<l.x?q.x:l.x:p.x<l.x?p.x:l.x,q.y<p.y?q.y<l.y?q.y:l.y:p.y<l.y?p.y:l.y,r,w,y);r=ee(u,K,r,w,y);for(w=t.nextZ;w&&w.z<=r;){if(w!==t.prev&&w!==t.next&&Ad(q.x,q.y,p.x,p.y,l.x,l.y,w.x,w.y)&&0<=pa(w.prev,w,w.next)){t=!1;break a}w=w.nextZ}for(w=t.prevZ;w&&w.z>=m;){if(w!==t.prev&&w!==t.next&&Ad(q.x,q.y,p.x,p.y,l.x,l.y,w.x,w.y)&&0<=pa(w.prev,w,w.next)){t=!1;break a}w=w.prevZ}t=!0}}else a:if(t=a,q=t.prev,p=t,l=t.next,0<=pa(q,p,l))t=!1;else{for(m=t.next.next;m!==t.prev;){if(Ad(q.x,q.y,p.x,p.y,l.x,l.y,m.x,m.y)&&0<=pa(m.prev,m,m.next)){t=!1;break a}m=m.next}t=!0}if(t)b.push(k.i/c),b.push(a.i/c),b.push(n.i/c),Tc(a),h=a=n.next;else if(a=n,a===h){if(!g)Vc(Uc(a),b,c,d,e,f,1);else if(1===g){g=b;h=c;k=a;do{n=k.prev,t=k.next.next,!tb(n,t)&&nf(n,k,k.next,t)&&Wc(n,t)&&Wc(t,n)&&(g.push(n.i/h),g.push(k.i/h),g.push(t.i/h),Tc(k),Tc(k.next),k=a=t),k=k.next}while(k!==a);a=k;Vc(a,b,c,d,e,f,2)}else if(2===g)a:{g=a;do{for(h=g.next.next;h!==g.prev;){if(k=g.i!==h.i){k=g;n=h;if(t=k.next.i!==n.i&&k.prev.i!==n.i){b:{t=k;do{if(t.i!==k.i&&t.next.i!==k.i&&t.i!==n.i&&t.next.i!==n.i&&nf(t,t.next,k,n)){t=!0;break b}t=t.next}while(t!==k);t=!1}t=!t}if(t=t&&Wc(k,n)&&Wc(n,k)){t=k;q=!1;p=(k.x+n.x)/2;n=(k.y+n.y)/2;do{t.y>n!==t.next.y>n&&t.next.y!==t.y&&p<(t.next.x-t.x)*(n-t.y)/(t.next.y-t.y)+t.x&&(q=!q),t=t.next}while(t!==k);t=q}k=t}if(k){a=of(g,h);g=Uc(g,g.next);a=Uc(a,a.next);Vc(g,b,c,d,e,f);Vc(a,b,c,d,e,f);break a}h=h.next}g=g.next}while(g!==a)}break}}}}function Vg(a,b){return a.x-b.x}function Wg(a,b){var c=b,d=a.x,e=a.y,f=-Infinity;do{if(e<=c.y&&e>=c.next.y&&c.next.y!==c.y){var g=c.x+(e-c.y)*(c.next.x-c.x)/(c.next.y-c.y);if(g<=d&&g>f){f=g;if(g===d){if(e===c.y)return c;if(e===c.next.y)return c.next}var h=c.x<c.next.x?c:c.next}}c=c.next}while(c!==b);if(!h)return null;if(d===f)return h.prev;b=h;g=h.x;var k=h.y,m=1/0;for(c=h.next;c!==b;){if(d>=c.x&&c.x>=g&&d!==c.x&&Ad(e<k?d:f,e,g,k,e<k?f:d,e,c.x,c.y)){var q=_Mathabs(e-c.y)/(d-c.x);(q<m||q===m&&c.x>h.x)&&Wc(c,a)&&(h=c,m=q)}c=c.next}return h}function ee(a,b,c,d,e){a=32767*(a-c)*e;b=32767*(b-d)*e;a=16711935&(a|a<<8);a=252645135&(a|a<<4);a=858993459&(a|a<<2);b=16711935&(b|b<<8);b=252645135&(b|b<<4);b=858993459&(b|b<<2);return 1431655765&(a|a<<1)|(1431655765&(b|b<<1))<<1}function Xg(a){var b=a,c=a;do{b.x<c.x&&(c=b),b=b.next}while(b!==a);return c}function Ad(a,b,c,d,e,f,g,h){return 0<=(e-g)*(b-h)-(a-g)*(f-h)&&0<=(a-g)*(d-h)-(c-g)*(b-h)&&0<=(c-g)*(f-h)-(e-g)*(d-h)}function pa(a,b,c){return(b.y-a.y)*(c.x-b.x)-(b.x-a.x)*(c.y-b.y)}function tb(a,b){return a.x===b.x&&a.y===b.y}function nf(a,b,c,d){return tb(a,b)&&tb(c,d)||tb(a,d)&&tb(c,b)?!0:0<pa(a,b,c)!==0<pa(a,b,d)&&0<pa(c,d,a)!==0<pa(c,d,b)}function Wc(a,b){return 0>pa(a.prev,a,a.next)?0<=pa(a,b,a.next)&&0<=pa(a,a.prev,b):0>pa(a,b,a.prev)||0>pa(a,a.next,b)}function of(a,b){var c=new fe(a.i,a.x,a.y),d=new fe(b.i,b.x,b.y),e=a.next,f=b.prev;a.next=b;b.prev=a;c.next=e;e.prev=c;d.next=c;c.prev=d;f.next=d;d.prev=f;return d}function mf(a,b,c,d){a=new fe(a,b,c);d?(a.next=d.next,a.prev=d,d.next.prev=a,d.next=a):(a.prev=a,a.next=a);return a}function Tc(a){a.next.prev=a.prev;a.prev.next=a.next;a.prevZ&&(a.prevZ.nextZ=a.nextZ);a.nextZ&&(a.nextZ.prevZ=a.prevZ)}function fe(a,b,c){this.i=a;this.x=b;this.y=c;this.nextZ=this.prevZ=this.z=this.next=this.prev=null;this.steiner=!1}function pf(a){var b=a.length;2<b&&a[b-1].equals(a[0])&&a.pop()}function qf(a,b){for(var c=0;c<b.length;c++){a.push(b[c].x),a.push(b[c].y)}}function ub(a,b){Q.call(this);this.type="ExtrudeGeometry";this.parameters={shapes:a,options:b};this.fromBufferGeometry(new Sa(a,b));this.mergeVertices()}function Sa(a,b){function c(a){function c(a,b,c){b||console.error("THREE.ExtrudeGeometry: vec does not exist");return b.clone().multiplyScalar(c).add(a)}function g(a,b,c){var d=a.x-b.x,e=a.y-b.y,f=c.x-a.x,g=c.y-a.y,h=d*d+e*e;if(_Mathabs(d*g-e*f)>_NumberEPSILON){var k=_Mathsqrt(h),m=_Mathsqrt(f*f+g*g);h=b.x-e/k;b=b.y+d/k;g=((c.x-g/m-h)*g-(c.y+f/m-b)*f)/(d*g-e*f);f=h+d*g-a.x;d=b+e*g-a.y;e=f*f+d*d;if(2>=e)return new z(f,d);e=_Mathsqrt(e/2)}else a=!1,d>_NumberEPSILON?f>_NumberEPSILON&&(a=!0):d<-_NumberEPSILON?f<-_NumberEPSILON&&(a=!0):_Mathsign(e)===_Mathsign(g)&&(a=!0),a?(f=-e,e=_Mathsqrt(h)):(f=d,d=e,e=_Mathsqrt(h/2));return new z(f/e,d/e)}function h(a,b){for(M=a.length;0<=--M;){var c=M,f=M-1;0>f&&(f=a.length-1);var g,h=u+2*B;for(g=0;g<h;g++){var k=X*g,m=X*(g+1),q=b+f+k,p=b+f+m;m=b+c+m;t(b+c+k);t(q);t(m);t(q);t(p);t(m);k=e.length/3;k=D.generateSideWallUV(d,e,k-6,k-3,k-2,k-1);v(k[0]);v(k[1]);v(k[3]);v(k[1]);v(k[2]);v(k[3])}}}function k(a,b,c){w.push(a);w.push(b);w.push(c)}function l(a,b,c){t(a);t(b);t(c);a=e.length/3;a=D.generateTopUV(d,e,a-3,a-2,a-1);v(a[0]);v(a[1]);v(a[2])}function t(a){e.push(w[3*a]);e.push(w[3*a+1]);e.push(w[3*a+2])}function v(a){f.push(a.x);f.push(a.y)}var w=[],y=void 0!==b.curveSegments?b.curveSegments:12,u=void 0!==b.steps?b.steps:1,K=void 0!==b.depth?b.depth:100,G=void 0!==b.bevelEnabled?b.bevelEnabled:!0,N=void 0!==b.bevelThickness?b.bevelThickness:6,W=void 0!==b.bevelSize?b.bevelSize:N-2,B=void 0!==b.bevelSegments?b.bevelSegments:3,A=b.extrudePath,D=void 0!==b.UVGenerator?b.UVGenerator:Yg;void 0!==b.amount&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),K=b.amount);var C=!1;if(A){var Y=A.getSpacedPoints(u);C=!0;G=!1;var F=A.computeFrenetFrames(u,!1),I=new n,J=new n,Q=new n}G||(W=N=B=0);var O;y=a.extractPoints(y);a=y.shape;var L=y.holes;if(!Ya.isClockWise(a)){a=a.reverse();var E=0;for(O=L.length;E<O;E++){var H=L[E];Ya.isClockWise(H)&&(L[E]=H.reverse())}}var R=Ya.triangulateShape(a,L),T=a;E=0;for(O=L.length;E<O;E++){H=L[E],a=a.concat(H)}var S,X=a.length,V,ca=R.length;y=[];var M=0,U=T.length,fa=U-1;for(S=M+1;M<U;M++,fa++,S++){fa===U&&(fa=0),S===U&&(S=0),y[M]=g(T[M],T[fa],T[S])}A=[];var ea=y.concat();E=0;for(O=L.length;E<O;E++){H=L[E];var ba=[];M=0;U=H.length;fa=U-1;for(S=M+1;M<U;M++,fa++,S++){fa===U&&(fa=0),S===U&&(S=0),ba[M]=g(H[M],H[fa],H[S])}A.push(ba);ea=ea.concat(ba)}for(fa=0;fa<B;fa++){U=fa/B;var da=N*_Mathcos(U*_MathPI/2);S=W*_Mathsin(U*_MathPI/2);M=0;for(U=T.length;M<U;M++){var Z=c(T[M],y[M],S);k(Z.x,Z.y,-da)}E=0;for(O=L.length;E<O;E++){for(H=L[E],ba=A[E],M=0,U=H.length;M<U;M++){Z=c(H[M],ba[M],S),k(Z.x,Z.y,-da)}}}S=W;for(M=0;M<X;M++){Z=G?c(a[M],ea[M],S):a[M],C?(J.copy(F.normals[0]).multiplyScalar(Z.x),I.copy(F.binormals[0]).multiplyScalar(Z.y),Q.copy(Y[0]).add(J).add(I),k(Q.x,Q.y,Q.z)):k(Z.x,Z.y,0)}for(U=1;U<=u;U++){for(M=0;M<X;M++){Z=G?c(a[M],ea[M],S):a[M],C?(J.copy(F.normals[U]).multiplyScalar(Z.x),I.copy(F.binormals[U]).multiplyScalar(Z.y),Q.copy(Y[U]).add(J).add(I),k(Q.x,Q.y,Q.z)):k(Z.x,Z.y,K/u*U)}}for(fa=B-1;0<=fa;fa--){U=fa/B;da=N*_Mathcos(U*_MathPI/2);S=W*_Mathsin(U*_MathPI/2);M=0;for(U=T.length;M<U;M++){Z=c(T[M],y[M],S),k(Z.x,Z.y,K+da)}E=0;for(O=L.length;E<O;E++){for(H=L[E],ba=A[E],M=0,U=H.length;M<U;M++){Z=c(H[M],ba[M],S),C?k(Z.x,Z.y+Y[u-1].y,Y[u-1].x+da):k(Z.x,Z.y,K+da)}}}(function(){var a=e.length/3;if(G){var b=0*X;for(M=0;M<ca;M++){V=R[M],l(V[2]+b,V[1]+b,V[0]+b)}b=X*(u+2*B);for(M=0;M<ca;M++){V=R[M],l(V[0]+b,V[1]+b,V[2]+b)}}else{for(M=0;M<ca;M++){V=R[M],l(V[2],V[1],V[0])}for(M=0;M<ca;M++){V=R[M],l(V[0]+X*u,V[1]+X*u,V[2]+X*u)}}d.addGroup(a,e.length/3-a,0)})();(function(){var a=e.length/3,b=0;h(T,b);b+=T.length;E=0;for(O=L.length;E<O;E++){H=L[E],h(H,b),b+=H.length}d.addGroup(a,e.length/3-a,1)})()}C.call(this);this.type="ExtrudeBufferGeometry";this.parameters={shapes:a,options:b};a=Array.isArray(a)?a:[a];for(var d=this,e=[],f=[],g=0,h=a.length;g<h;g++){c(a[g])}this.addAttribute("position",new A(e,3));this.addAttribute("uv",new A(f,2));this.computeVertexNormals()}function rf(a,b,c){c.shapes=[];if(Array.isArray(a))for(var d=0,e=a.length;d<e;d++){c.shapes.push(a[d].uuid)}else c.shapes.push(a.uuid);void 0!==b.extrudePath&&(c.options.extrudePath=b.extrudePath.toJSON());return c}function Xc(a,b){Q.call(this);this.type="TextGeometry";this.parameters={text:a,parameters:b};this.fromBufferGeometry(new cc(a,b));this.mergeVertices()}function cc(a,b){b=b||{};var c=b.font;if(!c||!c.isFont)return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new Q;a=c.generateShapes(a,b.size);b.depth=void 0!==b.height?b.height:50;void 0===b.bevelThickness&&(b.bevelThickness=10);void 0===b.bevelSize&&(b.bevelSize=8);void 0===b.bevelEnabled&&(b.bevelEnabled=!1);Sa.call(this,a,b);this.type="TextBufferGeometry"}function Yc(a,b,c,d,e,f,g){Q.call(this);this.type="SphereGeometry";this.parameters={radius:a,widthSegments:b,heightSegments:c,phiStart:d,phiLength:e,thetaStart:f,thetaLength:g};this.fromBufferGeometry(new vb(a,b,c,d,e,f,g));this.mergeVertices()}function vb(a,b,c,d,e,f,g){C.call(this);this.type="SphereBufferGeometry";this.parameters={radius:a,widthSegments:b,heightSegments:c,phiStart:d,phiLength:e,thetaStart:f,thetaLength:g};a=a||1;b=_Mathmax(3,_Mathfloor(b)||8);c=_Mathmax(2,_Mathfloor(c)||6);d=void 0!==d?d:0;e=void 0!==e?e:2*_MathPI;f=void 0!==f?f:0;g=void 0!==g?g:_MathPI;var h=f+g,k,m,q=0,p=[],l=new n,x=new n,t=[],v=[],w=[],y=[];for(m=0;m<=c;m++){var u=[],K=m/c;for(k=0;k<=b;k++){var G=k/b;l.x=-a*_Mathcos(d+G*e)*_Mathsin(f+K*g);l.y=a*_Mathcos(f+K*g);l.z=a*_Mathsin(d+G*e)*_Mathsin(f+K*g);v.push(l.x,l.y,l.z);x.set(l.x,l.y,l.z).normalize();w.push(x.x,x.y,x.z);y.push(G,1-K);u.push(q++)}p.push(u)}for(m=0;m<c;m++){for(k=0;k<b;k++){a=p[m][k+1],d=p[m][k],e=p[m+1][k],g=p[m+1][k+1],(0!==m||0<f)&&t.push(a,d,g),(m!==c-1||h<_MathPI)&&t.push(d,e,g)}}this.setIndex(t);this.addAttribute("position",new A(v,3));this.addAttribute("normal",new A(w,3));this.addAttribute("uv",new A(y,2))}function Zc(a,b,c,d,e,f){Q.call(this);this.type="RingGeometry";this.parameters={innerRadius:a,outerRadius:b,thetaSegments:c,phiSegments:d,thetaStart:e,thetaLength:f};this.fromBufferGeometry(new dc(a,b,c,d,e,f));this.mergeVertices()}function dc(a,b,c,d,e,f){C.call(this);this.type="RingBufferGeometry";this.parameters={innerRadius:a,outerRadius:b,thetaSegments:c,phiSegments:d,thetaStart:e,thetaLength:f};a=a||.5;b=b||1;e=void 0!==e?e:0;f=void 0!==f?f:2*_MathPI;c=void 0!==c?_Mathmax(3,c):8;d=void 0!==d?_Mathmax(1,d):1;var g=[],h=[],k=[],m=[],q=a,p=(b-a)/d,l=new n,x=new z,t,v;for(t=0;t<=d;t++){for(v=0;v<=c;v++){a=e+v/c*f,l.x=q*_Mathcos(a),l.y=q*_Mathsin(a),h.push(l.x,l.y,l.z),k.push(0,0,1),x.x=(l.x/b+1)/2,x.y=(l.y/b+1)/2,m.push(x.x,x.y)}q+=p}for(t=0;t<d;t++){for(b=t*(c+1),v=0;v<c;v++){a=v+b,e=a+c+1,f=a+c+2,q=a+1,g.push(a,e,q),g.push(e,f,q)}}this.setIndex(g);this.addAttribute("position",new A(h,3));this.addAttribute("normal",new A(k,3));this.addAttribute("uv",new A(m,2))}function $c(a,b,c,d){Q.call(this);this.type="LatheGeometry";this.parameters={points:a,segments:b,phiStart:c,phiLength:d};this.fromBufferGeometry(new ec(a,b,c,d));this.mergeVertices()}function ec(a,b,c,d){C.call(this);this.type="LatheBufferGeometry";this.parameters={points:a,segments:b,phiStart:c,phiLength:d};b=_Mathfloor(b)||12;c=c||0;d=d||2*_MathPI;d=R.clamp(d,0,2*_MathPI);var e=[],f=[],g=[],h=1/b,k=new n,m=new z,q;for(q=0;q<=b;q++){var p=c+q*h*d,l=_Mathsin(p),x=_Mathcos(p);for(p=0;p<=a.length-1;p++){k.x=a[p].x*l,k.y=a[p].y,k.z=a[p].x*x,f.push(k.x,k.y,k.z),m.x=q/b,m.y=p/(a.length-1),g.push(m.x,m.y)}}for(q=0;q<b;q++){for(p=0;p<a.length-1;p++){c=p+q*a.length,h=c+a.length,k=c+a.length+1,m=c+1,e.push(c,h,m),e.push(h,k,m)}}this.setIndex(e);this.addAttribute("position",new A(f,3));this.addAttribute("uv",new A(g,2));this.computeVertexNormals();if(d===2*_MathPI)for(d=this.attributes.normal.array,e=new n,f=new n,g=new n,c=3*(b*a.length),p=q=0;q<a.length;q++,p+=3){e.x=d[p+0],e.y=d[p+1],e.z=d[p+2],f.x=d[c+p+0],f.y=d[c+p+1],f.z=d[c+p+2],g.addVectors(e,f).normalize(),d[p+0]=d[c+p+0]=g.x,d[p+1]=d[c+p+1]=g.y,d[p+2]=d[c+p+2]=g.z}}function wb(a,b){Q.call(this);this.type="ShapeGeometry";"object"===babelHelpers.typeof(b)&&(console.warn("THREE.ShapeGeometry: Options parameter has been removed."),b=b.curveSegments);this.parameters={shapes:a,curveSegments:b};this.fromBufferGeometry(new xb(a,b));this.mergeVertices()}function xb(a,b){function c(a){var c,h=e.length/3;a=a.extractPoints(b);var m=a.shape,q=a.holes;!1===Ya.isClockWise(m)&&(m=m.reverse());a=0;for(c=q.length;a<c;a++){var l=q[a];!0===Ya.isClockWise(l)&&(q[a]=l.reverse())}var n=Ya.triangulateShape(m,q);a=0;for(c=q.length;a<c;a++){l=q[a],m=m.concat(l)}a=0;for(c=m.length;a<c;a++){l=m[a],e.push(l.x,l.y,0),f.push(0,0,1),g.push(l.x,l.y)}a=0;for(c=n.length;a<c;a++){m=n[a],d.push(m[0]+h,m[1]+h,m[2]+h),k+=3}}C.call(this);this.type="ShapeBufferGeometry";this.parameters={shapes:a,curveSegments:b};b=b||12;var d=[],e=[],f=[],g=[],h=0,k=0;if(!1===Array.isArray(a))c(a);else for(var m=0;m<a.length;m++){c(a[m]),this.addGroup(h,k,m),h+=k,k=0}this.setIndex(d);this.addAttribute("position",new A(e,3));this.addAttribute("normal",new A(f,3));this.addAttribute("uv",new A(g,2))}function sf(a,b){b.shapes=[];if(Array.isArray(a))for(var c=0,d=a.length;c<d;c++){b.shapes.push(a[c].uuid)}else b.shapes.push(a.uuid);return b}function fc(a,b){C.call(this);this.type="EdgesGeometry";this.parameters={thresholdAngle:b};var c=[];b=_Mathcos(R.DEG2RAD*(void 0!==b?b:1));var d=[0,0],e={},f=["a","b","c"];if(a.isBufferGeometry){var g=new Q;g.fromBufferGeometry(a)}else g=a.clone();g.mergeVertices();g.computeFaceNormals();a=g.vertices;g=g.faces;for(var h=0,k=g.length;h<k;h++){for(var m=g[h],q=0;3>q;q++){var l=m[f[q]],r=m[f[(q+1)%3]];d[0]=_Mathmin(l,r);d[1]=_Mathmax(l,r);l=d[0]+","+d[1];void 0===e[l]?e[l]={index1:d[0],index2:d[1],face1:h,face2:void 0}:e[l].face2=h}}for(l in e){if(d=e[l],void 0===d.face2||g[d.face1].normal.dot(g[d.face2].normal)<=b)f=a[d.index1],c.push(f.x,f.y,f.z),f=a[d.index2],c.push(f.x,f.y,f.z)}this.addAttribute("position",new A(c,3))}function yb(a,b,c,d,e,f,g,h){Q.call(this);this.type="CylinderGeometry";this.parameters={radiusTop:a,radiusBottom:b,height:c,radialSegments:d,heightSegments:e,openEnded:f,thetaStart:g,thetaLength:h};this.fromBufferGeometry(new Za(a,b,c,d,e,f,g,h));this.mergeVertices()}function Za(a,b,c,d,e,f,g,h){function k(c){var e,f=new z,k=new n,p=0,u=!0===c?a:b,v=!0===c?1:-1,A=t;for(e=1;e<=d;e++){l.push(0,w*v,0),r.push(0,v,0),x.push(.5,.5),t++}var C=t;for(e=0;e<=d;e++){var D=e/d*h+g,E=_Mathcos(D);D=_Mathsin(D);k.x=u*D;k.y=w*v;k.z=u*E;l.push(k.x,k.y,k.z);r.push(0,v,0);f.x=.5*E+.5;f.y=.5*D*v+.5;x.push(f.x,f.y);t++}for(e=0;e<d;e++){f=A+e,k=C+e,!0===c?q.push(k,k+1,f):q.push(k+1,k,f),p+=3}m.addGroup(y,p,!0===c?1:2);y+=p}C.call(this);this.type="CylinderBufferGeometry";this.parameters={radiusTop:a,radiusBottom:b,height:c,radialSegments:d,heightSegments:e,openEnded:f,thetaStart:g,thetaLength:h};var m=this;a=void 0!==a?a:1;b=void 0!==b?b:1;c=c||1;d=_Mathfloor(d)||8;e=_Mathfloor(e)||1;f=void 0!==f?f:!1;g=void 0!==g?g:0;h=void 0!==h?h:2*_MathPI;var q=[],l=[],r=[],x=[],t=0,v=[],w=c/2,y=0;(function(){var f,k,p=new n,N=new n,z=0,B=(b-a)/c;for(k=0;k<=e;k++){var A=[],D=k/e,C=D*(b-a)+a;for(f=0;f<=d;f++){var E=f/d,F=E*h+g,I=_Mathsin(F);F=_Mathcos(F);N.x=C*I;N.y=-D*c+w;N.z=C*F;l.push(N.x,N.y,N.z);p.set(I,B,F).normalize();r.push(p.x,p.y,p.z);x.push(E,1-D);A.push(t++)}v.push(A)}for(f=0;f<d;f++){for(k=0;k<e;k++){p=v[k+1][f],N=v[k+1][f+1],B=v[k][f+1],q.push(v[k][f],p,B),q.push(p,N,B),z+=6}}m.addGroup(y,z,0);y+=z})();!1===f&&(0<a&&k(!0),0<b&&k(!1));this.setIndex(q);this.addAttribute("position",new A(l,3));this.addAttribute("normal",new A(r,3));this.addAttribute("uv",new A(x,2))}function ad(a,b,c,d,e,f,g){yb.call(this,0,a,b,c,d,e,f,g);this.type="ConeGeometry";this.parameters={radius:a,height:b,radialSegments:c,heightSegments:d,openEnded:e,thetaStart:f,thetaLength:g}}function bd(a,b,c,d,e,f,g){Za.call(this,0,a,b,c,d,e,f,g);this.type="ConeBufferGeometry";this.parameters={radius:a,height:b,radialSegments:c,heightSegments:d,openEnded:e,thetaStart:f,thetaLength:g}}function cd(a,b,c,d){Q.call(this);this.type="CircleGeometry";this.parameters={radius:a,segments:b,thetaStart:c,thetaLength:d};this.fromBufferGeometry(new gc(a,b,c,d));this.mergeVertices()}function gc(a,b,c,d){C.call(this);this.type="CircleBufferGeometry";this.parameters={radius:a,segments:b,thetaStart:c,thetaLength:d};a=a||1;b=void 0!==b?_Mathmax(3,b):8;c=void 0!==c?c:0;d=void 0!==d?d:2*_MathPI;var e=[],f=[],g=[],h=[],k,m=new n,q=new z;f.push(0,0,0);g.push(0,0,1);h.push(.5,.5);var l=0;for(k=3;l<=b;l++,k+=3){var r=c+l/b*d;m.x=a*_Mathcos(r);m.y=a*_Mathsin(r);f.push(m.x,m.y,m.z);g.push(0,0,1);q.x=(f[k]/a+1)/2;q.y=(f[k+1]/a+1)/2;h.push(q.x,q.y)}for(k=1;k<=b;k++){e.push(k,k+1,0)}this.setIndex(e);this.addAttribute("position",new A(f,3));this.addAttribute("normal",new A(g,3));this.addAttribute("uv",new A(h,2))}function zb(a){L.call(this);this.type="ShadowMaterial";this.color=new I(0);this.transparent=!0;this.setValues(a)}function hc(a){Ba.call(this,a);this.type="RawShaderMaterial"}function Ta(a){L.call(this);this.defines={STANDARD:""};this.type="MeshStandardMaterial";this.color=new I(16777215);this.metalness=this.roughness=.5;this.lightMap=this.map=null;this.lightMapIntensity=1;this.aoMap=null;this.aoMapIntensity=1;this.emissive=new I(0);this.emissiveIntensity=1;this.bumpMap=this.emissiveMap=null;this.bumpScale=1;this.normalMap=null;this.normalMapType=0;this.normalScale=new z(1,1);this.displacementMap=null;this.displacementScale=1;this.displacementBias=0;this.envMap=this.alphaMap=this.metalnessMap=this.roughnessMap=null;this.envMapIntensity=1;this.refractionRatio=.98;this.wireframe=!1;this.wireframeLinewidth=1;this.wireframeLinejoin=this.wireframeLinecap="round";this.morphNormals=this.morphTargets=this.skinning=!1;this.setValues(a)}function Ab(a){Ta.call(this);this.defines={PHYSICAL:""};this.type="MeshPhysicalMaterial";this.reflectivity=.5;this.clearCoatRoughness=this.clearCoat=0;this.setValues(a)}function Ga(a){L.call(this);this.type="MeshPhongMaterial";this.color=new I(16777215);this.specular=new I(1118481);this.shininess=30;this.lightMap=this.map=null;this.lightMapIntensity=1;this.aoMap=null;this.aoMapIntensity=1;this.emissive=new I(0);this.emissiveIntensity=1;this.bumpMap=this.emissiveMap=null;this.bumpScale=1;this.normalMap=null;this.normalMapType=0;this.normalScale=new z(1,1);this.displacementMap=null;this.displacementScale=1;this.displacementBias=0;this.envMap=this.alphaMap=this.specularMap=null;this.combine=0;this.reflectivity=1;this.refractionRatio=.98;this.wireframe=!1;this.wireframeLinewidth=1;this.wireframeLinejoin=this.wireframeLinecap="round";this.morphNormals=this.morphTargets=this.skinning=!1;this.setValues(a)}function Bb(a){Ga.call(this);this.defines={TOON:""};this.type="MeshToonMaterial";this.gradientMap=null;this.setValues(a)}function Cb(a){L.call(this);this.type="MeshNormalMaterial";this.bumpMap=null;this.bumpScale=1;this.normalMap=null;this.normalMapType=0;this.normalScale=new z(1,1);this.displacementMap=null;this.displacementScale=1;this.displacementBias=0;this.wireframe=!1;this.wireframeLinewidth=1;this.morphNormals=this.morphTargets=this.skinning=this.lights=this.fog=!1;this.setValues(a)}function Db(a){L.call(this);this.type="MeshLambertMaterial";this.color=new I(16777215);this.lightMap=this.map=null;this.lightMapIntensity=1;this.aoMap=null;this.aoMapIntensity=1;this.emissive=new I(0);this.emissiveIntensity=1;this.envMap=this.alphaMap=this.specularMap=this.emissiveMap=null;this.combine=0;this.reflectivity=1;this.refractionRatio=.98;this.wireframe=!1;this.wireframeLinewidth=1;this.wireframeLinejoin=this.wireframeLinecap="round";this.morphNormals=this.morphTargets=this.skinning=!1;this.setValues(a)}function Eb(a){L.call(this);this.defines={MATCAP:""};this.type="MeshMatcapMaterial";this.color=new I(16777215);this.bumpMap=this.map=this.matcap=null;this.bumpScale=1;this.normalMap=null;this.normalMapType=0;this.normalScale=new z(1,1);this.displacementMap=null;this.displacementScale=1;this.displacementBias=0;this.alphaMap=null;this.lights=this.morphNormals=this.morphTargets=this.skinning=!1;this.setValues(a)}function Fb(a){T.call(this);this.type="LineDashedMaterial";this.scale=1;this.dashSize=3;this.gapSize=1;this.setValues(a)}function va(a,b,c,d){this.parameterPositions=a;this._cachedIndex=0;this.resultBuffer=void 0!==d?d:new b.constructor(c);this.sampleValues=b;this.valueSize=c}function Bd(a,b,c,d){va.call(this,a,b,c,d);this._offsetNext=this._weightNext=this._offsetPrev=this._weightPrev=-0}function dd(a,b,c,d){va.call(this,a,b,c,d)}function Cd(a,b,c,d){va.call(this,a,b,c,d)}function qa(a,b,c,d){if(void 0===a)throw Error("THREE.KeyframeTrack: track name is undefined");if(void 0===b||0===b.length)throw Error("THREE.KeyframeTrack: no keyframes in track named "+a);this.name=a;this.times=ra.convertArray(b,this.TimeBufferType);this.values=ra.convertArray(c,this.ValueBufferType);this.setInterpolation(d||this.DefaultInterpolation)}function Dd(a,b,c){qa.call(this,a,b,c)}function Ed(a,b,c,d){qa.call(this,a,b,c,d)}function ic(a,b,c,d){qa.call(this,a,b,c,d)}function Fd(a,b,c,d){va.call(this,a,b,c,d)}function ed(a,b,c,d){qa.call(this,a,b,c,d)}function Gd(a,b,c,d){qa.call(this,a,b,c,d)}function jc(a,b,c,d){qa.call(this,a,b,c,d)}function Ha(a,b,c){this.name=a;this.tracks=c;this.duration=void 0!==b?b:-1;this.uuid=R.generateUUID();0>this.duration&&this.resetDuration()}function Zg(a){switch(a.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return ic;case"vector":case"vector2":case"vector3":case"vector4":return jc;case"color":return Ed;case"quaternion":return ed;case"bool":case"boolean":return Dd;case"string":return Gd;}throw Error("THREE.KeyframeTrack: Unsupported typeName: "+a)}function $g(a){if(void 0===a.type)throw Error("THREE.KeyframeTrack: track type undefined, can not parse");var b=Zg(a.type);if(void 0===a.times){var c=[],d=[];ra.flattenJSON(a.keys,c,d,"value");a.times=c;a.values=d}return void 0!==b.parse?b.parse(a):new b(a.name,a.times,a.values,a.interpolation)}function ge(a,b,c){var d=this,e=!1,f=0,g=0,h;this.onStart=void 0;this.onLoad=a;this.onProgress=b;this.onError=c;this.itemStart=function(a){g++;if(!1===e&&void 0!==d.onStart)d.onStart(a,f,g);e=!0};this.itemEnd=function(a){f++;if(void 0!==d.onProgress)d.onProgress(a,f,g);if(f===g&&(e=!1,void 0!==d.onLoad))d.onLoad()};this.itemError=function(a){if(void 0!==d.onError)d.onError(a)};this.resolveURL=function(a){return h?h(a):a};this.setURLModifier=function(a){h=a;return this}}function Ia(a){this.manager=void 0!==a?a:za}function tf(a){this.manager=void 0!==a?a:za}function uf(a){this.manager=void 0!==a?a:za;this._parser=null}function he(a){this.manager=void 0!==a?a:za;this._parser=null}function fd(a){this.manager=void 0!==a?a:za}function ie(a){this.manager=void 0!==a?a:za}function Hd(a){this.manager=void 0!==a?a:za}function J(){this.type="Curve";this.arcLengthDivisions=200}function Da(a,b,c,d,e,f,g,h){J.call(this);this.type="EllipseCurve";this.aX=a||0;this.aY=b||0;this.xRadius=c||1;this.yRadius=d||1;this.aStartAngle=e||0;this.aEndAngle=f||2*_MathPI;this.aClockwise=g||!1;this.aRotation=h||0}function kc(a,b,c,d,e,f){Da.call(this,a,b,c,c,d,e,f);this.type="ArcCurve"}function je(){var a=0,b=0,c=0,d=0;return{initCatmullRom:function initCatmullRom(e,f,g,h,k){e=k*(g-e);h=k*(h-f);a=f;b=e;c=-3*f+3*g-2*e-h;d=2*f-2*g+e+h},initNonuniformCatmullRom:function initNonuniformCatmullRom(e,f,g,h,k,m,q){e=((f-e)/k-(g-e)/(k+m)+(g-f)/m)*m;h=((g-f)/m-(h-f)/(m+q)+(h-g)/q)*m;a=f;b=e;c=-3*f+3*g-2*e-h;d=2*f-2*g+e+h},calc:function calc(e){var f=e*e;return a+b*e+c*f+d*f*e}}}function ua(a,b,c,d){J.call(this);this.type="CatmullRomCurve3";this.points=a||[];this.closed=b||!1;this.curveType=c||"centripetal";this.tension=d||.5}function vf(a,b,c,d,e){b=.5*(d-b);e=.5*(e-c);var f=a*a;return(2*c-2*d+b+e)*a*f+(-3*c+3*d-2*b-e)*f+b*a+c}function gd(a,b,c,d){var e=1-a;return e*e*b+2*(1-a)*a*c+a*a*d}function hd(a,b,c,d,e){var f=1-a,g=1-a;return f*f*f*b+3*g*g*a*c+3*(1-a)*a*a*d+a*a*a*e}function Ja(a,b,c,d){J.call(this);this.type="CubicBezierCurve";this.v0=a||new z;this.v1=b||new z;this.v2=c||new z;this.v3=d||new z}function Ua(a,b,c,d){J.call(this);this.type="CubicBezierCurve3";this.v0=a||new n;this.v1=b||new n;this.v2=c||new n;this.v3=d||new n}function Aa(a,b){J.call(this);this.type="LineCurve";this.v1=a||new z;this.v2=b||new z}function Ka(a,b){J.call(this);this.type="LineCurve3";this.v1=a||new n;this.v2=b||new n}function La(a,b,c){J.call(this);this.type="QuadraticBezierCurve";this.v0=a||new z;this.v1=b||new z;this.v2=c||new z}function Va(a,b,c){J.call(this);this.type="QuadraticBezierCurve3";this.v0=a||new n;this.v1=b||new n;this.v2=c||new n}function Ma(a){J.call(this);this.type="SplineCurve";this.points=a||[]}function $a(){J.call(this);this.type="CurvePath";this.curves=[];this.autoClose=!1}function Na(a){$a.call(this);this.type="Path";this.currentPoint=new z;a&&this.setFromPoints(a)}function hb(a){Na.call(this,a);this.uuid=R.generateUUID();this.type="Shape";this.holes=[]}function ba(a,b){D.call(this);this.type="Light";this.color=new I(a);this.intensity=void 0!==b?b:1;this.receiveShadow=void 0}function Id(a,b,c){ba.call(this,a,c);this.type="HemisphereLight";this.castShadow=void 0;this.position.copy(D.DefaultUp);this.updateMatrix();this.groundColor=new I(b)}function Gb(a){this.camera=a;this.bias=0;this.radius=1;this.mapSize=new z(512,512);this.map=null;this.matrix=new O}function Jd(){Gb.call(this,new V(50,1,.5,500))}function Kd(a,b,c,d,e,f){ba.call(this,a,b);this.type="SpotLight";this.position.copy(D.DefaultUp);this.updateMatrix();this.target=new D;Object.defineProperty(this,"power",{get:function get(){return this.intensity*_MathPI},set:function set(a){this.intensity=a/_MathPI}});this.distance=void 0!==c?c:0;this.angle=void 0!==d?d:_MathPI/3;this.penumbra=void 0!==e?e:0;this.decay=void 0!==f?f:1;this.shadow=new Jd}function Ld(a,b,c,d){ba.call(this,a,b);this.type="PointLight";Object.defineProperty(this,"power",{get:function get(){return 4*this.intensity*_MathPI},set:function set(a){this.intensity=a/(4*_MathPI)}});this.distance=void 0!==c?c:0;this.decay=void 0!==d?d:1;this.shadow=new Gb(new V(90,1,.5,500))}function id(a,b,c,d,e,f){Ra.call(this);this.type="OrthographicCamera";this.zoom=1;this.view=null;this.left=void 0!==a?a:-1;this.right=void 0!==b?b:1;this.top=void 0!==c?c:1;this.bottom=void 0!==d?d:-1;this.near=void 0!==e?e:.1;this.far=void 0!==f?f:2E3;this.updateProjectionMatrix()}function Md(){Gb.call(this,new id(-5,5,5,-5,.5,500))}function Nd(a,b){ba.call(this,a,b);this.type="DirectionalLight";this.position.copy(D.DefaultUp);this.updateMatrix();this.target=new D;this.shadow=new Md}function Od(a,b){ba.call(this,a,b);this.type="AmbientLight";this.castShadow=void 0}function Pd(a,b,c,d){ba.call(this,a,b);this.type="RectAreaLight";this.width=void 0!==c?c:10;this.height=void 0!==d?d:10}function Qd(a){this.manager=void 0!==a?a:za;this.textures={}}function ke(a){this.manager=void 0!==a?a:za}function le(a){this.manager=void 0!==a?a:za;this.resourcePath=""}function me(a){"undefined"===typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported.");"undefined"===typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported.");this.manager=void 0!==a?a:za;this.options=void 0}function ne(){this.type="ShapePath";this.color=new I;this.subPaths=[];this.currentPath=null}function oe(a){this.type="Font";this.data=a}function wf(a){this.manager=void 0!==a?a:za}function jd(){}function pe(a){this.manager=void 0!==a?a:za}function xf(){this.type="StereoCamera";this.aspect=1;this.eyeSep=.064;this.cameraL=new V;this.cameraL.layers.enable(1);this.cameraL.matrixAutoUpdate=!1;this.cameraR=new V;this.cameraR.layers.enable(2);this.cameraR.matrixAutoUpdate=!1}function kd(a,b,c,d){D.call(this);this.type="CubeCamera";var e=new V(90,1,a,b);e.up.set(0,-1,0);e.lookAt(new n(1,0,0));this.add(e);var f=new V(90,1,a,b);f.up.set(0,-1,0);f.lookAt(new n(-1,0,0));this.add(f);var g=new V(90,1,a,b);g.up.set(0,0,1);g.lookAt(new n(0,1,0));this.add(g);var h=new V(90,1,a,b);h.up.set(0,0,-1);h.lookAt(new n(0,-1,0));this.add(h);var k=new V(90,1,a,b);k.up.set(0,-1,0);k.lookAt(new n(0,0,1));this.add(k);var m=new V(90,1,a,b);m.up.set(0,-1,0);m.lookAt(new n(0,0,-1));this.add(m);d=d||{format:1022,magFilter:1006,minFilter:1006};this.renderTarget=new Ib(c,c,d);this.renderTarget.texture.name="CubeCamera";this.update=function(a,b){null===this.parent&&this.updateMatrixWorld();var c=this.renderTarget,d=c.texture.generateMipmaps;c.texture.generateMipmaps=!1;c.activeCubeFace=0;a.render(b,e,c);c.activeCubeFace=1;a.render(b,f,c);c.activeCubeFace=2;a.render(b,g,c);c.activeCubeFace=3;a.render(b,h,c);c.activeCubeFace=4;a.render(b,k,c);c.texture.generateMipmaps=d;c.activeCubeFace=5;a.render(b,m,c);a.setRenderTarget(null)};this.clear=function(a,b,c,d){for(var e=this.renderTarget,f=0;6>f;f++){e.activeCubeFace=f,a.setRenderTarget(e),a.clear(b,c,d)}a.setRenderTarget(null)}}function qe(a){this.autoStart=void 0!==a?a:!0;this.elapsedTime=this.oldTime=this.startTime=0;this.running=!1}function re(){D.call(this);this.type="AudioListener";this.context=se.getContext();this.gain=this.context.createGain();this.gain.connect(this.context.destination);this.filter=null;this.timeDelta=0}function lc(a){D.call(this);this.type="Audio";this.listener=a;this.context=a.context;this.gain=this.context.createGain();this.gain.connect(a.getInput());this.autoplay=!1;this.buffer=null;this.detune=0;this.loop=!1;this.offset=this.startTime=0;this.playbackRate=1;this.isPlaying=!1;this.hasPlaybackControl=!0;this.sourceType="empty";this.filters=[]}function te(a){lc.call(this,a);this.panner=this.context.createPanner();this.panner.connect(this.gain)}function ue(a,b){this.analyser=a.context.createAnalyser();this.analyser.fftSize=void 0!==b?b:2048;this.data=new Uint8Array(this.analyser.frequencyBinCount);a.getOutput().connect(this.analyser)}function ve(a,b,c){this.binding=a;this.valueSize=c;a=Float64Array;switch(b){case"quaternion":b=this._slerp;break;case"string":case"bool":a=Array;b=this._select;break;default:b=this._lerp;}this.buffer=new a(4*c);this._mixBufferRegion=b;this.referenceCount=this.useCount=this.cumulativeWeight=0}function yf(a,b,c){c=c||oa.parseTrackName(b);this._targetGroup=a;this._bindings=a.subscribe_(b,c)}function oa(a,b,c){this.path=b;this.parsedPath=c||oa.parseTrackName(b);this.node=oa.findNode(a,this.parsedPath.nodeName)||a;this.rootNode=a}function zf(){this.uuid=R.generateUUID();this._objects=Array.prototype.slice.call(arguments);this.nCachedObjects_=0;var a={};this._indicesByUUID=a;for(var b=0,c=arguments.length;b!==c;++b){a[arguments[b].uuid]=b}this._paths=[];this._parsedPaths=[];this._bindings=[];this._bindingsIndicesByPath={};var d=this;this.stats={objects:{get total(){return d._objects.length},get inUse(){return this.total-d.nCachedObjects_}},get bindingsPerObject(){return d._bindings.length}}}function Af(a,b,c){this._mixer=a;this._clip=b;this._localRoot=c||null;a=b.tracks;b=a.length;c=Array(b);for(var d={endingStart:2400,endingEnd:2400},e=0,f;e!==b;++e){f=a[e].createInterpolant(null);c[e]=f;f.settings=d}this._interpolantSettings=d;this._interpolants=c;this._propertyBindings=Array(b);this._weightInterpolant=this._timeScaleInterpolant=this._byClipCacheIndex=this._cacheIndex=null;this.loop=2201;this._loopCount=-1;this._startTime=null;this.time=0;this._effectiveWeight=this.weight=this._effectiveTimeScale=this.timeScale=1;this.repetitions=1/0;this.paused=!1;this.enabled=!0;this.clampWhenFinished=!1;this.zeroSlopeAtEnd=this.zeroSlopeAtStart=!0}function we(a){this._root=a;this._initMemoryManager();this.time=this._accuIndex=0;this.timeScale=1}function Rd(a,b){"string"===typeof a&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),a=b);this.value=a}function xe(){C.call(this);this.type="InstancedBufferGeometry";this.maxInstancedCount=void 0}function ye(a,b,c){rb.call(this,a,b);this.meshPerAttribute=c||1}function ze(a,b,c,d){"number"===typeof c&&(d=c,c=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument."));E.call(this,a,b,c);this.meshPerAttribute=d||1}function Bf(a,b,c,d){this.ray=new qb(a,b);this.near=c||0;this.far=d||1/0;this.params={Mesh:{},Line:{},LOD:{},Points:{threshold:1},Sprite:{}};Object.defineProperties(this.params,{PointCloud:{get:function get(){console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points.");return this.Points}}})}function Cf(a,b){return a.distance-b.distance}function Ae(a,b,c,d){if(!1!==a.visible&&(a.raycast(b,c),!0===d)){a=a.children;d=0;for(var e=a.length;d<e;d++){Ae(a[d],b,c,!0)}}}function Df(a,b,c){this.radius=void 0!==a?a:1;this.phi=void 0!==b?b:0;this.theta=void 0!==c?c:0;return this}function Ef(a,b,c){this.radius=void 0!==a?a:1;this.theta=void 0!==b?b:0;this.y=void 0!==c?c:0;return this}function Be(a,b){this.min=void 0!==a?a:new z(1/0,1/0);this.max=void 0!==b?b:new z(-Infinity,-Infinity)}function Ce(a,b){this.start=void 0!==a?a:new n;this.end=void 0!==b?b:new n}function ld(a){D.call(this);this.material=a;this.render=function(){}}function md(a,b,c,d){this.object=a;this.size=void 0!==b?b:1;a=void 0!==c?c:16711680;d=void 0!==d?d:1;b=0;(c=this.object.geometry)&&c.isGeometry?b=3*c.faces.length:c&&c.isBufferGeometry&&(b=c.attributes.normal.count);c=new C;b=new A(6*b,3);c.addAttribute("position",b);S.call(this,c,new T({color:a,linewidth:d}));this.matrixAutoUpdate=!1;this.update()}function mc(a,b){D.call(this);this.light=a;this.light.updateMatrixWorld();this.matrix=a.matrixWorld;this.matrixAutoUpdate=!1;this.color=b;a=new C;b=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(var c=0,d=1;32>c;c++,d++){var e=2*(c/32*_MathPI),f=2*(d/32*_MathPI);b.push(_Mathcos(e),_Mathsin(e),1,_Mathcos(f),_Mathsin(f),1)}a.addAttribute("position",new A(b,3));b=new T({fog:!1});this.cone=new S(a,b);this.add(this.cone);this.update()}function Ff(a){var b=[];a&&a.isBone&&b.push(a);for(var c=0;c<a.children.length;c++){b.push.apply(b,Ff(a.children[c]))}return b}function nc(a){for(var b=Ff(a),c=new C,d=[],e=[],f=new I(0,0,1),g=new I(0,1,0),h=0,k;h<b.length;h++){k=b[h];k.parent&&k.parent.isBone&&(d.push(0,0,0),d.push(0,0,0),e.push(f.r,f.g,f.b),e.push(g.r,g.g,g.b))}c.addAttribute("position",new A(d,3));c.addAttribute("color",new A(e,3));d=new T({vertexColors:2,depthTest:!1,depthWrite:!1,transparent:!0});S.call(this,c,d);this.root=a;this.bones=b;this.matrix=a.matrixWorld;this.matrixAutoUpdate=!1}function oc(a,b,c){this.light=a;this.light.updateMatrixWorld();this.color=c;a=new vb(b,4,2);b=new wa({wireframe:!0,fog:!1});na.call(this,a,b);this.matrix=this.light.matrixWorld;this.matrixAutoUpdate=!1;this.update()}function pc(a,b){this.type="RectAreaLightHelper";this.light=a;this.color=b;a=new C;a.addAttribute("position",new A([1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],3));a.computeBoundingSphere();b=new T({fog:!1});ta.call(this,a,b);a=new C;a.addAttribute("position",new A([1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],3));a.computeBoundingSphere();this.add(new na(a,new wa({side:THREE.BackSide,fog:!1})));this.update()}function qc(a,b,c){D.call(this);this.light=a;this.light.updateMatrixWorld();this.matrix=a.matrixWorld;this.matrixAutoUpdate=!1;this.color=c;a=new sb(b);a.rotateY(.5*_MathPI);this.material=new wa({wireframe:!0,fog:!1});void 0===this.color&&(this.material.vertexColors=2);b=a.getAttribute("position");b=new Float32Array(3*b.count);a.addAttribute("color",new E(b,3));this.add(new na(a,this.material));this.update()}function nd(a,b,c,d){a=a||10;b=b||10;c=new I(void 0!==c?c:4473924);d=new I(void 0!==d?d:8947848);var e=b/2,f=a/b,g=a/2;a=[];for(var h=[],k=0,m=0,q=-g;k<=b;k++,q+=f){a.push(-g,0,q,g,0,q);a.push(q,0,-g,q,0,g);var l=k===e?c:d;l.toArray(h,m);m+=3;l.toArray(h,m);m+=3;l.toArray(h,m);m+=3;l.toArray(h,m);m+=3}b=new C;b.addAttribute("position",new A(a,3));b.addAttribute("color",new A(h,3));c=new T({vertexColors:2});S.call(this,b,c)}function Sd(a,b,c,d,e,f){a=a||10;b=b||16;c=c||8;d=d||64;e=new I(void 0!==e?e:4473924);f=new I(void 0!==f?f:8947848);var g=[],h=[],k;for(k=0;k<=b;k++){var m=2*(k/b)*_MathPI,q=_Mathsin(m)*a;m=_Mathcos(m)*a;g.push(0,0,0);g.push(q,0,m);var l=1&k?e:f;h.push(l.r,l.g,l.b);h.push(l.r,l.g,l.b)}for(k=0;k<=c;k++){l=1&k?e:f;var r=a-a/c*k;for(b=0;b<d;b++){m=2*(b/d)*_MathPI,q=_Mathsin(m)*r,m=_Mathcos(m)*r,g.push(q,0,m),h.push(l.r,l.g,l.b),m=2*((b+1)/d)*_MathPI,q=_Mathsin(m)*r,m=_Mathcos(m)*r,g.push(q,0,m),h.push(l.r,l.g,l.b)}}a=new C;a.addAttribute("position",new A(g,3));a.addAttribute("color",new A(h,3));g=new T({vertexColors:2});S.call(this,a,g)}function od(a,b,c,d){this.object=a;this.size=void 0!==b?b:1;a=void 0!==c?c:16776960;d=void 0!==d?d:1;b=0;(c=this.object.geometry)&&c.isGeometry?b=c.faces.length:console.warn("THREE.FaceNormalsHelper: only THREE.Geometry is supported. Use THREE.VertexNormalsHelper, instead.");c=new C;b=new A(6*b,3);c.addAttribute("position",b);S.call(this,c,new T({color:a,linewidth:d}));this.matrixAutoUpdate=!1;this.update()}function rc(a,b,c){D.call(this);this.light=a;this.light.updateMatrixWorld();this.matrix=a.matrixWorld;this.matrixAutoUpdate=!1;this.color=c;void 0===b&&(b=1);a=new C;a.addAttribute("position",new A([-b,b,0,b,b,0,b,-b,0,-b,-b,0,-b,b,0],3));b=new T({fog:!1});this.lightPlane=new ta(a,b);this.add(this.lightPlane);a=new C;a.addAttribute("position",new A([0,0,0,0,0,1],3));this.targetLine=new ta(a,b);this.add(this.targetLine);this.update()}function pd(a){function b(a,b,d){c(a,d);c(b,d)}function c(a,b){f.push(0,0,0);g.push(b.r,b.g,b.b);void 0===h[a]&&(h[a]=[]);h[a].push(f.length/3-1)}var d=new C,e=new T({color:16777215,vertexColors:1}),f=[],g=[],h={},k=new I(16755200),m=new I(16711680),q=new I(43775),l=new I(16777215),r=new I(3355443);b("n1","n2",k);b("n2","n4",k);b("n4","n3",k);b("n3","n1",k);b("f1","f2",k);b("f2","f4",k);b("f4","f3",k);b("f3","f1",k);b("n1","f1",k);b("n2","f2",k);b("n3","f3",k);b("n4","f4",k);b("p","n1",m);b("p","n2",m);b("p","n3",m);b("p","n4",m);b("u1","u2",q);b("u2","u3",q);b("u3","u1",q);b("c","t",l);b("p","c",r);b("cn1","cn2",r);b("cn3","cn4",r);b("cf1","cf2",r);b("cf3","cf4",r);d.addAttribute("position",new A(f,3));d.addAttribute("color",new A(g,3));S.call(this,d,e);this.camera=a;this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix();this.matrix=a.matrixWorld;this.matrixAutoUpdate=!1;this.pointMap=h;this.update()}function ab(a,b){this.object=a;void 0===b&&(b=16776960);a=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]);var c=new Float32Array(24),d=new C;d.setIndex(new E(a,1));d.addAttribute("position",new E(c,3));S.call(this,d,new T({color:b}));this.matrixAutoUpdate=!1;this.update()}function qd(a,b){this.type="Box3Helper";this.box=a;a=void 0!==b?b:16776960;b=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]);var c=new C;c.setIndex(new E(b,1));c.addAttribute("position",new A([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3));S.call(this,c,new T({color:a}));this.geometry.computeBoundingSphere()}function rd(a,b,c){this.type="PlaneHelper";this.plane=a;this.size=void 0===b?1:b;a=void 0!==c?c:16776960;b=new C;b.addAttribute("position",new A([1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],3));b.computeBoundingSphere();ta.call(this,b,new T({color:a}));b=new C;b.addAttribute("position",new A([1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],3));b.computeBoundingSphere();this.add(new na(b,new wa({color:a,opacity:.2,transparent:!0,depthWrite:!1})))}function bb(a,b,c,d,e,f){D.call(this);void 0===a&&(a=new THREE.Vector3(0,0,1));void 0===b&&(b=new THREE.Vector3(0,0,0));void 0===c&&(c=1);void 0===d&&(d=16776960);void 0===e&&(e=.2*c);void 0===f&&(f=.2*e);void 0===Td&&(Td=new C,Td.addAttribute("position",new A([0,0,0,0,1,0],3)),De=new Za(0,.5,1,5,1),De.translate(0,-.5,0));this.position.copy(b);this.line=new ta(Td,new T({color:d}));this.line.matrixAutoUpdate=!1;this.add(this.line);this.cone=new na(De,new wa({color:d}));this.cone.matrixAutoUpdate=!1;this.add(this.cone);this.setDirection(a);this.setLength(c,e,f)}function sd(a){a=a||1;var b=[0,0,0,a,0,0,0,0,0,0,a,0,0,0,0,0,0,a];a=new C;a.addAttribute("position",new A(b,3));a.addAttribute("color",new A([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3));b=new T({vertexColors:2});S.call(this,a,b)}function Gf(a){console.warn("THREE.ClosedSplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead.");ua.call(this,a);this.type="catmullrom";this.closed=!0}function Hf(a){console.warn("THREE.SplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead.");ua.call(this,a);this.type="catmullrom"}function Ee(a){console.warn("THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead.");ua.call(this,a);this.type="catmullrom"}void 0===_NumberEPSILON&&(_NumberEPSILON=2.220446049250313e-16);void 0===_NumberisInteger&&(_NumberisInteger=function(a){return"number"===typeof a&&isFinite(a)&&_Mathfloor(a)===a});void 0===_Mathsign&&(_Mathsign=function(a){return 0>a?-1:0<a?1:+a});!1==="name"in Function.prototype&&Object.defineProperty(Function.prototype,"name",{get:function get(){return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]}});void 0===Object.assign&&function(){Object.assign=function(a){if(void 0===a||null===a)throw new TypeError("Cannot convert undefined or null to object");for(var b=Object(a),c=1,d;c<arguments.length;c++){d=arguments[c];if(void 0!==d&&null!==d)for(var e in d){Object.prototype.hasOwnProperty.call(d,e)&&(b[e]=d[e])}}return b}}();Object.assign(ja.prototype,{addEventListener:function addEventListener(a,b){void 0===this._listeners&&(this._listeners={});var c=this._listeners;void 0===c[a]&&(c[a]=[]);-1===c[a].indexOf(b)&&c[a].push(b)},hasEventListener:function hasEventListener(a,b){if(void 0===this._listeners)return!1;var c=this._listeners;return void 0!==c[a]&&-1!==c[a].indexOf(b)},removeEventListener:function removeEventListener(a,b){void 0!==this._listeners&&(a=this._listeners[a],void 0!==a&&(b=a.indexOf(b),-1!==b&&a.splice(b,1)))},dispatchEvent:function dispatchEvent(a){if(void 0!==this._listeners){var b=this._listeners[a.type];if(void 0!==b){a.target=this;b=b.slice(0);for(var c=0,d=b.length;c<d;c++){b[c].call(this,a)}}}}});var R={DEG2RAD:_MathPI/180,RAD2DEG:180/_MathPI,generateUUID:function(){for(var a=[],b=0;256>b;b++){a[b]=(16>b?"0":"")+b.toString(16)}return function(){var b=0|4294967295*Math.random(),d=0|4294967295*Math.random(),e=0|4294967295*Math.random(),f=0|4294967295*Math.random();return(a[255&b]+a[255&b>>8]+a[255&b>>16]+a[255&b>>24]+"-"+a[255&d]+a[255&d>>8]+"-"+a[64|15&d>>16]+a[255&d>>24]+"-"+a[128|63&e]+a[255&e>>8]+"-"+a[255&e>>16]+a[255&e>>24]+a[255&f]+a[255&f>>8]+a[255&f>>16]+a[255&f>>24]).toUpperCase()}}(),clamp:function clamp(a,b,c){return _Mathmax(b,_Mathmin(c,a))},euclideanModulo:function euclideanModulo(a,b){return(a%b+b)%b},mapLinear:function mapLinear(a,b,c,d,e){return d+(a-b)*(e-d)/(c-b)},lerp:function lerp(a,b,c){return(1-c)*a+c*b},smoothstep:function smoothstep(a,b,c){if(a<=b)return 0;if(a>=c)return 1;a=(a-b)/(c-b);return a*a*(3-2*a)},smootherstep:function smootherstep(a,b,c){if(a<=b)return 0;if(a>=c)return 1;a=(a-b)/(c-b);return a*a*a*(a*(6*a-15)+10)},randInt:function randInt(a,b){return a+_Mathfloor(Math.random()*(b-a+1))},randFloat:function randFloat(a,b){return a+Math.random()*(b-a)},randFloatSpread:function randFloatSpread(a){return a*(.5-Math.random())},degToRad:function degToRad(a){return a*R.DEG2RAD},radToDeg:function radToDeg(a){return a*R.RAD2DEG},isPowerOfTwo:function isPowerOfTwo(a){return 0===(a&a-1)&&0!==a},ceilPowerOfTwo:function ceilPowerOfTwo(a){return _Mathpow(2,_Mathceil(_Mathlog(a)/_MathLN))},floorPowerOfTwo:function floorPowerOfTwo(a){return _Mathpow(2,_Mathfloor(_Mathlog(a)/_MathLN))}};Object.defineProperties(z.prototype,{width:{get:function get(){return this.x},set:function set(a){this.x=a}},height:{get:function get(){return this.y},set:function set(a){this.y=a}}});Object.assign(z.prototype,{isVector2:!0,set:function set(a,b){this.x=a;this.y=b;return this},setScalar:function setScalar(a){this.y=this.x=a;return this},setX:function setX(a){this.x=a;return this},setY:function setY(a){this.y=a;return this},setComponent:function setComponent(a,b){switch(a){case 0:this.x=b;break;case 1:this.y=b;break;default:throw Error("index is out of range: "+a);}return this},getComponent:function getComponent(a){switch(a){case 0:return this.x;case 1:return this.y;default:throw Error("index is out of range: "+a);}},clone:function clone(){return new this.constructor(this.x,this.y)},copy:function copy(a){this.x=a.x;this.y=a.y;return this},add:function add(a,b){if(void 0!==b)return console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(a,b);this.x+=a.x;this.y+=a.y;return this},addScalar:function addScalar(a){this.x+=a;this.y+=a;return this},addVectors:function addVectors(a,b){this.x=a.x+b.x;this.y=a.y+b.y;return this},addScaledVector:function addScaledVector(a,b){this.x+=a.x*b;this.y+=a.y*b;return this},sub:function sub(a,b){if(void 0!==b)return console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(a,b);this.x-=a.x;this.y-=a.y;return this},subScalar:function subScalar(a){this.x-=a;this.y-=a;return this},subVectors:function subVectors(a,b){this.x=a.x-b.x;this.y=a.y-b.y;return this},multiply:function multiply(a){this.x*=a.x;this.y*=a.y;return this},multiplyScalar:function multiplyScalar(a){this.x*=a;this.y*=a;return this},divide:function divide(a){this.x/=a.x;this.y/=a.y;return this},divideScalar:function divideScalar(a){return this.multiplyScalar(1/a)},applyMatrix3:function applyMatrix3(a){var b=this.x,c=this.y;a=a.elements;this.x=a[0]*b+a[3]*c+a[6];this.y=a[1]*b+a[4]*c+a[7];return this},min:function min(a){this.x=_Mathmin(this.x,a.x);this.y=_Mathmin(this.y,a.y);return this},max:function max(a){this.x=_Mathmax(this.x,a.x);this.y=_Mathmax(this.y,a.y);return this},clamp:function clamp(a,b){this.x=_Mathmax(a.x,_Mathmin(b.x,this.x));this.y=_Mathmax(a.y,_Mathmin(b.y,this.y));return this},clampScalar:function(){var a=new z,b=new z;return function(c,d){a.set(c,c);b.set(d,d);return this.clamp(a,b)}}(),clampLength:function clampLength(a,b){var c=this.length();return this.divideScalar(c||1).multiplyScalar(_Mathmax(a,_Mathmin(b,c)))},floor:function floor(){this.x=_Mathfloor(this.x);this.y=_Mathfloor(this.y);return this},ceil:function ceil(){this.x=_Mathceil(this.x);this.y=_Mathceil(this.y);return this},round:function round(){this.x=_Mathround(this.x);this.y=_Mathround(this.y);return this},roundToZero:function roundToZero(){this.x=0>this.x?_Mathceil(this.x):_Mathfloor(this.x);this.y=0>this.y?_Mathceil(this.y):_Mathfloor(this.y);return this},negate:function negate(){this.x=-this.x;this.y=-this.y;return this},dot:function dot(a){return this.x*a.x+this.y*a.y},cross:function cross(a){return this.x*a.y-this.y*a.x},lengthSq:function lengthSq(){return this.x*this.x+this.y*this.y},length:function length(){return _Mathsqrt(this.x*this.x+this.y*this.y)},manhattanLength:function manhattanLength(){return _Mathabs(this.x)+_Mathabs(this.y)},normalize:function normalize(){return this.divideScalar(this.length()||1)},angle:function angle(){var a=_Mathatan(this.y,this.x);0>a&&(a+=2*_MathPI);return a},distanceTo:function distanceTo(a){return _Mathsqrt(this.distanceToSquared(a))},distanceToSquared:function distanceToSquared(a){var b=this.x-a.x;a=this.y-a.y;return b*b+a*a},manhattanDistanceTo:function manhattanDistanceTo(a){return _Mathabs(this.x-a.x)+_Mathabs(this.y-a.y)},setLength:function setLength(a){return this.normalize().multiplyScalar(a)},lerp:function lerp(a,b){this.x+=(a.x-this.x)*b;this.y+=(a.y-this.y)*b;return this},lerpVectors:function lerpVectors(a,b,c){return this.subVectors(b,a).multiplyScalar(c).add(a)},equals:function equals(a){return a.x===this.x&&a.y===this.y},fromArray:function fromArray(a,b){void 0===b&&(b=0);this.x=a[b];this.y=a[b+1];return this},toArray:function toArray(a,b){void 0===a&&(a=[]);void 0===b&&(b=0);a[b]=this.x;a[b+1]=this.y;return a},fromBufferAttribute:function fromBufferAttribute(a,b,c){void 0!==c&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute().");this.x=a.getX(b);this.y=a.getY(b);return this},rotateAround:function rotateAround(a,b){var c=_Mathcos(b);b=_Mathsin(b);var d=this.x-a.x,e=this.y-a.y;this.x=d*c-e*b+a.x;this.y=d*b+e*c+a.y;return this}});Object.assign(O.prototype,{isMatrix4:!0,set:function set(a,b,c,d,e,f,g,h,k,m,l,p,r,n,t,v){var q=this.elements;q[0]=a;q[4]=b;q[8]=c;q[12]=d;q[1]=e;q[5]=f;q[9]=g;q[13]=h;q[2]=k;q[6]=m;q[10]=l;q[14]=p;q[3]=r;q[7]=n;q[11]=t;q[15]=v;return this},identity:function identity(){this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1);return this},clone:function clone(){return new O().fromArray(this.elements)},copy:function copy(a){var b=this.elements;a=a.elements;b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];b[4]=a[4];b[5]=a[5];b[6]=a[6];b[7]=a[7];b[8]=a[8];b[9]=a[9];b[10]=a[10];b[11]=a[11];b[12]=a[12];b[13]=a[13];b[14]=a[14];b[15]=a[15];return this},copyPosition:function copyPosition(a){var b=this.elements;a=a.elements;b[12]=a[12];b[13]=a[13];b[14]=a[14];return this},extractBasis:function extractBasis(a,b,c){a.setFromMatrixColumn(this,0);b.setFromMatrixColumn(this,1);c.setFromMatrixColumn(this,2);return this},makeBasis:function makeBasis(a,b,c){this.set(a.x,b.x,c.x,0,a.y,b.y,c.y,0,a.z,b.z,c.z,0,0,0,0,1);return this},extractRotation:function(){var a=new n;return function(b){var c=this.elements,d=b.elements,e=1/a.setFromMatrixColumn(b,0).length(),f=1/a.setFromMatrixColumn(b,1).length();b=1/a.setFromMatrixColumn(b,2).length();c[0]=d[0]*e;c[1]=d[1]*e;c[2]=d[2]*e;c[3]=0;c[4]=d[4]*f;c[5]=d[5]*f;c[6]=d[6]*f;c[7]=0;c[8]=d[8]*b;c[9]=d[9]*b;c[10]=d[10]*b;c[11]=0;c[12]=0;c[13]=0;c[14]=0;c[15]=1;return this}}(),makeRotationFromEuler:function makeRotationFromEuler(a){a&&a.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var b=this.elements,c=a.x,d=a.y,e=a.z,f=_Mathcos(c);c=_Mathsin(c);var g=_Mathcos(d);d=_Mathsin(d);var h=_Mathcos(e);e=_Mathsin(e);if("XYZ"===a.order){a=f*h;var k=f*e,m=c*h,q=c*e;b[0]=g*h;b[4]=-g*e;b[8]=d;b[1]=k+m*d;b[5]=a-q*d;b[9]=-c*g;b[2]=q-a*d;b[6]=m+k*d;b[10]=f*g}else"YXZ"===a.order?(a=g*h,k=g*e,m=d*h,q=d*e,b[0]=a+q*c,b[4]=m*c-k,b[8]=f*d,b[1]=f*e,b[5]=f*h,b[9]=-c,b[2]=k*c-m,b[6]=q+a*c,b[10]=f*g):"ZXY"===a.order?(a=g*h,k=g*e,m=d*h,q=d*e,b[0]=a-q*c,b[4]=-f*e,b[8]=m+k*c,b[1]=k+m*c,b[5]=f*h,b[9]=q-a*c,b[2]=-f*d,b[6]=c,b[10]=f*g):"ZYX"===a.order?(a=f*h,k=f*e,m=c*h,q=c*e,b[0]=g*h,b[4]=m*d-k,b[8]=a*d+q,b[1]=g*e,b[5]=q*d+a,b[9]=k*d-m,b[2]=-d,b[6]=c*g,b[10]=f*g):"YZX"===a.order?(a=f*g,k=f*d,m=c*g,q=c*d,b[0]=g*h,b[4]=q-a*e,b[8]=m*e+k,b[1]=e,b[5]=f*h,b[9]=-c*h,b[2]=-d*h,b[6]=k*e+m,b[10]=a-q*e):"XZY"===a.order&&(a=f*g,k=f*d,m=c*g,q=c*d,b[0]=g*h,b[4]=-e,b[8]=d*h,b[1]=a*e+q,b[5]=f*h,b[9]=k*e-m,b[2]=m*e-k,b[6]=c*h,b[10]=q*e+a);b[3]=0;b[7]=0;b[11]=0;b[12]=0;b[13]=0;b[14]=0;b[15]=1;return this},makeRotationFromQuaternion:function(){var a=new n(0,0,0),b=new n(1,1,1);return function(c){return this.compose(a,c,b)}}(),lookAt:function(){var a=new n,b=new n,c=new n;return function(d,e,f){var g=this.elements;c.subVectors(d,e);0===c.lengthSq()&&(c.z=1);c.normalize();a.crossVectors(f,c);0===a.lengthSq()&&(1===_Mathabs(f.z)?c.x+=1E-4:c.z+=1E-4,c.normalize(),a.crossVectors(f,c));a.normalize();b.crossVectors(c,a);g[0]=a.x;g[4]=b.x;g[8]=c.x;g[1]=a.y;g[5]=b.y;g[9]=c.y;g[2]=a.z;g[6]=b.z;g[10]=c.z;return this}}(),multiply:function multiply(a,b){return void 0!==b?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(a,b)):this.multiplyMatrices(this,a)},premultiply:function premultiply(a){return this.multiplyMatrices(a,this)},multiplyMatrices:function multiplyMatrices(a,b){var c=a.elements,d=b.elements;b=this.elements;a=c[0];var e=c[4],f=c[8],g=c[12],h=c[1],k=c[5],m=c[9],q=c[13],l=c[2],r=c[6],n=c[10],t=c[14],v=c[3],w=c[7],y=c[11];c=c[15];var u=d[0],z=d[4],G=d[8],N=d[12],A=d[1],B=d[5],D=d[9],C=d[13],E=d[2],F=d[6],I=d[10],L=d[14],H=d[3],J=d[7],O=d[11];d=d[15];b[0]=a*u+e*A+f*E+g*H;b[4]=a*z+e*B+f*F+g*J;b[8]=a*G+e*D+f*I+g*O;b[12]=a*N+e*C+f*L+g*d;b[1]=h*u+k*A+m*E+q*H;b[5]=h*z+k*B+m*F+q*J;b[9]=h*G+k*D+m*I+q*O;b[13]=h*N+k*C+m*L+q*d;b[2]=l*u+r*A+n*E+t*H;b[6]=l*z+r*B+n*F+t*J;b[10]=l*G+r*D+n*I+t*O;b[14]=l*N+r*C+n*L+t*d;b[3]=v*u+w*A+y*E+c*H;b[7]=v*z+w*B+y*F+c*J;b[11]=v*G+w*D+y*I+c*O;b[15]=v*N+w*C+y*L+c*d;return this},multiplyScalar:function multiplyScalar(a){var b=this.elements;b[0]*=a;b[4]*=a;b[8]*=a;b[12]*=a;b[1]*=a;b[5]*=a;b[9]*=a;b[13]*=a;b[2]*=a;b[6]*=a;b[10]*=a;b[14]*=a;b[3]*=a;b[7]*=a;b[11]*=a;b[15]*=a;return this},applyToBufferAttribute:function(){var a=new n;return function(b){for(var c=0,d=b.count;c<d;c++){a.x=b.getX(c),a.y=b.getY(c),a.z=b.getZ(c),a.applyMatrix4(this),b.setXYZ(c,a.x,a.y,a.z)}return b}}(),determinant:function determinant(){var a=this.elements,b=a[0],c=a[4],d=a[8],e=a[12],f=a[1],g=a[5],h=a[9],k=a[13],m=a[2],q=a[6],l=a[10],r=a[14];return a[3]*(+e*h*q-d*k*q-e*g*l+c*k*l+d*g*r-c*h*r)+a[7]*(+b*h*r-b*k*l+e*f*l-d*f*r+d*k*m-e*h*m)+a[11]*(+b*k*q-b*g*r-e*f*q+c*f*r+e*g*m-c*k*m)+a[15]*(-d*g*m-b*h*q+b*g*l+d*f*q-c*f*l+c*h*m)},transpose:function transpose(){var a=this.elements,b=a[1];a[1]=a[4];a[4]=b;b=a[2];a[2]=a[8];a[8]=b;b=a[6];a[6]=a[9];a[9]=b;b=a[3];a[3]=a[12];a[12]=b;b=a[7];a[7]=a[13];a[13]=b;b=a[11];a[11]=a[14];a[14]=b;return this},setPosition:function setPosition(a){var b=this.elements;b[12]=a.x;b[13]=a.y;b[14]=a.z;return this},getInverse:function getInverse(a,b){var c=this.elements,d=a.elements;a=d[0];var e=d[1],f=d[2],g=d[3],h=d[4],k=d[5],m=d[6],q=d[7],l=d[8],r=d[9],n=d[10],t=d[11],v=d[12],w=d[13],y=d[14];d=d[15];var u=r*y*q-w*n*q+w*m*t-k*y*t-r*m*d+k*n*d,z=v*n*q-l*y*q-v*m*t+h*y*t+l*m*d-h*n*d,G=l*w*q-v*r*q+v*k*t-h*w*t-l*k*d+h*r*d,N=v*r*m-l*w*m-v*k*n+h*w*n+l*k*y-h*r*y,A=a*u+e*z+f*G+g*N;if(0===A){if(!0===b)throw Error("THREE.Matrix4: .getInverse() can't invert matrix, determinant is 0");console.warn("THREE.Matrix4: .getInverse() can't invert matrix, determinant is 0");return this.identity()}b=1/A;c[0]=u*b;c[1]=(w*n*g-r*y*g-w*f*t+e*y*t+r*f*d-e*n*d)*b;c[2]=(k*y*g-w*m*g+w*f*q-e*y*q-k*f*d+e*m*d)*b;c[3]=(r*m*g-k*n*g-r*f*q+e*n*q+k*f*t-e*m*t)*b;c[4]=z*b;c[5]=(l*y*g-v*n*g+v*f*t-a*y*t-l*f*d+a*n*d)*b;c[6]=(v*m*g-h*y*g-v*f*q+a*y*q+h*f*d-a*m*d)*b;c[7]=(h*n*g-l*m*g+l*f*q-a*n*q-h*f*t+a*m*t)*b;c[8]=G*b;c[9]=(v*r*g-l*w*g-v*e*t+a*w*t+l*e*d-a*r*d)*b;c[10]=(h*w*g-v*k*g+v*e*q-a*w*q-h*e*d+a*k*d)*b;c[11]=(l*k*g-h*r*g-l*e*q+a*r*q+h*e*t-a*k*t)*b;c[12]=N*b;c[13]=(l*w*f-v*r*f+v*e*n-a*w*n-l*e*y+a*r*y)*b;c[14]=(v*k*f-h*w*f-v*e*m+a*w*m+h*e*y-a*k*y)*b;c[15]=(h*r*f-l*k*f+l*e*m-a*r*m-h*e*n+a*k*n)*b;return this},scale:function scale(a){var b=this.elements,c=a.x,d=a.y;a=a.z;b[0]*=c;b[4]*=d;b[8]*=a;b[1]*=c;b[5]*=d;b[9]*=a;b[2]*=c;b[6]*=d;b[10]*=a;b[3]*=c;b[7]*=d;b[11]*=a;return this},getMaxScaleOnAxis:function getMaxScaleOnAxis(){var a=this.elements;return _Mathsqrt(_Mathmax(a[0]*a[0]+a[1]*a[1]+a[2]*a[2],a[4]*a[4]+a[5]*a[5]+a[6]*a[6],a[8]*a[8]+a[9]*a[9]+a[10]*a[10]))},makeTranslation:function makeTranslation(a,b,c){this.set(1,0,0,a,0,1,0,b,0,0,1,c,0,0,0,1);return this},makeRotationX:function makeRotationX(a){var b=_Mathcos(a);a=_Mathsin(a);this.set(1,0,0,0,0,b,-a,0,0,a,b,0,0,0,0,1);return this},makeRotationY:function makeRotationY(a){var b=_Mathcos(a);a=_Mathsin(a);this.set(b,0,a,0,0,1,0,0,-a,0,b,0,0,0,0,1);return this},makeRotationZ:function makeRotationZ(a){var b=_Mathcos(a);a=_Mathsin(a);this.set(b,-a,0,0,a,b,0,0,0,0,1,0,0,0,0,1);return this},makeRotationAxis:function makeRotationAxis(a,b){var c=_Mathcos(b);b=_Mathsin(b);var d=1-c,e=a.x,f=a.y;a=a.z;var g=d*e,h=d*f;this.set(g*e+c,g*f-b*a,g*a+b*f,0,g*f+b*a,h*f+c,h*a-b*e,0,g*a-b*f,h*a+b*e,d*a*a+c,0,0,0,0,1);return this},makeScale:function makeScale(a,b,c){this.set(a,0,0,0,0,b,0,0,0,0,c,0,0,0,0,1);return this},makeShear:function makeShear(a,b,c){this.set(1,b,c,0,a,1,c,0,a,b,1,0,0,0,0,1);return this},compose:function compose(a,b,c){var d=this.elements,e=b._x,f=b._y,g=b._z,h=b._w,k=e+e,m=f+f,l=g+g;b=e*k;var p=e*m;e*=l;var r=f*m;f*=l;g*=l;k*=h;m*=h;h*=l;l=c.x;var n=c.y;c=c.z;d[0]=(1-(r+g))*l;d[1]=(p+h)*l;d[2]=(e-m)*l;d[3]=0;d[4]=(p-h)*n;d[5]=(1-(b+g))*n;d[6]=(f+k)*n;d[7]=0;d[8]=(e+m)*c;d[9]=(f-k)*c;d[10]=(1-(b+r))*c;d[11]=0;d[12]=a.x;d[13]=a.y;d[14]=a.z;d[15]=1;return this},decompose:function(){var a=new n,b=new O;return function(c,d,e){var f=this.elements,g=a.set(f[0],f[1],f[2]).length(),h=a.set(f[4],f[5],f[6]).length(),k=a.set(f[8],f[9],f[10]).length();0>this.determinant()&&(g=-g);c.x=f[12];c.y=f[13];c.z=f[14];b.copy(this);c=1/g;f=1/h;var m=1/k;b.elements[0]*=c;b.elements[1]*=c;b.elements[2]*=c;b.elements[4]*=f;b.elements[5]*=f;b.elements[6]*=f;b.elements[8]*=m;b.elements[9]*=m;b.elements[10]*=m;d.setFromRotationMatrix(b);e.x=g;e.y=h;e.z=k;return this}}(),makePerspective:function makePerspective(a,b,c,d,e,f){void 0===f&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");var g=this.elements;g[0]=2*e/(b-a);g[4]=0;g[8]=(b+a)/(b-a);g[12]=0;g[1]=0;g[5]=2*e/(c-d);g[9]=(c+d)/(c-d);g[13]=0;g[2]=0;g[6]=0;g[10]=-(f+e)/(f-e);g[14]=-2*f*e/(f-e);g[3]=0;g[7]=0;g[11]=-1;g[15]=0;return this},makeOrthographic:function makeOrthographic(a,b,c,d,e,f){var g=this.elements,h=1/(b-a),k=1/(c-d),m=1/(f-e);g[0]=2*h;g[4]=0;g[8]=0;g[12]=-((b+a)*h);g[1]=0;g[5]=2*k;g[9]=0;g[13]=-((c+d)*k);g[2]=0;g[6]=0;g[10]=-2*m;g[14]=-((f+e)*m);g[3]=0;g[7]=0;g[11]=0;g[15]=1;return this},equals:function equals(a){var b=this.elements;a=a.elements;for(var c=0;16>c;c++){if(b[c]!==a[c])return!1}return!0},fromArray:function fromArray(a,b){void 0===b&&(b=0);for(var c=0;16>c;c++){this.elements[c]=a[c+b]}return this},toArray:function toArray(a,b){void 0===a&&(a=[]);void 0===b&&(b=0);var c=this.elements;a[b]=c[0];a[b+1]=c[1];a[b+2]=c[2];a[b+3]=c[3];a[b+4]=c[4];a[b+5]=c[5];a[b+6]=c[6];a[b+7]=c[7];a[b+8]=c[8];a[b+9]=c[9];a[b+10]=c[10];a[b+11]=c[11];a[b+12]=c[12];a[b+13]=c[13];a[b+14]=c[14];a[b+15]=c[15];return a}});Object.assign(ka,{slerp:function slerp(a,b,c,d){return c.copy(a).slerp(b,d)},slerpFlat:function slerpFlat(a,b,c,d,e,f,g){var h=c[d+0],k=c[d+1],m=c[d+2];c=c[d+3];d=e[f+0];var l=e[f+1],p=e[f+2];e=e[f+3];if(c!==e||h!==d||k!==l||m!==p){f=1-g;var r=h*d+k*l+m*p+c*e,n=0<=r?1:-1,t=1-r*r;t>_NumberEPSILON&&(t=_Mathsqrt(t),r=_Mathatan(t,r*n),f=_Mathsin(f*r)/t,g=_Mathsin(g*r)/t);n*=g;h=h*f+d*n;k=k*f+l*n;m=m*f+p*n;c=c*f+e*n;f===1-g&&(g=1/_Mathsqrt(h*h+k*k+m*m+c*c),h*=g,k*=g,m*=g,c*=g)}a[b]=h;a[b+1]=k;a[b+2]=m;a[b+3]=c}});Object.defineProperties(ka.prototype,{x:{get:function get(){return this._x},set:function set(a){this._x=a;this.onChangeCallback()}},y:{get:function get(){return this._y},set:function set(a){this._y=a;this.onChangeCallback()}},z:{get:function get(){return this._z},set:function set(a){this._z=a;this.onChangeCallback()}},w:{get:function get(){return this._w},set:function set(a){this._w=a;this.onChangeCallback()}}});Object.assign(ka.prototype,{isQuaternion:!0,set:function set(a,b,c,d){this._x=a;this._y=b;this._z=c;this._w=d;this.onChangeCallback();return this},clone:function clone(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function copy(a){this._x=a.x;this._y=a.y;this._z=a.z;this._w=a.w;this.onChangeCallback();return this},setFromEuler:function setFromEuler(a,b){if(!a||!a.isEuler)throw Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var c=a._x,d=a._y,e=a._z;a=a.order;var f=_Mathcos,g=_Mathsin,h=f(c/2),k=f(d/2);f=f(e/2);c=g(c/2);d=g(d/2);e=g(e/2);"XYZ"===a?(this._x=c*k*f+h*d*e,this._y=h*d*f-c*k*e,this._z=h*k*e+c*d*f,this._w=h*k*f-c*d*e):"YXZ"===a?(this._x=c*k*f+h*d*e,this._y=h*d*f-c*k*e,this._z=h*k*e-c*d*f,this._w=h*k*f+c*d*e):"ZXY"===a?(this._x=c*k*f-h*d*e,this._y=h*d*f+c*k*e,this._z=h*k*e+c*d*f,this._w=h*k*f-c*d*e):"ZYX"===a?(this._x=c*k*f-h*d*e,this._y=h*d*f+c*k*e,this._z=h*k*e-c*d*f,this._w=h*k*f+c*d*e):"YZX"===a?(this._x=c*k*f+h*d*e,this._y=h*d*f+c*k*e,this._z=h*k*e-c*d*f,this._w=h*k*f-c*d*e):"XZY"===a&&(this._x=c*k*f-h*d*e,this._y=h*d*f-c*k*e,this._z=h*k*e+c*d*f,this._w=h*k*f+c*d*e);if(!1!==b)this.onChangeCallback();return this},setFromAxisAngle:function setFromAxisAngle(a,b){b/=2;var c=_Mathsin(b);this._x=a.x*c;this._y=a.y*c;this._z=a.z*c;this._w=_Mathcos(b);this.onChangeCallback();return this},setFromRotationMatrix:function setFromRotationMatrix(a){var b=a.elements,c=b[0];a=b[4];var d=b[8],e=b[1],f=b[5],g=b[9],h=b[2],k=b[6];b=b[10];var m=c+f+b;0<m?(c=.5/_Mathsqrt(m+1),this._w=.25/c,this._x=(k-g)*c,this._y=(d-h)*c,this._z=(e-a)*c):c>f&&c>b?(c=2*_Mathsqrt(1+c-f-b),this._w=(k-g)/c,this._x=.25*c,this._y=(a+e)/c,this._z=(d+h)/c):f>b?(c=2*_Mathsqrt(1+f-c-b),this._w=(d-h)/c,this._x=(a+e)/c,this._y=.25*c,this._z=(g+k)/c):(c=2*_Mathsqrt(1+b-c-f),this._w=(e-a)/c,this._x=(d+h)/c,this._y=(g+k)/c,this._z=.25*c);this.onChangeCallback();return this},setFromUnitVectors:function(){var a=new n,b;return function(c,d){void 0===a&&(a=new n);b=c.dot(d)+1;1E-6>b?(b=0,_Mathabs(c.x)>_Mathabs(c.z)?a.set(-c.y,c.x,0):a.set(0,-c.z,c.y)):a.crossVectors(c,d);this._x=a.x;this._y=a.y;this._z=a.z;this._w=b;return this.normalize()}}(),angleTo:function angleTo(a){return 2*_Mathacos(_Mathabs(R.clamp(this.dot(a),-1,1)))},rotateTowards:function rotateTowards(a,b){var c=this.angleTo(a);if(0===c)return this;this.slerp(a,_Mathmin(1,b/c));return this},inverse:function inverse(){return this.conjugate()},conjugate:function conjugate(){this._x*=-1;this._y*=-1;this._z*=-1;this.onChangeCallback();return this},dot:function dot(a){return this._x*a._x+this._y*a._y+this._z*a._z+this._w*a._w},lengthSq:function lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function length(){return _Mathsqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function normalize(){var a=this.length();0===a?(this._z=this._y=this._x=0,this._w=1):(a=1/a,this._x*=a,this._y*=a,this._z*=a,this._w*=a);this.onChangeCallback();return this},multiply:function multiply(a,b){return void 0!==b?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(a,b)):this.multiplyQuaternions(this,a)},premultiply:function premultiply(a){return this.multiplyQuaternions(a,this)},multiplyQuaternions:function multiplyQuaternions(a,b){var c=a._x,d=a._y,e=a._z;a=a._w;var f=b._x,g=b._y,h=b._z;b=b._w;this._x=c*b+a*f+d*h-e*g;this._y=d*b+a*g+e*f-c*h;this._z=e*b+a*h+c*g-d*f;this._w=a*b-c*f-d*g-e*h;this.onChangeCallback();return this},slerp:function slerp(a,b){if(0===b)return this;if(1===b)return this.copy(a);var c=this._x,d=this._y,e=this._z,f=this._w,g=f*a._w+c*a._x+d*a._y+e*a._z;0>g?(this._w=-a._w,this._x=-a._x,this._y=-a._y,this._z=-a._z,g=-g):this.copy(a);if(1<=g)return this._w=f,this._x=c,this._y=d,this._z=e,this;a=1-g*g;if(a<=_NumberEPSILON)return g=1-b,this._w=g*f+b*this._w,this._x=g*c+b*this._x,this._y=g*d+b*this._y,this._z=g*e+b*this._z,this.normalize();a=_Mathsqrt(a);var h=_Mathatan(a,g);g=_Mathsin((1-b)*h)/a;b=_Mathsin(b*h)/a;this._w=f*g+this._w*b;this._x=c*g+this._x*b;this._y=d*g+this._y*b;this._z=e*g+this._z*b;this.onChangeCallback();return this},equals:function equals(a){return a._x===this._x&&a._y===this._y&&a._z===this._z&&a._w===this._w},fromArray:function fromArray(a,b){void 0===b&&(b=0);this._x=a[b];this._y=a[b+1];this._z=a[b+2];this._w=a[b+3];this.onChangeCallback();return this},toArray:function toArray(a,b){void 0===a&&(a=[]);void 0===b&&(b=0);a[b]=this._x;a[b+1]=this._y;a[b+2]=this._z;a[b+3]=this._w;return a},onChange:function onChange(a){this.onChangeCallback=a;return this},onChangeCallback:function onChangeCallback(){}});Object.assign(n.prototype,{isVector3:!0,set:function set(a,b,c){this.x=a;this.y=b;this.z=c;return this},setScalar:function setScalar(a){this.z=this.y=this.x=a;return this},setX:function setX(a){this.x=a;return this},setY:function setY(a){this.y=a;return this},setZ:function setZ(a){this.z=a;return this},setComponent:function setComponent(a,b){switch(a){case 0:this.x=b;break;case 1:this.y=b;break;case 2:this.z=b;break;default:throw Error("index is out of range: "+a);}return this},getComponent:function getComponent(a){switch(a){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw Error("index is out of range: "+a);}},clone:function clone(){return new this.constructor(this.x,this.y,this.z)},copy:function copy(a){this.x=a.x;this.y=a.y;this.z=a.z;return this},add:function add(a,b){if(void 0!==b)return console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(a,b);this.x+=a.x;this.y+=a.y;this.z+=a.z;return this},addScalar:function addScalar(a){this.x+=a;this.y+=a;this.z+=a;return this},addVectors:function addVectors(a,b){this.x=a.x+b.x;this.y=a.y+b.y;this.z=a.z+b.z;return this},addScaledVector:function addScaledVector(a,b){this.x+=a.x*b;this.y+=a.y*b;this.z+=a.z*b;return this},sub:function sub(a,b){if(void 0!==b)return console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(a,b);this.x-=a.x;this.y-=a.y;this.z-=a.z;return this},subScalar:function subScalar(a){this.x-=a;this.y-=a;this.z-=a;return this},subVectors:function subVectors(a,b){this.x=a.x-b.x;this.y=a.y-b.y;this.z=a.z-b.z;return this},multiply:function multiply(a,b){if(void 0!==b)return console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(a,b);this.x*=a.x;this.y*=a.y;this.z*=a.z;return this},multiplyScalar:function multiplyScalar(a){this.x*=a;this.y*=a;this.z*=a;return this},multiplyVectors:function multiplyVectors(a,b){this.x=a.x*b.x;this.y=a.y*b.y;this.z=a.z*b.z;return this},applyEuler:function(){var a=new ka;return function(b){b&&b.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order.");return this.applyQuaternion(a.setFromEuler(b))}}(),applyAxisAngle:function(){var a=new ka;return function(b,c){return this.applyQuaternion(a.setFromAxisAngle(b,c))}}(),applyMatrix3:function applyMatrix3(a){var b=this.x,c=this.y,d=this.z;a=a.elements;this.x=a[0]*b+a[3]*c+a[6]*d;this.y=a[1]*b+a[4]*c+a[7]*d;this.z=a[2]*b+a[5]*c+a[8]*d;return this},applyMatrix4:function applyMatrix4(a){var b=this.x,c=this.y,d=this.z;a=a.elements;var e=1/(a[3]*b+a[7]*c+a[11]*d+a[15]);this.x=(a[0]*b+a[4]*c+a[8]*d+a[12])*e;this.y=(a[1]*b+a[5]*c+a[9]*d+a[13])*e;this.z=(a[2]*b+a[6]*c+a[10]*d+a[14])*e;return this},applyQuaternion:function applyQuaternion(a){var b=this.x,c=this.y,d=this.z,e=a.x,f=a.y,g=a.z;a=a.w;var h=a*b+f*d-g*c,k=a*c+g*b-e*d,m=a*d+e*c-f*b;b=-e*b-f*c-g*d;this.x=h*a+b*-e+k*-g-m*-f;this.y=k*a+b*-f+m*-e-h*-g;this.z=m*a+b*-g+h*-f-k*-e;return this},project:function project(a){return this.applyMatrix4(a.matrixWorldInverse).applyMatrix4(a.projectionMatrix)},unproject:function(){var a=new O;return function(b){return this.applyMatrix4(a.getInverse(b.projectionMatrix)).applyMatrix4(b.matrixWorld)}}(),transformDirection:function transformDirection(a){var b=this.x,c=this.y,d=this.z;a=a.elements;this.x=a[0]*b+a[4]*c+a[8]*d;this.y=a[1]*b+a[5]*c+a[9]*d;this.z=a[2]*b+a[6]*c+a[10]*d;return this.normalize()},divide:function divide(a){this.x/=a.x;this.y/=a.y;this.z/=a.z;return this},divideScalar:function divideScalar(a){return this.multiplyScalar(1/a)},min:function min(a){this.x=_Mathmin(this.x,a.x);this.y=_Mathmin(this.y,a.y);this.z=_Mathmin(this.z,a.z);return this},max:function max(a){this.x=_Mathmax(this.x,a.x);this.y=_Mathmax(this.y,a.y);this.z=_Mathmax(this.z,a.z);return this},clamp:function clamp(a,b){this.x=_Mathmax(a.x,_Mathmin(b.x,this.x));this.y=_Mathmax(a.y,_Mathmin(b.y,this.y));this.z=_Mathmax(a.z,_Mathmin(b.z,this.z));return this},clampScalar:function(){var a=new n,b=new n;return function(c,d){a.set(c,c,c);b.set(d,d,d);return this.clamp(a,b)}}(),clampLength:function clampLength(a,b){var c=this.length();return this.divideScalar(c||1).multiplyScalar(_Mathmax(a,_Mathmin(b,c)))},floor:function floor(){this.x=_Mathfloor(this.x);this.y=_Mathfloor(this.y);this.z=_Mathfloor(this.z);return this},ceil:function ceil(){this.x=_Mathceil(this.x);this.y=_Mathceil(this.y);this.z=_Mathceil(this.z);return this},round:function round(){this.x=_Mathround(this.x);this.y=_Mathround(this.y);this.z=_Mathround(this.z);return this},roundToZero:function roundToZero(){this.x=0>this.x?_Mathceil(this.x):_Mathfloor(this.x);this.y=0>this.y?_Mathceil(this.y):_Mathfloor(this.y);this.z=0>this.z?_Mathceil(this.z):_Mathfloor(this.z);return this},negate:function negate(){this.x=-this.x;this.y=-this.y;this.z=-this.z;return this},dot:function dot(a){return this.x*a.x+this.y*a.y+this.z*a.z},lengthSq:function lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function length(){return _Mathsqrt(this.x*this.x+this.y*this.y+this.z*this.z)},manhattanLength:function manhattanLength(){return _Mathabs(this.x)+_Mathabs(this.y)+_Mathabs(this.z)},normalize:function normalize(){return this.divideScalar(this.length()||1)},setLength:function setLength(a){return this.normalize().multiplyScalar(a)},lerp:function lerp(a,b){this.x+=(a.x-this.x)*b;this.y+=(a.y-this.y)*b;this.z+=(a.z-this.z)*b;return this},lerpVectors:function lerpVectors(a,b,c){return this.subVectors(b,a).multiplyScalar(c).add(a)},cross:function cross(a,b){return void 0!==b?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(a,b)):this.crossVectors(this,a)},crossVectors:function crossVectors(a,b){var c=a.x,d=a.y;a=a.z;var e=b.x,f=b.y;b=b.z;this.x=d*b-a*f;this.y=a*e-c*b;this.z=c*f-d*e;return this},projectOnVector:function projectOnVector(a){var b=a.dot(this)/a.lengthSq();return this.copy(a).multiplyScalar(b)},projectOnPlane:function(){var a=new n;return function(b){a.copy(this).projectOnVector(b);return this.sub(a)}}(),reflect:function(){var a=new n;return function(b){return this.sub(a.copy(b).multiplyScalar(2*this.dot(b)))}}(),angleTo:function angleTo(a){a=this.dot(a)/_Mathsqrt(this.lengthSq()*a.lengthSq());return _Mathacos(R.clamp(a,-1,1))},distanceTo:function distanceTo(a){return _Mathsqrt(this.distanceToSquared(a))},distanceToSquared:function distanceToSquared(a){var b=this.x-a.x,c=this.y-a.y;a=this.z-a.z;return b*b+c*c+a*a},manhattanDistanceTo:function manhattanDistanceTo(a){return _Mathabs(this.x-a.x)+_Mathabs(this.y-a.y)+_Mathabs(this.z-a.z)},setFromSpherical:function setFromSpherical(a){return this.setFromSphericalCoords(a.radius,a.phi,a.theta)},setFromSphericalCoords:function setFromSphericalCoords(a,b,c){var d=_Mathsin(b)*a;this.x=d*_Mathsin(c);this.y=_Mathcos(b)*a;this.z=d*_Mathcos(c);return this},setFromCylindrical:function setFromCylindrical(a){return this.setFromCylindricalCoords(a.radius,a.theta,a.y)},setFromCylindricalCoords:function setFromCylindricalCoords(a,b,c){this.x=a*_Mathsin(b);this.y=c;this.z=a*_Mathcos(b);return this},setFromMatrixPosition:function setFromMatrixPosition(a){a=a.elements;this.x=a[12];this.y=a[13];this.z=a[14];return this},setFromMatrixScale:function setFromMatrixScale(a){var b=this.setFromMatrixColumn(a,0).length(),c=this.setFromMatrixColumn(a,1).length();a=this.setFromMatrixColumn(a,2).length();this.x=b;this.y=c;this.z=a;return this},setFromMatrixColumn:function setFromMatrixColumn(a,b){return this.fromArray(a.elements,4*b)},equals:function equals(a){return a.x===this.x&&a.y===this.y&&a.z===this.z},fromArray:function fromArray(a,b){void 0===b&&(b=0);this.x=a[b];this.y=a[b+1];this.z=a[b+2];return this},toArray:function toArray(a,b){void 0===a&&(a=[]);void 0===b&&(b=0);a[b]=this.x;a[b+1]=this.y;a[b+2]=this.z;return a},fromBufferAttribute:function fromBufferAttribute(a,b,c){void 0!==c&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute().");this.x=a.getX(b);this.y=a.getY(b);this.z=a.getZ(b);return this}});Object.assign(da.prototype,{isMatrix3:!0,set:function set(a,b,c,d,e,f,g,h,k){var m=this.elements;m[0]=a;m[1]=d;m[2]=g;m[3]=b;m[4]=e;m[5]=h;m[6]=c;m[7]=f;m[8]=k;return this},identity:function identity(){this.set(1,0,0,0,1,0,0,0,1);return this},clone:function clone(){return new this.constructor().fromArray(this.elements)},copy:function copy(a){var b=this.elements;a=a.elements;b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];b[4]=a[4];b[5]=a[5];b[6]=a[6];b[7]=a[7];b[8]=a[8];return this},setFromMatrix4:function setFromMatrix4(a){a=a.elements;this.set(a[0],a[4],a[8],a[1],a[5],a[9],a[2],a[6],a[10]);return this},applyToBufferAttribute:function(){var a=new n;return function(b){for(var c=0,d=b.count;c<d;c++){a.x=b.getX(c),a.y=b.getY(c),a.z=b.getZ(c),a.applyMatrix3(this),b.setXYZ(c,a.x,a.y,a.z)}return b}}(),multiply:function multiply(a){return this.multiplyMatrices(this,a)},premultiply:function premultiply(a){return this.multiplyMatrices(a,this)},multiplyMatrices:function multiplyMatrices(a,b){var c=a.elements,d=b.elements;b=this.elements;a=c[0];var e=c[3],f=c[6],g=c[1],h=c[4],k=c[7],m=c[2],l=c[5];c=c[8];var p=d[0],r=d[3],n=d[6],t=d[1],v=d[4],w=d[7],y=d[2],u=d[5];d=d[8];b[0]=a*p+e*t+f*y;b[3]=a*r+e*v+f*u;b[6]=a*n+e*w+f*d;b[1]=g*p+h*t+k*y;b[4]=g*r+h*v+k*u;b[7]=g*n+h*w+k*d;b[2]=m*p+l*t+c*y;b[5]=m*r+l*v+c*u;b[8]=m*n+l*w+c*d;return this},multiplyScalar:function multiplyScalar(a){var b=this.elements;b[0]*=a;b[3]*=a;b[6]*=a;b[1]*=a;b[4]*=a;b[7]*=a;b[2]*=a;b[5]*=a;b[8]*=a;return this},determinant:function determinant(){var a=this.elements,b=a[0],c=a[1],d=a[2],e=a[3],f=a[4],g=a[5],h=a[6],k=a[7];a=a[8];return b*f*a-b*g*k-c*e*a+c*g*h+d*e*k-d*f*h},getInverse:function getInverse(a,b){a&&a.isMatrix4&&console.error("THREE.Matrix3: .getInverse() no longer takes a Matrix4 argument.");var c=a.elements;a=this.elements;var d=c[0],e=c[1],f=c[2],g=c[3],h=c[4],k=c[5],m=c[6],l=c[7];c=c[8];var p=c*h-k*l,r=k*m-c*g,n=l*g-h*m,t=d*p+e*r+f*n;if(0===t){if(!0===b)throw Error("THREE.Matrix3: .getInverse() can't invert matrix, determinant is 0");console.warn("THREE.Matrix3: .getInverse() can't invert matrix, determinant is 0");return this.identity()}b=1/t;a[0]=p*b;a[1]=(f*l-c*e)*b;a[2]=(k*e-f*h)*b;a[3]=r*b;a[4]=(c*d-f*m)*b;a[5]=(f*g-k*d)*b;a[6]=n*b;a[7]=(e*m-l*d)*b;a[8]=(h*d-e*g)*b;return this},transpose:function transpose(){var a=this.elements,b=a[1];a[1]=a[3];a[3]=b;b=a[2];a[2]=a[6];a[6]=b;b=a[5];a[5]=a[7];a[7]=b;return this},getNormalMatrix:function getNormalMatrix(a){return this.setFromMatrix4(a).getInverse(this).transpose()},transposeIntoArray:function transposeIntoArray(a){var b=this.elements;a[0]=b[0];a[1]=b[3];a[2]=b[6];a[3]=b[1];a[4]=b[4];a[5]=b[7];a[6]=b[2];a[7]=b[5];a[8]=b[8];return this},setUvTransform:function setUvTransform(a,b,c,d,e,f,g){var h=_Mathcos(e);e=_Mathsin(e);this.set(c*h,c*e,-c*(h*f+e*g)+f+a,-d*e,d*h,-d*(-e*f+h*g)+g+b,0,0,1)},scale:function scale(a,b){var c=this.elements;c[0]*=a;c[3]*=a;c[6]*=a;c[1]*=b;c[4]*=b;c[7]*=b;return this},rotate:function rotate(a){var b=_Mathcos(a);a=_Mathsin(a);var c=this.elements,d=c[0],e=c[3],f=c[6],g=c[1],h=c[4],k=c[7];c[0]=b*d+a*g;c[3]=b*e+a*h;c[6]=b*f+a*k;c[1]=-a*d+b*g;c[4]=-a*e+b*h;c[7]=-a*f+b*k;return this},translate:function translate(a,b){var c=this.elements;c[0]+=a*c[2];c[3]+=a*c[5];c[6]+=a*c[8];c[1]+=b*c[2];c[4]+=b*c[5];c[7]+=b*c[8];return this},equals:function equals(a){var b=this.elements;a=a.elements;for(var c=0;9>c;c++){if(b[c]!==a[c])return!1}return!0},fromArray:function fromArray(a,b){void 0===b&&(b=0);for(var c=0;9>c;c++){this.elements[c]=a[c+b]}return this},toArray:function toArray(a,b){void 0===a&&(a=[]);void 0===b&&(b=0);var c=this.elements;a[b]=c[0];a[b+1]=c[1];a[b+2]=c[2];a[b+3]=c[3];a[b+4]=c[4];a[b+5]=c[5];a[b+6]=c[6];a[b+7]=c[7];a[b+8]=c[8];return a}});var sc,ib={getDataURL:function getDataURL(a){if("undefined"==typeof HTMLCanvasElement)return a.src;if(!babelHelpers.instanceof(a,HTMLCanvasElement)){void 0===sc&&(sc=document.createElementNS("http://www.w3.org/1999/xhtml","canvas"));sc.width=a.width;sc.height=a.height;var b=sc.getContext("2d");babelHelpers.instanceof(a,ImageData)?b.putImageData(a,0,0):b.drawImage(a,0,0,a.width,a.height);a=sc}return 2048<a.width||2048<a.height?a.toDataURL("image/jpeg",.6):a.toDataURL("image/png")}},Mf=0;X.DEFAULT_IMAGE=void 0;X.DEFAULT_MAPPING=300;X.prototype=Object.assign(Object.create(ja.prototype),{constructor:X,isTexture:!0,updateMatrix:function updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)},clone:function clone(){return new this.constructor().copy(this)},copy:function copy(a){this.name=a.name;this.image=a.image;this.mipmaps=a.mipmaps.slice(0);this.mapping=a.mapping;this.wrapS=a.wrapS;this.wrapT=a.wrapT;this.magFilter=a.magFilter;this.minFilter=a.minFilter;this.anisotropy=a.anisotropy;this.format=a.format;this.type=a.type;this.offset.copy(a.offset);this.repeat.copy(a.repeat);this.center.copy(a.center);this.rotation=a.rotation;this.matrixAutoUpdate=a.matrixAutoUpdate;this.matrix.copy(a.matrix);this.generateMipmaps=a.generateMipmaps;this.premultiplyAlpha=a.premultiplyAlpha;this.flipY=a.flipY;this.unpackAlignment=a.unpackAlignment;this.encoding=a.encoding;return this},toJSON:function toJSON(a){var b=void 0===a||"string"===typeof a;if(!b&&void 0!==a.textures[this.uuid])return a.textures[this.uuid];var c={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(void 0!==this.image){var d=this.image;void 0===d.uuid&&(d.uuid=R.generateUUID());if(!b&&void 0===a.images[d.uuid]){if(Array.isArray(d)){for(var e=[],f=0,g=d.length;f<g;f++){e.push(ib.getDataURL(d[f]))}}else e=ib.getDataURL(d);a.images[d.uuid]={uuid:d.uuid,url:e}}c.image=d.uuid}b||(a.textures[this.uuid]=c);return c},dispose:function dispose(){this.dispatchEvent({type:"dispose"})},transformUv:function transformUv(a){if(300!==this.mapping)return a;a.applyMatrix3(this.matrix);if(0>a.x||1<a.x)switch(this.wrapS){case 1E3:a.x-=_Mathfloor(a.x);break;case 1001:a.x=0>a.x?0:1;break;case 1002:a.x=1===_Mathabs(_Mathfloor(a.x)%2)?_Mathceil(a.x)-a.x:a.x-_Mathfloor(a.x);}if(0>a.y||1<a.y)switch(this.wrapT){case 1E3:a.y-=_Mathfloor(a.y);break;case 1001:a.y=0>a.y?0:1;break;case 1002:a.y=1===_Mathabs(_Mathfloor(a.y)%2)?_Mathceil(a.y)-a.y:a.y-_Mathfloor(a.y);}this.flipY&&(a.y=1-a.y);return a}});Object.defineProperty(X.prototype,"needsUpdate",{set:function set(a){!0===a&&this.version++}});Object.assign(ca.prototype,{isVector4:!0,set:function set(a,b,c,d){this.x=a;this.y=b;this.z=c;this.w=d;return this},setScalar:function setScalar(a){this.w=this.z=this.y=this.x=a;return this},setX:function setX(a){this.x=a;return this},setY:function setY(a){this.y=a;return this},setZ:function setZ(a){this.z=a;return this},setW:function setW(a){this.w=a;return this},setComponent:function setComponent(a,b){switch(a){case 0:this.x=b;break;case 1:this.y=b;break;case 2:this.z=b;break;case 3:this.w=b;break;default:throw Error("index is out of range: "+a);}return this},getComponent:function getComponent(a){switch(a){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw Error("index is out of range: "+a);}},clone:function clone(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function copy(a){this.x=a.x;this.y=a.y;this.z=a.z;this.w=void 0!==a.w?a.w:1;return this},add:function add(a,b){if(void 0!==b)return console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(a,b);this.x+=a.x;this.y+=a.y;this.z+=a.z;this.w+=a.w;return this},addScalar:function addScalar(a){this.x+=a;this.y+=a;this.z+=a;this.w+=a;return this},addVectors:function addVectors(a,b){this.x=a.x+b.x;this.y=a.y+b.y;this.z=a.z+b.z;this.w=a.w+b.w;return this},addScaledVector:function addScaledVector(a,b){this.x+=a.x*b;this.y+=a.y*b;this.z+=a.z*b;this.w+=a.w*b;return this},sub:function sub(a,b){if(void 0!==b)return console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(a,b);this.x-=a.x;this.y-=a.y;this.z-=a.z;this.w-=a.w;return this},subScalar:function subScalar(a){this.x-=a;this.y-=a;this.z-=a;this.w-=a;return this},subVectors:function subVectors(a,b){this.x=a.x-b.x;this.y=a.y-b.y;this.z=a.z-b.z;this.w=a.w-b.w;return this},multiplyScalar:function multiplyScalar(a){this.x*=a;this.y*=a;this.z*=a;this.w*=a;return this},applyMatrix4:function applyMatrix4(a){var b=this.x,c=this.y,d=this.z,e=this.w;a=a.elements;this.x=a[0]*b+a[4]*c+a[8]*d+a[12]*e;this.y=a[1]*b+a[5]*c+a[9]*d+a[13]*e;this.z=a[2]*b+a[6]*c+a[10]*d+a[14]*e;this.w=a[3]*b+a[7]*c+a[11]*d+a[15]*e;return this},divideScalar:function divideScalar(a){return this.multiplyScalar(1/a)},setAxisAngleFromQuaternion:function setAxisAngleFromQuaternion(a){this.w=2*_Mathacos(a.w);var b=_Mathsqrt(1-a.w*a.w);1E-4>b?(this.x=1,this.z=this.y=0):(this.x=a.x/b,this.y=a.y/b,this.z=a.z/b);return this},setAxisAngleFromRotationMatrix:function setAxisAngleFromRotationMatrix(a){a=a.elements;var b=a[0],c=a[4],d=a[8],e=a[1],f=a[5],g=a[9],h=a[2],k=a[6],m=a[10];if(.01>_Mathabs(c-e)&&.01>_Mathabs(d-h)&&.01>_Mathabs(g-k)){if(.1>_Mathabs(c+e)&&.1>_Mathabs(d+h)&&.1>_Mathabs(g+k)&&.1>_Mathabs(b+f+m-3))return this.set(1,0,0,0),this;a=_MathPI;b=(b+1)/2;f=(f+1)/2;m=(m+1)/2;c=(c+e)/4;d=(d+h)/4;g=(g+k)/4;b>f&&b>m?.01>b?(k=0,c=h=.707106781):(k=_Mathsqrt(b),h=c/k,c=d/k):f>m?.01>f?(k=.707106781,h=0,c=.707106781):(h=_Mathsqrt(f),k=c/h,c=g/h):.01>m?(h=k=.707106781,c=0):(c=_Mathsqrt(m),k=d/c,h=g/c);this.set(k,h,c,a);return this}a=_Mathsqrt((k-g)*(k-g)+(d-h)*(d-h)+(e-c)*(e-c));.001>_Mathabs(a)&&(a=1);this.x=(k-g)/a;this.y=(d-h)/a;this.z=(e-c)/a;this.w=_Mathacos((b+f+m-1)/2);return this},min:function min(a){this.x=_Mathmin(this.x,a.x);this.y=_Mathmin(this.y,a.y);this.z=_Mathmin(this.z,a.z);this.w=_Mathmin(this.w,a.w);return this},max:function max(a){this.x=_Mathmax(this.x,a.x);this.y=_Mathmax(this.y,a.y);this.z=_Mathmax(this.z,a.z);this.w=_Mathmax(this.w,a.w);return this},clamp:function clamp(a,b){this.x=_Mathmax(a.x,_Mathmin(b.x,this.x));this.y=_Mathmax(a.y,_Mathmin(b.y,this.y));this.z=_Mathmax(a.z,_Mathmin(b.z,this.z));this.w=_Mathmax(a.w,_Mathmin(b.w,this.w));return this},clampScalar:function(){var a,b;return function(c,d){void 0===a&&(a=new ca,b=new ca);a.set(c,c,c,c);b.set(d,d,d,d);return this.clamp(a,b)}}(),clampLength:function clampLength(a,b){var c=this.length();return this.divideScalar(c||1).multiplyScalar(_Mathmax(a,_Mathmin(b,c)))},floor:function floor(){this.x=_Mathfloor(this.x);this.y=_Mathfloor(this.y);this.z=_Mathfloor(this.z);this.w=_Mathfloor(this.w);return this},ceil:function ceil(){this.x=_Mathceil(this.x);this.y=_Mathceil(this.y);this.z=_Mathceil(this.z);this.w=_Mathceil(this.w);return this},round:function round(){this.x=_Mathround(this.x);this.y=_Mathround(this.y);this.z=_Mathround(this.z);this.w=_Mathround(this.w);return this},roundToZero:function roundToZero(){this.x=0>this.x?_Mathceil(this.x):_Mathfloor(this.x);this.y=0>this.y?_Mathceil(this.y):_Mathfloor(this.y);this.z=0>this.z?_Mathceil(this.z):_Mathfloor(this.z);this.w=0>this.w?_Mathceil(this.w):_Mathfloor(this.w);return this},negate:function negate(){this.x=-this.x;this.y=-this.y;this.z=-this.z;this.w=-this.w;return this},dot:function dot(a){return this.x*a.x+this.y*a.y+this.z*a.z+this.w*a.w},lengthSq:function lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function length(){return _Mathsqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},manhattanLength:function manhattanLength(){return _Mathabs(this.x)+_Mathabs(this.y)+_Mathabs(this.z)+_Mathabs(this.w)},normalize:function normalize(){return this.divideScalar(this.length()||1)},setLength:function setLength(a){return this.normalize().multiplyScalar(a)},lerp:function lerp(a,b){this.x+=(a.x-this.x)*b;this.y+=(a.y-this.y)*b;this.z+=(a.z-this.z)*b;this.w+=(a.w-this.w)*b;return this},lerpVectors:function lerpVectors(a,b,c){return this.subVectors(b,a).multiplyScalar(c).add(a)},equals:function equals(a){return a.x===this.x&&a.y===this.y&&a.z===this.z&&a.w===this.w},fromArray:function fromArray(a,b){void 0===b&&(b=0);this.x=a[b];this.y=a[b+1];this.z=a[b+2];this.w=a[b+3];return this},toArray:function toArray(a,b){void 0===a&&(a=[]);void 0===b&&(b=0);a[b]=this.x;a[b+1]=this.y;a[b+2]=this.z;a[b+3]=this.w;return a},fromBufferAttribute:function fromBufferAttribute(a,b,c){void 0!==c&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute().");this.x=a.getX(b);this.y=a.getY(b);this.z=a.getZ(b);this.w=a.getW(b);return this}});jb.prototype=Object.assign(Object.create(ja.prototype),{constructor:jb,isWebGLRenderTarget:!0,setSize:function setSize(a,b){if(this.width!==a||this.height!==b)this.width=a,this.height=b,this.dispose();this.viewport.set(0,0,a,b);this.scissor.set(0,0,a,b)},clone:function clone(){return new this.constructor().copy(this)},copy:function copy(a){this.width=a.width;this.height=a.height;this.viewport.copy(a.viewport);this.texture=a.texture.clone();this.depthBuffer=a.depthBuffer;this.stencilBuffer=a.stencilBuffer;this.depthTexture=a.depthTexture;return this},dispose:function dispose(){this.dispatchEvent({type:"dispose"})}});Ib.prototype=Object.create(jb.prototype);Ib.prototype.constructor=Ib;Ib.prototype.isWebGLRenderTargetCube=!0;kb.prototype=Object.create(X.prototype);kb.prototype.constructor=kb;kb.prototype.isDataTexture=!0;Object.assign(Wa.prototype,{isBox3:!0,set:function set(a,b){this.min.copy(a);this.max.copy(b);return this},setFromArray:function setFromArray(a){for(var b=1/0,c=1/0,d=1/0,e=-Infinity,f=-Infinity,g=-Infinity,h=0,k=a.length;h<k;h+=3){var m=a[h],l=a[h+1],p=a[h+2];m<b&&(b=m);l<c&&(c=l);p<d&&(d=p);m>e&&(e=m);l>f&&(f=l);p>g&&(g=p)}this.min.set(b,c,d);this.max.set(e,f,g);return this},setFromBufferAttribute:function setFromBufferAttribute(a){for(var b=1/0,c=1/0,d=1/0,e=-Infinity,f=-Infinity,g=-Infinity,h=0,k=a.count;h<k;h++){var m=a.getX(h),l=a.getY(h),p=a.getZ(h);m<b&&(b=m);l<c&&(c=l);p<d&&(d=p);m>e&&(e=m);l>f&&(f=l);p>g&&(g=p)}this.min.set(b,c,d);this.max.set(e,f,g);return this},setFromPoints:function setFromPoints(a){this.makeEmpty();for(var b=0,c=a.length;b<c;b++){this.expandByPoint(a[b])}return this},setFromCenterAndSize:function(){var a=new n;return function(b,c){c=a.copy(c).multiplyScalar(.5);this.min.copy(b).sub(c);this.max.copy(b).add(c);return this}}(),setFromObject:function setFromObject(a){this.makeEmpty();return this.expandByObject(a)},clone:function clone(){return new this.constructor().copy(this)},copy:function copy(a){this.min.copy(a.min);this.max.copy(a.max);return this},makeEmpty:function makeEmpty(){this.min.x=this.min.y=this.min.z=1/0;this.max.x=this.max.y=this.max.z=-Infinity;return this},isEmpty:function isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},getCenter:function getCenter(a){void 0===a&&(console.warn("THREE.Box3: .getCenter() target is now required"),a=new n);return this.isEmpty()?a.set(0,0,0):a.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function getSize(a){void 0===a&&(console.warn("THREE.Box3: .getSize() target is now required"),a=new n);return this.isEmpty()?a.set(0,0,0):a.subVectors(this.max,this.min)},expandByPoint:function expandByPoint(a){this.min.min(a);this.max.max(a);return this},expandByVector:function expandByVector(a){this.min.sub(a);this.max.add(a);return this},expandByScalar:function expandByScalar(a){this.min.addScalar(-a);this.max.addScalar(a);return this},expandByObject:function(){function a(a){var f=a.geometry;if(void 0!==f)if(f.isGeometry)for(f=f.vertices,c=0,d=f.length;c<d;c++){e.copy(f[c]),e.applyMatrix4(a.matrixWorld),b.expandByPoint(e)}else if(f.isBufferGeometry&&(f=f.attributes.position,void 0!==f))for(c=0,d=f.count;c<d;c++){e.fromBufferAttribute(f,c).applyMatrix4(a.matrixWorld),b.expandByPoint(e)}}var b,c,d,e=new n;return function(c){b=this;c.updateMatrixWorld(!0);c.traverse(a);return this}}(),containsPoint:function containsPoint(a){return a.x<this.min.x||a.x>this.max.x||a.y<this.min.y||a.y>this.max.y||a.z<this.min.z||a.z>this.max.z?!1:!0},containsBox:function containsBox(a){return this.min.x<=a.min.x&&a.max.x<=this.max.x&&this.min.y<=a.min.y&&a.max.y<=this.max.y&&this.min.z<=a.min.z&&a.max.z<=this.max.z},getParameter:function getParameter(a,b){void 0===b&&(console.warn("THREE.Box3: .getParameter() target is now required"),b=new n);return b.set((a.x-this.min.x)/(this.max.x-this.min.x),(a.y-this.min.y)/(this.max.y-this.min.y),(a.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function intersectsBox(a){return a.max.x<this.min.x||a.min.x>this.max.x||a.max.y<this.min.y||a.min.y>this.max.y||a.max.z<this.min.z||a.min.z>this.max.z?!1:!0},intersectsSphere:function(){var a=new n;return function(b){this.clampPoint(b.center,a);return a.distanceToSquared(b.center)<=b.radius*b.radius}}(),intersectsPlane:function intersectsPlane(a){if(0<a.normal.x){var b=a.normal.x*this.min.x,c=a.normal.x*this.max.x}else b=a.normal.x*this.max.x,c=a.normal.x*this.min.x;0<a.normal.y?(b+=a.normal.y*this.min.y,c+=a.normal.y*this.max.y):(b+=a.normal.y*this.max.y,c+=a.normal.y*this.min.y);0<a.normal.z?(b+=a.normal.z*this.min.z,c+=a.normal.z*this.max.z):(b+=a.normal.z*this.max.z,c+=a.normal.z*this.min.z);return b<=-a.constant&&c>=-a.constant},intersectsTriangle:function(){function a(a){var e,f=0;for(e=a.length-3;f<=e;f+=3){h.fromArray(a,f);var g=m.x*_Mathabs(h.x)+m.y*_Mathabs(h.y)+m.z*_Mathabs(h.z),k=b.dot(h),l=c.dot(h),q=d.dot(h);if(_Mathmax(-_Mathmax(k,l,q),_Mathmin(k,l,q))>g)return!1}return!0}var b=new n,c=new n,d=new n,e=new n,f=new n,g=new n,h=new n,k=new n,m=new n,l=new n;return function(h){if(this.isEmpty())return!1;this.getCenter(k);m.subVectors(this.max,k);b.subVectors(h.a,k);c.subVectors(h.b,k);d.subVectors(h.c,k);e.subVectors(c,b);f.subVectors(d,c);g.subVectors(b,d);h=[0,-e.z,e.y,0,-f.z,f.y,0,-g.z,g.y,e.z,0,-e.x,f.z,0,-f.x,g.z,0,-g.x,-e.y,e.x,0,-f.y,f.x,0,-g.y,g.x,0];if(!a(h))return!1;h=[1,0,0,0,1,0,0,0,1];if(!a(h))return!1;l.crossVectors(e,f);h=[l.x,l.y,l.z];return a(h)}}(),clampPoint:function clampPoint(a,b){void 0===b&&(console.warn("THREE.Box3: .clampPoint() target is now required"),b=new n);return b.copy(a).clamp(this.min,this.max)},distanceToPoint:function(){var a=new n;return function(b){return a.copy(b).clamp(this.min,this.max).sub(b).length()}}(),getBoundingSphere:function(){var a=new n;return function(b){void 0===b&&(console.warn("THREE.Box3: .getBoundingSphere() target is now required"),b=new Ea);this.getCenter(b.center);b.radius=.5*this.getSize(a).length();return b}}(),intersect:function intersect(a){this.min.max(a.min);this.max.min(a.max);this.isEmpty()&&this.makeEmpty();return this},union:function union(a){this.min.min(a.min);this.max.max(a.max);return this},applyMatrix4:function(){var a=[new n,new n,new n,new n,new n,new n,new n,new n];return function(b){if(this.isEmpty())return this;a[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(b);a[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(b);a[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(b);a[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(b);a[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(b);a[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(b);a[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(b);a[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(b);this.setFromPoints(a);return this}}(),translate:function translate(a){this.min.add(a);this.max.add(a);return this},equals:function equals(a){return a.min.equals(this.min)&&a.max.equals(this.max)}});Object.assign(Ea.prototype,{set:function set(a,b){this.center.copy(a);this.radius=b;return this},setFromPoints:function(){var a=new Wa;return function(b,c){var d=this.center;void 0!==c?d.copy(c):a.setFromPoints(b).getCenter(d);for(var e=c=0,f=b.length;e<f;e++){c=_Mathmax(c,d.distanceToSquared(b[e]))}this.radius=_Mathsqrt(c);return this}}(),clone:function clone(){return new this.constructor().copy(this)},copy:function copy(a){this.center.copy(a.center);this.radius=a.radius;return this},empty:function empty(){return 0>=this.radius},containsPoint:function containsPoint(a){return a.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function distanceToPoint(a){return a.distanceTo(this.center)-this.radius},intersectsSphere:function intersectsSphere(a){var b=this.radius+a.radius;return a.center.distanceToSquared(this.center)<=b*b},intersectsBox:function intersectsBox(a){return a.intersectsSphere(this)},intersectsPlane:function intersectsPlane(a){return _Mathabs(a.distanceToPoint(this.center))<=this.radius},clampPoint:function clampPoint(a,b){var c=this.center.distanceToSquared(a);void 0===b&&(console.warn("THREE.Sphere: .clampPoint() target is now required"),b=new n);b.copy(a);c>this.radius*this.radius&&(b.sub(this.center).normalize(),b.multiplyScalar(this.radius).add(this.center));return b},getBoundingBox:function getBoundingBox(a){void 0===a&&(console.warn("THREE.Sphere: .getBoundingBox() target is now required"),a=new Wa);a.set(this.center,this.center);a.expandByScalar(this.radius);return a},applyMatrix4:function applyMatrix4(a){this.center.applyMatrix4(a);this.radius*=a.getMaxScaleOnAxis();return this},translate:function translate(a){this.center.add(a);return this},equals:function equals(a){return a.center.equals(this.center)&&a.radius===this.radius}});Object.assign(Pa.prototype,{set:function set(a,b){this.normal.copy(a);this.constant=b;return this},setComponents:function setComponents(a,b,c,d){this.normal.set(a,b,c);this.constant=d;return this},setFromNormalAndCoplanarPoint:function setFromNormalAndCoplanarPoint(a,b){this.normal.copy(a);this.constant=-b.dot(this.normal);return this},setFromCoplanarPoints:function(){var a=new n,b=new n;return function(c,d,e){d=a.subVectors(e,d).cross(b.subVectors(c,d)).normalize();this.setFromNormalAndCoplanarPoint(d,c);return this}}(),clone:function clone(){return new this.constructor().copy(this)},copy:function copy(a){this.normal.copy(a.normal);this.constant=a.constant;return this},normalize:function normalize(){var a=1/this.normal.length();this.normal.multiplyScalar(a);this.constant*=a;return this},negate:function negate(){this.constant*=-1;this.normal.negate();return this},distanceToPoint:function distanceToPoint(a){return this.normal.dot(a)+this.constant},distanceToSphere:function distanceToSphere(a){return this.distanceToPoint(a.center)-a.radius},projectPoint:function projectPoint(a,b){void 0===b&&(console.warn("THREE.Plane: .projectPoint() target is now required"),b=new n);return b.copy(this.normal).multiplyScalar(-this.distanceToPoint(a)).add(a)},intersectLine:function(){var a=new n;return function(b,c){void 0===c&&(console.warn("THREE.Plane: .intersectLine() target is now required"),c=new n);var d=b.delta(a),e=this.normal.dot(d);if(0===e){if(0===this.distanceToPoint(b.start))return c.copy(b.start)}else if(e=-(b.start.dot(this.normal)+this.constant)/e,!(0>e||1<e))return c.copy(d).multiplyScalar(e).add(b.start)}}(),intersectsLine:function intersectsLine(a){var b=this.distanceToPoint(a.start);a=this.distanceToPoint(a.end);return 0>b&&0<a||0>a&&0<b},intersectsBox:function intersectsBox(a){return a.intersectsPlane(this)},intersectsSphere:function intersectsSphere(a){return a.intersectsPlane(this)},coplanarPoint:function coplanarPoint(a){void 0===a&&(console.warn("THREE.Plane: .coplanarPoint() target is now required"),a=new n);return a.copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(){var a=new n,b=new da;return function(c,d){d=d||b.getNormalMatrix(c);c=this.coplanarPoint(a).applyMatrix4(c);d=this.normal.applyMatrix3(d).normalize();this.constant=-c.dot(d);return this}}(),translate:function translate(a){this.constant-=a.dot(this.normal);return this},equals:function equals(a){return a.normal.equals(this.normal)&&a.constant===this.constant}});Object.assign(td.prototype,{set:function set(a,b,c,d,e,f){var g=this.planes;g[0].copy(a);g[1].copy(b);g[2].copy(c);g[3].copy(d);g[4].copy(e);g[5].copy(f);return this},clone:function clone(){return new this.constructor().copy(this)},copy:function copy(a){for(var b=this.planes,c=0;6>c;c++){b[c].copy(a.planes[c])}return this},setFromMatrix:function setFromMatrix(a){var b=this.planes,c=a.elements;a=c[0];var d=c[1],e=c[2],f=c[3],g=c[4],h=c[5],k=c[6],m=c[7],l=c[8],p=c[9],r=c[10],n=c[11],t=c[12],v=c[13],w=c[14];c=c[15];b[0].setComponents(f-a,m-g,n-l,c-t).normalize();b[1].setComponents(f+a,m+g,n+l,c+t).normalize();b[2].setComponents(f+d,m+h,n+p,c+v).normalize();b[3].setComponents(f-d,m-h,n-p,c-v).normalize();b[4].setComponents(f-e,m-k,n-r,c-w).normalize();b[5].setComponents(f+e,m+k,n+r,c+w).normalize();return this},intersectsObject:function(){var a=new Ea;return function(b){var c=b.geometry;null===c.boundingSphere&&c.computeBoundingSphere();a.copy(c.boundingSphere).applyMatrix4(b.matrixWorld);return this.intersectsSphere(a)}}(),intersectsSprite:function(){var a=new Ea;return function(b){a.center.set(0,0,0);a.radius=.7071067811865476;a.applyMatrix4(b.matrixWorld);return this.intersectsSphere(a)}}(),intersectsSphere:function intersectsSphere(a){var b=this.planes,c=a.center;a=-a.radius;for(var d=0;6>d;d++){if(b[d].distanceToPoint(c)<a)return!1}return!0},intersectsBox:function(){var a=new n;return function(b){for(var c=this.planes,d=0,e;6>d;d++){e=c[d];a.x=0<e.normal.x?b.max.x:b.min.x;a.y=0<e.normal.y?b.max.y:b.min.y;a.z=0<e.normal.z?b.max.z:b.min.z;if(0>e.distanceToPoint(a))return!1}return!0}}(),containsPoint:function containsPoint(a){for(var b=this.planes,c=0;6>c;c++){if(0>b[c].distanceToPoint(a))return!1}return!0}});var H={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );",bsdfs:"float punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\tif( cutoffDistance > 0.0 ) {\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t}\n\treturn distanceFalloff;\n#else\n\tif( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t}\n\treturn 1.0;\n#endif\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE  = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS  = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nvec3 BRDF_Specular_GGX_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 AB = vec2( -1.04, 1.04 ) * a004 + r.zw;\n\treturn specularColor * AB.x + AB.y;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tfDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vViewPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\t#if ! defined( PHYSICAL ) && ! defined( PHONG ) && ! defined( MATCAP )\n\t\tvarying vec3 vViewPosition;\n\t#endif\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG ) && ! defined( MATCAP )\n\tvarying vec3 vViewPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG ) && ! defined( MATCAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif",color_fragment:"#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_vertex:"#ifdef USE_COLOR\n\tvColor.xyz = color.xyz;\n#endif",common:"#define PI 3.14159265359\n#define PI2 6.28318530718\n#define PI_HALF 1.5707963267949\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\n#define LOG2 1.442695\n#define EPSILON 1e-6\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#define whiteCompliment(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n#define cubeUV_textureSize (1024.0)\nint getFaceFromDirection(vec3 direction) {\n\tvec3 absDirection = abs(direction);\n\tint face = -1;\n\tif( absDirection.x > absDirection.z ) {\n\t\tif(absDirection.x > absDirection.y )\n\t\t\tface = direction.x > 0.0 ? 0 : 3;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\telse {\n\t\tif(absDirection.z > absDirection.y )\n\t\t\tface = direction.z > 0.0 ? 2 : 5;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\treturn face;\n}\n#define cubeUV_maxLods1  (log2(cubeUV_textureSize*0.25) - 1.0)\n#define cubeUV_rangeClamp (exp2((6.0 - 1.0) * 2.0))\nvec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {\n\tfloat scale = exp2(cubeUV_maxLods1 - roughnessLevel);\n\tfloat dxRoughness = dFdx(roughness);\n\tfloat dyRoughness = dFdy(roughness);\n\tvec3 dx = dFdx( vec * scale * dxRoughness );\n\tvec3 dy = dFdy( vec * scale * dyRoughness );\n\tfloat d = max( dot( dx, dx ), dot( dy, dy ) );\n\td = clamp(d, 1.0, cubeUV_rangeClamp);\n\tfloat mipLevel = 0.5 * log2(d);\n\treturn vec2(floor(mipLevel), fract(mipLevel));\n}\n#define cubeUV_maxLods2 (log2(cubeUV_textureSize*0.25) - 2.0)\n#define cubeUV_rcpTextureSize (1.0 / cubeUV_textureSize)\nvec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {\n\tmipLevel = roughnessLevel > cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;\n\tfloat a = 16.0 * cubeUV_rcpTextureSize;\n\tvec2 exp2_packed = exp2( vec2( roughnessLevel, mipLevel ) );\n\tvec2 rcp_exp2_packed = vec2( 1.0 ) / exp2_packed;\n\tfloat powScale = exp2_packed.x * exp2_packed.y;\n\tfloat scale = rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;\n\tfloat mipOffset = 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;\n\tbool bRes = mipLevel == 0.0;\n\tscale =  bRes && (scale < a) ? a : scale;\n\tvec3 r;\n\tvec2 offset;\n\tint face = getFaceFromDirection(direction);\n\tfloat rcpPowScale = 1.0 / powScale;\n\tif( face == 0) {\n\t\tr = vec3(direction.x, -direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 1) {\n\t\tr = vec3(direction.y, direction.x, direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 2) {\n\t\tr = vec3(direction.z, direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 3) {\n\t\tr = vec3(direction.x, direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse if( face == 4) {\n\t\tr = vec3(direction.y, direction.x, -direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse {\n\t\tr = vec3(direction.z, -direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\tr = normalize(r);\n\tfloat texelOffset = 0.5 * cubeUV_rcpTextureSize;\n\tvec2 s = ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;\n\tvec2 base = offset + vec2( texelOffset );\n\treturn base + s * ( scale - 2.0 * texelOffset );\n}\n#define cubeUV_maxLods3 (log2(cubeUV_textureSize*0.25) - 3.0)\nvec4 textureCubeUV( sampler2D envMap, vec3 reflectedDirection, float roughness ) {\n\tfloat roughnessVal = roughness* cubeUV_maxLods3;\n\tfloat r1 = floor(roughnessVal);\n\tfloat r2 = r1 + 1.0;\n\tfloat t = fract(roughnessVal);\n\tvec2 mipInfo = MipLevelInfo(reflectedDirection, r1, roughness);\n\tfloat s = mipInfo.y;\n\tfloat level0 = mipInfo.x;\n\tfloat level1 = level0 + 1.0;\n\tlevel1 = level1 > 5.0 ? 5.0 : level1;\n\tlevel0 += min( floor( s + 0.5 ), 5.0 );\n\tvec2 uv_10 = getCubeUV(reflectedDirection, r1, level0);\n\tvec4 color10 = envMapTexelToLinear(texture2D(envMap, uv_10));\n\tvec2 uv_20 = getCubeUV(reflectedDirection, r2, level0);\n\tvec4 color20 = envMapTexelToLinear(texture2D(envMap, uv_20));\n\tvec4 result = mix(color10, color20, t);\n\treturn vec4(result.rgb, 1.0);\n}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = normalMatrix * objectNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, uv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * value.a * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat M = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat D = max( maxRange / maxRGB, 1.0 );\n\tD = min( floor( D ) / 255.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value )  {\n\tvec3 Xp_Y_XYZp = value.rgb * cLogLuvM;\n\tXp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract( Le );\n\tvResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = Xp_Y_XYZp.rgb * cLogLuvInverseM;\n\treturn vec4( max( vRGB, 0.0 ), 1.0 );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\tvec2 sampleUV;\n\t\treflectVec = normalize( reflectVec );\n\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\tvec4 envColor = texture2D( envMap, sampleUV );\n\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\treflectVec = normalize( reflectVec );\n\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );\n\t\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\tenvColor = envMapTexelToLinear( envColor );\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_pars_fragment:"#if defined( USE_ENVMAP ) || defined( PHYSICAL )\n\tuniform float reflectivity;\n\tuniform float envMapIntensity;\n#endif\n#ifdef USE_ENVMAP\n\t#if ! defined( PHYSICAL ) && ( defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) )\n\t\tvarying vec3 vWorldPosition;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\tuniform float flipEnvMap;\n\tuniform int maxMipLevel;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( PHYSICAL )\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, queryVec, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar + 0.79248 - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in GeometricContext geometry, const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( -geometry.viewDir, geometry.normal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( -geometry.viewDir, geometry.normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( blinnShininessExponent, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, queryReflectVec, BlinnExponentToGGXRoughness(blinnShininessExponent ));\n\t\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\t\tvec2 sampleUV;\n\t\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tfogDepth = -mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float fogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * fogDepth * fogDepth * LOG2 ) );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef TOON\n\tuniform sampler2D gradientMap;\n\tvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\t\tfloat dotNL = dot( normal, lightDirection );\n\t\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t\t#ifdef USE_GRADIENTMAP\n\t\t\treturn texture2D( gradientMap, coord ).rgb;\n\t\t#else\n\t\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t\t#endif\n\t}\n#endif",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\treflectedLight.indirectDiffuse += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvLightFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n#endif",lights_pars_begin:"uniform vec3 ambientLightColor;\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t\tfloat shadowCameraNear;\n\t\tfloat shadowCameraFar;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3\tdiffuseColor;\n\tvec3\tspecularColor;\n\tfloat\tspecularShininess;\n\tfloat\tspecularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifdef TOON\n\t\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#else\n\t\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\t\tvec3 irradiance = dotNL * directLight.color;\n\t#endif\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nmaterial.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );\n#ifdef STANDARD\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.clearCoat = saturate( clearCoat );\tmaterial.clearCoatRoughness = clamp( clearCoatRoughness, 0.04, 1.0 );\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3\tdiffuseColor;\n\tfloat\tspecularRoughness;\n\tvec3\tspecularColor;\n\t#ifndef STANDARD\n\t\tfloat clearCoat;\n\t\tfloat clearCoatRoughness;\n\t#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearCoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifndef STANDARD\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.directSpecular += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry, material.specularColor, material.specularRoughness );\n\treflectedLight.directDiffuse += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\t#ifndef STANDARD\n\t\treflectedLight.directSpecular += irradiance * material.clearCoat * BRDF_Specular_GGX( directLight, geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 clearCoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifndef STANDARD\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\tfloat dotNL = dotNV;\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.indirectSpecular += ( 1.0 - clearCoatDHR ) * radiance * BRDF_Specular_GGX_Environment( geometry, material.specularColor, material.specularRoughness );\n\t#ifndef STANDARD\n\t\treflectedLight.indirectSpecular += clearCoatRadiance * material.clearCoat * BRDF_Specular_GGX_Environment( geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\n#define Material_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.specularRoughness )\n#define Material_ClearCoat_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.clearCoatRoughness )\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = normalize( vViewPosition );\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( pointLight.shadow, directLight.visible ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( spotLight.shadow, directLight.visible ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( directionalLight.shadow, directLight.visible ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearCoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tirradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getLightProbeIndirectRadiance( geometry, Material_BlinnShininessExponent( material ), maxMipLevel );\n\t#ifndef STANDARD\n\t\tclearCoatRadiance += getLightProbeIndirectRadiance( geometry, Material_ClearCoat_BlinnShininessExponent( material ), maxMipLevel );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, clearCoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t#else\n\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\tgl_Position.z *= gl_Position.w;\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#ifdef USE_MAP\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\tvec4 mapTexel = texture2D( map, uv );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif",map_particle_pars_fragment:"#ifdef USE_MAP\n\tuniform mat3 uvTransform;\n\tuniform sampler2D map;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\n\tobjectNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\n\tobjectNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\n\tobjectNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\t#ifndef USE_MORPHNORMALS\n\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\n\ttransformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\n\ttransformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\n\ttransformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\ttransformed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\n\ttransformed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\n\ttransformed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\n\ttransformed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\n\t#endif\n#endif",normal_fragment_begin:"#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n#endif",normal_fragment_maps:"#ifdef USE_NORMALMAP\n\t#ifdef OBJECTSPACE_NORMALMAP\n\t\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\t#ifdef FLIP_SIDED\n\t\t\tnormal = - normal;\n\t\t#endif\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t#endif\n\t\tnormal = normalize( normalMatrix * normal );\n\t#else\n\t\tnormal = perturbNormal2Arb( -vViewPosition, normal );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n\t#ifdef OBJECTSPACE_NORMALMAP\n\t\tuniform mat3 normalMatrix;\n\t#else\n\t\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\n\t\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\t\tvec2 st0 = dFdx( vUv.st );\n\t\t\tvec2 st1 = dFdy( vUv.st );\n\t\t\tfloat scale = sign( st1.t * st0.s - st0.t * st1.s );\n\t\t\tvec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );\n\t\t\tvec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );\n\t\t\tvec3 N = normalize( surf_norm );\n\t\t\tmat3 tsn = mat3( S, T, N );\n\t\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\t\tmapN.xy *= normalScale;\n\t\t\tmapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t\treturn normalize( tsn * mapN );\n\t\t}\n\t#endif\n#endif",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#if defined( DITHERING )\n  gl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#if defined( DITHERING )\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tfloat texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\n\t\tconst vec2 offset = vec2( 0.0, 1.0 );\n\t\tvec2 texelSize = vec2( 1.0 ) / size;\n\t\tvec2 centroidUV = floor( uv * size + 0.5 ) / size;\n\t\tfloat lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\n\t\tfloat lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\n\t\tfloat rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\n\t\tfloat rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\n\t\tvec2 f = fract( uv * size + 0.5 );\n\t\tfloat a = mix( lb, lt, f.y );\n\t\tfloat b = mix( rb, rt, f.y );\n\t\tfloat c = mix( a, b, f.x );\n\t\treturn c;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tshadow = (\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n#endif",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tDirectionalLight directionalLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tshadow *= bool( directionalLight.shadow ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tSpotLight spotLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tshadow *= bool( spotLight.shadow ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tPointLight pointLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tshadow *= bool( pointLight.shadow ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n  gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n\t#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nuniform float toneMappingWhitePoint;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\nvec3 Uncharted2ToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( ( color * ( 2.51 * color + 0.03 ) ) / ( color * ( 2.43 * color + 0.59 ) + 0.14 ) );\n}",uv_pars_fragment:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif",uv_vertex:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = uv2;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\n\tvec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );\n#endif",background_frag:"uniform sampler2D t2D;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - gl_FragCoord.z ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( gl_FragCoord.z );\n\t#endif\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV;\n\tsampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\n\tvec4 texColor = texture2D( tEquirect, sampleUV );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\tvLineDistance = scale * lineDistance;\n\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\treflectedLight.indirectDiffuse += texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t\tmatcapColor = matcapTexelToLinear( matcapColor );\n\t#else\n\t\tvec4 matcapColor = vec4( 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#ifndef FLAT_SHADED\n\t\tvNormal = normalize( transformedNormal );\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphysical_frag:"#define PHYSICAL\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifndef STANDARD\n\tuniform float clearCoat;\n\tuniform float clearCoatRoughness;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <envmap_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define PHYSICAL\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",normal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}",normal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <fog_fragment>\n}",shadow_vert:"#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}"},ah={clone:Jb,merge:ma},bh={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Object.assign(I.prototype,{isColor:!0,r:1,g:1,b:1,set:function set(a){a&&a.isColor?this.copy(a):"number"===typeof a?this.setHex(a):"string"===typeof a&&this.setStyle(a);return this},setScalar:function setScalar(a){this.b=this.g=this.r=a;return this},setHex:function setHex(a){a=_Mathfloor(a);this.r=(255&a>>16)/255;this.g=(255&a>>8)/255;this.b=(255&a)/255;return this},setRGB:function setRGB(a,b,c){this.r=a;this.g=b;this.b=c;return this},setHSL:function(){function a(a,c,d){0>d&&(d+=1);1<d&&--d;return d<1/6?a+6*(c-a)*d:.5>d?c:d<2/3?a+6*(c-a)*(2/3-d):a}return function(b,c,d){b=R.euclideanModulo(b,1);c=R.clamp(c,0,1);d=R.clamp(d,0,1);0===c?this.r=this.g=this.b=d:(c=.5>=d?d*(1+c):d+c-d*c,d=2*d-c,this.r=a(d,c,b+1/3),this.g=a(d,c,b),this.b=a(d,c,b-1/3));return this}}(),setStyle:function setStyle(a){function b(b){void 0!==b&&1>parseFloat(b)&&console.warn("THREE.Color: Alpha component of "+a+" will be ignored.")}var c;if(c=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(a)){var d=c[2];switch(c[1]){case"rgb":case"rgba":if(c=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(d))return this.r=_Mathmin(255,parseInt(c[1],10))/255,this.g=_Mathmin(255,parseInt(c[2],10))/255,this.b=_Mathmin(255,parseInt(c[3],10))/255,b(c[5]),this;if(c=/^(\d+)%\s*,\s*(\d+)%\s*,\s*(\d+)%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(d))return this.r=_Mathmin(100,parseInt(c[1],10))/100,this.g=_Mathmin(100,parseInt(c[2],10))/100,this.b=_Mathmin(100,parseInt(c[3],10))/100,b(c[5]),this;break;case"hsl":case"hsla":if(c=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)%\s*,\s*(\d+)%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(d)){d=parseFloat(c[1])/360;var e=parseInt(c[2],10)/100,f=parseInt(c[3],10)/100;b(c[5]);return this.setHSL(d,e,f)}}}else if(c=/^#([A-Fa-f0-9]+)$/.exec(a)){c=c[1];d=c.length;if(3===d)return this.r=parseInt(c.charAt(0)+c.charAt(0),16)/255,this.g=parseInt(c.charAt(1)+c.charAt(1),16)/255,this.b=parseInt(c.charAt(2)+c.charAt(2),16)/255,this;if(6===d)return this.r=parseInt(c.charAt(0)+c.charAt(1),16)/255,this.g=parseInt(c.charAt(2)+c.charAt(3),16)/255,this.b=parseInt(c.charAt(4)+c.charAt(5),16)/255,this}a&&0<a.length&&(c=bh[a],void 0!==c?this.setHex(c):console.warn("THREE.Color: Unknown color "+a));return this},clone:function clone(){return new this.constructor(this.r,this.g,this.b)},copy:function copy(a){this.r=a.r;this.g=a.g;this.b=a.b;return this},copyGammaToLinear:function copyGammaToLinear(a,b){void 0===b&&(b=2);this.r=_Mathpow(a.r,b);this.g=_Mathpow(a.g,b);this.b=_Mathpow(a.b,b);return this},copyLinearToGamma:function copyLinearToGamma(a,b){void 0===b&&(b=2);b=0<b?1/b:1;this.r=_Mathpow(a.r,b);this.g=_Mathpow(a.g,b);this.b=_Mathpow(a.b,b);return this},convertGammaToLinear:function convertGammaToLinear(a){this.copyGammaToLinear(this,a);return this},convertLinearToGamma:function convertLinearToGamma(a){this.copyLinearToGamma(this,a);return this},copySRGBToLinear:function(){function a(a){return .04045>a?.0773993808*a:_Mathpow(.9478672986*a+.0521327014,2.4)}return function(b){this.r=a(b.r);this.g=a(b.g);this.b=a(b.b);return this}}(),copyLinearToSRGB:function(){function a(a){return .0031308>a?12.92*a:1.055*_Mathpow(a,.41666)-.055}return function(b){this.r=a(b.r);this.g=a(b.g);this.b=a(b.b);return this}}(),convertSRGBToLinear:function convertSRGBToLinear(){this.copySRGBToLinear(this);return this},convertLinearToSRGB:function convertLinearToSRGB(){this.copyLinearToSRGB(this);return this},getHex:function getHex(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function getHexString(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function getHSL(a){void 0===a&&(console.warn("THREE.Color: .getHSL() target is now required"),a={h:0,s:0,l:0});var b=this.r,c=this.g,d=this.b,e=_Mathmax(b,c,d),f=_Mathmin(b,c,d),g,h=(f+e)/2;if(f===e)f=g=0;else{var k=e-f;f=.5>=h?k/(e+f):k/(2-e-f);switch(e){case b:g=(c-d)/k+(c<d?6:0);break;case c:g=(d-b)/k+2;break;case d:g=(b-c)/k+4;}g/=6}a.h=g;a.s=f;a.l=h;return a},getStyle:function getStyle(){return"rgb("+(0|255*this.r)+","+(0|255*this.g)+","+(0|255*this.b)+")"},offsetHSL:function(){var a={};return function(b,c,d){this.getHSL(a);a.h+=b;a.s+=c;a.l+=d;this.setHSL(a.h,a.s,a.l);return this}}(),add:function add(a){this.r+=a.r;this.g+=a.g;this.b+=a.b;return this},addColors:function addColors(a,b){this.r=a.r+b.r;this.g=a.g+b.g;this.b=a.b+b.b;return this},addScalar:function addScalar(a){this.r+=a;this.g+=a;this.b+=a;return this},sub:function sub(a){this.r=_Mathmax(0,this.r-a.r);this.g=_Mathmax(0,this.g-a.g);this.b=_Mathmax(0,this.b-a.b);return this},multiply:function multiply(a){this.r*=a.r;this.g*=a.g;this.b*=a.b;return this},multiplyScalar:function multiplyScalar(a){this.r*=a;this.g*=a;this.b*=a;return this},lerp:function lerp(a,b){this.r+=(a.r-this.r)*b;this.g+=(a.g-this.g)*b;this.b+=(a.b-this.b)*b;return this},lerpHSL:function(){var a={h:0,s:0,l:0},b={h:0,s:0,l:0};return function(c,d){this.getHSL(a);c.getHSL(b);c=R.lerp(a.h,b.h,d);var e=R.lerp(a.s,b.s,d);d=R.lerp(a.l,b.l,d);this.setHSL(c,e,d);return this}}(),equals:function equals(a){return a.r===this.r&&a.g===this.g&&a.b===this.b},fromArray:function fromArray(a,b){void 0===b&&(b=0);this.r=a[b];this.g=a[b+1];this.b=a[b+2];return this},toArray:function toArray(a,b){void 0===a&&(a=[]);void 0===b&&(b=0);a[b]=this.r;a[b+1]=this.g;a[b+2]=this.b;return a},toJSON:function toJSON(){return this.getHex()}});var F={common:{diffuse:{value:new I(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new da},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new z(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2E3},fogColor:{value:new I(16777215)}},lights:{ambientLightColor:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}}},points:{diffuse:{value:new I(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},uvTransform:{value:new da}},sprite:{diffuse:{value:new I(15658734)},opacity:{value:1},center:{value:new z(.5,.5)},rotation:{value:0},map:{value:null},uvTransform:{value:new da}}},Qa={basic:{uniforms:ma([F.common,F.specularmap,F.envmap,F.aomap,F.lightmap,F.fog]),vertexShader:H.meshbasic_vert,fragmentShader:H.meshbasic_frag},lambert:{uniforms:ma([F.common,F.specularmap,F.envmap,F.aomap,F.lightmap,F.emissivemap,F.fog,F.lights,{emissive:{value:new I(0)}}]),vertexShader:H.meshlambert_vert,fragmentShader:H.meshlambert_frag},phong:{uniforms:ma([F.common,F.specularmap,F.envmap,F.aomap,F.lightmap,F.emissivemap,F.bumpmap,F.normalmap,F.displacementmap,F.gradientmap,F.fog,F.lights,{emissive:{value:new I(0)},specular:{value:new I(1118481)},shininess:{value:30}}]),vertexShader:H.meshphong_vert,fragmentShader:H.meshphong_frag},standard:{uniforms:ma([F.common,F.envmap,F.aomap,F.lightmap,F.emissivemap,F.bumpmap,F.normalmap,F.displacementmap,F.roughnessmap,F.metalnessmap,F.fog,F.lights,{emissive:{value:new I(0)},roughness:{value:.5},metalness:{value:.5},envMapIntensity:{value:1}}]),vertexShader:H.meshphysical_vert,fragmentShader:H.meshphysical_frag},matcap:{uniforms:ma([F.common,F.bumpmap,F.normalmap,F.displacementmap,F.fog,{matcap:{value:null}}]),vertexShader:H.meshmatcap_vert,fragmentShader:H.meshmatcap_frag},points:{uniforms:ma([F.points,F.fog]),vertexShader:H.points_vert,fragmentShader:H.points_frag},dashed:{uniforms:ma([F.common,F.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:H.linedashed_vert,fragmentShader:H.linedashed_frag},depth:{uniforms:ma([F.common,F.displacementmap]),vertexShader:H.depth_vert,fragmentShader:H.depth_frag},normal:{uniforms:ma([F.common,F.bumpmap,F.normalmap,F.displacementmap,{opacity:{value:1}}]),vertexShader:H.normal_vert,fragmentShader:H.normal_frag},sprite:{uniforms:ma([F.sprite,F.fog]),vertexShader:H.sprite_vert,fragmentShader:H.sprite_frag},background:{uniforms:{uvTransform:{value:new da},t2D:{value:null}},vertexShader:H.background_vert,fragmentShader:H.background_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:H.cube_vert,fragmentShader:H.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:H.equirect_vert,fragmentShader:H.equirect_frag},distanceRGBA:{uniforms:ma([F.common,F.displacementmap,{referencePosition:{value:new n},nearDistance:{value:1},farDistance:{value:1E3}}]),vertexShader:H.distanceRGBA_vert,fragmentShader:H.distanceRGBA_frag},shadow:{uniforms:ma([F.lights,F.fog,{color:{value:new I(0)},opacity:{value:1}}]),vertexShader:H.shadow_vert,fragmentShader:H.shadow_frag}};Qa.physical={uniforms:ma([Qa.standard.uniforms,{clearCoat:{value:0},clearCoatRoughness:{value:0}}]),vertexShader:H.meshphysical_vert,fragmentShader:H.meshphysical_frag};Object.assign(Kb.prototype,{clone:function clone(){return new this.constructor().copy(this)},copy:function copy(a){this.a=a.a;this.b=a.b;this.c=a.c;this.normal.copy(a.normal);this.color.copy(a.color);this.materialIndex=a.materialIndex;for(var b=0,c=a.vertexNormals.length;b<c;b++){this.vertexNormals[b]=a.vertexNormals[b].clone()}b=0;for(c=a.vertexColors.length;b<c;b++){this.vertexColors[b]=a.vertexColors[b].clone()}return this}});lb.RotationOrders="XYZ YZX ZXY XZY YXZ ZYX".split(" ");lb.DefaultOrder="XYZ";Object.defineProperties(lb.prototype,{x:{get:function get(){return this._x},set:function set(a){this._x=a;this.onChangeCallback()}},y:{get:function get(){return this._y},set:function set(a){this._y=a;this.onChangeCallback()}},z:{get:function get(){return this._z},set:function set(a){this._z=a;this.onChangeCallback()}},order:{get:function get(){return this._order},set:function set(a){this._order=a;this.onChangeCallback()}}});Object.assign(lb.prototype,{isEuler:!0,set:function set(a,b,c,d){this._x=a;this._y=b;this._z=c;this._order=d||this._order;this.onChangeCallback();return this},clone:function clone(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function copy(a){this._x=a._x;this._y=a._y;this._z=a._z;this._order=a._order;this.onChangeCallback();return this},setFromRotationMatrix:function setFromRotationMatrix(a,b,c){var _Mathasin=Math.asin,d=R.clamp,e=a.elements;a=e[0];var f=e[4],g=e[8],h=e[1],k=e[5],m=e[9],l=e[2],p=e[6];e=e[10];b=b||this._order;"XYZ"===b?(this._y=_Mathasin(d(g,-1,1)),.99999>_Mathabs(g)?(this._x=_Mathatan(-m,e),this._z=_Mathatan(-f,a)):(this._x=_Mathatan(p,k),this._z=0)):"YXZ"===b?(this._x=_Mathasin(-d(m,-1,1)),.99999>_Mathabs(m)?(this._y=_Mathatan(g,e),this._z=_Mathatan(h,k)):(this._y=_Mathatan(-l,a),this._z=0)):"ZXY"===b?(this._x=_Mathasin(d(p,-1,1)),.99999>_Mathabs(p)?(this._y=_Mathatan(-l,e),this._z=_Mathatan(-f,k)):(this._y=0,this._z=_Mathatan(h,a))):"ZYX"===b?(this._y=_Mathasin(-d(l,-1,1)),.99999>_Mathabs(l)?(this._x=_Mathatan(p,e),this._z=_Mathatan(h,a)):(this._x=0,this._z=_Mathatan(-f,k))):"YZX"===b?(this._z=_Mathasin(d(h,-1,1)),.99999>_Mathabs(h)?(this._x=_Mathatan(-m,k),this._y=_Mathatan(-l,a)):(this._x=0,this._y=_Mathatan(g,e))):"XZY"===b?(this._z=_Mathasin(-d(f,-1,1)),.99999>_Mathabs(f)?(this._x=_Mathatan(p,k),this._y=_Mathatan(g,a)):(this._x=_Mathatan(-m,e),this._y=0)):console.warn("THREE.Euler: .setFromRotationMatrix() given unsupported order: "+b);this._order=b;if(!1!==c)this.onChangeCallback();return this},setFromQuaternion:function(){var a=new O;return function(b,c,d){a.makeRotationFromQuaternion(b);return this.setFromRotationMatrix(a,c,d)}}(),setFromVector3:function setFromVector3(a,b){return this.set(a.x,a.y,a.z,b||this._order)},reorder:function(){var a=new ka;return function(b){a.setFromEuler(this);return this.setFromQuaternion(a,b)}}(),equals:function equals(a){return a._x===this._x&&a._y===this._y&&a._z===this._z&&a._order===this._order},fromArray:function fromArray(a){this._x=a[0];this._y=a[1];this._z=a[2];void 0!==a[3]&&(this._order=a[3]);this.onChangeCallback();return this},toArray:function toArray(a,b){void 0===a&&(a=[]);void 0===b&&(b=0);a[b]=this._x;a[b+1]=this._y;a[b+2]=this._z;a[b+3]=this._order;return a},toVector3:function toVector3(a){return a?a.set(this._x,this._y,this._z):new n(this._x,this._y,this._z)},onChange:function onChange(a){this.onChangeCallback=a;return this},onChangeCallback:function onChangeCallback(){}});Object.assign(Xd.prototype,{set:function set(a){this.mask=0|1<<a},enable:function enable(a){this.mask=0|(this.mask|1<<a)},toggle:function toggle(a){this.mask^=0|1<<a},disable:function disable(a){this.mask&=~(0|1<<a)},test:function test(a){return 0!==(this.mask&a.mask)}});var Of=0;D.DefaultUp=new n(0,1,0);D.DefaultMatrixAutoUpdate=!0;D.prototype=Object.assign(Object.create(ja.prototype),{constructor:D,isObject3D:!0,onBeforeRender:function onBeforeRender(){},onAfterRender:function onAfterRender(){},applyMatrix:function applyMatrix(a){this.matrix.multiplyMatrices(a,this.matrix);this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function applyQuaternion(a){this.quaternion.premultiply(a);return this},setRotationFromAxisAngle:function setRotationFromAxisAngle(a,b){this.quaternion.setFromAxisAngle(a,b)},setRotationFromEuler:function setRotationFromEuler(a){this.quaternion.setFromEuler(a,!0)},setRotationFromMatrix:function setRotationFromMatrix(a){this.quaternion.setFromRotationMatrix(a)},setRotationFromQuaternion:function setRotationFromQuaternion(a){this.quaternion.copy(a)},rotateOnAxis:function(){var a=new ka;return function(b,c){a.setFromAxisAngle(b,c);this.quaternion.multiply(a);return this}}(),rotateOnWorldAxis:function(){var a=new ka;return function(b,c){a.setFromAxisAngle(b,c);this.quaternion.premultiply(a);return this}}(),rotateX:function(){var a=new n(1,0,0);return function(b){return this.rotateOnAxis(a,b)}}(),rotateY:function(){var a=new n(0,1,0);return function(b){return this.rotateOnAxis(a,b)}}(),rotateZ:function(){var a=new n(0,0,1);return function(b){return this.rotateOnAxis(a,b)}}(),translateOnAxis:function(){var a=new n;return function(b,c){a.copy(b).applyQuaternion(this.quaternion);this.position.add(a.multiplyScalar(c));return this}}(),translateX:function(){var a=new n(1,0,0);return function(b){return this.translateOnAxis(a,b)}}(),translateY:function(){var a=new n(0,1,0);return function(b){return this.translateOnAxis(a,b)}}(),translateZ:function(){var a=new n(0,0,1);return function(b){return this.translateOnAxis(a,b)}}(),localToWorld:function localToWorld(a){return a.applyMatrix4(this.matrixWorld)},worldToLocal:function(){var a=new O;return function(b){return b.applyMatrix4(a.getInverse(this.matrixWorld))}}(),lookAt:function(){var a=new ka,b=new O,c=new n,d=new n;return function(e,f,g){e.isVector3?c.copy(e):c.set(e,f,g);e=this.parent;this.updateWorldMatrix(!0,!1);d.setFromMatrixPosition(this.matrixWorld);this.isCamera||this.isLight?b.lookAt(d,c,this.up):b.lookAt(c,d,this.up);this.quaternion.setFromRotationMatrix(b);e&&(b.extractRotation(e.matrixWorld),a.setFromRotationMatrix(b),this.quaternion.premultiply(a.inverse()))}}(),add:function add(a){if(1<arguments.length){for(var b=0;b<arguments.length;b++){this.add(arguments[b])}return this}if(a===this)return console.error("THREE.Object3D.add: object can't be added as a child of itself.",a),this;a&&a.isObject3D?(null!==a.parent&&a.parent.remove(a),a.parent=this,a.dispatchEvent({type:"added"}),this.children.push(a)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",a);return this},remove:function remove(a){if(1<arguments.length){for(var b=0;b<arguments.length;b++){this.remove(arguments[b])}return this}b=this.children.indexOf(a);-1!==b&&(a.parent=null,a.dispatchEvent({type:"removed"}),this.children.splice(b,1));return this},getObjectById:function getObjectById(a){return this.getObjectByProperty("id",a)},getObjectByName:function getObjectByName(a){return this.getObjectByProperty("name",a)},getObjectByProperty:function getObjectByProperty(a,b){if(this[a]===b)return this;for(var c=0,d=this.children.length,e;c<d;c++){e=this.children[c].getObjectByProperty(a,b);if(void 0!==e)return e}},getWorldPosition:function getWorldPosition(a){void 0===a&&(console.warn("THREE.Object3D: .getWorldPosition() target is now required"),a=new n);this.updateMatrixWorld(!0);return a.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(){var a=new n,b=new n;return function(c){void 0===c&&(console.warn("THREE.Object3D: .getWorldQuaternion() target is now required"),c=new ka);this.updateMatrixWorld(!0);this.matrixWorld.decompose(a,c,b);return c}}(),getWorldScale:function(){var a=new n,b=new ka;return function(c){void 0===c&&(console.warn("THREE.Object3D: .getWorldScale() target is now required"),c=new n);this.updateMatrixWorld(!0);this.matrixWorld.decompose(a,b,c);return c}}(),getWorldDirection:function getWorldDirection(a){void 0===a&&(console.warn("THREE.Object3D: .getWorldDirection() target is now required"),a=new n);this.updateMatrixWorld(!0);var b=this.matrixWorld.elements;return a.set(b[8],b[9],b[10]).normalize()},raycast:function raycast(){},traverse:function traverse(a){a(this);for(var b=this.children,c=0,d=b.length;c<d;c++){b[c].traverse(a)}},traverseVisible:function traverseVisible(a){if(!1!==this.visible){a(this);for(var b=this.children,c=0,d=b.length;c<d;c++){b[c].traverseVisible(a)}}},traverseAncestors:function traverseAncestors(a){var b=this.parent;null!==b&&(a(b),b.traverseAncestors(a))},updateMatrix:function updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale);this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function updateMatrixWorld(a){this.matrixAutoUpdate&&this.updateMatrix();if(this.matrixWorldNeedsUpdate||a)null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,a=!0;for(var b=this.children,c=0,d=b.length;c<d;c++){b[c].updateMatrixWorld(a)}},updateWorldMatrix:function updateWorldMatrix(a,b){var c=this.parent;!0===a&&null!==c&&c.updateWorldMatrix(!0,!1);this.matrixAutoUpdate&&this.updateMatrix();null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix);if(!0===b)for(a=this.children,b=0,c=a.length;b<c;b++){a[b].updateWorldMatrix(!1,!0)}},toJSON:function toJSON(a){function b(b,c){void 0===b[c.uuid]&&(b[c.uuid]=c.toJSON(a));return c.uuid}function c(a){var b=[],c;for(c in a){var d=a[c];delete d.metadata;b.push(d)}return b}var d=void 0===a||"string"===typeof a,e={};d&&(a={geometries:{},materials:{},textures:{},images:{},shapes:{}},e.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});var f={uuid:this.uuid,type:this.type};""!==this.name&&(f.name=this.name);!0===this.castShadow&&(f.castShadow=!0);!0===this.receiveShadow&&(f.receiveShadow=!0);!1===this.visible&&(f.visible=!1);!1===this.frustumCulled&&(f.frustumCulled=!1);0!==this.renderOrder&&(f.renderOrder=this.renderOrder);"{}"!==JSON.stringify(this.userData)&&(f.userData=this.userData);f.layers=this.layers.mask;f.matrix=this.matrix.toArray();!1===this.matrixAutoUpdate&&(f.matrixAutoUpdate=!1);if(this.isMesh||this.isLine||this.isPoints){f.geometry=b(a.geometries,this.geometry);var g=this.geometry.parameters;if(void 0!==g&&void 0!==g.shapes)if(g=g.shapes,Array.isArray(g))for(var h=0,k=g.length;h<k;h++){b(a.shapes,g[h])}else b(a.shapes,g)}if(void 0!==this.material)if(Array.isArray(this.material)){g=[];h=0;for(k=this.material.length;h<k;h++){g.push(b(a.materials,this.material[h]))}f.material=g}else f.material=b(a.materials,this.material);if(0<this.children.length)for(f.children=[],h=0;h<this.children.length;h++){f.children.push(this.children[h].toJSON(a).object)}if(d){d=c(a.geometries);h=c(a.materials);k=c(a.textures);var m=c(a.images);g=c(a.shapes);0<d.length&&(e.geometries=d);0<h.length&&(e.materials=h);0<k.length&&(e.textures=k);0<m.length&&(e.images=m);0<g.length&&(e.shapes=g)}e.object=f;return e},clone:function clone(a){return new this.constructor().copy(this,a)},copy:function copy(a,b){void 0===b&&(b=!0);this.name=a.name;this.up.copy(a.up);this.position.copy(a.position);this.quaternion.copy(a.quaternion);this.scale.copy(a.scale);this.matrix.copy(a.matrix);this.matrixWorld.copy(a.matrixWorld);this.matrixAutoUpdate=a.matrixAutoUpdate;this.matrixWorldNeedsUpdate=a.matrixWorldNeedsUpdate;this.layers.mask=a.layers.mask;this.visible=a.visible;this.castShadow=a.castShadow;this.receiveShadow=a.receiveShadow;this.frustumCulled=a.frustumCulled;this.renderOrder=a.renderOrder;this.userData=JSON.parse(JSON.stringify(a.userData));if(!0===b)for(b=0;b<a.children.length;b++){this.add(a.children[b].clone())}return this}});var Pf=0;Q.prototype=Object.assign(Object.create(ja.prototype),{constructor:Q,isGeometry:!0,applyMatrix:function applyMatrix(a){for(var b=new da().getNormalMatrix(a),c=0,d=this.vertices.length;c<d;c++){this.vertices[c].applyMatrix4(a)}c=0;for(d=this.faces.length;c<d;c++){a=this.faces[c];a.normal.applyMatrix3(b).normalize();for(var e=0,f=a.vertexNormals.length;e<f;e++){a.vertexNormals[e].applyMatrix3(b).normalize()}}null!==this.boundingBox&&this.computeBoundingBox();null!==this.boundingSphere&&this.computeBoundingSphere();this.normalsNeedUpdate=this.verticesNeedUpdate=!0;return this},rotateX:function(){var a=new O;return function(b){a.makeRotationX(b);this.applyMatrix(a);return this}}(),rotateY:function(){var a=new O;return function(b){a.makeRotationY(b);this.applyMatrix(a);return this}}(),rotateZ:function(){var a=new O;return function(b){a.makeRotationZ(b);this.applyMatrix(a);return this}}(),translate:function(){var a=new O;return function(b,c,d){a.makeTranslation(b,c,d);this.applyMatrix(a);return this}}(),scale:function(){var a=new O;return function(b,c,d){a.makeScale(b,c,d);this.applyMatrix(a);return this}}(),lookAt:function(){var a=new D;return function(b){a.lookAt(b);a.updateMatrix();this.applyMatrix(a.matrix)}}(),fromBufferGeometry:function fromBufferGeometry(a){function b(a,b,d,e){var f=void 0===h?[]:[c.colors[a].clone(),c.colors[b].clone(),c.colors[d].clone()],l=void 0===g?[]:[new n().fromArray(g,3*a),new n().fromArray(g,3*b),new n().fromArray(g,3*d)];e=new Kb(a,b,d,l,f,e);c.faces.push(e);void 0!==k&&c.faceVertexUvs[0].push([new z().fromArray(k,2*a),new z().fromArray(k,2*b),new z().fromArray(k,2*d)]);void 0!==m&&c.faceVertexUvs[1].push([new z().fromArray(m,2*a),new z().fromArray(m,2*b),new z().fromArray(m,2*d)])}var c=this,d=null!==a.index?a.index.array:void 0,e=a.attributes,f=e.position.array,g=void 0!==e.normal?e.normal.array:void 0,h=void 0!==e.color?e.color.array:void 0,k=void 0!==e.uv?e.uv.array:void 0,m=void 0!==e.uv2?e.uv2.array:void 0;void 0!==m&&(this.faceVertexUvs[1]=[]);for(var l=e=0;e<f.length;e+=3,l+=2){c.vertices.push(new n().fromArray(f,e)),void 0!==h&&c.colors.push(new I().fromArray(h,e))}var p=a.groups;if(0<p.length)for(e=0;e<p.length;e++){f=p[e];var r=f.start,x=f.count;l=r;for(r+=x;l<r;l+=3){void 0!==d?b(d[l],d[l+1],d[l+2],f.materialIndex):b(l,l+1,l+2,f.materialIndex)}}else if(void 0!==d)for(e=0;e<d.length;e+=3){b(d[e],d[e+1],d[e+2])}else for(e=0;e<f.length/3;e+=3){b(e,e+1,e+2)}this.computeFaceNormals();null!==a.boundingBox&&(this.boundingBox=a.boundingBox.clone());null!==a.boundingSphere&&(this.boundingSphere=a.boundingSphere.clone());return this},center:function(){var a=new n;return function(){this.computeBoundingBox();this.boundingBox.getCenter(a).negate();this.translate(a.x,a.y,a.z);return this}}(),normalize:function normalize(){this.computeBoundingSphere();var a=this.boundingSphere.center,b=this.boundingSphere.radius;b=0===b?1:1/b;var c=new O;c.set(b,0,0,-b*a.x,0,b,0,-b*a.y,0,0,b,-b*a.z,0,0,0,1);this.applyMatrix(c);return this},computeFaceNormals:function computeFaceNormals(){for(var a=new n,b=new n,c=0,d=this.faces.length;c<d;c++){var e=this.faces[c],f=this.vertices[e.a],g=this.vertices[e.b];a.subVectors(this.vertices[e.c],g);b.subVectors(f,g);a.cross(b);a.normalize();e.normal.copy(a)}},computeVertexNormals:function computeVertexNormals(a){void 0===a&&(a=!0);var b,c=Array(this.vertices.length),d=0;for(b=this.vertices.length;d<b;d++){c[d]=new n}if(a){var e=new n,f=new n;a=0;for(d=this.faces.length;a<d;a++){b=this.faces[a];var g=this.vertices[b.a],h=this.vertices[b.b],k=this.vertices[b.c];e.subVectors(k,h);f.subVectors(g,h);e.cross(f);c[b.a].add(e);c[b.b].add(e);c[b.c].add(e)}}else for(this.computeFaceNormals(),a=0,d=this.faces.length;a<d;a++){b=this.faces[a],c[b.a].add(b.normal),c[b.b].add(b.normal),c[b.c].add(b.normal)}d=0;for(b=this.vertices.length;d<b;d++){c[d].normalize()}a=0;for(d=this.faces.length;a<d;a++){b=this.faces[a],g=b.vertexNormals,3===g.length?(g[0].copy(c[b.a]),g[1].copy(c[b.b]),g[2].copy(c[b.c])):(g[0]=c[b.a].clone(),g[1]=c[b.b].clone(),g[2]=c[b.c].clone())}0<this.faces.length&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function computeFlatVertexNormals(){var a;this.computeFaceNormals();var b=0;for(a=this.faces.length;b<a;b++){var c=this.faces[b],d=c.vertexNormals;3===d.length?(d[0].copy(c.normal),d[1].copy(c.normal),d[2].copy(c.normal)):(d[0]=c.normal.clone(),d[1]=c.normal.clone(),d[2]=c.normal.clone())}0<this.faces.length&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function computeMorphNormals(){var a,b,c=0;for(b=this.faces.length;c<b;c++){var d=this.faces[c];d.__originalFaceNormal?d.__originalFaceNormal.copy(d.normal):d.__originalFaceNormal=d.normal.clone();d.__originalVertexNormals||(d.__originalVertexNormals=[]);var e=0;for(a=d.vertexNormals.length;e<a;e++){d.__originalVertexNormals[e]?d.__originalVertexNormals[e].copy(d.vertexNormals[e]):d.__originalVertexNormals[e]=d.vertexNormals[e].clone()}}var f=new Q;f.faces=this.faces;e=0;for(a=this.morphTargets.length;e<a;e++){if(!this.morphNormals[e]){this.morphNormals[e]={};this.morphNormals[e].faceNormals=[];this.morphNormals[e].vertexNormals=[];d=this.morphNormals[e].faceNormals;var g=this.morphNormals[e].vertexNormals;c=0;for(b=this.faces.length;c<b;c++){var h=new n,k={a:new n,b:new n,c:new n};d.push(h);g.push(k)}}g=this.morphNormals[e];f.vertices=this.morphTargets[e].vertices;f.computeFaceNormals();f.computeVertexNormals();c=0;for(b=this.faces.length;c<b;c++){d=this.faces[c],h=g.faceNormals[c],k=g.vertexNormals[c],h.copy(d.normal),k.a.copy(d.vertexNormals[0]),k.b.copy(d.vertexNormals[1]),k.c.copy(d.vertexNormals[2])}}c=0;for(b=this.faces.length;c<b;c++){d=this.faces[c],d.normal=d.__originalFaceNormal,d.vertexNormals=d.__originalVertexNormals}},computeBoundingBox:function computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new Wa);this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new Ea);this.boundingSphere.setFromPoints(this.vertices)},merge:function merge(a,b,c){if(a&&a.isGeometry){var d,e=this.vertices.length,f=this.vertices,g=a.vertices,h=this.faces,k=a.faces,m=this.faceVertexUvs[0],l=a.faceVertexUvs[0],p=this.colors,r=a.colors;void 0===c&&(c=0);void 0!==b&&(d=new da().getNormalMatrix(b));a=0;for(var n=g.length,t;a<n;a++){t=g[a].clone();void 0!==b&&t.applyMatrix4(b);f.push(t)}a=0;for(n=r.length;a<n;a++){p.push(r[a].clone())}a=0;for(n=k.length;a<n;a++){g=k[a];var v=g.vertexNormals;r=g.vertexColors;p=new Kb(g.a+e,g.b+e,g.c+e);p.normal.copy(g.normal);void 0!==d&&p.normal.applyMatrix3(d).normalize();b=0;for(f=v.length;b<f;b++){t=v[b].clone(),void 0!==d&&t.applyMatrix3(d).normalize(),p.vertexNormals.push(t)}p.color.copy(g.color);b=0;for(f=r.length;b<f;b++){t=r[b],p.vertexColors.push(t.clone())}p.materialIndex=g.materialIndex+c;h.push(p)}a=0;for(n=l.length;a<n;a++){if(c=l[a],d=[],void 0!==c){b=0;for(f=c.length;b<f;b++){d.push(c[b].clone())}m.push(d)}}}else console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",a)},mergeMesh:function mergeMesh(a){a&&a.isMesh?(a.matrixAutoUpdate&&a.updateMatrix(),this.merge(a.geometry,a.matrix)):console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",a)},mergeVertices:function mergeVertices(){var a={},b=[],c=[],d=10000,e,f=0;for(e=this.vertices.length;f<e;f++){var g=this.vertices[f];g=_Mathround(g.x*d)+"_"+_Mathround(g.y*d)+"_"+_Mathround(g.z*d);void 0===a[g]?(a[g]=f,b.push(this.vertices[f]),c[f]=b.length-1):c[f]=c[a[g]]}a=[];f=0;for(e=this.faces.length;f<e;f++){for(d=this.faces[f],d.a=c[d.a],d.b=c[d.b],d.c=c[d.c],d=[d.a,d.b,d.c],g=0;3>g;g++){if(d[g]===d[(g+1)%3]){a.push(f);break}}}for(f=a.length-1;0<=f;f--){for(d=a[f],this.faces.splice(d,1),c=0,e=this.faceVertexUvs.length;c<e;c++){this.faceVertexUvs[c].splice(d,1)}}f=this.vertices.length-b.length;this.vertices=b;return f},setFromPoints:function setFromPoints(a){this.vertices=[];for(var b=0,c=a.length,d;b<c;b++){d=a[b];this.vertices.push(new n(d.x,d.y,d.z||0))}return this},sortFacesByMaterialIndex:function sortFacesByMaterialIndex(){for(var a=this.faces,b=a.length,c=0;c<b;c++){a[c]._id=c}a.sort(function(a,b){return a.materialIndex-b.materialIndex});var d=this.faceVertexUvs[0],e=this.faceVertexUvs[1],f,g;d&&d.length===b&&(f=[]);e&&e.length===b&&(g=[]);for(c=0;c<b;c++){var h=a[c]._id;f&&f.push(d[h]);g&&g.push(e[h])}f&&(this.faceVertexUvs[0]=f);g&&(this.faceVertexUvs[1]=g)},toJSON:function toJSON(){function a(a,b,c){return c?a|1<<b:a&~(1<<b)}function b(a){var b=a.x.toString()+a.y.toString()+a.z.toString();if(void 0!==m[b])return m[b];m[b]=k.length/3;k.push(a.x,a.y,a.z);return m[b]}function c(a){var b=a.r.toString()+a.g.toString()+a.b.toString();if(void 0!==p[b])return p[b];p[b]=l.length;l.push(a.getHex());return p[b]}function d(a){var b=a.x.toString()+a.y.toString();if(void 0!==n[b])return n[b];n[b]=r.length/2;r.push(a.x,a.y);return n[b]}var e={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"},uuid:this.uuid,type:this.type};""!==this.name&&(e.name=this.name);if(void 0!==this.parameters){var f=this.parameters,g;for(g in f){void 0!==f[g]&&(e[g]=f[g])}return e}f=[];for(g=0;g<this.vertices.length;g++){var h=this.vertices[g];f.push(h.x,h.y,h.z)}h=[];var k=[],m={},l=[],p={},r=[],n={};for(g=0;g<this.faces.length;g++){var t=this.faces[g],v=void 0!==this.faceVertexUvs[0][g],w=0<t.normal.length(),y=0<t.vertexNormals.length,u=1!==t.color.r||1!==t.color.g||1!==t.color.b,z=0<t.vertexColors.length,G=0;G=a(G,0,0);G=a(G,1,!0);G=a(G,2,!1);G=a(G,3,v);G=a(G,4,w);G=a(G,5,y);G=a(G,6,u);G=a(G,7,z);h.push(G);h.push(t.a,t.b,t.c);h.push(t.materialIndex);v&&(v=this.faceVertexUvs[0][g],h.push(d(v[0]),d(v[1]),d(v[2])));w&&h.push(b(t.normal));y&&(w=t.vertexNormals,h.push(b(w[0]),b(w[1]),b(w[2])));u&&h.push(c(t.color));z&&(t=t.vertexColors,h.push(c(t[0]),c(t[1]),c(t[2])))}e.data={};e.data.vertices=f;e.data.normals=k;0<l.length&&(e.data.colors=l);0<r.length&&(e.data.uvs=[r]);e.data.faces=h;return e},clone:function clone(){return new Q().copy(this)},copy:function copy(a){var b,c,d;this.vertices=[];this.colors=[];this.faces=[];this.faceVertexUvs=[[]];this.morphTargets=[];this.morphNormals=[];this.skinWeights=[];this.skinIndices=[];this.lineDistances=[];this.boundingSphere=this.boundingBox=null;this.name=a.name;var e=a.vertices,f=0;for(b=e.length;f<b;f++){this.vertices.push(e[f].clone())}e=a.colors;f=0;for(b=e.length;f<b;f++){this.colors.push(e[f].clone())}e=a.faces;f=0;for(b=e.length;f<b;f++){this.faces.push(e[f].clone())}f=0;for(b=a.faceVertexUvs.length;f<b;f++){var g=a.faceVertexUvs[f];void 0===this.faceVertexUvs[f]&&(this.faceVertexUvs[f]=[]);e=0;for(c=g.length;e<c;e++){var h=g[e],k=[],m=0;for(d=h.length;m<d;m++){k.push(h[m].clone())}this.faceVertexUvs[f].push(k)}}m=a.morphTargets;f=0;for(b=m.length;f<b;f++){d={};d.name=m[f].name;if(void 0!==m[f].vertices)for(d.vertices=[],e=0,c=m[f].vertices.length;e<c;e++){d.vertices.push(m[f].vertices[e].clone())}if(void 0!==m[f].normals)for(d.normals=[],e=0,c=m[f].normals.length;e<c;e++){d.normals.push(m[f].normals[e].clone())}this.morphTargets.push(d)}m=a.morphNormals;f=0;for(b=m.length;f<b;f++){d={};if(void 0!==m[f].vertexNormals)for(d.vertexNormals=[],e=0,c=m[f].vertexNormals.length;e<c;e++){g=m[f].vertexNormals[e],h={},h.a=g.a.clone(),h.b=g.b.clone(),h.c=g.c.clone(),d.vertexNormals.push(h)}if(void 0!==m[f].faceNormals)for(d.faceNormals=[],e=0,c=m[f].faceNormals.length;e<c;e++){d.faceNormals.push(m[f].faceNormals[e].clone())}this.morphNormals.push(d)}e=a.skinWeights;f=0;for(b=e.length;f<b;f++){this.skinWeights.push(e[f].clone())}e=a.skinIndices;f=0;for(b=e.length;f<b;f++){this.skinIndices.push(e[f].clone())}e=a.lineDistances;f=0;for(b=e.length;f<b;f++){this.lineDistances.push(e[f])}f=a.boundingBox;null!==f&&(this.boundingBox=f.clone());f=a.boundingSphere;null!==f&&(this.boundingSphere=f.clone());this.elementsNeedUpdate=a.elementsNeedUpdate;this.verticesNeedUpdate=a.verticesNeedUpdate;this.uvsNeedUpdate=a.uvsNeedUpdate;this.normalsNeedUpdate=a.normalsNeedUpdate;this.colorsNeedUpdate=a.colorsNeedUpdate;this.lineDistancesNeedUpdate=a.lineDistancesNeedUpdate;this.groupsNeedUpdate=a.groupsNeedUpdate;return this},dispose:function dispose(){this.dispatchEvent({type:"dispose"})}});Object.defineProperty(E.prototype,"needsUpdate",{set:function set(a){!0===a&&this.version++}});Object.assign(E.prototype,{isBufferAttribute:!0,onUploadCallback:function onUploadCallback(){},setArray:function setArray(a){if(Array.isArray(a))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.count=void 0!==a?a.length/this.itemSize:0;this.array=a;return this},setDynamic:function setDynamic(a){this.dynamic=a;return this},copy:function copy(a){this.name=a.name;this.array=new a.array.constructor(a.array);this.itemSize=a.itemSize;this.count=a.count;this.normalized=a.normalized;this.dynamic=a.dynamic;return this},copyAt:function copyAt(a,b,c){a*=this.itemSize;c*=b.itemSize;for(var d=0,e=this.itemSize;d<e;d++){this.array[a+d]=b.array[c+d]}return this},copyArray:function copyArray(a){this.array.set(a);return this},copyColorsArray:function copyColorsArray(a){for(var b=this.array,c=0,d=0,e=a.length,f;d<e;d++){f=a[d];void 0===f&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",d),f=new I);b[c++]=f.r;b[c++]=f.g;b[c++]=f.b}return this},copyVector2sArray:function copyVector2sArray(a){for(var b=this.array,c=0,d=0,e=a.length,f;d<e;d++){f=a[d];void 0===f&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",d),f=new z);b[c++]=f.x;b[c++]=f.y}return this},copyVector3sArray:function copyVector3sArray(a){for(var b=this.array,c=0,d=0,e=a.length,f;d<e;d++){f=a[d];void 0===f&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",d),f=new n);b[c++]=f.x;b[c++]=f.y;b[c++]=f.z}return this},copyVector4sArray:function copyVector4sArray(a){for(var b=this.array,c=0,d=0,e=a.length,f;d<e;d++){f=a[d];void 0===f&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",d),f=new ca);b[c++]=f.x;b[c++]=f.y;b[c++]=f.z;b[c++]=f.w}return this},set:function set(a,b){void 0===b&&(b=0);this.array.set(a,b);return this},getX:function getX(a){return this.array[a*this.itemSize]},setX:function setX(a,b){this.array[a*this.itemSize]=b;return this},getY:function getY(a){return this.array[a*this.itemSize+1]},setY:function setY(a,b){this.array[a*this.itemSize+1]=b;return this},getZ:function getZ(a){return this.array[a*this.itemSize+2]},setZ:function setZ(a,b){this.array[a*this.itemSize+2]=b;return this},getW:function getW(a){return this.array[a*this.itemSize+3]},setW:function setW(a,b){this.array[a*this.itemSize+3]=b;return this},setXY:function setXY(a,b,c){a*=this.itemSize;this.array[a+0]=b;this.array[a+1]=c;return this},setXYZ:function setXYZ(a,b,c,d){a*=this.itemSize;this.array[a+0]=b;this.array[a+1]=c;this.array[a+2]=d;return this},setXYZW:function setXYZW(a,b,c,d,e){a*=this.itemSize;this.array[a+0]=b;this.array[a+1]=c;this.array[a+2]=d;this.array[a+3]=e;return this},onUpload:function onUpload(a){this.onUploadCallback=a;return this},clone:function clone(){return new this.constructor(this.array,this.itemSize).copy(this)}});tc.prototype=Object.create(E.prototype);tc.prototype.constructor=tc;uc.prototype=Object.create(E.prototype);uc.prototype.constructor=uc;vc.prototype=Object.create(E.prototype);vc.prototype.constructor=vc;wc.prototype=Object.create(E.prototype);wc.prototype.constructor=wc;mb.prototype=Object.create(E.prototype);mb.prototype.constructor=mb;xc.prototype=Object.create(E.prototype);xc.prototype.constructor=xc;nb.prototype=Object.create(E.prototype);nb.prototype.constructor=nb;A.prototype=Object.create(E.prototype);A.prototype.constructor=A;yc.prototype=Object.create(E.prototype);yc.prototype.constructor=yc;Object.assign(Je.prototype,{computeGroups:function computeGroups(a){var b=[],c;a=a.faces;for(var d=0,e;d<a.length;d++){e=a[d];if(e.materialIndex!==c){c=e.materialIndex;void 0!==f&&(f.count=3*d-f.start,b.push(f));var f={start:3*d,materialIndex:c}}}void 0!==f&&(f.count=3*d-f.start,b.push(f));this.groups=b},fromGeometry:function fromGeometry(a){var b=a.faces,c=a.vertices,d=a.faceVertexUvs,e=d[0]&&0<d[0].length,f=d[1]&&0<d[1].length,g=a.morphTargets,h=g.length;if(0<h){for(var k=[],m=0;m<h;m++){k[m]={name:g[m].name,data:[]}}this.morphTargets.position=k}var l=a.morphNormals,p=l.length;if(0<p){var r=[];for(m=0;m<p;m++){r[m]={name:l[m].name,data:[]}}this.morphTargets.normal=r}var n=a.skinIndices,t=a.skinWeights,v=n.length===c.length,w=t.length===c.length;0<c.length&&0===b.length&&console.error("THREE.DirectGeometry: Faceless geometries are not supported.");for(m=0;m<b.length;m++){var y=b[m];this.vertices.push(c[y.a],c[y.b],c[y.c]);var u=y.vertexNormals;3===u.length?this.normals.push(u[0],u[1],u[2]):(u=y.normal,this.normals.push(u,u,u));u=y.vertexColors;3===u.length?this.colors.push(u[0],u[1],u[2]):(u=y.color,this.colors.push(u,u,u));!0===e&&(u=d[0][m],void 0!==u?this.uvs.push(u[0],u[1],u[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",m),this.uvs.push(new z,new z,new z)));!0===f&&(u=d[1][m],void 0!==u?this.uvs2.push(u[0],u[1],u[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",m),this.uvs2.push(new z,new z,new z)));for(u=0;u<h;u++){var A=g[u].vertices;k[u].data.push(A[y.a],A[y.b],A[y.c])}for(u=0;u<p;u++){A=l[u].vertexNormals[m],r[u].data.push(A.a,A.b,A.c)}v&&this.skinIndices.push(n[y.a],n[y.b],n[y.c]);w&&this.skinWeights.push(t[y.a],t[y.b],t[y.c])}this.computeGroups(a);this.verticesNeedUpdate=a.verticesNeedUpdate;this.normalsNeedUpdate=a.normalsNeedUpdate;this.colorsNeedUpdate=a.colorsNeedUpdate;this.uvsNeedUpdate=a.uvsNeedUpdate;this.groupsNeedUpdate=a.groupsNeedUpdate;return this}});var Qf=1;C.prototype=Object.assign(Object.create(ja.prototype),{constructor:C,isBufferGeometry:!0,getIndex:function getIndex(){return this.index},setIndex:function setIndex(a){Array.isArray(a)?this.index=new(65535<Ke(a)?nb:mb)(a,1):this.index=a},addAttribute:function addAttribute(a,b,c){if(!(b&&b.isBufferAttribute||b&&b.isInterleavedBufferAttribute))return console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.addAttribute(a,new E(b,c));if("index"===a)return console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(b),this;this.attributes[a]=b;return this},getAttribute:function getAttribute(a){return this.attributes[a]},removeAttribute:function removeAttribute(a){delete this.attributes[a];return this},addGroup:function addGroup(a,b,c){this.groups.push({start:a,count:b,materialIndex:void 0!==c?c:0})},clearGroups:function clearGroups(){this.groups=[]},setDrawRange:function setDrawRange(a,b){this.drawRange.start=a;this.drawRange.count=b},applyMatrix:function applyMatrix(a){var b=this.attributes.position;void 0!==b&&(a.applyToBufferAttribute(b),b.needsUpdate=!0);b=this.attributes.normal;void 0!==b&&(new da().getNormalMatrix(a).applyToBufferAttribute(b),b.needsUpdate=!0);null!==this.boundingBox&&this.computeBoundingBox();null!==this.boundingSphere&&this.computeBoundingSphere();return this},rotateX:function(){var a=new O;return function(b){a.makeRotationX(b);this.applyMatrix(a);return this}}(),rotateY:function(){var a=new O;return function(b){a.makeRotationY(b);this.applyMatrix(a);return this}}(),rotateZ:function(){var a=new O;return function(b){a.makeRotationZ(b);this.applyMatrix(a);return this}}(),translate:function(){var a=new O;return function(b,c,d){a.makeTranslation(b,c,d);this.applyMatrix(a);return this}}(),scale:function(){var a=new O;return function(b,c,d){a.makeScale(b,c,d);this.applyMatrix(a);return this}}(),lookAt:function(){var a=new D;return function(b){a.lookAt(b);a.updateMatrix();this.applyMatrix(a.matrix)}}(),center:function(){var a=new n;return function(){this.computeBoundingBox();this.boundingBox.getCenter(a).negate();this.translate(a.x,a.y,a.z);return this}}(),setFromObject:function setFromObject(a){var b=a.geometry;if(a.isPoints||a.isLine){a=new A(3*b.vertices.length,3);var c=new A(3*b.colors.length,3);this.addAttribute("position",a.copyVector3sArray(b.vertices));this.addAttribute("color",c.copyColorsArray(b.colors));b.lineDistances&&b.lineDistances.length===b.vertices.length&&(a=new A(b.lineDistances.length,1),this.addAttribute("lineDistance",a.copyArray(b.lineDistances)));null!==b.boundingSphere&&(this.boundingSphere=b.boundingSphere.clone());null!==b.boundingBox&&(this.boundingBox=b.boundingBox.clone())}else a.isMesh&&b&&b.isGeometry&&this.fromGeometry(b);return this},setFromPoints:function setFromPoints(a){for(var b=[],c=0,d=a.length,e;c<d;c++){e=a[c];b.push(e.x,e.y,e.z||0)}this.addAttribute("position",new A(b,3));return this},updateFromObject:function updateFromObject(a){var b=a.geometry;if(a.isMesh){var c=b.__directGeometry;!0===b.elementsNeedUpdate&&(c=void 0,b.elementsNeedUpdate=!1);if(void 0===c)return this.fromGeometry(b);c.verticesNeedUpdate=b.verticesNeedUpdate;c.normalsNeedUpdate=b.normalsNeedUpdate;c.colorsNeedUpdate=b.colorsNeedUpdate;c.uvsNeedUpdate=b.uvsNeedUpdate;c.groupsNeedUpdate=b.groupsNeedUpdate;b.verticesNeedUpdate=!1;b.normalsNeedUpdate=!1;b.colorsNeedUpdate=!1;b.uvsNeedUpdate=!1;b.groupsNeedUpdate=!1;b=c}!0===b.verticesNeedUpdate&&(c=this.attributes.position,void 0!==c&&(c.copyVector3sArray(b.vertices),c.needsUpdate=!0),b.verticesNeedUpdate=!1);!0===b.normalsNeedUpdate&&(c=this.attributes.normal,void 0!==c&&(c.copyVector3sArray(b.normals),c.needsUpdate=!0),b.normalsNeedUpdate=!1);!0===b.colorsNeedUpdate&&(c=this.attributes.color,void 0!==c&&(c.copyColorsArray(b.colors),c.needsUpdate=!0),b.colorsNeedUpdate=!1);b.uvsNeedUpdate&&(c=this.attributes.uv,void 0!==c&&(c.copyVector2sArray(b.uvs),c.needsUpdate=!0),b.uvsNeedUpdate=!1);b.lineDistancesNeedUpdate&&(c=this.attributes.lineDistance,void 0!==c&&(c.copyArray(b.lineDistances),c.needsUpdate=!0),b.lineDistancesNeedUpdate=!1);b.groupsNeedUpdate&&(b.computeGroups(a.geometry),this.groups=b.groups,b.groupsNeedUpdate=!1);return this},fromGeometry:function fromGeometry(a){a.__directGeometry=new Je().fromGeometry(a);return this.fromDirectGeometry(a.__directGeometry)},fromDirectGeometry:function fromDirectGeometry(a){var b=new Float32Array(3*a.vertices.length);this.addAttribute("position",new E(b,3).copyVector3sArray(a.vertices));0<a.normals.length&&(b=new Float32Array(3*a.normals.length),this.addAttribute("normal",new E(b,3).copyVector3sArray(a.normals)));0<a.colors.length&&(b=new Float32Array(3*a.colors.length),this.addAttribute("color",new E(b,3).copyColorsArray(a.colors)));0<a.uvs.length&&(b=new Float32Array(2*a.uvs.length),this.addAttribute("uv",new E(b,2).copyVector2sArray(a.uvs)));0<a.uvs2.length&&(b=new Float32Array(2*a.uvs2.length),this.addAttribute("uv2",new E(b,2).copyVector2sArray(a.uvs2)));this.groups=a.groups;for(var c in a.morphTargets){b=[];for(var d=a.morphTargets[c],e=0,f=d.length;e<f;e++){var g=d[e],h=new A(3*g.data.length,3);h.name=g.name;b.push(h.copyVector3sArray(g.data))}this.morphAttributes[c]=b}0<a.skinIndices.length&&(c=new A(4*a.skinIndices.length,4),this.addAttribute("skinIndex",c.copyVector4sArray(a.skinIndices)));0<a.skinWeights.length&&(c=new A(4*a.skinWeights.length,4),this.addAttribute("skinWeight",c.copyVector4sArray(a.skinWeights)));null!==a.boundingSphere&&(this.boundingSphere=a.boundingSphere.clone());null!==a.boundingBox&&(this.boundingBox=a.boundingBox.clone());return this},computeBoundingBox:function computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new Wa);var a=this.attributes.position;void 0!==a?this.boundingBox.setFromBufferAttribute(a):this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error("THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The \"position\" attribute is likely to have NaN values.",this)},computeBoundingSphere:function(){var a=new Wa,b=new n;return function(){null===this.boundingSphere&&(this.boundingSphere=new Ea);var c=this.attributes.position;if(c){var d=this.boundingSphere.center;a.setFromBufferAttribute(c);a.getCenter(d);for(var e=0,f=0,g=c.count;f<g;f++){b.x=c.getX(f),b.y=c.getY(f),b.z=c.getZ(f),e=_Mathmax(e,d.distanceToSquared(b))}this.boundingSphere.radius=_Mathsqrt(e);isNaN(this.boundingSphere.radius)&&console.error("THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The \"position\" attribute is likely to have NaN values.",this)}}}(),computeFaceNormals:function computeFaceNormals(){},computeVertexNormals:function computeVertexNormals(){var a=this.index,b=this.attributes;if(b.position){var c=b.position.array;if(void 0===b.normal)this.addAttribute("normal",new E(new Float32Array(c.length),3));else for(var d=b.normal.array,e=0,f=d.length;e<f;e++){d[e]=0}d=b.normal.array;var g=new n,h=new n,k=new n,m=new n,l=new n;if(a){var p=a.array;e=0;for(f=a.count;e<f;e+=3){a=3*p[e+0];var r=3*p[e+1],x=3*p[e+2];g.fromArray(c,a);h.fromArray(c,r);k.fromArray(c,x);m.subVectors(k,h);l.subVectors(g,h);m.cross(l);d[a]+=m.x;d[a+1]+=m.y;d[a+2]+=m.z;d[r]+=m.x;d[r+1]+=m.y;d[r+2]+=m.z;d[x]+=m.x;d[x+1]+=m.y;d[x+2]+=m.z}}else for(e=0,f=c.length;e<f;e+=9){g.fromArray(c,e),h.fromArray(c,e+3),k.fromArray(c,e+6),m.subVectors(k,h),l.subVectors(g,h),m.cross(l),d[e]=m.x,d[e+1]=m.y,d[e+2]=m.z,d[e+3]=m.x,d[e+4]=m.y,d[e+5]=m.z,d[e+6]=m.x,d[e+7]=m.y,d[e+8]=m.z}this.normalizeNormals();b.normal.needsUpdate=!0}},merge:function merge(a,b){if(a&&a.isBufferGeometry){void 0===b&&(b=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));var c=this.attributes,d;for(d in c){if(void 0!==a.attributes[d]){var e=c[d].array,f=a.attributes[d],g=f.array,h=0;for(f=f.itemSize*b;h<g.length;h++,f++){e[f]=g[h]}}}return this}console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",a)},normalizeNormals:function(){var a=new n;return function(){for(var b=this.attributes.normal,c=0,d=b.count;c<d;c++){a.x=b.getX(c),a.y=b.getY(c),a.z=b.getZ(c),a.normalize(),b.setXYZ(c,a.x,a.y,a.z)}}}(),toNonIndexed:function toNonIndexed(){if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),this;var a=new C,b=this.index.array,c=this.attributes,d;for(d in c){var e=c[d],f=e.array,g=e.itemSize,h=new f.constructor(b.length*g),k=0;e=0;for(var m=b.length,l;e<m;e++){l=b[e]*g;for(var p=0;p<g;p++){h[k++]=f[l++]}}a.addAttribute(d,new E(h,g))}b=this.groups;e=0;for(m=b.length;e<m;e++){c=b[e],a.addGroup(c.start,c.count,c.materialIndex)}return a},toJSON:function toJSON(){var a={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"},uuid:this.uuid,type:this.type};""!==this.name&&(a.name=this.name);0<Object.keys(this.userData).length&&(a.userData=this.userData);if(void 0!==this.parameters){var b=this.parameters;for(e in b){void 0!==b[e]&&(a[e]=b[e])}return a}a.data={attributes:{}};var c=this.index;null!==c&&(b=Array.prototype.slice.call(c.array),a.data.index={type:c.array.constructor.name,array:b});c=this.attributes;for(e in c){var d=c[e];b=Array.prototype.slice.call(d.array);a.data.attributes[e]={itemSize:d.itemSize,type:d.array.constructor.name,array:b,normalized:d.normalized}}var e=this.groups;0<e.length&&(a.data.groups=JSON.parse(JSON.stringify(e)));e=this.boundingSphere;null!==e&&(a.data.boundingSphere={center:e.center.toArray(),radius:e.radius});return a},clone:function clone(){return new C().copy(this)},copy:function copy(a){var b;this.index=null;this.attributes={};this.morphAttributes={};this.groups=[];this.boundingSphere=this.boundingBox=null;this.name=a.name;var c=a.index;null!==c&&this.setIndex(c.clone());c=a.attributes;for(g in c){this.addAttribute(g,c[g].clone())}var d=a.morphAttributes;for(g in d){var e=[],f=d[g];c=0;for(b=f.length;c<b;c++){e.push(f[c].clone())}this.morphAttributes[g]=e}var g=a.groups;c=0;for(b=g.length;c<b;c++){d=g[c],this.addGroup(d.start,d.count,d.materialIndex)}g=a.boundingBox;null!==g&&(this.boundingBox=g.clone());g=a.boundingSphere;null!==g&&(this.boundingSphere=g.clone());this.drawRange.start=a.drawRange.start;this.drawRange.count=a.drawRange.count;this.userData=a.userData;return this},dispose:function dispose(){this.dispatchEvent({type:"dispose"})}});Lb.prototype=Object.create(Q.prototype);Lb.prototype.constructor=Lb;ob.prototype=Object.create(C.prototype);ob.prototype.constructor=ob;zc.prototype=Object.create(Q.prototype);zc.prototype.constructor=zc;pb.prototype=Object.create(C.prototype);pb.prototype.constructor=pb;var Rf=0;L.prototype=Object.assign(Object.create(ja.prototype),{constructor:L,isMaterial:!0,onBeforeCompile:function onBeforeCompile(){},setValues:function setValues(a){if(void 0!==a)for(var b in a){var c=a[b];if(void 0===c)console.warn("THREE.Material: '"+b+"' parameter is undefined.");else if("shading"===b)console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===c?!0:!1;else{var d=this[b];void 0===d?console.warn("THREE."+this.type+": '"+b+"' is not a property of this material."):d&&d.isColor?d.set(c):d&&d.isVector3&&c&&c.isVector3?d.copy(c):this[b]=c}}},toJSON:function toJSON(a){function b(a){var b=[],c;for(c in a){var d=a[c];delete d.metadata;b.push(d)}return b}var c=void 0===a||"string"===typeof a;c&&(a={textures:{},images:{}});var d={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"},uuid:this.uuid,type:this.type};""!==this.name&&(d.name=this.name);this.color&&this.color.isColor&&(d.color=this.color.getHex());void 0!==this.roughness&&(d.roughness=this.roughness);void 0!==this.metalness&&(d.metalness=this.metalness);this.emissive&&this.emissive.isColor&&(d.emissive=this.emissive.getHex());1!==this.emissiveIntensity&&(d.emissiveIntensity=this.emissiveIntensity);this.specular&&this.specular.isColor&&(d.specular=this.specular.getHex());void 0!==this.shininess&&(d.shininess=this.shininess);void 0!==this.clearCoat&&(d.clearCoat=this.clearCoat);void 0!==this.clearCoatRoughness&&(d.clearCoatRoughness=this.clearCoatRoughness);this.map&&this.map.isTexture&&(d.map=this.map.toJSON(a).uuid);this.alphaMap&&this.alphaMap.isTexture&&(d.alphaMap=this.alphaMap.toJSON(a).uuid);this.lightMap&&this.lightMap.isTexture&&(d.lightMap=this.lightMap.toJSON(a).uuid);this.aoMap&&this.aoMap.isTexture&&(d.aoMap=this.aoMap.toJSON(a).uuid,d.aoMapIntensity=this.aoMapIntensity);this.bumpMap&&this.bumpMap.isTexture&&(d.bumpMap=this.bumpMap.toJSON(a).uuid,d.bumpScale=this.bumpScale);this.normalMap&&this.normalMap.isTexture&&(d.normalMap=this.normalMap.toJSON(a).uuid,d.normalMapType=this.normalMapType,d.normalScale=this.normalScale.toArray());this.displacementMap&&this.displacementMap.isTexture&&(d.displacementMap=this.displacementMap.toJSON(a).uuid,d.displacementScale=this.displacementScale,d.displacementBias=this.displacementBias);this.roughnessMap&&this.roughnessMap.isTexture&&(d.roughnessMap=this.roughnessMap.toJSON(a).uuid);this.metalnessMap&&this.metalnessMap.isTexture&&(d.metalnessMap=this.metalnessMap.toJSON(a).uuid);this.emissiveMap&&this.emissiveMap.isTexture&&(d.emissiveMap=this.emissiveMap.toJSON(a).uuid);this.specularMap&&this.specularMap.isTexture&&(d.specularMap=this.specularMap.toJSON(a).uuid);this.envMap&&this.envMap.isTexture&&(d.envMap=this.envMap.toJSON(a).uuid,d.reflectivity=this.reflectivity,void 0!==this.combine&&(d.combine=this.combine),void 0!==this.envMapIntensity&&(d.envMapIntensity=this.envMapIntensity));this.gradientMap&&this.gradientMap.isTexture&&(d.gradientMap=this.gradientMap.toJSON(a).uuid);void 0!==this.size&&(d.size=this.size);void 0!==this.sizeAttenuation&&(d.sizeAttenuation=this.sizeAttenuation);1!==this.blending&&(d.blending=this.blending);!0===this.flatShading&&(d.flatShading=this.flatShading);0!==this.side&&(d.side=this.side);0!==this.vertexColors&&(d.vertexColors=this.vertexColors);1>this.opacity&&(d.opacity=this.opacity);!0===this.transparent&&(d.transparent=this.transparent);d.depthFunc=this.depthFunc;d.depthTest=this.depthTest;d.depthWrite=this.depthWrite;0!==this.rotation&&(d.rotation=this.rotation);!0===this.polygonOffset&&(d.polygonOffset=!0);0!==this.polygonOffsetFactor&&(d.polygonOffsetFactor=this.polygonOffsetFactor);0!==this.polygonOffsetUnits&&(d.polygonOffsetUnits=this.polygonOffsetUnits);1!==this.linewidth&&(d.linewidth=this.linewidth);void 0!==this.dashSize&&(d.dashSize=this.dashSize);void 0!==this.gapSize&&(d.gapSize=this.gapSize);void 0!==this.scale&&(d.scale=this.scale);!0===this.dithering&&(d.dithering=!0);0<this.alphaTest&&(d.alphaTest=this.alphaTest);!0===this.premultipliedAlpha&&(d.premultipliedAlpha=this.premultipliedAlpha);!0===this.wireframe&&(d.wireframe=this.wireframe);1<this.wireframeLinewidth&&(d.wireframeLinewidth=this.wireframeLinewidth);"round"!==this.wireframeLinecap&&(d.wireframeLinecap=this.wireframeLinecap);"round"!==this.wireframeLinejoin&&(d.wireframeLinejoin=this.wireframeLinejoin);!0===this.morphTargets&&(d.morphTargets=!0);!0===this.skinning&&(d.skinning=!0);!1===this.visible&&(d.visible=!1);"{}"!==JSON.stringify(this.userData)&&(d.userData=this.userData);c&&(c=b(a.textures),a=b(a.images),0<c.length&&(d.textures=c),0<a.length&&(d.images=a));return d},clone:function clone(){return new this.constructor().copy(this)},copy:function copy(a){this.name=a.name;this.fog=a.fog;this.lights=a.lights;this.blending=a.blending;this.side=a.side;this.flatShading=a.flatShading;this.vertexColors=a.vertexColors;this.opacity=a.opacity;this.transparent=a.transparent;this.blendSrc=a.blendSrc;this.blendDst=a.blendDst;this.blendEquation=a.blendEquation;this.blendSrcAlpha=a.blendSrcAlpha;this.blendDstAlpha=a.blendDstAlpha;this.blendEquationAlpha=a.blendEquationAlpha;this.depthFunc=a.depthFunc;this.depthTest=a.depthTest;this.depthWrite=a.depthWrite;this.colorWrite=a.colorWrite;this.precision=a.precision;this.polygonOffset=a.polygonOffset;this.polygonOffsetFactor=a.polygonOffsetFactor;this.polygonOffsetUnits=a.polygonOffsetUnits;this.dithering=a.dithering;this.alphaTest=a.alphaTest;this.premultipliedAlpha=a.premultipliedAlpha;this.visible=a.visible;this.userData=JSON.parse(JSON.stringify(a.userData));this.clipShadows=a.clipShadows;this.clipIntersection=a.clipIntersection;var b=a.clippingPlanes,c=null;if(null!==b){var d=b.length;c=Array(d);for(var e=0;e!==d;++e){c[e]=b[e].clone()}}this.clippingPlanes=c;this.shadowSide=a.shadowSide;return this},dispose:function dispose(){this.dispatchEvent({type:"dispose"})}});Ba.prototype=Object.create(L.prototype);Ba.prototype.constructor=Ba;Ba.prototype.isShaderMaterial=!0;Ba.prototype.copy=function(a){L.prototype.copy.call(this,a);this.fragmentShader=a.fragmentShader;this.vertexShader=a.vertexShader;this.uniforms=Jb(a.uniforms);this.defines=Object.assign({},a.defines);this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;this.lights=a.lights;this.clipping=a.clipping;this.skinning=a.skinning;this.morphTargets=a.morphTargets;this.morphNormals=a.morphNormals;this.extensions=a.extensions;return this};Ba.prototype.toJSON=function(a){var b=L.prototype.toJSON.call(this,a);b.uniforms={};for(var c in this.uniforms){var d=this.uniforms[c].value;b.uniforms[c]=d.isTexture?{type:"t",value:d.toJSON(a).uuid}:d.isColor?{type:"c",value:d.getHex()}:d.isVector2?{type:"v2",value:d.toArray()}:d.isVector3?{type:"v3",value:d.toArray()}:d.isVector4?{type:"v4",value:d.toArray()}:d.isMatrix4?{type:"m4",value:d.toArray()}:{value:d}}0<Object.keys(this.defines).length&&(b.defines=this.defines);b.vertexShader=this.vertexShader;b.fragmentShader=this.fragmentShader;return b};Object.assign(qb.prototype,{set:function set(a,b){this.origin.copy(a);this.direction.copy(b);return this},clone:function clone(){return new this.constructor().copy(this)},copy:function copy(a){this.origin.copy(a.origin);this.direction.copy(a.direction);return this},at:function at(a,b){void 0===b&&(console.warn("THREE.Ray: .at() target is now required"),b=new n);return b.copy(this.direction).multiplyScalar(a).add(this.origin)},lookAt:function lookAt(a){this.direction.copy(a).sub(this.origin).normalize();return this},recast:function(){var a=new n;return function(b){this.origin.copy(this.at(b,a));return this}}(),closestPointToPoint:function closestPointToPoint(a,b){void 0===b&&(console.warn("THREE.Ray: .closestPointToPoint() target is now required"),b=new n);b.subVectors(a,this.origin);a=b.dot(this.direction);return 0>a?b.copy(this.origin):b.copy(this.direction).multiplyScalar(a).add(this.origin)},distanceToPoint:function distanceToPoint(a){return _Mathsqrt(this.distanceSqToPoint(a))},distanceSqToPoint:function(){var a=new n;return function(b){var c=a.subVectors(b,this.origin).dot(this.direction);if(0>c)return this.origin.distanceToSquared(b);a.copy(this.direction).multiplyScalar(c).add(this.origin);return a.distanceToSquared(b)}}(),distanceSqToSegment:function(){var a=new n,b=new n,c=new n;return function(d,e,f,g){a.copy(d).add(e).multiplyScalar(.5);b.copy(e).sub(d).normalize();c.copy(this.origin).sub(a);var h=.5*d.distanceTo(e),k=-this.direction.dot(b),m=c.dot(this.direction),l=-c.dot(b),p=c.lengthSq(),r=_Mathabs(1-k*k);if(0<r){d=k*l-m;e=k*m-l;var n=h*r;0<=d?e>=-n?e<=n?(h=1/r,d*=h,e*=h,k=d*(d+k*e+2*m)+e*(k*d+e+2*l)+p):(e=h,d=_Mathmax(0,-(k*e+m)),k=-d*d+e*(e+2*l)+p):(e=-h,d=_Mathmax(0,-(k*e+m)),k=-d*d+e*(e+2*l)+p):e<=-n?(d=_Mathmax(0,-(-k*h+m)),e=0<d?-h:_Mathmin(_Mathmax(-h,-l),h),k=-d*d+e*(e+2*l)+p):e<=n?(d=0,e=_Mathmin(_Mathmax(-h,-l),h),k=e*(e+2*l)+p):(d=_Mathmax(0,-(k*h+m)),e=0<d?h:_Mathmin(_Mathmax(-h,-l),h),k=-d*d+e*(e+2*l)+p)}else e=0<k?-h:h,d=_Mathmax(0,-(k*e+m)),k=-d*d+e*(e+2*l)+p;f&&f.copy(this.direction).multiplyScalar(d).add(this.origin);g&&g.copy(b).multiplyScalar(e).add(a);return k}}(),intersectSphere:function(){var a=new n;return function(b,c){a.subVectors(b.center,this.origin);var d=a.dot(this.direction),e=a.dot(a)-d*d;b=b.radius*b.radius;if(e>b)return null;b=_Mathsqrt(b-e);e=d-b;d+=b;return 0>e&&0>d?null:0>e?this.at(d,c):this.at(e,c)}}(),intersectsSphere:function intersectsSphere(a){return this.distanceSqToPoint(a.center)<=a.radius*a.radius},distanceToPlane:function distanceToPlane(a){var b=a.normal.dot(this.direction);if(0===b)return 0===a.distanceToPoint(this.origin)?0:null;a=-(this.origin.dot(a.normal)+a.constant)/b;return 0<=a?a:null},intersectPlane:function intersectPlane(a,b){a=this.distanceToPlane(a);return null===a?null:this.at(a,b)},intersectsPlane:function intersectsPlane(a){var b=a.distanceToPoint(this.origin);return 0===b||0>a.normal.dot(this.direction)*b?!0:!1},intersectBox:function intersectBox(a,b){var c=1/this.direction.x,d=1/this.direction.y,e=1/this.direction.z,f=this.origin;if(0<=c){var g=(a.min.x-f.x)*c;c*=a.max.x-f.x}else g=(a.max.x-f.x)*c,c*=a.min.x-f.x;if(0<=d){var h=(a.min.y-f.y)*d;d*=a.max.y-f.y}else h=(a.max.y-f.y)*d,d*=a.min.y-f.y;if(g>d||h>c)return null;if(h>g||g!==g)g=h;if(d<c||c!==c)c=d;0<=e?(h=(a.min.z-f.z)*e,a=(a.max.z-f.z)*e):(h=(a.max.z-f.z)*e,a=(a.min.z-f.z)*e);if(g>a||h>c)return null;if(h>g||g!==g)g=h;if(a<c||c!==c)c=a;return 0>c?null:this.at(0<=g?g:c,b)},intersectsBox:function(){var a=new n;return function(b){return null!==this.intersectBox(b,a)}}(),intersectTriangle:function(){var a=new n,b=new n,c=new n,d=new n;return function(e,f,g,h,k){b.subVectors(f,e);c.subVectors(g,e);d.crossVectors(b,c);f=this.direction.dot(d);if(0<f){if(h)return null;h=1}else if(0>f)h=-1,f=-f;else return null;a.subVectors(this.origin,e);e=h*this.direction.dot(c.crossVectors(a,c));if(0>e)return null;g=h*this.direction.dot(b.cross(a));if(0>g||e+g>f)return null;e=-h*a.dot(d);return 0>e?null:this.at(e/f,k)}}(),applyMatrix4:function applyMatrix4(a){this.origin.applyMatrix4(a);this.direction.transformDirection(a);return this},equals:function equals(a){return a.origin.equals(this.origin)&&a.direction.equals(this.direction)}});Object.assign(ha,{getNormal:function(){var a=new n;return function(b,c,d,e){void 0===e&&(console.warn("THREE.Triangle: .getNormal() target is now required"),e=new n);e.subVectors(d,c);a.subVectors(b,c);e.cross(a);b=e.lengthSq();return 0<b?e.multiplyScalar(1/_Mathsqrt(b)):e.set(0,0,0)}}(),getBarycoord:function(){var a=new n,b=new n,c=new n;return function(d,e,f,g,h){a.subVectors(g,e);b.subVectors(f,e);c.subVectors(d,e);d=a.dot(a);e=a.dot(b);f=a.dot(c);var k=b.dot(b);g=b.dot(c);var m=d*k-e*e;void 0===h&&(console.warn("THREE.Triangle: .getBarycoord() target is now required"),h=new n);if(0===m)return h.set(-2,-1,-1);m=1/m;k=(k*f-e*g)*m;d=(d*g-e*f)*m;return h.set(1-k-d,d,k)}}(),containsPoint:function(){var a=new n;return function(b,c,d,e){ha.getBarycoord(b,c,d,e,a);return 0<=a.x&&0<=a.y&&1>=a.x+a.y}}(),getUV:function(){var a=new n;return function(b,c,d,e,f,g,h,k){this.getBarycoord(b,c,d,e,a);k.set(0,0);k.addScaledVector(f,a.x);k.addScaledVector(g,a.y);k.addScaledVector(h,a.z);return k}}()});Object.assign(ha.prototype,{set:function set(a,b,c){this.a.copy(a);this.b.copy(b);this.c.copy(c);return this},setFromPointsAndIndices:function setFromPointsAndIndices(a,b,c,d){this.a.copy(a[b]);this.b.copy(a[c]);this.c.copy(a[d]);return this},clone:function clone(){return new this.constructor().copy(this)},copy:function copy(a){this.a.copy(a.a);this.b.copy(a.b);this.c.copy(a.c);return this},getArea:function(){var a=new n,b=new n;return function(){a.subVectors(this.c,this.b);b.subVectors(this.a,this.b);return .5*a.cross(b).length()}}(),getMidpoint:function getMidpoint(a){void 0===a&&(console.warn("THREE.Triangle: .getMidpoint() target is now required"),a=new n);return a.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},getNormal:function getNormal(a){return ha.getNormal(this.a,this.b,this.c,a)},getPlane:function getPlane(a){void 0===a&&(console.warn("THREE.Triangle: .getPlane() target is now required"),a=new n);return a.setFromCoplanarPoints(this.a,this.b,this.c)},getBarycoord:function getBarycoord(a,b){return ha.getBarycoord(a,this.a,this.b,this.c,b)},containsPoint:function containsPoint(a){return ha.containsPoint(a,this.a,this.b,this.c)},getUV:function getUV(a,b,c,d,e){return ha.getUV(a,this.a,this.b,this.c,b,c,d,e)},intersectsBox:function intersectsBox(a){return a.intersectsTriangle(this)},closestPointToPoint:function(){var a=new n,b=new n,c=new n,d=new n,e=new n,f=new n;return function(g,h){void 0===h&&(console.warn("THREE.Triangle: .closestPointToPoint() target is now required"),h=new n);var k=this.a,m=this.b,l=this.c;a.subVectors(m,k);b.subVectors(l,k);d.subVectors(g,k);var p=a.dot(d),r=b.dot(d);if(0>=p&&0>=r)return h.copy(k);e.subVectors(g,m);var x=a.dot(e),t=b.dot(e);if(0<=x&&t<=x)return h.copy(m);var v=p*t-x*r;if(0>=v&&0<=p&&0>=x)return m=p/(p-x),h.copy(k).addScaledVector(a,m);f.subVectors(g,l);g=a.dot(f);var w=b.dot(f);if(0<=w&&g<=w)return h.copy(l);p=g*r-p*w;if(0>=p&&0<=r&&0>=w)return v=r/(r-w),h.copy(k).addScaledVector(b,v);r=x*w-g*t;if(0>=r&&0<=t-x&&0<=g-w)return c.subVectors(l,m),v=(t-x)/(t-x+(g-w)),h.copy(m).addScaledVector(c,v);l=1/(r+p+v);m=p*l;v*=l;return h.copy(k).addScaledVector(a,m).addScaledVector(b,v)}}(),equals:function equals(a){return a.a.equals(this.a)&&a.b.equals(this.b)&&a.c.equals(this.c)}});wa.prototype=Object.create(L.prototype);wa.prototype.constructor=wa;wa.prototype.isMeshBasicMaterial=!0;wa.prototype.copy=function(a){L.prototype.copy.call(this,a);this.color.copy(a.color);this.map=a.map;this.lightMap=a.lightMap;this.lightMapIntensity=a.lightMapIntensity;this.aoMap=a.aoMap;this.aoMapIntensity=a.aoMapIntensity;this.specularMap=a.specularMap;this.alphaMap=a.alphaMap;this.envMap=a.envMap;this.combine=a.combine;this.reflectivity=a.reflectivity;this.refractionRatio=a.refractionRatio;this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;this.wireframeLinecap=a.wireframeLinecap;this.wireframeLinejoin=a.wireframeLinejoin;this.skinning=a.skinning;this.morphTargets=a.morphTargets;return this};na.prototype=Object.assign(Object.create(D.prototype),{constructor:na,isMesh:!0,setDrawMode:function setDrawMode(a){this.drawMode=a},copy:function copy(a){D.prototype.copy.call(this,a);this.drawMode=a.drawMode;void 0!==a.morphTargetInfluences&&(this.morphTargetInfluences=a.morphTargetInfluences.slice());void 0!==a.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},a.morphTargetDictionary));return this},updateMorphTargets:function updateMorphTargets(){var a=this.geometry;if(a.isBufferGeometry){a=a.morphAttributes;var b=Object.keys(a);if(0<b.length){var c=a[b[0]];if(void 0!==c)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},a=0,b=c.length;a<b;a++){var d=c[a].name||a+"";this.morphTargetInfluences.push(0);this.morphTargetDictionary[d]=a}}}else if(c=a.morphTargets,void 0!==c&&0<c.length)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},a=0,b=c.length;a<b;a++){d=c[a].name||a+"",this.morphTargetInfluences.push(0),this.morphTargetDictionary[d]=a}},raycast:function(){function a(a,b,c,d,e,f,g,h){if(null===(1===b.side?d.intersectTriangle(g,f,e,!0,h):d.intersectTriangle(e,f,g,2!==b.side,h)))return null;v.copy(h);v.applyMatrix4(a.matrixWorld);b=c.ray.origin.distanceTo(v);return b<c.near||b>c.far?null:{distance:b,point:v.clone(),object:a}}function b(b,c,d,e,k,m,l,q,n){f.fromBufferAttribute(k,l);g.fromBufferAttribute(k,q);h.fromBufferAttribute(k,n);if(b=a(b,c,d,e,f,g,h,t))m&&(p.fromBufferAttribute(m,l),r.fromBufferAttribute(m,q),x.fromBufferAttribute(m,n),b.uv=ha.getUV(t,f,g,h,p,r,x,new z)),m=new Kb(l,q,n),ha.getNormal(f,g,h,m.normal),b.face=m;return b}var c=new O,d=new qb,e=new Ea,f=new n,g=new n,h=new n,k=new n,m=new n,l=new n,p=new z,r=new z,x=new z,t=new n,v=new n;return function(q,n){var u=this.geometry,v=this.material,w=this.matrixWorld;if(void 0!==v&&(null===u.boundingSphere&&u.computeBoundingSphere(),e.copy(u.boundingSphere),e.applyMatrix4(w),!1!==q.ray.intersectsSphere(e)&&(c.getInverse(w),d.copy(q.ray).applyMatrix4(c),null===u.boundingBox||!1!==d.intersectsBox(u.boundingBox))))if(u.isBufferGeometry){var y=u.index,A=u.attributes.position,B=u.attributes.uv,D=u.groups;u=u.drawRange;var C;if(null!==y){if(Array.isArray(v)){var E=0;for(C=D.length;E<C;E++){var F=D[E],I=v[F.materialIndex];w=_Mathmax(F.start,u.start);var L=_Mathmin(F.start+F.count,u.start+u.count);for(F=w;F<L;F+=3){w=y.getX(F);var H=y.getX(F+1),J=y.getX(F+2);if(w=b(this,I,q,d,A,B,w,H,J))w.faceIndex=_Mathfloor(F/3),n.push(w)}}}else for(w=_Mathmax(0,u.start),L=_Mathmin(y.count,u.start+u.count),E=w,C=L;E<C;E+=3){if(w=y.getX(E),H=y.getX(E+1),J=y.getX(E+2),w=b(this,v,q,d,A,B,w,H,J))w.faceIndex=_Mathfloor(E/3),n.push(w)}}else if(void 0!==A)if(Array.isArray(v))for(E=0,C=D.length;E<C;E++){for(F=D[E],I=v[F.materialIndex],w=_Mathmax(F.start,u.start),L=_Mathmin(F.start+F.count,u.start+u.count),F=w;F<L;F+=3){if(w=F,H=F+1,J=F+2,w=b(this,I,q,d,A,B,w,H,J))w.faceIndex=_Mathfloor(F/3),n.push(w)}}else for(w=_Mathmax(0,u.start),L=_Mathmin(A.count,u.start+u.count),E=w,C=L;E<C;E+=3){if(w=E,H=E+1,J=E+2,w=b(this,v,q,d,A,B,w,H,J))w.faceIndex=_Mathfloor(E/3),n.push(w)}}else if(u.isGeometry)for(A=Array.isArray(v),B=u.vertices,D=u.faces,w=u.faceVertexUvs[0],0<w.length&&(y=w),F=0,L=D.length;F<L;F++){if(H=D[F],w=A?v[H.materialIndex]:v,void 0!==w){E=B[H.a];C=B[H.b];I=B[H.c];if(!0===w.morphTargets){J=u.morphTargets;var O=this.morphTargetInfluences;f.set(0,0,0);g.set(0,0,0);h.set(0,0,0);for(var Q=0,S=J.length,R;Q<S;Q++){R=O[Q];if(0!==R){var T=J[Q].vertices;f.addScaledVector(k.subVectors(T[H.a],E),R);g.addScaledVector(m.subVectors(T[H.b],C),R);h.addScaledVector(l.subVectors(T[H.c],I),R)}}f.add(E);g.add(C);h.add(I);E=f;C=g;I=h}if(w=a(this,w,q,d,E,C,I,t))y&&y[F]&&(J=y[F],p.copy(J[0]),r.copy(J[1]),x.copy(J[2]),w.uv=ha.getUV(t,E,C,I,p,r,x,new z)),w.face=H,w.faceIndex=F,n.push(w)}}}}(),clone:function clone(){return new this.constructor(this.geometry,this.material).copy(this)}});Xa.prototype=Object.create(X.prototype);Xa.prototype.constructor=Xa;Xa.prototype.isCubeTexture=!0;Object.defineProperty(Xa.prototype,"images",{get:function get(){return this.image},set:function set(a){this.image=a}});Nb.prototype=Object.create(X.prototype);Nb.prototype.constructor=Nb;Nb.prototype.isDataTexture3D=!0;var Re=new X,mg=new Nb,Se=new Xa,Le=[],Ne=[],Qe=new Float32Array(16),Pe=new Float32Array(9),Oe=new Float32Array(4);We.prototype.updateCache=function(a){var b=this.cache;babelHelpers.instanceof(a,Float32Array)&&b.length!==a.length&&(this.cache=new Float32Array(a.length));sa(b,a)};Xe.prototype.setValue=function(a,b,c){for(var d=this.seq,e=0,f=d.length,g;e!==f;++e){g=d[e];g.setValue(a,b[g.id],c)}};var Zd=/([\w\d_]+)(\])?(\[|\.)?/g;cb.prototype.setValue=function(a,b,c){b=this.map[b];void 0!==b&&b.setValue(a,c,this.renderer)};cb.prototype.setOptional=function(a,b,c){b=b[c];void 0!==b&&this.setValue(a,c,b)};cb.upload=function(a,b,c,d){for(var e=0,f=b.length;e!==f;++e){var g=b[e],h=c[g.id];!1!==h.needsUpdate&&g.setValue(a,h.value,d)}};cb.seqWithValue=function(a,b){for(var c=[],d=0,e=a.length,f;d!==e;++d){f=a[d];f.id in b&&c.push(f)}return c};var Hg=0,Pg=0;db.prototype=Object.create(L.prototype);db.prototype.constructor=db;db.prototype.isMeshDepthMaterial=!0;db.prototype.copy=function(a){L.prototype.copy.call(this,a);this.depthPacking=a.depthPacking;this.skinning=a.skinning;this.morphTargets=a.morphTargets;this.map=a.map;this.alphaMap=a.alphaMap;this.displacementMap=a.displacementMap;this.displacementScale=a.displacementScale;this.displacementBias=a.displacementBias;this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;return this};eb.prototype=Object.create(L.prototype);eb.prototype.constructor=eb;eb.prototype.isMeshDistanceMaterial=!0;eb.prototype.copy=function(a){L.prototype.copy.call(this,a);this.referencePosition.copy(a.referencePosition);this.nearDistance=a.nearDistance;this.farDistance=a.farDistance;this.skinning=a.skinning;this.morphTargets=a.morphTargets;this.map=a.map;this.alphaMap=a.alphaMap;this.displacementMap=a.displacementMap;this.displacementScale=a.displacementScale;this.displacementBias=a.displacementBias;return this};Pb.prototype=Object.assign(Object.create(D.prototype),{constructor:Pb,isGroup:!0});Ra.prototype=Object.assign(Object.create(D.prototype),{constructor:Ra,isCamera:!0,copy:function copy(a,b){D.prototype.copy.call(this,a,b);this.matrixWorldInverse.copy(a.matrixWorldInverse);this.projectionMatrix.copy(a.projectionMatrix);this.projectionMatrixInverse.copy(a.projectionMatrixInverse);return this},getWorldDirection:function getWorldDirection(a){void 0===a&&(console.warn("THREE.Camera: .getWorldDirection() target is now required"),a=new n);this.updateMatrixWorld(!0);var b=this.matrixWorld.elements;return a.set(-b[8],-b[9],-b[10]).normalize()},updateMatrixWorld:function updateMatrixWorld(a){D.prototype.updateMatrixWorld.call(this,a);this.matrixWorldInverse.getInverse(this.matrixWorld)},clone:function clone(){return new this.constructor().copy(this)}});V.prototype=Object.assign(Object.create(Ra.prototype),{constructor:V,isPerspectiveCamera:!0,copy:function copy(a,b){Ra.prototype.copy.call(this,a,b);this.fov=a.fov;this.zoom=a.zoom;this.near=a.near;this.far=a.far;this.focus=a.focus;this.aspect=a.aspect;this.view=null===a.view?null:Object.assign({},a.view);this.filmGauge=a.filmGauge;this.filmOffset=a.filmOffset;return this},setFocalLength:function setFocalLength(a){a=.5*this.getFilmHeight()/a;this.fov=2*R.RAD2DEG*_Mathatan2(a);this.updateProjectionMatrix()},getFocalLength:function getFocalLength(){var a=_Mathtan(.5*R.DEG2RAD*this.fov);return .5*this.getFilmHeight()/a},getEffectiveFOV:function getEffectiveFOV(){return 2*R.RAD2DEG*_Mathatan2(_Mathtan(.5*R.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function getFilmWidth(){return this.filmGauge*_Mathmin(this.aspect,1)},getFilmHeight:function getFilmHeight(){return this.filmGauge/_Mathmax(this.aspect,1)},setViewOffset:function setViewOffset(a,b,c,d,e,f){this.aspect=a/b;null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1});this.view.enabled=!0;this.view.fullWidth=a;this.view.fullHeight=b;this.view.offsetX=c;this.view.offsetY=d;this.view.width=e;this.view.height=f;this.updateProjectionMatrix()},clearViewOffset:function clearViewOffset(){null!==this.view&&(this.view.enabled=!1);this.updateProjectionMatrix()},updateProjectionMatrix:function updateProjectionMatrix(){var a=this.near,b=a*_Mathtan(.5*R.DEG2RAD*this.fov)/this.zoom,c=2*b,d=this.aspect*c,e=-.5*d,f=this.view;if(null!==this.view&&this.view.enabled){var g=f.fullWidth,h=f.fullHeight;e+=f.offsetX*d/g;b-=f.offsetY*c/h;d*=f.width/g;c*=f.height/h}f=this.filmOffset;0!==f&&(e+=a*f/this.getFilmWidth());this.projectionMatrix.makePerspective(e,e+d,b,b-c,a,this.far);this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function toJSON(a){a=D.prototype.toJSON.call(this,a);a.object.fov=this.fov;a.object.zoom=this.zoom;a.object.near=this.near;a.object.far=this.far;a.object.focus=this.focus;a.object.aspect=this.aspect;null!==this.view&&(a.object.view=Object.assign({},this.view));a.object.filmGauge=this.filmGauge;a.object.filmOffset=this.filmOffset;return a}});Dc.prototype=Object.assign(Object.create(V.prototype),{constructor:Dc,isArrayCamera:!0});var hf=new n,jf=new n;Qb.prototype.isFogExp2=!0;Qb.prototype.clone=function(){return new Qb(this.color,this.density)};Qb.prototype.toJSON=function(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}};Rb.prototype.isFog=!0;Rb.prototype.clone=function(){return new Rb(this.color,this.near,this.far)};Rb.prototype.toJSON=function(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}};xd.prototype=Object.assign(Object.create(D.prototype),{constructor:xd,copy:function copy(a,b){D.prototype.copy.call(this,a,b);null!==a.background&&(this.background=a.background.clone());null!==a.fog&&(this.fog=a.fog.clone());null!==a.overrideMaterial&&(this.overrideMaterial=a.overrideMaterial.clone());this.autoUpdate=a.autoUpdate;this.matrixAutoUpdate=a.matrixAutoUpdate;return this},toJSON:function toJSON(a){var b=D.prototype.toJSON.call(this,a);null!==this.background&&(b.object.background=this.background.toJSON(a));null!==this.fog&&(b.object.fog=this.fog.toJSON());return b}});Object.defineProperty(rb.prototype,"needsUpdate",{set:function set(a){!0===a&&this.version++}});Object.assign(rb.prototype,{isInterleavedBuffer:!0,onUploadCallback:function onUploadCallback(){},setArray:function setArray(a){if(Array.isArray(a))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.count=void 0!==a?a.length/this.stride:0;this.array=a;return this},setDynamic:function setDynamic(a){this.dynamic=a;return this},copy:function copy(a){this.array=new a.array.constructor(a.array);this.count=a.count;this.stride=a.stride;this.dynamic=a.dynamic;return this},copyAt:function copyAt(a,b,c){a*=this.stride;c*=b.stride;for(var d=0,e=this.stride;d<e;d++){this.array[a+d]=b.array[c+d]}return this},set:function set(a,b){void 0===b&&(b=0);this.array.set(a,b);return this},clone:function clone(){return new this.constructor().copy(this)},onUpload:function onUpload(a){this.onUploadCallback=a;return this}});Object.defineProperties(Ec.prototype,{count:{get:function get(){return this.data.count}},array:{get:function get(){return this.data.array}}});Object.assign(Ec.prototype,{isInterleavedBufferAttribute:!0,setX:function setX(a,b){this.data.array[a*this.data.stride+this.offset]=b;return this},setY:function setY(a,b){this.data.array[a*this.data.stride+this.offset+1]=b;return this},setZ:function setZ(a,b){this.data.array[a*this.data.stride+this.offset+2]=b;return this},setW:function setW(a,b){this.data.array[a*this.data.stride+this.offset+3]=b;return this},getX:function getX(a){return this.data.array[a*this.data.stride+this.offset]},getY:function getY(a){return this.data.array[a*this.data.stride+this.offset+1]},getZ:function getZ(a){return this.data.array[a*this.data.stride+this.offset+2]},getW:function getW(a){return this.data.array[a*this.data.stride+this.offset+3]},setXY:function setXY(a,b,c){a=a*this.data.stride+this.offset;this.data.array[a+0]=b;this.data.array[a+1]=c;return this},setXYZ:function setXYZ(a,b,c,d){a=a*this.data.stride+this.offset;this.data.array[a+0]=b;this.data.array[a+1]=c;this.data.array[a+2]=d;return this},setXYZW:function setXYZW(a,b,c,d,e){a=a*this.data.stride+this.offset;this.data.array[a+0]=b;this.data.array[a+1]=c;this.data.array[a+2]=d;this.data.array[a+3]=e;return this}});gb.prototype=Object.create(L.prototype);gb.prototype.constructor=gb;gb.prototype.isSpriteMaterial=!0;gb.prototype.copy=function(a){L.prototype.copy.call(this,a);this.color.copy(a.color);this.map=a.map;this.rotation=a.rotation;this.sizeAttenuation=a.sizeAttenuation;return this};var Sb;Fc.prototype=Object.assign(Object.create(D.prototype),{constructor:Fc,isSprite:!0,raycast:function(){function a(a,b,c,d,h,k){e.subVectors(a,c).addScalar(.5).multiply(d);void 0!==h?(f.x=k*e.x-h*e.y,f.y=h*e.x+k*e.y):f.copy(e);a.copy(b);a.x+=f.x;a.y+=f.y;a.applyMatrix4(g)}var b=new n,c=new n,d=new n,e=new z,f=new z,g=new O,h=new n,k=new n,m=new n,l=new z,p=new z,r=new z;return function(e,f){c.setFromMatrixScale(this.matrixWorld);g.getInverse(this.modelViewMatrix).premultiply(this.matrixWorld);d.setFromMatrixPosition(this.modelViewMatrix);var q=this.material.rotation;if(0!==q){var n=_Mathcos(q),t=_Mathsin(q)}q=this.center;a(h.set(-.5,-.5,0),d,q,c,t,n);a(k.set(.5,-.5,0),d,q,c,t,n);a(m.set(.5,.5,0),d,q,c,t,n);l.set(0,0);p.set(1,0);r.set(1,1);var u=e.ray.intersectTriangle(h,k,m,!1,b);if(null===u&&(a(k.set(-.5,.5,0),d,q,c,t,n),p.set(0,1),u=e.ray.intersectTriangle(h,m,k,!1,b),null===u))return;t=e.ray.origin.distanceTo(b);t<e.near||t>e.far||f.push({distance:t,point:b.clone(),uv:ha.getUV(b,h,k,m,l,p,r,new z),face:null,object:this})}}(),clone:function clone(){return new this.constructor(this.material).copy(this)},copy:function copy(a){D.prototype.copy.call(this,a);void 0!==a.center&&this.center.copy(a.center);return this}});Gc.prototype=Object.assign(Object.create(D.prototype),{constructor:Gc,copy:function copy(a){D.prototype.copy.call(this,a,!1);a=a.levels;for(var b=0,c=a.length,d;b<c;b++){d=a[b];this.addLevel(d.object.clone(),d.distance)}return this},addLevel:function addLevel(a,b){void 0===b&&(b=0);b=_Mathabs(b);for(var c=this.levels,d=0;d<c.length&&!(b<c[d].distance);d++){;}c.splice(d,0,{distance:b,object:a});this.add(a)},getObjectForDistance:function getObjectForDistance(a){for(var b=this.levels,c=1,d=b.length;c<d&&!(a<b[c].distance);c++){;}return b[c-1].object},raycast:function(){var a=new n;return function(b,c){a.setFromMatrixPosition(this.matrixWorld);var d=b.ray.origin.distanceTo(a);this.getObjectForDistance(d).raycast(b,c)}}(),update:function(){var a=new n,b=new n;return function(c){var d=this.levels;if(1<d.length){a.setFromMatrixPosition(c.matrixWorld);b.setFromMatrixPosition(this.matrixWorld);c=a.distanceTo(b);d[0].object.visible=!0;for(var e=1,f=d.length;e<f;e++){if(c>=d[e].distance)d[e-1].object.visible=!1,d[e].object.visible=!0;else break}for(;e<f;e++){d[e].object.visible=!1}}}}(),toJSON:function toJSON(a){a=D.prototype.toJSON.call(this,a);a.object.levels=[];for(var b=this.levels,c=0,d=b.length,e;c<d;c++){e=b[c];a.object.levels.push({object:e.object.uuid,distance:e.distance})}return a}});Hc.prototype=Object.assign(Object.create(na.prototype),{constructor:Hc,isSkinnedMesh:!0,bind:function bind(a,b){this.skeleton=a;void 0===b&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),b=this.matrixWorld);this.bindMatrix.copy(b);this.bindMatrixInverse.getInverse(b)},pose:function pose(){this.skeleton.pose()},normalizeSkinWeights:function normalizeSkinWeights(){for(var a=new ca,b=this.geometry.attributes.skinWeight,c=0,d=b.count;c<d;c++){a.x=b.getX(c);a.y=b.getY(c);a.z=b.getZ(c);a.w=b.getW(c);var e=1/a.manhattanLength();1/0!==e?a.multiplyScalar(e):a.set(1,0,0,0);b.setXYZW(c,a.x,a.y,a.z,a.w)}},updateMatrixWorld:function updateMatrixWorld(a){na.prototype.updateMatrixWorld.call(this,a);"attached"===this.bindMode?this.bindMatrixInverse.getInverse(this.matrixWorld):"detached"===this.bindMode?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)},clone:function clone(){return new this.constructor(this.geometry,this.material).copy(this)}});Object.assign(yd.prototype,{calculateInverses:function calculateInverses(){this.boneInverses=[];for(var a=0,b=this.bones.length,c;a<b;a++){c=new O;this.bones[a]&&c.getInverse(this.bones[a].matrixWorld);this.boneInverses.push(c)}},pose:function pose(){var a,b,c=0;for(b=this.bones.length;c<b;c++){(a=this.bones[c])&&a.matrixWorld.getInverse(this.boneInverses[c])}c=0;for(b=this.bones.length;c<b;c++){if(a=this.bones[c])a.parent&&a.parent.isBone?(a.matrix.getInverse(a.parent.matrixWorld),a.matrix.multiply(a.matrixWorld)):a.matrix.copy(a.matrixWorld),a.matrix.decompose(a.position,a.quaternion,a.scale)}},update:function(){var a=new O,b=new O;return function(){for(var c=this.bones,d=this.boneInverses,e=this.boneMatrices,f=this.boneTexture,g=0,h=c.length;g<h;g++){a.multiplyMatrices(c[g]?c[g].matrixWorld:b,d[g]),a.toArray(e,16*g)}void 0!==f&&(f.needsUpdate=!0)}}(),clone:function clone(){return new yd(this.bones,this.boneInverses)},getBoneByName:function getBoneByName(a){for(var b=0,c=this.bones.length,d;b<c;b++){d=this.bones[b];if(d.name===a)return d}}});ce.prototype=Object.assign(Object.create(D.prototype),{constructor:ce,isBone:!0});T.prototype=Object.create(L.prototype);T.prototype.constructor=T;T.prototype.isLineBasicMaterial=!0;T.prototype.copy=function(a){L.prototype.copy.call(this,a);this.color.copy(a.color);this.linewidth=a.linewidth;this.linecap=a.linecap;this.linejoin=a.linejoin;return this};ta.prototype=Object.assign(Object.create(D.prototype),{constructor:ta,isLine:!0,computeLineDistances:function(){var a=new n,b=new n;return function(){var c=this.geometry;if(c.isBufferGeometry){if(null===c.index){for(var d=c.attributes.position,e=[0],f=1,g=d.count;f<g;f++){a.fromBufferAttribute(d,f-1),b.fromBufferAttribute(d,f),e[f]=e[f-1],e[f]+=a.distanceTo(b)}c.addAttribute("lineDistance",new A(e,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");}else if(c.isGeometry)for(d=c.vertices,e=c.lineDistances,e[0]=0,f=1,g=d.length;f<g;f++){e[f]=e[f-1],e[f]+=d[f-1].distanceTo(d[f])}return this}}(),raycast:function(){var a=new O,b=new qb,c=new Ea;return function(d,e){var f=d.linePrecision,g=this.geometry,h=this.matrixWorld;null===g.boundingSphere&&g.computeBoundingSphere();c.copy(g.boundingSphere);c.applyMatrix4(h);c.radius+=f;if(!1!==d.ray.intersectsSphere(c)){a.getInverse(h);b.copy(d.ray).applyMatrix4(a);f/=(this.scale.x+this.scale.y+this.scale.z)/3;f*=f;var k=new n,m=new n;h=new n;var l=new n,p=this&&this.isLineSegments?2:1;if(g.isBufferGeometry){var r=g.index,x=g.attributes.position.array;if(null!==r){r=r.array;g=0;for(var t=r.length-1,v;g<t;g+=p){v=r[g+1];k.fromArray(x,3*r[g]);m.fromArray(x,3*v);v=b.distanceSqToSegment(k,m,l,h);v>f||(l.applyMatrix4(this.matrixWorld),v=d.ray.origin.distanceTo(l),v<d.near||v>d.far||e.push({distance:v,point:h.clone().applyMatrix4(this.matrixWorld),index:g,face:null,faceIndex:null,object:this}))}}else for(g=0,t=x.length/3-1;g<t;g+=p){k.fromArray(x,3*g),m.fromArray(x,3*g+3),v=b.distanceSqToSegment(k,m,l,h),v>f||(l.applyMatrix4(this.matrixWorld),v=d.ray.origin.distanceTo(l),v<d.near||v>d.far||e.push({distance:v,point:h.clone().applyMatrix4(this.matrixWorld),index:g,face:null,faceIndex:null,object:this}))}}else if(g.isGeometry)for(k=g.vertices,m=k.length,g=0;g<m-1;g+=p){v=b.distanceSqToSegment(k[g],k[g+1],l,h),v>f||(l.applyMatrix4(this.matrixWorld),v=d.ray.origin.distanceTo(l),v<d.near||v>d.far||e.push({distance:v,point:h.clone().applyMatrix4(this.matrixWorld),index:g,face:null,faceIndex:null,object:this}))}}}}(),copy:function copy(a){D.prototype.copy.call(this,a);this.geometry.copy(a.geometry);this.material.copy(a.material);return this},clone:function clone(){return new this.constructor().copy(this)}});S.prototype=Object.assign(Object.create(ta.prototype),{constructor:S,isLineSegments:!0,computeLineDistances:function(){var a=new n,b=new n;return function(){var c=this.geometry;if(c.isBufferGeometry){if(null===c.index){for(var d=c.attributes.position,e=[],f=0,g=d.count;f<g;f+=2){a.fromBufferAttribute(d,f),b.fromBufferAttribute(d,f+1),e[f]=0===f?0:e[f-1],e[f+1]=e[f]+a.distanceTo(b)}c.addAttribute("lineDistance",new A(e,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");}else if(c.isGeometry)for(d=c.vertices,e=c.lineDistances,f=0,g=d.length;f<g;f+=2){a.copy(d[f]),b.copy(d[f+1]),e[f]=0===f?0:e[f-1],e[f+1]=e[f]+a.distanceTo(b)}return this}}()});zd.prototype=Object.assign(Object.create(ta.prototype),{constructor:zd,isLineLoop:!0});Fa.prototype=Object.create(L.prototype);Fa.prototype.constructor=Fa;Fa.prototype.isPointsMaterial=!0;Fa.prototype.copy=function(a){L.prototype.copy.call(this,a);this.color.copy(a.color);this.map=a.map;this.size=a.size;this.sizeAttenuation=a.sizeAttenuation;this.morphTargets=a.morphTargets;return this};Tb.prototype=Object.assign(Object.create(D.prototype),{constructor:Tb,isPoints:!0,raycast:function(){var a=new O,b=new qb,c=new Ea;return function(d,e){function f(a,c){var f=b.distanceSqToPoint(a);f<l&&(b.closestPointToPoint(a,p),p.applyMatrix4(k),a=d.ray.origin.distanceTo(p),a<d.near||a>d.far||e.push({distance:a,distanceToRay:_Mathsqrt(f),point:p.clone(),index:c,face:null,object:g}))}var g=this,h=this.geometry,k=this.matrixWorld,m=d.params.Points.threshold;null===h.boundingSphere&&h.computeBoundingSphere();c.copy(h.boundingSphere);c.applyMatrix4(k);c.radius+=m;if(!1!==d.ray.intersectsSphere(c)){a.getInverse(k);b.copy(d.ray).applyMatrix4(a);m/=(this.scale.x+this.scale.y+this.scale.z)/3;var l=m*m;m=new n;var p=new n;if(h.isBufferGeometry){var r=h.index;h=h.attributes.position.array;if(null!==r){var x=r.array;r=0;for(var t=x.length,v;r<t;r++){v=x[r];m.fromArray(h,3*v);f(m,v)}}else for(r=0,x=h.length/3;r<x;r++){m.fromArray(h,3*r),f(m,r)}}else for(m=h.vertices,r=0,x=m.length;r<x;r++){f(m[r],r)}}}}(),clone:function clone(){return new this.constructor(this.geometry,this.material).copy(this)}});de.prototype=Object.assign(Object.create(X.prototype),{constructor:de,isVideoTexture:!0,update:function update(){var a=this.image;a.readyState>=a.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}});Ub.prototype=Object.create(X.prototype);Ub.prototype.constructor=Ub;Ub.prototype.isCompressedTexture=!0;Ic.prototype=Object.create(X.prototype);Ic.prototype.constructor=Ic;Ic.prototype.isCanvasTexture=!0;Jc.prototype=Object.create(X.prototype);Jc.prototype.constructor=Jc;Jc.prototype.isDepthTexture=!0;Vb.prototype=Object.create(C.prototype);Vb.prototype.constructor=Vb;Kc.prototype=Object.create(Q.prototype);Kc.prototype.constructor=Kc;Wb.prototype=Object.create(C.prototype);Wb.prototype.constructor=Wb;Lc.prototype=Object.create(Q.prototype);Lc.prototype.constructor=Lc;ya.prototype=Object.create(C.prototype);ya.prototype.constructor=ya;Mc.prototype=Object.create(Q.prototype);Mc.prototype.constructor=Mc;Xb.prototype=Object.create(ya.prototype);Xb.prototype.constructor=Xb;Nc.prototype=Object.create(Q.prototype);Nc.prototype.constructor=Nc;sb.prototype=Object.create(ya.prototype);sb.prototype.constructor=sb;Oc.prototype=Object.create(Q.prototype);Oc.prototype.constructor=Oc;Yb.prototype=Object.create(ya.prototype);Yb.prototype.constructor=Yb;Pc.prototype=Object.create(Q.prototype);Pc.prototype.constructor=Pc;Zb.prototype=Object.create(ya.prototype);Zb.prototype.constructor=Zb;Qc.prototype=Object.create(Q.prototype);Qc.prototype.constructor=Qc;$b.prototype=Object.create(C.prototype);$b.prototype.constructor=$b;Rc.prototype=Object.create(Q.prototype);Rc.prototype.constructor=Rc;ac.prototype=Object.create(C.prototype);ac.prototype.constructor=ac;Sc.prototype=Object.create(Q.prototype);Sc.prototype.constructor=Sc;bc.prototype=Object.create(C.prototype);bc.prototype.constructor=bc;var ch={triangulate:function triangulate(a,b,c){c=c||2;var d=b&&b.length,e=d?b[0]*c:a.length,f=lf(a,0,e,c,!0),g=[];if(!f)return g;var h;if(d){var k=c;d=[];var m,l=0;for(m=b.length;l<m;l++){var p=b[l]*k,r=l<m-1?b[l+1]*k:a.length;p=lf(a,p,r,k,!1);p===p.next&&(p.steiner=!0);d.push(Xg(p))}d.sort(Vg);for(l=0;l<d.length;l++){b=d[l];k=f;if(k=Wg(b,k))b=of(k,b),Uc(b,b.next);f=Uc(f,f.next)}}if(a.length>80*c){var n=h=a[0],t=d=a[1];for(k=c;k<e;k+=c){l=a[k],b=a[k+1],l<n&&(n=l),b<t&&(t=b),l>h&&(h=l),b>d&&(d=b)}h=_Mathmax(h-n,d-t);h=0!==h?1/h:0}Vc(f,g,c,n,t,h);return g}},Ya={area:function area(a){for(var b=a.length,c=0,d=b-1,e=0;e<b;d=e++){c+=a[d].x*a[e].y-a[e].x*a[d].y}return .5*c},isClockWise:function isClockWise(a){return 0>Ya.area(a)},triangulateShape:function triangulateShape(a,b){var c=[],d=[],e=[];pf(a);qf(c,a);var f=a.length;b.forEach(pf);for(a=0;a<b.length;a++){d.push(f),f+=b[a].length,qf(c,b[a])}b=ch.triangulate(c,d);for(a=0;a<b.length;a+=3){e.push(b.slice(a,a+3))}return e}};ub.prototype=Object.create(Q.prototype);ub.prototype.constructor=ub;ub.prototype.toJSON=function(){var a=Q.prototype.toJSON.call(this);return rf(this.parameters.shapes,this.parameters.options,a)};Sa.prototype=Object.create(C.prototype);Sa.prototype.constructor=Sa;Sa.prototype.toJSON=function(){var a=C.prototype.toJSON.call(this);return rf(this.parameters.shapes,this.parameters.options,a)};var Yg={generateTopUV:function generateTopUV(a,b,c,d,e){a=b[3*d];d=b[3*d+1];var f=b[3*e];e=b[3*e+1];return[new z(b[3*c],b[3*c+1]),new z(a,d),new z(f,e)]},generateSideWallUV:function generateSideWallUV(a,b,c,d,e,f){a=b[3*c];var g=b[3*c+1];c=b[3*c+2];var h=b[3*d],k=b[3*d+1];d=b[3*d+2];var m=b[3*e],l=b[3*e+1];e=b[3*e+2];var p=b[3*f],r=b[3*f+1];b=b[3*f+2];return .01>_Mathabs(g-k)?[new z(a,1-c),new z(h,1-d),new z(m,1-e),new z(p,1-b)]:[new z(g,1-c),new z(k,1-d),new z(l,1-e),new z(r,1-b)]}};Xc.prototype=Object.create(Q.prototype);Xc.prototype.constructor=Xc;cc.prototype=Object.create(Sa.prototype);cc.prototype.constructor=cc;Yc.prototype=Object.create(Q.prototype);Yc.prototype.constructor=Yc;vb.prototype=Object.create(C.prototype);vb.prototype.constructor=vb;Zc.prototype=Object.create(Q.prototype);Zc.prototype.constructor=Zc;dc.prototype=Object.create(C.prototype);dc.prototype.constructor=dc;$c.prototype=Object.create(Q.prototype);$c.prototype.constructor=$c;ec.prototype=Object.create(C.prototype);ec.prototype.constructor=ec;wb.prototype=Object.create(Q.prototype);wb.prototype.constructor=wb;wb.prototype.toJSON=function(){var a=Q.prototype.toJSON.call(this);return sf(this.parameters.shapes,a)};xb.prototype=Object.create(C.prototype);xb.prototype.constructor=xb;xb.prototype.toJSON=function(){var a=C.prototype.toJSON.call(this);return sf(this.parameters.shapes,a)};fc.prototype=Object.create(C.prototype);fc.prototype.constructor=fc;yb.prototype=Object.create(Q.prototype);yb.prototype.constructor=yb;Za.prototype=Object.create(C.prototype);Za.prototype.constructor=Za;ad.prototype=Object.create(yb.prototype);ad.prototype.constructor=ad;bd.prototype=Object.create(Za.prototype);bd.prototype.constructor=bd;cd.prototype=Object.create(Q.prototype);cd.prototype.constructor=cd;gc.prototype=Object.create(C.prototype);gc.prototype.constructor=gc;var ia=Object.freeze({WireframeGeometry:Vb,ParametricGeometry:Kc,ParametricBufferGeometry:Wb,TetrahedronGeometry:Mc,TetrahedronBufferGeometry:Xb,OctahedronGeometry:Nc,OctahedronBufferGeometry:sb,IcosahedronGeometry:Oc,IcosahedronBufferGeometry:Yb,DodecahedronGeometry:Pc,DodecahedronBufferGeometry:Zb,PolyhedronGeometry:Lc,PolyhedronBufferGeometry:ya,TubeGeometry:Qc,TubeBufferGeometry:$b,TorusKnotGeometry:Rc,TorusKnotBufferGeometry:ac,TorusGeometry:Sc,TorusBufferGeometry:bc,TextGeometry:Xc,TextBufferGeometry:cc,SphereGeometry:Yc,SphereBufferGeometry:vb,RingGeometry:Zc,RingBufferGeometry:dc,PlaneGeometry:zc,PlaneBufferGeometry:pb,LatheGeometry:$c,LatheBufferGeometry:ec,ShapeGeometry:wb,ShapeBufferGeometry:xb,ExtrudeGeometry:ub,ExtrudeBufferGeometry:Sa,EdgesGeometry:fc,ConeGeometry:ad,ConeBufferGeometry:bd,CylinderGeometry:yb,CylinderBufferGeometry:Za,CircleGeometry:cd,CircleBufferGeometry:gc,BoxGeometry:Lb,BoxBufferGeometry:ob});zb.prototype=Object.create(L.prototype);zb.prototype.constructor=zb;zb.prototype.isShadowMaterial=!0;zb.prototype.copy=function(a){L.prototype.copy.call(this,a);this.color.copy(a.color);return this};hc.prototype=Object.create(Ba.prototype);hc.prototype.constructor=hc;hc.prototype.isRawShaderMaterial=!0;Ta.prototype=Object.create(L.prototype);Ta.prototype.constructor=Ta;Ta.prototype.isMeshStandardMaterial=!0;Ta.prototype.copy=function(a){L.prototype.copy.call(this,a);this.defines={STANDARD:""};this.color.copy(a.color);this.roughness=a.roughness;this.metalness=a.metalness;this.map=a.map;this.lightMap=a.lightMap;this.lightMapIntensity=a.lightMapIntensity;this.aoMap=a.aoMap;this.aoMapIntensity=a.aoMapIntensity;this.emissive.copy(a.emissive);this.emissiveMap=a.emissiveMap;this.emissiveIntensity=a.emissiveIntensity;this.bumpMap=a.bumpMap;this.bumpScale=a.bumpScale;this.normalMap=a.normalMap;this.normalMapType=a.normalMapType;this.normalScale.copy(a.normalScale);this.displacementMap=a.displacementMap;this.displacementScale=a.displacementScale;this.displacementBias=a.displacementBias;this.roughnessMap=a.roughnessMap;this.metalnessMap=a.metalnessMap;this.alphaMap=a.alphaMap;this.envMap=a.envMap;this.envMapIntensity=a.envMapIntensity;this.refractionRatio=a.refractionRatio;this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;this.wireframeLinecap=a.wireframeLinecap;this.wireframeLinejoin=a.wireframeLinejoin;this.skinning=a.skinning;this.morphTargets=a.morphTargets;this.morphNormals=a.morphNormals;return this};Ab.prototype=Object.create(Ta.prototype);Ab.prototype.constructor=Ab;Ab.prototype.isMeshPhysicalMaterial=!0;Ab.prototype.copy=function(a){Ta.prototype.copy.call(this,a);this.defines={PHYSICAL:""};this.reflectivity=a.reflectivity;this.clearCoat=a.clearCoat;this.clearCoatRoughness=a.clearCoatRoughness;return this};Ga.prototype=Object.create(L.prototype);Ga.prototype.constructor=Ga;Ga.prototype.isMeshPhongMaterial=!0;Ga.prototype.copy=function(a){L.prototype.copy.call(this,a);this.color.copy(a.color);this.specular.copy(a.specular);this.shininess=a.shininess;this.map=a.map;this.lightMap=a.lightMap;this.lightMapIntensity=a.lightMapIntensity;this.aoMap=a.aoMap;this.aoMapIntensity=a.aoMapIntensity;this.emissive.copy(a.emissive);this.emissiveMap=a.emissiveMap;this.emissiveIntensity=a.emissiveIntensity;this.bumpMap=a.bumpMap;this.bumpScale=a.bumpScale;this.normalMap=a.normalMap;this.normalMapType=a.normalMapType;this.normalScale.copy(a.normalScale);this.displacementMap=a.displacementMap;this.displacementScale=a.displacementScale;this.displacementBias=a.displacementBias;this.specularMap=a.specularMap;this.alphaMap=a.alphaMap;this.envMap=a.envMap;this.combine=a.combine;this.reflectivity=a.reflectivity;this.refractionRatio=a.refractionRatio;this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;this.wireframeLinecap=a.wireframeLinecap;this.wireframeLinejoin=a.wireframeLinejoin;this.skinning=a.skinning;this.morphTargets=a.morphTargets;this.morphNormals=a.morphNormals;return this};Bb.prototype=Object.create(Ga.prototype);Bb.prototype.constructor=Bb;Bb.prototype.isMeshToonMaterial=!0;Bb.prototype.copy=function(a){Ga.prototype.copy.call(this,a);this.gradientMap=a.gradientMap;return this};Cb.prototype=Object.create(L.prototype);Cb.prototype.constructor=Cb;Cb.prototype.isMeshNormalMaterial=!0;Cb.prototype.copy=function(a){L.prototype.copy.call(this,a);this.bumpMap=a.bumpMap;this.bumpScale=a.bumpScale;this.normalMap=a.normalMap;this.normalMapType=a.normalMapType;this.normalScale.copy(a.normalScale);this.displacementMap=a.displacementMap;this.displacementScale=a.displacementScale;this.displacementBias=a.displacementBias;this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;this.skinning=a.skinning;this.morphTargets=a.morphTargets;this.morphNormals=a.morphNormals;return this};Db.prototype=Object.create(L.prototype);Db.prototype.constructor=Db;Db.prototype.isMeshLambertMaterial=!0;Db.prototype.copy=function(a){L.prototype.copy.call(this,a);this.color.copy(a.color);this.map=a.map;this.lightMap=a.lightMap;this.lightMapIntensity=a.lightMapIntensity;this.aoMap=a.aoMap;this.aoMapIntensity=a.aoMapIntensity;this.emissive.copy(a.emissive);this.emissiveMap=a.emissiveMap;this.emissiveIntensity=a.emissiveIntensity;this.specularMap=a.specularMap;this.alphaMap=a.alphaMap;this.envMap=a.envMap;this.combine=a.combine;this.reflectivity=a.reflectivity;this.refractionRatio=a.refractionRatio;this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;this.wireframeLinecap=a.wireframeLinecap;this.wireframeLinejoin=a.wireframeLinejoin;this.skinning=a.skinning;this.morphTargets=a.morphTargets;this.morphNormals=a.morphNormals;return this};Eb.prototype=Object.create(L.prototype);Eb.prototype.constructor=Eb;Eb.prototype.isMeshMatcapMaterial=!0;Eb.prototype.copy=function(a){L.prototype.copy.call(this,a);this.defines={MATCAP:""};this.color.copy(a.color);this.matcap=a.matcap;this.map=a.map;this.bumpMap=a.bumpMap;this.bumpScale=a.bumpScale;this.normalMap=a.normalMap;this.normalMapType=a.normalMapType;this.normalScale.copy(a.normalScale);this.displacementMap=a.displacementMap;this.displacementScale=a.displacementScale;this.displacementBias=a.displacementBias;this.alphaMap=a.alphaMap;this.skinning=a.skinning;this.morphTargets=a.morphTargets;this.morphNormals=a.morphNormals;return this};Fb.prototype=Object.create(T.prototype);Fb.prototype.constructor=Fb;Fb.prototype.isLineDashedMaterial=!0;Fb.prototype.copy=function(a){T.prototype.copy.call(this,a);this.scale=a.scale;this.dashSize=a.dashSize;this.gapSize=a.gapSize;return this};var dh=Object.freeze({ShadowMaterial:zb,SpriteMaterial:gb,RawShaderMaterial:hc,ShaderMaterial:Ba,PointsMaterial:Fa,MeshPhysicalMaterial:Ab,MeshStandardMaterial:Ta,MeshPhongMaterial:Ga,MeshToonMaterial:Bb,MeshNormalMaterial:Cb,MeshLambertMaterial:Db,MeshDepthMaterial:db,MeshDistanceMaterial:eb,MeshBasicMaterial:wa,MeshMatcapMaterial:Eb,LineDashedMaterial:Fb,LineBasicMaterial:T,Material:L}),ra={arraySlice:function arraySlice(a,b,c){return ra.isTypedArray(a)?new a.constructor(a.subarray(b,void 0!==c?c:a.length)):a.slice(b,c)},convertArray:function convertArray(a,b,c){return!a||!c&&a.constructor===b?a:"number"===typeof b.BYTES_PER_ELEMENT?new b(a):Array.prototype.slice.call(a)},isTypedArray:function isTypedArray(a){return ArrayBuffer.isView(a)&&!babelHelpers.instanceof(a,DataView)},getKeyframeOrder:function getKeyframeOrder(a){for(var b=a.length,c=Array(b),d=0;d!==b;++d){c[d]=d}c.sort(function(b,c){return a[b]-a[c]});return c},sortedArray:function sortedArray(a,b,c){for(var d=a.length,e=new a.constructor(d),f=0,g=0;g!==d;++f){for(var h=c[f]*b,k=0;k!==b;++k){e[g++]=a[h+k]}}return e},flattenJSON:function flattenJSON(a,b,c,d){for(var e=1,f=a[0];void 0!==f&&void 0===f[d];){f=a[e++]}if(void 0!==f){var g=f[d];if(void 0!==g)if(Array.isArray(g)){do{g=f[d],void 0!==g&&(b.push(f.time),c.push.apply(c,g)),f=a[e++]}while(void 0!==f)}else if(void 0!==g.toArray){do{g=f[d],void 0!==g&&(b.push(f.time),g.toArray(c,c.length)),f=a[e++]}while(void 0!==f)}else{do{g=f[d],void 0!==g&&(b.push(f.time),c.push(g)),f=a[e++]}while(void 0!==f)}}}};Object.assign(va.prototype,{evaluate:function evaluate(a){var b=this.parameterPositions,c=this._cachedIndex,d=b[c],e=b[c-1];a:{b:{c:{d:if(!(a<d)){for(var f=c+2;;){if(void 0===d){if(a<e)break d;this._cachedIndex=c=b.length;return this.afterEnd_(c-1,a,e)}if(c===f)break;e=d;d=b[++c];if(a<d)break b}d=b.length;break c}if(a>=e)break a;else{f=b[1];a<f&&(c=2,e=f);for(f=c-2;;){if(void 0===e)return this._cachedIndex=0,this.beforeStart_(0,a,d);if(c===f)break;d=e;e=b[--c-1];if(a>=e)break b}d=c;c=0}}for(;c<d;){e=c+d>>>1,a<b[e]?d=e:c=e+1}d=b[c];e=b[c-1];if(void 0===e)return this._cachedIndex=0,this.beforeStart_(0,a,d);if(void 0===d)return this._cachedIndex=c=b.length,this.afterEnd_(c-1,e,a)}this._cachedIndex=c;this.intervalChanged_(c,e,d)}return this.interpolate_(c,e,a,d)},settings:null,DefaultSettings_:{},getSettings_:function getSettings_(){return this.settings||this.DefaultSettings_},copySampleValue_:function copySampleValue_(a){var b=this.resultBuffer,c=this.sampleValues,d=this.valueSize;a*=d;for(var e=0;e!==d;++e){b[e]=c[a+e]}return b},interpolate_:function interpolate_(){throw Error("call to abstract method")},intervalChanged_:function intervalChanged_(){}});Object.assign(va.prototype,{beforeStart_:va.prototype.copySampleValue_,afterEnd_:va.prototype.copySampleValue_});Bd.prototype=Object.assign(Object.create(va.prototype),{constructor:Bd,DefaultSettings_:{endingStart:2400,endingEnd:2400},intervalChanged_:function intervalChanged_(a,b,c){var d=this.parameterPositions,e=a-2,f=a+1,g=d[e],h=d[f];if(void 0===g)switch(this.getSettings_().endingStart){case 2401:e=a;g=2*b-c;break;case 2402:e=d.length-2;g=b+d[e]-d[e+1];break;default:e=a,g=c;}if(void 0===h)switch(this.getSettings_().endingEnd){case 2401:f=a;h=2*c-b;break;case 2402:f=1;h=c+d[1]-d[0];break;default:f=a-1,h=b;}a=.5*(c-b);d=this.valueSize;this._weightPrev=a/(b-g);this._weightNext=a/(h-c);this._offsetPrev=e*d;this._offsetNext=f*d},interpolate_:function interpolate_(a,b,c,d){var e=this.resultBuffer,f=this.sampleValues,g=this.valueSize;a*=g;var h=a-g,k=this._offsetPrev,m=this._offsetNext,l=this._weightPrev,p=this._weightNext,r=(c-b)/(d-b);c=r*r;d=c*r;b=-l*d+2*l*c-l*r;l=(1+l)*d+(-1.5-2*l)*c+(-.5+l)*r+1;r=(-1-p)*d+(1.5+p)*c+.5*r;p=p*d-p*c;for(c=0;c!==g;++c){e[c]=b*f[k+c]+l*f[h+c]+r*f[a+c]+p*f[m+c]}return e}});dd.prototype=Object.assign(Object.create(va.prototype),{constructor:dd,interpolate_:function interpolate_(a,b,c,d){var e=this.resultBuffer,f=this.sampleValues,g=this.valueSize;a*=g;var h=a-g;b=(c-b)/(d-b);c=1-b;for(d=0;d!==g;++d){e[d]=f[h+d]*c+f[a+d]*b}return e}});Cd.prototype=Object.assign(Object.create(va.prototype),{constructor:Cd,interpolate_:function interpolate_(a){return this.copySampleValue_(a-1)}});Object.assign(qa,{toJSON:function toJSON(a){var b=a.constructor;if(void 0!==b.toJSON)b=b.toJSON(a);else{b={name:a.name,times:ra.convertArray(a.times,Array),values:ra.convertArray(a.values,Array)};var c=a.getInterpolation();c!==a.DefaultInterpolation&&(b.interpolation=c)}b.type=a.ValueTypeName;return b}});Object.assign(qa.prototype,{constructor:qa,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:2301,InterpolantFactoryMethodDiscrete:function InterpolantFactoryMethodDiscrete(a){return new Cd(this.times,this.values,this.getValueSize(),a)},InterpolantFactoryMethodLinear:function InterpolantFactoryMethodLinear(a){return new dd(this.times,this.values,this.getValueSize(),a)},InterpolantFactoryMethodSmooth:function InterpolantFactoryMethodSmooth(a){return new Bd(this.times,this.values,this.getValueSize(),a)},setInterpolation:function setInterpolation(a){switch(a){case 2300:var b=this.InterpolantFactoryMethodDiscrete;break;case 2301:b=this.InterpolantFactoryMethodLinear;break;case 2302:b=this.InterpolantFactoryMethodSmooth;}if(void 0===b){b="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant)if(a!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw Error(b);console.warn("THREE.KeyframeTrack:",b);return this}this.createInterpolant=b;return this},getInterpolation:function getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return 2300;case this.InterpolantFactoryMethodLinear:return 2301;case this.InterpolantFactoryMethodSmooth:return 2302;}},getValueSize:function getValueSize(){return this.values.length/this.times.length},shift:function shift(a){if(0!==a)for(var b=this.times,c=0,d=b.length;c!==d;++c){b[c]+=a}return this},scale:function scale(a){if(1!==a)for(var b=this.times,c=0,d=b.length;c!==d;++c){b[c]*=a}return this},trim:function trim(a,b){for(var c=this.times,d=c.length,e=0,f=d-1;e!==d&&c[e]<a;){++e}for(;-1!==f&&c[f]>b;){--f}++f;if(0!==e||f!==d)e>=f&&(f=_Mathmax(f,1),e=f-1),a=this.getValueSize(),this.times=ra.arraySlice(c,e,f),this.values=ra.arraySlice(this.values,e*a,f*a);return this},validate:function validate(){var a=!0,b=this.getValueSize();0!==b-_Mathfloor(b)&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),a=!1);var c=this.times;b=this.values;var d=c.length;0===d&&(console.error("THREE.KeyframeTrack: Track is empty.",this),a=!1);for(var e=null,f=0,g;f!==d;f++){g=c[f];if("number"===typeof g&&isNaN(g)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,f,g);a=!1;break}if(null!==e&&e>g){console.error("THREE.KeyframeTrack: Out of order keys.",this,f,g,e);a=!1;break}e=g}if(void 0!==b&&ra.isTypedArray(b))for(f=0,c=b.length;f!==c;++f){if(d=b[f],isNaN(d)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,f,d);a=!1;break}}return a},optimize:function optimize(){for(var a=this.times,b=this.values,c=this.getValueSize(),d=2302===this.getInterpolation(),e=1,f=a.length-1,g=1;g<f;++g){var h=!1,k=a[g];if(k!==a[g+1]&&(1!==g||k!==k[0]))if(d)h=!0;else{var m=g*c,l=m-c,p=m+c;for(k=0;k!==c;++k){var r=b[m+k];if(r!==b[l+k]||r!==b[p+k]){h=!0;break}}}if(h){if(g!==e)for(a[e]=a[g],h=g*c,m=e*c,k=0;k!==c;++k){b[m+k]=b[h+k]}++e}}if(0<f){a[e]=a[f];h=f*c;m=e*c;for(k=0;k!==c;++k){b[m+k]=b[h+k]}++e}e!==a.length&&(this.times=ra.arraySlice(a,0,e),this.values=ra.arraySlice(b,0,e*c));return this}});Dd.prototype=Object.assign(Object.create(qa.prototype),{constructor:Dd,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:2300,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0});Ed.prototype=Object.assign(Object.create(qa.prototype),{constructor:Ed,ValueTypeName:"color"});ic.prototype=Object.assign(Object.create(qa.prototype),{constructor:ic,ValueTypeName:"number"});Fd.prototype=Object.assign(Object.create(va.prototype),{constructor:Fd,interpolate_:function interpolate_(a,b,c,d){var e=this.resultBuffer,f=this.sampleValues,g=this.valueSize;a*=g;b=(c-b)/(d-b);for(c=a+g;a!==c;a+=4){ka.slerpFlat(e,0,f,a-g,f,a,b)}return e}});ed.prototype=Object.assign(Object.create(qa.prototype),{constructor:ed,ValueTypeName:"quaternion",DefaultInterpolation:2301,InterpolantFactoryMethodLinear:function InterpolantFactoryMethodLinear(a){return new Fd(this.times,this.values,this.getValueSize(),a)},InterpolantFactoryMethodSmooth:void 0});Gd.prototype=Object.assign(Object.create(qa.prototype),{constructor:Gd,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:2300,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0});jc.prototype=Object.assign(Object.create(qa.prototype),{constructor:jc,ValueTypeName:"vector"});Object.assign(Ha,{parse:function parse(a){for(var b=[],c=a.tracks,d=1/(a.fps||1),e=0,f=c.length;e!==f;++e){b.push($g(c[e]).scale(d))}return new Ha(a.name,a.duration,b)},toJSON:function toJSON(a){var b=[],c=a.tracks;a={name:a.name,duration:a.duration,tracks:b,uuid:a.uuid};for(var d=0,e=c.length;d!==e;++d){b.push(qa.toJSON(c[d]))}return a},CreateFromMorphTargetSequence:function CreateFromMorphTargetSequence(a,b,c,d){for(var e=b.length,f=[],g=0;g<e;g++){var h=[],k=[];h.push((g+e-1)%e,g,(g+1)%e);k.push(0,1,0);var m=ra.getKeyframeOrder(h);h=ra.sortedArray(h,1,m);k=ra.sortedArray(k,1,m);d||0!==h[0]||(h.push(e),k.push(k[0]));f.push(new ic(".morphTargetInfluences["+b[g].name+"]",h,k).scale(1/c))}return new Ha(a,-1,f)},findByName:function findByName(a,b){var c=a;Array.isArray(a)||(c=a.geometry&&a.geometry.animations||a.animations);for(a=0;a<c.length;a++){if(c[a].name===b)return c[a]}return null},CreateClipsFromMorphTargetSequences:function CreateClipsFromMorphTargetSequences(a,b,c){for(var d={},e=/^([\w-]*?)([\d]+)$/,f=0,g=a.length;f<g;f++){var h=a[f],k=h.name.match(e);if(k&&1<k.length){var m=k[1];(k=d[m])||(d[m]=k=[]);k.push(h)}}a=[];for(m in d){a.push(Ha.CreateFromMorphTargetSequence(m,d[m],b,c))}return a},parseAnimation:function parseAnimation(a,b){if(!a)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;var c=function c(a,b,_c,d,e){if(0!==_c.length){var f=[],g=[];ra.flattenJSON(_c,f,g,d);0!==f.length&&e.push(new a(b,f,g))}},d=[],e=a.name||"default",f=a.length||-1,g=a.fps||30;a=a.hierarchy||[];for(var h=0,k;h<a.length;h++){k=a[h].keys;if(k&&0!==k.length)if(k[0].morphTargets){f={};for(var m=0;m<k.length;m++){if(k[m].morphTargets)for(var l=0;l<k[m].morphTargets.length;l++){f[k[m].morphTargets[l]]=-1}}for(var p in f){var r=[],n=[];for(l=0;l!==k[m].morphTargets.length;++l){var t=k[m];r.push(t.time);n.push(t.morphTarget===p?1:0)}d.push(new ic(".morphTargetInfluence["+p+"]",r,n))}f=f.length*(g||1)}else m=".bones["+b[h].name+"]",c(jc,m+".position",k,"pos",d),c(ed,m+".quaternion",k,"rot",d),c(jc,m+".scale",k,"scl",d)}return 0===d.length?null:new Ha(e,f,d)}});Object.assign(Ha.prototype,{resetDuration:function resetDuration(){for(var a=0,b=0,c=this.tracks.length,d;b!==c;++b){d=this.tracks[b];a=_Mathmax(a,d.times[d.times.length-1])}this.duration=a;return this},trim:function trim(){for(var a=0;a<this.tracks.length;a++){this.tracks[a].trim(0,this.duration)}return this},validate:function validate(){for(var a=!0,b=0;b<this.tracks.length;b++){a=a&&this.tracks[b].validate()}return a},optimize:function optimize(){for(var a=0;a<this.tracks.length;a++){this.tracks[a].optimize()}return this}});var Hb={enabled:!1,files:{},add:function add(a,b){!1!==this.enabled&&(this.files[a]=b)},get:function get(a){if(!1!==this.enabled)return this.files[a]},remove:function remove(a){delete this.files[a]},clear:function clear(){this.files={}}},za=new ge,Oa={};Object.assign(Ia.prototype,{load:function load(a,b,c,d){void 0===a&&(a="");void 0!==this.path&&(a=this.path+a);a=this.manager.resolveURL(a);var e=this,f=Hb.get(a);if(void 0!==f)return e.manager.itemStart(a),setTimeout(function(){b&&b(f);e.manager.itemEnd(a)},0),f;if(void 0!==Oa[a])Oa[a].push({onLoad:b,onProgress:c,onError:d});else{var g=a.match(/^data:(.*?)(;base64)?,(.*)$/);if(g){c=g[1];var h=!!g[2];g=g[3];g=decodeURIComponent(g);h&&(g=atob(g));try{var k=(this.responseType||"").toLowerCase();switch(k){case"arraybuffer":case"blob":var m=new Uint8Array(g.length);for(h=0;h<g.length;h++){m[h]=g.charCodeAt(h)}var l="blob"===k?new Blob([m.buffer],{type:c}):m.buffer;break;case"document":l=new DOMParser().parseFromString(g,c);break;case"json":l=JSON.parse(g);break;default:l=g;}setTimeout(function(){b&&b(l);e.manager.itemEnd(a)},0)}catch(r){setTimeout(function(){d&&d(r);e.manager.itemError(a);e.manager.itemEnd(a)},0)}}else{Oa[a]=[];Oa[a].push({onLoad:b,onProgress:c,onError:d});var p=new XMLHttpRequest;p.open("GET",a,!0);p.addEventListener("load",function(b){var c=this.response;Hb.add(a,c);var d=Oa[a];delete Oa[a];if(200===this.status||0===this.status){0===this.status&&console.warn("THREE.FileLoader: HTTP Status 0 received.");for(var f=0,g=d.length,h;f<g;f++){h=d[f];if(h.onLoad)h.onLoad(c)}}else{f=0;for(g=d.length;f<g;f++){if(h=d[f],h.onError)h.onError(b)}e.manager.itemError(a)}e.manager.itemEnd(a)},!1);p.addEventListener("progress",function(b){for(var c=Oa[a],d=0,e=c.length,f;d<e;d++){f=c[d];if(f.onProgress)f.onProgress(b)}},!1);p.addEventListener("error",function(b){var c=Oa[a];delete Oa[a];for(var d=0,f=c.length,g;d<f;d++){g=c[d];if(g.onError)g.onError(b)}e.manager.itemError(a);e.manager.itemEnd(a)},!1);p.addEventListener("abort",function(b){var c=Oa[a];delete Oa[a];for(var d=0,f=c.length,g;d<f;d++){g=c[d];if(g.onError)g.onError(b)}e.manager.itemError(a);e.manager.itemEnd(a)},!1);void 0!==this.responseType&&(p.responseType=this.responseType);void 0!==this.withCredentials&&(p.withCredentials=this.withCredentials);p.overrideMimeType&&p.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain");for(h in this.requestHeader){p.setRequestHeader(h,this.requestHeader[h])}p.send(null)}e.manager.itemStart(a);return p}},setPath:function setPath(a){this.path=a;return this},setResponseType:function setResponseType(a){this.responseType=a;return this},setWithCredentials:function setWithCredentials(a){this.withCredentials=a;return this},setMimeType:function setMimeType(a){this.mimeType=a;return this},setRequestHeader:function setRequestHeader(a){this.requestHeader=a;return this}});Object.assign(tf.prototype,{load:function load(a,b,c,d){var e=this,f=new Ia(e.manager);f.setPath(e.path);f.load(a,function(a){b(e.parse(JSON.parse(a)))},c,d)},parse:function parse(a,b){for(var c=[],d=0,e;d<a.length;d++){e=Ha.parse(a[d]);c.push(e)}b(c)},setPath:function setPath(a){this.path=a;return this}});Object.assign(uf.prototype,{load:function load(a,b,c,d){function e(e){k.load(a[e],function(a){a=f._parser(a,!0);g[e]={width:a.width,height:a.height,format:a.format,mipmaps:a.mipmaps};m+=1;6===m&&(1===a.mipmapCount&&(h.minFilter=1006),h.format=a.format,h.needsUpdate=!0,b&&b(h))},c,d)}var f=this,g=[],h=new Ub;h.image=g;var k=new Ia(this.manager);k.setPath(this.path);k.setResponseType("arraybuffer");if(Array.isArray(a))for(var m=0,l=0,p=a.length;l<p;++l){e(l)}else k.load(a,function(a){a=f._parser(a,!0);if(a.isCubemap)for(var c=a.mipmaps.length/a.mipmapCount,d=0;d<c;d++){g[d]={mipmaps:[]};for(var e=0;e<a.mipmapCount;e++){g[d].mipmaps.push(a.mipmaps[d*a.mipmapCount+e]),g[d].format=a.format,g[d].width=a.width,g[d].height=a.height}}else h.image.width=a.width,h.image.height=a.height,h.mipmaps=a.mipmaps;1===a.mipmapCount&&(h.minFilter=1006);h.format=a.format;h.needsUpdate=!0;b&&b(h)},c,d);return h},setPath:function setPath(a){this.path=a;return this}});Object.assign(he.prototype,{load:function load(a,b,c,d){var e=this,f=new kb,g=new Ia(this.manager);g.setResponseType("arraybuffer");g.setPath(this.path);g.load(a,function(a){if(a=e._parser(a))void 0!==a.image?f.image=a.image:void 0!==a.data&&(f.image.width=a.width,f.image.height=a.height,f.image.data=a.data),f.wrapS=void 0!==a.wrapS?a.wrapS:1001,f.wrapT=void 0!==a.wrapT?a.wrapT:1001,f.magFilter=void 0!==a.magFilter?a.magFilter:1006,f.minFilter=void 0!==a.minFilter?a.minFilter:1008,f.anisotropy=void 0!==a.anisotropy?a.anisotropy:1,void 0!==a.format&&(f.format=a.format),void 0!==a.type&&(f.type=a.type),void 0!==a.mipmaps&&(f.mipmaps=a.mipmaps),1===a.mipmapCount&&(f.minFilter=1006),f.needsUpdate=!0,b&&b(f,a)},c,d);return f},setPath:function setPath(a){this.path=a;return this}});Object.assign(fd.prototype,{crossOrigin:"anonymous",load:function load(a,b,c,d){function e(){k.removeEventListener("load",e,!1);k.removeEventListener("error",f,!1);Hb.add(a,this);b&&b(this);g.manager.itemEnd(a)}function f(b){k.removeEventListener("load",e,!1);k.removeEventListener("error",f,!1);d&&d(b);g.manager.itemError(a);g.manager.itemEnd(a)}void 0===a&&(a="");void 0!==this.path&&(a=this.path+a);a=this.manager.resolveURL(a);var g=this,h=Hb.get(a);if(void 0!==h)return g.manager.itemStart(a),setTimeout(function(){b&&b(h);g.manager.itemEnd(a)},0),h;var k=document.createElementNS("http://www.w3.org/1999/xhtml","img");k.addEventListener("load",e,!1);k.addEventListener("error",f,!1);"data:"!==a.substr(0,5)&&void 0!==this.crossOrigin&&(k.crossOrigin=this.crossOrigin);g.manager.itemStart(a);k.src=a;return k},setCrossOrigin:function setCrossOrigin(a){this.crossOrigin=a;return this},setPath:function setPath(a){this.path=a;return this}});Object.assign(ie.prototype,{crossOrigin:"anonymous",load:function load(a,b,c,d){function e(c){g.load(a[c],function(a){f.images[c]=a;h++;6===h&&(f.needsUpdate=!0,b&&b(f))},void 0,d)}var f=new Xa,g=new fd(this.manager);g.setCrossOrigin(this.crossOrigin);g.setPath(this.path);var h=0;for(c=0;c<a.length;++c){e(c)}return f},setCrossOrigin:function setCrossOrigin(a){this.crossOrigin=a;return this},setPath:function setPath(a){this.path=a;return this}});Object.assign(Hd.prototype,{crossOrigin:"anonymous",load:function load(a,b,c,d){var e=new X,f=new fd(this.manager);f.setCrossOrigin(this.crossOrigin);f.setPath(this.path);f.load(a,function(c){e.image=c;c=0<a.search(/\.jpe?g($|\?)/i)||0===a.search(/^data:image\/jpeg/);e.format=c?1022:1023;e.needsUpdate=!0;void 0!==b&&b(e)},c,d);return e},setCrossOrigin:function setCrossOrigin(a){this.crossOrigin=a;return this},setPath:function setPath(a){this.path=a;return this}});Object.assign(J.prototype,{getPoint:function getPoint(){console.warn("THREE.Curve: .getPoint() not implemented.");return null},getPointAt:function getPointAt(a,b){a=this.getUtoTmapping(a);return this.getPoint(a,b)},getPoints:function getPoints(a){void 0===a&&(a=5);for(var b=[],c=0;c<=a;c++){b.push(this.getPoint(c/a))}return b},getSpacedPoints:function getSpacedPoints(a){void 0===a&&(a=5);for(var b=[],c=0;c<=a;c++){b.push(this.getPointAt(c/a))}return b},getLength:function getLength(){var a=this.getLengths();return a[a.length-1]},getLengths:function getLengths(a){void 0===a&&(a=this.arcLengthDivisions);if(this.cacheArcLengths&&this.cacheArcLengths.length===a+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var b=[],c=this.getPoint(0),d,e=0;b.push(0);for(d=1;d<=a;d++){var f=this.getPoint(d/a);e+=f.distanceTo(c);b.push(e);c=f}return this.cacheArcLengths=b},updateArcLengths:function updateArcLengths(){this.needsUpdate=!0;this.getLengths()},getUtoTmapping:function getUtoTmapping(a,b){var c=this.getLengths(),d=c.length;b=b?b:a*c[d-1];for(var e=0,f=d-1,g;e<=f;){if(a=_Mathfloor(e+(f-e)/2),g=c[a]-b,0>g)e=a+1;else if(0<g)f=a-1;else{f=a;break}}a=f;if(c[a]===b)return a/(d-1);e=c[a];return(a+(b-e)/(c[a+1]-e))/(d-1)},getTangent:function getTangent(a){var b=a-1E-4;a+=1E-4;0>b&&(b=0);1<a&&(a=1);b=this.getPoint(b);return this.getPoint(a).clone().sub(b).normalize()},getTangentAt:function getTangentAt(a){a=this.getUtoTmapping(a);return this.getTangent(a)},computeFrenetFrames:function computeFrenetFrames(a,b){var c=new n,d=[],e=[],f=[],g=new n,h=new O,k;for(k=0;k<=a;k++){var m=k/a;d[k]=this.getTangentAt(m);d[k].normalize()}e[0]=new n;f[0]=new n;k=Number.MAX_VALUE;m=_Mathabs(d[0].x);var l=_Mathabs(d[0].y),p=_Mathabs(d[0].z);m<=k&&(k=m,c.set(1,0,0));l<=k&&(k=l,c.set(0,1,0));p<=k&&c.set(0,0,1);g.crossVectors(d[0],c).normalize();e[0].crossVectors(d[0],g);f[0].crossVectors(d[0],e[0]);for(k=1;k<=a;k++){e[k]=e[k-1].clone(),f[k]=f[k-1].clone(),g.crossVectors(d[k-1],d[k]),g.length()>_NumberEPSILON&&(g.normalize(),c=_Mathacos(R.clamp(d[k-1].dot(d[k]),-1,1)),e[k].applyMatrix4(h.makeRotationAxis(g,c))),f[k].crossVectors(d[k],e[k])}if(!0===b)for(c=_Mathacos(R.clamp(e[0].dot(e[a]),-1,1)),c/=a,0<d[0].dot(g.crossVectors(e[0],e[a]))&&(c=-c),k=1;k<=a;k++){e[k].applyMatrix4(h.makeRotationAxis(d[k],c*k)),f[k].crossVectors(d[k],e[k])}return{tangents:d,normals:e,binormals:f}},clone:function clone(){return new this.constructor().copy(this)},copy:function copy(a){this.arcLengthDivisions=a.arcLengthDivisions;return this},toJSON:function toJSON(){var a={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"},arcLengthDivisions:this.arcLengthDivisions,type:this.type};return a},fromJSON:function fromJSON(a){this.arcLengthDivisions=a.arcLengthDivisions;return this}});Da.prototype=Object.create(J.prototype);Da.prototype.constructor=Da;Da.prototype.isEllipseCurve=!0;Da.prototype.getPoint=function(a,b){b=b||new z;for(var c=2*_MathPI,d=this.aEndAngle-this.aStartAngle,e=_Mathabs(d)<_NumberEPSILON;0>d;){d+=c}for(;d>c;){d-=c}d<_NumberEPSILON&&(d=e?0:c);!0!==this.aClockwise||e||(d=d===c?-c:d-c);c=this.aStartAngle+a*d;a=this.aX+this.xRadius*_Mathcos(c);var f=this.aY+this.yRadius*_Mathsin(c);0!==this.aRotation&&(c=_Mathcos(this.aRotation),d=_Mathsin(this.aRotation),e=a-this.aX,f-=this.aY,a=e*c-f*d+this.aX,f=e*d+f*c+this.aY);return b.set(a,f)};Da.prototype.copy=function(a){J.prototype.copy.call(this,a);this.aX=a.aX;this.aY=a.aY;this.xRadius=a.xRadius;this.yRadius=a.yRadius;this.aStartAngle=a.aStartAngle;this.aEndAngle=a.aEndAngle;this.aClockwise=a.aClockwise;this.aRotation=a.aRotation;return this};Da.prototype.toJSON=function(){var a=J.prototype.toJSON.call(this);a.aX=this.aX;a.aY=this.aY;a.xRadius=this.xRadius;a.yRadius=this.yRadius;a.aStartAngle=this.aStartAngle;a.aEndAngle=this.aEndAngle;a.aClockwise=this.aClockwise;a.aRotation=this.aRotation;return a};Da.prototype.fromJSON=function(a){J.prototype.fromJSON.call(this,a);this.aX=a.aX;this.aY=a.aY;this.xRadius=a.xRadius;this.yRadius=a.yRadius;this.aStartAngle=a.aStartAngle;this.aEndAngle=a.aEndAngle;this.aClockwise=a.aClockwise;this.aRotation=a.aRotation;return this};kc.prototype=Object.create(Da.prototype);kc.prototype.constructor=kc;kc.prototype.isArcCurve=!0;var Ud=new n,Fe=new je,Ge=new je,He=new je;ua.prototype=Object.create(J.prototype);ua.prototype.constructor=ua;ua.prototype.isCatmullRomCurve3=!0;ua.prototype.getPoint=function(a,b){b=b||new n;var c=this.points,d=c.length;a*=d-(this.closed?0:1);var e=_Mathfloor(a);a-=e;this.closed?e+=0<e?0:(_Mathfloor(_Mathabs(e)/d)+1)*d:0===a&&e===d-1&&(e=d-2,a=1);if(this.closed||0<e)var f=c[(e-1)%d];else Ud.subVectors(c[0],c[1]).add(c[0]),f=Ud;var g=c[e%d],h=c[(e+1)%d];this.closed||e+2<d?c=c[(e+2)%d]:(Ud.subVectors(c[d-1],c[d-2]).add(c[d-1]),c=Ud);if("centripetal"===this.curveType||"chordal"===this.curveType){var k="chordal"===this.curveType?.5:.25;d=_Mathpow(f.distanceToSquared(g),k);e=_Mathpow(g.distanceToSquared(h),k);k=_Mathpow(h.distanceToSquared(c),k);1E-4>e&&(e=1);1E-4>d&&(d=e);1E-4>k&&(k=e);Fe.initNonuniformCatmullRom(f.x,g.x,h.x,c.x,d,e,k);Ge.initNonuniformCatmullRom(f.y,g.y,h.y,c.y,d,e,k);He.initNonuniformCatmullRom(f.z,g.z,h.z,c.z,d,e,k)}else"catmullrom"===this.curveType&&(Fe.initCatmullRom(f.x,g.x,h.x,c.x,this.tension),Ge.initCatmullRom(f.y,g.y,h.y,c.y,this.tension),He.initCatmullRom(f.z,g.z,h.z,c.z,this.tension));b.set(Fe.calc(a),Ge.calc(a),He.calc(a));return b};ua.prototype.copy=function(a){J.prototype.copy.call(this,a);this.points=[];for(var b=0,c=a.points.length;b<c;b++){this.points.push(a.points[b].clone())}this.closed=a.closed;this.curveType=a.curveType;this.tension=a.tension;return this};ua.prototype.toJSON=function(){var a=J.prototype.toJSON.call(this);a.points=[];for(var b=0,c=this.points.length;b<c;b++){a.points.push(this.points[b].toArray())}a.closed=this.closed;a.curveType=this.curveType;a.tension=this.tension;return a};ua.prototype.fromJSON=function(a){J.prototype.fromJSON.call(this,a);this.points=[];for(var b=0,c=a.points.length,d;b<c;b++){d=a.points[b];this.points.push(new n().fromArray(d))}this.closed=a.closed;this.curveType=a.curveType;this.tension=a.tension;return this};Ja.prototype=Object.create(J.prototype);Ja.prototype.constructor=Ja;Ja.prototype.isCubicBezierCurve=!0;Ja.prototype.getPoint=function(a,b){b=b||new z;var c=this.v0,d=this.v1,e=this.v2,f=this.v3;b.set(hd(a,c.x,d.x,e.x,f.x),hd(a,c.y,d.y,e.y,f.y));return b};Ja.prototype.copy=function(a){J.prototype.copy.call(this,a);this.v0.copy(a.v0);this.v1.copy(a.v1);this.v2.copy(a.v2);this.v3.copy(a.v3);return this};Ja.prototype.toJSON=function(){var a=J.prototype.toJSON.call(this);a.v0=this.v0.toArray();a.v1=this.v1.toArray();a.v2=this.v2.toArray();a.v3=this.v3.toArray();return a};Ja.prototype.fromJSON=function(a){J.prototype.fromJSON.call(this,a);this.v0.fromArray(a.v0);this.v1.fromArray(a.v1);this.v2.fromArray(a.v2);this.v3.fromArray(a.v3);return this};Ua.prototype=Object.create(J.prototype);Ua.prototype.constructor=Ua;Ua.prototype.isCubicBezierCurve3=!0;Ua.prototype.getPoint=function(a,b){b=b||new n;var c=this.v0,d=this.v1,e=this.v2,f=this.v3;b.set(hd(a,c.x,d.x,e.x,f.x),hd(a,c.y,d.y,e.y,f.y),hd(a,c.z,d.z,e.z,f.z));return b};Ua.prototype.copy=function(a){J.prototype.copy.call(this,a);this.v0.copy(a.v0);this.v1.copy(a.v1);this.v2.copy(a.v2);this.v3.copy(a.v3);return this};Ua.prototype.toJSON=function(){var a=J.prototype.toJSON.call(this);a.v0=this.v0.toArray();a.v1=this.v1.toArray();a.v2=this.v2.toArray();a.v3=this.v3.toArray();return a};Ua.prototype.fromJSON=function(a){J.prototype.fromJSON.call(this,a);this.v0.fromArray(a.v0);this.v1.fromArray(a.v1);this.v2.fromArray(a.v2);this.v3.fromArray(a.v3);return this};Aa.prototype=Object.create(J.prototype);Aa.prototype.constructor=Aa;Aa.prototype.isLineCurve=!0;Aa.prototype.getPoint=function(a,b){b=b||new z;1===a?b.copy(this.v2):(b.copy(this.v2).sub(this.v1),b.multiplyScalar(a).add(this.v1));return b};Aa.prototype.getPointAt=function(a,b){return this.getPoint(a,b)};Aa.prototype.getTangent=function(){return this.v2.clone().sub(this.v1).normalize()};Aa.prototype.copy=function(a){J.prototype.copy.call(this,a);this.v1.copy(a.v1);this.v2.copy(a.v2);return this};Aa.prototype.toJSON=function(){var a=J.prototype.toJSON.call(this);a.v1=this.v1.toArray();a.v2=this.v2.toArray();return a};Aa.prototype.fromJSON=function(a){J.prototype.fromJSON.call(this,a);this.v1.fromArray(a.v1);this.v2.fromArray(a.v2);return this};Ka.prototype=Object.create(J.prototype);Ka.prototype.constructor=Ka;Ka.prototype.isLineCurve3=!0;Ka.prototype.getPoint=function(a,b){b=b||new n;1===a?b.copy(this.v2):(b.copy(this.v2).sub(this.v1),b.multiplyScalar(a).add(this.v1));return b};Ka.prototype.getPointAt=function(a,b){return this.getPoint(a,b)};Ka.prototype.copy=function(a){J.prototype.copy.call(this,a);this.v1.copy(a.v1);this.v2.copy(a.v2);return this};Ka.prototype.toJSON=function(){var a=J.prototype.toJSON.call(this);a.v1=this.v1.toArray();a.v2=this.v2.toArray();return a};Ka.prototype.fromJSON=function(a){J.prototype.fromJSON.call(this,a);this.v1.fromArray(a.v1);this.v2.fromArray(a.v2);return this};La.prototype=Object.create(J.prototype);La.prototype.constructor=La;La.prototype.isQuadraticBezierCurve=!0;La.prototype.getPoint=function(a,b){b=b||new z;var c=this.v0,d=this.v1,e=this.v2;b.set(gd(a,c.x,d.x,e.x),gd(a,c.y,d.y,e.y));return b};La.prototype.copy=function(a){J.prototype.copy.call(this,a);this.v0.copy(a.v0);this.v1.copy(a.v1);this.v2.copy(a.v2);return this};La.prototype.toJSON=function(){var a=J.prototype.toJSON.call(this);a.v0=this.v0.toArray();a.v1=this.v1.toArray();a.v2=this.v2.toArray();return a};La.prototype.fromJSON=function(a){J.prototype.fromJSON.call(this,a);this.v0.fromArray(a.v0);this.v1.fromArray(a.v1);this.v2.fromArray(a.v2);return this};Va.prototype=Object.create(J.prototype);Va.prototype.constructor=Va;Va.prototype.isQuadraticBezierCurve3=!0;Va.prototype.getPoint=function(a,b){b=b||new n;var c=this.v0,d=this.v1,e=this.v2;b.set(gd(a,c.x,d.x,e.x),gd(a,c.y,d.y,e.y),gd(a,c.z,d.z,e.z));return b};Va.prototype.copy=function(a){J.prototype.copy.call(this,a);this.v0.copy(a.v0);this.v1.copy(a.v1);this.v2.copy(a.v2);return this};Va.prototype.toJSON=function(){var a=J.prototype.toJSON.call(this);a.v0=this.v0.toArray();a.v1=this.v1.toArray();a.v2=this.v2.toArray();return a};Va.prototype.fromJSON=function(a){J.prototype.fromJSON.call(this,a);this.v0.fromArray(a.v0);this.v1.fromArray(a.v1);this.v2.fromArray(a.v2);return this};Ma.prototype=Object.create(J.prototype);Ma.prototype.constructor=Ma;Ma.prototype.isSplineCurve=!0;Ma.prototype.getPoint=function(a,b){b=b||new z;var c=this.points,d=(c.length-1)*a;a=_Mathfloor(d);d-=a;var e=c[0===a?a:a-1],f=c[a],g=c[a>c.length-2?c.length-1:a+1];c=c[a>c.length-3?c.length-1:a+2];b.set(vf(d,e.x,f.x,g.x,c.x),vf(d,e.y,f.y,g.y,c.y));return b};Ma.prototype.copy=function(a){J.prototype.copy.call(this,a);this.points=[];for(var b=0,c=a.points.length;b<c;b++){this.points.push(a.points[b].clone())}return this};Ma.prototype.toJSON=function(){var a=J.prototype.toJSON.call(this);a.points=[];for(var b=0,c=this.points.length;b<c;b++){a.points.push(this.points[b].toArray())}return a};Ma.prototype.fromJSON=function(a){J.prototype.fromJSON.call(this,a);this.points=[];for(var b=0,c=a.points.length,d;b<c;b++){d=a.points[b];this.points.push(new z().fromArray(d))}return this};var If=Object.freeze({ArcCurve:kc,CatmullRomCurve3:ua,CubicBezierCurve:Ja,CubicBezierCurve3:Ua,EllipseCurve:Da,LineCurve:Aa,LineCurve3:Ka,QuadraticBezierCurve:La,QuadraticBezierCurve3:Va,SplineCurve:Ma});$a.prototype=Object.assign(Object.create(J.prototype),{constructor:$a,add:function add(a){this.curves.push(a)},closePath:function closePath(){var a=this.curves[0].getPoint(0),b=this.curves[this.curves.length-1].getPoint(1);a.equals(b)||this.curves.push(new Aa(b,a))},getPoint:function getPoint(a){var b=a*this.getLength(),c=this.getCurveLengths();for(a=0;a<c.length;){if(c[a]>=b)return b=c[a]-b,a=this.curves[a],c=a.getLength(),a.getPointAt(0===c?0:1-b/c);a++}return null},getLength:function getLength(){var a=this.getCurveLengths();return a[a.length-1]},updateArcLengths:function updateArcLengths(){this.needsUpdate=!0;this.cacheLengths=null;this.getCurveLengths()},getCurveLengths:function getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var a=[],b=0,c=0,d=this.curves.length;c<d;c++){b+=this.curves[c].getLength(),a.push(b)}return this.cacheLengths=a},getSpacedPoints:function getSpacedPoints(a){void 0===a&&(a=40);for(var b=[],c=0;c<=a;c++){b.push(this.getPoint(c/a))}this.autoClose&&b.push(b[0]);return b},getPoints:function getPoints(a){a=a||12;for(var b=[],c,d=0,e=this.curves,f;d<e.length;d++){f=e[d];f=f.getPoints(f&&f.isEllipseCurve?2*a:f&&(f.isLineCurve||f.isLineCurve3)?1:f&&f.isSplineCurve?a*f.points.length:a);for(var g=0,h;g<f.length;g++){h=f[g];c&&c.equals(h)||(b.push(h),c=h)}}this.autoClose&&1<b.length&&!b[b.length-1].equals(b[0])&&b.push(b[0]);return b},copy:function copy(a){J.prototype.copy.call(this,a);this.curves=[];for(var b=0,c=a.curves.length;b<c;b++){this.curves.push(a.curves[b].clone())}this.autoClose=a.autoClose;return this},toJSON:function toJSON(){var a=J.prototype.toJSON.call(this);a.autoClose=this.autoClose;a.curves=[];for(var b=0,c=this.curves.length;b<c;b++){a.curves.push(this.curves[b].toJSON())}return a},fromJSON:function fromJSON(a){J.prototype.fromJSON.call(this,a);this.autoClose=a.autoClose;this.curves=[];for(var b=0,c=a.curves.length,d;b<c;b++){d=a.curves[b];this.curves.push(new If[d.type]().fromJSON(d))}return this}});Na.prototype=Object.assign(Object.create($a.prototype),{constructor:Na,setFromPoints:function setFromPoints(a){this.moveTo(a[0].x,a[0].y);for(var b=1,c=a.length;b<c;b++){this.lineTo(a[b].x,a[b].y)}},moveTo:function moveTo(a,b){this.currentPoint.set(a,b)},lineTo:function lineTo(a,b){var c=new Aa(this.currentPoint.clone(),new z(a,b));this.curves.push(c);this.currentPoint.set(a,b)},quadraticCurveTo:function quadraticCurveTo(a,b,c,d){a=new La(this.currentPoint.clone(),new z(a,b),new z(c,d));this.curves.push(a);this.currentPoint.set(c,d)},bezierCurveTo:function bezierCurveTo(a,b,c,d,e,f){a=new Ja(this.currentPoint.clone(),new z(a,b),new z(c,d),new z(e,f));this.curves.push(a);this.currentPoint.set(e,f)},splineThru:function splineThru(a){var b=[this.currentPoint.clone()].concat(a);b=new Ma(b);this.curves.push(b);this.currentPoint.copy(a[a.length-1])},arc:function arc(a,b,c,d,e,f){this.absarc(a+this.currentPoint.x,b+this.currentPoint.y,c,d,e,f)},absarc:function absarc(a,b,c,d,e,f){this.absellipse(a,b,c,c,d,e,f)},ellipse:function ellipse(a,b,c,d,e,f,g,h){this.absellipse(a+this.currentPoint.x,b+this.currentPoint.y,c,d,e,f,g,h)},absellipse:function absellipse(a,b,c,d,e,f,g,h){a=new Da(a,b,c,d,e,f,g,h);0<this.curves.length&&(b=a.getPoint(0),b.equals(this.currentPoint)||this.lineTo(b.x,b.y));this.curves.push(a);a=a.getPoint(1);this.currentPoint.copy(a)},copy:function copy(a){$a.prototype.copy.call(this,a);this.currentPoint.copy(a.currentPoint);return this},toJSON:function toJSON(){var a=$a.prototype.toJSON.call(this);a.currentPoint=this.currentPoint.toArray();return a},fromJSON:function fromJSON(a){$a.prototype.fromJSON.call(this,a);this.currentPoint.fromArray(a.currentPoint);return this}});hb.prototype=Object.assign(Object.create(Na.prototype),{constructor:hb,getPointsHoles:function getPointsHoles(a){for(var b=[],c=0,d=this.holes.length;c<d;c++){b[c]=this.holes[c].getPoints(a)}return b},extractPoints:function extractPoints(a){return{shape:this.getPoints(a),holes:this.getPointsHoles(a)}},copy:function copy(a){Na.prototype.copy.call(this,a);this.holes=[];for(var b=0,c=a.holes.length;b<c;b++){this.holes.push(a.holes[b].clone())}return this},toJSON:function toJSON(){var a=Na.prototype.toJSON.call(this);a.uuid=this.uuid;a.holes=[];for(var b=0,c=this.holes.length;b<c;b++){a.holes.push(this.holes[b].toJSON())}return a},fromJSON:function fromJSON(a){Na.prototype.fromJSON.call(this,a);this.uuid=a.uuid;this.holes=[];for(var b=0,c=a.holes.length,d;b<c;b++){d=a.holes[b];this.holes.push(new Na().fromJSON(d))}return this}});ba.prototype=Object.assign(Object.create(D.prototype),{constructor:ba,isLight:!0,copy:function copy(a){D.prototype.copy.call(this,a);this.color.copy(a.color);this.intensity=a.intensity;return this},toJSON:function toJSON(a){a=D.prototype.toJSON.call(this,a);a.object.color=this.color.getHex();a.object.intensity=this.intensity;void 0!==this.groundColor&&(a.object.groundColor=this.groundColor.getHex());void 0!==this.distance&&(a.object.distance=this.distance);void 0!==this.angle&&(a.object.angle=this.angle);void 0!==this.decay&&(a.object.decay=this.decay);void 0!==this.penumbra&&(a.object.penumbra=this.penumbra);void 0!==this.shadow&&(a.object.shadow=this.shadow.toJSON());return a}});Id.prototype=Object.assign(Object.create(ba.prototype),{constructor:Id,isHemisphereLight:!0,copy:function copy(a){ba.prototype.copy.call(this,a);this.groundColor.copy(a.groundColor);return this}});Object.assign(Gb.prototype,{copy:function copy(a){this.camera=a.camera.clone();this.bias=a.bias;this.radius=a.radius;this.mapSize.copy(a.mapSize);return this},clone:function clone(){return new this.constructor().copy(this)},toJSON:function toJSON(){var a={};0!==this.bias&&(a.bias=this.bias);1!==this.radius&&(a.radius=this.radius);if(512!==this.mapSize.x||512!==this.mapSize.y)a.mapSize=this.mapSize.toArray();a.camera=this.camera.toJSON(!1).object;delete a.camera.matrix;return a}});Jd.prototype=Object.assign(Object.create(Gb.prototype),{constructor:Jd,isSpotLightShadow:!0,update:function update(a){var b=this.camera,c=2*R.RAD2DEG*a.angle,d=this.mapSize.width/this.mapSize.height;a=a.distance||b.far;if(c!==b.fov||d!==b.aspect||a!==b.far)b.fov=c,b.aspect=d,b.far=a,b.updateProjectionMatrix()}});Kd.prototype=Object.assign(Object.create(ba.prototype),{constructor:Kd,isSpotLight:!0,copy:function copy(a){ba.prototype.copy.call(this,a);this.distance=a.distance;this.angle=a.angle;this.penumbra=a.penumbra;this.decay=a.decay;this.target=a.target.clone();this.shadow=a.shadow.clone();return this}});Ld.prototype=Object.assign(Object.create(ba.prototype),{constructor:Ld,isPointLight:!0,copy:function copy(a){ba.prototype.copy.call(this,a);this.distance=a.distance;this.decay=a.decay;this.shadow=a.shadow.clone();return this}});id.prototype=Object.assign(Object.create(Ra.prototype),{constructor:id,isOrthographicCamera:!0,copy:function copy(a,b){Ra.prototype.copy.call(this,a,b);this.left=a.left;this.right=a.right;this.top=a.top;this.bottom=a.bottom;this.near=a.near;this.far=a.far;this.zoom=a.zoom;this.view=null===a.view?null:Object.assign({},a.view);return this},setViewOffset:function setViewOffset(a,b,c,d,e,f){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1});this.view.enabled=!0;this.view.fullWidth=a;this.view.fullHeight=b;this.view.offsetX=c;this.view.offsetY=d;this.view.width=e;this.view.height=f;this.updateProjectionMatrix()},clearViewOffset:function clearViewOffset(){null!==this.view&&(this.view.enabled=!1);this.updateProjectionMatrix()},updateProjectionMatrix:function updateProjectionMatrix(){var a=(this.right-this.left)/(2*this.zoom),b=(this.top-this.bottom)/(2*this.zoom),c=(this.right+this.left)/2,d=(this.top+this.bottom)/2,e=c-a;c+=a;a=d+b;b=d-b;if(null!==this.view&&this.view.enabled){c=this.zoom/(this.view.width/this.view.fullWidth);b=this.zoom/(this.view.height/this.view.fullHeight);var f=(this.right-this.left)/this.view.width;d=(this.top-this.bottom)/this.view.height;e+=this.view.offsetX/c*f;c=e+this.view.width/c*f;a-=this.view.offsetY/b*d;b=a-this.view.height/b*d}this.projectionMatrix.makeOrthographic(e,c,a,b,this.near,this.far);this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function toJSON(a){a=D.prototype.toJSON.call(this,a);a.object.zoom=this.zoom;a.object.left=this.left;a.object.right=this.right;a.object.top=this.top;a.object.bottom=this.bottom;a.object.near=this.near;a.object.far=this.far;null!==this.view&&(a.object.view=Object.assign({},this.view));return a}});Md.prototype=Object.assign(Object.create(Gb.prototype),{constructor:Md});Nd.prototype=Object.assign(Object.create(ba.prototype),{constructor:Nd,isDirectionalLight:!0,copy:function copy(a){ba.prototype.copy.call(this,a);this.target=a.target.clone();this.shadow=a.shadow.clone();return this}});Od.prototype=Object.assign(Object.create(ba.prototype),{constructor:Od,isAmbientLight:!0});Pd.prototype=Object.assign(Object.create(ba.prototype),{constructor:Pd,isRectAreaLight:!0,copy:function copy(a){ba.prototype.copy.call(this,a);this.width=a.width;this.height=a.height;return this},toJSON:function toJSON(a){a=ba.prototype.toJSON.call(this,a);a.object.width=this.width;a.object.height=this.height;return a}});Object.assign(Qd.prototype,{load:function load(a,b,c,d){var e=this,f=new Ia(e.manager);f.setPath(e.path);f.load(a,function(a){b(e.parse(JSON.parse(a)))},c,d)},parse:function parse(a){function b(a){void 0===c[a]&&console.warn("THREE.MaterialLoader: Undefined texture",a);return c[a]}var c=this.textures,d=new dh[a.type];void 0!==a.uuid&&(d.uuid=a.uuid);void 0!==a.name&&(d.name=a.name);void 0!==a.color&&d.color.setHex(a.color);void 0!==a.roughness&&(d.roughness=a.roughness);void 0!==a.metalness&&(d.metalness=a.metalness);void 0!==a.emissive&&d.emissive.setHex(a.emissive);void 0!==a.specular&&d.specular.setHex(a.specular);void 0!==a.shininess&&(d.shininess=a.shininess);void 0!==a.clearCoat&&(d.clearCoat=a.clearCoat);void 0!==a.clearCoatRoughness&&(d.clearCoatRoughness=a.clearCoatRoughness);void 0!==a.vertexColors&&(d.vertexColors=a.vertexColors);void 0!==a.fog&&(d.fog=a.fog);void 0!==a.flatShading&&(d.flatShading=a.flatShading);void 0!==a.blending&&(d.blending=a.blending);void 0!==a.combine&&(d.combine=a.combine);void 0!==a.side&&(d.side=a.side);void 0!==a.opacity&&(d.opacity=a.opacity);void 0!==a.transparent&&(d.transparent=a.transparent);void 0!==a.alphaTest&&(d.alphaTest=a.alphaTest);void 0!==a.depthTest&&(d.depthTest=a.depthTest);void 0!==a.depthWrite&&(d.depthWrite=a.depthWrite);void 0!==a.colorWrite&&(d.colorWrite=a.colorWrite);void 0!==a.wireframe&&(d.wireframe=a.wireframe);void 0!==a.wireframeLinewidth&&(d.wireframeLinewidth=a.wireframeLinewidth);void 0!==a.wireframeLinecap&&(d.wireframeLinecap=a.wireframeLinecap);void 0!==a.wireframeLinejoin&&(d.wireframeLinejoin=a.wireframeLinejoin);void 0!==a.rotation&&(d.rotation=a.rotation);1!==a.linewidth&&(d.linewidth=a.linewidth);void 0!==a.dashSize&&(d.dashSize=a.dashSize);void 0!==a.gapSize&&(d.gapSize=a.gapSize);void 0!==a.scale&&(d.scale=a.scale);void 0!==a.polygonOffset&&(d.polygonOffset=a.polygonOffset);void 0!==a.polygonOffsetFactor&&(d.polygonOffsetFactor=a.polygonOffsetFactor);void 0!==a.polygonOffsetUnits&&(d.polygonOffsetUnits=a.polygonOffsetUnits);void 0!==a.skinning&&(d.skinning=a.skinning);void 0!==a.morphTargets&&(d.morphTargets=a.morphTargets);void 0!==a.dithering&&(d.dithering=a.dithering);void 0!==a.visible&&(d.visible=a.visible);void 0!==a.userData&&(d.userData=a.userData);if(void 0!==a.uniforms)for(var e in a.uniforms){var f=a.uniforms[e];d.uniforms[e]={};switch(f.type){case"t":d.uniforms[e].value=b(f.value);break;case"c":d.uniforms[e].value=new I().setHex(f.value);break;case"v2":d.uniforms[e].value=new z().fromArray(f.value);break;case"v3":d.uniforms[e].value=new n().fromArray(f.value);break;case"v4":d.uniforms[e].value=new ca().fromArray(f.value);break;case"m4":d.uniforms[e].value=new O().fromArray(f.value);break;default:d.uniforms[e].value=f.value;}}void 0!==a.defines&&(d.defines=a.defines);void 0!==a.vertexShader&&(d.vertexShader=a.vertexShader);void 0!==a.fragmentShader&&(d.fragmentShader=a.fragmentShader);void 0!==a.shading&&(d.flatShading=1===a.shading);void 0!==a.size&&(d.size=a.size);void 0!==a.sizeAttenuation&&(d.sizeAttenuation=a.sizeAttenuation);void 0!==a.map&&(d.map=b(a.map));void 0!==a.alphaMap&&(d.alphaMap=b(a.alphaMap),d.transparent=!0);void 0!==a.bumpMap&&(d.bumpMap=b(a.bumpMap));void 0!==a.bumpScale&&(d.bumpScale=a.bumpScale);void 0!==a.normalMap&&(d.normalMap=b(a.normalMap));void 0!==a.normalMapType&&(d.normalMapType=a.normalMapType);void 0!==a.normalScale&&(e=a.normalScale,!1===Array.isArray(e)&&(e=[e,e]),d.normalScale=new z().fromArray(e));void 0!==a.displacementMap&&(d.displacementMap=b(a.displacementMap));void 0!==a.displacementScale&&(d.displacementScale=a.displacementScale);void 0!==a.displacementBias&&(d.displacementBias=a.displacementBias);void 0!==a.roughnessMap&&(d.roughnessMap=b(a.roughnessMap));void 0!==a.metalnessMap&&(d.metalnessMap=b(a.metalnessMap));void 0!==a.emissiveMap&&(d.emissiveMap=b(a.emissiveMap));void 0!==a.emissiveIntensity&&(d.emissiveIntensity=a.emissiveIntensity);void 0!==a.specularMap&&(d.specularMap=b(a.specularMap));void 0!==a.envMap&&(d.envMap=b(a.envMap));void 0!==a.envMapIntensity&&(d.envMapIntensity=a.envMapIntensity);void 0!==a.reflectivity&&(d.reflectivity=a.reflectivity);void 0!==a.lightMap&&(d.lightMap=b(a.lightMap));void 0!==a.lightMapIntensity&&(d.lightMapIntensity=a.lightMapIntensity);void 0!==a.aoMap&&(d.aoMap=b(a.aoMap));void 0!==a.aoMapIntensity&&(d.aoMapIntensity=a.aoMapIntensity);void 0!==a.gradientMap&&(d.gradientMap=b(a.gradientMap));return d},setPath:function setPath(a){this.path=a;return this},setTextures:function setTextures(a){this.textures=a;return this}});var Ie={decodeText:function decodeText(a){if("undefined"!==typeof TextDecoder)return new TextDecoder().decode(a);for(var b="",c=0,d=a.length;c<d;c++){b+=String.fromCharCode(a[c])}return decodeURIComponent(escape(b))},extractUrlBase:function extractUrlBase(a){var b=a.lastIndexOf("/");return-1===b?"./":a.substr(0,b+1)}};Object.assign(ke.prototype,{load:function load(a,b,c,d){var e=this,f=new Ia(e.manager);f.setPath(e.path);f.load(a,function(a){b(e.parse(JSON.parse(a)))},c,d)},parse:function parse(a){var b=new C,c=a.data.index;void 0!==c&&(c=new Jf[c.type](c.array),b.setIndex(new E(c,1)));var d=a.data.attributes;for(f in d){var e=d[f];c=new Jf[e.type](e.array);b.addAttribute(f,new E(c,e.itemSize,e.normalized))}var f=a.data.groups||a.data.drawcalls||a.data.offsets;if(void 0!==f)for(c=0,d=f.length;c!==d;++c){e=f[c],b.addGroup(e.start,e.count,e.materialIndex)}f=a.data.boundingSphere;void 0!==f&&(c=new n,void 0!==f.center&&c.fromArray(f.center),b.boundingSphere=new Ea(c,f.radius));a.name&&(b.name=a.name);a.userData&&(b.userData=a.userData);return b},setPath:function setPath(a){this.path=a;return this}});var Jf={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:"undefined"!==typeof Uint8ClampedArray?Uint8ClampedArray:Uint8Array,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};Object.assign(le.prototype,{crossOrigin:"anonymous",load:function load(a,b,c,d){var e=this,f=void 0===this.path?Ie.extractUrlBase(a):this.path;this.resourcePath=this.resourcePath||f;f=new Ia(e.manager);f.setPath(this.path);f.load(a,function(c){var f=null;try{f=JSON.parse(c)}catch(k){void 0!==d&&d(k);console.error("THREE:ObjectLoader: Can't parse "+a+".",k.message);return}c=f.metadata;void 0===c||void 0===c.type||"geometry"===c.type.toLowerCase()?console.error("THREE.ObjectLoader: Can't load "+a):e.parse(f,b)},c,d)},setPath:function setPath(a){this.path=a;return this},setResourcePath:function setResourcePath(a){this.resourcePath=a;return this},setCrossOrigin:function setCrossOrigin(a){this.crossOrigin=a;return this},parse:function parse(a,b){var c=this.parseShape(a.shapes);c=this.parseGeometries(a.geometries,c);var d=this.parseImages(a.images,function(){void 0!==b&&b(e)});d=this.parseTextures(a.textures,d);d=this.parseMaterials(a.materials,d);var e=this.parseObject(a.object,c,d);a.animations&&(e.animations=this.parseAnimations(a.animations));void 0!==a.images&&0!==a.images.length||void 0===b||b(e);return e},parseShape:function parseShape(a){var b={};if(void 0!==a)for(var c=0,d=a.length,e;c<d;c++){e=new hb().fromJSON(a[c]);b[e.uuid]=e}return b},parseGeometries:function parseGeometries(a,b){var c={};if(void 0!==a)for(var d=new ke,e=0,f=a.length,g;e<f;e++){g=a[e];switch(g.type){case"PlaneGeometry":case"PlaneBufferGeometry":var h=new ia[g.type](g.width,g.height,g.widthSegments,g.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":case"CubeGeometry":h=new ia[g.type](g.width,g.height,g.depth,g.widthSegments,g.heightSegments,g.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":h=new ia[g.type](g.radius,g.segments,g.thetaStart,g.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":h=new ia[g.type](g.radiusTop,g.radiusBottom,g.height,g.radialSegments,g.heightSegments,g.openEnded,g.thetaStart,g.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":h=new ia[g.type](g.radius,g.height,g.radialSegments,g.heightSegments,g.openEnded,g.thetaStart,g.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":h=new ia[g.type](g.radius,g.widthSegments,g.heightSegments,g.phiStart,g.phiLength,g.thetaStart,g.thetaLength);break;case"DodecahedronGeometry":case"DodecahedronBufferGeometry":case"IcosahedronGeometry":case"IcosahedronBufferGeometry":case"OctahedronGeometry":case"OctahedronBufferGeometry":case"TetrahedronGeometry":case"TetrahedronBufferGeometry":h=new ia[g.type](g.radius,g.detail);break;case"RingGeometry":case"RingBufferGeometry":h=new ia[g.type](g.innerRadius,g.outerRadius,g.thetaSegments,g.phiSegments,g.thetaStart,g.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":h=new ia[g.type](g.radius,g.tube,g.radialSegments,g.tubularSegments,g.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":h=new ia[g.type](g.radius,g.tube,g.tubularSegments,g.radialSegments,g.p,g.q);break;case"LatheGeometry":case"LatheBufferGeometry":h=new ia[g.type](g.points,g.segments,g.phiStart,g.phiLength);break;case"PolyhedronGeometry":case"PolyhedronBufferGeometry":h=new ia[g.type](g.vertices,g.indices,g.radius,g.details);break;case"ShapeGeometry":case"ShapeBufferGeometry":h=[];for(var k=0,m=g.shapes.length,l;k<m;k++){l=b[g.shapes[k]];h.push(l)}h=new ia[g.type](h,g.curveSegments);break;case"ExtrudeGeometry":case"ExtrudeBufferGeometry":h=[];k=0;for(m=g.shapes.length;k<m;k++){l=b[g.shapes[k]],h.push(l)}k=g.options.extrudePath;void 0!==k&&(g.options.extrudePath=new If[k.type]().fromJSON(k));h=new ia[g.type](h,g.options);break;case"BufferGeometry":h=d.parse(g);break;case"Geometry":"THREE"in window&&"LegacyJSONLoader"in THREE?h=new THREE.LegacyJSONLoader().parse(g,this.resourcePath).geometry:console.error("THREE.ObjectLoader: You have to import LegacyJSONLoader in order load geometry data of type \"Geometry\".");break;default:console.warn("THREE.ObjectLoader: Unsupported geometry type \""+g.type+"\"");continue;}h.uuid=g.uuid;void 0!==g.name&&(h.name=g.name);!0===h.isBufferGeometry&&void 0!==g.userData&&(h.userData=g.userData);c[g.uuid]=h}return c},parseMaterials:function parseMaterials(a,b){var c={},d={};if(void 0!==a){var e=new Qd;e.setTextures(b);b=0;for(var f=a.length,g;b<f;b++){g=a[b];if("MultiMaterial"===g.type){for(var h=[],k=0,m;k<g.materials.length;k++){m=g.materials[k];void 0===c[m.uuid]&&(c[m.uuid]=e.parse(m));h.push(c[m.uuid])}d[g.uuid]=h}else d[g.uuid]=e.parse(g),c[g.uuid]=d[g.uuid]}}return d},parseAnimations:function parseAnimations(a){for(var b=[],c=0;c<a.length;c++){var d=a[c],e=Ha.parse(d);void 0!==d.uuid&&(e.uuid=d.uuid);b.push(e)}return b},parseImages:function parseImages(a,b){function c(a){d.manager.itemStart(a);return f.load(a,function(){d.manager.itemEnd(a)},void 0,function(){d.manager.itemError(a);d.manager.itemEnd(a)})}var d=this,e={};if(void 0!==a&&0<a.length){b=new ge(b);var f=new fd(b);f.setCrossOrigin(this.crossOrigin);b=0;for(var g=a.length;b<g;b++){var h=a[b],k=h.url;if(Array.isArray(k)){e[h.uuid]=[];for(var m=0,l=k.length,p;m<l;m++){p=k[m];p=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(p)?p:d.resourcePath+p;e[h.uuid].push(c(p))}}else p=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(h.url)?h.url:d.resourcePath+h.url,e[h.uuid]=c(p)}}return e},parseTextures:function parseTextures(a,b){function c(a,b){if("number"===typeof a)return a;console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",a);return b[a]}var d={};if(void 0!==a)for(var e=0,f=a.length,g;e<f;e++){g=a[e];void 0===g.image&&console.warn("THREE.ObjectLoader: No \"image\" specified for",g.uuid);void 0===b[g.image]&&console.warn("THREE.ObjectLoader: Undefined image",g.image);var h=Array.isArray(b[g.image])?new Xa(b[g.image]):new X(b[g.image]);h.needsUpdate=!0;h.uuid=g.uuid;void 0!==g.name&&(h.name=g.name);void 0!==g.mapping&&(h.mapping=c(g.mapping,eh));void 0!==g.offset&&h.offset.fromArray(g.offset);void 0!==g.repeat&&h.repeat.fromArray(g.repeat);void 0!==g.center&&h.center.fromArray(g.center);void 0!==g.rotation&&(h.rotation=g.rotation);void 0!==g.wrap&&(h.wrapS=c(g.wrap[0],Kf),h.wrapT=c(g.wrap[1],Kf));void 0!==g.format&&(h.format=g.format);void 0!==g.type&&(h.type=g.type);void 0!==g.encoding&&(h.encoding=g.encoding);void 0!==g.minFilter&&(h.minFilter=c(g.minFilter,Lf));void 0!==g.magFilter&&(h.magFilter=c(g.magFilter,Lf));void 0!==g.anisotropy&&(h.anisotropy=g.anisotropy);void 0!==g.flipY&&(h.flipY=g.flipY);void 0!==g.premultiplyAlpha&&(h.premultiplyAlpha=g.premultiplyAlpha);void 0!==g.unpackAlignment&&(h.unpackAlignment=g.unpackAlignment);d[g.uuid]=h}return d},parseObject:function parseObject(a,b,c){function d(a){void 0===b[a]&&console.warn("THREE.ObjectLoader: Undefined geometry",a);return b[a]}function e(a){if(void 0!==a){if(Array.isArray(a)){for(var b=[],d=0,e=a.length,f;d<e;d++){f=a[d];void 0===c[f]&&console.warn("THREE.ObjectLoader: Undefined material",f);b.push(c[f])}return b}void 0===c[a]&&console.warn("THREE.ObjectLoader: Undefined material",a);return c[a]}}switch(a.type){case"Scene":var f=new xd;void 0!==a.background&&_NumberisInteger(a.background)&&(f.background=new I(a.background));void 0!==a.fog&&("Fog"===a.fog.type?f.fog=new Rb(a.fog.color,a.fog.near,a.fog.far):"FogExp2"===a.fog.type&&(f.fog=new Qb(a.fog.color,a.fog.density)));break;case"PerspectiveCamera":f=new V(a.fov,a.aspect,a.near,a.far);void 0!==a.focus&&(f.focus=a.focus);void 0!==a.zoom&&(f.zoom=a.zoom);void 0!==a.filmGauge&&(f.filmGauge=a.filmGauge);void 0!==a.filmOffset&&(f.filmOffset=a.filmOffset);void 0!==a.view&&(f.view=Object.assign({},a.view));break;case"OrthographicCamera":f=new id(a.left,a.right,a.top,a.bottom,a.near,a.far);void 0!==a.zoom&&(f.zoom=a.zoom);void 0!==a.view&&(f.view=Object.assign({},a.view));break;case"AmbientLight":f=new Od(a.color,a.intensity);break;case"DirectionalLight":f=new Nd(a.color,a.intensity);break;case"PointLight":f=new Ld(a.color,a.intensity,a.distance,a.decay);break;case"RectAreaLight":f=new Pd(a.color,a.intensity,a.width,a.height);break;case"SpotLight":f=new Kd(a.color,a.intensity,a.distance,a.angle,a.penumbra,a.decay);break;case"HemisphereLight":f=new Id(a.color,a.groundColor,a.intensity);break;case"SkinnedMesh":console.warn("THREE.ObjectLoader.parseObject() does not support SkinnedMesh yet.");case"Mesh":f=d(a.geometry);var g=e(a.material);f=f.bones&&0<f.bones.length?new Hc(f,g):new na(f,g);break;case"LOD":f=new Gc;break;case"Line":f=new ta(d(a.geometry),e(a.material),a.mode);break;case"LineLoop":f=new zd(d(a.geometry),e(a.material));break;case"LineSegments":f=new S(d(a.geometry),e(a.material));break;case"PointCloud":case"Points":f=new Tb(d(a.geometry),e(a.material));break;case"Sprite":f=new Fc(e(a.material));break;case"Group":f=new Pb;break;default:f=new D;}f.uuid=a.uuid;void 0!==a.name&&(f.name=a.name);void 0!==a.matrix?(f.matrix.fromArray(a.matrix),void 0!==a.matrixAutoUpdate&&(f.matrixAutoUpdate=a.matrixAutoUpdate),f.matrixAutoUpdate&&f.matrix.decompose(f.position,f.quaternion,f.scale)):(void 0!==a.position&&f.position.fromArray(a.position),void 0!==a.rotation&&f.rotation.fromArray(a.rotation),void 0!==a.quaternion&&f.quaternion.fromArray(a.quaternion),void 0!==a.scale&&f.scale.fromArray(a.scale));void 0!==a.castShadow&&(f.castShadow=a.castShadow);void 0!==a.receiveShadow&&(f.receiveShadow=a.receiveShadow);a.shadow&&(void 0!==a.shadow.bias&&(f.shadow.bias=a.shadow.bias),void 0!==a.shadow.radius&&(f.shadow.radius=a.shadow.radius),void 0!==a.shadow.mapSize&&f.shadow.mapSize.fromArray(a.shadow.mapSize),void 0!==a.shadow.camera&&(f.shadow.camera=this.parseObject(a.shadow.camera)));void 0!==a.visible&&(f.visible=a.visible);void 0!==a.frustumCulled&&(f.frustumCulled=a.frustumCulled);void 0!==a.renderOrder&&(f.renderOrder=a.renderOrder);void 0!==a.userData&&(f.userData=a.userData);void 0!==a.layers&&(f.layers.mask=a.layers);if(void 0!==a.children){g=a.children;for(var h=0;h<g.length;h++){f.add(this.parseObject(g[h],b,c))}}if("LOD"===a.type)for(a=a.levels,g=0;g<a.length;g++){h=a[g];var k=f.getObjectByProperty("uuid",h.object);void 0!==k&&f.addLevel(k,h.distance)}return f}});var eh={UVMapping:300,CubeReflectionMapping:301,CubeRefractionMapping:302,EquirectangularReflectionMapping:303,EquirectangularRefractionMapping:304,SphericalReflectionMapping:305,CubeUVReflectionMapping:306,CubeUVRefractionMapping:307},Kf={RepeatWrapping:1E3,ClampToEdgeWrapping:1001,MirroredRepeatWrapping:1002},Lf={NearestFilter:1003,NearestMipMapNearestFilter:1004,NearestMipMapLinearFilter:1005,LinearFilter:1006,LinearMipMapNearestFilter:1007,LinearMipMapLinearFilter:1008};me.prototype={constructor:me,setOptions:function setOptions(a){this.options=a;return this},load:function load(a,b,c,d){void 0===a&&(a="");void 0!==this.path&&(a=this.path+a);a=this.manager.resolveURL(a);var e=this,f=Hb.get(a);if(void 0!==f)return e.manager.itemStart(a),setTimeout(function(){b&&b(f);e.manager.itemEnd(a)},0),f;fetch(a).then(function(a){return a.blob()}).then(function(a){return createImageBitmap(a,e.options)}).then(function(c){Hb.add(a,c);b&&b(c);e.manager.itemEnd(a)}).catch(function(b){d&&d(b);e.manager.itemError(a);e.manager.itemEnd(a)})},setCrossOrigin:function setCrossOrigin(){return this},setPath:function setPath(a){this.path=a;return this}};Object.assign(ne.prototype,{moveTo:function moveTo(a,b){this.currentPath=new Na;this.subPaths.push(this.currentPath);this.currentPath.moveTo(a,b)},lineTo:function lineTo(a,b){this.currentPath.lineTo(a,b)},quadraticCurveTo:function quadraticCurveTo(a,b,c,d){this.currentPath.quadraticCurveTo(a,b,c,d)},bezierCurveTo:function bezierCurveTo(a,b,c,d,e,f){this.currentPath.bezierCurveTo(a,b,c,d,e,f)},splineThru:function splineThru(a){this.currentPath.splineThru(a)},toShapes:function toShapes(a,b){function c(a){for(var b=[],c=0,d=a.length;c<d;c++){var e=a[c],f=new hb;f.curves=e.curves;b.push(f)}return b}function d(a,b){for(var c=b.length,d=!1,e=c-1,f=0;f<c;e=f++){var g=b[e],h=b[f],k=h.x-g.x,l=h.y-g.y;if(_Mathabs(l)>_NumberEPSILON){if(0>l&&(g=b[f],k=-k,h=b[e],l=-l),!(a.y<g.y||a.y>h.y))if(a.y===g.y){if(a.x===g.x)return!0}else{e=l*(a.x-g.x)-k*(a.y-g.y);if(0===e)return!0;0>e||(d=!d)}}else if(a.y===g.y&&(h.x<=a.x&&a.x<=g.x||g.x<=a.x&&a.x<=h.x))return!0}return d}var e=Ya.isClockWise,f=this.subPaths;if(0===f.length)return[];if(!0===b)return c(f);b=[];if(1===f.length){var g=f[0],h=new hb;h.curves=g.curves;b.push(h);return b}var k=!e(f[0].getPoints());k=a?!k:k;h=[];var m=[],l=[],p=0;m[p]=void 0;l[p]=[];for(var n=0,x=f.length;n<x;n++){g=f[n];var t=g.getPoints(),v=e(t);(v=a?!v:v)?(!k&&m[p]&&p++,m[p]={s:new hb,p:t},m[p].s.curves=g.curves,k&&p++,l[p]=[]):l[p].push({h:g,p:t[0]})}if(!m[0])return c(f);if(1<m.length){n=!1;a=[];e=0;for(f=m.length;e<f;e++){h[e]=[]}e=0;for(f=m.length;e<f;e++){for(g=l[e],v=0;v<g.length;v++){k=g[v];p=!0;for(t=0;t<m.length;t++){d(k.p,m[t].p)&&(e!==t&&a.push({froms:e,tos:t,hole:v}),p?(p=!1,h[t].push(k)):n=!0)}p&&h[e].push(k)}}0<a.length&&(n||(l=h))}n=0;for(e=m.length;n<e;n++){for(h=m[n].s,b.push(h),a=l[n],f=0,g=a.length;f<g;f++){h.holes.push(a[f].h)}}return b}});Object.assign(oe.prototype,{isFont:!0,generateShapes:function generateShapes(a,b){void 0===b&&(b=100);var c=[],d=b;b=this.data;var e=Array.from?Array.from(a):(a+"").split("");d/=b.resolution;var f=(b.boundingBox.yMax-b.boundingBox.yMin+b.underlineThickness)*d;a=[];for(var g=0,h=0,k=0,l;k<e.length;k++){l=e[k];if("\n"===l)g=0,h-=f;else{var q=d,p=g,n=h;if(l=b.glyphs[l]||b.glyphs["?"]){var x=new ne;if(l.o)for(var t=l._cachedOutline||(l._cachedOutline=l.o.split(" ")),v=0,w=t.length;v<w;){switch(t[v++]){case"m":var y=t[v++]*q+p,u=t[v++]*q+n;x.moveTo(y,u);break;case"l":y=t[v++]*q+p;u=t[v++]*q+n;x.lineTo(y,u);break;case"q":var z=t[v++]*q+p,A=t[v++]*q+n,C=t[v++]*q+p,D=t[v++]*q+n;x.quadraticCurveTo(C,D,z,A);break;case"b":z=t[v++]*q+p,A=t[v++]*q+n,C=t[v++]*q+p,D=t[v++]*q+n,y=t[v++]*q+p,u=t[v++]*q+n,x.bezierCurveTo(C,D,y,u,z,A);}}q={offsetX:l.ha*q,path:x}}else q=void 0;g+=q.offsetX;a.push(q.path)}}b=0;for(e=a.length;b<e;b++){Array.prototype.push.apply(c,a[b].toShapes())}return c}});Object.assign(wf.prototype,{load:function load(a,b,c,d){var e=this,f=new Ia(this.manager);f.setPath(this.path);f.load(a,function(a){try{var c=JSON.parse(a)}catch(k){console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),c=JSON.parse(a.substring(65,a.length-2))}a=e.parse(c);b&&b(a)},c,d)},parse:function parse(a){return new oe(a)},setPath:function setPath(a){this.path=a;return this}});jd.Handlers={handlers:[],add:function add(a,b){this.handlers.push(a,b)},get:function get(a){for(var b=this.handlers,c=0,d=b.length,e;c<d;c+=2){e=b[c+1];if(b[c].test(a))return e}return null}};Object.assign(jd.prototype,{crossOrigin:"anonymous",onLoadStart:function onLoadStart(){},onLoadProgress:function onLoadProgress(){},onLoadComplete:function onLoadComplete(){},initMaterials:function initMaterials(a,b,c){for(var d=[],e=0;e<a.length;++e){d[e]=this.createMaterial(a[e],b,c)}return d},createMaterial:function(){var a={NoBlending:0,NormalBlending:1,AdditiveBlending:2,SubtractiveBlending:3,MultiplyBlending:4,CustomBlending:5},b=new I,c=new Hd,d=new Qd;return function(e,f,g){function h(a,b,d,e,h){a=f+a;var l=jd.Handlers.get(a);null!==l?a=l.load(a):(c.setCrossOrigin(g),a=c.load(a));void 0!==b&&(a.repeat.fromArray(b),1!==b[0]&&(a.wrapS=1E3),1!==b[1]&&(a.wrapT=1E3));void 0!==d&&a.offset.fromArray(d);void 0!==e&&("repeat"===e[0]&&(a.wrapS=1E3),"mirror"===e[0]&&(a.wrapS=1002),"repeat"===e[1]&&(a.wrapT=1E3),"mirror"===e[1]&&(a.wrapT=1002));void 0!==h&&(a.anisotropy=h);b=R.generateUUID();k[b]=a;return b}var k={},l={uuid:R.generateUUID(),type:"MeshLambertMaterial"},q;for(q in e){var p=e[q];switch(q){case"DbgColor":case"DbgIndex":case"opticalDensity":case"illumination":break;case"DbgName":l.name=p;break;case"blending":l.blending=a[p];break;case"colorAmbient":case"mapAmbient":console.warn("THREE.Loader.createMaterial:",q,"is no longer supported.");break;case"colorDiffuse":l.color=b.fromArray(p).getHex();break;case"colorSpecular":l.specular=b.fromArray(p).getHex();break;case"colorEmissive":l.emissive=b.fromArray(p).getHex();break;case"specularCoef":l.shininess=p;break;case"shading":"basic"===p.toLowerCase()&&(l.type="MeshBasicMaterial");"phong"===p.toLowerCase()&&(l.type="MeshPhongMaterial");"standard"===p.toLowerCase()&&(l.type="MeshStandardMaterial");break;case"mapDiffuse":l.map=h(p,e.mapDiffuseRepeat,e.mapDiffuseOffset,e.mapDiffuseWrap,e.mapDiffuseAnisotropy);break;case"mapDiffuseRepeat":case"mapDiffuseOffset":case"mapDiffuseWrap":case"mapDiffuseAnisotropy":break;case"mapEmissive":l.emissiveMap=h(p,e.mapEmissiveRepeat,e.mapEmissiveOffset,e.mapEmissiveWrap,e.mapEmissiveAnisotropy);break;case"mapEmissiveRepeat":case"mapEmissiveOffset":case"mapEmissiveWrap":case"mapEmissiveAnisotropy":break;case"mapLight":l.lightMap=h(p,e.mapLightRepeat,e.mapLightOffset,e.mapLightWrap,e.mapLightAnisotropy);break;case"mapLightRepeat":case"mapLightOffset":case"mapLightWrap":case"mapLightAnisotropy":break;case"mapAO":l.aoMap=h(p,e.mapAORepeat,e.mapAOOffset,e.mapAOWrap,e.mapAOAnisotropy);break;case"mapAORepeat":case"mapAOOffset":case"mapAOWrap":case"mapAOAnisotropy":break;case"mapBump":l.bumpMap=h(p,e.mapBumpRepeat,e.mapBumpOffset,e.mapBumpWrap,e.mapBumpAnisotropy);break;case"mapBumpScale":l.bumpScale=p;break;case"mapBumpRepeat":case"mapBumpOffset":case"mapBumpWrap":case"mapBumpAnisotropy":break;case"mapNormal":l.normalMap=h(p,e.mapNormalRepeat,e.mapNormalOffset,e.mapNormalWrap,e.mapNormalAnisotropy);break;case"mapNormalFactor":l.normalScale=p;break;case"mapNormalRepeat":case"mapNormalOffset":case"mapNormalWrap":case"mapNormalAnisotropy":break;case"mapSpecular":l.specularMap=h(p,e.mapSpecularRepeat,e.mapSpecularOffset,e.mapSpecularWrap,e.mapSpecularAnisotropy);break;case"mapSpecularRepeat":case"mapSpecularOffset":case"mapSpecularWrap":case"mapSpecularAnisotropy":break;case"mapMetalness":l.metalnessMap=h(p,e.mapMetalnessRepeat,e.mapMetalnessOffset,e.mapMetalnessWrap,e.mapMetalnessAnisotropy);break;case"mapMetalnessRepeat":case"mapMetalnessOffset":case"mapMetalnessWrap":case"mapMetalnessAnisotropy":break;case"mapRoughness":l.roughnessMap=h(p,e.mapRoughnessRepeat,e.mapRoughnessOffset,e.mapRoughnessWrap,e.mapRoughnessAnisotropy);break;case"mapRoughnessRepeat":case"mapRoughnessOffset":case"mapRoughnessWrap":case"mapRoughnessAnisotropy":break;case"mapAlpha":l.alphaMap=h(p,e.mapAlphaRepeat,e.mapAlphaOffset,e.mapAlphaWrap,e.mapAlphaAnisotropy);break;case"mapAlphaRepeat":case"mapAlphaOffset":case"mapAlphaWrap":case"mapAlphaAnisotropy":break;case"flipSided":l.side=1;break;case"doubleSided":l.side=2;break;case"transparency":console.warn("THREE.Loader.createMaterial: transparency has been renamed to opacity");l.opacity=p;break;case"depthTest":case"depthWrite":case"colorWrite":case"opacity":case"reflectivity":case"transparent":case"visible":case"wireframe":l[q]=p;break;case"vertexColors":!0===p&&(l.vertexColors=2);"face"===p&&(l.vertexColors=1);break;default:console.error("THREE.Loader.createMaterial: Unsupported",q,p);}}"MeshBasicMaterial"===l.type&&delete l.emissive;"MeshPhongMaterial"!==l.type&&delete l.specular;1>l.opacity&&(l.transparent=!0);d.setTextures(k);return d.parse(l)}}()});var Vd,se={getContext:function getContext(){void 0===Vd&&(Vd=new(window.AudioContext||window.webkitAudioContext));return Vd},setContext:function setContext(a){Vd=a}};Object.assign(pe.prototype,{load:function load(a,b,c,d){var e=new Ia(this.manager);e.setResponseType("arraybuffer");e.setPath(this.path);e.load(a,function(a){a=a.slice(0);se.getContext().decodeAudioData(a,function(a){b(a)})},c,d)},setPath:function setPath(a){this.path=a;return this}});Object.assign(xf.prototype,{update:function(){var a,b,c,d,e,f,g,h,k=new O,l=new O;return function(m){if(a!==this||b!==m.focus||c!==m.fov||d!==m.aspect*this.aspect||e!==m.near||f!==m.far||g!==m.zoom||h!==this.eyeSep){a=this;b=m.focus;c=m.fov;d=m.aspect*this.aspect;e=m.near;f=m.far;g=m.zoom;var p=m.projectionMatrix.clone();h=this.eyeSep/2;var n=h*e/b,q=e*_Mathtan(.5*(R.DEG2RAD*c))/g;l.elements[12]=-h;k.elements[12]=h;var t=-q*d+n,v=q*d+n;p.elements[0]=2*e/(v-t);p.elements[8]=(v+t)/(v-t);this.cameraL.projectionMatrix.copy(p);t=-q*d-n;v=q*d-n;p.elements[0]=2*e/(v-t);p.elements[8]=(v+t)/(v-t);this.cameraR.projectionMatrix.copy(p)}this.cameraL.matrixWorld.copy(m.matrixWorld).multiply(l);this.cameraR.matrixWorld.copy(m.matrixWorld).multiply(k)}}()});kd.prototype=Object.create(D.prototype);kd.prototype.constructor=kd;Object.assign(qe.prototype,{start:function start(){this.oldTime=this.startTime=("undefined"===typeof performance?Date:performance).now();this.elapsedTime=0;this.running=!0},stop:function stop(){this.getElapsedTime();this.autoStart=this.running=!1},getElapsedTime:function getElapsedTime(){this.getDelta();return this.elapsedTime},getDelta:function getDelta(){var a=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var b=("undefined"===typeof performance?Date:performance).now();a=(b-this.oldTime)/1E3;this.oldTime=b;this.elapsedTime+=a}return a}});re.prototype=Object.assign(Object.create(D.prototype),{constructor:re,getInput:function getInput(){return this.gain},removeFilter:function removeFilter(){null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null);return this},getFilter:function getFilter(){return this.filter},setFilter:function setFilter(a){null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination);this.filter=a;this.gain.connect(this.filter);this.filter.connect(this.context.destination);return this},getMasterVolume:function getMasterVolume(){return this.gain.gain.value},setMasterVolume:function setMasterVolume(a){this.gain.gain.setTargetAtTime(a,this.context.currentTime,.01);return this},updateMatrixWorld:function(){var a=new n,b=new ka,c=new n,d=new n,e=new qe;return function(f){D.prototype.updateMatrixWorld.call(this,f);f=this.context.listener;var g=this.up;this.timeDelta=e.getDelta();this.matrixWorld.decompose(a,b,c);d.set(0,0,-1).applyQuaternion(b);if(f.positionX){var h=this.context.currentTime+this.timeDelta;f.positionX.linearRampToValueAtTime(a.x,h);f.positionY.linearRampToValueAtTime(a.y,h);f.positionZ.linearRampToValueAtTime(a.z,h);f.forwardX.linearRampToValueAtTime(d.x,h);f.forwardY.linearRampToValueAtTime(d.y,h);f.forwardZ.linearRampToValueAtTime(d.z,h);f.upX.linearRampToValueAtTime(g.x,h);f.upY.linearRampToValueAtTime(g.y,h);f.upZ.linearRampToValueAtTime(g.z,h)}else f.setPosition(a.x,a.y,a.z),f.setOrientation(d.x,d.y,d.z,g.x,g.y,g.z)}}()});lc.prototype=Object.assign(Object.create(D.prototype),{constructor:lc,getOutput:function getOutput(){return this.gain},setNodeSource:function setNodeSource(a){this.hasPlaybackControl=!1;this.sourceType="audioNode";this.source=a;this.connect();return this},setMediaElementSource:function setMediaElementSource(a){this.hasPlaybackControl=!1;this.sourceType="mediaNode";this.source=this.context.createMediaElementSource(a);this.connect();return this},setBuffer:function setBuffer(a){this.buffer=a;this.sourceType="buffer";this.autoplay&&this.play();return this},play:function play(){if(!0===this.isPlaying)console.warn("THREE.Audio: Audio is already playing.");else if(!1===this.hasPlaybackControl)console.warn("THREE.Audio: this Audio has no playback control.");else{var a=this.context.createBufferSource();a.buffer=this.buffer;a.detune.value=this.detune;a.loop=this.loop;a.onended=this.onEnded.bind(this);a.playbackRate.setValueAtTime(this.playbackRate,this.startTime);this.startTime=this.context.currentTime;a.start(this.startTime,this.offset);this.isPlaying=!0;this.source=a;return this.connect()}},pause:function pause(){if(!1===this.hasPlaybackControl)console.warn("THREE.Audio: this Audio has no playback control.");else return!0===this.isPlaying&&(this.source.stop(),this.source.onended=null,this.offset+=(this.context.currentTime-this.startTime)*this.playbackRate,this.isPlaying=!1),this},stop:function stop(){if(!1===this.hasPlaybackControl)console.warn("THREE.Audio: this Audio has no playback control.");else return this.source.stop(),this.source.onended=null,this.offset=0,this.isPlaying=!1,this},connect:function connect(){if(0<this.filters.length){this.source.connect(this.filters[0]);for(var a=1,b=this.filters.length;a<b;a++){this.filters[a-1].connect(this.filters[a])}this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this},disconnect:function disconnect(){if(0<this.filters.length){this.source.disconnect(this.filters[0]);for(var a=1,b=this.filters.length;a<b;a++){this.filters[a-1].disconnect(this.filters[a])}this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this},getFilters:function getFilters(){return this.filters},setFilters:function setFilters(a){a||(a=[]);!0===this.isPlaying?(this.disconnect(),this.filters=a,this.connect()):this.filters=a;return this},setDetune:function setDetune(a){this.detune=a;!0===this.isPlaying&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01);return this},getDetune:function getDetune(){return this.detune},getFilter:function getFilter(){return this.getFilters()[0]},setFilter:function setFilter(a){return this.setFilters(a?[a]:[])},setPlaybackRate:function setPlaybackRate(a){if(!1===this.hasPlaybackControl)console.warn("THREE.Audio: this Audio has no playback control.");else return this.playbackRate=a,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this},getPlaybackRate:function getPlaybackRate(){return this.playbackRate},onEnded:function onEnded(){this.isPlaying=!1},getLoop:function getLoop(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop},setLoop:function setLoop(a){if(!1===this.hasPlaybackControl)console.warn("THREE.Audio: this Audio has no playback control.");else return this.loop=a,!0===this.isPlaying&&(this.source.loop=this.loop),this},getVolume:function getVolume(){return this.gain.gain.value},setVolume:function setVolume(a){this.gain.gain.setTargetAtTime(a,this.context.currentTime,.01);return this}});te.prototype=Object.assign(Object.create(lc.prototype),{constructor:te,getOutput:function getOutput(){return this.panner},getRefDistance:function getRefDistance(){return this.panner.refDistance},setRefDistance:function setRefDistance(a){this.panner.refDistance=a;return this},getRolloffFactor:function getRolloffFactor(){return this.panner.rolloffFactor},setRolloffFactor:function setRolloffFactor(a){this.panner.rolloffFactor=a;return this},getDistanceModel:function getDistanceModel(){return this.panner.distanceModel},setDistanceModel:function setDistanceModel(a){this.panner.distanceModel=a;return this},getMaxDistance:function getMaxDistance(){return this.panner.maxDistance},setMaxDistance:function setMaxDistance(a){this.panner.maxDistance=a;return this},setDirectionalCone:function setDirectionalCone(a,b,c){this.panner.coneInnerAngle=a;this.panner.coneOuterAngle=b;this.panner.coneOuterGain=c;return this},updateMatrixWorld:function(){var a=new n,b=new ka,c=new n,d=new n;return function(e){D.prototype.updateMatrixWorld.call(this,e);if(!1!==this.isPlaying)if(e=this.panner,this.matrixWorld.decompose(a,b,c),d.set(0,0,1).applyQuaternion(b),e.positionX){var f=this.context.currentTime+this.listener.timeDelta;e.positionX.linearRampToValueAtTime(a.x,f);e.positionY.linearRampToValueAtTime(a.y,f);e.positionZ.linearRampToValueAtTime(a.z,f);e.orientationX.linearRampToValueAtTime(d.x,f);e.orientationY.linearRampToValueAtTime(d.y,f);e.orientationZ.linearRampToValueAtTime(d.z,f)}else e.setPosition(a.x,a.y,a.z),e.setOrientation(d.x,d.y,d.z)}}()});Object.assign(ue.prototype,{getFrequencyData:function getFrequencyData(){this.analyser.getByteFrequencyData(this.data);return this.data},getAverageFrequency:function getAverageFrequency(){for(var a=0,b=this.getFrequencyData(),c=0;c<b.length;c++){a+=b[c]}return a/b.length}});Object.assign(ve.prototype,{accumulate:function accumulate(a,b){var c=this.buffer,d=this.valueSize;a=a*d+d;var e=this.cumulativeWeight;if(0===e){for(e=0;e!==d;++e){c[a+e]=c[e]}e=b}else e+=b,this._mixBufferRegion(c,a,0,b/e,d);this.cumulativeWeight=e},apply:function apply(a){var b=this.valueSize,c=this.buffer;a=a*b+b;var d=this.cumulativeWeight,e=this.binding;this.cumulativeWeight=0;1>d&&this._mixBufferRegion(c,a,3*b,1-d,b);d=b;for(var f=b+b;d!==f;++d){if(c[d]!==c[d+b]){e.setValue(c,a);break}}},saveOriginalState:function saveOriginalState(){var a=this.buffer,b=this.valueSize,c=3*b;this.binding.getValue(a,c);for(var d=b;d!==c;++d){a[d]=a[c+d%b]}this.cumulativeWeight=0},restoreOriginalState:function restoreOriginalState(){this.binding.setValue(this.buffer,3*this.valueSize)},_select:function _select(a,b,c,d,e){if(.5<=d)for(d=0;d!==e;++d){a[b+d]=a[c+d]}},_slerp:function _slerp(a,b,c,d){ka.slerpFlat(a,b,a,b,a,c,d)},_lerp:function _lerp(a,b,c,d,e){for(var f=1-d,g=0,h;g!==e;++g){h=b+g;a[h]=a[h]*f+a[c+g]*d}}});Object.assign(yf.prototype,{getValue:function getValue(a,b){this.bind();var c=this._bindings[this._targetGroup.nCachedObjects_];void 0!==c&&c.getValue(a,b)},setValue:function setValue(a,b){for(var c=this._bindings,d=this._targetGroup.nCachedObjects_,e=c.length;d!==e;++d){c[d].setValue(a,b)}},bind:function bind(){for(var a=this._bindings,b=this._targetGroup.nCachedObjects_,c=a.length;b!==c;++b){a[b].bind()}},unbind:function unbind(){for(var a=this._bindings,b=this._targetGroup.nCachedObjects_,c=a.length;b!==c;++b){a[b].unbind()}}});Object.assign(oa,{Composite:yf,create:function create(a,b,c){return a&&a.isAnimationObjectGroup?new oa.Composite(a,b,c):new oa(a,b,c)},sanitizeNodeName:function(){var a=/[\[\]\.:\/]/g;return function(b){return b.replace(/\s/g,"_").replace(a,"")}}(),parseTrackName:function(){var a="[^"+"\\[\\]\\.:\\/".replace("\\.","")+"]",b=/((?:WC+[\/:])*)/.source.replace("WC","[^\\[\\]\\.:\\/]");a=/(WCOD+)?/.source.replace("WCOD",a);var c=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC","[^\\[\\]\\.:\\/]"),d=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC","[^\\[\\]\\.:\\/]"),e=new RegExp("^"+b+a+c+d+"$"),f=["material","materials","bones"];return function(a){var b=e.exec(a);if(!b)throw Error("PropertyBinding: Cannot parse trackName: "+a);b={nodeName:b[2],objectName:b[3],objectIndex:b[4],propertyName:b[5],propertyIndex:b[6]};var c=b.nodeName&&b.nodeName.lastIndexOf(".");if(void 0!==c&&-1!==c){var d=b.nodeName.substring(c+1);-1!==f.indexOf(d)&&(b.nodeName=b.nodeName.substring(0,c),b.objectName=d)}if(null===b.propertyName||0===b.propertyName.length)throw Error("PropertyBinding: can not parse propertyName from trackName: "+a);return b}}(),findNode:function findNode(a,b){if(!b||""===b||"root"===b||"."===b||-1===b||b===a.name||b===a.uuid)return a;if(a.skeleton){var c=a.skeleton.getBoneByName(b);if(void 0!==c)return c}if(a.children){var d=function d(a){for(var c=0,e;c<a.length;c++){e=a[c];if(e.name===b||e.uuid===b||(e=d(e.children)))return e}return null};if(a=d(a.children))return a}return null}});Object.assign(oa.prototype,{_getValue_unavailable:function _getValue_unavailable(){},_setValue_unavailable:function _setValue_unavailable(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(a,b){a[b]=this.node[this.propertyName]},function(a,b){for(var c=this.resolvedProperty,d=0,e=c.length;d!==e;++d){a[b++]=c[d]}},function(a,b){a[b]=this.resolvedProperty[this.propertyIndex]},function(a,b){this.resolvedProperty.toArray(a,b)}],SetterByBindingTypeAndVersioning:[[function(a,b){this.targetObject[this.propertyName]=a[b]},function(a,b){this.targetObject[this.propertyName]=a[b];this.targetObject.needsUpdate=!0},function(a,b){this.targetObject[this.propertyName]=a[b];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(a,b){for(var c=this.resolvedProperty,d=0,e=c.length;d!==e;++d){c[d]=a[b++]}},function(a,b){for(var c=this.resolvedProperty,d=0,e=c.length;d!==e;++d){c[d]=a[b++]}this.targetObject.needsUpdate=!0},function(a,b){for(var c=this.resolvedProperty,d=0,e=c.length;d!==e;++d){c[d]=a[b++]}this.targetObject.matrixWorldNeedsUpdate=!0}],[function(a,b){this.resolvedProperty[this.propertyIndex]=a[b]},function(a,b){this.resolvedProperty[this.propertyIndex]=a[b];this.targetObject.needsUpdate=!0},function(a,b){this.resolvedProperty[this.propertyIndex]=a[b];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(a,b){this.resolvedProperty.fromArray(a,b)},function(a,b){this.resolvedProperty.fromArray(a,b);this.targetObject.needsUpdate=!0},function(a,b){this.resolvedProperty.fromArray(a,b);this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function getValue(a,b){this.bind();this.getValue(a,b)},setValue:function setValue(a,b){this.bind();this.setValue(a,b)},bind:function bind(){var a=this.node,b=this.parsedPath,c=b.objectName,d=b.propertyName,e=b.propertyIndex;a||(this.node=a=oa.findNode(this.rootNode,b.nodeName)||this.rootNode);this.getValue=this._getValue_unavailable;this.setValue=this._setValue_unavailable;if(a){if(c){var f=b.objectIndex;switch(c){case"materials":if(!a.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!a.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}a=a.material.materials;break;case"bones":if(!a.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}a=a.skeleton.bones;for(c=0;c<a.length;c++){if(a[c].name===f){f=c;break}}break;default:if(void 0===a[c]){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}a=a[c];}if(void 0!==f){if(void 0===a[f]){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,a);return}a=a[f]}}f=a[d];if(void 0===f)console.error("THREE.PropertyBinding: Trying to update property for track: "+b.nodeName+"."+d+" but it wasn't found.",a);else{b=this.Versioning.None;this.targetObject=a;void 0!==a.needsUpdate?b=this.Versioning.NeedsUpdate:void 0!==a.matrixWorldNeedsUpdate&&(b=this.Versioning.MatrixWorldNeedsUpdate);c=this.BindingType.Direct;if(void 0!==e){if("morphTargetInfluences"===d){if(!a.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(a.geometry.isBufferGeometry){if(!a.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}for(c=0;c<this.node.geometry.morphAttributes.position.length;c++){if(a.geometry.morphAttributes.position[c].name===e){e=c;break}}}else{if(!a.geometry.morphTargets){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphTargets.",this);return}for(c=0;c<this.node.geometry.morphTargets.length;c++){if(a.geometry.morphTargets[c].name===e){e=c;break}}}}c=this.BindingType.ArrayElement;this.resolvedProperty=f;this.propertyIndex=e}else void 0!==f.fromArray&&void 0!==f.toArray?(c=this.BindingType.HasFromToArray,this.resolvedProperty=f):Array.isArray(f)?(c=this.BindingType.EntireArray,this.resolvedProperty=f):this.propertyName=d;this.getValue=this.GetterByBindingType[c];this.setValue=this.SetterByBindingTypeAndVersioning[c][b]}}else console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.")},unbind:function unbind(){this.node=null;this.getValue=this._getValue_unbound;this.setValue=this._setValue_unbound}});Object.assign(oa.prototype,{_getValue_unbound:oa.prototype.getValue,_setValue_unbound:oa.prototype.setValue});Object.assign(zf.prototype,{isAnimationObjectGroup:!0,add:function add(){for(var a=this._objects,b=a.length,c=this.nCachedObjects_,d=this._indicesByUUID,e=this._paths,f=this._parsedPaths,g=this._bindings,h=g.length,k=void 0,l=0,n=arguments.length;l!==n;++l){var p=arguments[l],r=p.uuid,x=d[r];if(void 0===x){x=b++;d[r]=x;a.push(p);r=0;for(var t=h;r!==t;++r){g[r].push(new oa(p,e[r],f[r]))}}else if(x<c){k=a[x];var v=--c;t=a[v];d[t.uuid]=x;a[x]=t;d[r]=v;a[v]=p;r=0;for(t=h;r!==t;++r){var w=g[r],y=w[x];w[x]=w[v];void 0===y&&(y=new oa(p,e[r],f[r]));w[v]=y}}else a[x]!==k&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c},remove:function remove(){for(var a=this._objects,b=this.nCachedObjects_,c=this._indicesByUUID,d=this._bindings,e=d.length,f=0,g=arguments.length;f!==g;++f){var h=arguments[f],k=h.uuid,l=c[k];if(void 0!==l&&l>=b){var n=b++,p=a[n];c[p.uuid]=l;a[l]=p;c[k]=n;a[n]=h;h=0;for(k=e;h!==k;++h){p=d[h];var r=p[l];p[l]=p[n];p[n]=r}}}this.nCachedObjects_=b},uncache:function uncache(){for(var a=this._objects,b=a.length,c=this.nCachedObjects_,d=this._indicesByUUID,e=this._bindings,f=e.length,g=0,h=arguments.length;g!==h;++g){var k=arguments[g].uuid,l=d[k];if(void 0!==l)if(delete d[k],l<c){k=--c;var n=a[k],p=--b,r=a[p];d[n.uuid]=l;a[l]=n;d[r.uuid]=k;a[k]=r;a.pop();n=0;for(r=f;n!==r;++n){var x=e[n],t=x[p];x[l]=x[k];x[k]=t;x.pop()}}else for(p=--b,r=a[p],d[r.uuid]=l,a[l]=r,a.pop(),n=0,r=f;n!==r;++n){x=e[n],x[l]=x[p],x.pop()}}this.nCachedObjects_=c},subscribe_:function subscribe_(a,b){var c=this._bindingsIndicesByPath,d=c[a],e=this._bindings;if(void 0!==d)return e[d];var f=this._paths,g=this._parsedPaths,h=this._objects,k=this.nCachedObjects_,l=Array(h.length);d=e.length;c[a]=d;f.push(a);g.push(b);e.push(l);c=k;for(d=h.length;c!==d;++c){l[c]=new oa(h[c],a,b)}return l},unsubscribe_:function unsubscribe_(a){var b=this._bindingsIndicesByPath,c=b[a];if(void 0!==c){var d=this._paths,e=this._parsedPaths,f=this._bindings,g=f.length-1,h=f[g];b[a[g]]=c;f[c]=h;f.pop();e[c]=e[g];e.pop();d[c]=d[g];d.pop()}}});Object.assign(Af.prototype,{play:function play(){this._mixer._activateAction(this);return this},stop:function stop(){this._mixer._deactivateAction(this);return this.reset()},reset:function reset(){this.paused=!1;this.enabled=!0;this.time=0;this._loopCount=-1;this._startTime=null;return this.stopFading().stopWarping()},isRunning:function isRunning(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)},isScheduled:function isScheduled(){return this._mixer._isActiveAction(this)},startAt:function startAt(a){this._startTime=a;return this},setLoop:function setLoop(a,b){this.loop=a;this.repetitions=b;return this},setEffectiveWeight:function setEffectiveWeight(a){this.weight=a;this._effectiveWeight=this.enabled?a:0;return this.stopFading()},getEffectiveWeight:function getEffectiveWeight(){return this._effectiveWeight},fadeIn:function fadeIn(a){return this._scheduleFading(a,0,1)},fadeOut:function fadeOut(a){return this._scheduleFading(a,1,0)},crossFadeFrom:function crossFadeFrom(a,b,c){a.fadeOut(b);this.fadeIn(b);if(c){c=this._clip.duration;var d=a._clip.duration,e=c/d;a.warp(1,d/c,b);this.warp(e,1,b)}return this},crossFadeTo:function crossFadeTo(a,b,c){return a.crossFadeFrom(this,b,c)},stopFading:function stopFading(){var a=this._weightInterpolant;null!==a&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(a));return this},setEffectiveTimeScale:function setEffectiveTimeScale(a){this.timeScale=a;this._effectiveTimeScale=this.paused?0:a;return this.stopWarping()},getEffectiveTimeScale:function getEffectiveTimeScale(){return this._effectiveTimeScale},setDuration:function setDuration(a){this.timeScale=this._clip.duration/a;return this.stopWarping()},syncWith:function syncWith(a){this.time=a.time;this.timeScale=a.timeScale;return this.stopWarping()},halt:function halt(a){return this.warp(this._effectiveTimeScale,0,a)},warp:function warp(a,b,c){var d=this._mixer,e=d.time,f=this._timeScaleInterpolant,g=this.timeScale;null===f&&(this._timeScaleInterpolant=f=d._lendControlInterpolant());d=f.parameterPositions;f=f.sampleValues;d[0]=e;d[1]=e+c;f[0]=a/g;f[1]=b/g;return this},stopWarping:function stopWarping(){var a=this._timeScaleInterpolant;null!==a&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(a));return this},getMixer:function getMixer(){return this._mixer},getClip:function getClip(){return this._clip},getRoot:function getRoot(){return this._localRoot||this._mixer._root},_update:function _update(a,b,c,d){if(this.enabled){var e=this._startTime;if(null!==e){b=(a-e)*c;if(0>b||0===c)return;this._startTime=null;b*=c}b*=this._updateTimeScale(a);c=this._updateTime(b);a=this._updateWeight(a);if(0<a){b=this._interpolants;e=this._propertyBindings;for(var f=0,g=b.length;f!==g;++f){b[f].evaluate(c),e[f].accumulate(d,a)}}}else this._updateWeight(a)},_updateWeight:function _updateWeight(a){var b=0;if(this.enabled){b=this.weight;var c=this._weightInterpolant;if(null!==c){var d=c.evaluate(a)[0];b*=d;a>c.parameterPositions[1]&&(this.stopFading(),0===d&&(this.enabled=!1))}}return this._effectiveWeight=b},_updateTimeScale:function _updateTimeScale(a){var b=0;if(!this.paused){b=this.timeScale;var c=this._timeScaleInterpolant;if(null!==c){var d=c.evaluate(a)[0];b*=d;a>c.parameterPositions[1]&&(this.stopWarping(),0===b?this.paused=!0:this.timeScale=b)}}return this._effectiveTimeScale=b},_updateTime:function _updateTime(a){var b=this.time+a,c=this._clip.duration,d=this.loop,e=this._loopCount,f=2202===d;if(0===a)return-1===e?b:f&&1===(1&e)?c-b:b;if(2200===d)a:{if(-1===e&&(this._loopCount=0,this._setEndings(!0,!0,!1)),b>=c)b=c;else if(0>b)b=0;else break a;this.clampWhenFinished?this.paused=!0:this.enabled=!1;this._mixer.dispatchEvent({type:"finished",action:this,direction:0>a?-1:1})}else{-1===e&&(0<=a?(e=0,this._setEndings(!0,0===this.repetitions,f)):this._setEndings(0===this.repetitions,!0,f));if(b>=c||0>b){d=_Mathfloor(b/c);b-=c*d;e+=_Mathabs(d);var g=this.repetitions-e;0>=g?(this.clampWhenFinished?this.paused=!0:this.enabled=!1,b=0<a?c:0,this._mixer.dispatchEvent({type:"finished",action:this,direction:0<a?1:-1})):(1===g?(a=0>a,this._setEndings(a,!a,f)):this._setEndings(!1,!1,f),this._loopCount=e,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:d}))}if(f&&1===(1&e))return this.time=b,c-b}return this.time=b},_setEndings:function _setEndings(a,b,c){var d=this._interpolantSettings;c?(d.endingStart=2401,d.endingEnd=2401):(d.endingStart=a?this.zeroSlopeAtStart?2401:2400:2402,d.endingEnd=b?this.zeroSlopeAtEnd?2401:2400:2402)},_scheduleFading:function _scheduleFading(a,b,c){var d=this._mixer,e=d.time,f=this._weightInterpolant;null===f&&(this._weightInterpolant=f=d._lendControlInterpolant());d=f.parameterPositions;f=f.sampleValues;d[0]=e;f[0]=b;d[1]=e+a;f[1]=c;return this}});we.prototype=Object.assign(Object.create(ja.prototype),{constructor:we,_bindAction:function _bindAction(a,b){var c=a._localRoot||this._root,d=a._clip.tracks,e=d.length,f=a._propertyBindings;a=a._interpolants;var g=c.uuid,h=this._bindingsByRootAndName,k=h[g];void 0===k&&(k={},h[g]=k);for(h=0;h!==e;++h){var l=d[h],n=l.name,p=k[n];if(void 0===p){p=f[h];if(void 0!==p){null===p._cacheIndex&&(++p.referenceCount,this._addInactiveBinding(p,g,n));continue}p=new ve(oa.create(c,n,b&&b._propertyBindings[h].binding.parsedPath),l.ValueTypeName,l.getValueSize());++p.referenceCount;this._addInactiveBinding(p,g,n)}f[h]=p;a[h].resultBuffer=p.buffer}},_activateAction:function _activateAction(a){if(!this._isActiveAction(a)){if(null===a._cacheIndex){var b=(a._localRoot||this._root).uuid,c=a._clip.uuid,d=this._actionsByClip[c];this._bindAction(a,d&&d.knownActions[0]);this._addInactiveAction(a,c,b)}b=a._propertyBindings;c=0;for(d=b.length;c!==d;++c){var e=b[c];0===e.useCount++&&(this._lendBinding(e),e.saveOriginalState())}this._lendAction(a)}},_deactivateAction:function _deactivateAction(a){if(this._isActiveAction(a)){for(var b=a._propertyBindings,c=0,d=b.length,e;c!==d;++c){e=b[c];0===--e.useCount&&(e.restoreOriginalState(),this._takeBackBinding(e))}this._takeBackAction(a)}},_initMemoryManager:function _initMemoryManager(){this._actions=[];this._nActiveActions=0;this._actionsByClip={};this._bindings=[];this._nActiveBindings=0;this._bindingsByRootAndName={};this._controlInterpolants=[];this._nActiveControlInterpolants=0;var a=this;this.stats={actions:{get total(){return a._actions.length},get inUse(){return a._nActiveActions}},bindings:{get total(){return a._bindings.length},get inUse(){return a._nActiveBindings}},controlInterpolants:{get total(){return a._controlInterpolants.length},get inUse(){return a._nActiveControlInterpolants}}}},_isActiveAction:function _isActiveAction(a){a=a._cacheIndex;return null!==a&&a<this._nActiveActions},_addInactiveAction:function _addInactiveAction(a,b,c){var d=this._actions,e=this._actionsByClip,f=e[b];void 0===f?(f={knownActions:[a],actionByRoot:{}},a._byClipCacheIndex=0,e[b]=f):(b=f.knownActions,a._byClipCacheIndex=b.length,b.push(a));a._cacheIndex=d.length;d.push(a);f.actionByRoot[c]=a},_removeInactiveAction:function _removeInactiveAction(a){var b=this._actions,c=b[b.length-1],d=a._cacheIndex;c._cacheIndex=d;b[d]=c;b.pop();a._cacheIndex=null;b=a._clip.uuid;c=this._actionsByClip;d=c[b];var e=d.knownActions,f=e[e.length-1],g=a._byClipCacheIndex;f._byClipCacheIndex=g;e[g]=f;e.pop();a._byClipCacheIndex=null;delete d.actionByRoot[(a._localRoot||this._root).uuid];0===e.length&&delete c[b];this._removeInactiveBindingsForAction(a)},_removeInactiveBindingsForAction:function _removeInactiveBindingsForAction(a){a=a._propertyBindings;for(var b=0,c=a.length,d;b!==c;++b){d=a[b];0===--d.referenceCount&&this._removeInactiveBinding(d)}},_lendAction:function _lendAction(a){var b=this._actions,c=a._cacheIndex,d=this._nActiveActions++,e=b[d];a._cacheIndex=d;b[d]=a;e._cacheIndex=c;b[c]=e},_takeBackAction:function _takeBackAction(a){var b=this._actions,c=a._cacheIndex,d=--this._nActiveActions,e=b[d];a._cacheIndex=d;b[d]=a;e._cacheIndex=c;b[c]=e},_addInactiveBinding:function _addInactiveBinding(a,b,c){var d=this._bindingsByRootAndName,e=d[b],f=this._bindings;void 0===e&&(e={},d[b]=e);e[c]=a;a._cacheIndex=f.length;f.push(a)},_removeInactiveBinding:function _removeInactiveBinding(a){var b=this._bindings,c=a.binding,d=c.rootNode.uuid;c=c.path;var e=this._bindingsByRootAndName,f=e[d],g=b[b.length-1];a=a._cacheIndex;g._cacheIndex=a;b[a]=g;b.pop();delete f[c];a:{for(var h in f){break a}delete e[d]}},_lendBinding:function _lendBinding(a){var b=this._bindings,c=a._cacheIndex,d=this._nActiveBindings++,e=b[d];a._cacheIndex=d;b[d]=a;e._cacheIndex=c;b[c]=e},_takeBackBinding:function _takeBackBinding(a){var b=this._bindings,c=a._cacheIndex,d=--this._nActiveBindings,e=b[d];a._cacheIndex=d;b[d]=a;e._cacheIndex=c;b[c]=e},_lendControlInterpolant:function _lendControlInterpolant(){var a=this._controlInterpolants,b=this._nActiveControlInterpolants++,c=a[b];void 0===c&&(c=new dd(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),c.__cacheIndex=b,a[b]=c);return c},_takeBackControlInterpolant:function _takeBackControlInterpolant(a){var b=this._controlInterpolants,c=a.__cacheIndex,d=--this._nActiveControlInterpolants,e=b[d];a.__cacheIndex=d;b[d]=a;e.__cacheIndex=c;b[c]=e},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function clipAction(a,b){var c=b||this._root,d=c.uuid;c="string"===typeof a?Ha.findByName(c,a):a;a=null!==c?c.uuid:a;var e=this._actionsByClip[a],f=null;if(void 0!==e){f=e.actionByRoot[d];if(void 0!==f)return f;f=e.knownActions[0];null===c&&(c=f._clip)}if(null===c)return null;b=new Af(this,c,b);this._bindAction(b,f);this._addInactiveAction(b,a,d);return b},existingAction:function existingAction(a,b){var c=b||this._root;b=c.uuid;c="string"===typeof a?Ha.findByName(c,a):a;a=this._actionsByClip[c?c.uuid:a];return void 0!==a?a.actionByRoot[b]||null:null},stopAllAction:function stopAllAction(){for(var a=this._actions,b=this._nActiveActions,c=this._bindings,d=this._nActiveBindings,e=this._nActiveBindings=this._nActiveActions=0;e!==b;++e){a[e].reset()}for(e=0;e!==d;++e){c[e].useCount=0}return this},update:function update(a){a*=this.timeScale;for(var b=this._actions,c=this._nActiveActions,d=this.time+=a,e=_Mathsign(a),f=this._accuIndex^=1,g=0;g!==c;++g){b[g]._update(d,a,e,f)}a=this._bindings;b=this._nActiveBindings;for(g=0;g!==b;++g){a[g].apply(f)}return this},getRoot:function getRoot(){return this._root},uncacheClip:function uncacheClip(a){var b=this._actions;a=a.uuid;var c=this._actionsByClip,d=c[a];if(void 0!==d){d=d.knownActions;for(var e=0,f=d.length,g;e!==f;++e){g=d[e];this._deactivateAction(g);var h=g._cacheIndex,k=b[b.length-1];g._cacheIndex=null;g._byClipCacheIndex=null;k._cacheIndex=h;b[h]=k;b.pop();this._removeInactiveBindingsForAction(g)}delete c[a]}},uncacheRoot:function uncacheRoot(a){a=a.uuid;var b=this._actionsByClip;for(d in b){var c=b[d].actionByRoot[a];void 0!==c&&(this._deactivateAction(c),this._removeInactiveAction(c))}var d=this._bindingsByRootAndName[a];if(void 0!==d)for(var e in d){a=d[e],a.restoreOriginalState(),this._removeInactiveBinding(a)}},uncacheAction:function uncacheAction(a,b){a=this.existingAction(a,b);null!==a&&(this._deactivateAction(a),this._removeInactiveAction(a))}});Rd.prototype.clone=function(){return new Rd(void 0===this.value.clone?this.value:this.value.clone())};xe.prototype=Object.assign(Object.create(C.prototype),{constructor:xe,isInstancedBufferGeometry:!0,copy:function copy(a){C.prototype.copy.call(this,a);this.maxInstancedCount=a.maxInstancedCount;return this},clone:function clone(){return new this.constructor().copy(this)}});ye.prototype=Object.assign(Object.create(rb.prototype),{constructor:ye,isInstancedInterleavedBuffer:!0,copy:function copy(a){rb.prototype.copy.call(this,a);this.meshPerAttribute=a.meshPerAttribute;return this}});ze.prototype=Object.assign(Object.create(E.prototype),{constructor:ze,isInstancedBufferAttribute:!0,copy:function copy(a){E.prototype.copy.call(this,a);this.meshPerAttribute=a.meshPerAttribute;return this}});Object.assign(Bf.prototype,{linePrecision:1,set:function set(a,b){this.ray.set(a,b)},setFromCamera:function setFromCamera(a,b){b&&b.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(b.matrixWorld),this.ray.direction.set(a.x,a.y,.5).unproject(b).sub(this.ray.origin).normalize()):b&&b.isOrthographicCamera?(this.ray.origin.set(a.x,a.y,(b.near+b.far)/(b.near-b.far)).unproject(b),this.ray.direction.set(0,0,-1).transformDirection(b.matrixWorld)):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function intersectObject(a,b,c){c=c||[];Ae(a,this,c,b);c.sort(Cf);return c},intersectObjects:function intersectObjects(a,b,c){c=c||[];if(!1===Array.isArray(a))return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),c;for(var d=0,e=a.length;d<e;d++){Ae(a[d],this,c,b)}c.sort(Cf);return c}});Object.assign(Df.prototype,{set:function set(a,b,c){this.radius=a;this.phi=b;this.theta=c;return this},clone:function clone(){return new this.constructor().copy(this)},copy:function copy(a){this.radius=a.radius;this.phi=a.phi;this.theta=a.theta;return this},makeSafe:function makeSafe(){this.phi=_Mathmax(1E-6,_Mathmin(_MathPI-1E-6,this.phi));return this},setFromVector3:function setFromVector3(a){return this.setFromCartesianCoords(a.x,a.y,a.z)},setFromCartesianCoords:function setFromCartesianCoords(a,b,c){this.radius=_Mathsqrt(a*a+b*b+c*c);0===this.radius?this.phi=this.theta=0:(this.theta=_Mathatan(a,c),this.phi=_Mathacos(R.clamp(b/this.radius,-1,1)));return this}});Object.assign(Ef.prototype,{set:function set(a,b,c){this.radius=a;this.theta=b;this.y=c;return this},clone:function clone(){return new this.constructor().copy(this)},copy:function copy(a){this.radius=a.radius;this.theta=a.theta;this.y=a.y;return this},setFromVector3:function setFromVector3(a){return this.setFromCartesianCoords(a.x,a.y,a.z)},setFromCartesianCoords:function setFromCartesianCoords(a,b,c){this.radius=_Mathsqrt(a*a+c*c);this.theta=_Mathatan(a,c);this.y=b;return this}});Object.assign(Be.prototype,{set:function set(a,b){this.min.copy(a);this.max.copy(b);return this},setFromPoints:function setFromPoints(a){this.makeEmpty();for(var b=0,c=a.length;b<c;b++){this.expandByPoint(a[b])}return this},setFromCenterAndSize:function(){var a=new z;return function(b,c){c=a.copy(c).multiplyScalar(.5);this.min.copy(b).sub(c);this.max.copy(b).add(c);return this}}(),clone:function clone(){return new this.constructor().copy(this)},copy:function copy(a){this.min.copy(a.min);this.max.copy(a.max);return this},makeEmpty:function makeEmpty(){this.min.x=this.min.y=1/0;this.max.x=this.max.y=-Infinity;return this},isEmpty:function isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y},getCenter:function getCenter(a){void 0===a&&(console.warn("THREE.Box2: .getCenter() target is now required"),a=new z);return this.isEmpty()?a.set(0,0):a.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function getSize(a){void 0===a&&(console.warn("THREE.Box2: .getSize() target is now required"),a=new z);return this.isEmpty()?a.set(0,0):a.subVectors(this.max,this.min)},expandByPoint:function expandByPoint(a){this.min.min(a);this.max.max(a);return this},expandByVector:function expandByVector(a){this.min.sub(a);this.max.add(a);return this},expandByScalar:function expandByScalar(a){this.min.addScalar(-a);this.max.addScalar(a);return this},containsPoint:function containsPoint(a){return a.x<this.min.x||a.x>this.max.x||a.y<this.min.y||a.y>this.max.y?!1:!0},containsBox:function containsBox(a){return this.min.x<=a.min.x&&a.max.x<=this.max.x&&this.min.y<=a.min.y&&a.max.y<=this.max.y},getParameter:function getParameter(a,b){void 0===b&&(console.warn("THREE.Box2: .getParameter() target is now required"),b=new z);return b.set((a.x-this.min.x)/(this.max.x-this.min.x),(a.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function intersectsBox(a){return a.max.x<this.min.x||a.min.x>this.max.x||a.max.y<this.min.y||a.min.y>this.max.y?!1:!0},clampPoint:function clampPoint(a,b){void 0===b&&(console.warn("THREE.Box2: .clampPoint() target is now required"),b=new z);return b.copy(a).clamp(this.min,this.max)},distanceToPoint:function(){var a=new z;return function(b){return a.copy(b).clamp(this.min,this.max).sub(b).length()}}(),intersect:function intersect(a){this.min.max(a.min);this.max.min(a.max);return this},union:function union(a){this.min.min(a.min);this.max.max(a.max);return this},translate:function translate(a){this.min.add(a);this.max.add(a);return this},equals:function equals(a){return a.min.equals(this.min)&&a.max.equals(this.max)}});Object.assign(Ce.prototype,{set:function set(a,b){this.start.copy(a);this.end.copy(b);return this},clone:function clone(){return new this.constructor().copy(this)},copy:function copy(a){this.start.copy(a.start);this.end.copy(a.end);return this},getCenter:function getCenter(a){void 0===a&&(console.warn("THREE.Line3: .getCenter() target is now required"),a=new n);return a.addVectors(this.start,this.end).multiplyScalar(.5)},delta:function delta(a){void 0===a&&(console.warn("THREE.Line3: .delta() target is now required"),a=new n);return a.subVectors(this.end,this.start)},distanceSq:function distanceSq(){return this.start.distanceToSquared(this.end)},distance:function distance(){return this.start.distanceTo(this.end)},at:function at(a,b){void 0===b&&(console.warn("THREE.Line3: .at() target is now required"),b=new n);return this.delta(b).multiplyScalar(a).add(this.start)},closestPointToPointParameter:function(){var a=new n,b=new n;return function(c,d){a.subVectors(c,this.start);b.subVectors(this.end,this.start);c=b.dot(b);c=b.dot(a)/c;d&&(c=R.clamp(c,0,1));return c}}(),closestPointToPoint:function closestPointToPoint(a,b,c){a=this.closestPointToPointParameter(a,b);void 0===c&&(console.warn("THREE.Line3: .closestPointToPoint() target is now required"),c=new n);return this.delta(c).multiplyScalar(a).add(this.start)},applyMatrix4:function applyMatrix4(a){this.start.applyMatrix4(a);this.end.applyMatrix4(a);return this},equals:function equals(a){return a.start.equals(this.start)&&a.end.equals(this.end)}});ld.prototype=Object.create(D.prototype);ld.prototype.constructor=ld;ld.prototype.isImmediateRenderObject=!0;md.prototype=Object.create(S.prototype);md.prototype.constructor=md;md.prototype.update=function(){var a=new n,b=new n,c=new da;return function(){var d=["a","b","c"];this.object.updateMatrixWorld(!0);c.getNormalMatrix(this.object.matrixWorld);var e=this.object.matrixWorld,f=this.geometry.attributes.position,g=this.object.geometry;if(g&&g.isGeometry)for(var h=g.vertices,k=g.faces,l=g=0,n=k.length;l<n;l++){for(var p=k[l],r=0,x=p.vertexNormals.length,t;r<x;r++){t=p.vertexNormals[r];a.copy(h[p[d[r]]]).applyMatrix4(e);b.copy(t).applyMatrix3(c).normalize().multiplyScalar(this.size).add(a);f.setXYZ(g,a.x,a.y,a.z);g+=1;f.setXYZ(g,b.x,b.y,b.z);g+=1}}else if(g&&g.isBufferGeometry)for(d=g.attributes.position,h=g.attributes.normal,r=g=0,x=d.count;r<x;r++){a.set(d.getX(r),d.getY(r),d.getZ(r)).applyMatrix4(e),b.set(h.getX(r),h.getY(r),h.getZ(r)),b.applyMatrix3(c).normalize().multiplyScalar(this.size).add(a),f.setXYZ(g,a.x,a.y,a.z),g+=1,f.setXYZ(g,b.x,b.y,b.z),g+=1}f.needsUpdate=!0}}();mc.prototype=Object.create(D.prototype);mc.prototype.constructor=mc;mc.prototype.dispose=function(){this.cone.geometry.dispose();this.cone.material.dispose()};mc.prototype.update=function(){var a=new n;return function(){this.light.updateMatrixWorld();var b=this.light.distance?this.light.distance:1E3,c=b*_Mathtan(this.light.angle);this.cone.scale.set(c,c,b);a.setFromMatrixPosition(this.light.target.matrixWorld);this.cone.lookAt(a);void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}();nc.prototype=Object.create(S.prototype);nc.prototype.constructor=nc;nc.prototype.updateMatrixWorld=function(){var a=new n,b=new O,c=new O;return function(d){var e=this.bones,f=this.geometry,g=f.getAttribute("position");c.getInverse(this.root.matrixWorld);for(var h=0,k=0,l;h<e.length;h++){l=e[h];l.parent&&l.parent.isBone&&(b.multiplyMatrices(c,l.matrixWorld),a.setFromMatrixPosition(b),g.setXYZ(k,a.x,a.y,a.z),b.multiplyMatrices(c,l.parent.matrixWorld),a.setFromMatrixPosition(b),g.setXYZ(k+1,a.x,a.y,a.z),k+=2)}f.getAttribute("position").needsUpdate=!0;D.prototype.updateMatrixWorld.call(this,d)}}();oc.prototype=Object.create(na.prototype);oc.prototype.constructor=oc;oc.prototype.dispose=function(){this.geometry.dispose();this.material.dispose()};oc.prototype.update=function(){void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)};pc.prototype=Object.create(ta.prototype);pc.prototype.constructor=pc;pc.prototype.update=function(){this.scale.set(.5*this.light.width,.5*this.light.height,1);if(void 0!==this.color)this.material.color.set(this.color),this.children[0].material.color.set(this.color);else{this.material.color.copy(this.light.color).multiplyScalar(this.light.intensity);var a=this.material.color,b=_Mathmax(a.r,a.g,a.b);1<b&&a.multiplyScalar(1/b);this.children[0].material.color.copy(this.material.color)}};pc.prototype.dispose=function(){this.geometry.dispose();this.material.dispose();this.children[0].geometry.dispose();this.children[0].material.dispose()};qc.prototype=Object.create(D.prototype);qc.prototype.constructor=qc;qc.prototype.dispose=function(){this.children[0].geometry.dispose();this.children[0].material.dispose()};qc.prototype.update=function(){var a=new n,b=new I,c=new I;return function(){var d=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{var e=d.geometry.getAttribute("color");b.copy(this.light.color);c.copy(this.light.groundColor);for(var f=0,g=e.count,h;f<g;f++){h=f<g/2?b:c;e.setXYZ(f,h.r,h.g,h.b)}e.needsUpdate=!0}d.lookAt(a.setFromMatrixPosition(this.light.matrixWorld).negate())}}();nd.prototype=Object.create(S.prototype);nd.prototype.constructor=nd;Sd.prototype=Object.create(S.prototype);Sd.prototype.constructor=Sd;od.prototype=Object.create(S.prototype);od.prototype.constructor=od;od.prototype.update=function(){var a=new n,b=new n,c=new da;return function(){this.object.updateMatrixWorld(!0);c.getNormalMatrix(this.object.matrixWorld);var d=this.object.matrixWorld,e=this.geometry.attributes.position,f=this.object.geometry,g=f.vertices;f=f.faces;for(var h=0,k=0,l=f.length;k<l;k++){var n=f[k],p=n.normal;a.copy(g[n.a]).add(g[n.b]).add(g[n.c]).divideScalar(3).applyMatrix4(d);b.copy(p).applyMatrix3(c).normalize().multiplyScalar(this.size).add(a);e.setXYZ(h,a.x,a.y,a.z);h+=1;e.setXYZ(h,b.x,b.y,b.z);h+=1}e.needsUpdate=!0}}();rc.prototype=Object.create(D.prototype);rc.prototype.constructor=rc;rc.prototype.dispose=function(){this.lightPlane.geometry.dispose();this.lightPlane.material.dispose();this.targetLine.geometry.dispose();this.targetLine.material.dispose()};rc.prototype.update=function(){var a=new n,b=new n,c=new n;return function(){a.setFromMatrixPosition(this.light.matrixWorld);b.setFromMatrixPosition(this.light.target.matrixWorld);c.subVectors(b,a);this.lightPlane.lookAt(b);void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color));this.targetLine.lookAt(b);this.targetLine.scale.z=c.length()}}();pd.prototype=Object.create(S.prototype);pd.prototype.constructor=pd;pd.prototype.update=function(){function a(a,g,h,k){d.set(g,h,k).unproject(e);a=c[a];if(void 0!==a)for(g=b.getAttribute("position"),h=0,k=a.length;h<k;h++){g.setXYZ(a[h],d.x,d.y,d.z)}}var b,c,d=new n,e=new Ra;return function(){b=this.geometry;c=this.pointMap;e.projectionMatrix.copy(this.camera.projectionMatrix);a("c",0,0,-1);a("t",0,0,1);a("n1",-1,-1,-1);a("n2",1,-1,-1);a("n3",-1,1,-1);a("n4",1,1,-1);a("f1",-1,-1,1);a("f2",1,-1,1);a("f3",-1,1,1);a("f4",1,1,1);a("u1",.7,1.1,-1);a("u2",-.7,1.1,-1);a("u3",0,2,-1);a("cf1",-1,0,1);a("cf2",1,0,1);a("cf3",0,-1,1);a("cf4",0,1,1);a("cn1",-1,0,-1);a("cn2",1,0,-1);a("cn3",0,-1,-1);a("cn4",0,1,-1);b.getAttribute("position").needsUpdate=!0}}();ab.prototype=Object.create(S.prototype);ab.prototype.constructor=ab;ab.prototype.update=function(){var a=new Wa;return function(b){void 0!==b&&console.warn("THREE.BoxHelper: .update() has no longer arguments.");void 0!==this.object&&a.setFromObject(this.object);if(!a.isEmpty()){b=a.min;var c=a.max,d=this.geometry.attributes.position,e=d.array;e[0]=c.x;e[1]=c.y;e[2]=c.z;e[3]=b.x;e[4]=c.y;e[5]=c.z;e[6]=b.x;e[7]=b.y;e[8]=c.z;e[9]=c.x;e[10]=b.y;e[11]=c.z;e[12]=c.x;e[13]=c.y;e[14]=b.z;e[15]=b.x;e[16]=c.y;e[17]=b.z;e[18]=b.x;e[19]=b.y;e[20]=b.z;e[21]=c.x;e[22]=b.y;e[23]=b.z;d.needsUpdate=!0;this.geometry.computeBoundingSphere()}}}();ab.prototype.setFromObject=function(a){this.object=a;this.update();return this};ab.prototype.copy=function(a){S.prototype.copy.call(this,a);this.object=a.object;return this};ab.prototype.clone=function(){return new this.constructor().copy(this)};qd.prototype=Object.create(S.prototype);qd.prototype.constructor=qd;qd.prototype.updateMatrixWorld=function(a){var b=this.box;b.isEmpty()||(b.getCenter(this.position),b.getSize(this.scale),this.scale.multiplyScalar(.5),D.prototype.updateMatrixWorld.call(this,a))};rd.prototype=Object.create(ta.prototype);rd.prototype.constructor=rd;rd.prototype.updateMatrixWorld=function(a){var b=-this.plane.constant;1e-8>_Mathabs(b)&&(b=1e-8);this.scale.set(.5*this.size,.5*this.size,b);this.children[0].material.side=0>b?1:0;this.lookAt(this.plane.normal);D.prototype.updateMatrixWorld.call(this,a)};var Td,De;bb.prototype=Object.create(D.prototype);bb.prototype.constructor=bb;bb.prototype.setDirection=function(){var a=new n,b;return function(c){.99999<c.y?this.quaternion.set(0,0,0,1):-.99999>c.y?this.quaternion.set(1,0,0,0):(a.set(c.z,0,-c.x).normalize(),b=_Mathacos(c.y),this.quaternion.setFromAxisAngle(a,b))}}();bb.prototype.setLength=function(a,b,c){void 0===b&&(b=.2*a);void 0===c&&(c=.2*b);this.line.scale.set(1,_Mathmax(0,a-b),1);this.line.updateMatrix();this.cone.scale.set(c,b,c);this.cone.position.y=a;this.cone.updateMatrix()};bb.prototype.setColor=function(a){this.line.material.color.copy(a);this.cone.material.color.copy(a)};bb.prototype.copy=function(a){D.prototype.copy.call(this,a,!1);this.line.copy(a.line);this.cone.copy(a.cone);return this};bb.prototype.clone=function(){return new this.constructor().copy(this)};sd.prototype=Object.create(S.prototype);sd.prototype.constructor=sd;J.create=function(a,b){console.log("THREE.Curve.create() has been deprecated");a.prototype=Object.create(J.prototype);a.prototype.constructor=a;a.prototype.getPoint=b;return a};Object.assign($a.prototype,{createPointsGeometry:function createPointsGeometry(a){console.warn("THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");a=this.getPoints(a);return this.createGeometry(a)},createSpacedPointsGeometry:function createSpacedPointsGeometry(a){console.warn("THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");a=this.getSpacedPoints(a);return this.createGeometry(a)},createGeometry:function createGeometry(a){console.warn("THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");for(var b=new Q,c=0,d=a.length,e;c<d;c++){e=a[c];b.vertices.push(new n(e.x,e.y,e.z||0))}return b}});Object.assign(Na.prototype,{fromPoints:function fromPoints(a){console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints().");this.setFromPoints(a)}});Gf.prototype=Object.create(ua.prototype);Hf.prototype=Object.create(ua.prototype);Ee.prototype=Object.create(ua.prototype);Object.assign(Ee.prototype,{initFromArray:function initFromArray(){console.error("THREE.Spline: .initFromArray() has been removed.")},getControlPointsArray:function getControlPointsArray(){console.error("THREE.Spline: .getControlPointsArray() has been removed.")},reparametrizeByArcLength:function reparametrizeByArcLength(){console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")}});nd.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")};nc.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")};Object.assign(jd.prototype,{extractUrlBase:function extractUrlBase(a){console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead.");return Ie.extractUrlBase(a)}});Object.assign(le.prototype,{setTexturePath:function setTexturePath(a){console.warn("THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath().");return this.setResourcePath(a)}});Object.assign(Be.prototype,{center:function center(a){console.warn("THREE.Box2: .center() has been renamed to .getCenter().");return this.getCenter(a)},empty:function empty(){console.warn("THREE.Box2: .empty() has been renamed to .isEmpty().");return this.isEmpty()},isIntersectionBox:function isIntersectionBox(a){console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox().");return this.intersectsBox(a)},size:function size(a){console.warn("THREE.Box2: .size() has been renamed to .getSize().");return this.getSize(a)}});Object.assign(Wa.prototype,{center:function center(a){console.warn("THREE.Box3: .center() has been renamed to .getCenter().");return this.getCenter(a)},empty:function empty(){console.warn("THREE.Box3: .empty() has been renamed to .isEmpty().");return this.isEmpty()},isIntersectionBox:function isIntersectionBox(a){console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox().");return this.intersectsBox(a)},isIntersectionSphere:function isIntersectionSphere(a){console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere().");return this.intersectsSphere(a)},size:function size(a){console.warn("THREE.Box3: .size() has been renamed to .getSize().");return this.getSize(a)}});Ce.prototype.center=function(a){console.warn("THREE.Line3: .center() has been renamed to .getCenter().");return this.getCenter(a)};Object.assign(R,{random16:function random16(){console.warn("THREE.Math: .random16() has been deprecated. Use Math.random() instead.");return Math.random()},nearestPowerOfTwo:function nearestPowerOfTwo(a){console.warn("THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo().");return R.floorPowerOfTwo(a)},nextPowerOfTwo:function nextPowerOfTwo(a){console.warn("THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo().");return R.ceilPowerOfTwo(a)}});Object.assign(da.prototype,{flattenToArrayOffset:function flattenToArrayOffset(a,b){console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead.");return this.toArray(a,b)},multiplyVector3:function multiplyVector3(a){console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead.");return a.applyMatrix3(this)},multiplyVector3Array:function multiplyVector3Array(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},applyToBuffer:function applyToBuffer(a){console.warn("THREE.Matrix3: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead.");return this.applyToBufferAttribute(a)},applyToVector3Array:function applyToVector3Array(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")}});Object.assign(O.prototype,{extractPosition:function extractPosition(a){console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition().");return this.copyPosition(a)},flattenToArrayOffset:function flattenToArrayOffset(a,b){console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead.");return this.toArray(a,b)},getPosition:function(){var a;return function(){void 0===a&&(a=new n);console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead.");return a.setFromMatrixColumn(this,3)}}(),setRotationFromQuaternion:function setRotationFromQuaternion(a){console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion().");return this.makeRotationFromQuaternion(a)},multiplyToArray:function multiplyToArray(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},multiplyVector3:function multiplyVector3(a){console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead.");return a.applyMatrix4(this)},multiplyVector4:function multiplyVector4(a){console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead.");return a.applyMatrix4(this)},multiplyVector3Array:function multiplyVector3Array(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},rotateAxis:function rotateAxis(a){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead.");a.transformDirection(this)},crossVector:function crossVector(a){console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead.");return a.applyMatrix4(this)},translate:function translate(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function rotateX(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function rotateY(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function rotateZ(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function rotateByAxis(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},applyToBuffer:function applyToBuffer(a){console.warn("THREE.Matrix4: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead.");return this.applyToBufferAttribute(a)},applyToVector3Array:function applyToVector3Array(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},makeFrustum:function makeFrustum(a,b,c,d,e,f){console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead.");return this.makePerspective(a,b,d,c,e,f)}});Pa.prototype.isIntersectionLine=function(a){console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine().");return this.intersectsLine(a)};ka.prototype.multiplyVector3=function(a){console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead.");return a.applyQuaternion(this)};Object.assign(qb.prototype,{isIntersectionBox:function isIntersectionBox(a){console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox().");return this.intersectsBox(a)},isIntersectionPlane:function isIntersectionPlane(a){console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane().");return this.intersectsPlane(a)},isIntersectionSphere:function isIntersectionSphere(a){console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere().");return this.intersectsSphere(a)}});Object.assign(ha.prototype,{area:function area(){console.warn("THREE.Triangle: .area() has been renamed to .getArea().");return this.getArea()},barycoordFromPoint:function barycoordFromPoint(a,b){console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord().");return this.getBarycoord(a,b)},midpoint:function midpoint(a){console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint().");return this.getMidpoint(a)},normal:function normal(a){console.warn("THREE.Triangle: .normal() has been renamed to .getNormal().");return this.getNormal(a)},plane:function plane(a){console.warn("THREE.Triangle: .plane() has been renamed to .getPlane().");return this.getPlane(a)}});Object.assign(ha,{barycoordFromPoint:function barycoordFromPoint(a,b,c,d,e){console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord().");return ha.getBarycoord(a,b,c,d,e)},normal:function normal(a,b,c,d){console.warn("THREE.Triangle: .normal() has been renamed to .getNormal().");return ha.getNormal(a,b,c,d)}});Object.assign(hb.prototype,{extractAllPoints:function extractAllPoints(a){console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead.");return this.extractPoints(a)},extrude:function extrude(a){console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead.");return new ub(this,a)},makeGeometry:function makeGeometry(a){console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead.");return new wb(this,a)}});Object.assign(z.prototype,{fromAttribute:function fromAttribute(a,b,c){console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute().");return this.fromBufferAttribute(a,b,c)},distanceToManhattan:function distanceToManhattan(a){console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo().");return this.manhattanDistanceTo(a)},lengthManhattan:function lengthManhattan(){console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength().");return this.manhattanLength()}});Object.assign(n.prototype,{setEulerFromRotationMatrix:function setEulerFromRotationMatrix(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function setEulerFromQuaternion(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function getPositionFromMatrix(a){console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition().");return this.setFromMatrixPosition(a)},getScaleFromMatrix:function getScaleFromMatrix(a){console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale().");return this.setFromMatrixScale(a)},getColumnFromMatrix:function getColumnFromMatrix(a,b){console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn().");return this.setFromMatrixColumn(b,a)},applyProjection:function applyProjection(a){console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead.");return this.applyMatrix4(a)},fromAttribute:function fromAttribute(a,b,c){console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute().");return this.fromBufferAttribute(a,b,c)},distanceToManhattan:function distanceToManhattan(a){console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo().");return this.manhattanDistanceTo(a)},lengthManhattan:function lengthManhattan(){console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength().");return this.manhattanLength()}});Object.assign(ca.prototype,{fromAttribute:function fromAttribute(a,b,c){console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute().");return this.fromBufferAttribute(a,b,c)},lengthManhattan:function lengthManhattan(){console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength().");return this.manhattanLength()}});Object.assign(Q.prototype,{computeTangents:function computeTangents(){console.error("THREE.Geometry: .computeTangents() has been removed.")},computeLineDistances:function computeLineDistances(){console.error("THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.")}});Object.assign(D.prototype,{getChildByName:function getChildByName(a){console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName().");return this.getObjectByName(a)},renderDepth:function renderDepth(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function translate(a,b){console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead.");return this.translateOnAxis(b,a)},getWorldRotation:function getWorldRotation(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")}});Object.defineProperties(D.prototype,{eulerOrder:{get:function get(){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order.");return this.rotation.order},set:function set(a){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order.");this.rotation.order=a}},useQuaternion:{get:function get(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function set(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}});Object.defineProperties(Gc.prototype,{objects:{get:function get(){console.warn("THREE.LOD: .objects has been renamed to .levels.");return this.levels}}});Object.defineProperty(yd.prototype,"useVertexTexture",{get:function get(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")},set:function set(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")}});Hc.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")};Object.defineProperty(J.prototype,"__arcLengthDivisions",{get:function get(){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions.");return this.arcLengthDivisions},set:function set(a){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions.");this.arcLengthDivisions=a}});V.prototype.setLens=function(a,b){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup.");void 0!==b&&(this.filmGauge=b);this.setFocalLength(a)};Object.defineProperties(ba.prototype,{onlyShadow:{set:function set(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function set(a){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov.");this.shadow.camera.fov=a}},shadowCameraLeft:{set:function set(a){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left.");this.shadow.camera.left=a}},shadowCameraRight:{set:function set(a){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right.");this.shadow.camera.right=a}},shadowCameraTop:{set:function set(a){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top.");this.shadow.camera.top=a}},shadowCameraBottom:{set:function set(a){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom.");this.shadow.camera.bottom=a}},shadowCameraNear:{set:function set(a){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near.");this.shadow.camera.near=a}},shadowCameraFar:{set:function set(a){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far.");this.shadow.camera.far=a}},shadowCameraVisible:{set:function set(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function set(a){console.warn("THREE.Light: .shadowBias is now .shadow.bias.");this.shadow.bias=a}},shadowDarkness:{set:function set(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function set(a){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width.");this.shadow.mapSize.width=a}},shadowMapHeight:{set:function set(a){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height.");this.shadow.mapSize.height=a}}});Object.defineProperties(E.prototype,{length:{get:function get(){console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead.");return this.array.length}},copyIndicesArray:function copyIndicesArray(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")}});Object.assign(C.prototype,{addIndex:function addIndex(a){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex().");this.setIndex(a)},addDrawCall:function addDrawCall(a,b,c){void 0!==c&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset.");console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup().");this.addGroup(a,b)},clearDrawCalls:function clearDrawCalls(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups().");this.clearGroups()},computeTangents:function computeTangents(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function computeOffsets(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")}});Object.defineProperties(C.prototype,{drawcalls:{get:function get(){console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups.");return this.groups}},offsets:{get:function get(){console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups.");return this.groups}}});Object.assign(Sa.prototype,{getArrays:function getArrays(){console.error("THREE.ExtrudeBufferGeometry: .getArrays() has been removed.")},addShapeList:function addShapeList(){console.error("THREE.ExtrudeBufferGeometry: .addShapeList() has been removed.")},addShape:function addShape(){console.error("THREE.ExtrudeBufferGeometry: .addShape() has been removed.")}});Object.defineProperties(Rd.prototype,{dynamic:{set:function set(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function value(){console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead.");return this}}});Object.defineProperties(L.prototype,{wrapAround:{get:function get(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function set(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function get(){console.warn("THREE.Material: .overdraw has been removed.")},set:function set(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function get(){console.warn("THREE.Material: .wrapRGB has been removed.");return new I}},shading:{get:function get(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function set(a){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.");this.flatShading=1===a}}});Object.defineProperties(Ga.prototype,{metal:{get:function get(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead.");return!1},set:function set(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}});Object.defineProperties(Ba.prototype,{derivatives:{get:function get(){console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives.");return this.extensions.derivatives},set:function set(a){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives.");this.extensions.derivatives=a}}});Object.assign(be.prototype,{clearTarget:function clearTarget(a,b,c,d){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead.");this.setRenderTarget(a);this.clear(b,c,d)},animate:function animate(a){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop().");this.setAnimationLoop(a)},getCurrentRenderTarget:function getCurrentRenderTarget(){console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget().");return this.getRenderTarget()},getMaxAnisotropy:function getMaxAnisotropy(){console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy().");return this.capabilities.getMaxAnisotropy()},getPrecision:function getPrecision(){console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision.");return this.capabilities.precision},resetGLState:function resetGLState(){console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset().");return this.state.reset()},supportsFloatTextures:function supportsFloatTextures(){console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' ).");return this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function supportsHalfFloatTextures(){console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' ).");return this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function supportsStandardDerivatives(){console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' ).");return this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function supportsCompressedTextureS3TC(){console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' ).");return this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function supportsCompressedTexturePVRTC(){console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' ).");return this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function supportsBlendMinMax(){console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' ).");return this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function supportsVertexTextures(){console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures.");return this.capabilities.vertexTextures},supportsInstancedArrays:function supportsInstancedArrays(){console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' ).");return this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function enableScissorTest(a){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest().");this.setScissorTest(a)},initMaterial:function initMaterial(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function addPrePlugin(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function addPostPlugin(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function updateShadowMap(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},setFaceCulling:function setFaceCulling(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")}});Object.defineProperties(be.prototype,{shadowMapEnabled:{get:function get(){return this.shadowMap.enabled},set:function set(a){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled.");this.shadowMap.enabled=a}},shadowMapType:{get:function get(){return this.shadowMap.type},set:function set(a){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type.");this.shadowMap.type=a}},shadowMapCullFace:{get:function get(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function set(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}}});Object.defineProperties(ef.prototype,{cullFace:{get:function get(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function set(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function get(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function set(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function get(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function set(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}});Object.defineProperties(jb.prototype,{wrapS:{get:function get(){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS.");return this.texture.wrapS},set:function set(a){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS.");this.texture.wrapS=a}},wrapT:{get:function get(){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT.");return this.texture.wrapT},set:function set(a){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT.");this.texture.wrapT=a}},magFilter:{get:function get(){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter.");return this.texture.magFilter},set:function set(a){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter.");this.texture.magFilter=a}},minFilter:{get:function get(){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter.");return this.texture.minFilter},set:function set(a){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter.");this.texture.minFilter=a}},anisotropy:{get:function get(){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy.");return this.texture.anisotropy},set:function set(a){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy.");this.texture.anisotropy=a}},offset:{get:function get(){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset.");return this.texture.offset},set:function set(a){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset.");this.texture.offset=a}},repeat:{get:function get(){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat.");return this.texture.repeat},set:function set(a){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat.");this.texture.repeat=a}},format:{get:function get(){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format.");return this.texture.format},set:function set(a){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format.");this.texture.format=a}},type:{get:function get(){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type.");return this.texture.type},set:function set(a){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type.");this.texture.type=a}},generateMipmaps:{get:function get(){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps.");return this.texture.generateMipmaps},set:function set(a){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps.");this.texture.generateMipmaps=a}}});Object.defineProperties(kf.prototype,{standing:{set:function set(){console.warn("THREE.WebVRManager: .standing has been removed.")}},userHeight:{set:function set(){console.warn("THREE.WebVRManager: .userHeight has been removed.")}}});lc.prototype.load=function(a){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");var b=this;new pe().load(a,function(a){b.setBuffer(a)});return this};ue.prototype.getData=function(){console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData().");return this.getFrequencyData()};kd.prototype.updateCubeMap=function(a,b){console.warn("THREE.CubeCamera: .updateCubeMap() is now .update().");return this.update(a,b)};ib.crossOrigin=void 0;ib.loadTexture=function(a,b,c,d){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");var e=new Hd;e.setCrossOrigin(this.crossOrigin);a=e.load(a,c,void 0,d);b&&(a.mapping=b);return a};ib.loadTextureCube=function(a,b,c,d){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");var e=new ie;e.setCrossOrigin(this.crossOrigin);a=e.load(a,c,void 0,d);b&&(a.mapping=b);return a};ib.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")};ib.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};l.WebGLRenderTargetCube=Ib;l.WebGLRenderTarget=jb;l.WebGLRenderer=be;l.ShaderLib=Qa;l.UniformsLib=F;l.UniformsUtils=ah;l.ShaderChunk=H;l.FogExp2=Qb;l.Fog=Rb;l.Scene=xd;l.Sprite=Fc;l.LOD=Gc;l.SkinnedMesh=Hc;l.Skeleton=yd;l.Bone=ce;l.Mesh=na;l.LineSegments=S;l.LineLoop=zd;l.Line=ta;l.Points=Tb;l.Group=Pb;l.VideoTexture=de;l.DataTexture=kb;l.DataTexture3D=Nb;l.CompressedTexture=Ub;l.CubeTexture=Xa;l.CanvasTexture=Ic;l.DepthTexture=Jc;l.Texture=X;l.AnimationLoader=tf;l.CompressedTextureLoader=uf;l.DataTextureLoader=he;l.CubeTextureLoader=ie;l.TextureLoader=Hd;l.ObjectLoader=le;l.MaterialLoader=Qd;l.BufferGeometryLoader=ke;l.DefaultLoadingManager=za;l.LoadingManager=ge;l.ImageLoader=fd;l.ImageBitmapLoader=me;l.FontLoader=wf;l.FileLoader=Ia;l.Loader=jd;l.LoaderUtils=Ie;l.Cache=Hb;l.AudioLoader=pe;l.SpotLightShadow=Jd;l.SpotLight=Kd;l.PointLight=Ld;l.RectAreaLight=Pd;l.HemisphereLight=Id;l.DirectionalLightShadow=Md;l.DirectionalLight=Nd;l.AmbientLight=Od;l.LightShadow=Gb;l.Light=ba;l.StereoCamera=xf;l.PerspectiveCamera=V;l.OrthographicCamera=id;l.CubeCamera=kd;l.ArrayCamera=Dc;l.Camera=Ra;l.AudioListener=re;l.PositionalAudio=te;l.AudioContext=se;l.AudioAnalyser=ue;l.Audio=lc;l.VectorKeyframeTrack=jc;l.StringKeyframeTrack=Gd;l.QuaternionKeyframeTrack=ed;l.NumberKeyframeTrack=ic;l.ColorKeyframeTrack=Ed;l.BooleanKeyframeTrack=Dd;l.PropertyMixer=ve;l.PropertyBinding=oa;l.KeyframeTrack=qa;l.AnimationUtils=ra;l.AnimationObjectGroup=zf;l.AnimationMixer=we;l.AnimationClip=Ha;l.Uniform=Rd;l.InstancedBufferGeometry=xe;l.BufferGeometry=C;l.Geometry=Q;l.InterleavedBufferAttribute=Ec;l.InstancedInterleavedBuffer=ye;l.InterleavedBuffer=rb;l.InstancedBufferAttribute=ze;l.Face3=Kb;l.Object3D=D;l.Raycaster=Bf;l.Layers=Xd;l.EventDispatcher=ja;l.Clock=qe;l.QuaternionLinearInterpolant=Fd;l.LinearInterpolant=dd;l.DiscreteInterpolant=Cd;l.CubicInterpolant=Bd;l.Interpolant=va;l.Triangle=ha;l.Math=R;l.Spherical=Df;l.Cylindrical=Ef;l.Plane=Pa;l.Frustum=td;l.Sphere=Ea;l.Ray=qb;l.Matrix4=O;l.Matrix3=da;l.Box3=Wa;l.Box2=Be;l.Line3=Ce;l.Euler=lb;l.Vector4=ca;l.Vector3=n;l.Vector2=z;l.Quaternion=ka;l.Color=I;l.ImmediateRenderObject=ld;l.VertexNormalsHelper=md;l.SpotLightHelper=mc;l.SkeletonHelper=nc;l.PointLightHelper=oc;l.RectAreaLightHelper=pc;l.HemisphereLightHelper=qc;l.GridHelper=nd;l.PolarGridHelper=Sd;l.FaceNormalsHelper=od;l.DirectionalLightHelper=rc;l.CameraHelper=pd;l.BoxHelper=ab;l.Box3Helper=qd;l.PlaneHelper=rd;l.ArrowHelper=bb;l.AxesHelper=sd;l.Shape=hb;l.Path=Na;l.ShapePath=ne;l.Font=oe;l.CurvePath=$a;l.Curve=J;l.ImageUtils=ib;l.ShapeUtils=Ya;l.WebGLUtils=ff;l.WireframeGeometry=Vb;l.ParametricGeometry=Kc;l.ParametricBufferGeometry=Wb;l.TetrahedronGeometry=Mc;l.TetrahedronBufferGeometry=Xb;l.OctahedronGeometry=Nc;l.OctahedronBufferGeometry=sb;l.IcosahedronGeometry=Oc;l.IcosahedronBufferGeometry=Yb;l.DodecahedronGeometry=Pc;l.DodecahedronBufferGeometry=Zb;l.PolyhedronGeometry=Lc;l.PolyhedronBufferGeometry=ya;l.TubeGeometry=Qc;l.TubeBufferGeometry=$b;l.TorusKnotGeometry=Rc;l.TorusKnotBufferGeometry=ac;l.TorusGeometry=Sc;l.TorusBufferGeometry=bc;l.TextGeometry=Xc;l.TextBufferGeometry=cc;l.SphereGeometry=Yc;l.SphereBufferGeometry=vb;l.RingGeometry=Zc;l.RingBufferGeometry=dc;l.PlaneGeometry=zc;l.PlaneBufferGeometry=pb;l.LatheGeometry=$c;l.LatheBufferGeometry=ec;l.ShapeGeometry=wb;l.ShapeBufferGeometry=xb;l.ExtrudeGeometry=ub;l.ExtrudeBufferGeometry=Sa;l.EdgesGeometry=fc;l.ConeGeometry=ad;l.ConeBufferGeometry=bd;l.CylinderGeometry=yb;l.CylinderBufferGeometry=Za;l.CircleGeometry=cd;l.CircleBufferGeometry=gc;l.BoxGeometry=Lb;l.BoxBufferGeometry=ob;l.ShadowMaterial=zb;l.SpriteMaterial=gb;l.RawShaderMaterial=hc;l.ShaderMaterial=Ba;l.PointsMaterial=Fa;l.MeshPhysicalMaterial=Ab;l.MeshStandardMaterial=Ta;l.MeshPhongMaterial=Ga;l.MeshToonMaterial=Bb;l.MeshNormalMaterial=Cb;l.MeshLambertMaterial=Db;l.MeshDepthMaterial=db;l.MeshDistanceMaterial=eb;l.MeshBasicMaterial=wa;l.MeshMatcapMaterial=Eb;l.LineDashedMaterial=Fb;l.LineBasicMaterial=T;l.Material=L;l.Float64BufferAttribute=yc;l.Float32BufferAttribute=A;l.Uint32BufferAttribute=nb;l.Int32BufferAttribute=xc;l.Uint16BufferAttribute=mb;l.Int16BufferAttribute=wc;l.Uint8ClampedBufferAttribute=vc;l.Uint8BufferAttribute=uc;l.Int8BufferAttribute=tc;l.BufferAttribute=E;l.ArcCurve=kc;l.CatmullRomCurve3=ua;l.CubicBezierCurve=Ja;l.CubicBezierCurve3=Ua;l.EllipseCurve=Da;l.LineCurve=Aa;l.LineCurve3=Ka;l.QuadraticBezierCurve=La;l.QuadraticBezierCurve3=Va;l.SplineCurve=Ma;l.REVISION="100dev";l.MOUSE={LEFT:0,MIDDLE:1,RIGHT:2};l.CullFaceNone=0;l.CullFaceBack=1;l.CullFaceFront=2;l.CullFaceFrontBack=3;l.FrontFaceDirectionCW=0;l.FrontFaceDirectionCCW=1;l.BasicShadowMap=0;l.PCFShadowMap=1;l.PCFSoftShadowMap=2;l.FrontSide=0;l.BackSide=1;l.DoubleSide=2;l.FlatShading=1;l.SmoothShading=2;l.NoColors=0;l.FaceColors=1;l.VertexColors=2;l.NoBlending=0;l.NormalBlending=1;l.AdditiveBlending=2;l.SubtractiveBlending=3;l.MultiplyBlending=4;l.CustomBlending=5;l.AddEquation=100;l.SubtractEquation=101;l.ReverseSubtractEquation=102;l.MinEquation=103;l.MaxEquation=104;l.ZeroFactor=200;l.OneFactor=201;l.SrcColorFactor=202;l.OneMinusSrcColorFactor=203;l.SrcAlphaFactor=204;l.OneMinusSrcAlphaFactor=205;l.DstAlphaFactor=206;l.OneMinusDstAlphaFactor=207;l.DstColorFactor=208;l.OneMinusDstColorFactor=209;l.SrcAlphaSaturateFactor=210;l.NeverDepth=0;l.AlwaysDepth=1;l.LessDepth=2;l.LessEqualDepth=3;l.EqualDepth=4;l.GreaterEqualDepth=5;l.GreaterDepth=6;l.NotEqualDepth=7;l.MultiplyOperation=0;l.MixOperation=1;l.AddOperation=2;l.NoToneMapping=0;l.LinearToneMapping=1;l.ReinhardToneMapping=2;l.Uncharted2ToneMapping=3;l.CineonToneMapping=4;l.ACESFilmicToneMapping=5;l.UVMapping=300;l.CubeReflectionMapping=301;l.CubeRefractionMapping=302;l.EquirectangularReflectionMapping=303;l.EquirectangularRefractionMapping=304;l.SphericalReflectionMapping=305;l.CubeUVReflectionMapping=306;l.CubeUVRefractionMapping=307;l.RepeatWrapping=1E3;l.ClampToEdgeWrapping=1001;l.MirroredRepeatWrapping=1002;l.NearestFilter=1003;l.NearestMipMapNearestFilter=1004;l.NearestMipMapLinearFilter=1005;l.LinearFilter=1006;l.LinearMipMapNearestFilter=1007;l.LinearMipMapLinearFilter=1008;l.UnsignedByteType=1009;l.ByteType=1010;l.ShortType=1011;l.UnsignedShortType=1012;l.IntType=1013;l.UnsignedIntType=1014;l.FloatType=1015;l.HalfFloatType=1016;l.UnsignedShort4444Type=1017;l.UnsignedShort5551Type=1018;l.UnsignedShort565Type=1019;l.UnsignedInt248Type=1020;l.AlphaFormat=1021;l.RGBFormat=1022;l.RGBAFormat=1023;l.LuminanceFormat=1024;l.LuminanceAlphaFormat=1025;l.RGBEFormat=1023;l.DepthFormat=1026;l.DepthStencilFormat=1027;l.RedFormat=1028;l.RGB_S3TC_DXT1_Format=33776;l.RGBA_S3TC_DXT1_Format=33777;l.RGBA_S3TC_DXT3_Format=33778;l.RGBA_S3TC_DXT5_Format=33779;l.RGB_PVRTC_4BPPV1_Format=35840;l.RGB_PVRTC_2BPPV1_Format=35841;l.RGBA_PVRTC_4BPPV1_Format=35842;l.RGBA_PVRTC_2BPPV1_Format=35843;l.RGB_ETC1_Format=36196;l.RGBA_ASTC_4x4_Format=37808;l.RGBA_ASTC_5x4_Format=37809;l.RGBA_ASTC_5x5_Format=37810;l.RGBA_ASTC_6x5_Format=37811;l.RGBA_ASTC_6x6_Format=37812;l.RGBA_ASTC_8x5_Format=37813;l.RGBA_ASTC_8x6_Format=37814;l.RGBA_ASTC_8x8_Format=37815;l.RGBA_ASTC_10x5_Format=37816;l.RGBA_ASTC_10x6_Format=37817;l.RGBA_ASTC_10x8_Format=37818;l.RGBA_ASTC_10x10_Format=37819;l.RGBA_ASTC_12x10_Format=37820;l.RGBA_ASTC_12x12_Format=37821;l.LoopOnce=2200;l.LoopRepeat=2201;l.LoopPingPong=2202;l.InterpolateDiscrete=2300;l.InterpolateLinear=2301;l.InterpolateSmooth=2302;l.ZeroCurvatureEnding=2400;l.ZeroSlopeEnding=2401;l.WrapAroundEnding=2402;l.TrianglesDrawMode=0;l.TriangleStripDrawMode=1;l.TriangleFanDrawMode=2;l.LinearEncoding=3E3;l.sRGBEncoding=3001;l.GammaEncoding=3007;l.RGBEEncoding=3002;l.LogLuvEncoding=3003;l.RGBM7Encoding=3004;l.RGBM16Encoding=3005;l.RGBDEncoding=3006;l.BasicDepthPacking=3200;l.RGBADepthPacking=3201;l.TangentSpaceNormalMap=0;l.ObjectSpaceNormalMap=1;l.CubeGeometry=Lb;l.Face4=function(a,b,c,d,e,f,g){console.warn("THREE.Face4 has been removed. A THREE.Face3 will be created instead.");return new Kb(a,b,c,e,f,g)};l.LineStrip=0;l.LinePieces=1;l.MeshFaceMaterial=function(a){console.warn("THREE.MeshFaceMaterial has been removed. Use an Array instead.");return a};l.MultiMaterial=function(a){void 0===a&&(a=[]);console.warn("THREE.MultiMaterial has been removed. Use an Array instead.");a.isMultiMaterial=!0;a.materials=a;a.clone=function(){return a.slice()};return a};l.PointCloud=function(a,b){console.warn("THREE.PointCloud has been renamed to THREE.Points.");return new Tb(a,b)};l.Particle=function(a){console.warn("THREE.Particle has been renamed to THREE.Sprite.");return new Fc(a)};l.ParticleSystem=function(a,b){console.warn("THREE.ParticleSystem has been renamed to THREE.Points.");return new Tb(a,b)};l.PointCloudMaterial=function(a){console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial.");return new Fa(a)};l.ParticleBasicMaterial=function(a){console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial.");return new Fa(a)};l.ParticleSystemMaterial=function(a){console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial.");return new Fa(a)};l.Vertex=function(a,b,c){console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead.");return new n(a,b,c)};l.DynamicBufferAttribute=function(a,b){console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setDynamic( true ) instead.");return new E(a,b).setDynamic(!0)};l.Int8Attribute=function(a,b){console.warn("THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead.");return new tc(a,b)};l.Uint8Attribute=function(a,b){console.warn("THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead.");return new uc(a,b)};l.Uint8ClampedAttribute=function(a,b){console.warn("THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead.");return new vc(a,b)};l.Int16Attribute=function(a,b){console.warn("THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead.");return new wc(a,b)};l.Uint16Attribute=function(a,b){console.warn("THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead.");return new mb(a,b)};l.Int32Attribute=function(a,b){console.warn("THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead.");return new xc(a,b)};l.Uint32Attribute=function(a,b){console.warn("THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead.");return new nb(a,b)};l.Float32Attribute=function(a,b){console.warn("THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead.");return new A(a,b)};l.Float64Attribute=function(a,b){console.warn("THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead.");return new yc(a,b)};l.ClosedSplineCurve3=Gf;l.SplineCurve3=Hf;l.Spline=Ee;l.AxisHelper=function(a){console.warn("THREE.AxisHelper has been renamed to THREE.AxesHelper.");return new sd(a)};l.BoundingBoxHelper=function(a,b){console.warn("THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead.");return new ab(a,b)};l.EdgesHelper=function(a,b){console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead.");return new S(new fc(a.geometry),new T({color:void 0!==b?b:16777215}))};l.WireframeHelper=function(a,b){console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead.");return new S(new Vb(a.geometry),new T({color:void 0!==b?b:16777215}))};l.XHRLoader=function(a){console.warn("THREE.XHRLoader has been renamed to THREE.FileLoader.");return new Ia(a)};l.BinaryTextureLoader=function(a){console.warn("THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader.");return new he(a)};l.GeometryUtils={merge:function merge(a,b,c){console.warn("THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead.");if(b.isMesh){b.matrixAutoUpdate&&b.updateMatrix();var d=b.matrix;b=b.geometry}a.merge(b,d,c)},center:function center(a){console.warn("THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead.");return a.center()}};l.Projector=function(){console.error("THREE.Projector has been moved to /examples/js/renderers/Projector.js.");this.projectVector=function(a,b){console.warn("THREE.Projector: .projectVector() is now vector.project().");a.project(b)};this.unprojectVector=function(a,b){console.warn("THREE.Projector: .unprojectVector() is now vector.unproject().");a.unproject(b)};this.pickingRay=function(){console.error("THREE.Projector: .pickingRay() is now raycaster.setFromCamera().")}};l.CanvasRenderer=function(){console.error("THREE.CanvasRenderer has been removed")};l.JSONLoader=function(){console.error("THREE.JSONLoader has been removed.")};l.SceneUtils={createMultiMaterialObject:function createMultiMaterialObject(){console.error("THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js")},detach:function detach(){console.error("THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js")},attach:function attach(){console.error("THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js")}};l.LensFlare=function(){console.error("THREE.LensFlare has been moved to /examples/js/objects/Lensflare.js")};Object.defineProperty(l,"__esModule",{value:!0})});</script><script>!function(e,t){"object"==("undefined"===typeof exports?"undefined":babelHelpers.typeof(exports))&&"object"==("undefined"===typeof module?"undefined":babelHelpers.typeof(module))?module.exports=t():"function"==typeof define&&define.amd?define("AMI",[],t):"object"==("undefined"===typeof exports?"undefined":babelHelpers.typeof(exports))?exports.AMI=t():e.AMI=t()}(window,function(){var _Mathtan=Math.tan,_StringfromCharCode=String.fromCharCode,_MathLN=Math.LN2,_Mathlog=Math.log,_NumberisNaN=Number.isNaN,_NumberNEGATIVE_INFINITY=Number.NEGATIVE_INFINITY,_NumberPOSITIVE_INFINITY=Number.POSITIVE_INFINITY,_Mathpow=Math.pow,_MathPI=Math.PI,_Mathatan=Math.atan2,_Mathcos=Math.cos,_Mathsin=Math.sin,_Mathacos=Math.acos,_Mathabs=Math.abs,_Mathsqrt=Math.sqrt,_Mathround=Math.round,_Mathceil=Math.ceil,_Mathfloor=Math.floor,_Mathmax=Math.max,_Mathmin=Math.min;return function(e){var t={};function i(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==babelHelpers.typeof(e)&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e){i.d(n,r,function(t){return e[t]}.bind(null,r))}return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=114)}([function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(44),r=i(4),o=i(77);function a(e,t,i){this.x=e||0,this.y=t||0,this.z=i||0}Object.assign(a.prototype,{isVector3:!0,set:function set(e,t,i){return this.x=e,this.y=t,this.z=i,this},setScalar:function setScalar(e){return this.x=e,this.y=e,this.z=e,this},setX:function setX(e){return this.x=e,this},setY:function setY(e){return this.y=e,this},setZ:function setZ(e){return this.z=e,this},setComponent:function setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e);}return this},getComponent:function getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e);}},clone:function clone(){return new this.constructor(this.x,this.y,this.z)},copy:function copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this},add:function add(e,t){return void 0!==t?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)},addScalar:function addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this},addVectors:function addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this},addScaledVector:function addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this},sub:function sub(e,t){return void 0!==t?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)},subScalar:function subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this},subVectors:function subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this},multiply:function multiply(e,t){return void 0!==t?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,t)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)},multiplyScalar:function multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this},multiplyVectors:function multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this},applyEuler:function(){var e=new o.a;return function(t){return t&&t.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(e.setFromEuler(t))}}(),applyAxisAngle:function(){var e=new o.a;return function(t,i){return this.applyQuaternion(e.setFromAxisAngle(t,i))}}(),applyMatrix3:function applyMatrix3(e){var t=this.x,i=this.y,n=this.z,r=e.elements;return this.x=r[0]*t+r[3]*i+r[6]*n,this.y=r[1]*t+r[4]*i+r[7]*n,this.z=r[2]*t+r[5]*i+r[8]*n,this},applyMatrix4:function applyMatrix4(e){var t=this.x,i=this.y,n=this.z,r=e.elements,o=1/(r[3]*t+r[7]*i+r[11]*n+r[15]);return this.x=(r[0]*t+r[4]*i+r[8]*n+r[12])*o,this.y=(r[1]*t+r[5]*i+r[9]*n+r[13])*o,this.z=(r[2]*t+r[6]*i+r[10]*n+r[14])*o,this},applyQuaternion:function applyQuaternion(e){var t=this.x,i=this.y,n=this.z,r=e.x,o=e.y,a=e.z,s=e.w,l=s*t+o*n-a*i,c=s*i+a*t-r*n,h=s*n+r*i-o*t,u=-r*t-o*i-a*n;return this.x=l*s+u*-r+c*-a-h*-o,this.y=c*s+u*-o+h*-r-l*-a,this.z=h*s+u*-a+l*-o-c*-r,this},project:function project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)},unproject:function(){var e=new r.a;return function(t){return this.applyMatrix4(e.getInverse(t.projectionMatrix)).applyMatrix4(t.matrixWorld)}}(),transformDirection:function transformDirection(e){var t=this.x,i=this.y,n=this.z,r=e.elements;return this.x=r[0]*t+r[4]*i+r[8]*n,this.y=r[1]*t+r[5]*i+r[9]*n,this.z=r[2]*t+r[6]*i+r[10]*n,this.normalize()},divide:function divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this},divideScalar:function divideScalar(e){return this.multiplyScalar(1/e)},min:function min(e){return this.x=_Mathmin(this.x,e.x),this.y=_Mathmin(this.y,e.y),this.z=_Mathmin(this.z,e.z),this},max:function max(e){return this.x=_Mathmax(this.x,e.x),this.y=_Mathmax(this.y,e.y),this.z=_Mathmax(this.z,e.z),this},clamp:function clamp(e,t){return this.x=_Mathmax(e.x,_Mathmin(t.x,this.x)),this.y=_Mathmax(e.y,_Mathmin(t.y,this.y)),this.z=_Mathmax(e.z,_Mathmin(t.z,this.z)),this},clampScalar:function(){var e=new a,t=new a;return function(i,n){return e.set(i,i,i),t.set(n,n,n),this.clamp(e,t)}}(),clampLength:function clampLength(e,t){var i=this.length();return this.divideScalar(i||1).multiplyScalar(_Mathmax(e,_Mathmin(t,i)))},floor:function floor(){return this.x=_Mathfloor(this.x),this.y=_Mathfloor(this.y),this.z=_Mathfloor(this.z),this},ceil:function ceil(){return this.x=_Mathceil(this.x),this.y=_Mathceil(this.y),this.z=_Mathceil(this.z),this},round:function round(){return this.x=_Mathround(this.x),this.y=_Mathround(this.y),this.z=_Mathround(this.z),this},roundToZero:function roundToZero(){return this.x=0>this.x?_Mathceil(this.x):_Mathfloor(this.x),this.y=0>this.y?_Mathceil(this.y):_Mathfloor(this.y),this.z=0>this.z?_Mathceil(this.z):_Mathfloor(this.z),this},negate:function negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function dot(e){return this.x*e.x+this.y*e.y+this.z*e.z},lengthSq:function lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function length(){return _Mathsqrt(this.x*this.x+this.y*this.y+this.z*this.z)},manhattanLength:function manhattanLength(){return _Mathabs(this.x)+_Mathabs(this.y)+_Mathabs(this.z)},normalize:function normalize(){return this.divideScalar(this.length()||1)},setLength:function setLength(e){return this.normalize().multiplyScalar(e)},lerp:function lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this},lerpVectors:function lerpVectors(e,t,i){return this.subVectors(t,e).multiplyScalar(i).add(e)},cross:function cross(e,t){return void 0!==t?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,t)):this.crossVectors(this,e)},crossVectors:function crossVectors(e,t){var i=e.x,n=e.y,r=e.z,o=t.x,a=t.y,s=t.z;return this.x=n*s-r*a,this.y=r*o-i*s,this.z=i*a-n*o,this},projectOnVector:function projectOnVector(e){var t=e.dot(this)/e.lengthSq();return this.copy(e).multiplyScalar(t)},projectOnPlane:function(){var e=new a;return function(t){return e.copy(this).projectOnVector(t),this.sub(e)}}(),reflect:function(){var e=new a;return function(t){return this.sub(e.copy(t).multiplyScalar(2*this.dot(t)))}}(),angleTo:function angleTo(e){var t=this.dot(e)/_Mathsqrt(this.lengthSq()*e.lengthSq());return _Mathacos(n.a.clamp(t,-1,1))},distanceTo:function distanceTo(e){return _Mathsqrt(this.distanceToSquared(e))},distanceToSquared:function distanceToSquared(e){var t=this.x-e.x,i=this.y-e.y,n=this.z-e.z;return t*t+i*i+n*n},manhattanDistanceTo:function manhattanDistanceTo(e){return _Mathabs(this.x-e.x)+_Mathabs(this.y-e.y)+_Mathabs(this.z-e.z)},setFromSpherical:function setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)},setFromSphericalCoords:function setFromSphericalCoords(e,t,i){var n=_Mathsin(t)*e;return this.x=n*_Mathsin(i),this.y=_Mathcos(t)*e,this.z=n*_Mathcos(i),this},setFromCylindrical:function setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)},setFromCylindricalCoords:function setFromCylindricalCoords(e,t,i){return this.x=e*_Mathsin(t),this.y=i,this.z=e*_Mathcos(t),this},setFromMatrixPosition:function setFromMatrixPosition(e){var t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this},setFromMatrixScale:function setFromMatrixScale(e){var t=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),n=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=i,this.z=n,this},setFromMatrixColumn:function setFromMatrixColumn(e,t){return this.fromArray(e.elements,4*t)},equals:function equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z},fromArray:function fromArray(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this},toArray:function toArray(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e},fromBufferAttribute:function fromBufferAttribute(e,t,i){return void 0!==i&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}})},function(e,t,i){"use strict";var n=i(5),r=i(24),o=i(101),a=i(103),s=i(4),l=i(0),c="function"==typeof Symbol&&"symbol"==babelHelpers.typeof(Symbol.iterator)?function(e){return babelHelpers.typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":babelHelpers.typeof(e)},h=function(){function e(){!function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.bbox=function(e,t){return n.a.vector3(e)&&n.a.vector3(t)?0<=t.x&&0<=t.y&&0<=t.z?{min:e.clone().sub(t),max:e.clone().add(t)}:(window.console.log("halfDimensions must be >= 0."),window.console.log(t),!1):(window.console.log("Invalid center or plane halfDimensions."),!1)},e.minMax=function(){for(var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=[65535,-32768],i=e.length,n=0,r;n<i;n++){r=e[n];t[0]=_Mathmin(t[0],r),t[1]=_Mathmax(t[1],r)}return t},e.isElement=function(e){try{return babelHelpers.instanceof(e,HTMLElement)}catch(t){return"object"===(void 0===e?"undefined":c(e))&&1===e.nodeType&&"object"===c(e.style)&&"object"===c(e.ownerDocument)}},e.isString=function(e){return"string"==typeof e||babelHelpers.instanceof(e,String)},e.parseUrl=function(e){var t=new URL(e,"http://fix.me"),i={filename:t.searchParams.get("filename"),extension:"",pathname:t.pathname,query:t.search};i.filename||(i.filename=i.pathname.split("/").pop());var n=i.filename.split(".");i.extension=1<n.length?n.pop():"dicom";return(!isNaN(i.extension)||-1!==["asp","aspx","go","gs","hs","jsp","js","php","pl","py","rb","htm","html"].indexOf(i.extension)||i.query&&i.query.includes("contentType=application%2Fdicom"))&&(i.extension="dicom"),i},e.ijk2LPS=function(e,t,i,n,r){var o=5<arguments.length&&void 0!==arguments[5]?arguments[5]:new s.a,a=new s.a;return a.set(e.x*n.y,t.x*n.x,i.x*n.z,r.x,e.y*n.y,t.y*n.x,i.y*n.z,r.y,e.z*n.y,t.z*n.x,i.z*n.z,r.z,0,0,0,1),a.premultiply(o),a},e.aabb2LPS=function(e,t,i,n){var r=new s.a;return r.set(e.x,t.x,i.x,n.x,e.y,t.y,i.y,n.y,e.z,t.z,i.z,n.z,0,0,0,1),r},e.worldToData=function(e,t){var i=new l.a().copy(t).applyMatrix4(e);return i.addScalar(.5).floor(),i},e.value=function(e,t){window.console.warn("value is deprecated, please use getPixelData instead"),this.getPixelData(e,t)},e.getPixelData=function(e,t){return 0<=t.z&&t.z<e._frame.length?e._frame[t.z].getPixelData(t.x,t.y):null},e.setPixelData=function(e,t,i){if(!(0<=t.z&&t.z<e._frame.length))return null;e._frame[t.z].setPixelData(t.x,t.y,i)},e.rescaleSlopeIntercept=function(e,t,i){return e*t+i},e.centerOfMass=function(e){for(var t=new l.a(0,0,0),i=0;i<e.length;i++){t.x+=e[i].x,t.y+=e[i].y,t.z+=e[i].z}return t.divideScalar(e.length),t},e.orderIntersections=function(e,t){for(var i=this.centerOfMass(e),n=new l.a(e[0].x-i.x,e[0].y-i.y,e[0].z-i.z).normalize(),r=new l.a(0,0,0).crossVectors(n,t).normalize(),o=[],a=0,s;a<e.length;a++){s=new l.a(e[a].x,e[a].y,e[a].z);s.direction=new l.a(e[a].x-i.x,e[a].y-i.y,e[a].z-i.z).normalize();var c=n.dot(s.direction),h=r.dot(s.direction);s.xy={x:c,y:h};var u=_Mathatan(h,c)*(180/_MathPI);s.angle=u,o.push(s)}o.sort(function(e,t){return e.angle-t.angle});for(var f=[o[0]],d=1;d<o.length;d++){1e-4<_Mathabs(o[d-1].angle-o[d].angle)&&f.push(o[d])}return f},e.getRoI=function(t,i,n){t.geometry.computeBoundingBox();var a=new r.a().setFromObject(t),s=a.min.clone().project(i),l=a.max.clone().project(i),c=i.controls.domElement.offsetWidth,h=i.controls.domElement.offsetHeight,u=new o.a,f=[];s.x=_Mathround((s.x+1)*c/2),s.y=_Mathround((1-s.y)*h/2),l.x=_Mathround((l.x+1)*c/2),l.y=_Mathround((1-l.y)*h/2);var d=[_Mathmin(s.x,l.x),_Mathmax(s.x,l.x)];s.x=d[0],l.x=d[1];var p=[_Mathmin(s.y,l.y),_Mathmax(s.y,l.y)];s.y=p[0],l.y=p[1];for(var _=[],m=null,b=s.x;b<=l.x;b++){for(var y=s.y;y<=l.y;y++){u.setFromCamera({x:2*(b/c)-1,y:2*(-y/h)+1},i),0!==(_=u.intersectObject(t)).length&&null!==(m=e.getPixelData(n,e.worldToData(n.lps2IJK,_[0].point)))&&1===n.numberOfChannels&&f.push(e.rescaleSlopeIntercept(m,n.rescaleSlope,n.rescaleIntercept))}}if(0===f.length)return null;var g=f.reduce(function(e,t){return e+t})/f.length;return{min:f.reduce(function(e,t){return e<t?e:t}),max:f.reduce(function(e,t){return e>t?e:t}),mean:g,sd:_Mathsqrt(f.reduce(function(e,t){return e+_Mathpow(t-g,2)},0)/f.length)}},e.getGeometryArea=function(e){if(1>e.faces.length)return 0;var t=0,i=e.vertices;return e.faces.forEach(function(e){t+=new a.a(i[e.a],i[e.b],i[e.c]).getArea()}),t},e}();t.a=h},function(e,t,i){"use strict";i.d(t,"b",function(){return a});var n=i(3),r=i(7),o=function(){function e(e,t){for(var i=0,n;i<t.length;i++){n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function a(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:window.THREE;return void 0===e||void 0===e.Object3D?null:function(t){function i(n,r){var o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};!function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,i);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=babelHelpers.typeof(t)&&"function"!=typeof t?e:t}(this,t.call(this,n,r,o));return a._widgetType="Handle",!0===o.hideHandleMesh&&(a.visible=!1),a._plane={position:new e.Vector3,direction:new e.Vector3},a._offset=new e.Vector3,a._raycaster=new e.Raycaster,a._active=!1,a._hovered=!1,a._tracking=!1,a._mouse=new e.Vector2,a._initialized=!1,a._material=null,a._geometry=null,a._mesh=null,a._meshHovered=!1,a._dom=null,a._domHovered=!1,a._screenPosition=a.worldToScreen(a._worldPosition),a.create(),a.initOffsets(),a.onResize=a.onResize.bind(a),a.onMove=a.onMove.bind(a),a.onHover=a.onHover.bind(a),a.addEventListeners(),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+babelHelpers.typeof(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,t),i.prototype.addEventListeners=function(){window.addEventListener("resize",this.onResize),this._dom.addEventListener("mouseenter",this.onHover),this._dom.addEventListener("mouseleave",this.onHover),this._container.addEventListener("wheel",this.onMove)},i.prototype.removeEventListeners=function(){window.removeEventListener("resize",this.onResize),this._dom.removeEventListener("mouseenter",this.onHover),this._dom.removeEventListener("mouseleave",this.onHover),this._container.removeEventListener("wheel",this.onMove)},i.prototype.onResize=function(){this.initOffsets()},i.prototype.onHover=function(e){e&&this.hoverDom(e),this.hoverMesh(),this._hovered=this._meshHovered||this._domHovered,this._container.style.cursor=this._hovered?"pointer":"default"},i.prototype.hoverMesh=function(){var e=this._raycaster.intersectObject(this._mesh);this._meshHovered=0<e.length},i.prototype.hoverDom=function(e){this._domHovered="mouseenter"===e.type},i.prototype.onStart=function(e){var t=this.getMouseOffsets(e,this._container);if(this._mouse.set(t.x,t.y),this._raycaster.setFromCamera(this._mouse,this._camera),this._raycaster.ray.position=this._raycaster.ray.origin,this._hovered){if(this._active=!0,this._controls.enabled=!1,this._targetMesh){var i=this._raycaster.intersectObject(this._targetMesh);0<i.length&&this._offset.copy(i[0].point).sub(this._worldPosition)}else{this._plane.position.copy(this._worldPosition),this._plane.direction.copy(this._camera.getWorldDirection());var n=r.a.rayPlane(this._raycaster.ray,this._plane);null!==n&&this._offset.copy(n).sub(this._plane.position)}this.update()}},i.prototype.onMove=function(e,t){var i=this.getMouseOffsets(e,this._container);if(this._mouse.set(i.x,i.y),this._raycaster.setFromCamera(this._mouse,this._camera),this._raycaster.ray.position=this._raycaster.ray.origin,this._active||t){if(this._dragged=!0,null!==this._targetMesh){var n=this._raycaster.intersectObject(this._targetMesh);0<n.length&&this._worldPosition.copy(n[0].point.sub(this._offset))}else{0===this._plane.direction.length()&&(this._plane.position.copy(this._worldPosition),this._plane.direction.copy(this._camera.getWorldDirection()));var o=r.a.rayPlane(this._raycaster.ray,this._plane);null!==o&&this._worldPosition.copy(o.sub(this._offset))}}else this.onHover(null);this.update()},i.prototype.onEnd=function(){!0!==this._tracking&&(!this._dragged&&this._active&&this._initialized&&(this._selected=!this._selected),this._initialized=!0,this._active=!1,this._dragged=!1,this._controls.enabled=!0,this.update())},i.prototype.create=function(){this.createMesh(),this.createDOM()},i.prototype.createMesh=function(){this._geometry=new e.SphereGeometry(1,16,16),this._material=new e.MeshBasicMaterial({wireframe:!0,wireframeLinewidth:2}),this.updateMeshColor(),this._mesh=new e.Mesh(this._geometry,this._material),this._mesh.position.copy(this._worldPosition),this._mesh.visible=!0,this.add(this._mesh)},i.prototype.createDOM=function(){this._dom=document.createElement("div"),this._dom.className="widgets-handle",this._dom.style.transform="translate3D(\n      "+this._screenPosition.x+"px,\n      "+(this._screenPosition.y-this._container.offsetHeight)+"px, 0)",this.updateDOMColor(),this._container.appendChild(this._dom)},i.prototype.update=function(){this.updateColor(),this._screenPosition=this.worldToScreen(this._worldPosition),this.updateMeshColor(),this.updateMeshPosition(),this.updateDOMColor(),this.updateDOMPosition()},i.prototype.updateMeshColor=function(){this._material&&this._material.color.set(this._color)},i.prototype.updateMeshPosition=function(){this._mesh&&this._mesh.position.copy(this._worldPosition)},i.prototype.updateDOMPosition=function(){this._dom&&(this._dom.style.transform="translate3D("+this._screenPosition.x+"px,\n        "+(this._screenPosition.y-this._container.offsetHeight)+"px, 0)")},i.prototype.updateDOMColor=function(){this._dom.style.borderColor=this._color},i.prototype.showMesh=function(){!0!==this._params.hideMesh&&!0!==this._params.hideHandleMesh&&(this.visible=!0)},i.prototype.free=function(){this.removeEventListeners(),this._container.removeChild(this._dom),this.remove(this._mesh),this._mesh.geometry.dispose(),this._mesh.geometry=null,this._mesh.material.dispose(),this._mesh.material=null,this._mesh=null,this._geometry.dispose(),this._geometry=null,this._material.vertexShader=null,this._material.fragmentShader=null,this._material.uniforms=null,this._material.dispose(),this._material=null,t.prototype.free.call(this)},i.prototype.hideDOM=function(){this._dom.style.display="none"},i.prototype.showDOM=function(){this._dom.style.display=""},o(i,[{key:"screenPosition",get:function get(){return this._screenPosition},set:function set(e){this._screenPosition=e}},{key:"active",get:function get(){return this._active},set:function set(e){this._active=e,this._controls.enabled=!this._active,this.update()}},{key:"tracking",get:function get(){return this._tracking},set:function set(e){this._tracking=e,this.update()}}]),i}(Object(n.a)(e))};t.a=a()},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(43),r=i(1),o=function(){function e(e,t){for(var i=0,n;i<t.length;i++){n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function a(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:window.THREE;return void 0===e||void 0===e.Object3D?null:function(t){function i(r,o){var a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};!function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,i);var s=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=babelHelpers.typeof(t)&&"function"!=typeof t?e:t}(this,t.call(this));if(s._widgetType="Base",s._params=a,!0===a.hideMesh&&(s.visible=!1),null===document.getElementById("ami-widgets")){var l=document.createElement("style");l.id="ami-widgets",l.innerHTML=n.a.code,document.head.appendChild(l)}return s._enabled=!0,s._selected=!1,s._hovered=!0,s._active=!0,s._colors={default:"#00B0FF",active:"#FFEB3B",hover:"#F50057",select:"#76FF03",text:"#FFF",error:"#F77"},s._color=s._colors.default,s._dragged=!1,s._displayed=!0,s._targetMesh=r,s._controls=o,s._camera=o.object,s._container=o.domElement,s._worldPosition=new e.Vector3,a.worldPosition?s._worldPosition.copy(a.worldPosition):null!==s._targetMesh&&s._worldPosition.copy(s._targetMesh.position),s}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+babelHelpers.typeof(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,t),i.prototype.initOffsets=function(){var e=this._container.getBoundingClientRect(),t=document.body,i=document.documentElement,n=window.pageYOffset||i.scrollTop||t.scrollTop,r=window.pageXOffset||i.scrollLeft||t.scrollLeft,o=i.clientTop||t.clientTop||0,a=i.clientLeft||t.clientLeft||0;this._offsets={top:_Mathround(e.top+n-o),left:_Mathround(e.left+r-a)}},i.prototype.getMouseOffsets=function(e,t){return{x:2*((e.clientX-this._offsets.left)/t.offsetWidth)-1,y:2*(-(e.clientY-this._offsets.top)/t.offsetHeight)+1,screenX:e.clientX-this._offsets.left,screenY:e.clientY-this._offsets.top}},i.prototype.getArea=function(e){for(var t=0,i=e.length-1,n=0;n<e.length;n++){t+=(e[i].x+e[n].x)*(e[i].y-e[n].y),i=n}return _Mathabs(t/2)},i.prototype.getRegionByXY=function(e,t){var i=null;return e.some(function(e,n){if(t.x>=e.x0&&t.x<=e.x1&&t.y>=e.y0&&t.y<=e.y1)return i=n,!0}),i},i.prototype.getPointInRegion=function(t,i){return t?new e.Vector2((i.x-t.x0-(t.axisX||0))*t.deltaX,(i.y-t.y0-(t.axisY||0))*t.deltaY):null},i.prototype.getUsPoint=function(e,t){return this.getPointInRegion(e[this.getRegionByXY(e,t)],t)},i.prototype.getUsDistance=function(e,t){var i=this._params.ultrasoundRegions||[];if(1>i.length)return null;var n=this.getRegionByXY(i,e),r=this.getRegionByXY(i,t);return null===n||null===r||n!==r||"cm"!==i[n].unitsX||"cm"!==i[n].unitsY?null:this.getPointInRegion(i[n],e).distanceTo(this.getPointInRegion(i[n],t))},i.prototype.getDistanceData=function(e,t,i){var n=null,o=null;if(i)n=e.distanceTo(t)*i;else if(this._params.ultrasoundRegions&&this._params.lps2IJK){var a=this.getUsDistance(r.a.worldToData(this._params.lps2IJK,e),r.a.worldToData(this._params.lps2IJK,t));null!==a?(n=10*a,o="mm"):(n=e.distanceTo(t),o=this._params.pixelSpacing?"mm":"units")}else n=e.distanceTo(t);return{distance:n,units:o}},i.prototype.getLineData=function(t,i){var n=i.clone().sub(t),r=i.clone().add(t).multiplyScalar(.5),o=n.length(),a=n.angleTo(new e.Vector3(1,0,0));return{line:n,length:o,transformX:r.x-o/2,transformY:r.y-this._container.offsetHeight,transformAngle:t.y<i.y?a:-a,center:r}},i.prototype.getRectData=function(t,i){var n=i.clone().sub(t),r=n.clone().projectOnVector(new e.Vector3(0,1,0)),o=t.clone().min(i);return{width:n.clone().projectOnVector(new e.Vector3(1,0,0)).length(),height:r.length(),transformX:o.x,transformY:o.y-this._container.offsetHeight,paddingVector:r.clone().normalize()}},i.prototype.adjustLabelTransform=function(t,i,n){var r=_Mathround(i.x-(n?0:t.offsetWidth/2)),o=_Mathround(i.y-(n?0:t.offsetHeight/2))-this._container.offsetHeight;return 0>r?r=r>-t.offsetWidth?0:r+t.offsetWidth:r>this._container.offsetWidth-t.offsetWidth&&(r=r<this._container.offsetWidth?this._container.offsetWidth-t.offsetWidth:r-t.offsetWidth),o<-this._container.offsetHeight?o=o>-this._container.offsetHeight-t.offsetHeight?-this._container.offsetHeight:o+t.offsetHeight:o>-t.offsetHeight&&(o=0>o?-t.offsetHeight:o-t.offsetHeight),new e.Vector2(r,o)},i.prototype.worldToScreen=function(e){var t=e.clone();return t.project(this._camera),t.x=_Mathround((t.x+1)*this._container.offsetWidth/2),t.y=_Mathround((1-t.y)*this._container.offsetHeight/2),t.z=0,t},i.prototype.update=function(){window.console.log("update() should be overloaded!")},i.prototype.updateColor=function(){this._active?this._color=this._colors.active:this._hovered?this._color=this._colors.hover:this._selected?this._color=this._colors.select:this._color=this._colors.default},i.prototype.setDefaultColor=function(e){this._colors.default=e,this._handles&&this._handles.forEach(function(t){return t._colors.default=e}),this.update()},i.prototype.show=function(){this.showDOM(),this.showMesh(),this.update(),this._displayed=!0},i.prototype.hide=function(){this.hideDOM(),this.hideMesh(),this._displayed=!1},i.prototype.hideDOM=function(){window.console.log("hideDOM() should be overloaded!")},i.prototype.showDOM=function(){window.console.log("showDOM() should be overloaded!")},i.prototype.hideMesh=function(){this.visible=!1},i.prototype.showMesh=function(){!0!==this._params.hideMesh&&(this.visible=!0)},i.prototype.free=function(){this._camera=null,this._container=null,this._controls=null,this._params=null,this._targetMesh=null},o(i,[{key:"widgetType",get:function get(){return this._widgetType}},{key:"targetMesh",get:function get(){return this._targetMesh},set:function set(e){this._targetMesh=e,this.update()}},{key:"worldPosition",get:function get(){return this._worldPosition},set:function set(e){this._worldPosition.copy(e),this.update()}},{key:"enabled",get:function get(){return this._enabled},set:function set(e){this._enabled=e,this.update()}},{key:"selected",get:function get(){return this._selected},set:function set(e){this._selected=e,this.update()}},{key:"hovered",get:function get(){return this._hovered},set:function set(e){this._hovered=e,this.update()}},{key:"dragged",get:function get(){return this._dragged},set:function set(e){this._dragged=e,this.update()}},{key:"displayed",get:function get(){return this._displayed},set:function set(e){this._displayed=e,this.update()}},{key:"active",get:function get(){return this._active},set:function set(e){this._active=e,this.update()}},{key:"color",get:function get(){return this._color},set:function set(e){this._color=e,this.update()}}]),i}(e.Object3D)};a()},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(0);function r(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],0<arguments.length&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}Object.assign(r.prototype,{isMatrix4:!0,set:function set(e,t,i,n,r,o,a,s,l,c,h,u,f,d,p,_){var m=this.elements;return m[0]=e,m[4]=t,m[8]=i,m[12]=n,m[1]=r,m[5]=o,m[9]=a,m[13]=s,m[2]=l,m[6]=c,m[10]=h,m[14]=u,m[3]=f,m[7]=d,m[11]=p,m[15]=_,this},identity:function identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function clone(){return new r().fromArray(this.elements)},copy:function copy(e){var t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15],this},copyPosition:function copyPosition(e){var t=this.elements,i=e.elements;return t[12]=i[12],t[13]=i[13],t[14]=i[14],this},extractBasis:function extractBasis(e,t,i){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this},makeBasis:function makeBasis(e,t,i){return this.set(e.x,t.x,i.x,0,e.y,t.y,i.y,0,e.z,t.z,i.z,0,0,0,0,1),this},extractRotation:function(){var e=new n.a;return function(t){var i=this.elements,n=t.elements,r=1/e.setFromMatrixColumn(t,0).length(),o=1/e.setFromMatrixColumn(t,1).length(),a=1/e.setFromMatrixColumn(t,2).length();return i[0]=n[0]*r,i[1]=n[1]*r,i[2]=n[2]*r,i[3]=0,i[4]=n[4]*o,i[5]=n[5]*o,i[6]=n[6]*o,i[7]=0,i[8]=n[8]*a,i[9]=n[9]*a,i[10]=n[10]*a,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,this}}(),makeRotationFromEuler:function makeRotationFromEuler(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var t=this.elements,i=e.x,n=e.y,r=e.z,o=_Mathcos(i),a=_Mathsin(i),s=_Mathcos(n),l=_Mathsin(n),c=_Mathcos(r),h=_Mathsin(r);if("XYZ"===e.order){var u=o*c,f=o*h,d=a*c,p=a*h;t[0]=s*c,t[4]=-s*h,t[8]=l,t[1]=f+d*l,t[5]=u-p*l,t[9]=-a*s,t[2]=p-u*l,t[6]=d+f*l,t[10]=o*s}else if("YXZ"===e.order){var _=s*c,m=s*h,b=l*c,y=l*h;t[0]=_+y*a,t[4]=b*a-m,t[8]=o*l,t[1]=o*h,t[5]=o*c,t[9]=-a,t[2]=m*a-b,t[6]=y+_*a,t[10]=o*s}else if("ZXY"===e.order){_=s*c,m=s*h,b=l*c,y=l*h;t[0]=_-y*a,t[4]=-o*h,t[8]=b+m*a,t[1]=m+b*a,t[5]=o*c,t[9]=y-_*a,t[2]=-o*l,t[6]=a,t[10]=o*s}else if("ZYX"===e.order){u=o*c,f=o*h,d=a*c,p=a*h;t[0]=s*c,t[4]=d*l-f,t[8]=u*l+p,t[1]=s*h,t[5]=p*l+u,t[9]=f*l-d,t[2]=-l,t[6]=a*s,t[10]=o*s}else if("YZX"===e.order){var g=o*s,v=o*l,A=a*s,w=a*l;t[0]=s*c,t[4]=w-g*h,t[8]=A*h+v,t[1]=h,t[5]=o*c,t[9]=-a*c,t[2]=-l*c,t[6]=v*h+A,t[10]=g-w*h}else if("XZY"===e.order){g=o*s,v=o*l,A=a*s,w=a*l;t[0]=s*c,t[4]=-h,t[8]=l*c,t[1]=g*h+w,t[5]=o*c,t[9]=v*h-A,t[2]=A*h-v,t[6]=a*c,t[10]=w*h+g}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this},makeRotationFromQuaternion:function(){var e=new n.a(0,0,0),t=new n.a(1,1,1);return function(i){return this.compose(e,i,t)}}(),lookAt:function(){var e=new n.a,t=new n.a,i=new n.a;return function(n,r,o){var a=this.elements;return i.subVectors(n,r),0===i.lengthSq()&&(i.z=1),i.normalize(),e.crossVectors(o,i),0===e.lengthSq()&&(1===_Mathabs(o.z)?i.x+=1e-4:i.z+=1e-4,i.normalize(),e.crossVectors(o,i)),e.normalize(),t.crossVectors(i,e),a[0]=e.x,a[4]=t.x,a[8]=i.x,a[1]=e.y,a[5]=t.y,a[9]=i.y,a[2]=e.z,a[6]=t.z,a[10]=i.z,this}}(),multiply:function multiply(e,t){return void 0!==t?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,t)):this.multiplyMatrices(this,e)},premultiply:function premultiply(e){return this.multiplyMatrices(e,this)},multiplyMatrices:function multiplyMatrices(e,t){var i=e.elements,n=t.elements,r=this.elements,o=i[0],a=i[4],s=i[8],l=i[12],c=i[1],h=i[5],u=i[9],f=i[13],d=i[2],p=i[6],_=i[10],m=i[14],b=i[3],y=i[7],g=i[11],v=i[15],A=n[0],w=n[4],x=n[8],k=n[12],I=n[1],S=n[5],E=n[9],C=n[13],B=n[2],M=n[6],P=n[10],T=n[14],D=n[3],R=n[7],G=n[11],O=n[15];return r[0]=o*A+a*I+s*B+l*D,r[4]=o*w+a*S+s*M+l*R,r[8]=o*x+a*E+s*P+l*G,r[12]=o*k+a*C+s*T+l*O,r[1]=c*A+h*I+u*B+f*D,r[5]=c*w+h*S+u*M+f*R,r[9]=c*x+h*E+u*P+f*G,r[13]=c*k+h*C+u*T+f*O,r[2]=d*A+p*I+_*B+m*D,r[6]=d*w+p*S+_*M+m*R,r[10]=d*x+p*E+_*P+m*G,r[14]=d*k+p*C+_*T+m*O,r[3]=b*A+y*I+g*B+v*D,r[7]=b*w+y*S+g*M+v*R,r[11]=b*x+y*E+g*P+v*G,r[15]=b*k+y*C+g*T+v*O,this},multiplyScalar:function multiplyScalar(e){var t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this},applyToBufferAttribute:function(){var e=new n.a;return function(t){for(var i=0,n=t.count;i<n;i++){e.x=t.getX(i),e.y=t.getY(i),e.z=t.getZ(i),e.applyMatrix4(this),t.setXYZ(i,e.x,e.y,e.z)}return t}}(),determinant:function determinant(){var e=this.elements,t=e[0],i=e[4],n=e[8],r=e[12],o=e[1],a=e[5],s=e[9],l=e[13],c=e[2],h=e[6],u=e[10],f=e[14];return e[3]*(+r*s*h-n*l*h-r*a*u+i*l*u+n*a*f-i*s*f)+e[7]*(+t*s*f-t*l*u+r*o*u-n*o*f+n*l*c-r*s*c)+e[11]*(+t*l*h-t*a*f-r*o*h+i*o*f+r*a*c-i*l*c)+e[15]*(-n*a*c-t*s*h+t*a*u+n*o*h-i*o*u+i*s*c)},transpose:function transpose(){var e,t=this.elements;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this},setPosition:function setPosition(e){var t=this.elements;return t[12]=e.x,t[13]=e.y,t[14]=e.z,this},getInverse:function getInverse(e,t){var i=this.elements,n=e.elements,r=n[0],o=n[1],a=n[2],s=n[3],l=n[4],c=n[5],h=n[6],u=n[7],f=n[8],d=n[9],p=n[10],_=n[11],m=n[12],b=n[13],y=n[14],g=n[15],v=d*y*u-b*p*u+b*h*_-c*y*_-d*h*g+c*p*g,A=m*p*u-f*y*u-m*h*_+l*y*_+f*h*g-l*p*g,w=f*b*u-m*d*u+m*c*_-l*b*_-f*c*g+l*d*g,x=m*d*h-f*b*h-m*c*p+l*b*p+f*c*y-l*d*y,k=r*v+o*A+a*w+s*x;if(0===k){var I="THREE.Matrix4: .getInverse() can't invert matrix, determinant is 0";if(!0===t)throw new Error(I);return console.warn(I),this.identity()}var S=1/k;return i[0]=v*S,i[1]=(b*p*s-d*y*s-b*a*_+o*y*_+d*a*g-o*p*g)*S,i[2]=(c*y*s-b*h*s+b*a*u-o*y*u-c*a*g+o*h*g)*S,i[3]=(d*h*s-c*p*s-d*a*u+o*p*u+c*a*_-o*h*_)*S,i[4]=A*S,i[5]=(f*y*s-m*p*s+m*a*_-r*y*_-f*a*g+r*p*g)*S,i[6]=(m*h*s-l*y*s-m*a*u+r*y*u+l*a*g-r*h*g)*S,i[7]=(l*p*s-f*h*s+f*a*u-r*p*u-l*a*_+r*h*_)*S,i[8]=w*S,i[9]=(m*d*s-f*b*s-m*o*_+r*b*_+f*o*g-r*d*g)*S,i[10]=(l*b*s-m*c*s+m*o*u-r*b*u-l*o*g+r*c*g)*S,i[11]=(f*c*s-l*d*s-f*o*u+r*d*u+l*o*_-r*c*_)*S,i[12]=x*S,i[13]=(f*b*a-m*d*a+m*o*p-r*b*p-f*o*y+r*d*y)*S,i[14]=(m*c*a-l*b*a-m*o*h+r*b*h+l*o*y-r*c*y)*S,i[15]=(l*d*a-f*c*a+f*o*h-r*d*h-l*o*p+r*c*p)*S,this},scale:function scale(e){var t=this.elements,i=e.x,n=e.y,r=e.z;return t[0]*=i,t[4]*=n,t[8]*=r,t[1]*=i,t[5]*=n,t[9]*=r,t[2]*=i,t[6]*=n,t[10]*=r,t[3]*=i,t[7]*=n,t[11]*=r,this},getMaxScaleOnAxis:function getMaxScaleOnAxis(){var e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],n=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return _Mathsqrt(_Mathmax(t,i,n))},makeTranslation:function makeTranslation(e,t,i){return this.set(1,0,0,e,0,1,0,t,0,0,1,i,0,0,0,1),this},makeRotationX:function makeRotationX(e){var t=_Mathcos(e),i=_Mathsin(e);return this.set(1,0,0,0,0,t,-i,0,0,i,t,0,0,0,0,1),this},makeRotationY:function makeRotationY(e){var t=_Mathcos(e),i=_Mathsin(e);return this.set(t,0,i,0,0,1,0,0,-i,0,t,0,0,0,0,1),this},makeRotationZ:function makeRotationZ(e){var t=_Mathcos(e),i=_Mathsin(e);return this.set(t,-i,0,0,i,t,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function makeRotationAxis(e,t){var i=_Mathcos(t),n=_Mathsin(t),r=1-i,o=e.x,a=e.y,s=e.z,l=r*o,c=r*a;return this.set(l*o+i,l*a-n*s,l*s+n*a,0,l*a+n*s,c*a+i,c*s-n*o,0,l*s-n*a,c*s+n*o,r*s*s+i,0,0,0,0,1),this},makeScale:function makeScale(e,t,i){return this.set(e,0,0,0,0,t,0,0,0,0,i,0,0,0,0,1),this},makeShear:function makeShear(e,t,i){return this.set(1,t,i,0,e,1,i,0,e,t,1,0,0,0,0,1),this},compose:function compose(e,t,i){var n=this.elements,r=t._x,o=t._y,a=t._z,s=t._w,l=r+r,c=o+o,h=a+a,u=r*l,f=r*c,d=r*h,p=o*c,_=o*h,m=a*h,b=s*l,y=s*c,g=s*h,v=i.x,A=i.y,w=i.z;return n[0]=(1-(p+m))*v,n[1]=(f+g)*v,n[2]=(d-y)*v,n[3]=0,n[4]=(f-g)*A,n[5]=(1-(u+m))*A,n[6]=(_+b)*A,n[7]=0,n[8]=(d+y)*w,n[9]=(_-b)*w,n[10]=(1-(u+p))*w,n[11]=0,n[12]=e.x,n[13]=e.y,n[14]=e.z,n[15]=1,this},decompose:function(){var e=new n.a,t=new r;return function(i,n,r){var o=this.elements,a=e.set(o[0],o[1],o[2]).length(),s=e.set(o[4],o[5],o[6]).length(),l=e.set(o[8],o[9],o[10]).length();0>this.determinant()&&(a=-a),i.x=o[12],i.y=o[13],i.z=o[14],t.copy(this);var c=1/a,h=1/s,u=1/l;return t.elements[0]*=c,t.elements[1]*=c,t.elements[2]*=c,t.elements[4]*=h,t.elements[5]*=h,t.elements[6]*=h,t.elements[8]*=u,t.elements[9]*=u,t.elements[10]*=u,n.setFromRotationMatrix(t),r.x=a,r.y=s,r.z=l,this}}(),makePerspective:function makePerspective(e,t,i,n,r,o){void 0===o&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");var a=this.elements,s=2*r/(t-e),l=2*r/(i-n),c=(t+e)/(t-e),h=(i+n)/(i-n),u=-(o+r)/(o-r),f=-2*o*r/(o-r);return a[0]=s,a[4]=0,a[8]=c,a[12]=0,a[1]=0,a[5]=l,a[9]=h,a[13]=0,a[2]=0,a[6]=0,a[10]=u,a[14]=f,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this},makeOrthographic:function makeOrthographic(e,t,i,n,r,o){var a=this.elements,s=1/(t-e),l=1/(i-n),c=1/(o-r),h=(t+e)*s,u=(i+n)*l,f=(o+r)*c;return a[0]=2*s,a[4]=0,a[8]=0,a[12]=-h,a[1]=0,a[5]=2*l,a[9]=0,a[13]=-u,a[2]=0,a[6]=0,a[10]=-2*c,a[14]=-f,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this},equals:function equals(e){for(var t=this.elements,i=e.elements,n=0;16>n;n++){if(t[n]!==i[n])return!1}return!0},fromArray:function fromArray(e,t){void 0===t&&(t=0);for(var i=0;16>i;i++){this.elements[i]=e[i+t]}return this},toArray:function toArray(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);var i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e[t+9]=i[9],e[t+10]=i[10],e[t+11]=i[11],e[t+12]=i[12],e[t+13]=i[13],e[t+14]=i[14],e[t+15]=i[15],e}})},function(e,t,i){"use strict";var n=function(){function e(){!function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.matrix4=function(e){return!(null===e||void 0===e||!e.hasOwnProperty("elements")||16!==e.elements.length||"function"!=typeof e.identity||"function"!=typeof e.copy||"function"!=typeof e.determinant)},e.vector3=function(e){return!(!(null!==e&&void 0!==e&&e.hasOwnProperty("x")&&e.hasOwnProperty("y")&&e.hasOwnProperty("z"))||e.hasOwnProperty("w"))},e.box=function(e){return!!(null!==e&&void 0!==e&&e.hasOwnProperty("center")&&this.vector3(e.center)&&e.hasOwnProperty("halfDimensions")&&this.vector3(e.halfDimensions)&&0<=e.halfDimensions.x&&0<=e.halfDimensions.y&&0<=e.halfDimensions.z)},e.ray=function(e){return!!(null!==e&&void 0!==e&&e.hasOwnProperty("position")&&this.vector3(e.position)&&e.hasOwnProperty("direction")&&this.vector3(e.direction))},e}();t.a=n},function(e,t,i){"use strict";var n=i(8),r=i(105),o=i(104),a=function(e){function t(){!function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=babelHelpers.typeof(t)&&"function"!=typeof t?e:t}(this,e.call(this));return i.name="interpolationIdentity",i._currentVoxel="currentVoxel",i._dataValue="dataValue",i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+babelHelpers.typeof(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.api=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this._base,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this._currentVoxel,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:this._dataValue;return this._base=e,this.compute(t,i)},t.prototype.compute=function(e,t){return this.computeDefinition(),this._base._functions[this._name]=this._definition,this._name+"("+e+", "+t+");"},t.prototype.computeDefinition=function(){this._definition="\nvoid "+this._name+"(in vec3 currentVoxel, out vec4 dataValue){\n  // lower bound\n  vec3 rcurrentVoxel = vec3(floor(currentVoxel.x + 0.5 ), floor(currentVoxel.y + 0.5 ), floor(currentVoxel.z + 0.5 ));\n  ivec3 voxel = ivec3(int(rcurrentVoxel.x), int(rcurrentVoxel.y), int(rcurrentVoxel.z));\n\n  vec4 tmp = vec4(0., 0., 0., 0.);\n  int offset = 0;\n\n  "+o.a.api(this._base,"voxel","tmp","offset")+"\n  "+r.a.api(this._base,"tmp","offset","dataValue")+"\n}\n    "},t}(n.a);t.a=new a},function(e,t,i){"use strict";var n=i(1),r=i(5),o=i(4),a=i(0),s=function(){function e(){!function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.aabbPlane=function(e,t){var i=[];if(!this.validateAabb(e)||!this.validatePlane(t))return window.console.log("Invalid aabb or plane provided."),!1;var r=new o.a;r.getInverse(e.toAABB);var s=t.direction.clone().applyMatrix4(e.toAABB),l=new a.a(0,0,0).applyMatrix4(e.toAABB),c=this.posdir(t.position.clone().applyMatrix4(e.toAABB),new a.a(s.x-l.x,s.y-l.y,s.z-l.z).normalize()),h=n.a.bbox(e.center,e.halfDimensions),u=new a.a(new a.a(1,0,0),new a.a(0,1,0),new a.a(0,0,1)),f=this.posdir(new a.a(e.center.x-e.halfDimensions.x,e.center.y-e.halfDimensions.y,e.center.z-e.halfDimensions.z),u.x);this.rayPlaneInBBox(f,c,h,i),f.direction=u.y,this.rayPlaneInBBox(f,c,h,i),f.direction=u.z,this.rayPlaneInBBox(f,c,h,i);var d=this.posdir(new a.a(e.center.x+e.halfDimensions.x,e.center.y+e.halfDimensions.y,e.center.z+e.halfDimensions.z),u.x);this.rayPlaneInBBox(d,c,h,i),d.direction=u.y,this.rayPlaneInBBox(d,c,h,i),d.direction=u.z,this.rayPlaneInBBox(d,c,h,i);var p=this.posdir(new a.a(e.center.x+e.halfDimensions.x,e.center.y-e.halfDimensions.y,e.center.z-e.halfDimensions.z),u.y);this.rayPlaneInBBox(p,c,h,i),p.direction=u.z,this.rayPlaneInBBox(p,c,h,i);var _=this.posdir(new a.a(e.center.x-e.halfDimensions.x,e.center.y+e.halfDimensions.y,e.center.z-e.halfDimensions.z),u.x);this.rayPlaneInBBox(_,c,h,i),_.direction=u.z,this.rayPlaneInBBox(_,c,h,i);var m=this.posdir(new a.a(e.center.x-e.halfDimensions.x,e.center.y-e.halfDimensions.y,e.center.z+e.halfDimensions.z),u.x);return this.rayPlaneInBBox(m,c,h,i),m.direction=u.y,this.rayPlaneInBBox(m,c,h,i),i.map(function(e){return e.applyMatrix4(r)}),i},e.rayPlane=function(e,t){if(0!==e.direction.dot(t.direction)){var i=(t.direction.x*(t.position.x-e.position.x)+t.direction.y*(t.position.y-e.position.y)+t.direction.z*(t.position.z-e.position.z))/(t.direction.x*e.direction.x+t.direction.y*e.direction.y+t.direction.z*e.direction.z);return new a.a(e.position.x+i*e.direction.x,e.position.y+i*e.direction.y,e.position.z+i*e.direction.z)}return null},e.rayBox=function(e,t){var i=[],r=n.a.bbox(t.center,t.halfDimensions),o=this.posdir(new a.a(r.min.x,t.center.y,t.center.z),new a.a(-1,0,0));return this.rayPlaneInBBox(e,o,r,i),o=this.posdir(new a.a(r.max.x,t.center.y,t.center.z),new a.a(1,0,0)),this.rayPlaneInBBox(e,o,r,i),o=this.posdir(new a.a(t.center.x,r.min.y,t.center.z),new a.a(0,-1,0)),this.rayPlaneInBBox(e,o,r,i),o=this.posdir(new a.a(t.center.x,r.max.y,t.center.z),new a.a(0,1,0)),this.rayPlaneInBBox(e,o,r,i),o=this.posdir(new a.a(t.center.x,t.center.y,r.min.z),new a.a(0,0,-1)),this.rayPlaneInBBox(e,o,r,i),o=this.posdir(new a.a(t.center.x,t.center.y,r.max.z),new a.a(0,0,1)),this.rayPlaneInBBox(e,o,r,i),i},e.rayPlaneInBBox=function(e,t,i,n){var r=this.rayPlane(e,t);r&&this.inBBox(r,i)&&(n.find(this.findIntersection(r))||n.push(r))},e.findIntersection=function(e){return function(t,i,n){return e.x===t.x&&e.y===t.y&&e.z===t.z}},e.inBBox=function(e,t){return!!(e&&e.x>=t.min.x-1e-4&&e.y>=t.min.y-1e-4&&e.z>=t.min.z-1e-4&&e.x<=t.max.x+1e-4&&e.y<=t.max.y+1e-4&&e.z<=t.max.z+1e-4)},e.posdir=function(e,t){return{position:e,direction:t}},e.validatePlane=function(e){return null===e?(window.console.log("Invalid plane."),window.console.log(e),!1):r.a.vector3(e.position)?!!r.a.vector3(e.direction)||(window.console.log("Invalid plane.direction."),window.console.log(e.direction),!1):(window.console.log("Invalid plane.position."),window.console.log(e.position),!1)},e.validateAabb=function(e){return null===e?(window.console.log("Invalid aabb."),window.console.log(e),!1):r.a.matrix4(e.toAABB)?r.a.vector3(e.center)?!!(r.a.vector3(e.halfDimensions)&&0<=e.halfDimensions.x&&0<=e.halfDimensions.y&&0<=e.halfDimensions.z)||(window.console.log("Invalid aabb.halfDimensions."),window.console.log(e.halfDimensions),!1):(window.console.log("Invalid aabb.center."),window.console.log(e.center),!1):(window.console.log("Invalid aabb.toAABB: "),window.console.log(e.toAABB),!1)},e}();t.a=s},function(e,t,i){"use strict";var n=function(){function e(e,t){for(var i=0,n;i<t.length;i++){n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=function(){function e(){!function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name="shadersBase",this._base={_functions:{},_uniforms:{}},this._definition=""}return n(e,[{key:"name",get:function get(){return this._name},set:function set(e){this._name=e}}]),e}();t.a=r},function(e,t,i){"use strict";var n=function(){function e(){!function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,e),this._rightHanded=!0}return e.prototype.pixelRepresentation=function(){return 0},e.prototype.pixelPaddingValue=function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0];return null},e.prototype.modality=function(){return"unknown"},e.prototype.segmentationType=function(){return"unknown"},e.prototype.segmentationSegments=function(){return[]},e.prototype.referencedSegmentNumber=function(e){return-1},e.prototype.rightHanded=function(){return this._rightHanded},e.prototype.spacingBetweenSlices=function(){return null},e.prototype.numberOfChannels=function(){return 1},e.prototype.sliceThickness=function(){return null},e.prototype.dimensionIndexValues=function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0];return null},e.prototype.instanceNumber=function(){return 0<arguments.length&&void 0!==arguments[0]?arguments[0]:0},e.prototype.windowCenter=function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0];return null},e.prototype.windowWidth=function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0];return null},e.prototype.rescaleSlope=function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0];return 1},e.prototype.rescaleIntercept=function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0];return 0},e.prototype.ultrasoundRegions=function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0];return[]},e.prototype.frameTime=function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0];return null},e.prototype._decompressUncompressed=function(){},e.prototype._swap16=function(e){return(255&e)<<8|255&e>>8},e.prototype._swap32=function(e){return(255&e)<<24|(65280&e)<<8|65280&e>>8|255&e>>24},e.prototype.invert=function(){return!1},e.prototype.transferSyntaxUID=function(){return"no value provided"},e.prototype.studyDate=function(){return"no value provided"},e.prototype.studyDescription=function(){return"no value provided"},e.prototype.seriesDate=function(){return"no value provided"},e.prototype.seriesDescription=function(){return"no value provided"},e.prototype.patientID=function(){return"no value provided"},e.prototype.patientName=function(){return"no value provided"},e.prototype.patientAge=function(){return"no value provided"},e.prototype.patientBirthdate=function(){return"no value provided"},e.prototype.patientSex=function(){return"no value provided"},e.prototype.minMaxPixelData=function(){for(var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=[_NumberPOSITIVE_INFINITY,_NumberNEGATIVE_INFINITY],i=e.length,n=0,r;n<i;n++){r=e[n];t[0]=_Mathmin(t[0],r),t[1]=_Mathmax(t[1],r)}return t},e}();t.a=n},function(e,t,i){"use strict";var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;t.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1),i;t.length;){i=t.shift();if(i){if("object"!=babelHelpers.typeof(i))throw new TypeError(i+"must be non-object");for(var n in i){i.hasOwnProperty(n)&&(e[n]=i[n])}}}return e},t.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var r={arraySet:function arraySet(e,t,i,n,r){if(t.subarray&&e.subarray)e.set(t.subarray(i,i+n),r);else for(var o=0;o<n;o++){e[r+o]=t[i+o]}},flattenChunks:function flattenChunks(e){var t,i,n,r,o,a;for(n=0,t=0,i=e.length;t<i;t++){n+=e[t].length}for(a=new Uint8Array(n),r=0,t=0,i=e.length;t<i;t++){o=e[t],a.set(o,r),r+=o.length}return a}},o={arraySet:function arraySet(e,t,i,n,r){for(var o=0;o<n;o++){e[r+o]=t[i+o]}},flattenChunks:function flattenChunks(e){return[].concat.apply([],e)}};t.setTyped=function(e){e?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,r)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,o))},t.setTyped(n)},function(e,t,i){"use strict";var n=n||{};n.lossless=n.lossless||{},n.lossless.DataStream=n.lossless.DataStream||function(e,t,i){this.buffer=new DataView(e,t,i),this.index=0},n.lossless.DataStream.prototype.get16=function(){var e=this.buffer.getUint16(this.index,!1);return this.index+=2,e},n.lossless.DataStream.prototype.get8=function(){var e=this.buffer.getUint8(this.index);return this.index+=1,e},"undefined"!==typeof e&&e.exports&&(e.exports=n.lossless.DataStream)},function(e,t,i){"use strict";var n=function(){function e(){!function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,e),this._id=-1}return e.prototype.mergeModels=function(e,t){if(!this._validateModelArray(e)||!this._validateModelArray(t))return window.console.log("invalid inputs provided."),!1;for(var i=0,n=t.length;i<n;i++){for(var r=0,o=e.length;r<o&&!e[r].merge(t[i]);r++){r===e.length-1&&e.push(t[i])}}return!0},e.prototype.merge=function(e){return!!this.validate(e)&&this._id===e._id},e.prototype.validate=function(e){return!(!e||null===e||"function"!=typeof e.merge)},e.prototype._validateModelArray=function(e){if(null===e||Array!==e.constructor)return window.console.log("invalid model array provided."),!1;for(var t=0;t<e.length;t++){if(!e[t]||null===e[t]||"function"!=typeof e[t].validate||!e[t].validate(e[t]))return!1}return!0},e}();t.a=n},function(e,t,i){"use strict";i.d(t,"b",function(){return n}),i.d(t,"a",function(){return r});var n=1022,r=1023},function(e,t,i){"use strict";i.d(t,"b",function(){return o});var n=i(7),r=i(1),o=function o(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:window.THREE;return void 0===e||void 0===e.ShapeBufferGeometry?null:function(t){function i(o,a,s,l){var c=4<arguments.length&&void 0!==arguments[4]?arguments[4]:new e.Matrix4;!function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,i);var h={halfDimensions:o,center:a,toAABB:c},u={position:s,direction:l},f=n.a.aabbPlane(h,u);if(3>f.length)throw window.console.log("WARNING: Less than 3 intersections between AABB and Plane."),window.console.log("AABB"),window.console.log(h),window.console.log("Plane"),window.console.log(u),window.console.log("exiting..."),new Error("geometries.slice has less than 3 intersections, can not create a valid geometry.");var d=r.a.orderIntersections(f,l),p=new e.Shape;p.moveTo(d[0].xy.x,d[0].xy.y);var _=new Float32Array(3*d.length);_.set(d[0].toArray(),0);for(var m=1;m<d.length;m++){_.set(d[m].toArray(),3*m),p.lineTo(d[m].xy.x,d[m].xy.y)}p.lineTo(d[0].xy.x,d[0].xy.y);var b=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=babelHelpers.typeof(t)&&"function"!=typeof t?e:t}(this,t.call(this,p));return b.type="SliceBufferGeometry",b.addAttribute("position",new e.Float32BufferAttribute(_,3)),b.vertices=d,b}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+babelHelpers.typeof(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,t),i}(e.ShapeBufferGeometry)};t.a=o()},function(e,t,i){"use strict";i.d(t,"b",function(){return r});var n=function(){function e(e,t){for(var i=0,n;i<t.length;i++){n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=function r(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:window.THREE;return void 0===e||void 0===e.Object3D?null:function(t){function i(e){!function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,i);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=babelHelpers.typeof(t)&&"function"!=typeof t?e:t}(this,t.call(this));return n._helpersSlice=e,n._visible=!0,n._color=16711680,n._material=null,n._geometry=null,n._mesh=null,n._create(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+babelHelpers.typeof(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,t),i.prototype._create=function(){if(this._material||(this._material=new e.LineBasicMaterial({color:this._color,linewidth:1})),this._helpersSlice.geometry.vertices){this._geometry=new e.BufferGeometry;var t=this._helpersSlice.geometry.vertices.length,i=new Float32Array(3*(t+1));i.set(this._helpersSlice.geometry.attributes.position.array,0),i.set(this._helpersSlice.geometry.vertices[0].toArray(),3*t),this._geometry.addAttribute("position",new e.Float32BufferAttribute(i,3)),this._mesh=new e.Line(this._geometry,this._material),"IJK"===this._helpersSlice.aabbSpace&&this._mesh.applyMatrix(this._helpersSlice.stack.ijk2LPS),this._mesh.visible=this._visible,this.add(this._mesh)}},i.prototype._update=function(){this._mesh&&(this.remove(this._mesh),this._mesh.geometry.dispose(),this._mesh=null),this._create()},i.prototype.dispose=function(){this._mesh.material.dispose(),this._mesh.material=null,this._geometry.dispose(),this._geometry=null,this._material.dispose(),this._material=null},n(i,[{key:"helpersSlice",set:function set(e){this._helpersSlice=e,this._update()},get:function get(){return this._helpersSlice}},{key:"visible",set:function set(e){this._visible=e,this._mesh&&(this._mesh.visible=this._visible)},get:function get(){return this._visible}},{key:"color",set:function set(e){this._color=e,this._material&&this._material.color.set(this._color)},get:function get(){return this._color}}]),i}(e.Object3D)};t.a=r()},function(e,t,i){"use strict";i.d(t,"b",function(){return r});var n=function(){function e(e,t){for(var i=0,n;i<t.length;i++){n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=function r(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:window.THREE;return void 0===e||void 0===e.Object3D?null:function(t){function i(e){!function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,i);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=babelHelpers.typeof(t)&&"function"!=typeof t?e:t}(this,t.call(this));return n._stack=e,n._visible=!0,n._color=16777215,n._material=null,n._geometry=null,n._mesh=null,n._meshStack=null,n._create(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+babelHelpers.typeof(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,t),i.prototype._create=function(){var t=this._stack.dimensionsIJK,i=this._stack.halfDimensionsIJK,n=new e.Vector3(-.5,-.5,-.5),r=new e.BoxGeometry(t.x,t.y,t.z);r.applyMatrix(new e.Matrix4().makeTranslation(i.x+n.x,i.y+n.y,i.z+n.z)),this._geometry=r,this._material=new e.MeshBasicMaterial({wireframe:!0});var o=new e.Mesh(this._geometry,null);o.applyMatrix(this._stack.ijk2LPS),o.visible=this._visible,this._meshStack=o,this._mesh=new e.BoxHelper(this._meshStack,this._color),this._material=this._mesh.material,this.add(this._mesh)},i.prototype._update=function(){this._mesh&&(this.remove(this._mesh),this._mesh.geometry.dispose(),this._mesh.geometry=null,this._mesh.material.dispose(),this._mesh.material=null,this._mesh=null),this._create()},i.prototype.dispose=function(){this._mesh.material.dispose(),this._mesh.material=null,this._geometry.dispose(),this._geometry=null,this._material.dispose(),this._material=null},n(i,[{key:"visible",set:function set(e){this._visible=e,this._mesh&&(this._mesh.visible=this._visible)},get:function get(){return this._visible}},{key:"color",set:function set(e){this._color=e,this._material&&this._material.color.set(this._color)},get:function get(){return this._color}}]),i}(e.Object3D)};t.a=r()},function(e,t,i){"use strict";i.d(t,"b",function(){return c});var n=i(14),r=i(32),o=i(31),a=i(30),s=i(45),l=function(){function e(e,t){for(var i=0,n;i<t.length;i++){n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),c=function c(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:window.THREE;return void 0===e||void 0===e.Object3D?null:function(t){function i(n){var s=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,l=2<arguments.length&&void 0!==arguments[2]?arguments[2]:new e.Vector3(0,0,0),c=3<arguments.length&&void 0!==arguments[3]?arguments[3]:new e.Vector3(0,0,1),h=4<arguments.length&&void 0!==arguments[4]?arguments[4]:"IJK";!function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,i);var u=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=babelHelpers.typeof(t)&&"function"!=typeof t?e:t}(this,t.call(this));return u._stack=n,u._invert=u._stack.invert,u._lut="none",u._lutTexture=null,u._intensityAuto=!0,u._interpolation=1,u._index=s,u._windowWidth=null,u._windowCenter=null,u._opacity=1,u._rescaleSlope=null,u._rescaleIntercept=null,u._spacing=1,u._thickness=0,u._thicknessMethod=0,u._lowerThreshold=null,u._upperThreshold=null,u._canvasWidth=0,u._canvasHeight=0,u._borderColor=null,u._planePosition=l,u._planeDirection=c,u._aaBBspace=h,u._material=null,u._textures=[],u._shadersFragment=a.a,u._shadersVertex=o.a,u._uniforms=r.a.uniforms(),u._geometry=null,u._mesh=null,u._visible=!0,u._init(),u._create(),u}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+babelHelpers.typeof(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,t),i.prototype._init=function(){if(this._stack&&this._stack._prepared&&this._stack._packed)if("IJK"===this._aaBBspace)this._halfDimensions=this._stack.halfDimensionsIJK,this._center=new e.Vector3(this._stack.halfDimensionsIJK.x-.5,this._stack.halfDimensionsIJK.y-.5,this._stack.halfDimensionsIJK.z-.5),this._toAABB=new e.Matrix4;else{var t=this._stack.AABBox();this._halfDimensions=t.clone().multiplyScalar(.5),this._center=this._stack.centerAABBox(),this._toAABB=this._stack.lps2AABB}},i.prototype._create=function(){if(this._stack&&this._stack.prepared&&this._stack.packed){try{var t=Object(n.b)(e);this._geometry=new t(this._halfDimensions,this._center,this._planePosition,this._planeDirection,this._toAABB)}catch(e){return window.console.log(e),void window.console.log("invalid slice geometry - exiting...")}this._geometry.vertices&&(this._material||(this._uniforms.uTextureSize.value=this._stack.textureSize,this._uniforms.uDataDimensions.value=[this._stack.dimensionsIJK.x,this._stack.dimensionsIJK.y,this._stack.dimensionsIJK.z],this._uniforms.uWorldToData.value=this._stack.lps2IJK,this._uniforms.uNumberOfChannels.value=this._stack.numberOfChannels,this._uniforms.uPixelType.value=this._stack.pixelType,this._uniforms.uBitsAllocated.value=this._stack.bitsAllocated,this._uniforms.uPackedPerPixel.value=this._stack.packedPerPixel,this._uniforms.uSpacing.value=this._spacing,this._uniforms.uThickness.value=this._thickness,this._uniforms.uThicknessMethod.value=this._thicknessMethod,this._prepareTexture(),this._uniforms.uTextureContainer.value=this._textures,8<this._stack.textureUnits&&(this._uniforms.uTextureContainer.length=14),this._createMaterial({side:e.DoubleSide})),this.updateIntensitySettings(),this.updateIntensitySettingsUniforms(),this._mesh=new e.Mesh(this._geometry,this._material),"IJK"===this._aaBBspace&&this._mesh.applyMatrix(this._stack.ijk2LPS),this._mesh.visible=this._visible,this.add(this._mesh))}},i.prototype.updateIntensitySettings=function(){this._intensityAuto?(this.updateIntensitySetting("windowCenter"),this.updateIntensitySetting("windowWidth"),this.updateIntensitySetting("rescaleSlope"),this.updateIntensitySetting("rescaleIntercept")):(null===this._windowCenter&&(this._windowCenter=this._stack.windowCenter),null===this._windowWidth&&(this._windowWidth=this._stack.windowWidth),null===this._rescaleSlope&&(this._rescaleSlope=this._stack.rescaleSlope),null===this._rescaleIntercept&&(this._rescaleIntercept=this._stack.rescaleIntercept)),null===this._upperThreshold&&(this._upperThreshold=this._stack._minMax[1]),null===this._lowerThreshold&&(this._lowerThreshold=this._stack._minMax[0])},i.prototype.updateIntensitySettingsUniforms=function(){var e=0;0>this._stack._minMax[0]&&(e-=this._stack._minMax[0]),this._uniforms.uRescaleSlopeIntercept.value=[this._rescaleSlope,this._rescaleIntercept],this._uniforms.uWindowCenterWidth.value=[e+this._windowCenter,this._windowWidth],this._uniforms.uOpacity.value=this._opacity,this._uniforms.uLowerUpperThreshold.value=[e+this._lowerThreshold,e+this._upperThreshold],this._uniforms.uInvert.value=!0===this._invert?1:0,this._uniforms.uInterpolation.value=this._interpolation,"none"===this._lut?this._uniforms.uLut.value=0:(this._uniforms.uLut.value=1,this._uniforms.uTextureLUT.value=this._lutTexture)},i.prototype.updateIntensitySetting=function(e){this._stack.frame[this._index]&&this._stack.frame[this._index][e]?this["_"+e]=this._stack.frame[this._index][e]:this["_"+e]=this._stack[e]},i.prototype._update=function(){this._mesh&&(this.remove(this._mesh),this._mesh.geometry.dispose(),this._mesh.geometry=null,this._mesh=null),this._create()},i.prototype.dispose=function(){for(var e=0;e<this._textures.length;e++){this._textures[e].dispose(),this._textures[e]=null}this._textures=null,this._shadersFragment=null,this._shadersVertex=null,this._uniforms=null,this.remove(this._mesh),this._mesh.geometry.dispose(),this._mesh.geometry=null,this._mesh.material.dispose(),this._mesh.material=null,this._mesh=null,this._geometry.dispose(),this._geometry=null,this._material.vertexShader=null,this._material.fragmentShader=null,this._material.uniforms=null,this._material.dispose(),this._material=null,this._stack=null},i.prototype.cartesianEquation=function(){if(!this._geometry||!this._geometry.vertices||3>this._geometry.vertices.length)return new e.Vector4;var t=this._geometry.vertices,i=this._stack.ijk2LPS,n=new e.Vector3(t[0].x,t[0].y,t[0].z).applyMatrix4(i),r=new e.Vector3(t[1].x,t[1].y,t[1].z).applyMatrix4(i),o=new e.Vector3(t[2].x,t[2].y,t[2].z).applyMatrix4(i),a=new e.Vector3,s=new e.Vector3,l=a.subVectors(o,r).cross(s.subVectors(n,r)).normalize();return new e.Vector4(l.x,l.y,l.z,-l.dot(n))},l(i,[{key:"stack",get:function get(){return this._stack},set:function set(e){this._stack=e}},{key:"spacing",get:function get(){return this._spacing},set:function set(e){this._spacing=e,this._uniforms.uSpacing.value=this._spacing}},{key:"thickness",get:function get(){return this._thickness},set:function set(e){this._thickness=e,this._uniforms.uThickness.value=this._thickness}},{key:"thicknessMethod",get:function get(){return this._thicknessMethod},set:function set(e){this._thicknessMethod=e,this._uniforms.uThicknessMethod.value=this._thicknessMethod}},{key:"windowWidth",get:function get(){return this._windowWidth},set:function set(e){this._windowWidth=e,this.updateIntensitySettingsUniforms()}},{key:"windowCenter",get:function get(){return this._windowCenter},set:function set(e){this._windowCenter=e,this.updateIntensitySettingsUniforms()}},{key:"opacity",get:function get(){return this._opacity},set:function set(e){this._opacity=e,this.updateIntensitySettingsUniforms()}},{key:"upperThreshold",get:function get(){return this._upperThreshold},set:function set(e){this._upperThreshold=e,this.updateIntensitySettingsUniforms()}},{key:"lowerThreshold",get:function get(){return this._lowerThreshold},set:function set(e){this._lowerThreshold=e,this.updateIntensitySettingsUniforms()}},{key:"rescaleSlope",get:function get(){return this._rescaleSlope},set:function set(e){this._rescaleSlope=e,this.updateIntensitySettingsUniforms()}},{key:"rescaleIntercept",get:function get(){return this._rescaleIntercept},set:function set(e){this._rescaleIntercept=e,this.updateIntensitySettingsUniforms()}},{key:"invert",get:function get(){return this._invert},set:function set(e){this._invert=e,this.updateIntensitySettingsUniforms()}},{key:"lut",get:function get(){return this._lut},set:function set(e){this._lut=e}},{key:"lutTexture",get:function get(){return this._lutTexture},set:function set(e){this._lutTexture=e,this.updateIntensitySettingsUniforms()}},{key:"intensityAuto",get:function get(){return this._intensityAuto},set:function set(e){this._intensityAuto=e,this.updateIntensitySettings(),this.updateIntensitySettingsUniforms()}},{key:"interpolation",get:function get(){return this._interpolation},set:function set(e){this._interpolation=e,this.updateIntensitySettingsUniforms(),this._updateMaterial()}},{key:"index",get:function get(){return this._index},set:function set(e){this._index=e,this._update()}},{key:"planePosition",set:function set(e){this._planePosition=e,this._update()},get:function get(){return this._planePosition}},{key:"planeDirection",set:function set(e){this._planeDirection=e,this._update()},get:function get(){return this._planeDirection}},{key:"halfDimensions",set:function set(e){this._halfDimensions=e},get:function get(){return this._halfDimensions}},{key:"center",set:function set(e){this._center=e},get:function get(){return this._center}},{key:"aabbSpace",set:function set(e){this._aaBBspace=e,this._init()},get:function get(){return this._aaBBspace}},{key:"mesh",set:function set(e){this._mesh=e},get:function get(){return this._mesh}},{key:"geometry",set:function set(e){this._geometry=e},get:function get(){return this._geometry}},{key:"canvasWidth",set:function set(e){this._canvasWidth=e,this._uniforms.uCanvasWidth.value=this._canvasWidth},get:function get(){return this._canvasWidth}},{key:"canvasHeight",set:function set(e){this._canvasHeight=e,this._uniforms.uCanvasHeight.value=this._canvasHeight},get:function get(){return this._canvasHeight}},{key:"borderColor",set:function set(t){this._borderColor=t,this._uniforms.uBorderColor.value=new e.Color(t)},get:function get(){return this._borderColor}}]),i}(Object(s.a)(e))};t.a=c()},function(e,t,i){"use strict";var n=function(){function e(){!function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.cielab2XYZ=function(e,t,i){var n=(e+16)/116,r=t/500+n,o=n-i/200;return n=.008856<_Mathpow(n,3)?_Mathpow(n,3):(n-16/116)/7.787,[95.047*(r=.008856<_Mathpow(r,3)?_Mathpow(r,3):(r-16/116)/7.787),100*n,108.883*(o=.008856<_Mathpow(o,3)?_Mathpow(o,3):(o-16/116)/7.787)]},e.xyz2RGB=function(e,t,i){var n=3.2406*(e/=100)+-1.5372*(t/=100)+-.4986*(i/=100),r=-.9689*e+1.8758*t+.0415*i,o=.0557*e+-.204*t+1.057*i;return .0031308<n?n=1.055*_Mathpow(n,1/2.4)-.055:n*=12.92,.0031308<r?r=1.055*_Mathpow(r,1/2.4)-.055:r*=12.92,.0031308<o?o=1.055*_Mathpow(o,1/2.4)-.055:o*=12.92,[n*=255,r*=255,o*=255]},e.cielab2RGB=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:50,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;if(!(0<=e&&100>=e))return null;var n=this.cielab2XYZ(e,t,i);return this.xyz2RGB.apply(this,n)},e}();t.a=n},function(e,t,i){"use strict";var n=function(){function e(t){!function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,e),this._uniforms=t,this._functions={},this._main=""}return e.prototype.functions=function(){""===this._main&&this.main();var e="";for(var t in this._functions){e+=this._functions[t]+"\n"}return e},e.prototype.uniforms=function(){var e="";for(var t in this._uniforms){var i=this._uniforms[t];e+="uniform "+i.typeGLSL+" "+t,i&&i.length&&(e+="["+i.length+"]"),e+=";\n"}return e},e.prototype.main=function(){this._main="\n\nfloat luma (vec3 rgb) {\n  return (rgb.r + rgb.g + rgb.b)/3.0;\n}\n\nconst float T = 0.04;\nconst float M = 1.0;\nconst float L = 0.002;\n\nvoid main(void) {\n\n  vec2 texCoord = vec2(((vProjectedCoords.x / vProjectedCoords.w) + 1.0 ) / 2.0,\n                ((vProjectedCoords.y / vProjectedCoords.w) + 1.0 ) / 2.0 );\n\n  float borderWidth = uWidth; // in px\n  float step_u = borderWidth * 1.0 / uCanvasWidth;\n  float step_v = borderWidth * 1.0 / uCanvasHeight;\n  vec4 centerPixel = texture2D(uTextureFilled, texCoord);\n\n  vec4 rightPixel  = texture2D(uTextureFilled, texCoord + vec2(step_u, 0.0));\n  vec4 bottomPixel = texture2D(uTextureFilled, texCoord + vec2(0.0, step_v));\n\n  // now manually compute the derivatives\n  float _dFdX = length(rightPixel - centerPixel) / step_u;\n  float _dFdY = length(bottomPixel - centerPixel) / step_v;\n\n  // gl_FragColor.r = _dFdX;\n  // gl_FragColor.g = _dFdY;\n  gl_FragColor.r = max(max(centerPixel.r, rightPixel.r), bottomPixel.r);\n  gl_FragColor.g = max(max(centerPixel.g, rightPixel.g), bottomPixel.g);\n  gl_FragColor.b = max(max(centerPixel.b, rightPixel.b), bottomPixel.b);\n  float maxDerivative = max(_dFdX, _dFdY);\n  float clampedDerivative = clamp(maxDerivative, 0., 1.);\n  gl_FragColor.a = uOpacity * clampedDerivative;\n\n  return;\n  // float h = 1./uCanvasHeight;\n  // float w = 1./uCanvasWidth;\n  // vec4 n[9];\n  // n[0] = texture2D(uTextureFilled, vProjectedTextCoords + vec2( -w, -h));\n  // n[1] = texture2D(uTextureFilled, vProjectedTextCoords + vec2(0.0, -h));\n  // n[2] = texture2D(uTextureFilled, vProjectedTextCoords + vec2(  w, -h));\n  // n[3] = texture2D(uTextureFilled, vProjectedTextCoords + vec2( -w, 0.0));\n  // n[4] = texture2D(uTextureFilled, vProjectedTextCoords);\n  // n[5] = texture2D(uTextureFilled, texCoord + vec2(  w, 0.0));\n  // n[6] = texture2D(uTextureFilled, texCoord + vec2( -w, h));\n  // n[7] = texture2D(uTextureFilled, texCoord + vec2(0.0, h));\n  // n[8] = texture2D(uTextureFilled, texCoord + vec2(  w, h));\n  // vec4 sobel_horizEdge = n[2] + (2.0*n[5]) + n[8] - (n[0] + (2.0*n[3]) + n[6]);\n  // vec4 sobel_vertEdge  = n[0] + (2.0*n[1]) + n[2] - (n[6] + (2.0*n[7]) + n[8]);\n  // vec3 sobel = sqrt((sobel_horizEdge.rgb * sobel_horizEdge.rgb) + (sobel_vertEdge.rgb * sobel_vertEdge.rgb));\n  // gl_FragColor = vec4( sobel, max(max(sobel.r, sobel.g), sobel.b) );\n\n  // return;\n}\n   "},e.prototype.compute=function(){return"\n// uniforms\n"+this.uniforms()+"\n\n// varying (should fetch it from vertex directly)\nvarying vec4      vProjectedCoords;\n\n// tailored functions\n"+this.functions()+"\n\n// main loop\n"+this._main+"\n      "},e}();t.a=n},function(e,t,i){"use strict";var n=function(){function e(){!function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.prototype.compute=function(){return"\nvarying vec4 vProjectedCoords;\n\n//\n// main\n//\nvoid main() {\n\n  vec4 vPos = modelMatrix * vec4(position, 1.0 );\n  mat4 vProjectionViewMatrix = projectionMatrix * viewMatrix;\n  vProjectedCoords =  projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0 );\n\n}\n        "},e}();t.a=n},function(e,t,i){"use strict";var n=function(){function e(t){!function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,e),this._uniforms=t,this._functions={},this._main=""}return e.prototype.functions=function(){""===this._main&&this.main();var e="";for(var t in this._functions){e+=this._functions[t]+"\n"}return e},e.prototype.uniforms=function(){var e="";for(var t in this._uniforms){var i=this._uniforms[t];e+="uniform "+i.typeGLSL+" "+t,i&&i.length&&(e+="["+i.length+"]"),e+=";\n"}return e},e.prototype.main=function(){this._main="\nvoid intersectionProjection(\n  in vec4 plane,\n  in vec4 slice,\n  out vec3 intersectionProjection){\n\n      vec3 intersectionDirection = normalize(cross(plane.xyz, slice.xyz));\n      vec3 intersectionPoint = \n        cross(intersectionDirection,slice.xyz) * plane.w +\n        cross(plane.xyz, intersectionDirection) * slice.w;\n\n      intersectionProjection =\n        intersectionPoint.xyz +\n        (dot(vPos.xyz - intersectionPoint, intersectionDirection)\n          * intersectionDirection);\n\n}\n\nvoid main(void) {\n      vec4 c1 = vec4(0., 0., 0., 0.);\n      vec4 c2 = vec4(0., 0., 0., 0.);\n      vec4 c3 = vec4(0., 0., 0., 0.);\n\n      // localizer #1\n      // must be normalized!\n      if(length(uPlane1.xyz) > 0.5) {\n        vec3 projection1 = vec3(1.);\n        intersectionProjection(\n          uPlane1,\n          uSlice,\n          projection1\n        );\n\n        vec4 projInter1 = (vProjectionViewMatrix * vec4(projection1, 1.));\n        vec3 ndc1 = projInter1.xyz / projInter1.w;\n        vec2 screenSpace1 = (ndc1.xy * .5 + .5) * vec2(uCanvasWidth, uCanvasHeight);\n\n        float d1 = distance(gl_FragCoord.xy, screenSpace1.xy);\n        c1 = vec4(uPlaneColor1, 1. - smoothstep(.5, .7, d1));\n      }\n\n      // localizer #2\n      if(length(uPlane2.xyz) > 0.5) {\n        vec3 projection2 = vec3(1.);\n        intersectionProjection(\n          uPlane2,\n          uSlice,\n          projection2\n        );\n\n        vec4 projInter2 = (vProjectionViewMatrix * vec4(projection2, 1.));\n        vec3 ndc2 = projInter2.xyz / projInter2.w;\n        vec2 screenSpace2 = (ndc2.xy * .5 + .5) * vec2(uCanvasWidth, uCanvasHeight);\n\n        float d2 = distance(gl_FragCoord.xy, screenSpace2.xy);\n        c2 = vec4(uPlaneColor2, 1. - smoothstep(.5, .7, d2));\n      }\n\n      // localizer #3\n      if(length(uPlane3.xyz) > 0.5) {\n        vec3 projection3 = vec3(1.);\n        intersectionProjection(\n          uPlane3,\n          uSlice,\n          projection3\n        );\n\n        vec4 projInter3 = (vProjectionViewMatrix * vec4(projection3, 1.));\n        vec3 ndc3 = projInter3.xyz / projInter3.w;\n        vec2 screenSpace3 = (ndc3.xy * .5 + .5) * vec2(uCanvasWidth, uCanvasHeight);\n\n        float d3 = distance(gl_FragCoord.xy, screenSpace3.xy);\n        c3 = vec4(uPlaneColor3, 1. - smoothstep(.5, .7, d3));\n      }\n\n      // float uBorderDashLength = 10.0;\n      // float uBorderWidth = 2.0;\n      // float valueX = mod(gl_FragCoord.x, 2. * uBorderDashLength);\n      // float valueY = mod(gl_FragCoord.y, 2. * uBorderDashLength);\n      // if( valueX < uBorderDashLength || valueY < uBorderDashLength ){\n        vec3 colorMix = c1.xyz*c1.w + c2.xyz*c2.w + c3.xyz*c3.w;\n        gl_FragColor = vec4(colorMix, max(max(c1.w, c2.w),c3.w)*0.5);\n        return;\n      // }\n      \n      // gl_FragColor = vec4(0., 0., 0., 0.);\n      // return;\n}\n   "},e.prototype.compute=function(){return"\n// uniforms\n"+this.uniforms()+"\n\n// varying (should fetch it from vertex directly)\nvarying vec4 vPos;\nvarying mat4 vProjectionViewMatrix;\n\n// tailored functions\n"+this.functions()+"\n\n// main loop\n"+this._main+"\n      "},e}();t.a=n},function(e,t,i){"use strict";var n=function(){function e(){!function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.prototype.compute=function(){return"\nvarying vec4 vPos;\nvarying mat4 vProjectionViewMatrix;\n\n//\n// main\n//\nvoid main() {\n\n  vPos = modelMatrix * vec4(position, 1.0 );\n  vProjectionViewMatrix = projectionMatrix * viewMatrix;\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0 );\n\n}\n        "},e}();t.a=n},function(e,t,i){"use strict";var n=i(4),r=function(){function e(){!function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.uniforms=function(){return{uTextureSize:{type:"i",value:0,typeGLSL:"int"},uTextureContainer:{type:"tv",value:[],typeGLSL:"sampler2D",length:7},uDataDimensions:{type:"iv",value:[0,0,0],typeGLSL:"ivec3"},uWorldToData:{type:"m4",value:new n.a,typeGLSL:"mat4"},uWindowCenterWidth:{type:"fv1",value:[0,0],typeGLSL:"float",length:2},uRescaleSlopeIntercept:{type:"fv1",value:[0,0],typeGLSL:"float",length:2},uNumberOfChannels:{type:"i",value:1,typeGLSL:"int"},uBitsAllocated:{type:"i",value:8,typeGLSL:"int"},uInvert:{type:"i",value:0,typeGLSL:"int"},uLut:{type:"i",value:0,typeGLSL:"int"},uTextureLUT:{type:"t",value:[],typeGLSL:"sampler2D"},uPixelType:{type:"i",value:0,typeGLSL:"int"},uPackedPerPixel:{type:"i",value:1,typeGLSL:"int"},uInterpolation:{type:"i",value:1,typeGLSL:"int"},uWorldBBox:{type:"fv1",value:[0,0,0,0,0,0],typeGLSL:"float",length:6},uSteps:{type:"i",value:256,typeGLSL:"int"},uAlphaCorrection:{type:"f",value:.5,typeGLSL:"float"},uFrequence:{type:"f",value:0,typeGLSL:"float"},uAmplitude:{type:"f",value:0,typeGLSL:"float"},uShading:{type:"i",value:1,typeGLSL:"int"},uAmbient:{type:"f",value:.1,typeGLSL:"float"},uAmbientColor:{type:"v3",value:[1,1,0],typeGLSL:"vec3"},uSampleColorToAmbient:{type:"i",value:1,typeGLSL:"int"},uSpecular:{type:"f",value:1,typeGLSL:"float"},uSpecularColor:{type:"v3",value:[1,1,1],typeGLSL:"vec3"},uDiffuse:{type:"f",value:.3,typeGLSL:"float"},uDiffuseColor:{type:"v3",value:[1,1,0],typeGLSL:"vec3"},uSampleColorToDiffuse:{type:"i",value:1,typeGLSL:"int"},uShininess:{type:"f",value:5,typeGLSL:"float"},uLightPosition:{type:"v3",value:[0,0,0],typeGLSL:"vec3"},uLightPositionInCamera:{type:"i",value:1,typeGLSL:"int"},uIntensity:{type:"v3",value:[.8,.8,.8],typeGLSL:"vec3"},uAlgorithm:{type:"i",value:0,typeGLSL:"int"}}},e}();t.a=r},function(e,t,i){"use strict";i.d(t,"a",function(){return o});var n=i(0),r=i(100);function o(e,t){this.min=void 0!==e?e:new n.a(1/0,1/0,1/0),this.max=void 0!==t?t:new n.a(-1/0,-1/0,-1/0)}Object.assign(o.prototype,{isBox3:!0,set:function set(e,t){return this.min.copy(e),this.max.copy(t),this},setFromArray:function setFromArray(e){for(var t=1/0,i=1/0,n=1/0,r=-1/0,o=-1/0,a=-1/0,s=0,l=e.length;s<l;s+=3){var c=e[s],h=e[s+1],u=e[s+2];c<t&&(t=c),h<i&&(i=h),u<n&&(n=u),c>r&&(r=c),h>o&&(o=h),u>a&&(a=u)}return this.min.set(t,i,n),this.max.set(r,o,a),this},setFromBufferAttribute:function setFromBufferAttribute(e){for(var t=1/0,i=1/0,n=1/0,r=-1/0,o=-1/0,a=-1/0,s=0,l=e.count;s<l;s++){var c=e.getX(s),h=e.getY(s),u=e.getZ(s);c<t&&(t=c),h<i&&(i=h),u<n&&(n=u),c>r&&(r=c),h>o&&(o=h),u>a&&(a=u)}return this.min.set(t,i,n),this.max.set(r,o,a),this},setFromPoints:function setFromPoints(e){this.makeEmpty();for(var t=0,i=e.length;t<i;t++){this.expandByPoint(e[t])}return this},setFromCenterAndSize:function(){var e=new n.a;return function(t,i){var n=e.copy(i).multiplyScalar(.5);return this.min.copy(t).sub(n),this.max.copy(t).add(n),this}}(),setFromObject:function setFromObject(e){return this.makeEmpty(),this.expandByObject(e)},clone:function clone(){return new this.constructor().copy(this)},copy:function copy(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},isEmpty:function isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},getCenter:function getCenter(e){return void 0===e&&(console.warn("THREE.Box3: .getCenter() target is now required"),e=new n.a),this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function getSize(e){return void 0===e&&(console.warn("THREE.Box3: .getSize() target is now required"),e=new n.a),this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)},expandByPoint:function expandByPoint(e){return this.min.min(e),this.max.max(e),this},expandByVector:function expandByVector(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this},expandByObject:function(){var e,t,i,r=new n.a;function o(n){var o=n.geometry;if(void 0!==o)if(o.isGeometry){var a=o.vertices;for(t=0,i=a.length;t<i;t++){r.copy(a[t]),r.applyMatrix4(n.matrixWorld),e.expandByPoint(r)}}else if(o.isBufferGeometry){var s=o.attributes.position;if(void 0!==s)for(t=0,i=s.count;t<i;t++){r.fromBufferAttribute(s,t).applyMatrix4(n.matrixWorld),e.expandByPoint(r)}}}return function(t){return e=this,t.updateMatrixWorld(!0),t.traverse(o),this}}(),containsPoint:function containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)},containsBox:function containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z},getParameter:function getParameter(e,t){return void 0===t&&(console.warn("THREE.Box3: .getParameter() target is now required"),t=new n.a),t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)},intersectsSphere:function(){var e=new n.a;return function(t){return this.clampPoint(t.center,e),e.distanceToSquared(t.center)<=t.radius*t.radius}}(),intersectsPlane:function intersectsPlane(e){var t,i;return 0<e.normal.x?(t=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,i=e.normal.x*this.min.x),0<e.normal.y?(t+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),0<e.normal.z?(t+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),t<=-e.constant&&i>=-e.constant},intersectsTriangle:function(){var e=new n.a,t=new n.a,i=new n.a,r=new n.a,o=new n.a,a=new n.a,s=new n.a,l=new n.a,c=new n.a,h=new n.a;function u(n){var r,o;for(r=0,o=n.length-3;r<=o;r+=3){s.fromArray(n,r);var a=c.x*_Mathabs(s.x)+c.y*_Mathabs(s.y)+c.z*_Mathabs(s.z),l=e.dot(s),h=t.dot(s),u=i.dot(s);if(_Mathmax(-_Mathmax(l,h,u),_Mathmin(l,h,u))>a)return!1}return!0}return function(n){if(this.isEmpty())return!1;this.getCenter(l),c.subVectors(this.max,l),e.subVectors(n.a,l),t.subVectors(n.b,l),i.subVectors(n.c,l),r.subVectors(t,e),o.subVectors(i,t),a.subVectors(e,i);var s=[0,-r.z,r.y,0,-o.z,o.y,0,-a.z,a.y,r.z,0,-r.x,o.z,0,-o.x,a.z,0,-a.x,-r.y,r.x,0,-o.y,o.x,0,-a.y,a.x,0];return!!u(s)&&!!u(s=[1,0,0,0,1,0,0,0,1])&&(h.crossVectors(r,o),u(s=[h.x,h.y,h.z]))}}(),clampPoint:function clampPoint(e,t){return void 0===t&&(console.warn("THREE.Box3: .clampPoint() target is now required"),t=new n.a),t.copy(e).clamp(this.min,this.max)},distanceToPoint:function(){var e=new n.a;return function(t){return e.copy(t).clamp(this.min,this.max).sub(t).length()}}(),getBoundingSphere:function(){var e=new n.a;return function(t){return void 0===t&&(console.warn("THREE.Box3: .getBoundingSphere() target is now required"),t=new r.a),this.getCenter(t.center),t.radius=.5*this.getSize(e).length(),t}}(),intersect:function intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this},union:function union(e){return this.min.min(e.min),this.max.max(e.max),this},applyMatrix4:function(){var e=[new n.a,new n.a,new n.a,new n.a,new n.a,new n.a,new n.a,new n.a];return function(t){return this.isEmpty()?this:(e[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),e[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),e[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),e[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),e[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),e[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),e[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),e[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(e),this)}}(),translate:function translate(e){return this.min.add(e),this.max.add(e),this},equals:function equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}})},function(e,t,i){"use strict";var n=i(6),r=i(106);t.a=function(e,t,i,o){switch(e._uniforms.uInterpolation.value){case 0:return n.a.api(e,t,i);case 1:return r.a.api(e,t,i,o);default:return n.a.api(e,t,i);}}},function(e,t,i){"use strict";var n=n||{};n.lossless=n.lossless||{},n.lossless.Utils=n.lossless.Utils||{},n.lossless.Utils.createArray=function(e){var t=Array(e||0),i=e;if(1<arguments.length)for(var r=Array.prototype.slice.call(arguments,1);i--;){t[e-1-i]=n.lossless.Utils.createArray.apply(this,r)}return t},n.lossless.Utils.makeCRCTable=function(){for(var e,t=[],i=0;256>i;i++){e=i;for(var n=0;8>n;n++){e=1&e?3988292384^e>>>1:e>>>1}t[i]=e}return t},n.lossless.Utils.crc32=function(e){for(var t=n.lossless.Utils.crcTable||(n.lossless.Utils.crcTable=n.lossless.Utils.makeCRCTable()),i=-1,r=0;r<e.byteLength;r++){i=i>>>8^t[255&(i^e.getUint8(r))]}return(-1^i)>>>0},"undefined"!==typeof e&&e.exports&&(e.exports=n.lossless.Utils)},function(e,t,i){"use strict";var n=function(){function e(){!function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.uniforms=function(){return{uCanvasWidth:{type:"f",value:0,typeGLSL:"float"},uCanvasHeight:{type:"f",value:0,typeGLSL:"float"},uWidth:{type:"f",value:1,typeGLSL:"float"},uOpacity:{type:"f",value:1,typeGLSL:"float"},uTextureFilled:{type:"t",value:[],typeGLSL:"sampler2D"}}},e}();t.a=n},function(e,t,i){"use strict";var n=function(){function e(){!function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.uniforms=function(){return{uCanvasWidth:{type:"f",value:0,typeGLSL:"float"},uCanvasHeight:{type:"f",value:0,typeGLSL:"float"},uSlice:{type:"v4",value:[0,0,0,0],typeGLSL:"vec4"},uPlane1:{type:"v4",value:[0,0,0,0],typeGLSL:"vec4"},uPlaneColor1:{type:"v3",value:[1,1,0],typeGLSL:"vec3"},uPlane2:{type:"v4",value:[0,0,0,0],typeGLSL:"vec4"},uPlaneColor2:{type:"v3",value:[1,1,0],typeGLSL:"vec3"},uPlane3:{type:"v4",value:[0,0,0,0],typeGLSL:"vec4"},uPlaneColor3:{type:"v3",value:[1,1,0],typeGLSL:"vec3"}}},e}();t.a=n},function(e,t,i){"use strict";var n=function(){function e(e,t){for(var i=0,n;i<t.length;i++){n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=function(){function e(t){!function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,e),this._container=t,this._modes={load:{name:"load",color:"#FFF56F"},parse:{name:"parse",color:"#2196F3"}},this.requestAnimationFrameID=null,this._mode=null,this._value=null,this._total=null,this._totalFiles=null,this.init()}return e.prototype.free=function(){var e=this._container.getElementsByClassName("progress container");0<e.length&&e[0].parentNode.removeChild(e[0]),e=null,window.cancelAnimationFrame(this.requestAnimationFrameID)},e.prototype.init=function(){var e=this._domContainer();for(var t in this._modes){if(this._modes.hasOwnProperty(t)){var i=this._domBar(this._modes[t]);e.appendChild(i),i=null}}this._container.appendChild(e),e=null,this.updateUI()},e.prototype.update=function(e,t,i){3<arguments.length&&void 0!==arguments[3]&&arguments[3];this._mode=i,this._value=e,0===t?(this._total=e,this._value=Math.random()*e):this._total=t},e.prototype.updateUI=function(){var e=this;if(this.requestAnimationFrameID=requestAnimationFrame(function(){e.updateUI()}),!(this._modes.hasOwnProperty(this._mode)&&this._modes[this._mode].hasOwnProperty("name")&&this._modes[this._mode].hasOwnProperty("color")))return!1;var t=_Mathround(100*(this._value/this._total)),i=this._modes[this._mode].color,n=this._container.getElementsByClassName("progress "+this._modes[this._mode].name);0<n.length&&(n[0].style.borderColor=i,n[0].style.width=t+"%"),n=null},e.prototype._domContainer=function(){var e=document.createElement("div");return e.classList.add("progress"),e.classList.add("container"),e.style.width="100%",e.style.height="8px",e.style.position="absolute",e.style.backgroundColor="rgba(158, 158, 158, 0.5)",e.style.top="0",e.style.zIndex="1",e},e.prototype._domBar=function(e){if(!e.hasOwnProperty("name")||!e.hasOwnProperty("color"))return window.console.log("Invalid mode provided."),window.console.log(e),!1;var t=document.createElement("div");return t.classList.add(e.name),t.classList.add("progress"),t.style.border="2px solid "+e.color,t.style.width="0%",t},n(e,[{key:"totalFiles",set:function set(e){this._totalFiles=e},get:function get(){return this._totalFiles}}]),e}();t.a=r},function(e,t,i){"use strict";var n=i(25),r=function(){function e(t){!function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,e),this._uniforms=t,this._functions={},this._main=""}return e.prototype.functions=function(){""===this._main&&this.main();var e="";for(var t in this._functions){e+=this._functions[t]+"\n"}return e},e.prototype.uniforms=function(){var e="";for(var t in this._uniforms){var i=this._uniforms[t];e+="uniform "+i.typeGLSL+" "+t,i&&i.length&&(e+="["+i.length+"]"),e+=";\n"}return e},e.prototype.main=function(){this._main="\nvoid main(void) {\n\n  // draw border if slice is cropped\n  // float uBorderDashLength = 10.;\n\n  if( uCanvasWidth > 0. &&\n      ((gl_FragCoord.x > uBorderMargin && (gl_FragCoord.x - uBorderMargin) < uBorderWidth) ||\n       (gl_FragCoord.x < (uCanvasWidth - uBorderMargin) && (gl_FragCoord.x + uBorderMargin) > (uCanvasWidth - uBorderWidth) ))){\n    float valueY = mod(gl_FragCoord.y, 2. * uBorderDashLength);\n    if( valueY < uBorderDashLength && gl_FragCoord.y > uBorderMargin && gl_FragCoord.y < (uCanvasHeight - uBorderMargin) ){\n      gl_FragColor = vec4(uBorderColor, 1.);\n      return;\n    }\n  }\n\n  if( uCanvasHeight > 0. &&\n      ((gl_FragCoord.y > uBorderMargin && (gl_FragCoord.y - uBorderMargin) < uBorderWidth) ||\n       (gl_FragCoord.y < (uCanvasHeight - uBorderMargin) && (gl_FragCoord.y + uBorderMargin) > (uCanvasHeight - uBorderWidth) ))){\n    float valueX = mod(gl_FragCoord.x, 2. * uBorderDashLength);\n    if( valueX < uBorderDashLength && gl_FragCoord.x > uBorderMargin && gl_FragCoord.x < (uCanvasWidth - uBorderMargin) ){\n      gl_FragColor = vec4(uBorderColor, 1.);\n      return;\n    }\n  }\n\n  // get texture coordinates of current pixel\n  vec4 dataValue = vec4(0.);\n  vec3 gradient = vec3(1.); // gradient calculations will be skipped if it is equal to vec3(1.) \n  float steps = floor(uThickness / uSpacing + 0.5);\n\n  if (steps > 1.) {\n    vec3 origin = vPos - uThickness * 0.5 * vNormal;\n    vec4 dataValueAcc = vec4(0.);\n    for (float step = 0.; step < 128.; step++) {\n      if (step >= steps) {\n        break;\n      }\n\n      vec4 dataCoordinates = uWorldToData * vec4(origin + step * uSpacing * vNormal, 1.);\n      vec3 currentVoxel = dataCoordinates.xyz;\n      "+Object(n.a)(this,"currentVoxel","dataValueAcc","gradient")+";\n\n      if (step == 0.) {\n        dataValue.r = dataValueAcc.r;\n        continue;\n      }\n\n      if (uThicknessMethod == 0) {\n        dataValue.r = max(dataValueAcc.r, dataValue.r);\n      }\n      if (uThicknessMethod == 1) {\n        dataValue.r += dataValueAcc.r;\n      }\n      if (uThicknessMethod == 2) {\n        dataValue.r = min(dataValueAcc.r, dataValue.r);\n      }\n    }\n\n    if (uThicknessMethod == 1) {\n      dataValue.r /= steps;\n    }\n  } else {\n    vec4 dataCoordinates = uWorldToData * vec4(vPos, 1.);\n    vec3 currentVoxel = dataCoordinates.xyz;\n    "+Object(n.a)(this,"currentVoxel","dataValue","gradient")+"\n  }\n\n  if(uNumberOfChannels == 1){\n    // rescale/slope\n    float realIntensity = dataValue.r * uRescaleSlopeIntercept[0] + uRescaleSlopeIntercept[1];\n  \n    // threshold\n    if (realIntensity < uLowerUpperThreshold[0] || realIntensity > uLowerUpperThreshold[1]) {\n      discard;\n    }\n  \n    // normalize\n    float windowMin = uWindowCenterWidth[0] - uWindowCenterWidth[1] * 0.5;\n    float normalizedIntensity =\n      ( realIntensity - windowMin ) / uWindowCenterWidth[1];\n    dataValue.r = dataValue.g = dataValue.b = normalizedIntensity;\n    dataValue.a = 1.;\n\n    // apply LUT\n    if(uLut == 1){\n      // should opacity be grabbed there?\n      dataValue = texture2D( uTextureLUT, vec2( normalizedIntensity , 1.0) );\n    }\n  \n    // apply segmentation\n    if(uLutSegmentation == 1){\n      // should opacity be grabbed there?\n      //\n      float textureWidth = 256.;\n      float textureHeight = 128.;\n      float min = 0.;\n      // start at 0!\n      int adjustedIntensity = int(floor(realIntensity + 0.5));\n  \n      // Get row and column in the texture\n      int colIndex = int(mod(float(adjustedIntensity), textureWidth));\n      int rowIndex = int(floor(float(adjustedIntensity)/textureWidth));\n  \n      float texWidth = 1./textureWidth;\n      float texHeight = 1./textureHeight;\n    \n      // Map row and column to uv\n      vec2 uv = vec2(0,0);\n      uv.x = 0.5 * texWidth + (texWidth * float(colIndex));\n      uv.y = 1. - (0.5 * texHeight + float(rowIndex) * texHeight);\n  \n      dataValue = texture2D( uTextureLUTSegmentation, uv );\n    }\n  }\n\n  if(uInvert == 1){\n    dataValue.xyz = vec3(1.) - dataValue.xyz;\n  }\n\n  dataValue.a = dataValue.a*uOpacity;\n\n  gl_FragColor = dataValue;\n}\n   "},e.prototype.compute=function(){return"\n// uniforms\n"+this.uniforms()+"\n\n// varying (should fetch it from vertex directly)\nvarying vec3 vPos;\nvarying vec3 vNormal;\n\n// tailored functions\n"+this.functions()+"\n\n// main loop\n"+this._main+"\n      "},e}();t.a=r},function(e,t,i){"use strict";var n=function(){function e(){!function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.prototype.compute=function(){return"\nvarying vec3 vPos;\nvarying vec3 vNormal;\n\nvoid main() {\n  vNormal = normal;\n  vPos = (modelMatrix * vec4(position, 1.0 )).xyz;\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0 );\n\n}\n        "},e}();t.a=n},function(e,t,i){"use strict";var n=i(4),r=function(){function e(){!function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.uniforms=function(){return{uTextureSize:{type:"i",value:0,typeGLSL:"int"},uTextureContainer:{type:"tv",value:[],typeGLSL:"sampler2D",length:7},uDataDimensions:{type:"iv",value:[0,0,0],typeGLSL:"ivec3"},uWorldToData:{type:"m4",value:new n.a,typeGLSL:"mat4"},uWindowCenterWidth:{type:"fv1",value:[0,0],typeGLSL:"float",length:2},uLowerUpperThreshold:{type:"fv1",value:[0,0],typeGLSL:"float",length:2},uRescaleSlopeIntercept:{type:"fv1",value:[0,0],typeGLSL:"float",length:2},uNumberOfChannels:{type:"i",value:1,typeGLSL:"int"},uBitsAllocated:{type:"i",value:8,typeGLSL:"int"},uInvert:{type:"i",value:0,typeGLSL:"int"},uLut:{type:"i",value:0,typeGLSL:"int"},uTextureLUT:{type:"t",value:[],typeGLSL:"sampler2D"},uLutSegmentation:{type:"i",value:0,typeGLSL:"int"},uTextureLUTSegmentation:{type:"t",value:[],typeGLSL:"sampler2D"},uPixelType:{type:"i",value:0,typeGLSL:"int"},uPackedPerPixel:{type:"i",value:1,typeGLSL:"int"},uInterpolation:{type:"i",value:1,typeGLSL:"int"},uCanvasWidth:{type:"f",value:0,typeGLSL:"float"},uCanvasHeight:{type:"f",value:0,typeGLSL:"float"},uBorderColor:{type:"v3",value:[1,0,.5],typeGLSL:"vec3"},uBorderWidth:{type:"f",value:2,typeGLSL:"float"},uBorderMargin:{type:"f",value:2,typeGLSL:"float"},uBorderDashLength:{type:"f",value:10,typeGLSL:"float"},uOpacity:{type:"f",value:1,typeGLSL:"float"},uSpacing:{type:"f",value:0,typeGLSL:"float"},uThickness:{type:"f",value:0,typeGLSL:"float"},uThicknessMethod:{type:"i",value:0,typeGLSL:"int"}}},e}();t.a=r},function(e,t,i){"use strict";var n=i(25),r=i(107),o=function(){function e(t){!function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,e),this._uniforms=t,this._functions={},this._main=""}return e.prototype.functions=function(){""===this._main&&this.main();var e="";for(var t in this._functions){e+=this._functions[t]+"\n"}return e},e.prototype.uniforms=function(){var e="";for(var t in this._uniforms){var i=this._uniforms[t];e+="uniform "+i.typeGLSL+" "+t,i&&i.length&&(e+="["+i.length+"]"),e+=";\n"}return e},e.prototype.main=function(){this._main="\nvoid getIntensity(in vec3 dataCoordinates, out float intensity, out vec3 gradient){\n\n  vec4 dataValue = vec4(0., 0., 0., 0.);\n  "+Object(n.a)(this,"dataCoordinates","dataValue","gradient")+"\n\n  intensity = dataValue.r;\n\n  // rescale/slope\n  intensity = intensity*uRescaleSlopeIntercept[0] + uRescaleSlopeIntercept[1];\n  // window level\n  float windowMin = uWindowCenterWidth[0] - uWindowCenterWidth[1] * 0.5;\n  intensity = ( intensity - windowMin ) / uWindowCenterWidth[1];\n}\n\nmat4 inverse(mat4 m) {\n  float\n    a00 = m[0][0], a01 = m[0][1], a02 = m[0][2], a03 = m[0][3],\n    a10 = m[1][0], a11 = m[1][1], a12 = m[1][2], a13 = m[1][3],\n    a20 = m[2][0], a21 = m[2][1], a22 = m[2][2], a23 = m[2][3],\n    a30 = m[3][0], a31 = m[3][1], a32 = m[3][2], a33 = m[3][3],\n\n    b00 = a00 * a11 - a01 * a10,\n    b01 = a00 * a12 - a02 * a10,\n    b02 = a00 * a13 - a03 * a10,\n    b03 = a01 * a12 - a02 * a11,\n    b04 = a01 * a13 - a03 * a11,\n    b05 = a02 * a13 - a03 * a12,\n    b06 = a20 * a31 - a21 * a30,\n    b07 = a20 * a32 - a22 * a30,\n    b08 = a20 * a33 - a23 * a30,\n    b09 = a21 * a32 - a22 * a31,\n    b10 = a21 * a33 - a23 * a31,\n    b11 = a22 * a33 - a23 * a32,\n\n    det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n  return mat4(\n    a11 * b11 - a12 * b10 + a13 * b09,\n    a02 * b10 - a01 * b11 - a03 * b09,\n    a31 * b05 - a32 * b04 + a33 * b03,\n    a22 * b04 - a21 * b05 - a23 * b03,\n    a12 * b08 - a10 * b11 - a13 * b07,\n    a00 * b11 - a02 * b08 + a03 * b07,\n    a32 * b02 - a30 * b05 - a33 * b01,\n    a20 * b05 - a22 * b02 + a23 * b01,\n    a10 * b10 - a11 * b08 + a13 * b06,\n    a01 * b08 - a00 * b10 - a03 * b06,\n    a30 * b04 - a31 * b02 + a33 * b00,\n    a21 * b02 - a20 * b04 - a23 * b00,\n    a11 * b07 - a10 * b09 - a12 * b06,\n    a00 * b09 - a01 * b07 + a02 * b06,\n    a31 * b01 - a30 * b03 - a32 * b00,\n    a20 * b03 - a21 * b01 + a22 * b00) / det;\n}\n\n/**\n * Adapted from original sources\n * \n * Original code: \n * http://jamie-wong.com/2016/07/15/ray-marching-signed-distance-functions/\n * https://www.shadertoy.com/view/lt33z7\n * \n * The vec3 returned is the RGB color of the light's contribution.\n *\n * k_a: Ambient color\n * k_d: Diffuse color\n * k_s: Specular color\n * alpha: Shininess coefficient\n * p: position of point being lit\n * eye: the position of the camera\n * lightPos: the position of the light\n * lightIntensity: color/intensity of the light\n *\n * See https://en.wikipedia.org/wiki/Phong_reflection_model#Description\n */\nvec3 phongShading(vec3 k_a, vec3 k_d, vec3 k_s, float shininess, vec3 p, vec3 eye,\n  vec3 lightPos, vec3 lightIntensity, vec3 normal) {\n  vec3 N = normal;\n  vec3 L = lightPos - p;\n  if (length(L) > 0.) {\n    L = L / length(L);\n  }\n  vec3 V = eye - p;\n  if (length(V) > 0.) {\n    V = V / length(V);\n  }\n  vec3 R = reflect(-L, N);\n  if (length(R) > 0.) {\n    R = R / length(R);\n  }\n\n  // https://en.wikipedia.org/wiki/Blinn%E2%80%93Phong_shading_model\n  vec3 h = L + V;\n  vec3 H = h;\n  if (length(h) > 0.) {\n    H = H / length(h);\n  }\n\n  float dotLN = dot(L, N);\n  float dotRV = dot(R, V);\n\n  if (dotLN < 0.) {\n    // Light not visible from this point on the surface\n    return k_a;\n  } \n\n  if (dotRV < 0.) {\n    // Light reflection in opposite direction as viewer, apply only diffuse\n    // component\n    return k_a + lightIntensity * (k_d * dotLN);\n  }\n\n  float specAngle = max(dot(H, normal), 0.0);\n  float specular = pow(dotRV, shininess); //pow(specAngle, shininess); // \n  return k_a + lightIntensity * (k_d * dotLN  + k_s * specular);\n}\n\nfloat PI = 3.14159265358979323846264 * 00000.1; // PI\n\n// expects values in the range of [0,1]x[0,1], returns values in the [0,1] range.\n// do not collapse into a single function per: http://byteblacksmith.com/improvements-to-the-canonical-one-liner-glsl-rand-for-opengl-es-2-0/\nhighp float rand( const in vec2 uv) {\n  const highp float a = 12.9898;\n  const highp float b = 78.233;\n  const highp float c = 43758.5453;\n  highp float dt = dot(uv.xy, vec2(a, b)), sn = mod(dt, PI);\n  return fract(sin(sn) * c);\n}\n\nvoid main(void) {\n  const int maxSteps = 1024;\n\n  // the ray\n  vec3 rayOrigin = cameraPosition;\n  vec3 rayDirection = normalize(vPos.xyz - rayOrigin);\n\n  vec3 lightOrigin = uLightPositionInCamera == 1 ? cameraPosition : uLightPosition;\n\n  // the Axe-Aligned B-Box\n  vec3 AABBMin = vec3(uWorldBBox[0], uWorldBBox[2], uWorldBBox[4]);\n  vec3 AABBMax = vec3(uWorldBBox[1], uWorldBBox[3], uWorldBBox[5]);\n\n  // Intersection ray/bbox\n  float tNear, tFar;\n  bool intersect = false;\n  "+r.a.api(this,"rayOrigin","rayDirection","AABBMin","AABBMax","tNear","tFar","intersect")+"\n  if (tNear < 0.0) tNear = 0.0;\n\n  // x / y should be within o-1\n  // should\n  float offset = rand(gl_FragCoord.xy);\n\n  // init the ray marching\n  float tStep = (tFar - tNear) / float(uSteps);\n  float tCurrent = tNear + offset * tStep;\n  vec4 accumulatedColor = vec4(0.0);\n  float accumulatedAlpha = 0.0;\n\n  // MIP volume rendering\n  float maxIntensity = 0.0;\n\n  mat4 dataToWorld = inverse(uWorldToData);\n\n  // rayOrigin -= rayDirection * 0.1; // gold_noise(vPos.xz, vPos.y) / 100.;  \n\n  for(int rayStep = 0; rayStep < maxSteps; rayStep++){\n    vec3 currentPosition = rayOrigin + rayDirection * tCurrent;\n    // some non-linear FUN\n    // some occlusion issue to be fixed\n    vec3 transformedPosition = currentPosition; //transformPoint(currentPosition, uAmplitude, uFrequence);\n    // world to data coordinates\n    // rounding trick\n    // first center of first voxel in data space is CENTERED on (0,0,0)\n    vec4 dataCoordinatesRaw = uWorldToData * vec4(transformedPosition, 1.0);\n    vec3 currentVoxel = vec3(dataCoordinatesRaw.x, dataCoordinatesRaw.y, dataCoordinatesRaw.z);\n    float intensity = 0.0;\n    vec3 gradient = vec3(0., 0., 0.);\n    getIntensity(currentVoxel, intensity, gradient);\n    // map gradient to world space and normalize before using\n    // we avoid to call \"normalize\" as it may be undefined if vector length == 0.\n    gradient = (vec3(dataToWorld * vec4(gradient, 0.)));\n    if (length(gradient) > 0.0) {\n      gradient = normalize(gradient);\n    }\n\n    vec4 colorSample;\n    float alphaSample;\n    if(uLut == 1){\n      vec4 colorFromLUT = texture2D( uTextureLUT, vec2( intensity, 1.0) );\n      // 256 colors\n      colorSample = colorFromLUT;\n      alphaSample = colorFromLUT.a;\n    }\n    else{\n      alphaSample = intensity;\n      colorSample.r = colorSample.g = colorSample.b = intensity;\n    }\n\n    // ray marching algorithm\n    // shading on\n    // interpolation on\n    if (uAlgorithm == 0 && uShading == 1 && uInterpolation != 0) {\n      //  && alphaSample > .3\n      vec3 ambientComponent = uSampleColorToAmbient == 1 ? colorSample.xyz : uAmbientColor;\n      ambientComponent *= uAmbient;\n      vec3 diffuseComponent = uSampleColorToDiffuse == 1 ? colorSample.xyz : uDiffuseColor;\n      diffuseComponent *= uDiffuse;\n      vec3 specularComponent = uSpecular * uSpecularColor;\n      float shininess = uShininess;\n      vec3 vIntensity = uIntensity;\n\n      colorSample.xyz += phongShading(\n        ambientComponent,\n        diffuseComponent,\n        specularComponent,\n        shininess,\n        currentPosition.xyz,\n        rayOrigin.xyz,\n        lightOrigin.xyz,\n        vIntensity,\n        gradient);\n    }\n\n    alphaSample = 1.0 - pow((1.0- alphaSample),tStep*uAlphaCorrection);\n    alphaSample *= (1.0 - accumulatedAlpha);\n\n    accumulatedColor += alphaSample * colorSample;\n    accumulatedAlpha += alphaSample;\n\n    tCurrent += tStep;\n\n    if (tCurrent > tFar || (uAlgorithm == 0 && accumulatedAlpha >= 1.0)) break;\n\n    if (uAlgorithm == 1 && (intensity >= maxIntensity)) {\n      maxIntensity = intensity;\n      accumulatedColor = colorSample;\n      accumulatedAlpha = 1.;\n    }\n  }\n\n  gl_FragColor = vec4(accumulatedColor.xyz, accumulatedAlpha);\n}\n   "},e.prototype.compute=function(){return"\n// uniforms\n"+this.uniforms()+"\n\n// varying (should fetch it from vertex directly)\nvarying vec4      vPos;\n\n// tailored functions\n"+this.functions()+"\n\n// main loop\n"+this._main+"\n      "},e}();t.a=o},function(e,t,i){"use strict";var n=function(){function e(){!function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.prototype.compute=function(){return"\nvarying vec4 vPos;\n\n//\n// main\n//\nvoid main() {\n\n  vPos = modelMatrix * vec4(position, 1.0 );\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0 );\n\n}\n        "},e}();t.a=n},function(e,t,i){"use strict";var n=i(12),r=function(){function e(e,t){for(var i=0,n;i<t.length;i++){n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=function(e){function t(){!function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=babelHelpers.typeof(t)&&"function"!=typeof t?e:t}(this,e.call(this));return i._concatenationUID=-1,i._seriesInstanceUID=-1,i._transferSyntaxUID="",i._seriesNumber=-1,i._seriesDescription="",i._seriesDate="",i._studyDescription="",i._studyDate="",i._accessionNumber=-1,i._modality="Modality not set",i._dimensionIndexSequence=[],i._numberOfFrames=0,i._numberOfChannels=1,i._patientID="",i._patientName="",i._patientAge="",i._patientBirthdate="",i._patientSex="",i._segmentationType=null,i._segmentationSegments=[],i._stack=[],i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+babelHelpers.typeof(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.validate=function(t){return!!(e.prototype.validate.call(this,t)&&"function"==typeof t.mergeSeries&&t.hasOwnProperty("_seriesInstanceUID")&&t.hasOwnProperty("_numberOfFrames")&&t.hasOwnProperty("_numberOfChannels")&&t.hasOwnProperty("_stack")&&void 0!==t._stack&&Array===t._stack.constructor)},t.prototype.merge=function(e){return!!this.validate(e)&&this._seriesInstanceUID===e.seriesInstanceUID&&(e.stack[0]&&(0===this._stack[0]._numberOfFrames&&this._stack[0].computeNumberOfFrames(),this._stack[0].computeCosines(),0===e.stack[0]._numberOfFrames&&e.stack[0].computeNumberOfFrames(),e.stack[0].computeCosines()),this.mergeModels(this._stack,e.stack))},t.prototype.mergeSeries=function(e){var t=[this];return this.mergeModels(t,e),t},r(t,[{key:"seriesInstanceUID",set:function set(e){this._seriesInstanceUID=e},get:function get(){return this._seriesInstanceUID}},{key:"transferSyntaxUID",set:function set(e){this._transferSyntaxUID=e},get:function get(){return this._transferSyntaxUID}},{key:"transferSyntaxUIDLabel",get:function get(){switch(this._transferSyntaxUID){case"1.2.840.10008.1.2.4.90":return"JPEG 2000 Lossless";case"1.2.840.10008.1.2.4.91":return"JPEG 2000 Lossy";case"1.2.840.10008.1.2.4.57":return"JPEG Lossless, Nonhierarchical (Processes 14)";case"1.2.840.10008.1.2.4.70":return"JPEG Lossless, Nonhierarchical (Processes 14 [Selection 1])";case"1.2.840.10008.1.2.4.50":return"JPEG Baseline lossy process 1 (8 bit)";case"1.2.840.10008.1.2.4.51":return"JPEG Baseline lossy process 2 & 4 (12 bit)";case"1.2.840.10008.1.2":return"Implicit VR Little Endian";case"1.2.840.10008.1.2.1":return"Explicit VR Little Endian";case"1.2.840.10008.1.2.2":return"Explicit VR Big Endian";default:return"Unknown transfersyntax: "+this._transferSyntaxUID;}}},{key:"studyDate",set:function set(e){this._studyDate=e},get:function get(){return this._studyDate}},{key:"studyDescription",set:function set(e){this._studyDescription=e},get:function get(){return this._studyDescription}},{key:"seriesDate",set:function set(e){this._seriesDate=e},get:function get(){return this._seriesDate}},{key:"seriesDescription",set:function set(e){this._seriesDescription=e},get:function get(){return this._seriesDescription}},{key:"patientID",set:function set(e){this._patientID=e},get:function get(){return this._patientID}},{key:"patientName",set:function set(e){this._patientName=e},get:function get(){return this._patientName}},{key:"patientAge",set:function set(e){this._patientAge=e},get:function get(){return this._patientAge}},{key:"patientBirthdate",set:function set(e){this._patientBirthdate=e},get:function get(){return this._patientBirthdate}},{key:"patientSex",set:function set(e){this._patientSex=e},get:function get(){return this._patientSex}},{key:"numberOfFrames",set:function set(e){this._numberOfFrames=e},get:function get(){return this._numberOfFrames}},{key:"numberOfChannels",set:function set(e){this._numberOfChannels=e},get:function get(){return this._numberOfChannels}},{key:"stack",set:function set(e){this._stack=e},get:function get(){return this._stack}},{key:"modality",set:function set(e){this._modality=e},get:function get(){return this._modality}},{key:"segmentationType",set:function set(e){this._segmentationType=e},get:function get(){return this._segmentationType}},{key:"segmentationSegments",set:function set(e){this._segmentationSegments=e},get:function get(){return this._segmentationSegments}}]),t}(n.a);t.a=o},function(e,t,i){"use strict";var n=i(4),r=i(0),o=i(13),a=i(18),s=i(1),l=i(12),c=function(){function e(e,t){for(var i=0,n;i<t.length;i++){n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),h=i(130),u=function(e){function t(){!function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=babelHelpers.typeof(t)&&"function"!=typeof t?e:t}(this,e.call(this));return i._uid=null,i._stackID=-1,i._frame=[],i._numberOfFrames=0,i._rows=0,i._columns=0,i._numberOfChannels=1,i._bitsAllocated=8,i._pixelType=0,i._pixelRepresentation=0,i._textureSize=4096,i._textureUnits=7,i._rawData=[],i._windowCenter=0,i._windowWidth=0,i._rescaleSlope=1,i._rescaleIntercept=0,i._minMax=[_NumberPOSITIVE_INFINITY,_NumberNEGATIVE_INFINITY],i._regMatrix=new n.a,i._ijk2LPS=null,i._lps2IJK=null,i._aabb2LPS=null,i._lps2AABB=null,i._dimensionsIJK=null,i._halfDimensionsIJK=null,i._spacing=new r.a(1,1,1),i._spacingBetweenSlices=0,i._sliceThickness=0,i._origin=null,i._rightHanded=!0,i._xCosine=new r.a(1,0,0),i._yCosine=new r.a(0,1,0),i._zCosine=new r.a(0,0,1),i._prepared=!1,i._packed=!1,i._packedPerPixel=1,i._modality="Modality not set",i._segmentationType=null,i._segmentationSegments=[],i._segmentationDefaultColor=[63,174,128],i._frameSegment=[],i._segmentationLUT=[],i._segmentationLUTO=[],i._invert=!1,i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+babelHelpers.typeof(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.prepareSegmentation=function(){this._frameSegment=this._frame;var e=[];this.computeCosines(),this._frame.map(this._computeDistanceArrayMap.bind(null,this._zCosine)),this._frame.sort(this._sortDistanceArraySort);for(var t=-1,i=0;i<this._frame.length;i++){if(e[t]&&e[t]._dist==this._frame[i]._dist)for(var n=0;n<e[t]._rows*e[t]._columns;n++){e[t]._pixelData[n]+=this._frame[i].pixelData[n]*this._frame[i]._referencedSegmentNumber}else{e.push(this._frame[i]),t++;for(var r=0;r<e[t]._rows*e[t]._columns;r++){e[t]._pixelData[r]*=this._frame[i]._referencedSegmentNumber}}e[t].minMax=s.a.minMax(e[t]._pixelData)}for(var o={},l=0,c=0;c<this._segmentationSegments.length;c++){l=_Mathmax(l,parseInt(this._segmentationSegments[c].segmentNumber,10));var h=this._segmentationSegments[c].recommendedDisplayCIELab;o[this._segmentationSegments[c].segmentNumber]=null===h?this._segmentationDefaultColor:a.a.cielab2RGB.apply(a.a,h)}for(var u=0;u<=l;u++){var f=u/l,d=u?1:0,p=[0,0,0];o.hasOwnProperty(u.toString())&&(p=o[u.toString()]),p[0]/=255,p[1]/=255,p[2]/=255,this._segmentationLUT.push([f].concat(p)),this._segmentationLUTO.push([f,d])}this._frame=e},t.prototype.prepare=function(){"SEG"===this._modality&&this.prepareSegmentation(),this.computeNumberOfFrames(),this._rows=this._frame[0].rows,this._columns=this._frame[0].columns,this._dimensionsIJK=new r.a(this._columns,this._rows,this._numberOfFrames),this._halfDimensionsIJK=new r.a(this._dimensionsIJK.x/2,this._dimensionsIJK.y/2,this._dimensionsIJK.z/2),this._spacingBetweenSlices=this._frame[0].spacingBetweenSlices,this._sliceThickness=this._frame[0].sliceThickness,this.computeCosines(),1<this._numberOfFrames&&this.orderFrames(),this.computeSpacing(),this._frame[0].imagePosition||(this._frame[0].imagePosition=[0,0,0]),this._frame[0].imageOrientation||(this._frame[0].imageOrientation=[1,0,0,0,1,0]),this._origin=this._arrayToVector3(this._frame[0].imagePosition,0),this.computeIJK2LPS(),this.computeLPS2AABB();var e=_Mathfloor(this._frame.length/2),t=this._frame[e];this._rescaleSlope=t.rescaleSlope||1,this._rescaleIntercept=t.rescaleIntercept||0,this.computeMinMaxIntensities(),this._minMax[0]=s.a.rescaleSlopeIntercept(this._minMax[0],this._rescaleSlope,this._rescaleIntercept),this._minMax[1]=s.a.rescaleSlopeIntercept(this._minMax[1],this._rescaleSlope,this._rescaleIntercept),this._windowWidth=t.windowWidth||this._minMax[1]-this._minMax[0],this._windowCenter=t.windowCenter||this._minMax[0]+this._windowWidth/2,this._bitsAllocated=t.bitsAllocated,this._prepared=!0},t.prototype.packEchos=function(){for(var e=[],t=0;t<this._frame.length;t+=4){for(var i=this._frame[t],n=0;n<this._rows*this._columns;n++){for(var o=1;4>o;o++){i.pixelData[n]+=this._frame[t+o].pixelData[n]}i.pixelData[n]/=4}e.push(i)}this._frame=e,this._numberOfFrames=this._frame.length,this._dimensionsIJK=new r.a(this._columns,this._rows,this._numberOfFrames),this._halfDimensionsIJK=new r.a(this._dimensionsIJK.x/2,this._dimensionsIJK.y/2,this._dimensionsIJK.z/2)},t.prototype.computeNumberOfFrames=function(){if(!(this._frame&&0<this._frame.length))return window.console.warn("_frame doesn't contain anything...."),window.console.warn(this._frame),!1;this._numberOfFrames=this._frame.length},t.prototype.computeCosines=function(){if(this._frame&&this._frame[0]){var e=this._frame[0].cosines();this._xCosine=e[0],this._yCosine=e[1],this._zCosine=e[2]}},t.prototype.orderFrames=function(){this._frame[0].dimensionIndexValues?this._frame.sort(this._orderFrameOnDimensionIndicesArraySort):this._frame[0].imagePosition&&this._frame[0].imageOrientation&&this._frame[1]&&this._frame[1].imagePosition&&this._frame[1].imageOrientation&&this._frame[0].imagePosition.join()!==this._frame[1].imagePosition.join()?(this._frame.map(this._computeDistanceArrayMap.bind(null,this._zCosine)),this._frame.sort(this._sortDistanceArraySort)):null!==this._frame[0].instanceNumber&&this._frame[1]&&null!==this._frame[1].instanceNumber&&this._frame[0].instanceNumber!==this._frame[1].instanceNumber?this._frame.sort(this._sortInstanceNumberArraySort):this._frame[0].sopInstanceUID&&this._frame[1]&&this._frame[1].sopInstanceUID&&this._frame[0].sopInstanceUID!==this._frame[1].sopInstanceUID?this._frame.sort(this._sortSopInstanceUIDArraySort):this._frame[0].imagePosition&&window.console.warn("do not know how to order the frames...")},t.prototype.computeSpacing=function(){this.xySpacing(),this.zSpacing()},t.prototype.zSpacing=function(){1<this._numberOfFrames&&(this._frame[0].pixelSpacing&&this._frame[0].pixelSpacing[2]?this._spacing.z=this._frame[0].pixelSpacing[2]:(this._frame.map(this._computeDistanceArrayMap.bind(null,this._zCosine)),this._frame[1].dist!==this._frame[0].dist?(this._frame.sort(this._sortDistanceArraySort),this._spacing.z=this._frame[1].dist-this._frame[0].dist):this._spacingBetweenSlices?this._spacing.z=this._spacingBetweenSlices:this._frame[0].sliceThickness&&(this._spacing.z=this._frame[0].sliceThickness))),0===this._spacing.z&&(this._spacing.z=1)},t.prototype.xySpacing=function(){if(this._frame&&this._frame[0]){var e=this._frame[0].spacingXY();this._spacing.x=e[0],this._spacing.y=e[1]}},t.prototype.computeMinMaxIntensities=function(){for(var e=0,t;e<this._frame.length;e++){t=this._frame[e].minMax[0];_NumberisNaN(t)||(this._minMax[0]=_Mathmin(this._minMax[0],t));var i=this._frame[e].minMax[1];_NumberisNaN(i)||(this._minMax[1]=_Mathmax(this._minMax[1],i))}},t.prototype.computeIJK2LPS=function(){this._ijk2LPS=s.a.ijk2LPS(this._xCosine,this._yCosine,this._zCosine,this._spacing,this._origin,this._regMatrix),this._lps2IJK=new n.a,this._lps2IJK.getInverse(this._ijk2LPS)},t.prototype.computeLPS2AABB=function(){this._aabb2LPS=s.a.aabb2LPS(this._xCosine,this._yCosine,this._zCosine,this._origin),this._lps2AABB=new n.a,this._lps2AABB.getInverse(this._aabb2LPS)},t.prototype.merge=function(e){return!!(this._stackID===e.stackID&&1===this._numberOfFrames&&1===e._numberOfFrames&&this._frame[0].columns===e.frame[0].columns&&this._frame[0].rows===e.frame[0].rows&&this._xCosine.equals(e.xCosine)&&this._yCosine.equals(e.yCosine)&&this._zCosine.equals(e.zCosine))&&this.mergeModels(this._frame,e.frame)},t.prototype.pack=function(){var e=this._dimensionsIJK.x*this._dimensionsIJK.y*this._dimensionsIJK.z;(8===this._bitsAllocated&&1===this._numberOfChannels||1===this._bitsAllocated)&&(this._packedPerPixel=4),16===this._bitsAllocated&&1===this._numberOfChannels&&(this._packedPerPixel=2);var t=this._textureSize*this._textureSize,i=_Mathceil(e/(t*this._packedPerPixel)),n=0,r=this._packedPerPixel*t;r>e&&(r=e),this._textureUnits<i&&(console.warn("Insufficient number of supported textures. Some frames will not be packed."),i=this._textureUnits);for(var o=0,a;o<i;o++){a=this._packTo8Bits(this._numberOfChannels,this._frame,this._textureSize,n,r);this._textureType=a.textureType,this._rawData.push(a.data),n+=this._packedPerPixel*t,(r+=this._packedPerPixel*t)>e&&(r=e)}this._packed=!0},t.prototype._packTo8Bits=function(e,t,i,n,r){var a={textureType:null,data:null},s=t[0].bitsAllocated,l=t[0].pixelType,c=0;0>this._minMax[0]&&(c-=this._minMax[0]);var u=0,f=0,d=0,p=t[0].rows*t[0].columns;if(8===s&&1===e||1===s){for(var _=new Uint8Array(4*(i*i)),m=0,b=0,y=n;y<r;y++){d=y%p;var g=t[f=~~(y/p)].pixelData[d]+c;_NumberisNaN(g)||(_[4*m+b]=g),u++,m=_Mathfloor(u/4),b=u%4}a.textureType=o.a,a.data=_}else if(16===s&&1===e){for(var v=new Uint8Array(4*(i*i)),A=0,w=0,x=n;x<r;x++){d=x%p;var k=t[f=~~(x/p)].pixelData[d]+c;_NumberisNaN(k)||(v[4*A+2*w]=255&k,v[4*A+2*w+1]=255&k>>>8),u++,A=_Mathfloor(u/2),w=u%2}a.textureType=o.a,a.data=v}else if(32===s&&1===e&&0===l){for(var I=new Uint8Array(4*(i*i)),S=n;S<r;S++){d=S%p;var E=t[f=~~(S/p)].pixelData[d]+c;_NumberisNaN(E)||(I[4*u]=255&E,I[4*u+1]=255&E>>>8,I[4*u+2]=255&E>>>16,I[4*u+3]=255&E>>>24),u++}a.textureType=o.a,a.data=I}else if(32===s&&1===e&&1===l){for(var C=new Uint8Array(4*(i*i)),B=n;B<r;B++){d=B%p;var M=t[f=~~(B/p)].pixelData[d]+c;if(!_NumberisNaN(M)){var P=h(M).match(/.{1,8}/g);C[4*u]=parseInt(P[0],2),C[4*u+1]=parseInt(P[1],2),C[4*u+2]=parseInt(P[2],2),C[4*u+3]=parseInt(P[3],2)}u++}a.textureType=o.a,a.data=C}else if(8===s&&3===e){for(var T=new Uint8Array(3*(i*i)),D=n;D<r;D++){f=~~(D/p),d=D%p,T[3*u]=t[f].pixelData[3*d],T[3*u+1]=t[f].pixelData[3*d+1],T[3*u+2]=t[f].pixelData[3*d+2],u++}a.textureType=o.b,a.data=T}return a},t.prototype.worldCenter=function(){return this._halfDimensionsIJK.clone().addScalar(-.5).applyMatrix4(this._ijk2LPS)},t.prototype.worldBoundingBox=function(){for(var e=[_NumberPOSITIVE_INFINITY,_NumberNEGATIVE_INFINITY,_NumberPOSITIVE_INFINITY,_NumberNEGATIVE_INFINITY,_NumberPOSITIVE_INFINITY,_NumberNEGATIVE_INFINITY],t=this._dimensionsIJK,i=0;i<=t.x;i+=t.x){for(var n=0;n<=t.y;n+=t.y){for(var o=0,a;o<=t.z;o+=t.z){a=new r.a(i,n,o).applyMatrix4(this._ijk2LPS);e=[_Mathmin(e[0],a.x),_Mathmax(e[1],a.x),_Mathmin(e[2],a.y),_Mathmax(e[3],a.y),_Mathmin(e[4],a.z),_Mathmax(e[5],a.z)]}}}return e},t.prototype.AABBox=function(){var e=new r.a().addScalar(-.5).applyMatrix4(this._ijk2LPS).applyMatrix4(this._lps2AABB),t=this._dimensionsIJK.clone().addScalar(-.5).applyMatrix4(this._ijk2LPS).applyMatrix4(this._lps2AABB);return new r.a(_Mathabs(e.x-t.x),_Mathabs(e.y-t.y),_Mathabs(e.z-t.z))},t.prototype.centerAABBox=function(){var e=this.worldCenter();return e.applyMatrix4(this._lps2AABB),e},t.indexInDimensions=function(e,t){return 0<=e.x&&0<=e.y&&0<=e.z&&e.x<t.x&&e.y<t.y&&e.z<t.z},t.prototype._arrayToVector3=function(e,t){return new r.a(e[t],e[t+1],e[t+2])},t.prototype._orderFrameOnDimensionIndicesArraySort=function(e,t){if("dimensionIndexValues"in e&&"[object Array]"===Object.prototype.toString.call(e.dimensionIndexValues)&&"dimensionIndexValues"in t&&"[object Array]"===Object.prototype.toString.call(t.dimensionIndexValues))for(var i=0;i<e.dimensionIndexValues.length;i++){if(parseInt(e.dimensionIndexValues[i],10)>parseInt(t.dimensionIndexValues[i],10))return 1;if(parseInt(e.dimensionIndexValues[i],10)<parseInt(t.dimensionIndexValues[i],10))return-1}else window.console.warn("One of the frames doesn't have a dimensionIndexValues array."),window.console.warn(e),window.console.warn(t);return 0},t.prototype._computeDistanceArrayMap=function(e,t){return t.imagePosition&&(t.dist=t.imagePosition[0]*e.x+t.imagePosition[1]*e.y+t.imagePosition[2]*e.z),t},t.prototype._sortDistanceArraySort=function(e,t){return e.dist-t.dist},t.prototype._sortInstanceNumberArraySort=function(e,t){return e.instanceNumber-t.instanceNumber},t.prototype._sortSopInstanceUIDArraySort=function(e,t){return e.sopInstanceUID-t.sopInstanceUID},t.value=function(e,t){return window.console.warn("models.stack.value is deprecated.\n       Please use core.utils.value instead."),s.a.value(e,t)},t.valueRescaleSlopeIntercept=function(e,t,i){return window.console.warn("models.stack.valueRescaleSlopeIntercept is deprecated.\n       Please use core.utils.rescaleSlopeIntercept instead."),s.a.rescaleSlopeIntercept(e,t,i)},t.worldToData=function(e,t){return window.console.warn("models.stack.worldToData is deprecated.\n       Please use core.utils.worldToData instead."),s.a.worldToData(e._lps2IJK,t)},c(t,[{key:"numberOfChannels",set:function set(e){this._numberOfChannels=e},get:function get(){return this._numberOfChannels}},{key:"frame",set:function set(e){this._frame=e},get:function get(){return this._frame}},{key:"prepared",set:function set(e){this._prepared=e},get:function get(){return this._prepared}},{key:"packed",set:function set(e){this._packed=e},get:function get(){return this._packed}},{key:"packedPerPixel",set:function set(e){this._packedPerPixel=e},get:function get(){return this._packedPerPixel}},{key:"dimensionsIJK",set:function set(e){this._dimensionsIJK=e},get:function get(){return this._dimensionsIJK}},{key:"halfDimensionsIJK",set:function set(e){this._halfDimensionsIJK=e},get:function get(){return this._halfDimensionsIJK}},{key:"regMatrix",set:function set(e){this._regMatrix=e},get:function get(){return this._regMatrix}},{key:"ijk2LPS",set:function set(e){this._ijk2LPS=e},get:function get(){return this._ijk2LPS}},{key:"lps2IJK",set:function set(e){this._lps2IJK=e},get:function get(){return this._lps2IJK}},{key:"lps2AABB",set:function set(e){this._lps2AABB=e},get:function get(){return this._lps2AABB}},{key:"textureSize",set:function set(e){this._textureSize=e},get:function get(){return this._textureSize}},{key:"textureUnits",set:function set(e){this._textureUnits=e},get:function get(){return this._textureUnits}},{key:"textureType",set:function set(e){this._textureType=e},get:function get(){return this._textureType}},{key:"bitsAllocated",set:function set(e){this._bitsAllocated=e},get:function get(){return this._bitsAllocated}},{key:"rawData",set:function set(e){this._rawData=e},get:function get(){return this._rawData}},{key:"windowWidth",get:function get(){return this._windowWidth},set:function set(e){this._windowWidth=e}},{key:"windowCenter",get:function get(){return this._windowCenter},set:function set(e){this._windowCenter=e}},{key:"rescaleSlope",get:function get(){return this._rescaleSlope},set:function set(e){this._rescaleSlope=e}},{key:"rescaleIntercept",get:function get(){return this._rescaleIntercept},set:function set(e){this._rescaleIntercept=e}},{key:"xCosine",get:function get(){return this._xCosine},set:function set(e){this._xCosine=e}},{key:"yCosine",get:function get(){return this._yCosine},set:function set(e){this._yCosine=e}},{key:"zCosine",get:function get(){return this._zCosine},set:function set(e){this._zCosine=e}},{key:"minMax",get:function get(){return this._minMax},set:function set(e){this._minMax=e}},{key:"stackID",get:function get(){return this._stackID},set:function set(e){this._stackID=e}},{key:"pixelType",get:function get(){return this._pixelType},set:function set(e){this._pixelType=e}},{key:"pixelRepresentation",get:function get(){return this._pixelRepresentation},set:function set(e){this._pixelRepresentation=e}},{key:"invert",set:function set(e){this._invert=e},get:function get(){return this._invert}},{key:"modality",set:function set(e){this._modality=e},get:function get(){return this._modality}},{key:"rightHanded",get:function get(){return this._rightHanded},set:function set(e){this._rightHanded=e}},{key:"spacingBetweenSlices",get:function get(){return this._spacingBetweenSlices},set:function set(e){this._spacingBetweenSlices=e}},{key:"segmentationSegments",set:function set(e){this._segmentationSegments=e},get:function get(){return this._segmentationSegments}},{key:"segmentationType",set:function set(e){this._segmentationType=e},get:function get(){return this._segmentationType}},{key:"segmentationLUT",set:function set(e){this._segmentationLUT=e},get:function get(){return this._segmentationLUT}},{key:"segmentationLUTO",set:function set(e){this._segmentationLUTO=e},get:function get(){return this._segmentationLUTO}}]),t}(l.a);t.a=u},function(e,t,i){"use strict";var n=i(12),r=i(0),o=function(){function e(e,t){for(var i=0,n;i<t.length;i++){n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function(e){function t(){!function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=babelHelpers.typeof(t)&&"function"!=typeof t?e:t}(this,e.call(this));return i._sopInstanceUID=null,i._url=null,i._stackID=-1,i._invert=!1,i._frameTime=null,i._ultrasoundRegions=[],i._rows=0,i._columns=0,i._dimensionIndexValues=[],i._imagePosition=null,i._imageOrientation=null,i._rightHanded=!0,i._sliceThickness=1,i._spacingBetweenSlices=null,i._pixelPaddingValue=null,i._pixelRepresentation=0,i._pixelType=0,i._pixelSpacing=null,i._pixelAspectRatio=null,i._pixelData=null,i._instanceNumber=null,i._windowCenter=null,i._windowWidth=null,i._rescaleSlope=null,i._rescaleIntercept=null,i._bitsAllocated=8,i._numberOfChannels=1,i._minMax=null,i._dist=null,i._index=-1,i._referencedSegmentNumber=-1,i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+babelHelpers.typeof(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.validate=function(t){return!!(e.prototype.validate.call(this,t)&&"function"==typeof t.cosines&&"function"==typeof t.spacingXY&&t.hasOwnProperty("_sopInstanceUID")&&t.hasOwnProperty("_dimensionIndexValues")&&t.hasOwnProperty("_imageOrientation")&&t.hasOwnProperty("_imagePosition"))},t.prototype.merge=function(e){return!!this.validate(e)&&!!(this._compareArrays(this._dimensionIndexValues,e.dimensionIndexValues)&&this._compareArrays(this._imageOrientation,e.imageOrientation)&&this._compareArrays(this._imagePosition,e.imagePosition)&&this._instanceNumber===e.instanceNumber&&this._sopInstanceUID===e.sopInstanceUID)},t.prototype.cosines=function(){var e=[new r.a(1,0,0),new r.a(0,1,0),new r.a(0,0,1)];if(this._imageOrientation&&6===this._imageOrientation.length){var t=new r.a(this._imageOrientation[0],this._imageOrientation[1],this._imageOrientation[2]),i=new r.a(this._imageOrientation[3],this._imageOrientation[4],this._imageOrientation[5]);0<t.length()&&0<i.length()&&(e[0]=t,e[1]=i,e[2]=new r.a(0,0,0).crossVectors(e[0],e[1]).normalize())}else window.console.log("No valid image orientation for frame"),window.console.log(this),window.console.log("Returning default orientation.");return this._rightHanded||e[2].negate(),e},t.prototype.spacingXY=function(){var e=[1,1];return this.pixelSpacing?(e[0]=this.pixelSpacing[0],e[1]=this.pixelSpacing[1]):this.pixelAspectRatio&&(e[0]=1,e[1]=1*this.pixelAspectRatio[1]/this.pixelAspectRatio[0]),e},t.prototype.getPixelData=function(e,t){return 0<=e&&e<this._columns&&0<=t&&t<this._rows?this.pixelData[e+this._columns*t]:null},t.prototype.setPixelData=function(e,t,i){this.pixelData[e+this._columns*t]=i},t.prototype.getImageDataUrl=function(){var e=document.createElement("canvas");e.width=this._columns,e.height=this._rows;var t=e.getContext("2d"),i=t.createImageData(e.width,e.height);return i.data.set(this._frameToCanvas()),t.putImageData(i,0,0),e.toDataURL()},t.prototype._frameToCanvas=function(){var e=this._columns*this._rows,t={invert:this._invert,min:this._minMax[0],padding:this._pixelPaddingValue},i=new Uint8Array(4*e);if(null!==t.padding){t.min=this._minMax[1];for(var n=0,r=this._pixelData.length;n<r;n++){this._pixelData[n]!==t.padding&&(t.min=_Mathmin(t.min,this._pixelData[n]))}}if(this._windowWidth&&null!==this._windowCenter){var o=this._rescaleIntercept||0,a=this._rescaleSlope||1;t.min=_Mathmax((this._windowCenter-this._windowWidth/2-o)/a,t.min),t.max=_Mathmin((this._windowCenter+this._windowWidth/2-o)/a,this._minMax[1])}else t.max=this._minMax[1];if(t.range=t.max-t.min||255,1===this._numberOfChannels)for(var s=0,l;s<e;s++){l=this._pixelTo8Bit(this._pixelData[s],t);i[4*s]=l,i[4*s+1]=l,i[4*s+2]=l,i[4*s+3]=255}else if(3===this._numberOfChannels)for(var c=0;c<e;c++){i[4*c]=this._pixelTo8Bit(this._pixelData[3*c],t),i[4*c+1]=this._pixelTo8Bit(this._pixelData[3*c+1],t),i[4*c+2]=this._pixelTo8Bit(this._pixelData[3*c+2],t),i[4*c+3]=255}return i},t.prototype._pixelTo8Bit=function(e,t){var i=e<=t.min||e===t.padding?0:255;return e>t.min&&e<t.max&&(i=_Mathround(255*(e-t.min)/t.range)),_NumberisNaN(i)?0:t.invert?255-i:i},t.prototype._compareArrays=function(e,t){return e===t||!(!e||!t||e.join()!==t.join())},o(t,[{key:"frameTime",get:function get(){return this._frameTime},set:function set(e){this._frameTime=e}},{key:"ultrasoundRegions",get:function get(){return this._ultrasoundRegions},set:function set(e){this._ultrasoundRegions=e}},{key:"rows",get:function get(){return this._rows},set:function set(e){this._rows=e}},{key:"columns",get:function get(){return this._columns},set:function set(e){this._columns=e}},{key:"spacingBetweenSlices",get:function get(){return this._spacingBetweenSlices},set:function set(e){this._spacingBetweenSlices=e}},{key:"sliceThickness",get:function get(){return this._sliceThickness},set:function set(e){this._sliceThickness=e}},{key:"imagePosition",get:function get(){return this._imagePosition},set:function set(e){this._imagePosition=e}},{key:"imageOrientation",get:function get(){return this._imageOrientation},set:function set(e){this._imageOrientation=e}},{key:"windowWidth",get:function get(){return this._windowWidth},set:function set(e){this._windowWidth=e}},{key:"windowCenter",get:function get(){return this._windowCenter},set:function set(e){this._windowCenter=e}},{key:"rescaleSlope",get:function get(){return this._rescaleSlope},set:function set(e){this._rescaleSlope=e}},{key:"rescaleIntercept",get:function get(){return this._rescaleIntercept},set:function set(e){this._rescaleIntercept=e}},{key:"bitsAllocated",get:function get(){return this._bitsAllocated},set:function set(e){this._bitsAllocated=e}},{key:"dist",get:function get(){return this._dist},set:function set(e){this._dist=e}},{key:"pixelSpacing",get:function get(){return this._pixelSpacing},set:function set(e){this._pixelSpacing=e}},{key:"pixelAspectRatio",get:function get(){return this._pixelAspectRatio},set:function set(e){this._pixelAspectRatio=e}},{key:"minMax",get:function get(){return this._minMax},set:function set(e){this._minMax=e}},{key:"dimensionIndexValues",get:function get(){return this._dimensionIndexValues},set:function set(e){this._dimensionIndexValues=e}},{key:"instanceNumber",get:function get(){return this._instanceNumber},set:function set(e){this._instanceNumber=e}},{key:"pixelData",get:function get(){return this._pixelData},set:function set(e){this._pixelData=e}},{key:"sopInstanceUID",set:function set(e){this._sopInstanceUID=e},get:function get(){return this._sopInstanceUID}},{key:"pixelPaddingValue",get:function get(){return this._pixelPaddingValue},set:function set(e){this._pixelPaddingValue=e}},{key:"pixelRepresentation",get:function get(){return this._pixelRepresentation},set:function set(e){this._pixelRepresentation=e}},{key:"pixelType",get:function get(){return this._pixelType},set:function set(e){this._pixelType=e}},{key:"url",get:function get(){return this._url},set:function set(e){this._url=e}},{key:"referencedSegmentNumber",get:function get(){return this._referencedSegmentNumber},set:function set(e){this._referencedSegmentNumber=e}},{key:"rightHanded",get:function get(){return this._rightHanded},set:function set(e){this._rightHanded=e}},{key:"index",get:function get(){return this._index},set:function set(e){this._index=e}},{key:"invert",get:function get(){return this._invert},set:function set(e){this._invert=e}},{key:"numberOfChannels",get:function get(){return this._numberOfChannels},set:function set(e){this._numberOfChannels=e}}]),t}(n.a);t.a=a},function(e,t,i){"use strict";var n=i(9),r=i(46),o=i.n(r),a=function(e){function t(i,n){!function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=babelHelpers.typeof(t)&&"function"!=typeof t?e:t}(this,e.call(this));if(r._id=n,r._arrayBuffer=i.buffer,r._url=i.url,r._dataSet=null,r._niftiHeader=null,r._niftiImage=null,r._ordered=!0,r._orderedData=null,r._qfac=1,!o.a.isNIFTI(r._arrayBuffer))throw new Error("parsers.nifti could not parse the file");return r._dataSet=o.a.readHeader(r._arrayBuffer),r._niftiImage=o.a.readImage(r._dataSet,r._arrayBuffer),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+babelHelpers.typeof(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.seriesInstanceUID=function(){return this._url},t.prototype.numberOfFrames=function(){return this._dataSet.dims[3]},t.prototype.numberOfChannels=function(){var e=1;return 5<=this._dataSet.dims[0]?(e=this._dataSet.dims[5],this._ordered=!1):128===this._dataSet.datatypeCode?e=3:2304===this._dataSet.datatypeCode&&(e=4),e},t.prototype.sopInstanceUID=function(){return 0<arguments.length&&void 0!==arguments[0]?arguments[0]:0},t.prototype.rows=function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0];return this._dataSet.dims[2]},t.prototype.columns=function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0];return this._dataSet.dims[1]},t.prototype.pixelType=function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0];var e=0;return 16!==this._dataSet.datatypeCode&&64!==this._dataSet.datatypeCode&&1536!==this._dataSet.datatypeCode||(e=1),e},t.prototype.bitsAllocated=function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0];return this._dataSet.numBitsPerVoxel},t.prototype.pixelSpacing=function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0];return[this._dataSet.pixDims[1],this._dataSet.pixDims[2],this._dataSet.pixDims[3]]},t.prototype.sliceThickness=function(){return null},t.prototype.imageOrientation=function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0];if(0<this._dataSet.qform_code){var e=0,t=this._dataSet.quatern_b,i=this._dataSet.quatern_c,n=this._dataSet.quatern_d;return 1e-7>(e=1-(t*t+i*i+n*n))?(t*=e=1/_Mathsqrt(t*t+i*i+n*n),i*=e,n*=e,e=0):e=_Mathsqrt(e),0>this._dataSet.pixDims[0]&&(this._rightHanded=!1),[-(e*e+t*t-i*i-n*n),-2*(t*i+e*n),2*(t*n-e*i),-2*(t*i-e*n),-(e*e+i*i-t*t-n*n),2*(i*n+e*t)]}if(0<this._dataSet.sform_code){var r=[-this._dataSet.affine[0][0],-this._dataSet.affine[0][1],this._dataSet.affine[0][2]],o=[-this._dataSet.affine[1][0],-this._dataSet.affine[1][1],this._dataSet.affine[0][2]];return[].concat(r,o)}return this._dataSet.qform_code,[1,0,0,0,1,0]},t.prototype.imagePosition=function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0];return[-this._dataSet.qoffset_x,-this._dataSet.qoffset_y,this._dataSet.qoffset_z]},t.prototype.dimensionIndexValues=function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0];return null},t.prototype.instanceNumber=function(){return 0<arguments.length&&void 0!==arguments[0]?arguments[0]:0},t.prototype.windowCenter=function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0];return null},t.prototype.windowWidth=function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0];return null},t.prototype.rescaleSlope=function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0];return this._dataSet.scl_slope},t.prototype.rescaleIntercept=function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0];return this._dataSet.scl_inter},t.prototype.extractPixelData=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;return this._decompressUncompressed(e)},t.prototype._decompressUncompressed=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=this.numberOfChannels(),i=this.rows(e)*this.columns(e)*t,n=e*i,r=this._niftiImage;if(this._ordered||null!==this._orderedData||this._reorderData(),null!==this._orderedData)return this._orderedData.slice(n,n+i);if(2===this._dataSet.datatypeCode)return new Uint8Array(r,n,i);if(256===this._dataSet.datatypeCode)return new Int8Array(r,n,i);if(512===this._dataSet.datatypeCode)return n*=2,new Uint16Array(r,n,i);if(4===this._dataSet.datatypeCode)return n*=2,new Int16Array(r,n,i);if(8===this._dataSet.datatypeCode)return n*=4,new Int32Array(r,n,i);if(16===this._dataSet.datatypeCode){n*=4;for(var o=new Float32Array(r,n,i),a=0;a<o.length;a++){o[a]!==1/0&&o[a]!==-1/0||(o[a]=0)}return o}window.console.warn("Unknown data type: datatypeCode : "+this._dataSet.datatypeCode)},t.prototype._reorderData=function(){var e=this.numberOfChannels(),t=this.rows()*this.columns()*e,i=this._niftiImage,n=t*this.numberOfFrames(),r=null;this._orderedData=null,2===this._dataSet.datatypeCode?(r=new Uint8Array(i,0,n),this._orderedData=new Uint8Array(r.length)):256===this._dataSet.datatypeCode?(r=new Int8Array(i,0,n),this._orderedData=new Int8Array(r.length)):512===this._dataSet.datatypeCode?(r=new Uint16Array(i,0,n),this._orderedData=new Uint16Array(r.length)):4===this._dataSet.datatypeCode?(r=new Int16Array(i,0,n),this._orderedData=new Int16Array(r.length)):16===this._dataSet.datatypeCode&&(r=new Float32Array(i,0,n),this._orderedData=new Float32Array(r.length));for(var o=r.length/3,a=0,s=0,l=o,c=2*o,h=0;h<o;h++){this._orderedData[a++]=r[s++],this._orderedData[a++]=r[l++],this._orderedData[a++]=r[c++]}this._ordered=!0},t}(n.a);t.a=a},function(e,t,i){"use strict";var n=i(9),r=i(78),o=i(108),a=i(147),s=i(148),l=i(150),c=i(151),h=void 0,u=function(e){function t(i,n){!function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=babelHelpers.typeof(t)&&"function"!=typeof t?e:t}(this,e.call(this));r._id=n,r._arrayBuffer=i.buffer;var o=new Uint8Array(r._arrayBuffer);r._dataSet=null;try{r._dataSet=a.parseDicom(o)}catch(e){throw window.console.log(e),new Error("parsers.dicom could not parse the file")}return r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+babelHelpers.typeof(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.seriesInstanceUID=function(){return this._dataSet.string("x0020000e")},t.prototype.studyInstanceUID=function(){return this._dataSet.string("x0020000d")},t.prototype.modality=function(){return this._dataSet.string("x00080060")},t.prototype.segmentationType=function(){return this._dataSet.string("x00620001")},t.prototype.segmentationSegments=function(){var e=[],t=this._dataSet.elements.x00620002;if(!t)return e;for(var i=0;i<t.items.length;i++){var n=this._recommendedDisplayCIELab(t.items[i]),r=this._segmentationCode(t.items[i]),o=t.items[i].dataSet.uint16("x00620004"),a=t.items[i].dataSet.string("x00620005"),s=t.items[i].dataSet.string("x00620008");e.push({recommendedDisplayCIELab:n,segmentationCodeDesignator:r.segmentationCodeDesignator,segmentationCodeValue:r.segmentationCodeValue,segmentationCodeMeaning:r.segmentationCodeMeaning,segmentNumber:o,segmentLabel:a,segmentAlgorithmType:s})}return e},t.prototype._segmentationCode=function(e){var t="unknown",i="unknown",n="unknown",r=e.dataSet.elements.x00082218;return r&&r.items&&0<r.items.length&&(t=r.items[0].dataSet.string("x00080102"),i=r.items[0].dataSet.string("x00080100"),n=r.items[0].dataSet.string("x00080104")),{segmentationCodeDesignator:t,segmentationCodeValue:i,segmentationCodeMeaning:n}},t.prototype._recommendedDisplayCIELab=function(e){if(!e.dataSet.elements.x0062000d)return null;for(var t=e.dataSet.elements.x0062000d.dataOffset,i=e.dataSet.elements.x0062000d.length,n=e.dataSet.byteArray.slice(t,t+i),r=new Uint16Array(i/2),o=0;o<i/2;o++){r[o]=(n[2*o+1]<<8)+n[2*o]}return[100*(r[0]/65535),255*(r[1]/65535)-128,255*(r[2]/65535)-128]},t.prototype.sopInstanceUID=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=this._findStringEverywhere("x2005140f","x00080018",e);return t},t.prototype.transferSyntaxUID=function(){return this._dataSet.string("x00020010")},t.prototype.studyDate=function(){return this._dataSet.string("x00080020")},t.prototype.studyDescription=function(){return this._dataSet.string("x00081030")},t.prototype.seriesDate=function(){return this._dataSet.string("x00080021")},t.prototype.seriesDescription=function(){return this._dataSet.string("x0008103e")},t.prototype.patientName=function(){return this._dataSet.string("x00100010")},t.prototype.patientID=function(){return this._dataSet.string("x00100020")},t.prototype.patientBirthdate=function(){return this._dataSet.string("x00100030")},t.prototype.patientSex=function(){return this._dataSet.string("x00100040")},t.prototype.patientAge=function(){return this._dataSet.string("x00101010")},t.prototype.photometricInterpretation=function(){return this._dataSet.string("x00280004")},t.prototype.planarConfiguration=function(){var e=this._dataSet.uint16("x00280006");return void 0===e&&(e=null),e},t.prototype.samplesPerPixel=function(){return this._dataSet.uint16("x00280002")},t.prototype.numberOfFrames=function(){var e=this._dataSet.intString("x00280008");return void 0===e&&(e=null),e},t.prototype.numberOfChannels=function(){var e=1,t=this.photometricInterpretation();return"RGB"!==t&&"PALETTE COLOR"!==t&&"YBR_FULL"!==t&&"YBR_FULL_422"!==t&&"YBR_PARTIAL_422"!==t&&"YBR_PARTIAL_420"!==t&&"YBR_RCT"!==t||(e=3),e},t.prototype.invert=function(){return"MONOCHROME1"===this.photometricInterpretation()},t.prototype.imageOrientation=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=this._findStringEverywhere("x00209116","x00200037",e);return t&&(t=t.split("\\").map(Number)),t},t.prototype.referencedSegmentNumber=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=-1,i=this._findInGroupSequence("x52009230","x0062000a",e);return null!==i&&(t=i.uint16("x0062000b")),t},t.prototype.pixelAspectRatio=function(){var e=[this._dataSet.intString("x00280034",0),this._dataSet.intString("x00280034",1)];return void 0===e[0]&&(e=null),e},t.prototype.imagePosition=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=this._findStringEverywhere("x00209113","x00200032",e);return t&&(t=t.split("\\").map(Number)),t},t.prototype.instanceNumber=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=null,i=this._dataSet.elements.x52009230;void 0!==i?i.items[e].dataSet.elements.x2005140f?t=i.items[e].dataSet.elements.x2005140f.items[0].dataSet.intString("x00200013"):(t=this._dataSet.intString("x00200013"),void 0===t&&(t=null)):(t=this._dataSet.intString("x00200013"),void 0===t&&(t=null));return t},t.prototype.pixelSpacing=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=this._findStringEverywhere("x00289110","x00280030",e);return null===t&&(t=this._dataSet.string("x00181164")),t&&(t=t.split("\\").map(Number)),void 0===t&&(t=null),t},t.prototype.ultrasoundRegions=function(){var e=this,t=(0<arguments.length&&void 0!==arguments[0]&&arguments[0],this._dataSet.elements.x00186011);if(!t||!t.items)return[];var i=[];return t.items.forEach(function(t){i.push({x0:t.dataSet.uint32("x00186018"),y0:t.dataSet.uint32("x0018601a"),x1:t.dataSet.uint32("x0018601c"),y1:t.dataSet.uint32("x0018601e"),axisX:t.dataSet.int32("x00186020")||null,axisY:t.dataSet.int32("x00186022")||null,unitsX:e._getUnitsName(t.dataSet.uint16("x00186024")),unitsY:e._getUnitsName(t.dataSet.uint16("x00186026")),deltaX:t.dataSet.double("x0018602c"),deltaY:t.dataSet.double("x0018602e")})}),i},t.prototype.frameTime=function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0];var e=this._dataSet.uint16("x00280009",1),t=this._dataSet.intString("x00082144"),i;return"number"==typeof e&&(e=e.toString(16),i=this._dataSet.floatString("x0018"+e)),void 0===i&&"number"==typeof t&&(i=1e3/t),void 0===i&&(i=null),i},t.prototype.rows=function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0];var e=this._dataSet.uint16("x00280010");return void 0===e&&(e=null),e},t.prototype.columns=function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0];var e=this._dataSet.uint16("x00280011");return void 0===e&&(e=null),e},t.prototype.pixelType=function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0];return 0},t.prototype.pixelRepresentation=function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0];var e=this._dataSet.uint16("x00280103");return e},t.prototype.pixelPaddingValue=function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0];var e=this._dataSet.int16("x00280120");return void 0===e&&(e=null),e},t.prototype.bitsAllocated=function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0];var e=this._dataSet.uint16("x00280100");return e},t.prototype.highBit=function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0];var e=this._dataSet.uint16("x00280102");return e},t.prototype.rescaleIntercept=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;return this._findFloatStringInFrameGroupSequence("x00289145","x00281052",e)},t.prototype.rescaleSlope=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;return this._findFloatStringInFrameGroupSequence("x00289145","x00281053",e)},t.prototype.windowCenter=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;return this._findFloatStringInFrameGroupSequence("x00289132","x00281050",e)},t.prototype.windowWidth=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;return this._findFloatStringInFrameGroupSequence("x00289132","x00281051",e)},t.prototype.sliceThickness=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;return this._findFloatStringInFrameGroupSequence("x00289110","x00180050",e)},t.prototype.spacingBetweenSlices=function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0];var e=this._dataSet.floatString("x00180088");return void 0===e&&(e=null),e},t.prototype.dimensionIndexValues=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=null,i=this._dataSet.elements.x52009230;if(void 0!==i){var n=i.items[e].dataSet.elements.x00209111;if(void 0!==n&&null!==n){var r=(n=n.items[0].dataSet).elements.x00209157;if(void 0!==r&&null!==r){var o=r.length/4;t=[];for(var a=0;a<o;a++){t.push(n.uint32("x00209157",a))}}}}return t},t.prototype.inStackPositionNumber=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=null,i=this._dataSet.elements.x52009230;void 0!==i?t=i.items[e].dataSet.elements.x00209111.items[0].dataSet.uint32("x00209057"):t=null;return t},t.prototype.stackID=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=null,i=this._dataSet.elements.x52009230;void 0!==i?t=i.items[e].dataSet.elements.x00209111.items[0].dataSet.intString("x00209056"):t=null;return t},t.prototype.extractPixelData=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=this._decodePixelData(e);return 1<this.numberOfChannels()?this._convertColorSpace(t):t},t.prototype._findInGroupSequence=function(e,t,i){var n=this._dataSet.elements[e];if(void 0!==n){var r=n.items[i].dataSet.elements[t];if(void 0!==r)return r.items[0].dataSet}return null},t.prototype._findStringInGroupSequence=function(e,t,i,n){var r=this._findInGroupSequence(e,t,n);return null!==r?r.string(i):null},t.prototype._findStringInFrameGroupSequence=function(e,t,i){return this._findStringInGroupSequence("x52009229",e,t,0)||this._findStringInGroupSequence("x52009230",e,t,i)},t.prototype._findStringEverywhere=function(e,t,i){var n=this._findStringInFrameGroupSequence(e,t,i);if(null===n){n=this._findStringInSequence("x00540022",t)}return null===n&&(n=this._dataSet.string(t)),void 0===n&&(n=null),n},t.prototype._findStringInSequence=function(e,t,i){var n=this._dataSet.elements[e],r;return n&&(r=n.items[0].dataSet.string(t)),void 0===r&&(r=null),r},t.prototype._findFloatStringInGroupSequence=function(e,t,i,n){var r=this._dataSet.floatString(i);return void 0===r&&null!==(r=this._findInGroupSequence(e,t,n))?r.floatString(i):r},t.prototype._findFloatStringInFrameGroupSequence=function(e,t,i){return this._findFloatStringInGroupSequence("x52009229",e,t,0)||this._findFloatStringInGroupSequence("x52009230",e,t,i)},t.prototype._decodePixelData=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=this.transferSyntaxUID();if("1.2.840.10008.1.2.4.90"===t||"1.2.840.10008.1.2.4.91"===t)return this._decodeJ2K(e);if("1.2.840.10008.1.2.5"===t)return this._decodeRLE(e);if("1.2.840.10008.1.2.4.57"===t||"1.2.840.10008.1.2.4.70"===t)return this._decodeJPEGLossless(e);if("1.2.840.10008.1.2.4.50"===t||"1.2.840.10008.1.2.4.51"===t)return this._decodeJPEGBaseline(e);if("1.2.840.10008.1.2"===t||"1.2.840.10008.1.2.1"===t)return this._decodeUncompressed(e);if("1.2.840.10008.1.2.2"===t){var i=this._decodeUncompressed(e);return this._swapFrame(i)}throw{error:"no decoder for transfer syntax "+t}},t.prototype.framesAreFragmented=function(){return this._dataSet.intString("x00280008")!==this._dataSet.elements.x7fe00010.fragments.length},t.prototype.getEncapsulatedImageFrame=function(e){return this._dataSet.elements.x7fe00010&&this._dataSet.elements.x7fe00010.basicOffsetTable.length?a.readEncapsulatedImageFrame(this._dataSet,this._dataSet.elements.x7fe00010,e):this.framesAreFragmented()?a.readEncapsulatedImageFrame(this._dataSet,this._dataSet.elements.x7fe00010,e,a.createJPEGBasicOffsetTable(this._dataSet,this._dataSet.elements.x7fe00010)):a.readEncapsulatedPixelDataFromFragments(this._dataSet,this._dataSet.elements.x7fe00010,e)},t.prototype._decodeJpx=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=new c;if(t.parse(this.getEncapsulatedImageFrame(e)),1!==t.componentsCount)throw new Error("JPEG2000 decoder returned a componentCount of ${componentsCount}, when 1 is expected");if(1!==t.tiles.length)throw new Error("JPEG2000 decoder returned a tileCount of ${tileCount}, when 1 is expected");return t.tiles[0].items},t.prototype._decodeOpenJPEG=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=this.getEncapsulatedImageFrame(e),i=8>=this.bitsAllocated(e)?1:2,n=1===this.pixelRepresentation(e),r=h._malloc(t.length);h.writeArrayToMemory(t,r);var o=h._malloc(4),a=h._malloc(4),s=h._malloc(4),l=h._malloc(4),c=h._malloc(4),u=h.ccall("jp2_decode","number",["number","number","number","number","number","number","number"],[r,t.length,o,a,s,l,c]),f=h.getValue(o,"*");if(0!==u)return console.log("[opj_decode] decoding failed!"),h._free(r),h._free(f),h._free(s),h._free(l),h._free(a),void h._free(c);var d=h.getValue(s,"i32")*h.getValue(l,"i32")*h.getValue(c,"i32"),p=new Int32Array(h.HEAP32.buffer,f,d),_;if(1===i){if(Uint8Array.from)_=Uint8Array.from(p);else{_=new Uint8Array(d);for(var m=0;m<d;m++){_[m]=p[m]}}}else if(n){if(Int16Array.from)_=Int16Array.from(p);else{_=new Int16Array(d);for(var b=0;b<d;b++){_[b]=p[b]}}}else if(Uint16Array.from)_=Uint16Array.from(p);else{_=new Uint16Array(d);for(var y=0;y<d;y++){_[y]=p[y]}}return h._free(r),h._free(o),h._free(f),h._free(a),h._free(s),h._free(l),h._free(c),_},t.prototype._decodeJ2K=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;return void 0===r?this._decodeJpx(e):h||(h=r())&&h._jp2_decode?this._decodeOpenJPEG(e):this._decodeJpx(e)},t.prototype._decodeRLE=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=this.bitsAllocated(e),i=this.planarConfiguration(),n=this.columns(),r=this.rows(),s=this.samplesPerPixel(e),l={pixelRepresentation:this.pixelRepresentation(e),bitsAllocated:t,planarConfiguration:i,columns:n,rows:r,samplesPerPixel:s},c=a.readEncapsulatedPixelDataFromFragments(this._dataSet,this._dataSet.elements.x7fe00010,e);return Object(o.a)(l,c).pixelData},t.prototype._decodeJPEGLossless=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=this.getEncapsulatedImageFrame(e),i=this.pixelRepresentation(e),n=8>=this.bitsAllocated(e)?1:2,r=new s.lossless.Decoder().decode(t.buffer,t.byteOffset,t.length,n);return 0===i?2===n?new Uint16Array(r.buffer):new Uint8Array(r.buffer):new Int16Array(r.buffer)},t.prototype._decodeJPEGBaseline=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=this.getEncapsulatedImageFrame(e),i=this.rows(e),n=this.columns(e),r=this.bitsAllocated(e),o=new l;return o.parse(t),8===r?o.getData(n,i):16===r?o.getData16(n,i):void 0},t.prototype._decodeUncompressed=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=this.pixelRepresentation(e),i=this.bitsAllocated(e),n=this._dataSet.elements.x7fe00010.dataOffset,r=this.numberOfChannels(),o=this.rows(e)*this.columns(e)*r,a=0,s=this._dataSet.byteArray.buffer;if(0===t&&8===i)return a=n+e*o,new Uint8Array(s,a,o);if(0===t&&16===i)return a=n+2*(e*o),new Uint16Array(s,a,o);if(1===t&&16===i)return a=n+2*(e*o),new Int16Array(s,a,o);if(0===t&&32===i)return a=n+4*(e*o),new Uint32Array(s,a,o);if(0===t&&1===i){var l=new ArrayBuffer(o),c=new Uint8Array(l);a=n+e*o;for(var h=0,u=e*o,f=e*o+o,d=_Mathfloor(u/8),p=u-8*d,_=_Mathceil(f/8),m=new Uint8Array(s,n),b=d;b<=_;b++){for(;8>p;){switch(p){case 0:c[h]=1&m[b];break;case 1:c[h]=1&m[b]>>>1;break;case 2:c[h]=1&m[b]>>>2;break;case 3:c[h]=1&m[b]>>>3;break;case 4:c[h]=1&m[b]>>>4;break;case 5:c[h]=1&m[b]>>>5;break;case 6:c[h]=1&m[b]>>>6;break;case 7:c[h]=1&m[b]>>>7;}if(p++,++h>=o)return c}p=0}}},t.prototype._interpretAsRGB=function(e){return-1!==["RGB","YBR_RCT","YBR_ICT","YBR_FULL_422"].indexOf(e)},t.prototype._convertColorSpace=function(e){var t=null,i=this.photometricInterpretation(),n=this.planarConfiguration(),r=this._interpretAsRGB(i);if(r&&0===n)t=e;else if(r&&1===n){if(babelHelpers.instanceof(e,Int8Array))t=new Int8Array(e.length);else if(babelHelpers.instanceof(e,Uint8Array))t=new Uint8Array(e.length);else if(babelHelpers.instanceof(e,Int16Array))t=new Int16Array(e.length);else{if(!babelHelpers.instanceof(e,Uint16Array))throw new Error("unsuported typed array: "+e);t=new Uint16Array(e.length)}for(var o=e.length/3,a=0,s=0,l=o,c=2*o,h=0;h<o;h++){t[a++]=e[s++],t[a++]=e[l++],t[a++]=e[c++]}}else{if("YBR_FULL"!==i)throw new Error("photometric interpolation not supported: "+i);if(babelHelpers.instanceof(e,Int8Array))t=new Int8Array(e.length);else if(babelHelpers.instanceof(e,Uint8Array))t=new Uint8Array(e.length);else if(babelHelpers.instanceof(e,Int16Array))t=new Int16Array(e.length);else{if(!babelHelpers.instanceof(e,Uint16Array))throw new Error("unsuported typed array: "+e);t=new Uint16Array(e.length)}for(var u=e.length/3,f=0,d=0,p=0;p<u;p++){var _=e[f++],m=e[f++],b=e[f++];t[d++]=_+1.402*(b-128),t[d++]=_-.34414*(m-128)-.71414*(b-128),t[d++]=_+1.772*(m-128)}}return t},t.prototype._swapFrame=function(e){var t=this.bitsAllocated();if(16===t)for(var i=0;i<e.length;i++){e[i]=this._swap16(e[i])}else if(32===t)for(var n=0;n<e.length;n++){e[n]=this._swap32(e[n])}return e},t.prototype._getUnitsName=function(e){var t={0:"none",1:"percent",2:"dB",3:"cm",4:"seconds",5:"hertz",6:"dB/seconds",7:"cm/sec",8:"cm2",9:"cm2/sec",10:"cm3",11:"cm3/sec",12:"degrees"};return t.hasOwnProperty(e)?t[e]:"none"},t}(n.a);t.a=u},function(e,t,i){"use strict";var n=i(9),r=i(0),o=i(56),a=i(152),s=function(e){function t(i,n){!function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=babelHelpers.typeof(t)&&"function"!=typeof t?e:t}(this,e.call(this));r._id=n,r._arrayBuffer=i.buffer,r._url=i.url,r._dataSet=null,r._unpackedData=null;try{r._dataSet=a.parse(r._arrayBuffer)}catch(e){window.console.log("ooops... :(")}return r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+babelHelpers.typeof(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.rightHanded=function(){return this._dataSet.space.match(/^right-anterior-superior/)||this._dataSet.space.match(/^left-posterior-superior/)?this._rightHanded=!0:this._rightHanded=!1,this._rightHanded},t.prototype.seriesInstanceUID=function(){return this._url},t.prototype.numberOfFrames=function(){return this._dataSet.sizes[2]},t.prototype.numberOfChannels=function(){return 1},t.prototype.sopInstanceUID=function(){return 0<arguments.length&&void 0!==arguments[0]?arguments[0]:0},t.prototype.rows=function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0];return this._dataSet.sizes[1]},t.prototype.columns=function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0];return this._dataSet.sizes[0]},t.prototype.pixelType=function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0];var e=0;return"float"===this._dataSet.type&&(e=1),e},t.prototype.bitsAllocated=function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0];var e=1;return"int8"===this._dataSet.type||"uint8"===this._dataSet.type||"char"===this._dataSet.type?e=8:"int16"===this._dataSet.type||"uint16"===this._dataSet.type||"short"===this._dataSet.type?e=16:"int32"!==this._dataSet.type&&"uint32"!==this._dataSet.type&&"float"!==this._dataSet.type||(e=32),e},t.prototype.pixelSpacing=function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0];var e=new r.a(this._dataSet.spaceDirections[0][0],this._dataSet.spaceDirections[0][1],this._dataSet.spaceDirections[0][2]),t=new r.a(this._dataSet.spaceDirections[1][0],this._dataSet.spaceDirections[1][1],this._dataSet.spaceDirections[1][2]),i=new r.a(this._dataSet.spaceDirections[2][0],this._dataSet.spaceDirections[2][1],this._dataSet.spaceDirections[2][2]);return[e.length(),t.length(),i.length()]},t.prototype.imageOrientation=function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0];var e=this._dataSet.space.match(/right/)?-1:1,t=this._dataSet.space.match(/anterior/)?-1:1,i=new r.a(this._dataSet.spaceDirections[0][0]*e,this._dataSet.spaceDirections[0][1]*t,this._dataSet.spaceDirections[0][2]);i.normalize();var n=new r.a(this._dataSet.spaceDirections[1][0]*e,this._dataSet.spaceDirections[1][1]*t,this._dataSet.spaceDirections[1][2]);return n.normalize(),[i.x,i.y,i.z,n.x,n.y,n.z]},t.prototype.imagePosition=function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0];return[this._dataSet.spaceOrigin[0],this._dataSet.spaceOrigin[1],this._dataSet.spaceOrigin[2]]},t.prototype.extractPixelData=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;return this._decompressUncompressed(e)},t.prototype._decompressUncompressed=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=this._dataSet.buffer,i=this.numberOfChannels(),n=this.rows(e)*this.columns(e)*i;this.rightHanded()||(e=this.numberOfFrames()-1-e);var r=e*n;if(null===this._unpackedData&&"gzip"===this._dataSet.encoding){var a=o.inflate(this._dataSet.buffer);this._unpackedData=a.buffer,t=this._unpackedData}else"gzip"===this._dataSet.encoding&&(t=this._unpackedData);return"int8"===this._dataSet.type||"char"===this._dataSet.type?new Int8Array(t,r,n):"uint8"===this._dataSet.type?new Uint8Array(t,r,n):"int16"===this._dataSet.type||"short"===this._dataSet.type?(r*=2,new Int16Array(t,r,n)):"uint16"===this._dataSet.type?(r*=2,new Uint16Array(t,r,n)):"int32"===this._dataSet.type?(r*=4,new Int32Array(t,r,n)):"uint32"===this._dataSet.type?(r*=4,new Uint32Array(t,r,n)):"float"===this._dataSet.type?(r*=4,new Float32Array(t,r,n)):void 0},t}(n.a);t.a=s},function(e,t,i){"use strict";var n=i(9),r=i(0),o=function(e){function t(i,n){!function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=babelHelpers.typeof(t)&&"function"!=typeof t?e:t}(this,e.call(this));if(o._id=n,o._url=i.url,o._buffer=null,o._bufferPos=0,o._dataPos=0,o._pixelData=null,o._version=1,o._width=0,o._height=0,o._depth=0,o._nframes=0,o._type=t.MRI_UCHAR,o._dof=0,o._goodRASFlag=0,o._spacingXYZ=[1,1,1],o._Xras=[-1,0,0],o._Yras=[0,0,-1],o._Zras=[0,1,0],o._Cras=[0,0,0],o._tr=0,o._flipAngle=0,o._te=0,o._ti=0,o._fov=0,o._tags=[],o._origin=[0,0,0],o._imageOrient=[0,0,0,0,0,0],o._buffer=i.buffer,o._version=o._readInt(),o._swapEndian=!1,1==o._version);else{if(16777216!=o._version)throw new Error("MGH/MGZ parser: Unknown Endian.  Version reports: "+o._version);o._swapEndian=!0,o._version=o._swap32(o._version)}o._width=o._readInt(),o._height=o._readInt(),o._depth=o._readInt(),o._nframes=o._readInt(),o._type=o._readInt(),o._dof=o._readInt(),o._goodRASFlag=o._readShort(),o._spacingXYZ=o._readFloat(3),o._Xras=o._readFloat(3),o._Yras=o._readFloat(3),o._Zras=o._readFloat(3),o._Cras=o._readFloat(3),o._bufferPos=284;var a=o._width*o._height*o._depth*o._nframes;o._width,o._height,o._depth;switch(o._type){case t.MRI_UCHAR:o._pixelData=o._readUChar(a);break;case t.MRI_INT:o._pixelData=o._readInt(a);break;case t.MRI_FLOAT:o._pixelData=o._readFloat(a);break;case t.MRI_SHORT:o._pixelData=o._readShort(a);break;default:throw Error("MGH/MGZ parser: Unknown _type.  _type reports: "+o._type);}o._tr=o._readFloat(1),o._flipAngle=o._readFloat(1),o._te=o._readFloat(1),o._ti=o._readFloat(1),o._fov=o._readFloat(1);for(var s=new TextDecoder,l=o._tagReadStart();void 0!=l[0];){var c=l[0],h=l[1],u=void 0;switch(c){case t.TAG_OLD_MGH_XFORM:case t.TAG_MGH_XFORM:u=o._readChar(h);break;default:u=o._readChar(h);}u=s.decode(u),o._tags.push({tagType:c,tagValue:u}),l=o._tagReadStart()}var f=new r.a().fromArray(o._Xras),d=new r.a().fromArray(o._Yras),p=new r.a().crossVectors(f,d),_=new r.a().fromArray(o._Zras);p.angleTo(_)>_MathPI/2&&(o._rightHanded=!1),o._imageOrient=[-o._Xras[0],-o._Xras[1],o._Xras[2],-o._Yras[0],-o._Yras[1],o._Yras[2]];for(var m=o._width/2,b=o._height/2,y=o._depth/2,g=0;3>g;++g){o._origin[g]=o._Cras[g]-(o._Xras[g]*o._spacingXYZ[0]*m+o._Yras[g]*o._spacingXYZ[1]*b+o._Zras[g]*o._spacingXYZ[2]*y)}return o._origin=[-o._origin[0],-o._origin[1],o._origin[2]],o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+babelHelpers.typeof(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.seriesInstanceUID=function(){return this._url},t.prototype.numberOfFrames=function(){return this._depth},t.prototype.sopInstanceUID=function(){return 0<arguments.length&&void 0!==arguments[0]?arguments[0]:0},t.prototype.rows=function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0];return this._width},t.prototype.columns=function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0];return this._height},t.prototype.pixelType=function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0];switch(this._type){case t.MRI_UCHAR:case t.MRI_INT:case t.MRI_SHORT:return 0;case t.MRI_FLOAT:return 1;default:throw Error("MGH/MGZ parser: Unknown _type.  _type reports: "+this._type);}},t.prototype.bitsAllocated=function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0];switch(this._type){case t.MRI_UCHAR:return 8;case t.MRI_SHORT:return 16;case t.MRI_INT:case t.MRI_FLOAT:return 32;default:throw Error("MGH/MGZ parser: Unknown _type.  _type reports: "+this._type);}},t.prototype.pixelSpacing=function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0];return this._spacingXYZ},t.prototype.imageOrientation=function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0];return this._imageOrient},t.prototype.imagePosition=function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0];return this._origin},t.prototype.extractPixelData=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=this._width*this._height;return this._pixelData.slice(e*t,(e+1)*t)},t.prototype._readInt=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,t=new DataView(this._buffer.slice(this._bufferPos,this._bufferPos+4*e));this._bufferPos+=4*e;var i;if(1==e)i=t.getInt32(0,this._swapEndian);else{i=new Int32Array(e);for(var n=0;n<e;n++){i[n]=t.getInt32(4*n,this._swapEndian)}}return i},t.prototype._readShort=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,t=new DataView(this._buffer.slice(this._bufferPos,this._bufferPos+2*e));this._bufferPos+=2*e;var i;if(1==e)i=t.getInt16(0,this._swapEndian);else{i=new Int16Array(e);for(var n=0;n<e;n++){i[n]=t.getInt16(2*n,this._swapEndian)}}return i},t.prototype._readLong=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,t=new DataView(this._buffer.slice(this._bufferPos,this._bufferPos+8*e));this._bufferPos+=8*e;for(var i=new Uint16Array(e),n=0;n<e;n++){var r=0,o=0;this._swapendian?r=4:o=4;var a=t.getInt32(8*n+r,this._swapEndian),s=t.getInt32(8*n+o,this._swapEndian);0!=a&&(console.log("Unable to read Int64 with high word: "+a+"low word: "+s),s=void 0),i[n]=s}return 0==e?void 0:1==e?i[0]:i},t.prototype._readChar=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,t=new DataView(this._buffer.slice(this._bufferPos,this._bufferPos+e));this._bufferPos+=e;var i;if(1==e)i=t.getInt8(0,this._swapEndian);else{i=new Int8Array(e);for(var n=0;n<e;n++){i[n]=t.getInt8(n,this._swapEndian)}}return i},t.prototype._readUChar=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,t=new DataView(this._buffer.slice(this._bufferPos,this._bufferPos+e));this._bufferPos+=e;var i;if(1==e)i=t.getUint8(0,this._swapEndian);else{i=new Uint8Array(e);for(var n=0;n<e;n++){i[n]=t.getUint8(n,this._swapEndian)}}return i},t.prototype._readFloat=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,t=new DataView(this._buffer.slice(this._bufferPos,this._bufferPos+4*e));this._bufferPos+=4*e;var i;if(1==e)i=t.getFloat32(0,this._swapEndian);else{i=new Float32Array(e);for(var n=0;n<e;n++){i[n]=t.getFloat32(4*n,this._swapEndian)}}return i},t.prototype._tagReadStart=function(){if(this._bufferPos>=this._buffer.byteLength)return[void 0,void 0];var e=this._readInt(),i;switch(e){case t.TAG_OLD_MGH_XFORM:i=this._readInt(),i-=1;break;case t.TAG_OLD_SURF_GEOM:case t.TAG_OLD_USEREALRAS:case t.TAG_OLD_COLORTABLE:i=0;break;default:i=this._readLong();}return void 0==i&&(e=void 0),[e,i]},t}(n.a);t.a=o,o.MRI_UCHAR=0,o.MRI_INT=1,o.MRI_LONG=2,o.MRI_FLOAT=3,o.MRI_SHORT=4,o.MRI_BITMAP=5,o.MRI_TENSOR=6,o.MRI_FLOAT_COMPLEX=7,o.MRI_DOUBLE_COMPLEX=8,o.MRI_RGB=9,o.TAG_OLD_COLORTABLE=1,o.TAG_OLD_USEREALRAS=2,o.TAG_CMDLINE=3,o.TAG_USEREALRAS=4,o.TAG_COLORTABLE=5,o.TAG_GCAMORPH_GEOM=10,o.TAG_GCAMORPH_TYPE=11,o.TAG_GCAMORPH_LABELS=12,o.TAG_OLD_SURF_GEOM=20,o.TAG_SURF_GEOM=21,o.TAG_OLD_MGH_XFORM=30,o.TAG_MGH_XFORM=31,o.TAG_GROUP_AVG_SURFACE_AREA=32,o.TAG_AUTO_ALIGN=33,o.TAG_SCALAR_DOUBLE=40,o.TAG_PEDIR=41,o.TAG_MRI_FRAME=42,o.TAG_FIELDSTRENGTH=43},function(e,t,i){"use strict";var n=function(){function e(e,t){for(var i=0,n;i<t.length;i++){n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=function(){function e(){!function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,e),this._id=-1,this._worldCoordinates=null,this._dataCoordinates=null,this._screenCoordinates=null,this._value=null}return n(e,[{key:"worldCoordinates",set:function set(e){this._worldCoordinates=e},get:function get(){return this._worldCoordinates}},{key:"dataCoordinates",set:function set(e){this._dataCoordinates=e},get:function get(){return this._dataCoordinates}},{key:"screenCoordinates",set:function set(e){this._screenCoordinates=e},get:function get(){return this._screenCoordinates}},{key:"value",set:function set(e){this._value=e},get:function get(){return this._value}},{key:"id",set:function set(e){this._id=e},get:function get(){return this._id}}]),e}();t.a=r},function(e,t,i){"use strict";var n=function(){function e(e,t){for(var i=0,n;i<t.length;i++){n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=function(){function e(){!function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,e)}return n(e,null,[{key:"code",get:function get(){return"\n        .widgets-handle {\n            position: absolute;\n            border: 1px solid;\n            border-radius: 50%;\n            width: 10px;\n            height: 10px;\n            margin: -6px; /* border + width / 2 */\n            z-index: 3;\n        }\n        .widgets-line {\n            position: absolute;\n            width: 1px;\n            height: 1px;\n            margin-top: -0.5px; /* height / 2 */\n        }\n        .widgets-dashline {\n            position: absolute;\n            border-top: 1px dashed;\n            margin-top: -0.5px; /* border / 2 */\n        }\n        .widgets-line:before,\n        .widgets-dashline:before { /* for dragging */\n            content: \" \";\n            position: absolute;\n            height: 12px;\n            left: 0;\n            right: 0;\n            margin-top: -6px;\n        }\n        .widgets-rectangle {\n            position: absolute;\n            border: 1px solid;\n            margin: -1px; /* border */\n        }\n        .widgets-rectangle-helper {\n            position: absolute;\n            border: 1px dashed;\n            margin: -1px; /* border */\n        }\n        .widgets-ellipse {\n            position: absolute;\n            border: 1px solid;\n            border-radius: 50%;\n            margin: -1px; /* border */\n            z-index: 2;\n        }\n        .widgets-label {\n            position: absolute;\n            border: 1px solid;\n            background-color: rgba(0, 0, 0, 0.7);\n            color: rgb(255, 255, 255);\n            padding: 4px;\n            z-index: 3;\n        }\n        "}}]),e}();t.a=r},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n={DEG2RAD:_MathPI/180,RAD2DEG:180/_MathPI,generateUUID:function(){for(var e=[],t=0;256>t;t++){e[t]=(16>t?"0":"")+t.toString(16)}return function(){var t=0|4294967295*Math.random(),i=0|4294967295*Math.random(),n=0|4294967295*Math.random(),r=0|4294967295*Math.random();return(e[255&t]+e[255&t>>8]+e[255&t>>16]+e[255&t>>24]+"-"+e[255&i]+e[255&i>>8]+"-"+e[64|15&i>>16]+e[255&i>>24]+"-"+e[128|63&n]+e[255&n>>8]+"-"+e[255&n>>16]+e[255&n>>24]+e[255&r]+e[255&r>>8]+e[255&r>>16]+e[255&r>>24]).toUpperCase()}}(),clamp:function clamp(e,t,i){return _Mathmax(t,_Mathmin(i,e))},euclideanModulo:function euclideanModulo(e,t){return(e%t+t)%t},mapLinear:function mapLinear(e,t,i,n,r){return n+(e-t)*(r-n)/(i-t)},lerp:function lerp(e,t,i){return(1-i)*e+i*t},smoothstep:function smoothstep(e,t,i){return e<=t?0:e>=i?1:(e=(e-t)/(i-t))*e*(3-2*e)},smootherstep:function smootherstep(e,t,i){return e<=t?0:e>=i?1:(e=(e-t)/(i-t))*e*e*(e*(6*e-15)+10)},randInt:function randInt(e,t){return e+_Mathfloor(Math.random()*(t-e+1))},randFloat:function randFloat(e,t){return e+Math.random()*(t-e)},randFloatSpread:function randFloatSpread(e){return e*(.5-Math.random())},degToRad:function degToRad(e){return e*n.DEG2RAD},radToDeg:function radToDeg(e){return e*n.RAD2DEG},isPowerOfTwo:function isPowerOfTwo(e){return 0==(e&e-1)&&0!==e},ceilPowerOfTwo:function ceilPowerOfTwo(e){return _Mathpow(2,_Mathceil(_Mathlog(e)/_MathLN))},floorPowerOfTwo:function floorPowerOfTwo(e){return _Mathpow(2,_Mathfloor(_Mathlog(e)/_MathLN))}}},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n=function n(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:window.THREE;return void 0===e||void 0===e.Object3D?null:function(t){function i(){return function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,i),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=babelHelpers.typeof(t)&&"function"!=typeof t?e:t}(this,t.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+babelHelpers.typeof(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,t),i.prototype._createMaterial=function(t){var i=new this._shadersFragment(this._uniforms),n=new this._shadersVertex,r={uniforms:this._uniforms,vertexShader:n.compute(),fragmentShader:i.compute()},o=Object.assign(t,r);this._material=new e.ShaderMaterial(o),this._material.needsUpdate=!0},i.prototype._updateMaterial=function(){var e=new this._shadersFragment(this._uniforms),t=new this._shadersVertex;this._material.vertexShader=t.compute(),this._material.fragmentShader=e.compute(),this._material.needsUpdate=!0},i.prototype._prepareTexture=function(){this._textures=[];for(var t=0,i;t<this._stack._rawData.length;t++){i=new e.DataTexture(this._stack.rawData[t],this._stack.textureSize,this._stack.textureSize,this._stack.textureType,e.UnsignedByteType,e.UVMapping,e.ClampToEdgeWrapping,e.ClampToEdgeWrapping,e.NearestFilter,e.NearestFilter);i.needsUpdate=!0,i.flipY=!0,this._textures.push(i)}},i}(e.Object3D)};n()},function(e,t,i){"use strict";var n=n||{};n.NIFTI1=n.NIFTI1||i(89),n.NIFTI2=n.NIFTI2||i(140),n.Utils=n.Utils||i(61);var r=r||i(56);n.isNIFTI1=function(e){var t,i,r,o;return i=(t=new DataView(e)).getUint8(n.NIFTI1.MAGIC_NUMBER_LOCATION),r=t.getUint8(n.NIFTI1.MAGIC_NUMBER_LOCATION+1),o=t.getUint8(n.NIFTI1.MAGIC_NUMBER_LOCATION+2),!(i!==n.NIFTI1.MAGIC_NUMBER[0]||r!==n.NIFTI1.MAGIC_NUMBER[1]||o!==n.NIFTI1.MAGIC_NUMBER[2])},n.isNIFTI2=function(e){var t,i,r,o;return i=(t=new DataView(e)).getUint8(n.NIFTI2.MAGIC_NUMBER_LOCATION),r=t.getUint8(n.NIFTI2.MAGIC_NUMBER_LOCATION+1),o=t.getUint8(n.NIFTI2.MAGIC_NUMBER_LOCATION+2),!(i!==n.NIFTI2.MAGIC_NUMBER[0]||r!==n.NIFTI2.MAGIC_NUMBER[1]||o!==n.NIFTI2.MAGIC_NUMBER[2])},n.isNIFTI=function(e){return n.isNIFTI1(e)||n.isNIFTI2(e)},n.isCompressed=function(e){var t,i,r;if(e){if(i=(t=new DataView(e)).getUint8(0),r=t.getUint8(1),i===n.Utils.GUNZIP_MAGIC_COOKIE1)return!0;if(r===n.Utils.GUNZIP_MAGIC_COOKIE2)return!0}return!1},n.decompress=function(e){return r.inflate(e).buffer},n.readHeader=function(e){var t=null;return n.isCompressed(e)&&(e=n.decompress(e)),n.isNIFTI1(e)?t=new n.NIFTI1:n.isNIFTI2(e)&&(t=new n.NIFTI2),t?t.readHeader(e):console.error("That file does not appear to be NIFTI!"),t},n.hasExtension=function(e){return 0!=e.extensionFlag[0]},n.readImage=function(e,t){var i=e.vox_offset,n=1,r=1;e.dims[4]&&(n=e.dims[4]),e.dims[5]&&(r=e.dims[5]);var o=e.dims[1]*e.dims[2]*e.dims[3]*n*r*(e.numBitsPerVoxel/8);return t.slice(i,i+o)},n.readExtension=function(e,t){var i=e.getExtensionLocation(),n=e.extensionSize;return t.slice(i,i+n)},n.readExtensionData=function(e,t){var i=e.getExtensionLocation(),n=e.extensionSize;return t.slice(i+8,i+n-8)},"undefined"!==typeof e&&e.exports&&(e.exports=n)},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(7),r=i(5),o=function(){function e(e,t){for(var i=0,n;i<t.length;i++){n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function a(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:window.THREE;return void 0===e||void 0===e.OrthographicCamera?null:function(t){function i(n,r,o,a,s,l){!function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,i);var c=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=babelHelpers.typeof(t)&&"function"!=typeof t?e:t}(this,t.call(this,n,r,o,a,s,l));return c._front=null,c._back=null,c._directions=[new e.Vector3(1,0,0),new e.Vector3(0,1,0),new e.Vector3(0,0,1)],c._directionsLabel=["A","P","L","R","I","S"],c._orientation="default",c._convention="radio",c._stackOrientation=0,c._right=null,c._up=null,c._direction=null,c._controls=null,c._box=null,c._canvas={width:null,height:null},c._fromFront=!0,c._angle=0,c}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+babelHelpers.typeof(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,t),i.prototype.init=function(t,i,o,a,s,l){if(window.console.warn("cameras.orthographic.init(...) is deprecated.\n        Use .cosines, .controls, .box and .canvas instead."),!(r.a.vector3(t)&&r.a.vector3(i)&&r.a.vector3(o)&&r.a.box(s)&&a))return window.console.log("Invalid input provided."),!1;this._right=t,this._up=this._adjustTopDirection(t,i),this._direction=new e.Vector3().crossVectors(this._right,this._up),this._controls=a,this._box=s,this._canvas=l;var c={position:this._box.center,direction:this._direction},h=this._orderIntersections(n.a.rayBox(c,this._box),this._direction);this._front=h[0],this._back=h[1],this.up.set(this._up.x,this._up.y,this._up.z),this._updateCanvas(),this._updatePositionAndTarget(this._front,this._back),this._updateMatrices(),this._updateDirections()},i.prototype.update=function(){if("default"===this._orientation)switch(this._getMaxIndex(this._directions[2])){case 0:this._orientation="sagittal";break;case 1:this._orientation="coronal";break;case 2:this._orientation="axial";break;default:this._orientation="free";}if("free"===this._orientation)this._right=this._directions[0],this._up=this._directions[1],this._direction=this._directions[2];else{var e=this.leftDirection(),t=this._directions[e],i=this.posteriorDirection(),r=this._directions[i],o=this.superiorDirection(),a=this._directions[o];if("radio"===this._convention)switch(this._orientation){case"axial":0<r.y&&r.negate(),0>a.z&&a.negate(),this._right=t,this._up=r,this._direction=a;break;case"coronal":0>a.z&&a.negate(),0>r.y&&r.negate(),this._right=t,this._up=a,this._direction=r;break;case"sagittal":0>a.z&&a.negate(),0<t.x&&t.negate(),this._right=r,this._up=a,this._direction=t;break;default:window.console.warn("\""+this._orientation+"\" orientation is not valid.\n                  (choices: axial, coronal, sagittal)");}else if("neuro"===this._convention)switch(this._orientation){case"axial":0<r.y&&r.negate(),0<a.z&&a.negate(),this._right=t,this._up=r,this._direction=a;break;case"coronal":0>a.z&&a.negate(),0<r.y&&r.negate(),this._right=t,this._up=a,this._direction=r;break;case"sagittal":0>a.z&&a.negate(),0<t.x&&t.negate(),this._right=r,this._up=a,this._direction=t;break;default:window.console.warn("\""+this._orientation+"\" orientation is not valid.\n                  (choices: axial, coronal, sagittal)");}else window.console.warn(this._convention+" is not valid (choices: radio, neuro)")}var s={position:this._box.center,direction:this._direction},l=this._orderIntersections(n.a.rayBox(s,this._box),this._direction);this._front=l[0],this._back=l[1],this.up.set(this._up.x,this._up.y,this._up.z),this._updateCanvas(),this._updatePositionAndTarget(this._front,this._back),this._updateMatrices(),this._updateDirections()},i.prototype.leftDirection=function(){return this._findMaxIndex(this._directions,0)},i.prototype.posteriorDirection=function(){return this._findMaxIndex(this._directions,1)},i.prototype.superiorDirection=function(){return this._findMaxIndex(this._directions,2)},i.prototype.invertRows=function(){this.up.multiplyScalar(-1),this.invertColumns(),this._updateDirections()},i.prototype.invertColumns=function(){this.center();var e=this._oppositePosition(this.position);this._updatePositionAndTarget(e,this.position.clone()),this._updateMatrices(),this._fromFront=!this._fromFront,this._angle%=360,this._angle=360-this._angle,this._updateDirections()},i.prototype.center=function(){this._fromFront?this._updatePositionAndTarget(this._front,this._back):this._updatePositionAndTarget(this._back,this._front),this._updateMatrices(),this._updateDirections()},i.prototype.rotate=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;this.center();var i=90;null===t?(i*=-1,this._angle+=90):(i=360-(t-this._angle),this._angle=t),this._angle%=360;var n=new e.Matrix4().makeRotationAxis(this._direction,i*_MathPI/180);this.up.applyMatrix4(n),this._updateMatrices(),this._updateDirections()},i.prototype.fitBox=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1.5,i=1;switch(e){case 0:i=t*this._computeZoom(this._canvas.width,this._right);break;case 1:i=t*this._computeZoom(this._canvas.height,this._up);break;case 2:i=t*_Mathmin(this._computeZoom(this._canvas.width,this._right),this._computeZoom(this._canvas.height,this._up));}if(!i)return!1;this.zoom=i,this.center()},i.prototype._adjustTopDirection=function(e,t){var i=this._getMaxIndex(t);return(2===i&&0>t.getComponent(i)||1===i&&0<t.getComponent(i)||0===i&&0<t.getComponent(i))&&t.negate(),t},i.prototype._getMaxIndex=function(e){var t=_Mathabs(e.x),i=0;return _Mathabs(e.y)>t&&(t=_Mathabs(e.y),i=1),_Mathabs(e.z)>t&&(i=2),i},i.prototype._findMaxIndex=function(e,t){for(var i=this._getMaxIndices(e),n=0;n<i.length;n++){if(i[n]===t)return n}},i.prototype._getMaxIndices=function(e){var t=[];return t.push(this._getMaxIndex(e[0])),t.push(this._getMaxIndex(e[1])),t.push(this._getMaxIndex(e[2])),t},i.prototype._orderIntersections=function(e,t){return e[0].dot(t)<e[1].dot(t)?e:[e[1],e[0]]},i.prototype._updateCanvas=function(){this.left=-this._canvas.width/2,this.right=this._canvas.width/2,this.top=this._canvas.height/2,this.bottom=-this._canvas.height/2,this._updateMatrices(),this.controls.handleResize()},i.prototype._oppositePosition=function(t){var i=t.clone();i.sub(this._box.center);var n=new e.Matrix4().makeRotationAxis(this.up,Math.PI);return i.applyMatrix4(n),i.add(this._box.center),i},i.prototype._computeZoom=function(e,t){if(!(e&&0<e))return window.console.log("Invalid dimension provided."),window.console.log(e),!1;var i={position:this._box.center.clone(),direction:t},r=n.a.rayBox(i,this._box);return 2>r.length?(window.console.log("Can not adjust the camera ( < 2 intersections)."),window.console.log(i),window.console.log(this._box),!1):e/r[0].distanceTo(r[1])},i.prototype._updatePositionAndTarget=function(e,t){this.position.set(e.x,e.y,e.z),this.lookAt(t.x,t.y,t.z),this._controls.target.set(t.x,t.y,t.z)},i.prototype._updateMatrices=function(){this._controls.update(),this.updateProjectionMatrix(),this.updateMatrixWorld()},i.prototype._updateLabels=function(){this._directionsLabel=[this._vector2Label(this._up),this._vector2Label(this._up.clone().negate()),this._vector2Label(this._right),this._vector2Label(this._right.clone().negate()),this._vector2Label(this._direction),this._vector2Label(this._direction.clone().negate())]},i.prototype._vector2Label=function(e){for(var t=this._getMaxIndex(e),i=e.clone().divideScalar(_Mathabs(e.getComponent(t))),n="",r=0;3>r;r++){0===r&&(1<=i.getComponent(r)+.2?n+="L":-1>=i.getComponent(r)-.2&&(n+="R")),1===r&&(1<=i.getComponent(r)+.2?n+="P":-1>=i.getComponent(r)-.2&&(n+="A")),2===r&&(1<=i.getComponent(r)+.2?n+="S":-1>=i.getComponent(r)-.2&&(n+="I"))}return n},i.prototype._updateDirections=function(){this._up=this.up.clone();var t=new e.Vector3(0,0,-1).applyMatrix4(this.matrixWorld);this._direction=t.sub(this.position).normalize(),this._right=new e.Vector3().crossVectors(this._direction,this.up),this._updateLabels()},o(i,[{key:"controls",set:function set(e){this._controls=e},get:function get(){return this._controls}},{key:"box",set:function set(e){this._box=e},get:function get(){return this._box}},{key:"canvas",set:function set(e){this._canvas=e,this._updateCanvas()},get:function get(){return this._canvas}},{key:"angle",set:function set(e){this.rotate(e)},get:function get(){return this._angle}},{key:"directions",set:function set(e){this._directions=e},get:function get(){return this._directions}},{key:"convention",set:function set(e){this._convention=e},get:function get(){return this._convention}},{key:"orientation",set:function set(e){this._orientation=e},get:function get(){return this._orientation}},{key:"directionsLabel",set:function set(e){this._directionsLabel=e},get:function get(){return this._directionsLabel}},{key:"stackOrientation",set:function set(e){if(this._stackOrientation=e,0===this._stackOrientation)this._orientation="default";else{var t=this._getMaxIndex(this._directions[(this._stackOrientation+2)%3]);0===t?this._orientation="sagittal":1===t?this._orientation="coronal":2===t&&(this._orientation="axial")}},get:function get(){if("default"===this._orientation)this._stackOrientation=0;else{var e=this._getMaxIndex(this._direction);e===this._getMaxIndex(this._directions[2])?this._stackOrientation=0:e===this._getMaxIndex(this._directions[0])?this._stackOrientation=1:e===this._getMaxIndex(this._directions[1])&&(this._stackOrientation=2)}return this._stackOrientation}}]),i}(e.OrthographicCamera)};t.b=a()},function(e,t,i){"use strict";i.d(t,"b",function(){return n});var n=function n(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:window.THREE;return void 0===e||void 0===e.EventDispatcher?null:function(t){function i(n,r){!function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,i);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=babelHelpers.typeof(t)&&"function"!=typeof t?e:t}(this,t.call(this)),a=o,s={NONE:-1,ROTATE:0,ZOOM:1,PAN:2,TOUCH_ROTATE:3,TOUCH_ZOOM:4,TOUCH_PAN:5,CUSTOM:99};o.object=n,o.domElement=void 0!==r?r:document,o.enabled=!0,o.screen={left:0,top:0,width:0,height:0},o.rotateSpeed=1,o.zoomSpeed=1.2,o.panSpeed=.3,o.noRotate=!1,o.noZoom=!1,o.noPan=!1,o.noCustom=!1,o.forceState=-1,o.staticMoving=!1,o.dynamicDampingFactor=.2,o.minDistance=0,o.maxDistance=1/0,o.keys=[65,83,68],o.target=new e.Vector3;var l=new e.Vector3,c=s.NONE,h=s.NONE,u=new e.Vector3,f=new e.Vector2,d=new e.Vector2,p=new e.Vector3,_=0,m=new e.Vector2,b=new e.Vector2,y=0,g=0,v=new e.Vector2,A=new e.Vector2,w=new e.Vector2,x=new e.Vector2;o.target0=o.target.clone(),o.position0=o.object.position.clone(),o.up0=o.object.up.clone();var k={type:"change"},I={type:"start"},S={type:"end"};o.handleResize=function(){if(this.domElement===document)this.screen.left=0,this.screen.top=0,this.screen.width=window.innerWidth,this.screen.height=window.innerHeight;else{var e=this.domElement.getBoundingClientRect(),t=this.domElement.ownerDocument.documentElement;this.screen.left=e.left+window.pageXOffset-t.clientLeft,this.screen.top=e.top+window.pageYOffset-t.clientTop,this.screen.width=e.width,this.screen.height=e.height}},o.handleEvent=function(e){"function"==typeof this[e.type]&&this[e.type](e)};var E=function(){var t=new e.Vector2;return function(e,i){return t.set((e-a.screen.left)/a.screen.width,(i-a.screen.top)/a.screen.height),t}}(),C=function(){var t=new e.Vector2;return function(e,i){return t.set((e-.5*a.screen.width-a.screen.left)/(.5*a.screen.width),(a.screen.height+2*(a.screen.top-i))/a.screen.width),t}}();function B(e){!1!==a.enabled&&(window.removeEventListener("keydown",B),h=c,c===s.NONE&&(e.keyCode!==a.keys[s.ROTATE]||a.noRotate?e.keyCode!==a.keys[s.ZOOM]||a.noZoom?e.keyCode!==a.keys[s.PAN]||a.noPan||(c=s.PAN):c=s.ZOOM:c=s.ROTATE))}function M(e){!1!==a.enabled&&(c=h,window.addEventListener("keydown",B,!1))}function P(e){!1!==a.enabled&&(e.preventDefault(),e.stopPropagation(),c===s.NONE&&(c=e.button),c!==s.ROTATE||a.noRotate?c!==s.ZOOM||a.noZoom?c!==s.PAN||a.noPan?c!==s.CUSTOM||a.noCustom||(w.copy(E(e.pageX,e.pageY)),x.copy(v)):(v.copy(E(e.pageX,e.pageY)),A.copy(v)):(m.copy(E(e.pageX,e.pageY)),b.copy(m)):(d.copy(C(e.pageX,e.pageY)),f.copy(d)),document.addEventListener("mousemove",T,!1),document.addEventListener("mouseup",D,!1),a.dispatchEvent(I))}function T(e){!1!==a.enabled&&(e.preventDefault(),e.stopPropagation(),c!==s.ROTATE||a.noRotate?c!==s.ZOOM||a.noZoom?c!==s.PAN||a.noPan?c!==s.CUSTOM||a.noCustom||x.copy(E(e.pageX,e.pageY)):A.copy(E(e.pageX,e.pageY)):b.copy(E(e.pageX,e.pageY)):(f.copy(d),d.copy(C(e.pageX,e.pageY))))}function D(e){!1!==a.enabled&&(e.preventDefault(),e.stopPropagation(),-1===a.forceState&&(c=s.NONE),document.removeEventListener("mousemove",T),document.removeEventListener("mouseup",D),a.dispatchEvent(S))}function R(e){if(!1!==a.enabled&&!0!==a.noZoom){switch(e.preventDefault(),e.stopPropagation(),e.deltaMode){case 2:m.y-=.025*e.deltaY;break;case 1:m.y-=.01*e.deltaY;break;default:m.y-=25e-5*e.deltaY;}a.dispatchEvent(I),a.dispatchEvent(S)}}function G(e){if(!1!==a.enabled){if(-1===a.forceState)switch(e.touches.length){case 1:c=s.TOUCH_ROTATE,d.copy(C(e.touches[0].pageX,e.touches[0].pageY)),f.copy(d);break;case 2:c=s.TOUCH_ZOOM;var t=e.touches[0].pageX-e.touches[1].pageX,i=e.touches[0].pageY-e.touches[1].pageY;g=y=_Mathsqrt(t*t+i*i);var n=(e.touches[0].pageX+e.touches[1].pageX)/2,r=(e.touches[0].pageY+e.touches[1].pageY)/2;v.copy(E(n,r)),A.copy(v);break;default:c=s.NONE;}else switch(c){case 0:c=s.TOUCH_ROTATE,d.copy(C(e.touches[0].pageX,e.touches[0].pageY)),f.copy(d);break;case 1:case 4:if(2<=e.touches.length){c=s.TOUCH_ZOOM;t=e.touches[0].pageX-e.touches[1].pageX,i=e.touches[0].pageY-e.touches[1].pageY;g=y=_Mathsqrt(t*t+i*i)}else c=s.ZOOM,m.copy(E(e.touches[0].pageX,e.touches[0].pageY)),b.copy(m);break;case 2:case 5:if(2<=e.touches.length){c=s.TOUCH_PAN;n=(e.touches[0].pageX+e.touches[1].pageX)/2,r=(e.touches[0].pageY+e.touches[1].pageY)/2;v.copy(E(n,r)),A.copy(v)}else c=s.PAN,v.copy(E(e.touches[0].pageX,e.touches[0].pageY)),A.copy(v);break;case 99:c=s.CUSTOM;n=(e.touches[0].pageX+e.touches[1].pageX)/2,r=(e.touches[0].pageY+e.touches[1].pageY)/2;w.copy(E(n,r)),x.copy(w);break;default:c=s.NONE;}a.dispatchEvent(I)}}function O(e){if(!1!==a.enabled)if(e.preventDefault(),e.stopPropagation(),-1===a.forceState)switch(e.touches.length){case 1:f.copy(d),d.copy(C(e.touches[0].pageX,e.touches[0].pageY));break;case 2:var t=e.touches[0].pageX-e.touches[1].pageX,i=e.touches[0].pageY-e.touches[1].pageY;g=_Mathsqrt(t*t+i*i);var n=(e.touches[0].pageX+e.touches[1].pageX)/2,r=(e.touches[0].pageY+e.touches[1].pageY)/2;A.copy(E(n,r));break;default:c=s.NONE;}else switch(c){case 0:f.copy(d),d.copy(C(e.touches[0].pageX,e.touches[0].pageY));break;case 1:b.copy(E(e.touches[0].pageX,e.touches[0].pageY));break;case 2:A.copy(E(e.touches[0].pageX,e.touches[0].pageY));break;case 4:t=e.touches[0].pageX-e.touches[1].pageX,i=e.touches[0].pageY-e.touches[1].pageY;g=_Mathsqrt(t*t+i*i);break;case 5:n=(e.touches[0].pageX+e.touches[1].pageX)/2,r=(e.touches[0].pageY+e.touches[1].pageY)/2;A.copy(E(n,r));break;case 99:n=(e.touches[0].pageX+e.touches[1].pageX)/2,r=(e.touches[0].pageY+e.touches[1].pageY)/2;x.copy(E(n,r));break;default:c=s.NONE;}}function F(e){if(!1!==a.enabled){if(-1===a.forceState){switch(e.touches.length){case 1:f.copy(d),d.copy(C(e.touches[0].pageX,e.touches[0].pageY));break;case 2:y=g=0;var t=(e.touches[0].pageX+e.touches[1].pageX)/2,i=(e.touches[0].pageY+e.touches[1].pageY)/2;A.copy(E(t,i)),v.copy(A);}c=s.NONE}else switch(c){case 0:f.copy(d),d.copy(C(e.touches[0].pageX,e.touches[0].pageY));break;case 1:case 2:break;case 4:y=g=0,c=s.ZOOM;break;case 5:if(2<=e.touches.length){t=(e.touches[0].pageX+e.touches[1].pageX)/2,i=(e.touches[0].pageY+e.touches[1].pageY)/2;A.copy(E(t,i)),v.copy(A)}c=s.PAN;break;case 99:t=(e.touches[0].pageX+e.touches[1].pageX)/2,i=(e.touches[0].pageY+e.touches[1].pageY)/2;x.copy(E(t,i)),w.copy(x);break;default:c=s.NONE;}a.dispatchEvent(S)}}function L(e){e.preventDefault()}return o.rotateCamera=function(){var t=new e.Vector3,i=new e.Quaternion,n=new e.Vector3,r=new e.Vector3,o=new e.Vector3,s=new e.Vector3,l;return function(){s.set(d.x-f.x,d.y-f.y,0),(l=s.length())?(u.copy(a.object.position).sub(a.target),n.copy(u).normalize(),r.copy(a.object.up).normalize(),o.crossVectors(r,n).normalize(),r.setLength(d.y-f.y),o.setLength(d.x-f.x),s.copy(r.add(o)),t.crossVectors(s,u).normalize(),l*=a.rotateSpeed,i.setFromAxisAngle(t,l),u.applyQuaternion(i),a.object.up.applyQuaternion(i),p.copy(t),_=l):!a.staticMoving&&_&&(_*=_Mathsqrt(1-a.dynamicDampingFactor),u.copy(a.object.position).sub(a.target),i.setFromAxisAngle(p,_),u.applyQuaternion(i),a.object.up.applyQuaternion(i)),f.copy(d)}}(),o.zoomCamera=function(){var e;c===s.TOUCH_ZOOM?(e=y/g,y=g,u.multiplyScalar(e)):1!==(e=1+(b.y-m.y)*a.zoomSpeed)&&0<e&&(u.multiplyScalar(e),a.staticMoving?m.copy(b):m.y+=(b.y-m.y)*this.dynamicDampingFactor)},o.panCamera=function(){var t=new e.Vector2,i=new e.Vector3,n=new e.Vector3;return function(){t.copy(A).sub(v),t.lengthSq()&&(t.multiplyScalar(u.length()*a.panSpeed),n.copy(u).cross(a.object.up).setLength(t.x),n.add(i.copy(a.object.up).setLength(t.y)),a.object.position.add(n),a.target.add(n),a.staticMoving?v.copy(A):v.add(t.subVectors(A,v).multiplyScalar(a.dynamicDampingFactor)))}}(),o.checkDistances=function(){a.noZoom&&a.noPan||(u.lengthSq()>a.maxDistance*a.maxDistance&&a.object.position.addVectors(a.target,u.setLength(a.maxDistance)),u.lengthSq()<a.minDistance*a.minDistance&&a.object.position.addVectors(a.target,u.setLength(a.minDistance)))},o.update=function(){u.subVectors(a.object.position,a.target),a.noRotate||a.rotateCamera(),a.noZoom||a.zoomCamera(),a.noPan||a.panCamera(),a.noCustom||a.custom(w,x),a.object.position.addVectors(a.target,u),a.checkDistances(),a.object.lookAt(a.target),1e-6<l.distanceToSquared(a.object.position)&&(a.dispatchEvent(k),l.copy(a.object.position))},o.reset=function(){c=s.NONE,h=s.NONE,a.target.copy(a.target0),a.object.position.copy(a.position0),a.object.up.copy(a.up0),u.subVectors(a.object.position,a.target),a.object.lookAt(a.target),a.dispatchEvent(k),l.copy(a.object.position)},o.setState=function(e){a.forceState=e,h=e,c=e},o.custom=function(e,t){},o.dispose=function(){this.domElement.removeEventListener("contextmenu",L,!1),this.domElement.removeEventListener("mousedown",P,!1),this.domElement.removeEventListener("wheel",R,!1),this.domElement.removeEventListener("touchstart",G,!1),this.domElement.removeEventListener("touchend",F,!1),this.domElement.removeEventListener("touchmove",O,!1),window.removeEventListener("keydown",B,!1),window.removeEventListener("keyup",M,!1)},o.domElement.addEventListener("contextmenu",L,!1),o.domElement.addEventListener("mousedown",P,!1),o.domElement.addEventListener("wheel",R,!1),o.domElement.addEventListener("touchstart",G,!1),o.domElement.addEventListener("touchend",F,!1),o.domElement.addEventListener("touchmove",O,!1),window.addEventListener("keydown",B,!1),window.addEventListener("keyup",M,!1),o.handleResize(),o.update(),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+babelHelpers.typeof(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,t),i}(e.EventDispatcher)};t.a=n()},function(e,t,i){"use strict";i.d(t,"b",function(){return n});var n=function n(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:window.THREE;return void 0===e||void 0===e.EventDispatcher?null:function(t){function i(n,r){var o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{NONE:-1,ROTATE:1,ZOOM:2,PAN:0,SCROLL:4,TOUCH_ROTATE:4,TOUCH_ZOOM_PAN:5};!function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,i);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=babelHelpers.typeof(t)&&"function"!=typeof t?e:t}(this,t.call(this)),s=a,l=o;a.object=n,a.domElement=void 0!==r?r:document,a.enabled=!0,a.screen={left:0,top:0,width:0,height:0},a.radius=0,a.zoomSpeed=1.2,a.noZoom=!1,a.noPan=!1,a.staticMoving=!1,a.dynamicDampingFactor=.2,a.keys=[65,83,68],a.target=new e.Vector3;var c=!0,h=l.NONE,u=l.NONE,f=new e.Vector3,d=new e.Vector2,p=new e.Vector2,_=0,m=0,b=new e.Vector2,y=new e.Vector2;a.target0=a.target.clone(),a.position0=a.object.position.clone(),a.up0=a.object.up.clone(),a.left0=a.object.left,a.right0=a.object.right,a.top0=a.object.top,a.bottom0=a.object.bottom;var g={type:"change"},v={type:"start"},A={type:"end"};a.handleResize=function(){if(this.domElement===document)this.screen.left=0,this.screen.top=0,this.screen.width=window.innerWidth,this.screen.height=window.innerHeight;else{var e=this.domElement.getBoundingClientRect(),t=this.domElement.ownerDocument.documentElement;this.screen.left=e.left+window.pageXOffset-t.clientLeft,this.screen.top=e.top+window.pageYOffset-t.clientTop,this.screen.width=e.width,this.screen.height=e.height}this.radius=.5*_Mathmin(this.screen.width,this.screen.height),this.left0=this.object.left,this.right0=this.object.right,this.top0=this.object.top,this.bottom0=this.object.bottom},a.handleEvent=function(e){"function"==typeof this[e.type]&&this[e.type](e)};var w=function(){var t=new e.Vector2;return function(e,i){return t.set((e-s.screen.left)/s.screen.width,(i-s.screen.top)/s.screen.height),t}}();function x(e){!1!==s.enabled&&(window.removeEventListener("keydown",x),u=h,h===l.NONE&&(e.keyCode!==s.keys[l.ROTATE]||s.noRotate?e.keyCode!==s.keys[l.ZOOM]||s.noZoom?e.keyCode!==s.keys[l.PAN]||s.noPan||(h=l.PAN):h=l.ZOOM:h=l.ROTATE))}function k(e){!1!==s.enabled&&(h=u,window.addEventListener("keydown",x,!1))}function I(e){!1!==s.enabled&&(e.preventDefault(),e.stopPropagation(),h===l.NONE&&(h=e.button),(h!==l.ROTATE||s.noRotate)&&(h!==l.ZOOM||s.noZoom?h!==l.PAN||s.noPan||(b.copy(w(e.pageX,e.pageY)),y.copy(b)):(d.copy(w(e.pageX,e.pageY)),p.copy(d))),document.addEventListener("mousemove",S,!1),document.addEventListener("mouseup",E,!1),s.dispatchEvent(v))}function S(e){!1!==s.enabled&&(e.preventDefault(),e.stopPropagation(),(h!==l.ROTATE||s.noRotate)&&(h!==l.ZOOM||s.noZoom?h!==l.PAN||s.noPan||y.copy(w(e.pageX,e.pageY)):p.copy(w(e.pageX,e.pageY))))}function E(e){!1!==s.enabled&&(e.preventDefault(),e.stopPropagation(),h=l.NONE,document.removeEventListener("mousemove",S),document.removeEventListener("mouseup",E),s.dispatchEvent(A))}function C(e){!1!==s.enabled&&(e.preventDefault(),e.stopPropagation(),s.dispatchEvent({type:"OnScroll",delta:.01*e.deltaX+.01*e.deltaY}),s.dispatchEvent(v),s.dispatchEvent(A))}function B(e){if(!1!==s.enabled){switch(e.touches.length){case 1:h=l.TOUCH_ROTATE;break;case 2:h=l.TOUCH_ZOOM_PAN;var t=e.touches[0].pageX-e.touches[1].pageX,i=e.touches[0].pageY-e.touches[1].pageY;m=_=_Mathsqrt(t*t+i*i);var n=(e.touches[0].pageX+e.touches[1].pageX)/2,r=(e.touches[0].pageY+e.touches[1].pageY)/2;b.copy(w(n,r)),y.copy(b);break;default:h=l.NONE;}s.dispatchEvent(v)}}function M(e){if(!1!==s.enabled)switch(e.preventDefault(),e.stopPropagation(),e.touches.length){case 1:break;case 2:var t=e.touches[0].pageX-e.touches[1].pageX,i=e.touches[0].pageY-e.touches[1].pageY;m=_Mathsqrt(t*t+i*i);var n=(e.touches[0].pageX+e.touches[1].pageX)/2,r=(e.touches[0].pageY+e.touches[1].pageY)/2;y.copy(w(n,r));break;default:h=l.NONE;}}function P(e){if(!1!==s.enabled){switch(e.touches.length){case 1:break;case 2:_=m=0;var t=(e.touches[0].pageX+e.touches[1].pageX)/2,i=(e.touches[0].pageY+e.touches[1].pageY)/2;y.copy(w(t,i)),b.copy(y);}h=l.NONE,s.dispatchEvent(A)}}function T(e){e.preventDefault()}return a.zoomCamera=function(){if(h===l.TOUCH_ZOOM_PAN){var e=m/_;_=m,s.object.zoom*=e,c=!0}else{e=1+(p.y-d.y)*s.zoomSpeed;1e-6<_Mathabs(e-1)&&0<e&&(s.object.zoom/=e,s.staticMoving?d.copy(p):d.y+=(p.y-d.y)*this.dynamicDampingFactor,c=!0)}},a.panCamera=function(){var t=new e.Vector2,i=new e.Vector3,n=new e.Vector3;return function(){if(t.copy(y).sub(b),t.lengthSq()){var e=(s.object.right-s.object.left)/s.object.zoom,r=(s.object.top-s.object.bottom)/s.object.zoom;t.x*=e,t.y*=r,n.copy(f).cross(s.object.up).setLength(t.x),n.add(i.copy(s.object.up).setLength(t.y)),s.object.position.add(n),s.target.add(n),s.staticMoving?b.copy(y):b.add(t.subVectors(y,b).multiplyScalar(s.dynamicDampingFactor)),c=!0}}}(),a.update=function(){f.subVectors(s.object.position,s.target),s.noZoom||(s.zoomCamera(),c&&s.object.updateProjectionMatrix()),s.noPan||s.panCamera(),s.object.position.addVectors(s.target,f),s.object.lookAt(s.target),c&&(s.dispatchEvent(g),c=!1)},a.reset=function(){h=l.NONE,u=l.NONE,s.target.copy(s.target0),s.object.position.copy(s.position0),s.object.up.copy(s.up0),f.subVectors(s.object.position,s.target),s.object.left=s.left0,s.object.right=s.right0,s.object.top=s.top0,s.object.bottom=s.bottom0,s.object.lookAt(s.target),s.dispatchEvent(g),c=!1},a.dispose=function(){this.domElement.removeEventListener("contextmenu",T,!1),this.domElement.removeEventListener("mousedown",I,!1),this.domElement.removeEventListener("wheel",C,!1),this.domElement.removeEventListener("touchstart",B,!1),this.domElement.removeEventListener("touchend",P,!1),this.domElement.removeEventListener("touchmove",M,!1),window.removeEventListener("keydown",x,!1),window.removeEventListener("keyup",k,!1)},a.domElement.addEventListener("contextmenu",T,!1),a.domElement.addEventListener("mousedown",I,!1),a.domElement.addEventListener("wheel",C,!1),a.domElement.addEventListener("touchstart",B,!1),a.domElement.addEventListener("touchend",P,!1),a.domElement.addEventListener("touchmove",M,!1),window.addEventListener("keydown",x,!1),window.addEventListener("keyup",k,!1),a.handleResize(),a.update(),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+babelHelpers.typeof(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,t),i}(e.EventDispatcher)};t.a=n()},function(e,t,i){"use strict";i.d(t,"b",function(){return r});var n=function(){function e(e,t){for(var i=0,n;i<t.length;i++){n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=function r(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:window.THREE;return void 0===e||void 0===e.BoxGeometry?null:function(t){function i(n){!function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,i);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=babelHelpers.typeof(t)&&"function"!=typeof t?e:t}(this,t.call(this,1,1,1));return r._location=n,r.applyMatrix(new e.Matrix4().makeTranslation(r._location.x,r._location.y,r._location.z)),r.verticesNeedUpdate=!0,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+babelHelpers.typeof(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,t),i.prototype.resetVertices=function(){this.vertices[0].set(.5,.5,.5),this.vertices[1].set(.5,.5,-.5),this.vertices[2].set(.5,-.5,.5),this.vertices[3].set(.5,-.5,-.5),this.vertices[4].set(-.5,.5,-.5),this.vertices[5].set(-.5,.5,.5),this.vertices[6].set(-.5,-.5,-.5),this.vertices[7].set(-.5,-.5,.5)},n(i,[{key:"location",set:function set(t){this._location=t,this.vertices[0].set(.5,.5,.5),this.vertices[1].set(.5,.5,-.5),this.vertices[2].set(.5,-.5,.5),this.vertices[3].set(.5,-.5,-.5),this.vertices[4].set(-.5,.5,-.5),this.vertices[5].set(-.5,.5,.5),this.vertices[6].set(-.5,-.5,-.5),this.vertices[7].set(-.5,-.5,.5),this.applyMatrix(new e.Matrix4().makeTranslation(this._location.x,this._location.y,this._location.z)),this.verticesNeedUpdate=!0},get:function get(){return this._location}}]),i}(e.BoxGeometry)};t.a=r()},function(e,t,i){"use strict";i.d(t,"b",function(){return s});var n=i(27),r=i(20),o=i(19),a=function(){function e(e,t){for(var i=0,n;i<t.length;i++){n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s=function s(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:window.THREE;return void 0===e||void 0===e.Object3D?null:function(t){function i(e,a,s){!function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,i);var l=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=babelHelpers.typeof(t)&&"function"!=typeof t?e:t}(this,t.call(this));return l._stack=e,l._textureToFilter=s,l._contourWidth=1,l._contourOpacity=1,l._canvasWidth=0,l._canvasHeight=0,l._shadersFragment=o.a,l._shadersVertex=r.a,l._uniforms=n.a.uniforms(),l._material=null,l._geometry=a,l._create(),l}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+babelHelpers.typeof(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,t),i.prototype._create=function(){this._prepareMaterial(),this._mesh=new e.Mesh(this._geometry,this._material),this._mesh.applyMatrix(this._stack._ijk2LPS),this.add(this._mesh)},i.prototype._prepareMaterial=function(){if(!this._material){this._uniforms.uWidth.value=this._contourWidth,this._uniforms.uOpacity.value=this._contourOpacity,this._uniforms.uCanvasWidth.value=this._canvasWidth,this._uniforms.uCanvasHeight.value=this._canvasHeight;var t=new o.a(this._uniforms),i=new r.a;this._material=new e.ShaderMaterial({side:e.DoubleSide,uniforms:this._uniforms,vertexShader:i.compute(),fragmentShader:t.compute(),transparent:!0})}},i.prototype.update=function(){this._mesh&&(this.remove(this._mesh),this._mesh.geometry.dispose(),this._mesh.geometry=null,this._mesh=null),this._create()},i.prototype.dispose=function(){null!==this._textureToFilter&&(this._textureToFilter.dispose(),this._textureToFilter=null),this._shadersFragment=null,this._shadersVertex=null,this._uniforms=null,this.remove(this._mesh),this._mesh.geometry.dispose(),this._mesh.geometry=null,this._mesh.material.dispose(),this._mesh.material=null,this._mesh=null,this._geometry.dispose(),this._geometry=null,this._material.vertexShader=null,this._material.fragmentShader=null,this._material.uniforms=null,this._material.dispose(),this._material=null,this._stack=null},a(i,[{key:"geometry",get:function get(){return this._geometry},set:function set(e){this._mesh&&(this.remove(this._mesh),this._mesh.geometry.dispose(),this._mesh.geometry=null,this._mesh=null,this._geometry.dispose(),this._geometry=null),this._geometry=e,this._create()}},{key:"textureToFilter",get:function get(){return this._textureToFilter},set:function set(e){this._textureToFilter=e,this._uniforms.uTextureFilled.value=e,this._material.needsUpdate=!0}},{key:"contourOpacity",get:function get(){return this._contourOpacity},set:function set(e){this._contourOpacity=e,this._uniforms.uOpacity.value=this._contourOpacity}},{key:"contourWidth",get:function get(){return this._contourWidth},set:function set(e){this._contourWidth=e,this._uniforms.uWidth.value=this._contourWidth}},{key:"canvasWidth",get:function get(){return this._canvasWidth},set:function set(e){this._canvasWidth=e,this._uniforms.uCanvasWidth.value=this._canvasWidth}},{key:"canvasHeight",get:function get(){return this._canvasHeight},set:function set(e){this._canvasHeight=e,this._uniforms.uCanvasHeight.value=this._canvasHeight}}]),i}(e.Object3D)};t.a=s()},function(e,t,i){"use strict";i.d(t,"b",function(){return s});var n=i(28),r=i(22),o=i(21),a=function(){function e(e,t){for(var i=0,n;i<t.length;i++){n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s=function s(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:window.THREE;return void 0===e||void 0===e.Object3D?null:function(t){function i(e,a,s){!function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,i);var l=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=babelHelpers.typeof(t)&&"function"!=typeof t?e:t}(this,t.call(this));return l._stack=e,l._referencePlane=s,l._plane1=null,l._color1=null,l._plane2=null,l._color2=null,l._plane3=null,l._color3=null,l._canvasWidth=0,l._canvasHeight=0,l._shadersFragment=o.a,l._shadersVertex=r.a,l._uniforms=n.a.uniforms(),l._material=null,l._geometry=a,l._create(),l}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+babelHelpers.typeof(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,t),i.prototype._create=function(){this._prepareMaterial(),this._mesh=new e.Mesh(this._geometry,this._material),this._mesh.applyMatrix(this._stack._ijk2LPS),this.add(this._mesh)},i.prototype._prepareMaterial=function(){if(!this._material){this._uniforms.uSlice.value=this._referencePlane,this._plane1&&(this._uniforms.uPlane1.value=this._plane1,this._uniforms.uPlaneColor1.value=this._color1),this._plane2&&(this._uniforms.uPlane2.value=this._plane2,this._uniforms.uPlaneColor2.value=this._color2),this._plane3&&(this._uniforms.uPlane3.value=this._plane3,this._uniforms.uPlaneColor3.value=this._color3),this._uniforms.uCanvasWidth.value=this._canvasWidth,this._uniforms.uCanvasHeight.value=this._canvasHeight;var t=new o.a(this._uniforms),i=new r.a;this._material=new e.ShaderMaterial({side:e.DoubleSide,uniforms:this._uniforms,vertexShader:i.compute(),fragmentShader:t.compute()}),this._material.transparent=!0}},i.prototype.update=function(){this._mesh&&(this.remove(this._mesh),this._mesh.geometry.dispose(),this._mesh.geometry=null,this._mesh=null),this._create()},i.prototype.dispose=function(){this._referencePlane=null,this._plane1=null,this._color1=null,this._plane2=null,this._color2=null,this._plane3=null,this._color3=null,this._shadersFragment=null,this._shadersVertex=null,this._uniforms=null,this.remove(this._mesh),this._mesh.geometry.dispose(),this._mesh.geometry=null,this._mesh.material.dispose(),this._mesh.material=null,this._mesh=null,this._geometry.dispose(),this._geometry=null,this._material.vertexShader=null,this._material.fragmentShader=null,this._material.uniforms=null,this._material.dispose(),this._material=null,this._stack=null},a(i,[{key:"geometry",get:function get(){return this._geometry},set:function set(e){this._mesh&&(this.remove(this._mesh),this._mesh.geometry.dispose(),this._mesh.geometry=null,this._mesh=null,this._geometry.dispose(),this._geometry=null),this._geometry=e,this._create()}},{key:"referencePlane",get:function get(){return this._referencePlane},set:function set(e){this._referencePlane=e,this._uniforms.uSlice.value=this._referencePlane}},{key:"plane1",get:function get(){return this._plane1},set:function set(e){this._plane1=e,this._uniforms.uPlane1.value=this._plane1}},{key:"color1",get:function get(){return this._color1},set:function set(e){this._color1=e,this._uniforms.uPlaneColor1.value=this._color1}},{key:"plane2",get:function get(){return this._plane2},set:function set(e){this._plane2=e,this._uniforms.uPlane2.value=this._plane2}},{key:"color2",get:function get(){return this._color2},set:function set(e){this._color2=e,this._uniforms.uPlaneColor2.value=this._color2}},{key:"plane3",get:function get(){return this._plane3},set:function set(e){this._plane3=e,this._uniforms.uPlane3.value=this._plane3}},{key:"color3",get:function get(){return this._color3},set:function set(e){this._color3=e,this._uniforms.uPlaneColor3.value=this._color3}},{key:"canvasWidth",get:function get(){return this._canvasWidth},set:function set(e){this._canvasWidth=e,this._uniforms.uCanvasWidth.value=this._canvasWidth}},{key:"canvasHeight",get:function get(){return this._canvasHeight},set:function set(e){this._canvasHeight=e,this._uniforms.uCanvasHeight.value=this._canvasHeight}}]),i}(e.Object3D)};t.a=s()},function(e,t,i){"use strict";i.d(t,"b",function(){return o});var n=i(1),r=function(){function e(e,t){for(var i=0,n;i<t.length;i++){n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=function o(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:window.THREE;return void 0===e||void 0===e.Object3D?null:function(t){function i(e){var r,o,a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"default",s=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"linear",l=3<arguments.length&&void 0!==arguments[3]?arguments[3]:[[0,0,0,0],[1,1,1,1]],c=4<arguments.length&&void 0!==arguments[4]?arguments[4]:[[0,0],[1,1]],h=5<arguments.length&&void 0!==arguments[5]&&arguments[5];!function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,i);var u=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=babelHelpers.typeof(t)&&"function"!=typeof t?e:t}(this,t.call(this));return n.a.isString(e)?u._dom=document.getElementById(e):u._dom=e,u._discrete=h,u._color=l,u._lut=a,u._luts=((r={})[a]=l,r),u._opacity=c,u._lutO=s,u._lutsO=((o={})[s]=c,o),u.initCanvas(),u.paintCanvas(),u}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+babelHelpers.typeof(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,t),i.prototype.initCanvas=function(){this._canvasContainer=this.initCanvasContainer(this._dom),this._canvasBg=this.createCanvas(),this._canvasContainer.appendChild(this._canvasBg),this._canvas=this.createCanvas(),this._canvasContainer.appendChild(this._canvas)},i.prototype.initCanvasContainer=function(e){var t=e;return t.style.border="1px solid #F9F9F9",t},i.prototype.createCanvas=function(){var e=document.createElement("canvas");return e.height=1,e.width=256,e.style.width="256px",e.style.height="16px",e},i.prototype.paintCanvas=function(){var e=this._canvas.getContext("2d");if(e.clearRect(0,0,this._canvas.width,this._canvas.height),e.globalCompositeOperation="source-over",this._discrete){e.lineWidth=2*this._canvas.height;for(var t=0;t<this._color.length;t++){var i=this._color[t][0],n=1;t<this._color.length-1&&(n=this._color[t+1][0]);var r=0;0<t&&(r=this._color[t-1][0]);var o=r+(i-r)/2,a=i+(n-i)/2,s=this._color[t],l=this._opacity[t]?this._opacity[t][1]:1;e.beginPath(),e.strokeStyle="rgba( "+_Mathround(255*s[1])+", "+_Mathround(255*s[2])+", "+_Mathround(255*s[3])+", "+l+")",e.moveTo(o*this._canvas.width,0),e.lineTo(a*this._canvas.width,0),e.stroke(),e.closePath()}}else{for(var c=e.createLinearGradient(0,0,this._canvas.width,0),h=0;h<this._color.length;h++){c.addColorStop(this._color[h][0],"rgba( "+_Mathround(255*this._color[h][1])+", "+_Mathround(255*this._color[h][2])+", "+_Mathround(255*this._color[h][3])+", 1)")}e.fillStyle=c,e.fillRect(0,0,this._canvas.width,this._canvas.height),e.globalCompositeOperation="destination-in";for(var u=e.createLinearGradient(0,0,this._canvas.width,0),f=0;f<this._opacity.length;f++){u.addColorStop(this._opacity[f][0],"rgba(255, 255, 255, "+this._opacity[f][1]+")")}e.fillStyle=u,e.fillRect(0,0,this._canvas.width,this._canvas.height)}},i.prototype.lutsAvailable=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"color",t=[],i=this._luts;for(var n in"color"!==e&&(i=this._lutsO),i){t.push(n)}return t},i.presetLuts=function(){return{default:[[0,0,0,0],[1,1,1,1]],spectrum:[[0,0,0,0],[.1,0,0,1],[.33,0,1,1],[.5,0,1,0],[.66,1,1,0],[.9,1,0,0],[1,1,1,1]],hot_and_cold:[[0,0,0,1],[.15,0,1,1],[.3,0,1,0],[.45,0,0,0],[.5,0,0,0],[.55,0,0,0],[.7,1,1,0],[.85,1,0,0],[1,1,1,1]],gold:[[0,0,0,0],[.13,.19,.03,0],[.25,.39,.12,0],[.38,.59,.26,0],[.5,.8,.46,.08],[.63,.99,.71,.21],[.75,.99,.88,.34],[.88,.99,.99,.48],[1,.9,.95,.61]],red:[[0,.75,0,0],[.5,1,.5,0],[.95,1,1,0],[1,1,1,1]],green:[[0,0,.75,0],[.5,.5,1,0],[.95,1,1,0],[1,1,1,1]],blue:[[0,0,0,1],[.5,0,.5,1],[.95,0,1,1],[1,1,1,1]],walking_dead:[[0,.1,1,1],[1,1,1,1]],random:[[0,0,0,0],[.27,.18,.18,.18],[.41,1,1,1],[.7,1,0,0],[1,1,1,1]],muscle_bone:[[0,0,0,0],[.00392156862745098,.00784313725490196,0,0],[.00784313725490196,.0196078431372549,0,0],[.011764705882352941,.03137254901960784,0,0],[.01568627450980392,.0392156862745098,0,.00392156862745098],[.0196078431372549,.050980392156862744,.00392156862745098,.00392156862745098],[.023529411764705882,.06274509803921569,.00392156862745098,.00392156862745098],[.027450980392156862,.07058823529411765,.00392156862745098,.00784313725490196],[.03137254901960784,.08235294117647059,.00392156862745098,.00784313725490196],[.03529411764705882,.09411764705882353,.00784313725490196,.00784313725490196],[.0392156862745098,.10196078431372549,.00784313725490196,.00784313725490196],[.043137254901960784,.11372549019607843,.00784313725490196,.011764705882352941],[.047058823529411764,.12549019607843137,.00784313725490196,.011764705882352941],[.050980392156862744,.13333333333333333,.011764705882352941,.011764705882352941],[.054901960784313725,.1450980392156863,.011764705882352941,.01568627450980392],[.058823529411764705,.1568627450980392,.011764705882352941,.01568627450980392],[.06274509803921569,.16470588235294117,.011764705882352941,.01568627450980392],[.06666666666666667,.17647058823529413,.011764705882352941,.0196078431372549],[.07058823529411765,.18823529411764706,.01568627450980392,.0196078431372549],[.07450980392156863,.2,.01568627450980392,.0196078431372549],[.0784313725490196,.20784313725490197,.01568627450980392,.0196078431372549],[.08235294117647059,.2196078431372549,.01568627450980392,.023529411764705882],[.08627450980392157,.23137254901960785,.0196078431372549,.023529411764705882],[.09019607843137255,.23921568627450981,.0196078431372549,.023529411764705882],[.09411764705882353,.25098039215686274,.0196078431372549,.027450980392156862],[.09803921568627451,.2627450980392157,.0196078431372549,.027450980392156862],[.10196078431372549,.27058823529411763,.023529411764705882,.027450980392156862],[.10588235294117647,.2823529411764706,.023529411764705882,.027450980392156862],[.10980392156862745,.29411764705882354,.023529411764705882,.03137254901960784],[.11372549019607843,.30196078431372547,.023529411764705882,.03137254901960784],[.11764705882352941,.3137254901960784,.023529411764705882,.03137254901960784],[.12156862745098039,.3254901960784314,.027450980392156862,.03529411764705882],[.12549019607843137,.3333333333333333,.027450980392156862,.03529411764705882],[.12941176470588237,.34509803921568627,.027450980392156862,.03529411764705882],[.13333333333333333,.3568627450980392,.027450980392156862,.0392156862745098],[.13725490196078433,.36470588235294116,.03137254901960784,.0392156862745098],[.1411764705882353,.3764705882352941,.03137254901960784,.0392156862745098],[.1450980392156863,.38823529411764707,.03137254901960784,.0392156862745098],[.14901960784313725,.4,.03137254901960784,.043137254901960784],[.15294117647058825,.40784313725490196,.03529411764705882,.043137254901960784],[.1568627450980392,.4196078431372549,.03529411764705882,.043137254901960784],[.1607843137254902,.43137254901960786,.03529411764705882,.047058823529411764],[.16470588235294117,.4392156862745098,.03529411764705882,.047058823529411764],[.16862745098039217,.45098039215686275,.03529411764705882,.047058823529411764],[.17254901960784313,.4627450980392157,.0392156862745098,.047058823529411764],[.17647058823529413,.47058823529411764,.0392156862745098,.050980392156862744],[.1803921568627451,.4823529411764706,.0392156862745098,.050980392156862744],[.1843137254901961,.49411764705882355,.0392156862745098,.050980392156862744],[.18823529411764706,.5019607843137255,.043137254901960784,.054901960784313725],[.19215686274509805,.5137254901960784,.043137254901960784,.054901960784313725],[.19607843137254902,.5254901960784314,.043137254901960784,.054901960784313725],[.2,.5333333333333333,.043137254901960784,.058823529411764705],[.20392156862745098,.5450980392156862,.047058823529411764,.058823529411764705],[.20784313725490197,.5568627450980392,.047058823529411764,.058823529411764705],[.21176470588235294,.5647058823529412,.047058823529411764,.058823529411764705],[.21568627450980393,.5764705882352941,.047058823529411764,.06274509803921569],[.2196078431372549,.5882352941176471,.047058823529411764,.06274509803921569],[.2235294117647059,.6,.050980392156862744,.06274509803921569],[.22745098039215686,.6078431372549019,.050980392156862744,.06666666666666667],[.23137254901960785,.6196078431372549,.050980392156862744,.06666666666666667],[.23529411764705882,.6313725490196078,.050980392156862744,.06666666666666667],[.23921568627450981,.6392156862745098,.054901960784313725,.06666666666666667],[.24313725490196078,.6509803921568628,.054901960784313725,.07058823529411765],[.24705882352941178,.6627450980392157,.054901960784313725,.07058823529411765],[.25098039215686274,.6705882352941176,.054901960784313725,.07058823529411765],[.2549019607843137,.6823529411764706,.058823529411764705,.07450980392156863],[.25882352941176473,.6941176470588235,.058823529411764705,.07450980392156863],[.2627450980392157,.7019607843137254,.058823529411764705,.07450980392156863],[.26666666666666666,.7137254901960784,.058823529411764705,.0784313725490196],[.27058823529411763,.7254901960784313,.058823529411764705,.0784313725490196],[.27450980392156865,.7333333333333333,.06274509803921569,.0784313725490196],[.2784313725490196,.7450980392156863,.06274509803921569,.0784313725490196],[.2823529411764706,.7568627450980392,.06274509803921569,.08235294117647059],[.28627450980392155,.7647058823529411,.06274509803921569,.08235294117647059],[.2901960784313726,.7764705882352941,.06666666666666667,.08235294117647059],[.29411764705882354,.788235294117647,.06666666666666667,.08627450980392157],[.2980392156862745,.8,.06666666666666667,.08627450980392157],[.30196078431372547,.807843137254902,.06666666666666667,.08627450980392157],[.3058823529411765,.8196078431372549,.07058823529411765,.08627450980392157],[.30980392156862746,.8313725490196079,.07058823529411765,.09019607843137255],[.3137254901960784,.8392156862745098,.07058823529411765,.09019607843137255],[.3176470588235294,.8509803921568627,.07058823529411765,.09019607843137255],[.3215686274509804,.8627450980392157,.07058823529411765,.09411764705882353],[.3254901960784314,.8705882352941177,.07450980392156863,.09411764705882353],[.32941176470588235,.8823529411764706,.07450980392156863,.09411764705882353],[.3333333333333333,.8941176470588236,.07450980392156863,.09803921568627451],[.33725490196078434,.9019607843137255,.07450980392156863,.09803921568627451],[.3411764705882353,.9137254901960784,.0784313725490196,.09803921568627451],[.34509803921568627,.9254901960784314,.0784313725490196,.09803921568627451],[.34901960784313724,.9333333333333333,.0784313725490196,.10196078431372549],[.35294117647058826,.9450980392156862,.0784313725490196,.10196078431372549],[.3568627450980392,.9568627450980393,.08235294117647059,.10196078431372549],[.3607843137254902,.9647058823529412,.08235294117647059,.10588235294117647],[.36470588235294116,.9764705882352941,.08235294117647059,.10588235294117647],[.3686274509803922,.9882352941176471,.08235294117647059,.10588235294117647],[.37254901960784315,1,.08235294117647059,.10588235294117647],[.3764705882352941,1,.09411764705882353,.10588235294117647],[.3803921568627451,1,.10588235294117647,.10588235294117647],[.3843137254901961,1,.11764705882352941,.10196078431372549],[.38823529411764707,1,.12941176470588237,.10196078431372549],[.39215686274509803,1,.1411764705882353,.10196078431372549],[.396078431372549,1,.15294117647058825,.09803921568627451],[.4,1,.16470588235294117,.09803921568627451],[.403921568627451,1,.17647058823529413,.09803921568627451],[.40784313725490196,1,.18823529411764706,.09411764705882353],[.4117647058823529,1,.2,.09411764705882353],[.41568627450980394,1,.21176470588235294,.09411764705882353],[.4196078431372549,1,.2235294117647059,.09019607843137255],[.4235294117647059,1,.23529411764705882,.09019607843137255],[.42745098039215684,1,.24705882352941178,.08627450980392157],[.43137254901960786,1,.25882352941176473,.08627450980392157],[.43529411764705883,1,.27058823529411763,.08627450980392157],[.4392156862745098,1,.2823529411764706,.08235294117647059],[.44313725490196076,1,.29411764705882354,.08235294117647059],[.4470588235294118,1,.3058823529411765,.08235294117647059],[.45098039215686275,1,.3176470588235294,.0784313725490196],[.4549019607843137,1,.32941176470588235,.0784313725490196],[.4588235294117647,1,.3411764705882353,.0784313725490196],[.4627450980392157,1,.35294117647058826,.07450980392156863],[.4666666666666667,1,.36470588235294116,.07450980392156863],[.47058823529411764,1,.3764705882352941,.07450980392156863],[.4745098039215686,1,.38823529411764707,.07058823529411765],[.47843137254901963,1,.4,.07058823529411765],[.4823529411764706,1,.4117647058823529,.07058823529411765],[.48627450980392156,1,.4235294117647059,.06666666666666667],[.49019607843137253,1,.43529411764705883,.06666666666666667],[.49411764705882355,1,.4470588235294118,.06274509803921569],[.4980392156862745,1,.4588235294117647,.06274509803921569],[.5019607843137255,1,.47058823529411764,.06274509803921569],[.5058823529411764,1,.4823529411764706,.058823529411764705],[.5098039215686274,1,.49411764705882355,.058823529411764705],[.5137254901960784,1,.5058823529411764,.058823529411764705],[.5176470588235295,1,.5137254901960784,.054901960784313725],[.5215686274509804,1,.5254901960784314,.054901960784313725],[.5254901960784314,1,.5372549019607843,.054901960784313725],[.5294117647058824,1,.5490196078431373,.050980392156862744],[.5333333333333333,1,.5607843137254902,.050980392156862744],[.5372549019607843,1,.5725490196078431,.050980392156862744],[.5411764705882353,1,.5843137254901961,.047058823529411764],[.5450980392156862,1,.596078431372549,.047058823529411764],[.5490196078431373,1,.6078431372549019,.043137254901960784],[.5529411764705883,1,.6196078431372549,.043137254901960784],[.5568627450980392,1,.6313725490196078,.043137254901960784],[.5607843137254902,1,.6431372549019608,.0392156862745098],[.5647058823529412,1,.6549019607843137,.0392156862745098],[.5686274509803921,1,.6666666666666666,.0392156862745098],[.5725490196078431,1,.6784313725490196,.03529411764705882],[.5764705882352941,1,.6901960784313725,.03529411764705882],[.5803921568627451,1,.6941176470588235,.0392156862745098],[.5843137254901961,1,.7019607843137254,.0392156862745098],[.5882352941176471,1,.7058823529411765,.043137254901960784],[.592156862745098,1,.7098039215686275,.043137254901960784],[.596078431372549,1,.7137254901960784,.047058823529411764],[.6,1,.7176470588235294,.047058823529411764],[.6039215686274509,1,.7254901960784313,.050980392156862744],[.6078431372549019,1,.7294117647058823,.050980392156862744],[.611764705882353,1,.7333333333333333,.054901960784313725],[.615686274509804,1,.7372549019607844,.058823529411764705],[.6196078431372549,1,.7411764705882353,.058823529411764705],[.6235294117647059,1,.7490196078431373,.06274509803921569],[.6274509803921569,1,.7529411764705882,.06274509803921569],[.6313725490196078,1,.7568627450980392,.06666666666666667],[.6352941176470588,1,.7607843137254902,.06666666666666667],[.6392156862745098,1,.7647058823529411,.07058823529411765],[.6431372549019608,1,.7725490196078432,.07058823529411765],[.6470588235294118,1,.7764705882352941,.07450980392156863],[.6509803921568628,1,.7803921568627451,.07450980392156863],[.6549019607843137,1,.7843137254901961,.0784313725490196],[.6588235294117647,1,.788235294117647,.08235294117647059],[.6627450980392157,1,.796078431372549,.08235294117647059],[.6666666666666666,1,.8,.08627450980392157],[.6705882352941176,1,.803921568627451,.08627450980392157],[.6745098039215687,1,.807843137254902,.09019607843137255],[.6784313725490196,1,.8117647058823529,.09019607843137255],[.6823529411764706,1,.8196078431372549,.09411764705882353],[.6862745098039216,1,.8235294117647058,.09411764705882353],[.6901960784313725,1,.8274509803921568,.09803921568627451],[.6941176470588235,1,.8313725490196079,.10196078431372549],[.6980392156862745,1,.8352941176470589,.10196078431372549],[.7019607843137254,1,.8431372549019608,.10588235294117647],[.7058823529411765,1,.8470588235294118,.10588235294117647],[.7098039215686275,1,.8509803921568627,.10980392156862745],[.7137254901960784,1,.8549019607843137,.10980392156862745],[.7176470588235294,1,.8627450980392157,.11372549019607843],[.7215686274509804,1,.8666666666666667,.11372549019607843],[.7254901960784313,1,.8705882352941177,.11764705882352941],[.7294117647058823,1,.8745098039215686,.12156862745098039],[.7333333333333333,1,.8784313725490196,.12156862745098039],[.7372549019607844,1,.8862745098039215,.12549019607843137],[.7411764705882353,1,.8901960784313725,.12549019607843137],[.7450980392156863,1,.8941176470588236,.12941176470588237],[.7490196078431373,1,.8980392156862745,.12941176470588237],[.7529411764705882,1,.9019607843137255,.13333333333333333],[.7568627450980392,1,.9098039215686274,.13333333333333333],[.7607843137254902,1,.9137254901960784,.13725490196078433],[.7647058823529411,1,.9176470588235294,.1411764705882353],[.7686274509803922,1,.9215686274509803,.1411764705882353],[.7725490196078432,1,.9254901960784314,.1450980392156863],[.7764705882352941,1,.9333333333333333,.1450980392156863],[.7803921568627451,1,.9372549019607843,.14901960784313725],[.7843137254901961,1,.9411764705882353,.14901960784313725],[.788235294117647,1,.9450980392156862,.15294117647058825],[.792156862745098,1,.9450980392156862,.16862745098039217],[.796078431372549,1,.9490196078431372,.1843137254901961],[.8,1,.9490196078431372,.2],[.803921568627451,1,.9490196078431372,.21568627450980393],[.807843137254902,1,.9490196078431372,.22745098039215686],[.8117647058823529,1,.9529411764705882,.24313725490196078],[.8156862745098039,1,.9529411764705882,.25882352941176473],[.8196078431372549,1,.9529411764705882,.27450980392156865],[.8235294117647058,1,.9529411764705882,.2901960784313726],[.8274509803921568,1,.9568627450980393,.3058823529411765],[.8313725490196079,1,.9568627450980393,.3215686274509804],[.8352941176470589,1,.9568627450980393,.33725490196078434],[.8392156862745098,1,.9568627450980393,.35294117647058826],[.8431372549019608,1,.9607843137254902,.3686274509803922],[.8470588235294118,1,.9607843137254902,.3843137254901961],[.8509803921568627,1,.9607843137254902,.4],[.8549019607843137,1,.9607843137254902,.4117647058823529],[.8588235294117647,1,.9647058823529412,.42745098039215684],[.8627450980392157,1,.9647058823529412,.44313725490196076],[.8666666666666667,1,.9647058823529412,.4588235294117647],[.8705882352941177,1,.9647058823529412,.4745098039215686],[.8745098039215686,1,.9686274509803922,.49019607843137253],[.8784313725490196,1,.9686274509803922,.5058823529411764],[.8823529411764706,1,.9686274509803922,.5215686274509804],[.8862745098039215,1,.9686274509803922,.5372549019607843],[.8901960784313725,1,.9725490196078431,.5529411764705883],[.8941176470588236,1,.9725490196078431,.5686274509803921],[.8980392156862745,1,.9725490196078431,.5843137254901961],[.9019607843137255,1,.9725490196078431,.6],[.9058823529411765,1,.9725490196078431,.611764705882353],[.9098039215686274,1,.9764705882352941,.6274509803921569],[.9137254901960784,1,.9764705882352941,.6431372549019608],[.9176470588235294,1,.9764705882352941,.6588235294117647],[.9215686274509803,1,.9764705882352941,.6745098039215687],[.9254901960784314,1,.9803921568627451,.6901960784313725],[.9294117647058824,1,.9803921568627451,.7058823529411765],[.9333333333333333,1,.9803921568627451,.7215686274509804],[.9372549019607843,1,.9803921568627451,.7372549019607844],[.9411764705882353,1,.984313725490196,.7529411764705882],[.9450980392156862,1,.984313725490196,.7686274509803922],[.9490196078431372,1,.984313725490196,.7843137254901961],[.9529411764705882,1,.984313725490196,.8],[.9568627450980393,1,.9882352941176471,.8117647058823529],[.9607843137254902,1,.9882352941176471,.8274509803921568],[.9647058823529412,1,.9882352941176471,.8431372549019608],[.9686274509803922,1,.9882352941176471,.8588235294117647],[.9725490196078431,1,.9921568627450981,.8745098039215686],[.9764705882352941,1,.9921568627450981,.8901960784313725],[.9803921568627451,1,.9921568627450981,.9058823529411765],[.984313725490196,1,.9921568627450981,.9215686274509803],[.9882352941176471,1,.996078431372549,.9372549019607843],[.9921568627450981,1,.996078431372549,.9529411764705882],[.996078431372549,1,.996078431372549,.9686274509803922],[1,1,.996078431372549,.984313725490196]]}},i.presetLutsO=function(){return{linear:[[0,0],[1,1]],lowpass:[[0,.8],[.2,.6],[.3,.1],[1,0]],bandpass:[[0,0],[.4,.8],[.6,.8],[1,0]],highpass:[[0,0],[.7,.1],[.8,.6],[1,.8]],flat:[[0,.7],[1,1]],random:[[0,0],[.38,0],[.55,1],[.72,1],[1,.05]],linear_full:[[0,0],[.00392156862745098,.00392156862745098],[.00784313725490196,.00784313725490196],[.011764705882352941,.011764705882352941],[.01568627450980392,.01568627450980392],[.0196078431372549,.0196078431372549],[.023529411764705882,.023529411764705882],[.027450980392156862,.027450980392156862],[.03137254901960784,.03137254901960784],[.03529411764705882,.03529411764705882],[.0392156862745098,.0392156862745098],[.043137254901960784,.043137254901960784],[.047058823529411764,.047058823529411764],[.050980392156862744,.050980392156862744],[.054901960784313725,.054901960784313725],[.058823529411764705,.058823529411764705],[.06274509803921569,.06274509803921569],[.06666666666666667,.06666666666666667],[.07058823529411765,.07058823529411765],[.07450980392156863,.07450980392156863],[.0784313725490196,.0784313725490196],[.08235294117647059,.08235294117647059],[.08627450980392157,.08627450980392157],[.09019607843137255,.09019607843137255],[.09411764705882353,.09411764705882353],[.09803921568627451,.09803921568627451],[.10196078431372549,.10196078431372549],[.10588235294117647,.10588235294117647],[.10980392156862745,.10980392156862745],[.11372549019607843,.11372549019607843],[.11764705882352941,.11764705882352941],[.12156862745098039,.12156862745098039],[.12549019607843137,.12549019607843137],[.12941176470588237,.12941176470588237],[.13333333333333333,.13333333333333333],[.13725490196078433,.13725490196078433],[.1411764705882353,.1411764705882353],[.1450980392156863,.1450980392156863],[.14901960784313725,.14901960784313725],[.15294117647058825,.15294117647058825],[.1568627450980392,.1568627450980392],[.1607843137254902,.1607843137254902],[.16470588235294117,.16470588235294117],[.16862745098039217,.16862745098039217],[.17254901960784313,.17254901960784313],[.17647058823529413,.17647058823529413],[.1803921568627451,.1803921568627451],[.1843137254901961,.1843137254901961],[.18823529411764706,.18823529411764706],[.19215686274509805,.19215686274509805],[.19607843137254902,.19607843137254902],[.2,.2],[.20392156862745098,.20392156862745098],[.20784313725490197,.20784313725490197],[.21176470588235294,.21176470588235294],[.21568627450980393,.21568627450980393],[.2196078431372549,.2196078431372549],[.2235294117647059,.2235294117647059],[.22745098039215686,.22745098039215686],[.23137254901960785,.23137254901960785],[.23529411764705882,.23529411764705882],[.23921568627450981,.23921568627450981],[.24313725490196078,.24313725490196078],[.24705882352941178,.24705882352941178],[.25098039215686274,.25098039215686274],[.2549019607843137,.2549019607843137],[.25882352941176473,.25882352941176473],[.2627450980392157,.2627450980392157],[.26666666666666666,.26666666666666666],[.27058823529411763,.27058823529411763],[.27450980392156865,.27450980392156865],[.2784313725490196,.2784313725490196],[.2823529411764706,.2823529411764706],[.28627450980392155,.28627450980392155],[.2901960784313726,.2901960784313726],[.29411764705882354,.29411764705882354],[.2980392156862745,.2980392156862745],[.30196078431372547,.30196078431372547],[.3058823529411765,.3058823529411765],[.30980392156862746,.30980392156862746],[.3137254901960784,.3137254901960784],[.3176470588235294,.3176470588235294],[.3215686274509804,.3215686274509804],[.3254901960784314,.3254901960784314],[.32941176470588235,.32941176470588235],[.3333333333333333,.3333333333333333],[.33725490196078434,.33725490196078434],[.3411764705882353,.3411764705882353],[.34509803921568627,.34509803921568627],[.34901960784313724,.34901960784313724],[.35294117647058826,.35294117647058826],[.3568627450980392,.3568627450980392],[.3607843137254902,.3607843137254902],[.36470588235294116,.36470588235294116],[.3686274509803922,.3686274509803922],[.37254901960784315,.37254901960784315],[.3764705882352941,.3764705882352941],[.3803921568627451,.3803921568627451],[.3843137254901961,.3843137254901961],[.38823529411764707,.38823529411764707],[.39215686274509803,.39215686274509803],[.396078431372549,.396078431372549],[.4,.4],[.403921568627451,.403921568627451],[.40784313725490196,.40784313725490196],[.4117647058823529,.4117647058823529],[.41568627450980394,.41568627450980394],[.4196078431372549,.4196078431372549],[.4235294117647059,.4235294117647059],[.42745098039215684,.42745098039215684],[.43137254901960786,.43137254901960786],[.43529411764705883,.43529411764705883],[.4392156862745098,.4392156862745098],[.44313725490196076,.44313725490196076],[.4470588235294118,.4470588235294118],[.45098039215686275,.45098039215686275],[.4549019607843137,.4549019607843137],[.4588235294117647,.4588235294117647],[.4627450980392157,.4627450980392157],[.4666666666666667,.4666666666666667],[.47058823529411764,.47058823529411764],[.4745098039215686,.4745098039215686],[.47843137254901963,.47843137254901963],[.4823529411764706,.4823529411764706],[.48627450980392156,.48627450980392156],[.49019607843137253,.49019607843137253],[.49411764705882355,.49411764705882355],[.4980392156862745,.4980392156862745],[.5019607843137255,.5019607843137255],[.5058823529411764,.5058823529411764],[.5098039215686274,.5098039215686274],[.5137254901960784,.5137254901960784],[.5176470588235295,.5176470588235295],[.5215686274509804,.5215686274509804],[.5254901960784314,.5254901960784314],[.5294117647058824,.5294117647058824],[.5333333333333333,.5333333333333333],[.5372549019607843,.5372549019607843],[.5411764705882353,.5411764705882353],[.5450980392156862,.5450980392156862],[.5490196078431373,.5490196078431373],[.5529411764705883,.5529411764705883],[.5568627450980392,.5568627450980392],[.5607843137254902,.5607843137254902],[.5647058823529412,.5647058823529412],[.5686274509803921,.5686274509803921],[.5725490196078431,.5725490196078431],[.5764705882352941,.5764705882352941],[.5803921568627451,.5803921568627451],[.5843137254901961,.5843137254901961],[.5882352941176471,.5882352941176471],[.592156862745098,.592156862745098],[.596078431372549,.596078431372549],[.6,.6],[.6039215686274509,.6039215686274509],[.6078431372549019,.6078431372549019],[.611764705882353,.611764705882353],[.615686274509804,.615686274509804],[.6196078431372549,.6196078431372549],[.6235294117647059,.6235294117647059],[.6274509803921569,.6274509803921569],[.6313725490196078,.6313725490196078],[.6352941176470588,.6352941176470588],[.6392156862745098,.6392156862745098],[.6431372549019608,.6431372549019608],[.6470588235294118,.6470588235294118],[.6509803921568628,.6509803921568628],[.6549019607843137,.6549019607843137],[.6588235294117647,.6588235294117647],[.6627450980392157,.6627450980392157],[.6666666666666666,.6666666666666666],[.6705882352941176,.6705882352941176],[.6745098039215687,.6745098039215687],[.6784313725490196,.6784313725490196],[.6823529411764706,.6823529411764706],[.6862745098039216,.6862745098039216],[.6901960784313725,.6901960784313725],[.6941176470588235,.6941176470588235],[.6980392156862745,.6980392156862745],[.7019607843137254,.7019607843137254],[.7058823529411765,.7058823529411765],[.7098039215686275,.7098039215686275],[.7137254901960784,.7137254901960784],[.7176470588235294,.7176470588235294],[.7215686274509804,.7215686274509804],[.7254901960784313,.7254901960784313],[.7294117647058823,.7294117647058823],[.7333333333333333,.7333333333333333],[.7372549019607844,.7372549019607844],[.7411764705882353,.7411764705882353],[.7450980392156863,.7450980392156863],[.7490196078431373,.7490196078431373],[.7529411764705882,.7529411764705882],[.7568627450980392,.7568627450980392],[.7607843137254902,.7607843137254902],[.7647058823529411,.7647058823529411],[.7686274509803922,.7686274509803922],[.7725490196078432,.7725490196078432],[.7764705882352941,.7764705882352941],[.7803921568627451,.7803921568627451],[.7843137254901961,.7843137254901961],[.788235294117647,.788235294117647],[.792156862745098,.792156862745098],[.796078431372549,.796078431372549],[.8,.8],[.803921568627451,.803921568627451],[.807843137254902,.807843137254902],[.8117647058823529,.8117647058823529],[.8156862745098039,.8156862745098039],[.8196078431372549,.8196078431372549],[.8235294117647058,.8235294117647058],[.8274509803921568,.8274509803921568],[.8313725490196079,.8313725490196079],[.8352941176470589,.8352941176470589],[.8392156862745098,.8392156862745098],[.8431372549019608,.8431372549019608],[.8470588235294118,.8470588235294118],[.8509803921568627,.8509803921568627],[.8549019607843137,.8549019607843137],[.8588235294117647,.8588235294117647],[.8627450980392157,.8627450980392157],[.8666666666666667,.8666666666666667],[.8705882352941177,.8705882352941177],[.8745098039215686,.8745098039215686],[.8784313725490196,.8784313725490196],[.8823529411764706,.8823529411764706],[.8862745098039215,.8862745098039215],[.8901960784313725,.8901960784313725],[.8941176470588236,.8941176470588236],[.8980392156862745,.8980392156862745],[.9019607843137255,.9019607843137255],[.9058823529411765,.9058823529411765],[.9098039215686274,.9098039215686274],[.9137254901960784,.9137254901960784],[.9176470588235294,.9176470588235294],[.9215686274509803,.9215686274509803],[.9254901960784314,.9254901960784314],[.9294117647058824,.9294117647058824],[.9333333333333333,.9333333333333333],[.9372549019607843,.9372549019607843],[.9411764705882353,.9411764705882353],[.9450980392156862,.9450980392156862],[.9490196078431372,.9490196078431372],[.9529411764705882,.9529411764705882],[.9568627450980393,.9568627450980393],[.9607843137254902,.9607843137254902],[.9647058823529412,.9647058823529412],[.9686274509803922,.9686274509803922],[.9725490196078431,.9725490196078431],[.9764705882352941,.9764705882352941],[.9803921568627451,.9803921568627451],[.984313725490196,.984313725490196],[.9882352941176471,.9882352941176471],[.9921568627450981,.9921568627450981],[.996078431372549,.996078431372549],[1,1]]}},r(i,[{key:"texture",get:function get(){var t=new e.Texture(this._canvas);return t.mapping=e.UVMapping,t.wrapS=t.wrapT=e.ClampToEdgeWrapping,t.magFilter=t.minFilter=e.NearestFilter,t.premultiplyAlpha=!0,t.needsUpdate=!0,t}},{key:"lut",set:function set(e){this._color=this._luts[e],this._lut=e,this.paintCanvas()},get:function get(){return this._lut}},{key:"luts",set:function set(e){this._luts=e},get:function get(){return this._luts}},{key:"lutO",set:function set(e){this._opacity=this._lutsO[e],this._lutO=e,this.paintCanvas()},get:function get(){return this._lutO}},{key:"lutsO",set:function set(e){this._lutsO=e},get:function get(){return this._lutsO}},{key:"discrete",set:function set(e){this._discrete=e,this.paintCanvas()},get:function get(){return this._discrete}}]),i}(e.Object3D)};t.a=o()},function(e,t,i){"use strict";i.d(t,"b",function(){return s});var n=i(15),r=i(16),o=i(17),a=function(){function e(e,t){for(var i=0,n;i<t.length;i++){n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s=function s(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:window.THREE;return void 0===e||void 0===e.Object3D?null:function(t){function i(e){!function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,i);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=babelHelpers.typeof(t)&&"function"!=typeof t?e:t}(this,t.call(this));return n._stack=e,n._bBox=null,n._slice=null,n._border=null,n._dummy=null,n._orientation=0,n._index=0,n._uniforms=null,n._autoWindowLevel=!1,n._outOfBounds=!1,n._orientationMaxIndex=0,n._orientationSpacing=0,n._canvasWidth=0,n._canvasHeight=0,n._borderColor=null,n._create(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+babelHelpers.typeof(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,t),i.prototype._create=function(){this._stack?(this._prepareStack(),this._prepareBBox(),this._prepareSlice(),this._prepareBorder()):window.console.log("no stack to be prepared...")},i.prototype._computeOrientationSpacing=function(){var e=this._stack._spacing;switch(this._orientation){case 0:this._orientationSpacing=e.z;break;case 1:this._orientationSpacing=e.x;break;case 2:this._orientationSpacing=e.y;break;default:this._orientationSpacing=0;}},i.prototype._computeOrientationMaxIndex=function(){var e=this._stack.dimensionsIJK;switch(this._orientationMaxIndex=0,this._orientation){case 0:this._orientationMaxIndex=e.z-1;break;case 1:this._orientationMaxIndex=e.x-1;break;case 2:this._orientationMaxIndex=e.y-1;}},i.prototype._isIndexOutOfBounds=function(){this._computeOrientationMaxIndex(),this._index>=this._orientationMaxIndex||0>this._index?this._outOfBounds=!0:this._outOfBounds=!1},i.prototype._prepareStack=function(){this._stack.prepared||this._stack.prepare(),this._stack.packed||this._stack.pack()},i.prototype._prepareBBox=function(){var t=Object(r.b)(e);this._bBox=new t(this._stack),this.add(this._bBox)},i.prototype._prepareBorder=function(){var t=Object(n.b)(e);this._border=new t(this._slice),this.add(this._border)},i.prototype._prepareSlice=function(){var t=this._stack.halfDimensionsIJK;this._index=this._prepareSliceIndex(t);var i=this._prepareSlicePosition(t,this._index),n=this._prepareDirection(this._orientation),r=Object(o.b)(e);this._slice=new r(this._stack,this._index,i,n),this.add(this._slice)},i.prototype._prepareSliceIndex=function(e){var t=0;switch(this._orientation){case 0:t=_Mathfloor(e.z);break;case 1:t=_Mathfloor(e.x);break;case 2:t=_Mathfloor(e.y);}return t},i.prototype._prepareSlicePosition=function(t,i){var n=new e.Vector3(0,0,0);switch(this._orientation){case 0:n=new e.Vector3(_Mathfloor(t.x),_Mathfloor(t.y),i);break;case 1:n=new e.Vector3(i,_Mathfloor(t.y),_Mathfloor(t.z));break;case 2:n=new e.Vector3(_Mathfloor(t.x),i,_Mathfloor(t.z));}return n},i.prototype._prepareDirection=function(t){var i=new e.Vector3(0,0,1);switch(t){case 0:i=new e.Vector3(0,0,1);break;case 1:i=new e.Vector3(1,0,0);break;case 2:i=new e.Vector3(0,1,0);}return i},i.prototype.dispose=function(){this.remove(this._slice),this._slice.dispose(),this._slice=null,this._bBox.dispose(),this._bBox=null,this._border.dispose(),this._border=null},a(i,[{key:"stack",get:function get(){return this._stack},set:function set(e){this._stack=e}},{key:"bbox",get:function get(){return this._bBox}},{key:"slice",get:function get(){return this._slice}},{key:"border",get:function get(){return this._border}},{key:"index",get:function get(){return this._index},set:function set(e){this._index=e,this._slice.index=e;var t=this._stack.halfDimensionsIJK;this._slice.planePosition=this._prepareSlicePosition(t,this._index),this._border.helpersSlice=this._slice,this._isIndexOutOfBounds()}},{key:"orientation",set:function set(e){this._orientation=e,this._computeOrientationMaxIndex(),this._computeOrientationSpacing(),this._slice.spacing=_Mathabs(this._orientationSpacing),this._slice.thickness=this._slice.spacing,this._slice.planeDirection=this._prepareDirection(this._orientation),this._border.helpersSlice=this._slice},get:function get(){return this._orientation}},{key:"outOfBounds",set:function set(e){this._outOfBounds=e},get:function get(){return this._outOfBounds}},{key:"orientationMaxIndex",set:function set(e){this._orientationMaxIndex=e},get:function get(){return this._orientationMaxIndex}},{key:"orientationSpacing",set:function set(e){this._orientationSpacing=e},get:function get(){return this._orientationSpacing}},{key:"canvasWidth",set:function set(e){this._canvasWidth=e,this._slice.canvasWidth=this._canvasWidth},get:function get(){return this._canvasWidth}},{key:"canvasHeight",set:function set(e){this._canvasHeight=e,this._slice.canvasHeight=this._canvasHeight},get:function get(){return this._canvasHeight}},{key:"borderColor",set:function set(e){this._borderColor=e,this._border.color=e,this._slice.borderColor=this._borderColor},get:function get(){return this._borderColor}}]),i}(e.Object3D)};t.a=s()},function(e,t,i){"use strict";i.d(t,"b",function(){return l});var n=i(23),r=i(34),o=i(33),a=i(45),s=function(){function e(e,t){for(var i=0,n;i<t.length;i++){n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=function l(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:window.THREE;return void 0===e||void 0===e.Object3D?null:function(t){function i(e){!function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,i);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=babelHelpers.typeof(t)&&"function"!=typeof t?e:t}(this,t.call(this));return a._stack=e,a._textures=[],a._shadersFragment=o.a,a._shadersVertex=r.a,a._uniforms=n.a.uniforms(),a._material=null,a._geometry=null,a._mesh=null,a._algorithm=0,a._alphaCorrection=.5,a._interpolation=1,a._shading=1,a._shininess=10,a._steps=256,a._offset=0,a._windowCenter=0,a._windowWidth=1,a._create(),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+babelHelpers.typeof(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,t),i.prototype._create=function(){this._prepareStack(),this._prepareTexture(),this._prepareMaterial(),this._prepareGeometry(),this._mesh=new e.Mesh(this._geometry,this._material),this.add(this._mesh)},i.prototype._prepareStack=function(){this._stack.prepared||this._stack.prepare(),this._stack.packed||this._stack.pack(),this._offset=_Mathmin(0,this._stack._minMax[0]),this._windowCenter=this._stack.windowCenter,this._windowWidth=.8*this._stack.windowWidth},i.prototype._prepareMaterial=function(){this._uniforms=n.a.uniforms(),this._uniforms.uWorldBBox.value=this._stack.worldBoundingBox(),this._uniforms.uTextureSize.value=this._stack.textureSize,this._uniforms.uTextureContainer.value=this._textures,8<this._stack.textureUnits&&(this._uniforms.uTextureContainer.length=14),this._uniforms.uWorldToData.value=this._stack.lps2IJK,this._uniforms.uNumberOfChannels.value=this._stack.numberOfChannels,this._uniforms.uPixelType.value=this._stack.pixelType,this._uniforms.uBitsAllocated.value=this._stack.bitsAllocated,this._uniforms.uPackedPerPixel.value=this._stack.packedPerPixel,this._uniforms.uWindowCenterWidth.value=[this._windowCenter-this._offset,this._windowWidth],this._uniforms.uRescaleSlopeIntercept.value=[this._stack.rescaleSlope,this._stack.rescaleIntercept],this._uniforms.uDataDimensions.value=[this._stack.dimensionsIJK.x,this._stack.dimensionsIJK.y,this._stack.dimensionsIJK.z],this._uniforms.uAlphaCorrection.value=this._alphaCorrection,this._uniforms.uInterpolation.value=this._interpolation,this._uniforms.uShading.value=this._shading,this._uniforms.uShininess.value=this._shininess,this._uniforms.uSteps.value=this._steps,this._uniforms.uAlgorithm.value=this._algorithm,this._createMaterial({side:e.BackSide,transparent:!0})},i.prototype._prepareGeometry=function(){var t=this._stack.worldBoundingBox(),i=this._stack.worldCenter();this._geometry=new e.BoxGeometry(t[1]-t[0],t[3]-t[2],t[5]-t[4]),this._geometry.applyMatrix(new e.Matrix4().makeTranslation(i.x,i.y,i.z))},i.prototype.dispose=function(){for(var e=0;e<this._textures.length;e++){this._textures[e].dispose(),this._textures[e]=null}this._textures=null,this._shadersFragment=null,this._shadersVertex=null,this._uniforms.uTextureContainer=null,this._uniforms.uTextureLUT=null,this._uniforms=null,this.remove(this._mesh),this._mesh.geometry.dispose(),this._mesh.geometry=null,this._mesh.material.dispose(),this._mesh.material=null,this._mesh=null,this._geometry.dispose(),this._geometry=null,this._material.vertexShader=null,this._material.fragmentShader=null,this._material.uniforms=null,this._material.dispose(),this._material=null,this._stack=null},s(i,[{key:"uniforms",get:function get(){return this._uniforms},set:function set(e){this._uniforms=e}},{key:"mesh",set:function set(e){this._mesh=e},get:function get(){return this._mesh}},{key:"stack",get:function get(){return this._stack},set:function set(e){this._stack=e}},{key:"windowCenter",get:function get(){return this._windowCenter},set:function set(e){this._windowCenter=e,this._uniforms.uWindowCenterWidth.value[0]=this._windowCenter-this._offset}},{key:"windowWidth",get:function get(){return this._windowWidth},set:function set(e){this._windowWidth=_Mathmax(1,e),this._uniforms.uWindowCenterWidth.value[1]=this._windowWidth}},{key:"steps",get:function get(){return this._steps},set:function set(e){this._steps=e,this._uniforms.uSteps.value=this._steps}},{key:"alphaCorrection",get:function get(){return this._alphaCorrection},set:function set(e){this._alphaCorrection=e,this._uniforms.uAlphaCorrection.value=this._alphaCorrection}},{key:"interpolation",get:function get(){return this._interpolation},set:function set(e){this._interpolation=e,this._uniforms.uInterpolation.value=this._interpolation,this._updateMaterial()}},{key:"shading",get:function get(){return this._shading},set:function set(e){this._shading=e,this._uniforms.uShading.value=this._shading}},{key:"shininess",get:function get(){return this._shininess},set:function set(e){this._shininess=e,this._uniforms.uShininess.value=this._shininess}},{key:"algorithm",get:function get(){return this._algorithm},set:function set(e){this._algorithm=e,this._uniforms.uAlgorithm.value=this._algorithm}}]),i}(Object(a.a)(e))};t.a=l()},function(e,t,i){"use strict";var n={};(0,i(10).assign)(n,i(122),i(125),i(86)),e.exports=n},function(e,t,i){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(e,t,i){"use strict";e.exports=function(e){return"string"==typeof e}},function(e,t,i){"use strict";var n=i(135);e.exports=function(e){return n(e)&&0<=e}},function(e,t,i){"use strict";var n=i(58),r=i(59),o=9007199254740991;e.exports=function(e,t){var i,a;if(!n(e))throw new TypeError("invalid input argument. First argument must be a string. Value: `"+e+"`.");if(!r(t))throw new TypeError("invalid input argument. Second argument must be a nonnegative integer. Value: `"+t+"`.");if(0===e.length||0===t)return"";if(e.length*t>o)throw new RangeError("invalid input argument. Output string length exceeds maximum allowed string length.");for(i="",a=t;1==(1&a)&&(i+=e),0!=(a>>>=1);){e+=e}return i}},function(e,t,i){"use strict";var n=n||{};n.Utils=n.Utils||{},n.Utils.crcTable=null,n.Utils.GUNZIP_MAGIC_COOKIE1=31,n.Utils.GUNZIP_MAGIC_COOKIE2=139,n.Utils.getStringAt=function(e,t,i){var n,r,o="";for(n=t;n<i;n+=1){0!==(r=e.getUint8(n))&&(o+=_StringfromCharCode(r))}return o},n.Utils.getByteAt=function(e,t){return e.getInt8(t)},n.Utils.getShortAt=function(e,t,i){return e.getInt16(t,i)},n.Utils.getIntAt=function(e,t,i){return e.getInt32(t,i)},n.Utils.getFloatAt=function(e,t,i){return e.getFloat32(t,i)},n.Utils.getDoubleAt=function(e,t,i){return e.getFloat64(t,i)},n.Utils.getLongAt=function(e,t,i){var r,o=[],a=0;for(r=0;8>r;r+=1){o[r]=n.Utils.getByteAt(e,t+r,i)}for(r=o.length-1;0<=r;r--){a=256*a+o[r]}return a},n.Utils.toArrayBuffer=function(e){var t,i,n;for(t=new ArrayBuffer(e.length),i=new Uint8Array(t),n=0;n<e.length;n+=1){i[n]=e[n]}return t},n.Utils.isString=function(e){return"string"==typeof e||babelHelpers.instanceof(e,String)},n.Utils.formatNumber=function(e,t){var i=0;return i=n.Utils.isString(e)?+e:e,i=t?i.toPrecision(5):i.toPrecision(7),parseFloat(i)},n.Utils.makeCRCTable=function(){for(var e,t=[],i=0;256>i;i++){e=i;for(var n=0;8>n;n++){e=1&e?3988292384^e>>>1:e>>>1}t[i]=e}return t},n.Utils.crc32=function(e){for(var t=n.Utils.crcTable||(n.Utils.crcTable=n.Utils.makeCRCTable()),i=-1,r=0;r<e.byteLength;r++){i=i>>>8^t[255&(i^e.getUint8(r))]}return(-1^i)>>>0},"undefined"!==typeof e&&e.exports&&(e.exports=n.Utils)},function(e,t){var i,n,r=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(i===setTimeout)return setTimeout(e,0);if((i===o||!i)&&setTimeout)return i=setTimeout,setTimeout(e,0);try{return i(e,0)}catch(t){try{return i.call(null,e,0)}catch(t){return i.call(this,e,0)}}}!function(){try{i="function"==typeof setTimeout?setTimeout:o}catch(e){i=o}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(e){n=a}}();var l,c=[],h=!1,u=-1;function f(){h&&l&&(h=!1,l.length?c=l.concat(c):u=-1,c.length&&d())}function d(){if(!h){var e=s(f);h=!0;for(var t=c.length;t;){for(l=c,c=[];++u<t;){l&&l[u].run()}u=-1,t=c.length}l=null,h=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function _(){}r.nextTick=function(e){var t=Array(arguments.length-1);if(1<arguments.length)for(var i=1;i<arguments.length;i++){t[i-1]=arguments[i]}c.push(new p(e,t)),1!==c.length||h||s(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=_,r.addListener=_,r.once=_,r.off=_,r.removeListener=_,r.removeAllListeners=_,r.emit=_,r.prependListener=_,r.prependOnceListener=_,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(e,t){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(e){"object"==("undefined"===typeof window?"undefined":babelHelpers.typeof(window))&&(i=window)}e.exports=i},function(e,t,i){"use strict";i.d(t,"b",function(){return a});var n=i(3),r=i(2),o=function(){function e(e,t){for(var i=0,n;i<t.length;i++){n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function a(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:window.THREE;return void 0===e||void 0===e.Object3D?null:function(t){function i(n,o){var a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};!function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,i);var s=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=babelHelpers.typeof(t)&&"function"!=typeof t?e:t}(this,t.call(this,n,o,a));s._widgetType="Angle",s._opangle=null,s._moving=!1,s._domHovered=!1,s._defaultAngle=!0,s._material=null,s._geometry=null,s._mesh=null,s._line=null,s._line2=null,s._label=null,s._handles=[];for(var l=void 0,c=Object(r.b)(e),h=0;3>h;h++){l=new c(n,o,a),s.add(l),s._handles.push(l)}return s._handles[1].active=!0,s._handles[1].tracking=!0,s._handles[2].active=!0,s._handles[2].tracking=!0,s._moveHandle=new c(n,o,a),s.add(s._moveHandle),s._handles.push(s._moveHandle),s._moveHandle.hide(),s.create(),s.onMove=s.onMove.bind(s),s.onHover=s.onHover.bind(s),s.addEventListeners(),s}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+babelHelpers.typeof(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,t),i.prototype.addEventListeners=function(){this._container.addEventListener("wheel",this.onMove),this._line.addEventListener("mouseenter",this.onHover),this._line.addEventListener("mouseleave",this.onHover),this._line2.addEventListener("mouseenter",this.onHover),this._line2.addEventListener("mouseleave",this.onHover),this._label.addEventListener("mouseenter",this.onHover),this._label.addEventListener("mouseleave",this.onHover)},i.prototype.removeEventListeners=function(){this._container.removeEventListener("wheel",this.onMove),this._line.removeEventListener("mouseenter",this.onHover),this._line.removeEventListener("mouseleave",this.onHover),this._line2.removeEventListener("mouseenter",this.onHover),this._line2.removeEventListener("mouseleave",this.onHover),this._label.removeEventListener("mouseenter",this.onHover),this._label.removeEventListener("mouseleave",this.onHover)},i.prototype.onHover=function(e){e&&this.hoverDom(e),this.hoverMesh(),this._hovered=this._handles[0].hovered||this._handles[1].hovered||this._handles[2].hovered||this._domHovered,this._container.style.cursor=this._hovered?"pointer":"default"},i.prototype.hoverMesh=function(){},i.prototype.hoverDom=function(e){this._domHovered="mouseenter"===e.type},i.prototype.onStart=function(e){this._moveHandle.onMove(e,!0),this._handles[0].onStart(e),this._handles[1].onStart(e),this._handles[2].onStart(e),this._active=this._handles[0].active||this._handles[1].active||this._handles[2].active||this._domHovered,!this._domHovered||this._handles[1].tracking||this._handles[2].tracking||(this._moving=!0,this._controls.enabled=!1),this.update()},i.prototype.onMove=function(e){var t=this;if(this._active){var i=this._moveHandle.worldPosition.clone();this._dragged=!0,this._moveHandle.onMove(e,!0),this._moving&&this._handles.slice(0,-1).forEach(function(e){e.worldPosition.add(t._moveHandle.worldPosition.clone().sub(i))})}else this.onHover(null);this._handles[0].onMove(e),this._handles[1].onMove(e),this._handles[2].onMove(e),this.update()},i.prototype.onEnd=function(){this._handles[0].onEnd(),this._handles[1].tracking&&10>this._handles[0].screenPosition.distanceTo(this._handles[1].screenPosition)||!this._handles[1].tracking&&this._handles[2].tracking&&10>this._handles[1].screenPosition.distanceTo(this._handles[2].screenPosition)||(this._dragged||!this._active||this._handles[2].tracking||(this._selected=!this._selected,this._handles[0].selected=this._selected),this._handles[1].active?this._handles[2].onEnd():this._dragged||!this._handles[2].tracking?(this._handles[2].tracking=!1,this._handles[2].onEnd()):this._handles[2].tracking=!1,this._handles[2].selected=this._selected,this._dragged||!this._handles[1].tracking?(this._handles[1].tracking=!1,this._handles[1].onEnd()):this._handles[1].tracking=!1,this._handles[1].selected=this._selected,this._active=this._handles[0].active||this._handles[1].active||this._handles[2].active,this._dragged=this._handles[2].tracking,this._moving=!1,this.update())},i.prototype.create=function(){this.createMesh(),this.createDOM()},i.prototype.createMesh=function(){this._geometry=new e.Geometry,this._geometry.vertices=[this._handles[0].worldPosition,this._handles[1].worldPosition,this._handles[1].worldPosition,this._handles[2].worldPosition],this._material=new e.LineBasicMaterial,this.updateMeshColor(),this._mesh=new e.LineSegments(this._geometry,this._material),this._mesh.visible=!0,this.add(this._mesh)},i.prototype.createDOM=function(){this._line=document.createElement("div"),this._line.className="widgets-line",this._container.appendChild(this._line),this._line2=document.createElement("div"),this._line2.className="widgets-line",this._container.appendChild(this._line2),this._label=document.createElement("div"),this._label.className="widgets-label",this._container.appendChild(this._label),this.updateDOMColor()},i.prototype.hideDOM=function(){this._line.style.display="none",this._line2.style.display="none",this._label.style.display="none",this._handles.forEach(function(e){return e.hideDOM()})},i.prototype.showDOM=function(){this._line.style.display="",this._line2.style.display="",this._label.style.display="",this._handles[0].showDOM(),this._handles[1].showDOM(),this._handles[2].showDOM()},i.prototype.update=function(){this.updateColor(),this._handles[0].update(),this._handles[1].update(),this._handles[2].update(),this._opangle=180*this._handles[1].worldPosition.clone().sub(this._handles[0].worldPosition).angleTo(this._handles[1].worldPosition.clone().sub(this._handles[2].worldPosition))/_MathPI||0,this._opangle=this._defaultAngle?this._opangle:360-this._opangle,this.updateMeshColor(),this.updateMeshPosition(),this.updateDOM()},i.prototype.updateMeshColor=function(){this._material&&this._material.color.set(this._color)},i.prototype.updateMeshPosition=function(){this._geometry&&(this._geometry.verticesNeedUpdate=!0)},i.prototype.updateDOM=function(){this.updateDOMColor();var t=this.getLineData(this._handles[1].screenPosition,this._handles[0].screenPosition);this._line.style.transform="translate3D("+t.transformX+"px, "+t.transformY+"px, 0)\n            rotate("+t.transformAngle+"rad)",this._line.style.width=t.length+"px";var i=this.getLineData(this._handles[1].screenPosition,this._handles[2].screenPosition);this._line2.style.transform="translate3D("+i.transformX+"px, "+i.transformY+"px, 0)\n            rotate("+i.transformAngle+"rad)",this._line2.style.width=i.length+"px",this._label.innerHTML=this._opangle.toFixed(2)+"&deg;";var n=t.line.clone().add(i.line).normalize().negate(),r=n.angleTo(new e.Vector3(1,0,0));r>_MathPI/2&&(r=_MathPI-r);var o=_Mathtan(r)<this._label.offsetHeight/this._label.offsetWidth?this._label.offsetWidth/2/_Mathcos(r)+15:this._label.offsetHeight/2/_Mathcos(_MathPI/2-r)+15,a=this._handles[1].screenPosition.clone().add(n.multiplyScalar(o)),s=this.adjustLabelTransform(this._label,a);this._label.style.transform="translate3D("+s.x+"px, "+s.y+"px, 0)"},i.prototype.updateDOMColor=function(){this._line.style.backgroundColor=this._color,this._line2.style.backgroundColor=this._color,this._label.style.borderColor=this._color},i.prototype.free=function(){var e=this;this.removeEventListeners(),this._handles.forEach(function(t){e.remove(t),t.free()}),this._handles=[],this._container.removeChild(this._line),this._container.removeChild(this._line2),this._container.removeChild(this._label),this.remove(this._mesh),this._mesh.geometry.dispose(),this._mesh.geometry=null,this._mesh.material.dispose(),this._mesh.material=null,this._mesh=null,this._geometry.dispose(),this._geometry=null,this._material.vertexShader=null,this._material.fragmentShader=null,this._material.uniforms=null,this._material.dispose(),this._material=null,t.prototype.free.call(this)},i.prototype.toggleDefaultAngle=function(){this._defaultAngle=!this._defaultAngle},o(i,[{key:"targetMesh",get:function get(){return this._targetMesh},set:function set(e){this._targetMesh=e,this._handles.forEach(function(t){return t.targetMesh=e}),this.update()}},{key:"worldPosition",get:function get(){return this._worldPosition},set:function set(e){this._handles[0].worldPosition.copy(e),this._handles[1].worldPosition.copy(e),this._handles[2].worldPosition.copy(e),this._worldPosition.copy(e),this.update()}},{key:"angle",get:function get(){return this._opangle}}]),i}(Object(n.a)(e))};t.a=a()},function(e,t,i){"use strict";i.d(t,"b",function(){return a});var n=i(3),r=i(2),o=function(){function e(e,t){for(var i=0,n;i<t.length;i++){n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function a(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:window.THREE;return void 0===e||void 0===e.Object3D?null:function(t){function i(n,o){var a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};!function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,i);var s=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=babelHelpers.typeof(t)&&"function"!=typeof t?e:t}(this,t.call(this,n,o,a));s._widgetType="Annotation",s._initialized=!1,s._movinglabel=null,s._labelmoved=!1,s._labelhovered=!1,s._manuallabeldisplay=!1,s._material=null,s._geometry=null,s._meshline=null,s._cone=null,s._line=null,s._dashline=null,s._label=null,s._labeltext=null,s._labelOffset=new e.Vector3,s._mouseLabelOffset=new e.Vector3,s._handles=[];for(var l=void 0,c=Object(r.b)(e),h=0;2>h;h++){l=new c(n,o,a),s.add(l),s._handles.push(l)}return s._handles[1].active=!0,s.create(),s.initOffsets(),s.onResize=s.onResize.bind(s),s.onMove=s.onMove.bind(s),s.onHoverlabel=s.onHoverlabel.bind(s),s.notonHoverlabel=s.notonHoverlabel.bind(s),s.changelabeltext=s.changelabeltext.bind(s),s.addEventListeners(),s}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+babelHelpers.typeof(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,t),i.prototype.addEventListeners=function(){window.addEventListener("resize",this.onResize),this._label.addEventListener("mouseenter",this.onHoverlabel),this._label.addEventListener("mouseleave",this.notonHoverlabel),this._label.addEventListener("dblclick",this.changelabeltext),this._container.addEventListener("wheel",this.onMove)},i.prototype.removeEventListeners=function(){window.removeEventListener("resize",this.onResize),this._label.removeEventListener("mouseenter",this.onHoverlabel),this._label.removeEventListener("mouseleave",this.notonHoverlabel),this._label.removeEventListener("dblclick",this.changelabeltext),this._container.removeEventListener("wheel",this.onMove)},i.prototype.onResize=function(){this.initOffsets()},i.prototype.onHoverlabel=function(){this._labelhovered=!0,this._container.style.cursor="pointer"},i.prototype.notonHoverlabel=function(){this._labelhovered=!1,this._container.style.cursor="default"},i.prototype.onStart=function(t){if(this._labelhovered){var i=this.getMouseOffsets(t,this._container),n=this._handles[1].screenPosition.clone().sub(this._labelOffset);this._mouseLabelOffset=new e.Vector3(i.screenX-n.x,i.screenY-n.y,0),this._movinglabel=!0,this._labelmoved=!0}this._handles[0].onStart(t),this._handles[1].onStart(t),this._active=this._handles[0].active||this._handles[1].active||this._labelhovered,this.update()},i.prototype.onMove=function(t){if(this._movinglabel){var i=this.getMouseOffsets(t,this._container);this._labelOffset=new e.Vector3(this._handles[1].screenPosition.x-i.screenX+this._mouseLabelOffset.x,this._handles[1].screenPosition.y-i.screenY+this._mouseLabelOffset.y,0),this._controls.enabled=!1}this._active&&(this._dragged=!0),this._handles[0].onMove(t),this._handles[1].onMove(t),this._hovered=this._handles[0].hovered||this._handles[1].hovered||this._labelhovered,this.update()},i.prototype.onEnd=function(){this._handles[0].onEnd(),this._dragged||!this._handles[1].tracking?(this._handles[1].tracking=!1,this._handles[1].onEnd()):this._handles[1].tracking=!1,!this._dragged&&this._active&&this._initialized&&(this._selected=!this._selected,this._handles[0].selected=this._selected,this._handles[1].selected=this._selected),this._initialized||(this._labelOffset=this._handles[1].screenPosition.clone().sub(this._handles[0].screenPosition).multiplyScalar(.5),this.setlabeltext(),this._initialized=!0),this._active=this._handles[0].active||this._handles[1].active,this._dragged=!1,this._movinglabel=!1,this.update()},i.prototype.setlabeltext=function(){for(;!this._labeltext;){this._labeltext=prompt("Please enter the annotation text","")}this.displaylabel()},i.prototype.changelabeltext=function(){this._labeltext=prompt("Please enter a new annotation text",this._label.innerHTML),this.displaylabel()},i.prototype.displaylabel=function(){this._label.innerHTML="string"==typeof this._labeltext&&0<this._labeltext.length?this._labeltext:"",this._label.style.display="",this._dashline.style.display="",this._label.style.transform="translate3D(\n        "+(this._handles[1].screenPosition.x-this._labelOffset.x-this._label.offsetWidth/2)+"px,\n        "+(this._handles[1].screenPosition.y-this._labelOffset.y-this._label.offsetHeight/2-this._container.offsetHeight)+"px, 0)"},i.prototype.create=function(){this.createMesh(),this.createDOM()},i.prototype.createMesh=function(){this._material=new e.LineBasicMaterial,this.updateMeshColor(),this._geometry=new e.Geometry,this._geometry.vertices.push(this._handles[0].worldPosition),this._geometry.vertices.push(this._handles[1].worldPosition),this._meshline=new e.Line(this._geometry,this._material),this._meshline.visible=!0,this.add(this._meshline),this._conegeometry=new e.CylinderGeometry(0,2,10),this._conegeometry.translate(0,-5,0),this._conegeometry.rotateX(-_MathPI/2),this._cone=new e.Mesh(this._conegeometry,this._material),this._cone.visible=!0,this.add(this._cone)},i.prototype.createDOM=function(){this._line=document.createElement("div"),this._line.className="widgets-line",this._container.appendChild(this._line),this._dashline=document.createElement("div"),this._dashline.className="widgets-dashline",this._dashline.style.display="none",this._container.appendChild(this._dashline),this._label=document.createElement("div"),this._label.className="widgets-label",this._label.style.display="none",this._container.appendChild(this._label),this.updateDOMColor()},i.prototype.update=function(){this.updateColor(),this._handles[0].update(),this._handles[1].update(),this.updateMeshColor(),this.updateMeshPosition(),this.updateDOM()},i.prototype.updateMeshColor=function(){this._material&&this._material.color.set(this._color)},i.prototype.updateMeshPosition=function(){this._geometry&&(this._geometry.verticesNeedUpdate=!0),this._cone&&(this._cone.position.copy(this._handles[1].worldPosition),this._cone.lookAt(this._handles[0].worldPosition))},i.prototype.updateDOM=function(){this.updateDOMColor();var e=this.getLineData(this._handles[0].screenPosition,this._handles[1].screenPosition);this._line.style.transform="translate3D("+e.transformX+"px, "+e.transformY+"px, 0)\n        rotate("+e.transformAngle+"rad)",this._line.style.width=e.length+"px";var t=e.line.multiplyScalar(.5),i=this._handles[1].screenPosition.clone().sub(this._labelmoved?this._labelOffset:t),n=this.adjustLabelTransform(this._label,i);this._label.style.transform="translate3D("+n.x+"px, "+n.y+"px, 0)",this._manuallabeldisplay&&this.displaylabel();var r=this.getLineData(this._handles[0].screenPosition,i),o=this.getLineData(e.center,i),a=this.getLineData(this._handles[1].screenPosition,i);r.length>o.length&&(r=o),r.length>a.length&&(r=a),this._dashline.style.transform="translate3D("+r.transformX+"px, "+r.transformY+"px, 0)\n        rotate("+r.transformAngle+"rad)",this._dashline.style.width=r.length+"px"},i.prototype.updateDOMColor=function(){this._line.style.backgroundColor=this._color,this._dashline.style.borderTop="1.5px dashed "+this._color,this._label.style.borderColor=this._color},i.prototype.hideDOM=function(){this._line.style.display="none",this._dashline.style.display="none",this._label.style.display="none",this._handles.forEach(function(e){return e.hideDOM()})},i.prototype.showDOM=function(){this._line.style.display="",this._dashline.style.display="",this._label.style.display="",this._handles.forEach(function(e){return e.showDOM()})},i.prototype.free=function(){var e=this;this.removeEventListeners(),this._handles.forEach(function(t){e.remove(t),t.free()}),this._handles=[],this._container.removeChild(this._line),this._container.removeChild(this._dashline),this._container.removeChild(this._label),this.remove(this._meshline),this._meshline.geometry.dispose(),this._meshline.geometry=null,this._meshline.material.dispose(),this._meshline.material=null,this._meshline=null,this._geometry.dispose(),this._geometry=null,this._material.vertexShader=null,this._material.fragmentShader=null,this._material.uniforms=null,this._material.dispose(),this._material=null,this.remove(this._cone),this._cone.geometry.dispose(),this._cone.geometry=null,this._cone.material.dispose(),this._cone.material=null,this._cone=null,this._conegeometry.dispose(),this._conegeometry=null,t.prototype.free.call(this)},o(i,[{key:"targetMesh",get:function get(){return this._targetMesh},set:function set(e){this._targetMesh=e,this._handles.forEach(function(t){return t.targetMesh=e}),this.update()}},{key:"worldPosition",get:function get(){return this._worldPosition},set:function set(e){this._handles[0].worldPosition.copy(e),this._handles[1].worldPosition.copy(e),this._worldPosition.copy(e),this.update()}}]),i}(Object(n.a)(e))};t.a=a()},function(e,t,i){"use strict";i.d(t,"b",function(){return a});var n=i(3),r=i(2),o=function(){function e(e,t){for(var i=0,n;i<t.length;i++){n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function a(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:window.THREE;return void 0===e||void 0===e.Object3D?null:function(t){function i(n,o){var a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};!function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,i);var s=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=babelHelpers.typeof(t)&&"function"!=typeof t?e:t}(this,t.call(this,n,o,a));s._widgetType="BiRuler",s._calibrationFactor=a.calibrationFactor||null,s._distance=null,s._distance2=null,s._units=s._calibrationFactor||a.pixelSpacing?"mm":"units",s._material=null,s._geometry=null,s._mesh=null,s._line=null,s._label=null,s._line2=null,s._label2=null,s._dashline=null,s._handles=[];for(var l=void 0,c=Object(r.b)(e),h=0;4>h;h++){l=new c(n,o,a),s.add(l),s._handles.push(l)}return s._handles[1].active=!0,s._handles[1].tracking=!0,s._handles[3].active=!0,s._handles[3].tracking=!0,s.create(),s.onMove=s.onMove.bind(s),s.addEventListeners(),s}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+babelHelpers.typeof(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,t),i.prototype.addEventListeners=function(){this._container.addEventListener("wheel",this.onMove)},i.prototype.removeEventListeners=function(){this._container.removeEventListener("wheel",this.onMove)},i.prototype.onStart=function(e){this._handles.forEach(function(t){return t.onStart(e)}),this._active=this._handles[0].active||this._handles[1].active||this._handles[2].active||this._handles[3].active,this.update()},i.prototype.onMove=function(e){this._active?this._dragged=!0:(this._hovered=this._handles[0].hovered||this._handles[1].hovered||this._handles[2].hovered||this._handles[3].hovered,this._container.style.cursor=this._hovered?"pointer":"default"),this._handles.forEach(function(t){return t.onMove(e)}),this.update()},i.prototype.onEnd=function(){this._handles[0].onEnd(),this._handles[2].onEnd(),this._handles[1].tracking&&10>this._handles[0].screenPosition.distanceTo(this._handles[1].screenPosition)||(this._dragged||!this._active||this._handles[3].tracking||(this._selected=!this._selected,this._handles[0].selected=this._selected,this._handles[2].selected=this._selected),this._handles[1].active?this._handles[3].onEnd():this._dragged||!this._handles[3].tracking?(this._handles[3].tracking=!1,this._handles[3].onEnd()):this._handles[3].tracking=!1,this._handles[3].selected=this._selected,this._dragged||!this._handles[1].tracking?(this._handles[1].tracking=!1,this._handles[1].onEnd()):this._handles[1].tracking=!1,this._handles[1].selected=this._selected,this._active=this._handles[0].active||this._handles[1].active||this._handles[2].active||this._handles[3].active,this._dragged=!1,this.update())},i.prototype.create=function(){this.createMesh(),this.createDOM()},i.prototype.createMesh=function(){this._geometry=new e.Geometry,this._geometry.vertices=[this._handles[0].worldPosition,this._handles[1].worldPosition,this._handles[2].worldPosition,this._handles[3].worldPosition],this._material=new e.LineBasicMaterial,this.updateMeshColor(),this._mesh=new e.LineSegments(this._geometry,this._material),this._mesh.visible=!0,this.add(this._mesh)},i.prototype.createDOM=function(){this._line=document.createElement("div"),this._line.className="widgets-line",this._container.appendChild(this._line),this._label=document.createElement("div"),this._label.className="widgets-label",this._container.appendChild(this._label),this._line2=document.createElement("div"),this._line2.className="widgets-line",this._container.appendChild(this._line2),this._label2=document.createElement("div"),this._label2.className="widgets-label",this._container.appendChild(this._label2),this._dashline=document.createElement("div"),this._dashline.className="widgets-dashline",this._container.appendChild(this._dashline),this.updateDOMColor()},i.prototype.hideDOM=function(){this._line.style.display="none",this._label.style.display="none",this._line2.style.display="none",this._label2.style.display="none",this._dashline.style.display="none",this._handles.forEach(function(e){return e.hideDOM()})},i.prototype.showDOM=function(){this._line.style.display="",this._label.style.display="",this._line2.style.display="",this._label2.style.display="",this._dashline.style.display="",this._handles.forEach(function(e){return e.showDOM()})},i.prototype.update=function(){this.updateColor(),this._handles.forEach(function(e){return e.update()}),this.updateMeshColor(),this.updateMeshPosition(),this.updateDOM()},i.prototype.updateMeshColor=function(){this._material&&this._material.color.set(this._color)},i.prototype.updateMeshPosition=function(){this._geometry&&(this._geometry.verticesNeedUpdate=!0)},i.prototype.updateDOM=function(){this.updateDOMColor();var e=this.getLineData(this._handles[0].screenPosition,this._handles[1].screenPosition);this._line.style.transform="translate3D("+e.transformX+"px, "+e.transformY+"px, 0)\n                rotate("+e.transformAngle+"rad)",this._line.style.width=e.length+"px";var t=this.getLineData(this._handles[2].screenPosition,this._handles[3].screenPosition);this._line2.style.transform="translate3D("+t.transformX+"px, "+t.transformY+"px, 0)\n                rotate("+t.transformAngle+"rad)",this._line2.style.width=t.length+"px";var i=this._handles[0].worldPosition.clone().add(this._handles[1].worldPosition).multiplyScalar(.5),n=this._handles[2].worldPosition.clone().add(this._handles[3].worldPosition).multiplyScalar(.5),r=this.getLineData(this.worldToScreen(i),this.worldToScreen(n));this._dashline.style.transform="translate3D("+r.transformX+"px, "+r.transformY+"px, 0)\n                rotate("+r.transformAngle+"rad)",this._dashline.style.width=r.length+"px";var o=this.getDistanceData(this._handles[0].worldPosition,this._handles[1].worldPosition,this._calibrationFactor),a=this.getDistanceData(this._handles[2].worldPosition,this._handles[3].worldPosition,this._calibrationFactor),s="Calibration is required to display the distance in mm";this._distance=o.distance,this._distance2=a.distance,o.units&&a.units&&o.units===a.units?this._units=o.units:(o.units||(o.units=this._units),a.units||(a.units=this._units)),"units"!==o.units||this._label.hasAttribute("title")?"units"!==o.units&&this._label.hasAttribute("title")&&(this._label.removeAttribute("title"),this._label.style.color=this._colors.text):(this._label.setAttribute("title",s),this._label.style.color=this._colors.error),"units"!==a.units||this._label2.hasAttribute("title")?"units"!==a.units&&this._label2.hasAttribute("title")&&(this._label2.removeAttribute("title"),this._label2.style.color=this._colors.text):(this._label2.setAttribute("title",s),this._label2.style.color=this._colors.error),this._label.innerHTML=this._distance.toFixed(2)+" "+o.units,this._label2.innerHTML=this._distance2.toFixed(2)+" "+a.units;var l=_Mathabs(e.transformAngle);l>_MathPI/2&&(l=_MathPI-l);var c=_Mathtan(l)<this._label.offsetHeight/this._label.offsetWidth?this._label.offsetWidth/2/_Mathcos(l)+15:this._label.offsetHeight/2/_Mathcos(_MathPI/2-l)+15,h=e.line.normalize().multiplyScalar(c),u=e.length>2*c?this._handles[1].screenPosition.clone().sub(h):this._handles[1].screenPosition.clone().add(h),f=this.adjustLabelTransform(this._label,u);this._label.style.transform="translate3D("+f.x+"px, "+f.y+"px, 0)";var d=_Mathabs(t.transformAngle);d>_MathPI/2&&(d=_MathPI-d);var p=_Mathtan(d)<this._label2.offsetHeight/this._label2.offsetWidth?this._label2.offsetWidth/2/_Mathcos(d)+15:this._label2.offsetHeight/2/_Mathcos(_MathPI/2-d)+15,_=t.line.normalize().multiplyScalar(p),m=t.length>2*p?this._handles[3].screenPosition.clone().sub(_):this._handles[3].screenPosition.clone().add(_),b=this.adjustLabelTransform(this._label2,m);this._label2.style.transform="translate3D("+b.x+"px, "+b.y+"px, 0)"},i.prototype.updateDOMColor=function(){this._line.style.backgroundColor=this._color,this._label.style.borderColor=this._color,this._line2.style.backgroundColor=this._color,this._label2.style.borderColor=this._color,this._dashline.style.borderTop="1.5px dashed "+this._color},i.prototype.free=function(){var e=this;this.removeEventListeners(),this._handles.forEach(function(t){e.remove(t),t.free()}),this._handles=[],this._container.removeChild(this._line),this._container.removeChild(this._label),this._container.removeChild(this._line2),this._container.removeChild(this._label2),this._container.removeChild(this._dashline),this.remove(this._mesh),this._mesh.geometry.dispose(),this._mesh.geometry=null,this._mesh.material.dispose(),this._mesh.material=null,this._mesh=null,this._geometry.dispose(),this._geometry=null,this._material.vertexShader=null,this._material.fragmentShader=null,this._material.uniforms=null,this._material.dispose(),this._material=null,t.prototype.free.call(this)},i.prototype.getDistances=function(){return[this._distance,this._distance2]},o(i,[{key:"targetMesh",get:function get(){return this._targetMesh},set:function set(e){this._targetMesh=e,this._handles.forEach(function(t){return t.targetMesh=e}),this.update()}},{key:"worldPosition",get:function get(){return this._worldPosition},set:function set(e){this._handles.forEach(function(t){return t.worldPosition.copy(e)}),this._worldPosition.copy(e),this.update()}},{key:"calibrationFactor",get:function get(){return this._calibrationFactor},set:function set(e){this._calibrationFactor=e,this._units="mm",this.update()}},{key:"shotestDistance",get:function get(){return this._distance<this._distance2?this._distance:this._distance2}},{key:"longestDistance",get:function get(){return this._distance>this._distance2?this._distance:this._distance2}}]),i}(Object(n.a)(e))};t.a=a()},function(e,t,i){"use strict";i.d(t,"b",function(){return a});var n=i(3),r=i(2),o=function(){function e(e,t){for(var i=0,n;i<t.length;i++){n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function a(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:window.THREE;return void 0===e||void 0===e.Object3D?null:function(t){function i(n,o){var a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};!function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,i);var s=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=babelHelpers.typeof(t)&&"function"!=typeof t?e:t}(this,t.call(this,n,o,a));s._widgetType="CrossRuler",s._calibrationFactor=a.calibrationFactor||null,s._distances=null,s._line01=null,s._normal=null,s._distance=null,s._distance2=null,s._units=s._calibrationFactor||a.pixelSpacing?"mm":"units",s._domHovered=!1,s._moving=!1,s._material=null,s._geometry=null,s._mesh=null,s._line=null,s._line2=null,s._label=null,s._label2=null,s._handles=[];for(var l=void 0,c=Object(r.b)(e),h=0;4>h;h++){l=new c(n,o,a),s.add(l),s._handles.push(l)}return s._handles[1].active=!0,s._handles[1].tracking=!0,s._moveHandle=new c(n,o,a),s.add(s._moveHandle),s._handles.push(s._moveHandle),s._moveHandle.hide(),s.onHover=s.onHover.bind(s),s.onMove=s.onMove.bind(s),s.create(),s.addEventListeners(),s}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+babelHelpers.typeof(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,t),i.prototype.addEventListeners=function(){this._line.addEventListener("mouseenter",this.onHover),this._line.addEventListener("mouseleave",this.onHover),this._line2.addEventListener("mouseenter",this.onHover),this._line2.addEventListener("mouseleave",this.onHover),this._container.addEventListener("wheel",this.onMove)},i.prototype.removeEventListeners=function(){this._line.removeEventListener("mouseenter",this.onHover),this._line.removeEventListener("mouseleave",this.onHover),this._line2.removeEventListener("mouseenter",this.onHover),this._line2.removeEventListener("mouseleave",this.onHover),this._container.removeEventListener("wheel",this.onMove)},i.prototype.onHover=function(e){e&&this.hoverDom(e),this.hoverMesh(),this._hovered=this._handles[0].hovered||this._handles[1].hovered||this._handles[2].hovered||this._handles[3].hovered||this._domHovered,this._container.style.cursor=this._hovered?"pointer":"default"},i.prototype.hoverMesh=function(){},i.prototype.hoverDom=function(e){this._domHovered="mouseenter"===e.type},i.prototype.onStart=function(e){this._moveHandle.onMove(e,!0),this._handles.slice(0,-1).forEach(function(t){return t.onStart(e)}),this._active=this._handles[0].active||this._handles[1].active||this._handles[2].active||this._handles[3].active||this._domHovered,this._domHovered&&this._distances&&(this._moving=!0,this._controls.enabled=!1),this.update()},i.prototype.onMove=function(e){var t=this;if(this._active){var i=this._moveHandle.worldPosition.clone();this._dragged=!0,this._moveHandle.onMove(e,!0),this._moving&&this._handles.slice(0,-1).forEach(function(e){e.worldPosition.add(t._moveHandle.worldPosition.clone().sub(i))})}else this.onHover(null);this._handles.slice(0,-1).forEach(function(t){return t.onMove(e)}),this._distances&&(this._handles[0].active||this._handles[1].active?this.repositionOrtho():(this._handles[2].active||this._handles[3].active)&&this.recalculateOrtho()),this.update()},i.prototype.onEnd=function(){this._handles[0].onEnd(),this._handles[2].onEnd(),this._handles[3].onEnd(),this._handles[1].tracking&&10>this._handles[0].screenPosition.distanceTo(this._handles[1].screenPosition)||(this._dragged||!this._active||this._handles[1].tracking||(this._selected=!this._selected,this._handles[0].selected=this._selected,this._handles[2].selected=this._selected,this._handles[3].selected=this._selected),this._dragged||!this._handles[1].tracking?(this._handles[1].tracking=!1,this._handles[1].onEnd()):this._handles[1].tracking=!1,this._handles[1].selected=this._selected,this._active=this._handles[0].active||this._handles[1].active||this._handles[2].active||this._handles[3].active,this._dragged=!1,this._moving=!1,this._distances||this.initOrtho(),this.update())},i.prototype.create=function(){this.createMesh(),this.createDOM()},i.prototype.createMesh=function(){this._geometry=new e.Geometry,this._geometry.vertices=[this._handles[0].worldPosition,this._handles[1].worldPosition,this._handles[2].worldPosition,this._handles[3].worldPosition],this._material=new e.LineBasicMaterial,this.updateMeshColor(),this._mesh=new e.LineSegments(this._geometry,this._material),this._mesh.visible=!0,this.add(this._mesh)},i.prototype.createDOM=function(){this._line=document.createElement("div"),this._line.className="widgets-line",this._container.appendChild(this._line),this._line2=document.createElement("div"),this._line2.className="widgets-line",this._container.appendChild(this._line2),this._label=document.createElement("div"),this._label.className="widgets-label",this._container.appendChild(this._label),this._label2=document.createElement("div"),this._label2.className="widgets-label",this._container.appendChild(this._label2),this.updateDOMColor()},i.prototype.hideDOM=function(){this._line.style.display="none",this._line2.style.display="none",this._label.style.display="none",this._label2.style.display="none",this._handles.slice(0,-1).forEach(function(e){return e.hideDOM()})},i.prototype.showDOM=function(){this._line.style.display="",this._line2.style.display="",this._label.style.display="",this._label2.style.display="",this._handles.slice(0,-1).forEach(function(e){return e.showDOM()})},i.prototype.update=function(){this.updateColor(),this._handles.slice(0,-1).forEach(function(e){return e.update()}),this.updateMeshColor(),this.updateMeshPosition(),this.updateDOM()},i.prototype.updateMeshColor=function(){this._material&&this._material.color.set(this._color)},i.prototype.updateMeshPosition=function(){this._geometry&&(this._geometry.verticesNeedUpdate=!0)},i.prototype.updateDOM=function(){this.updateDOMColor();var e=this.getLineData(this._handles[0].screenPosition,this._handles[1].screenPosition);this._line.style.transform="translate3D("+e.transformX+"px, "+e.transformY+"px, 0)\n            rotate("+e.transformAngle+"rad)",this._line.style.width=e.length+"px";var t=this.getLineData(this._handles[2].screenPosition,this._handles[3].screenPosition);this._line2.style.transform="translate3D("+t.transformX+"px, "+t.transformY+"px, 0)\n            rotate("+t.transformAngle+"rad)",this._line2.style.width=t.length+"px";var i=this.getDistanceData(this._handles[0].worldPosition,this._handles[1].worldPosition,this._calibrationFactor),n=this.getDistanceData(this._handles[2].worldPosition,this._handles[3].worldPosition,this._calibrationFactor),r="Calibration is required to display the distance in mm";this._distance=i.distance,this._distance2=n.distance,i.units&&n.units&&i.units===n.units?this._units=i.units:(i.units||(i.units=this._units),n.units||(n.units=this._units)),"units"!==i.units||this._label.hasAttribute("title")?"units"!==i.units&&this._label.hasAttribute("title")&&(this._label.removeAttribute("title"),this._label.style.color=this._colors.text):(this._label.setAttribute("title",r),this._label.style.color=this._colors.error),"units"!==n.units||this._label2.hasAttribute("title")?"units"!==n.units&&this._label2.hasAttribute("title")&&(this._label2.removeAttribute("title"),this._label2.style.color=this._colors.text):(this._label2.setAttribute("title",r),this._label2.style.color=this._colors.error),this._label.innerHTML=this._distance.toFixed(2)+" "+i.units,this._label2.innerHTML=this._distance2.toFixed(2)+" "+n.units;var o=_Mathabs(e.transformAngle);o>_MathPI/2&&(o=_MathPI-o);var a=_Mathtan(o)<this._label.offsetHeight/this._label.offsetWidth?this._label.offsetWidth/2/_Mathcos(o)+15:this._label.offsetHeight/2/_Mathcos(_MathPI/2-o)+15,s=e.line.normalize().multiplyScalar(a),l=e.length>4*a?this._handles[1].screenPosition.clone().sub(s):this._handles[1].screenPosition.clone().add(s),c=this.adjustLabelTransform(this._label,l);this._label.style.transform="translate3D("+c.x+"px, "+c.y+"px, 0)";var h=_Mathabs(t.transformAngle);h>_MathPI/2&&(h=_MathPI-h);var u=_Mathtan(h)<this._label2.offsetHeight/this._label2.offsetWidth?this._label2.offsetWidth/2/_Mathcos(h)+15:this._label2.offsetHeight/2/_Mathcos(_MathPI/2-h)+15,f=t.line.normalize().multiplyScalar(u),d=t.length>4*u?this._handles[3].screenPosition.clone().sub(f):this._handles[3].screenPosition.clone().add(f),p=this.adjustLabelTransform(this._label2,d);this._label2.style.transform="translate3D("+p.x+"px, "+p.y+"px, 0)"},i.prototype.updateDOMColor=function(){this._line.style.backgroundColor=this._color,this._line2.style.backgroundColor=this._color,this._label.style.borderColor=this._color,this._label2.style.borderColor=this._color},i.prototype.free=function(){var e=this;this.removeEventListeners(),this._handles.forEach(function(t){e.remove(t),t.free()}),this._handles=[],this._container.removeChild(this._line),this._container.removeChild(this._line2),this._container.removeChild(this._label),this._container.removeChild(this._label2),this.remove(this._mesh),this._mesh.geometry.dispose(),this._mesh.geometry=null,this._mesh.material.dispose(),this._mesh.material=null,this._mesh=null,this._geometry.dispose(),this._geometry=null,this._material.vertexShader=null,this._material.fragmentShader=null,this._material.uniforms=null,this._material.dispose(),this._material=null,t.prototype.free.call(this)},i.prototype.initLineAndNormal=function(){this._line01=this._handles[1].worldPosition.clone().sub(this._handles[0].worldPosition),this._normal=this._line01.clone().cross(this._camera._direction).normalize()},i.prototype.initOrtho=function(){this.initLineAndNormal();var e=this._handles[1].worldPosition.clone().add(this._handles[0].worldPosition).multiplyScalar(.5),t=this._line01.length()/2,i=this._normal.clone().multiplyScalar(.8*t),n=i.length();this._handles[2].worldPosition.copy(e.clone().add(i)),this._handles[3].worldPosition.copy(e.clone().sub(i)),this._distances=[t,t,n,n]},i.prototype.repositionOrtho=function(){this.initLineAndNormal(),this._distances[0]*=this._line01.length()/(this._distances[0]+this._distances[1]),this._distances[1]=this._line01.length()-this._distances[0];var e=this._handles[0].worldPosition.clone().add(this._line01.clone().normalize().multiplyScalar(this._distances[0]));this._handles[2].worldPosition.copy(e.clone().add(this._normal.clone().multiplyScalar(this._distances[2]))),this._handles[3].worldPosition.copy(e.clone().sub(this._normal.clone().multiplyScalar(this._distances[3])))},i.prototype.recalculateOrtho=function(){var t=this._handles[2].active?2:3,i=[],n=new e.Vector3;i[2]=this._handles[2].worldPosition.clone().sub(this._handles[0].worldPosition),i[3]=this._handles[3].worldPosition.clone().sub(this._handles[0].worldPosition),new e.Ray(this._handles[0].worldPosition,this._line01.clone().normalize()).closestPointToPoint(this._handles[t].worldPosition,n);var r=n.clone().sub(this._handles[0].worldPosition).length()>this._line01.length();(r||n.equals(this._handles[0].worldPosition))&&(r&&n.copy(this._handles[1].worldPosition),this._handles[t].worldPosition.copy(n.clone().add(i[t].clone().projectOnVector(this._normal)))),.01<i[2].cross(this._line01).angleTo(this._camera._direction)&&this._handles[2].worldPosition.copy(n),i[3].cross(this._line01).angleTo(this._camera._direction)<_MathPI-.01&&this._handles[3].worldPosition.copy(n),i[0]=this._normal.clone().multiplyScalar(this._distances[5-t]),2===t&&i[0].negate(),this._handles[5-t].worldPosition.copy(n.clone().add(i[0])),this._distances[t]=n.distanceTo(this._handles[t].worldPosition),this._distances[0]=n.distanceTo(this._handles[0].worldPosition),this._distances[1]=n.distanceTo(this._handles[1].worldPosition)},i.prototype.getDimensions=function(){return[this._distance,this._distance2]},i.prototype.getCoordinates=function(){return[this._handles[0].worldPosition,this._handles[1].worldPosition,this._handles[2].worldPosition,this._handles[3].worldPosition]},i.prototype.initCoordinates=function(t,i,n,r){var o=new e.Vector3,a=new e.Vector3,s=new e.Ray(t);s.lookAt(i),s.distanceSqToSegment(n,r,o,a),.01<o.distanceTo(a)&&o.distanceTo(t)>i.distanceTo(t)+.01?window.console.warn("Lines do not intersect"):(this.active=!1,this.hovered=!1,this.setDefaultColor("#198"),this._worldPosition.copy(t),this._handles[0].worldPosition.copy(t),this._handles[1].worldPosition.copy(i),this._handles[1].active=!1,this._handles[1].tracking=!1,this._handles[2].worldPosition.copy(n),this._handles[3].worldPosition.copy(r),this._distances=[o.distanceTo(t),o.distanceTo(i),o.distanceTo(n),o.distanceTo(r)],this.initLineAndNormal(),this.update())},o(i,[{key:"targetMesh",get:function get(){return this._targetMesh},set:function set(e){this._targetMesh=e,this._handles.forEach(function(t){return t.targetMesh=e}),this.update()}},{key:"worldPosition",get:function get(){return this._worldPosition},set:function set(e){this._handles.slice(0,-1).forEach(function(t){return t.worldPosition.copy(e)}),this._worldPosition.copy(e),this.update()}},{key:"calibrationFactor",get:function get(){return this._calibrationFactor},set:function set(e){this._calibrationFactor=e,this._units="mm",this.update()}}]),i}(Object(n.a)(e))};t.a=a()},function(e,t,i){"use strict";i.d(t,"b",function(){return s});var n=i(3),r=i(2),o=i(1),a=function(){function e(e,t){for(var i=0,n;i<t.length;i++){n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s=function s(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:window.THREE;return void 0===e||void 0===e.Object3D?null:function(t){function i(n,o){var a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};!function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,i);var s=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=babelHelpers.typeof(t)&&"function"!=typeof t?e:t}(this,t.call(this,n,o,a));s._widgetType="Ellipse",s._stack=a.stack,s._calibrationFactor=a.calibrationFactor||null,s._area=null,s._units=s._calibrationFactor||a.stack.frame[a.frameIndex].pixelSpacing?"cm\xB2":"units",s._moving=!1,s._domHovered=!1,s._material=null,s._geometry=null,s._mesh=null,s._rectangle=null,s._ellipse=null,s._label=null,s._handles=[];for(var l=void 0,c=Object(r.b)(e),h=0;2>h;h++){l=new c(n,o,a),s.add(l),s._handles.push(l)}return s._handles[1].active=!0,s._handles[1].tracking=!0,s._moveHandle=new c(n,o,a),s.add(s._moveHandle),s._handles.push(s._moveHandle),s._moveHandle.hide(),s.create(),s.onMove=s.onMove.bind(s),s.onHover=s.onHover.bind(s),s.addEventListeners(),s}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+babelHelpers.typeof(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,t),i.prototype.addEventListeners=function(){this._container.addEventListener("wheel",this.onMove),this._rectangle.addEventListener("mouseenter",this.onHover),this._rectangle.addEventListener("mouseleave",this.onHover),this._ellipse.addEventListener("mouseenter",this.onHover),this._ellipse.addEventListener("mouseleave",this.onHover),this._label.addEventListener("mouseenter",this.onHover),this._label.addEventListener("mouseleave",this.onHover)},i.prototype.removeEventListeners=function(){this._container.removeEventListener("wheel",this.onMove),this._rectangle.removeEventListener("mouseenter",this.onHover),this._rectangle.removeEventListener("mouseleave",this.onHover),this._ellipse.removeEventListener("mouseenter",this.onHover),this._ellipse.removeEventListener("mouseleave",this.onHover),this._label.removeEventListener("mouseenter",this.onHover),this._label.removeEventListener("mouseleave",this.onHover)},i.prototype.onHover=function(e){e&&this.hoverDom(e),this.hoverMesh(),this._hovered=this._handles[0].hovered||this._handles[1].hovered||this._domHovered,this._container.style.cursor=this._hovered?"pointer":"default"},i.prototype.hoverMesh=function(){},i.prototype.hoverDom=function(e){this._domHovered="mouseenter"===e.type},i.prototype.onStart=function(e){this._moveHandle.onMove(e,!0),this._handles[0].onStart(e),this._handles[1].onStart(e),this._active=this._handles[0].active||this._handles[1].active||this._domHovered,this._domHovered&&!this._handles[1].tracking&&(this._moving=!0,this._controls.enabled=!1),this.update()},i.prototype.onMove=function(e){var t=this;if(this._active){var i=this._moveHandle.worldPosition.clone();this._dragged=!0,this._moveHandle.onMove(e,!0),this._moving&&this._handles.slice(0,-1).forEach(function(e){e.worldPosition.add(t._moveHandle.worldPosition.clone().sub(i))}),this.updateRoI(!0)}else this.onHover(null);this._handles[0].onMove(e),this._handles[1].onMove(e),this.update()},i.prototype.onEnd=function(){this._handles[0].onEnd(),this._handles[1].tracking&&10>this._handles[0].screenPosition.distanceTo(this._handles[1].screenPosition)||(this._dragged||!this._active||this._handles[1].tracking||(this._selected=!this._selected,this._handles[0].selected=this._selected),this._dragged||!this._handles[1].tracking?(this._handles[1].tracking=!1,this._handles[1].onEnd()):this._handles[1].tracking=!1,this._handles[1].selected=this._selected,this._active=this._handles[0].active||this._handles[1].active,this._dragged=!1,this._moving=!1,this.updateRoI(),this.update())},i.prototype.hideDOM=function(){this._handles.forEach(function(e){return e.hideDOM()}),this._rectangle.style.display="none",this._ellipse.style.display="none",this._label.style.display="none"},i.prototype.showDOM=function(){this._handles[0].showDOM(),this._handles[1].showDOM(),this._rectangle.style.display="",this._ellipse.style.display="",this._label.style.display=""},i.prototype.create=function(){this.createMaterial(),this.createDOM()},i.prototype.createMaterial=function(){this._material=new e.MeshBasicMaterial,this._material.transparent=!0,this._material.opacity=.2},i.prototype.createDOM=function(){this._rectangle=document.createElement("div"),this._rectangle.className="widgets-rectangle-helper",this._container.appendChild(this._rectangle),this._ellipse=document.createElement("div"),this._ellipse.className="widgets-ellipse",this._container.appendChild(this._ellipse),this._label=document.createElement("div"),this._label.className="widgets-label";var e=document.createElement("div"),t=document.createElement("div");t.className="mean-sd",e.appendChild(t);var i=document.createElement("div");i.className="max-min",e.appendChild(i);var n=document.createElement("div");n.className="area",e.appendChild(n),this._label.appendChild(e),this._container.appendChild(this._label),this.updateDOMColor()},i.prototype.update=function(){this.updateColor(),this._handles[0].update(),this._handles[1].update(),this.updateMeshColor(),this.updateMeshPosition(),this.updateDOM()},i.prototype.updateMeshColor=function(){this._material&&this._material.color.set(this._color)},i.prototype.updateMeshPosition=function(){this._mesh&&this.remove(this._mesh);var t=this._handles[1].worldPosition.clone().sub(this._handles[0].worldPosition),i=t.clone().projectOnVector(this._camera.up).length(),n=t.clone().projectOnVector(this._camera._right).length();0!==n&&0!==i&&(this._geometry=new e.ShapeGeometry(new e.Shape(new e.EllipseCurve(0,0,n/2,i/2,0,2*_MathPI,!1).getPoints(50))),this._mesh=new e.Mesh(this._geometry,this._material),this._mesh.position.copy(this._handles[0].worldPosition.clone().add(t.multiplyScalar(.5))),this._mesh.rotation.copy(this._camera.rotation),this._mesh.visible=!0,this.add(this._mesh))},i.prototype.updateRoI=function(e){if(this._geometry){var t=this._label.querySelector(".mean-sd"),i=this._label.querySelector(".max-min");if(e)return t.innerHTML="",void(i.innerHTML="");var n=o.a.getRoI(this._mesh,this._camera,this._stack);null!==n?(t.innerHTML="Mean: "+n.mean.toFixed(1)+" / SD: "+n.sd.toFixed(1),i.innerHTML="Max: "+n.max.toFixed()+" / Min: "+n.min.toFixed()):(t.innerHTML="",i.innerHTML="")}},i.prototype.updateDOMColor=function(){this._rectangle.style.borderColor=this._color,this._ellipse.style.borderColor=this._color,this._label.style.borderColor=this._color},i.prototype.updateDOM=function(){if(this._geometry){this.updateDOMColor();var e=this._stack.frame[this._params.frameIndex].ultrasoundRegions||[];if(this._area=o.a.getGeometryArea(this._geometry),this._calibrationFactor)this._area*=_Mathpow(this._calibrationFactor,2);else if(e&&0<e.length&&this._stack.lps2IJK){var t=this.getRegionByXY(e,o.a.worldToData(this._stack.lps2IJK,this._handles[0].worldPosition)),i=this.getRegionByXY(e,o.a.worldToData(this._stack.lps2IJK,this._handles[1].worldPosition));null!==t&&null!==i&&t===i&&"cm"===e[t].unitsX&&"cm"===e[t].unitsY?(this._area*=_Mathpow(e[t].deltaX,2),this._units="cm\xB2"):this._stack.frame[this._params.frameIndex].pixelSpacing?(this._area/=100,this._units="cm\xB2"):this._units="units"}else"cm\xB2"===this._units&&(this._area/=100);"units"!==this._units||this._label.hasAttribute("title")?"units"!==this._units&&this._label.hasAttribute("title")&&(this._label.removeAttribute("title"),this._label.style.color=this._colors.text):(this._label.setAttribute("title","Calibration is required to display the area in cm\xB2"),this._label.style.color=this._colors.error),this._label.querySelector(".area").innerHTML="Area: "+this._area.toFixed(2)+" "+this._units;var n=this.getRectData(this._handles[0].screenPosition,this._handles[1].screenPosition),r=this.adjustLabelTransform(this._label,this._handles[1].screenPosition.clone().add(n.paddingVector.multiplyScalar(15+this._label.offsetHeight/2)));this._rectangle.style.transform="translate3D("+n.transformX+"px, "+n.transformY+"px, 0)",this._rectangle.style.width=n.width+"px",this._rectangle.style.height=n.height+"px",this._ellipse.style.transform="translate3D("+n.transformX+"px, "+n.transformY+"px, 0)",this._ellipse.style.width=n.width+"px",this._ellipse.style.height=n.height+"px",this._label.style.transform="translate3D("+r.x+"px,"+r.y+"px, 0)"}},i.prototype.free=function(){var e=this;this.removeEventListeners(),this._handles.forEach(function(t){e.remove(t),t.free()}),this._handles=[],this._container.removeChild(this._rectangle),this._container.removeChild(this._ellipse),this._container.removeChild(this._label),this._mesh&&(this.remove(this._mesh),this._mesh.geometry.dispose(),this._mesh.geometry=null,this._mesh.material.dispose(),this._mesh.material=null,this._mesh=null),this._geometry&&(this._geometry.dispose(),this._geometry=null),this._material.vertexShader=null,this._material.fragmentShader=null,this._material.uniforms=null,this._material.dispose(),this._material=null,this._stack=null,t.prototype.free.call(this)},i.prototype.getMeasurements=function(){return{area:this._area,units:this._units}},a(i,[{key:"targetMesh",get:function get(){return this._targetMesh},set:function set(e){this._targetMesh=e,this._handles.forEach(function(t){return t.targetMesh=e}),this.update()}},{key:"worldPosition",get:function get(){return this._worldPosition},set:function set(e){this._handles[0].worldPosition.copy(e),this._handles[1].worldPosition.copy(e),this._worldPosition.copy(e),this.update()}},{key:"calibrationFactor",get:function get(){return this._calibrationFactor},set:function set(e){this._calibrationFactor=e,this._units="cm\xB2",this.update()}}]),i}(Object(n.a)(e))};t.a=s()},function(e,t,i){"use strict";i.d(t,"b",function(){return s});var n=i(3),r=i(2),o=i(1),a=function(){function e(e,t){for(var i=0,n;i<t.length;i++){n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s=function s(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:window.THREE;return void 0===e||void 0===e.Object3D?null:function(t){function i(n,o){var a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};!function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,i);var s=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=babelHelpers.typeof(t)&&"function"!=typeof t?e:t}(this,t.call(this,n,o,a));s._widgetType="Freehand",s._stack=a.stack,s._calibrationFactor=a.calibrationFactor||null,s._area=null,s._units=s._calibrationFactor||a.stack.frame[a.frameIndex].pixelSpacing?"cm\xB2":"units",s._initialized=!1,s._moving=!1,s._domHovered=!1,s._material=null,s._geometry=null,s._mesh=null,s._lines=[],s._label=null,s._handles=[];var l=Object(r.b)(e),c=new l(n,o,a);return s.add(c),s._handles.push(c),s._moveHandle=new l(n,o,a),s.add(s._moveHandle),s._moveHandle.hide(),s.onMove=s.onMove.bind(s),s.onHover=s.onHover.bind(s),s.create(),s.addEventListeners(),s}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+babelHelpers.typeof(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,t),i.prototype.addEventListeners=function(){this._container.addEventListener("wheel",this.onMove),this._label.addEventListener("mouseenter",this.onHover),this._label.addEventListener("mouseleave",this.onHover)},i.prototype.removeEventListeners=function(){this._container.removeEventListener("wheel",this.onMove),this._label.removeEventListener("mouseenter",this.onHover),this._label.removeEventListener("mouseleave",this.onHover)},i.prototype.onHover=function(e){e&&this.hoverDom(e),this.hoverMesh();var t=!1;this._handles.forEach(function(e){return t=t||e.hovered}),this._hovered=t||this._domHovered,this._container.style.cursor=this._hovered?"pointer":"default"},i.prototype.hoverMesh=function(){},i.prototype.hoverDom=function(e){this._domHovered="mouseenter"===e.type},i.prototype.onStart=function(e){var t=!1;this._moveHandle.onMove(e,!0),this._handles.forEach(function(i){i.onStart(e),t=t||i.active}),this._active=t||this._domHovered,this._domHovered&&this._initialized&&(this._moving=!0,this._controls.enabled=!1),this.update()},i.prototype.onMove=function(t){var i=this,n=!1;if(this.active)if(this._dragged=!0,this._initialized){var o=this._moveHandle.worldPosition.clone();this._moveHandle.onMove(t,!0),this._mesh&&this.remove(this._mesh),this.updateDOMContent(!0),this._moving&&this._handles.forEach(function(e){e.worldPosition.add(i._moveHandle.worldPosition.clone().sub(o))})}else{this._handles[this._handles.length-1].hovered=!1,this._handles[this._handles.length-1].active=!1,this._handles[this._handles.length-1].tracking=!1;var a=new(Object(r.b)(e))(this._targetMesh,this._controls,this._params);a.hovered=!0,a.active=!0,a.tracking=!0,this.add(a),this._handles.push(a),this.createLine()}this._handles.forEach(function(e){e.onMove(t),n=n||e.hovered}),this._hovered=n||this._domHovered,this._container.style.cursor=this._hovered?"pointer":"default",this.active&&2<this._handles.length&&this.pushPopHandle(),this.update()},i.prototype.onEnd=function(){var e=this;if(!(3>this._handles.length)){var t=!1;this._handles.slice(0,-1).forEach(function(e){e.onEnd(),t=t||e.active}),this._dragged||!this._handles[this._handles.length-1].tracking?(this._handles[this._handles.length-1].tracking=!1,this._handles[this._handles.length-1].onEnd()):this._handles[this._handles.length-1].tracking=!1,this._lines.length<this._handles.length&&this.createLine(),!this._dragged&&this._initialized||(this.updateMesh(),this.updateDOMContent()),!this._dragged&&this._active&&(this._selected=!this._selected,this._handles.forEach(function(t){return t.selected=e._selected})),this._active=t||this._handles[this._handles.length-1].active,this._dragged=!1,this._moving=!1,this._initialized=!0,this.update()}},i.prototype.create=function(){this.createMaterial(),this.createDOM()},i.prototype.createMaterial=function(){this._material=new e.MeshBasicMaterial({side:e.DoubleSide}),this._material.transparent=!0,this._material.opacity=.2},i.prototype.createDOM=function(){this._label=document.createElement("div"),this._label.className="widgets-label";var e=document.createElement("div"),t=document.createElement("div");t.className="mean-sd",e.appendChild(t);var i=document.createElement("div");i.className="max-min",e.appendChild(i);var n=document.createElement("div");n.className="area",e.appendChild(n),this._label.appendChild(e),this._container.appendChild(this._label),this.updateDOMColor()},i.prototype.createLine=function(){var e=document.createElement("div");e.className="widgets-line",e.addEventListener("mouseenter",this.onHover),e.addEventListener("mouseleave",this.onHover),this._lines.push(e),this._container.appendChild(e)},i.prototype.hideDOM=function(){this._handles.forEach(function(e){return e.hideDOM()}),this._lines.forEach(function(e){return e.style.display="none"}),this._label.style.display="none"},i.prototype.showDOM=function(){this._handles.forEach(function(e){return e.showDOM()}),this._lines.forEach(function(e){return e.style.display=""}),this._label.style.display=""},i.prototype.update=function(){this.updateColor(),this._handles.forEach(function(e){return e.update()}),this.updateMeshColor(),this.updateMeshPosition(),this.updateDOMColor(),this.updateDOMPosition()},i.prototype.updateMesh=function(){this._mesh&&this.remove(this._mesh);var t=[];this._handles.forEach(function(e){return t.push(e.worldPosition)});for(var i=o.a.centerOfMass(t),n=new e.Vector3().subVectors(t[0],i).normalize(),r=new e.Vector3().crossVectors(new e.Vector3().subVectors(t[0],i),new e.Vector3().subVectors(t[1],i)),a=new e.Vector3().crossVectors(n,r).normalize(),s=[],l=0,c;l<t.length;l++){c=new e.Vector3(t[l].x,t[l].y,t[l].z);c.direction=new e.Vector3().subVectors(t[l],i).normalize();var h=n.dot(c.direction),u=a.dot(c.direction);c.xy={x:h,y:u},c.angle=_Mathatan(u,h)*(180/_MathPI),s.push(c)}this._shapeWarn=!1;var f=console.warn;console.warn=function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++){t[i]=arguments[i]}return"three.ShapeUtils: Unable to triangulate polygon! in triangulate()"===t[0]&&(this._shapeWarn=!0),f.apply(console,t)}.bind(this);var d=new e.Shape;d.moveTo(s[0].xy.x,s[0].xy.y);for(var p=1;p<s.length;p++){d.lineTo(s[p].xy.x,s[p].xy.y)}d.lineTo(s[0].xy.x,s[0].xy.y),this._geometry=new e.ShapeGeometry(d),console.warn=f,this._geometry.vertices=s,this._geometry.verticesNeedUpdate=!0,this._geometry.elementsNeedUpdate=!0,this.updateMeshColor(),this._mesh=new e.Mesh(this._geometry,this._material),this._mesh.visible=!0,this.add(this._mesh)},i.prototype.updateMeshColor=function(){this._material&&this._material.color.set(this._color)},i.prototype.updateMeshPosition=function(){this._geometry&&(this._geometry.verticesNeedUpdate=!0)},i.prototype.isPointOnLine=function(t,i,n){var r=new e.Vector3;return r.crossVectors(t.clone().sub(n),i.clone().sub(n)),!r.length()},i.prototype.pushPopHandle=function(){var e=this._handles[this._handles.length-3],t=this._handles[this._handles.length-2],i=this._handles[this._handles.length-1],n=this.isPointOnLine(e.worldPosition,t.worldPosition,i.worldPosition);return(n||25>e.screenPosition.distanceTo(i.screenPosition))&&(this.remove(t),t.free(),this._handles[this._handles.length-2]=i,this._handles.pop(),this._container.removeChild(this._lines.pop())),n},i.prototype.updateDOMColor=function(){var e=this;2<=this._handles.length&&this._lines.forEach(function(t){return t.style.backgroundColor=e._color}),this._label.style.borderColor=this._color},i.prototype.updateDOMContent=function(e){var t=this,i=this._label.querySelector(".mean-sd"),n=this._label.querySelector(".max-min"),r=this._label.querySelector(".area");if(e)return i.innerHTML="",n.innerHTML="",void(r.innerHTML="");var a=this._stack.frame[this._params.frameIndex].ultrasoundRegions||[];if(this._area=o.a.getGeometryArea(this._geometry),this._calibrationFactor)this._area*=_Mathpow(this._calibrationFactor,2);else if(a&&0<a.length&&this._stack.lps2IJK){var s=!0,l,c;this._handles.forEach(function(e){(null===(l=t.getRegionByXY(a,o.a.worldToData(t._stack.lps2IJK,e.worldPosition)))||"cm"!==a[l].unitsX||void 0!==c&&c!==l)&&(s=!1),c=l}),s?(this._area*=_Mathpow(a[l].deltaX,2),this._units="cm\xB2"):this._stack.frame[this._params.frameIndex].pixelSpacing?(this._area/=100,this._units="cm\xB2"):this._units="units"}else"cm\xB2"===this._units&&(this._area/=100);var h="units"===this._units?"Calibration is required to display the area in cm\xB2. ":"";this._shapeWarn&&(h+="Values may be incorrect due to triangulation error."),""===h||this._label.hasAttribute("title")?""===h&&this._label.hasAttribute("title")&&(this._label.removeAttribute("title"),this._label.style.color=this._colors.text):(this._label.setAttribute("title",h),this._label.style.color=this._colors.error);var u=o.a.getRoI(this._mesh,this._camera,this._stack);null!==u?(i.innerHTML="Mean: "+u.mean.toFixed(1)+" / SD: "+u.sd.toFixed(1),n.innerHTML="Max: "+u.max.toFixed()+" / Min: "+u.min.toFixed()):(i.innerHTML="",n.innerHTML=""),r.innerHTML="Area: "+this._area.toFixed(2)+" "+this._units},i.prototype.updateDOMPosition=function(){var e=this;if(!(2>this._handles.length)){var t=null;this._lines.forEach(function(i,n){var r=e.getLineData(e._handles[n].screenPosition,e._handles[n+1===e._handles.length?0:n+1].screenPosition);i.style.transform="translate3D("+r.transformX+"px, "+r.transformY+"px, 0)\n                rotate("+r.transformAngle+"rad)",i.style.width=r.length+"px",(null===t||t.y<e._handles[n].screenPosition.y)&&(t=e._handles[n].screenPosition.clone())}),this._initialized&&(t.y+=15+this._label.offsetHeight/2,t=this.adjustLabelTransform(this._label,t),this._label.style.transform="translate3D("+t.x+"px, "+t.y+"px, 0)")}},i.prototype.free=function(){var e=this;this.removeEventListeners(),this._handles.forEach(function(t){e.remove(t),t.free()}),this._handles=[],this.remove(this._moveHandle),this._moveHandle.free(),this._moveHandle=null,this._lines.forEach(function(t){t.removeEventListener("mouseenter",e.onHover),t.removeEventListener("mouseleave",e.onHover),e._container.removeChild(t)}),this._lines=[],this._container.removeChild(this._label),this._mesh&&(this.remove(this._mesh),this._mesh.geometry.dispose(),this._mesh.geometry=null,this._mesh.material.dispose(),this._mesh.material=null,this._mesh=null),this._geometry&&(this._geometry.dispose(),this._geometry=null),this._material.vertexShader=null,this._material.fragmentShader=null,this._material.uniforms=null,this._material.dispose(),this._material=null,this._stack=null,t.prototype.free.call(this)},i.prototype.getMeasurements=function(){return{area:this._area,units:this._units}},a(i,[{key:"targetMesh",get:function get(){return this._targetMesh},set:function set(e){this._targetMesh=e,this._handles.forEach(function(t){return t.targetMesh=e}),this._moveHandle.targetMesh=e,this.update()}},{key:"worldPosition",get:function get(){return this._worldPosition},set:function set(e){this._handles.forEach(function(t){return t._worldPosition.copy(e)}),this._worldPosition.copy(e),this.update()}},{key:"calibrationFactor",get:function get(){return this._calibrationFactor},set:function set(e){this._calibrationFactor=e,this._units="cm\xB2",this.update()}}]),i}(Object(n.a)(e))};t.a=s()},function(e,t,i){"use strict";i.d(t,"b",function(){return s});var n=i(3),r=i(2),o=i(1),a=function(){function e(e,t){for(var i=0,n;i<t.length;i++){n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s=function s(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:window.THREE;return void 0===e||void 0===e.Object3D?null:function(t){function i(n,a){var s=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};!function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,i);var l=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=babelHelpers.typeof(t)&&"function"!=typeof t?e:t}(this,t.call(this,n,a,s));if(l._widgetType="PeakVelocity",l._regions=s.ultrasoundRegions||[],1>l._regions.length)throw new Error("Ultrasound regions should not be empty!");if(l._velocity=null,l._gradient=null,l._container.style.cursor="pointer",l._controls.enabled=!1,l._initialized=!1,l._active=!0,l._domHovered=!1,l._initialRegion=l.getRegionByXY(l._regions,o.a.worldToData(s.lps2IJK,s.worldPosition)),null===l._initialRegion)throw new Error("Invalid initial UltraSound region!");l._line=null,l._label=null;var c=Object(r.b)(e);return l._handle=new c(n,a,s),l.add(l._handle),l._moveHandle=new c(n,a,s),l.add(l._moveHandle),l._moveHandle.hide(),l.create(),l.onMove=l.onMove.bind(l),l.onHover=l.onHover.bind(l),l.addEventListeners(),l}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+babelHelpers.typeof(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,t),i.prototype.addEventListeners=function(){this._container.addEventListener("wheel",this.onMove),this._line.addEventListener("mouseenter",this.onHover),this._line.addEventListener("mouseleave",this.onHover),this._label.addEventListener("mouseenter",this.onHover),this._label.addEventListener("mouseleave",this.onHover)},i.prototype.removeEventListeners=function(){this._container.removeEventListener("wheel",this.onMove),this._line.removeEventListener("mouseenter",this.onHover),this._line.removeEventListener("mouseleave",this.onHover),this._label.removeEventListener("mouseenter",this.onHover),this._label.removeEventListener("mouseleave",this.onHover)},i.prototype.onHover=function(e){e&&this.hoverDom(e),this._hovered=this._handle.hovered||this._domHovered,this._container.style.cursor=this._hovered?"pointer":"default"},i.prototype.hoverDom=function(e){this._domHovered="mouseenter"===e.type},i.prototype.onStart=function(e){this._moveHandle.onMove(e,!0),this._handle.onStart(e),this._active=this._handle.active||this._domHovered,this._domHovered&&(this._controls.enabled=!1),this.update()},i.prototype.onMove=function(e){if(this._active){var t=this._moveHandle.worldPosition.clone();this._moveHandle.onMove(e,!0);var i=this._moveHandle.worldPosition.clone().sub(t);if(!this.isCorrectRegion(i))return void this._moveHandle.worldPosition.copy(t);this._handle.active||this._handle.worldPosition.add(i),this._dragged=!0}else this.onHover(null);this._handle.onMove(e),this.update()},i.prototype.onEnd=function(){this._handle.onEnd(),!this._dragged&&this._active&&this._initialized&&(this._selected=!this._selected,this._handle.selected=this._selected),this._initialized=!0,this._active=!1,this._dragged=!1,this.update()},i.prototype.isCorrectRegion=function(e){var t=this.getRegionByXY(this._regions,o.a.worldToData(this._params.lps2IJK,this._handle.worldPosition.clone().add(e)));return null!==t&&t===this._initialRegion&&"cm/sec"===this._regions[t].unitsY},i.prototype.create=function(){this.createDOM()},i.prototype.createDOM=function(){this._line=document.createElement("div"),this._line.className="widgets-dashline",this._container.appendChild(this._line),this._label=document.createElement("div"),this._label.className="widgets-label";var e=document.createElement("div"),t=document.createElement("div");t.className="peakVelocity",e.appendChild(t);var i=document.createElement("div");i.className="gradient",e.appendChild(i),this._label.appendChild(e),this._container.appendChild(this._label),this.updateDOMColor()},i.prototype.update=function(){this.updateColor(),this._handle.update(),this._worldPosition.copy(this._handle.worldPosition),this.updateDOM()},i.prototype.updateDOM=function(){this.updateDOMColor();var e=o.a.worldToData(this._params.lps2IJK,this._worldPosition),t=this._regions[this.getRegionByXY(this._regions,e)],i=this.getPointInRegion(t,e);this._velocity=_Mathabs(i.y/100),this._gradient=4*_Mathpow(this._velocity,2),this._label.querySelector(".peakVelocity").innerHTML=this._velocity.toFixed(2)+" m/s",this._label.querySelector(".gradient").innerHTML=this._gradient.toFixed(2)+" mmhg";var n=this.adjustLabelTransform(this._label,this._handle.screenPosition,!0);this._line.style.transform="translate3D("+(n.x-(e.x-t.x0)*this._camera.zoom)+"px, "+n.y+"px, 0)",this._line.style.width=(t.x1-t.x0)*this._camera.zoom+"px",this._label.style.transform="translate3D("+(n.x+10)+"px, "+(n.y+10)+"px, 0)"},i.prototype.updateDOMColor=function(){this._line.style.backgroundColor=this._color,this._label.style.borderColor=this._color},i.prototype.hideDOM=function(){this._line.style.display="none",this._label.style.display="none",this._handle.hideDOM()},i.prototype.showDOM=function(){this._line.style.display="",this._label.style.display="",this._handle.showDOM()},i.prototype.free=function(){this.removeEventListeners(),this.remove(this._handle),this._handle.free(),this._handle=null,this.remove(this._moveHandle),this._moveHandle.free(),this._moveHandle=null,this._container.removeChild(this._line),this._container.removeChild(this._label),t.prototype.free.call(this)},i.prototype.getMeasurements=function(){return{velocity:this._velocity,gradient:this._gradient}},a(i,[{key:"targetMesh",get:function get(){return this._targetMesh},set:function set(e){this._targetMesh=e,this._handle.targetMesh=e,this._moveHandle.targetMesh=e,this.update()}},{key:"worldPosition",get:function get(){return this._worldPosition},set:function set(e){this._handle.worldPosition.copy(e),this._moveHandle.worldPosition.copy(e),this._worldPosition.copy(e),this.update()}},{key:"active",get:function get(){return this._active},set:function set(e){this._active=e,this._controls.enabled=!this._active,this.update()}}]),i}(Object(n.a)(e))};t.a=s()},function(e,t,i){"use strict";i.d(t,"b",function(){return s});var n=i(3),r=i(2),o=i(1),a=function(){function e(e,t){for(var i=0,n;i<t.length;i++){n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s=function s(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:window.THREE;return void 0===e||void 0===e.Object3D?null:function(t){function i(n,a){var s=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};!function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,i);var l=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=babelHelpers.typeof(t)&&"function"!=typeof t?e:t}(this,t.call(this,n,a,s));if(l._widgetType="PressureHalfTime",l._regions=s.ultrasoundRegions||[],1>l._regions.length)throw new Error("Ultrasound regions should not be empty!");if(l._vMax=null,l._gMax=null,l._pht=null,l._mva=null,l._dt=null,l._ds=null,l._domHovered=!1,l._initialRegion=l.getRegionByXY(l._regions,o.a.worldToData(s.lps2IJK,s.worldPosition)),null===l._initialRegion)throw new Error("Invalid initial UltraSound region!");l._material=null,l._geometry=null,l._mesh=null,l._line=null,l._label=null,l._handles=[];for(var c=Object(r.b)(e),h=void 0,u=0;2>u;u++){h=new c(n,a,s),l.add(h),l._handles.push(h)}return l._handles[1].active=!0,l._handles[1].tracking=!0,l._moveHandle=new c(n,a,s),l.add(l._moveHandle),l._handles.push(l._moveHandle),l._moveHandle.hide(),l.create(),l.onMove=l.onMove.bind(l),l.onHover=l.onHover.bind(l),l.addEventListeners(),l}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+babelHelpers.typeof(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,t),i.prototype.addEventListeners=function(){this._container.addEventListener("wheel",this.onMove),this._line.addEventListener("mouseenter",this.onHover),this._line.addEventListener("mouseleave",this.onHover),this._label.addEventListener("mouseenter",this.onHover),this._label.addEventListener("mouseleave",this.onHover)},i.prototype.removeEventListeners=function(){this._container.removeEventListener("wheel",this.onMove),this._line.removeEventListener("mouseenter",this.onHover),this._line.removeEventListener("mouseleave",this.onHover),this._label.removeEventListener("mouseenter",this.onHover),this._label.removeEventListener("mouseleave",this.onHover)},i.prototype.onHover=function(e){e&&this.hoverDom(e),this.hoverMesh(),this._hovered=this._handles[0].hovered||this._handles[1].hovered||this._domHovered,this._container.style.cursor=this._hovered?"pointer":"default"},i.prototype.hoverMesh=function(){},i.prototype.hoverDom=function(e){this._domHovered="mouseenter"===e.type},i.prototype.onStart=function(e){this._moveHandle.onMove(e,!0),this._handles[0].onStart(e),this._handles[1].onStart(e),this._active=this._handles[0].active||this._handles[1].active||this._domHovered,this._domHovered&&(this._controls.enabled=!1),this.update()},i.prototype.onMove=function(e){if(this._active){var t=this._moveHandle.worldPosition.clone();this._moveHandle.onMove(e,!0);var i=this._moveHandle.worldPosition.clone().sub(t);if(!this.isCorrectRegion(i))return void this._moveHandle.worldPosition.copy(t);this._handles[0].active||this._handles[1].active||this._handles.slice(0,-1).forEach(function(e){e.worldPosition.add(i)}),this._dragged=!0}else this.onHover(null);this._handles[0].onMove(e),this._handles[1].onMove(e),this.update()},i.prototype.onEnd=function(){this._handles[0].onEnd(),this._handles[1].tracking&&10>this._handles[0].screenPosition.distanceTo(this._handles[1].screenPosition)||(this._dragged||!this._active||this._handles[1].tracking||(this._selected=!this._selected,this._handles[0].selected=this._selected),this._dragged||!this._handles[1].tracking?(this._handles[1].tracking=!1,this._handles[1].onEnd()):this._handles[1].tracking=!1,this._handles[1].selected=this._selected,this._active=this._handles[0].active||this._handles[1].active,this._dragged=!1,this.update())},i.prototype.isCorrectRegion=function(e){var t=!(this._handles[0].active||this._handles[1].active),i=!0;return(this._handles[0].active||t)&&(i=i&&this.checkHandle(0,e)),(this._handles[1].active||t)&&(i=i&&this.checkHandle(1,e)),i},i.prototype.checkHandle=function(e,t){var i=this.getRegionByXY(this._regions,o.a.worldToData(this._params.lps2IJK,this._handles[e].worldPosition.clone().add(t)));return null!==i&&i===this._initialRegion&&"cm/sec"===this._regions[i].unitsY},i.prototype.create=function(){this.createMesh(),this.createDOM()},i.prototype.createMesh=function(){this._geometry=new e.Geometry,this._geometry.vertices=[this._handles[0].worldPosition,this._handles[1].worldPosition],this._material=new e.LineBasicMaterial,this.updateMeshColor(),this._mesh=new e.Line(this._geometry,this._material),this._mesh.visible=!0,this.add(this._mesh)},i.prototype.createDOM=function(){this._line=document.createElement("div"),this._line.className="widgets-line",this._container.appendChild(this._line),this._label=document.createElement("div"),this._label.className="widgets-label";var e=document.createElement("div");["vmax","gmax","pht","mva","dt","ds"].forEach(function(t){var i=document.createElement("div");i.className=t,e.appendChild(i)}),this._label.appendChild(e),this._container.appendChild(this._label),this.updateDOMColor()},i.prototype.hideDOM=function(){this._line.style.display="none",this._label.style.display="none",this._handles.forEach(function(e){return e.hideDOM()})},i.prototype.showDOM=function(){this._line.style.display="",this._label.style.display="",this._handles[0].showDOM(),this._handles[1].showDOM()},i.prototype.update=function(){this.updateColor(),this._handles[0].update(),this._handles[1].update(),this.updateValues(),this.updateMeshColor(),this.updateMeshPosition(),this.updateDOM()},i.prototype.updateValues=function(){var e=this.getUsPoint(this._regions,o.a.worldToData(this._params.lps2IJK,this._handles[0].worldPosition)),t=this.getUsPoint(this._regions,o.a.worldToData(this._params.lps2IJK,this._handles[1].worldPosition)),i=_Mathabs(e.y/100),n=_Mathabs(t.y/100),r=_Mathabs(e.x),a=_Mathabs(t.x),s=this._vMax===i?r:a;this._vMax=_Mathmax(i,n),this._gMax=4*_Mathpow(this._vMax,2);var l=this._vMax/1.4142135623730951,c=(i-l)/(n-l),h=i/n;this._pht=1===c?_NumberPOSITIVE_INFINITY:1e3*_Mathabs(s-(r-c*a)/(1-c)),this._mva=220/this._pht,this._dt=1===h?_NumberPOSITIVE_INFINITY:1e3*_Mathabs(s-(r-h*a)/(1-h)),this._ds=0===this._dt?_NumberPOSITIVE_INFINITY:1e3*(this._vMax/this._dt)},i.prototype.updateMeshColor=function(){this._material&&this._material.color.set(this._color)},i.prototype.updateMeshPosition=function(){this._geometry&&(this._geometry.verticesNeedUpdate=!0)},i.prototype.updateDOM=function(){this.updateDOMColor();var e=this.getLineData(this._handles[0].screenPosition,this._handles[1].screenPosition);this._line.style.transform="translate3D("+e.transformX+"px, "+e.transformY+"px, 0)\n                rotate("+e.transformAngle+"rad)",this._line.style.width=e.length+"px",this._label.querySelector(".vmax").innerHTML="Vmax: "+this._vMax.toFixed(2)+" m/s",this._label.querySelector(".gmax").innerHTML="Gmax: "+this._gMax.toFixed(2)+" mmhg",this._label.querySelector(".pht").innerHTML="PHT: "+this._pht.toFixed(1)+" ms",this._label.querySelector(".mva").innerHTML="MVA: "+this._mva.toFixed(2)+" cm\xB2",this._label.querySelector(".dt").innerHTML="DT: "+this._dt.toFixed(1)+" ms",this._label.querySelector(".ds").innerHTML="DS: "+this._ds.toFixed(2)+" m/s\xB2";var t=_Mathabs(e.transformAngle);t>_MathPI/2&&(t=_MathPI-t);var i=_Mathtan(t)<this._label.offsetHeight/this._label.offsetWidth?this._label.offsetWidth/2/_Mathcos(t)+15:this._label.offsetHeight/2/_Mathcos(_MathPI/2-t)+15,n=e.line.normalize().multiplyScalar(i),r=e.length>2*i?this._handles[1].screenPosition.clone().sub(n):this._handles[1].screenPosition.clone().add(n),o=this.adjustLabelTransform(this._label,r);this._label.style.transform="translate3D("+o.x+"px, "+o.y+"px, 0)"},i.prototype.updateDOMColor=function(){this._line.style.backgroundColor=this._color,this._label.style.borderColor=this._color},i.prototype.free=function(){var e=this;this.removeEventListeners(),this._handles.forEach(function(t){e.remove(t),t.free()}),this._handles=[],this._container.removeChild(this._line),this._container.removeChild(this._label),this.remove(this._mesh),this._mesh.geometry.dispose(),this._mesh.geometry=null,this._mesh.material.dispose(),this._mesh.material=null,this._mesh=null,this._geometry.dispose(),this._geometry=null,this._material.vertexShader=null,this._material.fragmentShader=null,this._material.uniforms=null,this._material.dispose(),this._material=null,t.prototype.free.call(this)},i.prototype.getMeasurements=function(){return{vMax:this._vMax,gMax:this._gMax,pht:this._pht,mva:this._mva,dt:this._dt,ds:this._ds}},a(i,[{key:"targetMesh",get:function get(){return this._targetMesh},set:function set(e){this._targetMesh=e,this._handles.forEach(function(t){return t.targetMesh=e}),this.update()}},{key:"worldPosition",get:function get(){return this._worldPosition},set:function set(e){this._handles[0].worldPosition.copy(e),this._handles[1].worldPosition.copy(e),this._worldPosition.copy(e),this.update()}}]),i}(Object(n.a)(e))};t.a=s()},function(e,t,i){"use strict";i.d(t,"b",function(){return s});var n=i(3),r=i(2),o=i(1),a=function(){function e(e,t){for(var i=0,n;i<t.length;i++){n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s=function s(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:window.THREE;return void 0===e||void 0===e.Object3D?null:function(t){function i(n,o){var a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};!function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,i);var s=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=babelHelpers.typeof(t)&&"function"!=typeof t?e:t}(this,t.call(this,n,o,a));s._widgetType="Polygon",s._stack=a.stack,s._calibrationFactor=a.calibrationFactor||null,s._area=null,s._units=s._calibrationFactor||a.stack.frame[a.frameIndex].pixelSpacing?"cm\xB2":"units",s._initialized=!1,s._newHandleRequired=!0,s._moving=!1,s._domHovered=!1,s._material=null,s._geometry=null,s._mesh=null,s._lines=[],s._label=null,s._handles=[];var l=Object(r.b)(e),c=new l(n,o,a);return s.add(c),s._handles.push(c),s._moveHandle=new l(n,o,a),s.add(s._moveHandle),s._moveHandle.hide(),s.onDoubleClick=s.onDoubleClick.bind(s),s.onMove=s.onMove.bind(s),s.onHover=s.onHover.bind(s),s.create(),s.addEventListeners(),s}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+babelHelpers.typeof(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,t),i.prototype.addEventListeners=function(){this._container.addEventListener("dblclick",this.onDoubleClick),this._container.addEventListener("wheel",this.onMove),this._label.addEventListener("mouseenter",this.onHover),this._label.addEventListener("mouseleave",this.onHover)},i.prototype.removeEventListeners=function(){this._container.removeEventListener("dblclick",this.onDoubleClick),this._container.removeEventListener("wheel",this.onMove),this._label.removeEventListener("mouseenter",this.onHover),this._label.removeEventListener("mouseleave",this.onHover)},i.prototype.onHover=function(e){e&&this.hoverDom(e),this.hoverMesh();var t=!1;this._handles.forEach(function(e){return t=t||e.hovered}),this._hovered=t||this._domHovered,this._container.style.cursor=this._hovered?"pointer":"default"},i.prototype.hoverMesh=function(){},i.prototype.hoverDom=function(e){this._domHovered="mouseenter"===e.type},i.prototype.onStart=function(e){var t=!1;this._handles.forEach(function(i){i.onStart(e),t=t||i.active}),this._initialized&&(this._moveHandle.onMove(e,!0),this._active=t||this._domHovered,this._domHovered&&this._initialized&&(this._moving=!0,this._controls.enabled=!1),this.update())},i.prototype.onMove=function(t){var i=this,n=!1;if(this.active)if(this._dragged=!0,this._newHandleRequired&&!this._initialized){this._handles[this._handles.length-1].hovered=!1,this._handles[this._handles.length-1].active=!1,this._handles[this._handles.length-1].tracking=!1;var o=new(Object(r.b)(e))(this._targetMesh,this._controls,this._params);o.hovered=!0,o.active=!0,o.tracking=!0,this.add(o),this._handles.push(o),this.createLine(),this._newHandleRequired=!1}else{var a=this._moveHandle.worldPosition.clone();this._moveHandle.onMove(t,!0),this._mesh&&this.remove(this._mesh),this.updateDOMContent(!0),this._moving&&this._handles.forEach(function(e){e.worldPosition.add(i._moveHandle.worldPosition.clone().sub(a))})}this._handles.forEach(function(e){e.onMove(t),n=n||e.hovered}),this._hovered=n||this._domHovered,this._container.style.cursor=this._hovered?"pointer":"default",this.update()},i.prototype.onEnd=function(){var e=this,t=this._handles.length,i=!1;!this._initialized&&1<t&&10>this._handles[t-2].screenPosition.distanceTo(this._handles[t-1].screenPosition)||(this._handles.forEach(function(e){e.onEnd(),i=i||e.active}),this._initialized?(this._dragged&&(this.updateMesh(),this.updateDOMContent()),!this._dragged&&this._active&&(this._selected=!this._selected,this._handles.forEach(function(t){return t.selected=e._selected})),this._active=i||this._handles[t-1].active,this._dragged=!1,this._moving=!1,this.update()):this._newHandleRequired=!0)},i.prototype.onDoubleClick=function(){var e=this._handles.length;3>e||this._initialized||1<e&&10>this._handles[e-2].screenPosition.distanceTo(this._handles[e-1].screenPosition)||(this._handles[e-1].tracking=!1,this._handles.forEach(function(e){return e.onEnd()}),this._active=!1,this._dragged=!1,this._moving=!1,this._initialized=!0,this.updateMesh(),this.updateDOMContent(),this.update())},i.prototype.create=function(){this.createMaterial(),this.createDOM()},i.prototype.createMaterial=function(){this._material=new e.MeshBasicMaterial({side:THREE.DoubleSide}),this._material.transparent=!0,this._material.opacity=.2},i.prototype.createDOM=function(){this.createLine(),this._label=document.createElement("div"),this._label.className="widgets-label";var e=document.createElement("div"),t=document.createElement("div");t.className="mean-sd",e.appendChild(t);var i=document.createElement("div");i.className="max-min",e.appendChild(i);var n=document.createElement("div");n.className="area",e.appendChild(n),this._label.appendChild(e),this._container.appendChild(this._label),this.updateDOMColor()},i.prototype.createLine=function(){var e=document.createElement("div");e.className="widgets-line",e.addEventListener("mouseenter",this.onHover),e.addEventListener("mouseleave",this.onHover),this._lines.push(e),this._container.appendChild(e)},i.prototype.hideDOM=function(){this._handles.forEach(function(e){return e.hideDOM()}),this._lines.forEach(function(e){return e.style.display="none"}),this._label.style.display="none"},i.prototype.showDOM=function(){this._handles.forEach(function(e){return e.showDOM()}),this._lines.forEach(function(e){return e.style.display=""}),this._label.style.display=""},i.prototype.update=function(){this.updateColor(),this._handles.forEach(function(e){return e.update()}),this.updateMeshColor(),this.updateMeshPosition(),this.updateDOMColor(),this.updateDOMPosition()},i.prototype.updateMesh=function(){this._mesh&&this.remove(this._mesh);var t=[];this._handles.forEach(function(e){return t.push(e.worldPosition)});for(var i=o.a.centerOfMass(t),n=new e.Vector3().subVectors(t[0],i).normalize(),r=new e.Vector3().crossVectors(new e.Vector3().subVectors(t[0],i),new e.Vector3().subVectors(t[1],i)),a=new e.Vector3().crossVectors(n,r).normalize(),s=[],l=0,c;l<t.length;l++){c=new e.Vector3(t[l].x,t[l].y,t[l].z);c.direction=new e.Vector3().subVectors(t[l],i).normalize();var h=n.dot(c.direction),u=a.dot(c.direction);c.xy={x:h,y:u},c.angle=_Mathatan(u,h)*(180/_MathPI),s.push(c)}this._shapeWarn=!1;var f=console.warn;console.warn=function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++){t[i]=arguments[i]}return"THREE.ShapeUtils: Unable to triangulate polygon! in triangulate()"===t[0]&&(this._shapeWarn=!0),f.apply(console,t)}.bind(this);var d=new e.Shape;d.moveTo(s[0].xy.x,s[0].xy.y);for(var p=1;p<s.length;p++){d.lineTo(s[p].xy.x,s[p].xy.y)}d.lineTo(s[0].xy.x,s[0].xy.y),this._geometry=new e.ShapeGeometry(d),console.warn=f,this._geometry.vertices=s,this._geometry.verticesNeedUpdate=!0,this._geometry.elementsNeedUpdate=!0,this.updateMeshColor(),this._mesh=new e.Mesh(this._geometry,this._material),this._mesh.visible=!0,this.add(this._mesh)},i.prototype.updateMeshColor=function(){this._material&&this._material.color.set(this._color)},i.prototype.updateMeshPosition=function(){this._geometry&&(this._geometry.verticesNeedUpdate=!0)},i.prototype.updateDOMColor=function(){var e=this;this._lines.forEach(function(t){return t.style.backgroundColor=e._color}),this._label.style.borderColor=this._color},i.prototype.updateDOMContent=function(e){var t=this,i=this._label.querySelector(".mean-sd"),n=this._label.querySelector(".max-min"),r=this._label.querySelector(".area");if(e)return i.innerHTML="",n.innerHTML="",void(r.innerHTML="");var a=this._stack.frame[this._params.frameIndex].ultrasoundRegions||[];if(this._area=o.a.getGeometryArea(this._geometry),this._calibrationFactor)this._area*=_Mathpow(this._calibrationFactor,2);else if(a&&0<a.length&&this._stack.lps2IJK){var s=!0,l,c;this._handles.forEach(function(e){(null===(l=t.getRegionByXY(a,o.a.worldToData(t._stack.lps2IJK,e.worldPosition)))||"cm"!==a[l].unitsX||void 0!==c&&c!==l)&&(s=!1),c=l}),s?(this._area*=_Mathpow(a[l].deltaX,2),this._units="cm\xB2"):this._stack.frame[this._params.frameIndex].pixelSpacing?(this._area/=100,this._units="cm\xB2"):this._units="units"}else"cm\xB2"===this._units&&(this._area/=100);var h="units"===this._units?"Calibration is required to display the area in cm\xB2. ":"";this._shapeWarn&&(h+="Values may be incorrect due to triangulation error."),""===h||this._label.hasAttribute("title")?""===h&&this._label.hasAttribute("title")&&(this._label.removeAttribute("title"),this._label.style.color=this._colors.text):(this._label.setAttribute("title",h),this._label.style.color=this._colors.error);var u=o.a.getRoI(this._mesh,this._camera,this._stack);null!==u?(i.innerHTML="Mean: "+u.mean.toFixed(1)+" / SD: "+u.sd.toFixed(1),n.innerHTML="Max: "+u.max.toFixed()+" / Min: "+u.min.toFixed()):(i.innerHTML="",n.innerHTML=""),r.innerHTML="Area: "+this._area.toFixed(2)+" "+this._units},i.prototype.updateDOMPosition=function(){var e=this,t=null;this._lines.forEach(function(i,n){var r=e.getLineData(e._handles[n].screenPosition,e._handles[n+1===e._handles.length?0:n+1].screenPosition);i.style.transform="translate3D("+r.transformX+"px, "+r.transformY+"px, 0)\n                    rotate("+r.transformAngle+"rad)",i.style.width=r.length+"px",(null===t||t.y<e._handles[n].screenPosition.y)&&(t=e._handles[n].screenPosition.clone())}),this._initialized&&(t.y+=15+this._label.offsetHeight/2,t=this.adjustLabelTransform(this._label,t),this._label.style.transform="translate3D("+t.x+"px, "+t.y+"px, 0)")},i.prototype.free=function(){var e=this;this.removeEventListeners(),this._handles.forEach(function(t){e.remove(t),t.free()}),this._handles=[],this.remove(this._moveHandle),this._moveHandle.free(),this._moveHandle=null,this._lines.forEach(function(t){t.removeEventListener("mouseenter",e.onHover),t.removeEventListener("mouseleave",e.onHover),e._container.removeChild(t)}),this._lines=[],this._container.removeChild(this._label),this._mesh&&(this.remove(this._mesh),this._mesh.geometry.dispose(),this._mesh.geometry=null,this._mesh.material.dispose(),this._mesh.material=null,this._mesh=null),this._geometry&&(this._geometry.dispose(),this._geometry=null),this._material.vertexShader=null,this._material.fragmentShader=null,this._material.uniforms=null,this._material.dispose(),this._material=null,this._stack=null,t.prototype.free.call(this)},i.prototype.getMeasurements=function(){return{area:this._area,units:this._units}},a(i,[{key:"targetMesh",get:function get(){return this._targetMesh},set:function set(e){this._targetMesh=e,this._handles.forEach(function(t){return t.targetMesh=e}),this._moveHandle.targetMesh=e,this.update()}},{key:"worldPosition",get:function get(){return this._worldPosition},set:function set(e){this._handles.forEach(function(t){return t.worldPosition.copy(e)}),this._worldPosition.copy(e),this.update()}},{key:"calibrationFactor",get:function get(){return this._calibrationFactor},set:function set(e){this._calibrationFactor=e,this._units="cm\xB2",this.update()}}]),i}(Object(n.a)(e))};t.a=s()},function(e,t,i){"use strict";i.d(t,"b",function(){return s});var n=i(3),r=i(2),o=i(1),a=function(){function e(e,t){for(var i=0,n;i<t.length;i++){n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s=function s(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:window.THREE;return void 0===e||void 0===e.Object3D?null:function(t){function i(n,o){var a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};!function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,i);var s=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=babelHelpers.typeof(t)&&"function"!=typeof t?e:t}(this,t.call(this,n,o,a));s._widgetType="Rectangle",s._stack=a.stack,s._calibrationFactor=a.calibrationFactor||null,s._area=null,s._units=s._calibrationFactor||a.stack.frame[a.frameIndex].pixelSpacing?"cm\xB2":"units",s._moving=!1,s._domHovered=!1,s._material=null,s._geometry=null,s._mesh=null,s._rectangle=null,s._label=null,s._handles=[];for(var l=Object(r.b)(e),c=void 0,h=0;2>h;h++){c=new l(n,o,a),s.add(c),s._handles.push(c)}return s._handles[1].active=!0,s._handles[1].tracking=!0,s._moveHandle=new l(n,o,a),s.add(s._moveHandle),s._handles.push(s._moveHandle),s._moveHandle.hide(),s.create(),s.onMove=s.onMove.bind(s),s.onHover=s.onHover.bind(s),s.addEventListeners(),s}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+babelHelpers.typeof(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,t),i.prototype.addEventListeners=function(){this._container.addEventListener("wheel",this.onMove),this._rectangle.addEventListener("mouseenter",this.onHover),this._rectangle.addEventListener("mouseleave",this.onHover),this._label.addEventListener("mouseenter",this.onHover),this._label.addEventListener("mouseleave",this.onHover)},i.prototype.removeEventListeners=function(){this._container.removeEventListener("wheel",this.onMove),this._rectangle.removeEventListener("mouseenter",this.onHover),this._rectangle.removeEventListener("mouseleave",this.onHover),this._label.removeEventListener("mouseenter",this.onHover),this._label.removeEventListener("mouseleave",this.onHover)},i.prototype.onHover=function(e){e&&this.hoverDom(e),this.hoverMesh(),this._hovered=this._handles[0].hovered||this._handles[1].hovered||this._domHovered,this._container.style.cursor=this._hovered?"pointer":"default"},i.prototype.hoverMesh=function(){},i.prototype.hoverDom=function(e){this._domHovered="mouseenter"===e.type},i.prototype.onStart=function(e){this._moveHandle.onMove(e,!0),this._handles[0].onStart(e),this._handles[1].onStart(e),this._active=this._handles[0].active||this._handles[1].active||this._domHovered,this._domHovered&&!this._handles[1].tracking&&(this._moving=!0,this._controls.enabled=!1),this.update()},i.prototype.onMove=function(e){var t=this;if(this._active){var i=this._moveHandle.worldPosition.clone();this._dragged=!0,this._moveHandle.onMove(e,!0),this._moving&&this._handles.slice(0,-1).forEach(function(e){e.worldPosition.add(t._moveHandle.worldPosition.clone().sub(i))}),this.updateRoI(!0)}else this.onHover(null);this._handles[0].onMove(e),this._handles[1].onMove(e),this.update()},i.prototype.onEnd=function(){this._handles[0].onEnd(),this._handles[1].tracking&&10>this._handles[0].screenPosition.distanceTo(this._handles[1].screenPosition)||(this._dragged||!this._active||this._handles[1].tracking||(this._selected=!this._selected,this._handles[0].selected=this._selected),this._dragged||!this._handles[1].tracking?(this._handles[1].tracking=!1,this._handles[1].onEnd()):this._handles[1].tracking=!1,this._handles[1].selected=this._selected,this._active=this._handles[0].active||this._handles[1].active,this._dragged=!1,this._moving=!1,this.updateRoI(),this.update())},i.prototype.hideDOM=function(){this._handles.forEach(function(e){return e.hideDOM()}),this._rectangle.style.display="none",this._label.style.display="none"},i.prototype.showDOM=function(){this._handles[0].showDOM(),this._handles[1].showDOM(),this._rectangle.style.display="",this._label.style.display=""},i.prototype.create=function(){this.createMesh(),this.createDOM()},i.prototype.createMesh=function(){this._geometry=new e.PlaneGeometry(1,1),this._material=new e.MeshBasicMaterial({side:e.DoubleSide}),this._material.transparent=!0,this._material.opacity=.2,this.updateMeshColor(),this._mesh=new e.Mesh(this._geometry,this._material),this._mesh.visible=!0,this.add(this._mesh)},i.prototype.createDOM=function(){this._rectangle=document.createElement("div"),this._rectangle.className="widgets-rectangle",this._container.appendChild(this._rectangle),this._label=document.createElement("div"),this._label.className="widgets-label";var e=document.createElement("div"),t=document.createElement("div");t.className="mean-sd",e.appendChild(t);var i=document.createElement("div");i.className="max-min",e.appendChild(i);var n=document.createElement("div");n.className="area",e.appendChild(n),this._label.appendChild(e),this._container.appendChild(this._label),this.updateDOMColor()},i.prototype.update=function(){this.updateColor(),this._handles[0].update(),this._handles[1].update(),this.updateMeshColor(),this.updateMeshPosition(),this.updateDOM()},i.prototype.updateMeshColor=function(){this._material&&this._material.color.set(this._color)},i.prototype.updateMeshPosition=function(){if(this._geometry){var t=new e.Vector3().subVectors(this._handles[1].worldPosition,this._handles[0].worldPosition).projectOnVector(this._camera.up);this._geometry.vertices[0].copy(this._handles[0].worldPosition),this._geometry.vertices[1].copy(new e.Vector3().addVectors(this._handles[0].worldPosition,t)),this._geometry.vertices[2].copy(new e.Vector3().subVectors(this._handles[1].worldPosition,t)),this._geometry.vertices[3].copy(this._handles[1].worldPosition),this._geometry.verticesNeedUpdate=!0,this._geometry.computeBoundingSphere()}},i.prototype.updateRoI=function(e){var t=this._label.querySelector(".mean-sd"),i=this._label.querySelector(".max-min");if(e)return t.innerHTML="",void(i.innerHTML="");var n=o.a.getRoI(this._mesh,this._camera,this._stack);null!==n?(t.innerHTML="Mean: "+n.mean.toFixed(1)+" / SD: "+n.sd.toFixed(1),i.innerHTML="Max: "+n.max.toFixed()+" / Min: "+n.min.toFixed()):(t.innerHTML="",i.innerHTML="")},i.prototype.updateDOMColor=function(){this._rectangle.style.borderColor=this._color,this._label.style.borderColor=this._color},i.prototype.updateDOM=function(){this.updateDOMColor();var e=this._stack.frame[this._params.frameIndex].ultrasoundRegions||[];if(this._area=o.a.getGeometryArea(this._geometry),this._calibrationFactor)this._area*=_Mathpow(this._calibrationFactor,2);else if(e&&0<e.length&&this._stack.lps2IJK){var t=this.getRegionByXY(e,o.a.worldToData(this._stack.lps2IJK,this._handles[0].worldPosition)),i=this.getRegionByXY(e,o.a.worldToData(this._stack.lps2IJK,this._handles[1].worldPosition));null!==t&&null!==i&&t===i&&"cm"===e[t].unitsX&&"cm"===e[t].unitsY?(this._area*=_Mathpow(e[t].deltaX,2),this._units="cm\xB2"):this._stack.frame[this._params.frameIndex].pixelSpacing?(this._area/=100,this._units="cm\xB2"):this._units="units"}else"cm\xB2"===this._units&&(this._area/=100);"units"!==this._units||this._label.hasAttribute("title")?"units"!==this._units&&this._label.hasAttribute("title")&&(this._label.removeAttribute("title"),this._label.style.color=this._colors.text):(this._label.setAttribute("title","Calibration is required to display the area in cm\xB2"),this._label.style.color=this._colors.error),this._label.querySelector(".area").innerHTML="Area: "+this._area.toFixed(2)+" "+this._units;var n=this.getRectData(this._handles[0].screenPosition,this._handles[1].screenPosition),r=this.adjustLabelTransform(this._label,this._handles[1].screenPosition.clone().add(n.paddingVector.multiplyScalar(15+this._label.offsetHeight/2)));this._rectangle.style.transform="translate3D("+n.transformX+"px, "+n.transformY+"px, 0)",this._rectangle.style.width=n.width+"px",this._rectangle.style.height=n.height+"px",this._label.style.transform="translate3D("+r.x+"px,"+r.y+"px, 0)"},i.prototype.free=function(){var e=this;this.removeEventListeners(),this._handles.forEach(function(t){e.remove(t),t.free()}),this._handles=[],this._container.removeChild(this._rectangle),this._container.removeChild(this._label),this.remove(this._mesh),this._mesh.geometry.dispose(),this._mesh.geometry=null,this._mesh.material.dispose(),this._mesh.material=null,this._mesh=null,this._geometry.dispose(),this._geometry=null,this._material.vertexShader=null,this._material.fragmentShader=null,this._material.uniforms=null,this._material.dispose(),this._material=null,this._stack=null,t.prototype.free.call(this)},i.prototype.getMeasurements=function(){return{area:this._area,units:this._units}},a(i,[{key:"targetMesh",get:function get(){return this._targetMesh},set:function set(e){this._targetMesh=e,this._handles.forEach(function(t){return t.targetMesh=e}),this.update()}},{key:"worldPosition",get:function get(){return this._worldPosition},set:function set(e){this._handles[0].worldPosition.copy(e),this._handles[1].worldPosition.copy(e),this._worldPosition.copy(e),this.update()}},{key:"calibrationFactor",get:function get(){return this._calibrationFactor},set:function set(e){this._calibrationFactor=e,this._units="cm\xB2",this.update()}}]),i}(Object(n.a)(e))};t.a=s()},function(e,t,i){"use strict";i.d(t,"b",function(){return a});var n=i(3),r=i(2),o=function(){function e(e,t){for(var i=0,n;i<t.length;i++){n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function a(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:window.THREE;return void 0===e||void 0===e.Object3D?null:function(t){function i(n,o){var a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};!function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,i);var s=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=babelHelpers.typeof(t)&&"function"!=typeof t?e:t}(this,t.call(this,n,o,a));s._widgetType="Ruler",s._calibrationFactor=a.calibrationFactor||null,s._distance=null,s._units=s._calibrationFactor||a.pixelSpacing?"mm":"units",s._moving=!1,s._domHovered=!1,s._material=null,s._geometry=null,s._mesh=null,s._line=null,s._label=null,s._handles=[];for(var l=Object(r.b)(e),c=void 0,h=0;2>h;h++){c=new l(n,o,a),s.add(c),s._handles.push(c)}return s._handles[1].active=!0,s._handles[1].tracking=!0,s._moveHandle=new l(n,o,a),s.add(s._moveHandle),s._handles.push(s._moveHandle),s._moveHandle.hide(),s.create(),s.onMove=s.onMove.bind(s),s.onHover=s.onHover.bind(s),s.addEventListeners(),s}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+babelHelpers.typeof(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,t),i.prototype.addEventListeners=function(){this._container.addEventListener("wheel",this.onMove),this._line.addEventListener("mouseenter",this.onHover),this._line.addEventListener("mouseleave",this.onHover),this._label.addEventListener("mouseenter",this.onHover),this._label.addEventListener("mouseleave",this.onHover)},i.prototype.removeEventListeners=function(){this._container.removeEventListener("wheel",this.onMove),this._line.removeEventListener("mouseenter",this.onHover),this._line.removeEventListener("mouseleave",this.onHover),this._label.removeEventListener("mouseenter",this.onHover),this._label.removeEventListener("mouseleave",this.onHover)},i.prototype.onHover=function(e){e&&this.hoverDom(e),this.hoverMesh(),this._hovered=this._handles[0].hovered||this._handles[1].hovered||this._domHovered,this._container.style.cursor=this._hovered?"pointer":"default"},i.prototype.hoverMesh=function(){},i.prototype.hoverDom=function(e){this._domHovered="mouseenter"===e.type},i.prototype.onStart=function(e){this._moveHandle.onMove(e,!0),this._handles[0].onStart(e),this._handles[1].onStart(e),this._active=this._handles[0].active||this._handles[1].active||this._domHovered,this._domHovered&&!this._handles[1].tracking&&(this._moving=!0,this._controls.enabled=!1),this.update()},i.prototype.onMove=function(e){var t=this;if(this._active){var i=this._moveHandle.worldPosition.clone();this._dragged=!0,this._moveHandle.onMove(e,!0),this._moving&&this._handles.slice(0,-1).forEach(function(e){e.worldPosition.add(t._moveHandle.worldPosition.clone().sub(i))})}else this.onHover(null);this._handles[0].onMove(e),this._handles[1].onMove(e),this.update()},i.prototype.onEnd=function(){this._handles[0].onEnd(),this._handles[1].tracking&&10>this._handles[0].screenPosition.distanceTo(this._handles[1].screenPosition)||(this._dragged||!this._active||this._handles[1].tracking||(this._selected=!this._selected,this._handles[0].selected=this._selected),this._dragged||!this._handles[1].tracking?(this._handles[1].tracking=!1,this._handles[1].onEnd()):this._handles[1].tracking=!1,this._handles[1].selected=this._selected,this._active=this._handles[0].active||this._handles[1].active,this._dragged=!1,this._moving=!1,this.update())},i.prototype.create=function(){this.createMesh(),this.createDOM()},i.prototype.createMesh=function(){this._geometry=new e.Geometry,this._geometry.vertices.push(this._handles[0].worldPosition),this._geometry.vertices.push(this._handles[1].worldPosition),this._material=new e.LineBasicMaterial,this.updateMeshColor(),this._mesh=new e.Line(this._geometry,this._material),this._mesh.visible=!0,this.add(this._mesh)},i.prototype.createDOM=function(){this._line=document.createElement("div"),this._line.className="widgets-line",this._container.appendChild(this._line),this._label=document.createElement("div"),this._label.className="widgets-label",this._container.appendChild(this._label),this.updateDOMColor()},i.prototype.hideDOM=function(){this._line.style.display="none",this._label.style.display="none",this._handles.forEach(function(e){return e.hideDOM()})},i.prototype.showDOM=function(){this._line.style.display="",this._label.style.display="",this._handles[0].showDOM(),this._handles[1].showDOM()},i.prototype.update=function(){this.updateColor(),this._handles[0].update(),this._handles[1].update();var e=this.getDistanceData(this._handles[0].worldPosition,this._handles[1].worldPosition,this._calibrationFactor);this._distance=e.distance,e.units&&(this._units=e.units),this.updateMeshColor(),this.updateMeshPosition(),this.updateDOM()},i.prototype.updateMeshColor=function(){this._material&&this._material.color.set(this._color)},i.prototype.updateMeshPosition=function(){this._geometry&&(this._geometry.verticesNeedUpdate=!0)},i.prototype.updateDOM=function(){this.updateDOMColor();var e=this.getLineData(this._handles[0].screenPosition,this._handles[1].screenPosition);this._line.style.transform="translate3D("+e.transformX+"px, "+e.transformY+"px, 0)\n      rotate("+e.transformAngle+"rad)",this._line.style.width=e.length+"px","units"!==this._units||this._label.hasAttribute("title")?"units"!==this._units&&this._label.hasAttribute("title")&&(this._label.removeAttribute("title"),this._label.style.color=this._colors.text):(this._label.setAttribute("title","Calibration is required to display the distance in mm"),this._label.style.color=this._colors.error),this._label.innerHTML=this._distance.toFixed(2)+" "+this._units;var t=_Mathabs(e.transformAngle);t>_MathPI/2&&(t=_MathPI-t);var i=_Mathtan(t)<this._label.offsetHeight/this._label.offsetWidth?this._label.offsetWidth/2/_Mathcos(t)+15:this._label.offsetHeight/2/_Mathcos(_MathPI/2-t)+15,n=e.line.normalize().multiplyScalar(i),r=e.length>2*i?this._handles[1].screenPosition.clone().sub(n):this._handles[1].screenPosition.clone().add(n),o=this.adjustLabelTransform(this._label,r);this._label.style.transform="translate3D("+o.x+"px, "+o.y+"px, 0)"},i.prototype.updateDOMColor=function(){this._line.style.backgroundColor=this._color,this._label.style.borderColor=this._color},i.prototype.free=function(){var e=this;this.removeEventListeners(),this._handles.forEach(function(t){e.remove(t),t.free()}),this._handles=[],this._container.removeChild(this._line),this._container.removeChild(this._label),this.remove(this._mesh),this._mesh.geometry.dispose(),this._mesh.geometry=null,this._mesh.material.dispose(),this._mesh.material=null,this._mesh=null,this._geometry.dispose(),this._geometry=null,this._material.vertexShader=null,this._material.fragmentShader=null,this._material.uniforms=null,this._material.dispose(),this._material=null,t.prototype.free.call(this)},i.prototype.getMeasurements=function(){return{distance:this._distance,units:this._units}},o(i,[{key:"targetMesh",get:function get(){return this._targetMesh},set:function set(e){this._targetMesh=e,this._handles.forEach(function(t){return t.targetMesh=e}),this.update()}},{key:"worldPosition",get:function get(){return this._worldPosition},set:function set(e){this._handles[0].worldPosition.copy(e),this._handles[1].worldPosition.copy(e),this._worldPosition.copy(e),this.update()}},{key:"calibrationFactor",get:function get(){return this._calibrationFactor},set:function set(e){this._calibrationFactor=e,this._units="mm",this.update()}}]),i}(Object(n.a)(e))};t.a=a()},function(e,t,i){"use strict";i.d(t,"b",function(){return s});var n=i(3),r=i(2),o=i(1),a=function(){function e(e,t){for(var i=0,n;i<t.length;i++){n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s=function s(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:window.THREE;return void 0===e||void 0===e.Object3D?null:function(t){function i(n,a){var s=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};!function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,i);var l=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=babelHelpers.typeof(t)&&"function"!=typeof t?e:t}(this,t.call(this,n,a,s));if(l._widgetType="VelocityTimeIntegral",l._regions=s.ultrasoundRegions||[],1>l._regions.length)throw new Error("Ultrasound regions should not be empty!");if(l._vMax=null,l._vMean=null,l._gMax=null,l._gMean=null,l._envTi=null,l._vti=null,l._extraInfo=null,l._initialized=!1,l._isHandleActive=!0,l._domHovered=!1,l._initialRegion=l.getRegionByXY(l._regions,o.a.worldToData(s.lps2IJK,s.worldPosition)),null===l._initialRegion)throw new Error("Invalid initial UltraSound region!");l._usPoints=[],l._material=null,l._geometry=null,l._mesh=null,l._lines=[],l._label=null,l._handles=[];var c=Object(r.b)(e),h=new c(n,a,s);return l.add(h),l._handles.push(h),l._moveHandle=new c(n,a,s),l.add(l._moveHandle),l._moveHandle.hide(),l.onMove=l.onMove.bind(l),l.onHover=l.onHover.bind(l),l.create(),l.addEventListeners(),l}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+babelHelpers.typeof(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,t),i.prototype.addEventListeners=function(){this._container.addEventListener("wheel",this.onMove),this._label.addEventListener("mouseenter",this.onHover),this._label.addEventListener("mouseleave",this.onHover)},i.prototype.removeEventListeners=function(){this._container.removeEventListener("wheel",this.onMove),this._label.removeEventListener("mouseenter",this.onHover),this._label.removeEventListener("mouseleave",this.onHover)},i.prototype.onHover=function(e){e&&this.hoverDom(e),this.hoverMesh();var t=!1;this._handles.forEach(function(e){return t=t||e.hovered}),this._hovered=t||this._domHovered,this._container.style.cursor=this._hovered?"pointer":"default"},i.prototype.hoverMesh=function(){},i.prototype.hoverDom=function(e){this._domHovered="mouseenter"===e.type},i.prototype.onStart=function(e){var t=!1;this._moveHandle.onMove(e,!0),this._handles.forEach(function(i){i.onStart(e),t=t||i.active}),this._active=t||this._domHovered,this._isHandleActive=t,this._domHovered&&(this._controls.enabled=!1),this.update()},i.prototype.onMove=function(t){if(this.active){var i=this._moveHandle.worldPosition.clone();this._moveHandle.onMove(t,!0);var n=this._moveHandle.worldPosition.clone().sub(i);if(!this.isCorrectRegion(n))return void this._moveHandle.worldPosition.copy(i);if(this._initialized)this.updateDOMContent(!0),(!this._isHandleActive||this._handles[this._handles.length-2].active||this._handles[this._handles.length-1].active)&&(this._handles.forEach(function(e){e.worldPosition.add(n)}),this._isHandleActive=!1,this._handles[this._handles.length-2].active=!1,this._handles[this._handles.length-1].active=!1,this._controls.enabled=!1);else{this._handles[this._handles.length-1].hovered=!1,this._handles[this._handles.length-1].active=!1,this._handles[this._handles.length-1].tracking=!1;var o=new(Object(r.b)(e))(this._targetMesh,this._controls,this._params);o.hovered=!0,o.active=!0,o.tracking=!0,this.add(o),this._handles.push(o),this.createLine()}this._dragged=!0}else this.onHover(null);this._handles.forEach(function(e){e.onMove(t)}),this.active&&2<this._handles.length&&this.pushPopHandle(),this.update()},i.prototype.onEnd=function(){var e=this;if(!(3>this._handles.length)){var t=!1;this._handles.slice(0,-1).forEach(function(e){e.onEnd(),t=t||e.active}),this._dragged||!this._handles[this._handles.length-1].tracking?(this._handles[this._handles.length-1].tracking=!1,this._handles[this._handles.length-1].onEnd()):this._handles[this._handles.length-1].tracking=!1,!this._dragged&&this._initialized||(this.finalize(),this.updateDOMContent()),!this._dragged&&this._active&&(this._selected=!this._selected,this._handles.forEach(function(t){return t.selected=e._selected})),this._active=t||this._handles[this._handles.length-1].active,this._isHandleActive=t,this._dragged=!1,this._initialized=!0,this.update()}},i.prototype.isCorrectRegion=function(e){var t=this,i=!0;return this._handles.forEach(function(n,r){!n.active&&t._isHandleActive||(i=i&&t.checkHandle(r,e))}),i},i.prototype.checkHandle=function(e,t){var i=this.getRegionByXY(this._regions,o.a.worldToData(this._params.lps2IJK,this._handles[e].worldPosition.clone().add(t)));return null!==i&&i===this._initialRegion&&"cm/sec"===this._regions[i].unitsY},i.prototype.create=function(){this.createMaterial(),this.createDOM()},i.prototype.createMaterial=function(){this._material=new e.LineBasicMaterial},i.prototype.createDOM=function(){this._label=document.createElement("div"),this._label.className="widgets-label";var e=document.createElement("div");["vmax","vmean","gmax","gmean","envti","vti","info"].forEach(function(t){var i=document.createElement("div");i.className=t,e.appendChild(i)}),this._label.appendChild(e),this._container.appendChild(this._label),this.updateDOMColor()},i.prototype.createLine=function(){var e=document.createElement("div");e.className="widgets-line",e.addEventListener("mouseenter",this.onHover),e.addEventListener("mouseleave",this.onHover),this._lines.push(e),this._container.appendChild(e)},i.prototype.pushPopHandle=function(){var e=this._handles[this._handles.length-3],t=this._handles[this._handles.length-2],i=this._handles[this._handles.length-1],n=this.isPointOnLine(e.worldPosition,t.worldPosition,i.worldPosition);return(n||25>e.screenPosition.distanceTo(i.screenPosition))&&(this.remove(t),t.free(),this._handles[this._handles.length-2]=i,this._handles.pop(),this._container.removeChild(this._lines.pop())),n},i.prototype.isPointOnLine=function(t,i,n){return!new e.Vector3().crossVectors(t.clone().sub(n),i.clone().sub(n)).length()},i.prototype.finalize=function(){var t=this;this._initialized&&this._handles.splice(-2).forEach(function(e){t.remove(e),e.free()});var i=o.a.worldToData(this._params.lps2IJK,this._handles[0]._worldPosition),n=o.a.worldToData(this._params.lps2IJK,this._handles[this._handles.length-1]._worldPosition),a=this._regions[this.getRegionByXY(this._regions,i)],s=a.y0+(a.axisY||0),l=Object(r.b)(e),c={hideHandleMesh:this._params.hideHandleMesh||!1};for(i.y=s,n.y=s,this._usPoints=[this.getPointInRegion(a,n),this.getPointInRegion(a,i)],c.worldPosition=n.applyMatrix4(this._params.ijk2LPS),this._handles.push(new l(this._targetMesh,this._controls,c)),this.add(this._handles[this._handles.length-1]),c.worldPosition=i.applyMatrix4(this._params.ijk2LPS),this._handles.push(new l(this._targetMesh,this._controls,c)),this.add(this._handles[this._handles.length-1]);this._lines.length<this._handles.length;){this.createLine()}},i.prototype.update=function(){this.updateColor(),this._handles.forEach(function(e){return e.update()}),this.updateMesh(),this.updateDOMColor(),this.updateDOMPosition()},i.prototype.updateValues=function(){var e=this,t=this._regions[this.getRegionByXY(this._regions,o.a.worldToData(this._params.lps2IJK,this._handles[0]._worldPosition))],i={xMin:_NumberPOSITIVE_INFINITY,xMax:_NumberNEGATIVE_INFINITY,yMin:_NumberPOSITIVE_INFINITY,yMax:_NumberNEGATIVE_INFINITY},n,r,a,s=0;this._vMax=0,this._vMean=0,this._gMean=0,this._usPoints.splice(2),this._handles.slice(0,-2).forEach(function(l){var c=e.getPointInRegion(t,o.a.worldToData(e._params.lps2IJK,l._worldPosition)),h=_Mathabs(c.y/100),u=4*_Mathpow(h,2);if((null===e._vMax||h>e._vMax)&&(e._vMax=h),i.xMin=_Mathmin(c.x,i.xMin),i.xMax=_Mathmax(c.x,i.xMax),i.yMin=_Mathmin(c.y,i.yMin),i.yMax=_Mathmax(c.y,i.yMax),a){var f=_Mathabs(c.x-a);s+=f,e._vMean+=f*(n+h)/2,e._gMean+=f*(r+u)/2}n=h,r=u,a=c.x,e._usPoints.push(c)}),this._gMax=4*_Mathpow(this._vMax,2),this._vMean/=s,this._gMean/=s,this._envTi=1e3*s,this._vti=this.getArea(this._usPoints),this._shapeWarn=i.xMax-i.xMin!==s||0>i.yMin!=0>i.yMax},i.prototype.updateMesh=function(){var t=this;this._mesh&&this.remove(this._mesh),this._geometry=new e.Geometry,this._handles.forEach(function(e){return t._geometry.vertices.push(e.worldPosition)}),this._geometry.vertices.push(this._handles[0].worldPosition),this._geometry.verticesNeedUpdate=!0,this.updateMeshColor(),this._mesh=new e.Line(this._geometry,this._material),this._mesh.visible=!0,this.add(this._mesh)},i.prototype.updateMeshColor=function(){this._material&&this._material.color.set(this._color)},i.prototype.updateDOMColor=function(){var e=this;2<=this._handles.length&&this._lines.forEach(function(t){return t.style.backgroundColor=e._color}),this._label.style.borderColor=this._color},i.prototype.updateDOMContent=function(e){var t=this._label.querySelector(".vmax"),i=this._label.querySelector(".vmean"),n=this._label.querySelector(".gmax"),r=this._label.querySelector(".gmean"),o=this._label.querySelector(".envti"),a=this._label.querySelector(".vti"),s=this._label.querySelector(".info");if(e)return t.innerHTML="",i.innerHTML="",n.innerHTML="",r.innerHTML="",o.innerHTML="",a.innerHTML="",void(s.innerHTML="");this.updateValues(),this._shapeWarn&&!this._label.hasAttribute("title")?(this._label.setAttribute("title","Values may be incorrect due to invalid curve."),this._label.style.color=this._colors.error):!this._shapeWarn&&this._label.hasAttribute("title")&&(this._label.removeAttribute("title"),this._label.style.color=this._colors.text),t.innerHTML="Vmax: "+this._vMax.toFixed(2)+" m/s",i.innerHTML="Vmean: "+this._vMean.toFixed(2)+" m/s",n.innerHTML="Gmax: "+this._gMax.toFixed(2)+" mmhg",r.innerHTML="Gmean: "+this._gMean.toFixed(2)+" mmhg",o.innerHTML="Env.Ti: "+this._envTi.toFixed(1)+" ms",a.innerHTML="VTI: "+this._vti.toFixed(2)+" cm",s.innerHTML=this._extraInfo},i.prototype.updateDOMPosition=function(){var e=this;if(!(2>this._handles.length)){var t=null;this._lines.forEach(function(i,n){var r=e.getLineData(e._handles[n].screenPosition,e._handles[n+1===e._handles.length?0:n+1].screenPosition);i.style.transform="translate3D("+r.transformX+"px, "+r.transformY+"px, 0)\n                    rotate("+r.transformAngle+"rad)",i.style.width=r.length+"px",(null===t||t.y<e._handles[n].screenPosition.y)&&(t=e._handles[n].screenPosition.clone())}),this._initialized&&(t.y+=15+this._label.offsetHeight/2,t=this.adjustLabelTransform(this._label,t),this._label.style.transform="translate3D("+t.x+"px, "+t.y+"px, 0)")}},i.prototype.hideDOM=function(){this._handles.forEach(function(e){return e.hideDOM()}),this._lines.forEach(function(e){return e.style.display="none"}),this._label.style.display="none"},i.prototype.showDOM=function(){this._handles.forEach(function(e){return e.showDOM()}),this._lines.forEach(function(e){return e.style.display=""}),this._label.style.display=""},i.prototype.free=function(){var e=this;this.removeEventListeners(),this._handles.forEach(function(t){e.remove(t),t.free()}),this._handles=[],this._usPoints=[],this.remove(this._moveHandle),this._moveHandle.free(),this._moveHandle=null,this._lines.forEach(function(t){t.removeEventListener("mouseenter",e.onHover),t.removeEventListener("mouseleave",e.onHover),e._container.removeChild(t)}),this._lines=[],this._container.removeChild(this._label),this._mesh&&(this.remove(this._mesh),this._mesh.geometry.dispose(),this._mesh.geometry=null,this._mesh.material.dispose(),this._mesh.material=null,this._mesh=null),this._geometry&&(this._geometry.dispose(),this._geometry=null),this._material.vertexShader=null,this._material.fragmentShader=null,this._material.uniforms=null,this._material.dispose(),this._material=null,t.prototype.free.call(this)},i.prototype.getMeasurements=function(){return{vMax:this._vMax,vMean:this._vMean,gMax:this._gMax,gMean:this._gMean,envTi:this._envTi,vti:this._vti}},a(i,[{key:"targetMesh",get:function get(){return this._targetMesh},set:function set(e){this._targetMesh=e,this._handles.forEach(function(t){return t.targetMesh=e}),this._moveHandle.targetMesh=e,this.update()}},{key:"worldPosition",get:function get(){return this._worldPosition},set:function set(e){this._handles.forEach(function(t){return t._worldPosition.copy(e)}),this._worldPosition.copy(e),this.update()}},{key:"extraInfo",get:function get(){return this._extraInfo},set:function set(e){this._extraInfo=e,this._label.querySelector(".info").innerHTML=e}}]),i}(Object(n.a)(e))};t.a=s()},function(e,t,i){"use strict";i.d(t,"b",function(){return l});var n=i(3),r=i(2),o=i(42),a=i(1),s=function(){function e(e,t){for(var i=0,n;i<t.length;i++){n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=function l(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:window.THREE;return void 0===e||void 0===e.Object3D?null:function(t){function i(n,o){var a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};!function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,i);var s=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=babelHelpers.typeof(t)&&"function"!=typeof t?e:t}(this,t.call(this,n,o,a));s._widgetType="VoxelProbe",s._stack=a.stack,s._container.style.cursor="pointer",s._controls.enabled=!1,s._initialized=!1,s._active=!0,s._moving=!0,s._domHovered=!1,s._label=null;var l=Object(r.b)(e);return s._handle=new l(n,o,a),s.add(s._handle),s._moveHandle=new l(n,o,a),s.add(s._moveHandle),s._moveHandle.hide(),s.create(),s.onMove=s.onMove.bind(s),s.onHover=s.onHover.bind(s),s.addEventListeners(),s}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+babelHelpers.typeof(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,t),i.prototype.addEventListeners=function(){this._label.addEventListener("mouseenter",this.onHover),this._label.addEventListener("mouseleave",this.onHover),this._container.addEventListener("wheel",this.onMove)},i.prototype.removeEventListeners=function(){this._label.removeEventListener("mouseenter",this.onHover),this._label.removeEventListener("mouseleave",this.onHover),this._container.removeEventListener("wheel",this.onMove)},i.prototype.onStart=function(e){this._moveHandle.onMove(e,!0),this._handle.onStart(e),this._active=this._handle.active||this._domHovered,this._domHovered&&(this._moving=!0,this._controls.enabled=!1),this.update()},i.prototype.onMove=function(e){if(this._active){var t=this._moveHandle.worldPosition.clone();this._dragged=!0,this._moveHandle.onMove(e,!0),this._moving&&this._handle.worldPosition.add(this._moveHandle.worldPosition.clone().sub(t))}else this.onHover(null);this._handle.onMove(e),this.update()},i.prototype.onEnd=function(){this._handle.onEnd(),!this._dragged&&this._active&&this._initialized&&(this._selected=!this._selected,this._handle.selected=this._selected),this._initialized=!0,this._active=this._handle.active,this._dragged=!1,this._moving=!1,this.update()},i.prototype.onHover=function(e){e&&this.hoverDom(e),this._hovered=this._handle.hovered||this._domHovered,this._container.style.cursor=this._hovered?"pointer":"default"},i.prototype.hoverDom=function(e){this._domHovered="mouseenter"===e.type},i.prototype.create=function(){this.createVoxel(),this.createDOM()},i.prototype.createVoxel=function(){this._voxel=new o.a,this._voxel.id=this.id},i.prototype.createDOM=function(){this._label=document.createElement("div"),this._label.className="widgets-label";var e=document.createElement("div"),t=document.createElement("div");t.className="lpsPosition",e.appendChild(t);var i=document.createElement("div");i.className="ijkPosition",e.appendChild(i);var n=document.createElement("div");n.className="value",e.appendChild(n),this._label.appendChild(e),this._container.appendChild(this._label),this.updateDOMColor()},i.prototype.update=function(){this.updateColor(),this._handle.update(),this._worldPosition.copy(this._handle.worldPosition),this.updateVoxel(),this.updateDOM()},i.prototype.updateVoxel=function(){this._voxel.worldCoordinates=this._worldPosition,this._voxel.dataCoordinates=a.a.worldToData(this._stack.lps2IJK,this._worldPosition);var e=a.a.getPixelData(this._stack,this._voxel.dataCoordinates);this._voxel.value=null===e||1<this._stack.numberOfChannels?"NA":a.a.rescaleSlopeIntercept(e,this._stack.rescaleSlope,this._stack.rescaleIntercept).toFixed()},i.prototype.updateDOM=function(){var e=this._label.querySelector(".lpsPosition"),t=this._label.querySelector(".ijkPosition"),i=this._label.querySelector(".value");e.innerHTML="LPS: \n      "+this._voxel.worldCoordinates.x.toFixed(2)+" :\n      "+this._voxel.worldCoordinates.y.toFixed(2)+" :\n      "+this._voxel.worldCoordinates.z.toFixed(2),t.innerHTML="IJK: \n      "+this._voxel.dataCoordinates.x+" :\n      "+this._voxel.dataCoordinates.y+" :\n      "+this._voxel.dataCoordinates.z,i.innerHTML="Value: "+this._voxel.value,this.updateDOMColor();var n=this.adjustLabelTransform(this._label,this._handle.screenPosition,!0);this._label.style.transform="translate3D("+n.x+"px, "+n.y+"px, 0)"},i.prototype.updateDOMColor=function(){this._label.style.borderColor=this._color},i.prototype.free=function(){this.removeEventListeners(),this.remove(this._handle),this._handle.free(),this._handle=null,this.remove(this._moveHandle),this._moveHandle.free(),this._moveHandle=null,this._container.removeChild(this._label),this._stack=null,this._voxel=null,t.prototype.free.call(this)},i.prototype.hideDOM=function(){this._label.style.display="none",this._handle.hideDOM()},i.prototype.showDOM=function(){this._label.style.display="",this._handle.showDOM()},s(i,[{key:"targetMesh",get:function get(){return this._targetMesh},set:function set(e){this._targetMesh=e,this._handle.targetMesh=e,this._moveHandle.targetMesh=e,this.update()}},{key:"worldPosition",get:function get(){return this._worldPosition},set:function set(e){this._handle.worldPosition.copy(e),this._moveHandle.worldPosition.copy(e),this._worldPosition.copy(e),this.update()}},{key:"active",get:function get(){return this._active},set:function set(e){this._active=e,this._controls.enabled=!this._active,this.update()}}]),i}(Object(n.a)(e))};t.a=l()},function(e,t,i){"use strict";var _NumberEPSILON=Number.EPSILON;i.d(t,"a",function(){return o});var n=i(44),r=i(0);function o(e,t,i,n){this._x=e||0,this._y=t||0,this._z=i||0,this._w=void 0!==n?n:1}Object.assign(o,{slerp:function slerp(e,t,i,n){return i.copy(e).slerp(t,n)},slerpFlat:function slerpFlat(e,t,i,n,r,o,a){var s=i[n+0],l=i[n+1],c=i[n+2],h=i[n+3],u=r[o+0],f=r[o+1],d=r[o+2],p=r[o+3];if(h!==p||s!==u||l!==f||c!==d){var _=1-a,m=s*u+l*f+c*d+h*p,b=0<=m?1:-1,y=1-m*m;if(y>_NumberEPSILON){var g=_Mathsqrt(y),v=_Mathatan(g,m*b);_=_Mathsin(_*v)/g,a=_Mathsin(a*v)/g}var A=a*b;if(s=s*_+u*A,l=l*_+f*A,c=c*_+d*A,h=h*_+p*A,_===1-a){var w=1/_Mathsqrt(s*s+l*l+c*c+h*h);s*=w,l*=w,c*=w,h*=w}}e[t]=s,e[t+1]=l,e[t+2]=c,e[t+3]=h}}),Object.defineProperties(o.prototype,{x:{get:function get(){return this._x},set:function set(e){this._x=e,this.onChangeCallback()}},y:{get:function get(){return this._y},set:function set(e){this._y=e,this.onChangeCallback()}},z:{get:function get(){return this._z},set:function set(e){this._z=e,this.onChangeCallback()}},w:{get:function get(){return this._w},set:function set(e){this._w=e,this.onChangeCallback()}}}),Object.assign(o.prototype,{isQuaternion:!0,set:function set(e,t,i,n){return this._x=e,this._y=t,this._z=i,this._w=n,this.onChangeCallback(),this},clone:function clone(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this.onChangeCallback(),this},setFromEuler:function setFromEuler(e,t){if(!e||!e.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var i=e._x,n=e._y,r=e._z,o=e.order,a=_Mathcos,s=_Mathsin,l=a(i/2),c=a(n/2),h=a(r/2),u=s(i/2),f=s(n/2),d=s(r/2);return"XYZ"===o?(this._x=u*c*h+l*f*d,this._y=l*f*h-u*c*d,this._z=l*c*d+u*f*h,this._w=l*c*h-u*f*d):"YXZ"===o?(this._x=u*c*h+l*f*d,this._y=l*f*h-u*c*d,this._z=l*c*d-u*f*h,this._w=l*c*h+u*f*d):"ZXY"===o?(this._x=u*c*h-l*f*d,this._y=l*f*h+u*c*d,this._z=l*c*d+u*f*h,this._w=l*c*h-u*f*d):"ZYX"===o?(this._x=u*c*h-l*f*d,this._y=l*f*h+u*c*d,this._z=l*c*d-u*f*h,this._w=l*c*h+u*f*d):"YZX"===o?(this._x=u*c*h+l*f*d,this._y=l*f*h+u*c*d,this._z=l*c*d-u*f*h,this._w=l*c*h-u*f*d):"XZY"===o&&(this._x=u*c*h-l*f*d,this._y=l*f*h-u*c*d,this._z=l*c*d+u*f*h,this._w=l*c*h+u*f*d),!1!==t&&this.onChangeCallback(),this},setFromAxisAngle:function setFromAxisAngle(e,t){var i=t/2,n=_Mathsin(i);return this._x=e.x*n,this._y=e.y*n,this._z=e.z*n,this._w=_Mathcos(i),this.onChangeCallback(),this},setFromRotationMatrix:function setFromRotationMatrix(e){var t,i=e.elements,n=i[0],r=i[4],o=i[8],a=i[1],s=i[5],l=i[9],c=i[2],h=i[6],u=i[10],f=n+s+u;return 0<f?(t=.5/_Mathsqrt(f+1),this._w=.25/t,this._x=(h-l)*t,this._y=(o-c)*t,this._z=(a-r)*t):n>s&&n>u?(t=2*_Mathsqrt(1+n-s-u),this._w=(h-l)/t,this._x=.25*t,this._y=(r+a)/t,this._z=(o+c)/t):s>u?(t=2*_Mathsqrt(1+s-n-u),this._w=(o-c)/t,this._x=(r+a)/t,this._y=.25*t,this._z=(l+h)/t):(t=2*_Mathsqrt(1+u-n-s),this._w=(a-r)/t,this._x=(o+c)/t,this._y=(l+h)/t,this._z=.25*t),this.onChangeCallback(),this},setFromUnitVectors:function(){var e,t=new r.a;return function(i,n){return void 0===t&&(t=new r.a),1e-6>(e=i.dot(n)+1)?(e=0,_Mathabs(i.x)>_Mathabs(i.z)?t.set(-i.y,i.x,0):t.set(0,-i.z,i.y)):t.crossVectors(i,n),this._x=t.x,this._y=t.y,this._z=t.z,this._w=e,this.normalize()}}(),angleTo:function angleTo(e){return 2*_Mathacos(_Mathabs(n.a.clamp(this.dot(e),-1,1)))},rotateTowards:function rotateTowards(e,t){var i=this.angleTo(e);if(0===i)return this;var n=_Mathmin(1,t/i);return this.slerp(e,n),this},inverse:function inverse(){return this.conjugate()},conjugate:function conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this.onChangeCallback(),this},dot:function dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w},lengthSq:function lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function length(){return _Mathsqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function normalize(){var e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this.onChangeCallback(),this},multiply:function multiply(e,t){return void 0!==t?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,t)):this.multiplyQuaternions(this,e)},premultiply:function premultiply(e){return this.multiplyQuaternions(e,this)},multiplyQuaternions:function multiplyQuaternions(e,t){var i=e._x,n=e._y,r=e._z,o=e._w,a=t._x,s=t._y,l=t._z,c=t._w;return this._x=i*c+o*a+n*l-r*s,this._y=n*c+o*s+r*a-i*l,this._z=r*c+o*l+i*s-n*a,this._w=o*c-i*a-n*s-r*l,this.onChangeCallback(),this},slerp:function slerp(e,t){if(0===t)return this;if(1===t)return this.copy(e);var i=this._x,n=this._y,r=this._z,o=this._w,a=o*e._w+i*e._x+n*e._y+r*e._z;if(0>a?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),1<=a)return this._w=o,this._x=i,this._y=n,this._z=r,this;var s=1-a*a;if(s<=_NumberEPSILON){var l=1-t;return this._w=l*o+t*this._w,this._x=l*i+t*this._x,this._y=l*n+t*this._y,this._z=l*r+t*this._z,this.normalize()}var c=_Mathsqrt(s),h=_Mathatan(c,a),u=_Mathsin((1-t)*h)/c,f=_Mathsin(t*h)/c;return this._w=o*u+this._w*f,this._x=i*u+this._x*f,this._y=n*u+this._y*f,this._z=r*u+this._z*f,this.onChangeCallback(),this},equals:function equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w},fromArray:function fromArray(e,t){return void 0===t&&(t=0),this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this.onChangeCallback(),this},toArray:function toArray(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e},onChange:function onChange(e){return this.onChangeCallback=e,this},onChangeCallback:function onChangeCallback(){}})},function(e,t,i){(function(t,n){e.exports=function(e){var r,o=void 0!==(e=e||{})?e:{},a={};for(r in o){o.hasOwnProperty(r)&&(a[r]=o[r])}o.arguments=[],o.thisProgram="./this.program",o.quit=function(e,t){throw t},o.preRun=[],o.postRun=[];var s,l,c=!1,h=!1,u=!1,f=!1;if(o.ENVIRONMENT){if("WEB"===o.ENVIRONMENT)c=!0;else if("WORKER"===o.ENVIRONMENT)h=!0;else if("NODE"===o.ENVIRONMENT)u=!0;else{if("SHELL"!==o.ENVIRONMENT)throw new Error("Module['ENVIRONMENT'] value is not valid. must be one of: WEB|WORKER|NODE|SHELL.");f=!0}}else c="object"==("undefined"===typeof window?"undefined":babelHelpers.typeof(window)),h="function"==typeof importScripts,u="object"==babelHelpers.typeof(t)&&!c&&!h,f=!c&&!u&&!h;u?(o.read=function(e,t){var n;return(n=Ee(e))||(s||(s=i(145)),l||(l=i(146)),e=l.normalize(e),n=s.readFileSync(e)),t?n:n.toString()},o.readBinary=function(e){var t=o.read(e,!0);return t.buffer||(t=new Uint8Array(t)),y(t.buffer),t},1<t.argv.length&&(o.thisProgram=t.argv[1].replace(/\\/g,"/")),o.arguments=t.argv.slice(2),t.on("uncaughtException",function(e){if(!babelHelpers.instanceof(e,He))throw e}),t.on("unhandledRejection",function(e,i){t.exit(1)}),o.inspect=function(){return"[Emscripten Module object]"}):f?("undefined"!=typeof read&&(o.read=function(e){var t=Ee(e);return t?Ie(t):read(e)}),o.readBinary=function(e){var t;return(t=Ee(e))?t:"function"==typeof readbuffer?new Uint8Array(readbuffer(e)):(y("object"==babelHelpers.typeof(t=read(e,"binary"))),t)},"undefined"!=typeof scriptArgs?o.arguments=scriptArgs:void 0!==arguments&&(o.arguments=arguments),"function"==typeof quit&&(o.quit=function(e,t){quit(e)})):(c||h)&&(o.read=function(e){try{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText}catch(t){var i=Ee(e);if(i)return Ie(i);throw t}},h&&(o.readBinary=function(e){try{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}catch(t){var i=Ee(e);if(i)return i;throw t}}),o.readAsync=function(e,t,i){var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="arraybuffer",n.onload=function(){if(200==n.status||0==n.status&&n.response)t(n.response);else{var r=Ee(e);r?t(r.buffer):i()}},n.onerror=i,n.send(null)},void 0!==arguments&&(o.arguments=arguments),o.setWindowTitle=function(e){document.title=e});for(r in o.print="undefined"!=typeof console?console.log.bind(console):"undefined"!=typeof print?print:null,o.printErr="undefined"!=typeof printErr?printErr:"undefined"!=typeof console&&console.warn.bind(console)||o.print,o.print=o.print,o.printErr=o.printErr,a){a.hasOwnProperty(r)&&(o[r]=a[r])}a=void 0;var d=16;function p(e){y(!G);var t=R;return R=-16&R+e+15,t}function _(e,t){return t||(t=d),e=_Mathceil(e/t)*t}function m(e){switch(e){case"i1":case"i8":return 1;case"i16":return 2;case"i32":return 4;case"i64":return 8;case"float":return 4;case"double":return 8;default:if("*"===e[e.length-1])return 4;if("i"===e[0]){var t=parseInt(e.substr(1));return y(0==t%8),t/8}return 0;}}[];var b=0;function y(e,t){e||ze("Assertion failed: "+t)}var g={stackSave:function stackSave(){Re()},stackRestore:function stackRestore(){De()},arrayToC:function arrayToC(e){var t=Te(e.length);return re(e,t),t},stringToC:function stringToC(e){var t=0;if(null!==e&&void 0!==e&&0!==e){var i=1+(e.length<<2);!function(e,t,i){!function(e,t,i,n){if(!(0<n))return 0;for(var r=i+n-1,o=0,a;o<e.length;++o){a=e.charCodeAt(o);if(55296<=a&&57343>=a&&(a=65536+((1023&a)<<10)|1023&e.charCodeAt(++o)),127>=a){if(i>=r)break;t[i++]=a}else if(2047>=a){if(i+1>=r)break;t[i++]=192|a>>6,t[i++]=128|63&a}else if(65535>=a){if(i+2>=r)break;t[i++]=224|a>>12,t[i++]=128|63&a>>6,t[i++]=128|63&a}else if(2097151>=a){if(i+3>=r)break;t[i++]=240|a>>18,t[i++]=128|63&a>>12,t[i++]=128|63&a>>6,t[i++]=128|63&a}else if(67108863>=a){if(i+4>=r)break;t[i++]=248|a>>24,t[i++]=128|63&a>>18,t[i++]=128|63&a>>12,t[i++]=128|63&a>>6,t[i++]=128|63&a}else{if(i+5>=r)break;t[i++]=252|a>>30,t[i++]=128|63&a>>24,t[i++]=128|63&a>>18,t[i++]=128|63&a>>12,t[i++]=128|63&a>>6,t[i++]=128|63&a}}t[i]=0}(e,B,t,i)}(e,t=Te(i),i)}return t}},v={string:g.stringToC,array:g.arrayToC};function A(e,t,i,n){switch("*"===(i=i||"i8").charAt(i.length-1)&&(i="i32"),i){case"i1":case"i8":C[e>>0]=t;break;case"i16":M[e>>1]=t;break;case"i32":P[e>>2]=t;break;case"i64":tempI64=[t>>>0,(tempDouble=t,1<=+oe(tempDouble)?0<tempDouble?(0|ce(+se(tempDouble/4294967296),4294967295))>>>0:~~+ae((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],P[e>>2]=tempI64[0],P[e+4>>2]=tempI64[1];break;case"float":T[e>>2]=t;break;case"double":D[e>>3]=t;break;default:ze("invalid type for setValue: "+i);}}var w=2,x=4;function k(e,t){if(0===t||!e)return"";for(var i,n=0,r=0;n|=i=B[e+r>>0],(0!=i||t)&&(r++,!t||r!=t);){;}t||(t=r);var o="";if(128>n){for(var a;0<t;){a=_StringfromCharCode.apply(String,B.subarray(e,e+_Mathmin(t,1024))),o=o?o+a:a,e+=1024,t-=1024}return o}return function(e){return S(B,e)}(e)}var I="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function S(e,t){for(var i=t;e[i];){++i}if(16<i-t&&e.subarray&&I)return I.decode(e.subarray(t,i));for(var n,r,o,a,s,l="";;){if(!(n=e[t++]))return l;if(128&n){if(r=63&e[t++],192!=(224&n)){if(o=63&e[t++],224==(240&n)?n=(15&n)<<12|r<<6|o:(a=63&e[t++],240==(248&n)?n=(7&n)<<18|r<<12|o<<6|a:(s=63&e[t++],n=248==(252&n)?(3&n)<<24|r<<18|o<<12|a<<6|s:(1&n)<<30|r<<24|o<<18|a<<12|s<<6|63&e[t++])),65536>n)l+=_StringfromCharCode(n);else{var c=n-65536;l+=_StringfromCharCode(55296|c>>10,56320|1023&c)}}else l+=_StringfromCharCode((31&n)<<6|r);}else l+=_StringfromCharCode(n)}}"undefined"!=typeof TextDecoder&&new TextDecoder("utf-16le");var E,C,B,M,P,T,D,R,G,O,F,L,Z,H,N=65536,z=16777216,V=16777216;function U(e,t){return 0<e%t&&(e+=t-e%t),e}function j(){o.HEAP8=C=new Int8Array(E),o.HEAP16=M=new Int16Array(E),o.HEAP32=P=new Int32Array(E),o.HEAPU8=B=new Uint8Array(E),o.HEAPU16=new Uint16Array(E),o.HEAPU32=new Uint32Array(E),o.HEAPF32=T=new Float32Array(E),o.HEAPF64=D=new Float64Array(E)}function W(){var e=o.usingWasm?N:z,t=2147483648-e;if(P[Z>>2]>t)return!1;var i=X;for(X=_Mathmax(X,V);X<P[Z>>2];){X=536870912>=X?U(2*X,e):_Mathmin(U((3*X+2147483648)/4,e),t)}var n=o.reallocBuffer(X);return n&&n.byteLength==X?(function(e){o.buffer=E=e}(n),j(),!0):(X=i,!1)}R=O=Z=0,G=!1,o.reallocBuffer||(o.reallocBuffer=function(e){var t;try{if(ArrayBuffer.transfer)t=ArrayBuffer.transfer(E,e);else{var i=C;t=new ArrayBuffer(e),new Int8Array(t).set(i)}}catch(e){return!1}return!!Me(t)&&t});try{(H=Function.prototype.call.bind(Object.getOwnPropertyDescriptor(ArrayBuffer.prototype,"byteLength").get))(new ArrayBuffer(4))}catch(e){H=function H(e){return e.byteLength}}var Y=o.TOTAL_STACK||5242880,X=o.TOTAL_MEMORY||16777216;if(X<Y&&o.printErr("TOTAL_MEMORY should be larger than TOTAL_STACK, was "+X+"! (TOTAL_STACK="+Y+")"),o.buffer?E=o.buffer:(E=new ArrayBuffer(X),o.buffer=E),j(),P[0]=1668509029,M[1]=25459,115!==B[2]||99!==B[3])throw"Runtime error: expected the system to be little-endian!";function Q(e){for(;0<e.length;){var t=e.shift();if("function"!=typeof t){var i=t.func;"number"==typeof i?void 0===t.arg?o.dynCall_v(i):o.dynCall_vi(i,t.arg):i(void 0===t.arg?null:t.arg)}else t()}}var J=[],q=[],K=[],$=[],ee=[],te=!1;function ie(e){J.unshift(e)}function ne(e){ee.unshift(e)}function re(e,t){C.set(e,t)}var oe=_Mathabs,ae=(_Mathcos,_Mathsin,_Mathtan,_Mathacos,Math.asin,Math.atan,_Mathatan,Math.exp,_Mathlog,_Mathsqrt,_Mathceil),se=_Mathfloor,le=_Mathpow,ce=(Math.imul,Math.fround,_Mathround,_Mathmin),he=(_Mathmax,Math.clz32,Math.trunc,0),ue=null,fe=null;o.preloadedImages={},o.preloadedAudios={};var de=null,pe="data:application/octet-stream;base64,";function _e(e){return String.prototype.startsWith?e.startsWith(pe):0===e.indexOf(pe)}R=26360,q.push(),de="data:application/octet-stream;base64,g8DKoUW2+z9/+zpwzojqP3/7OnDOiOo/g8DKoUW2+z/hehSuR+H8P166SQwCK/k/AAAAAAAA8D8AAAAAAAD4PwAAAAAAAAZAAAAAAACAFUBcj8L1KFwlQNejcD0KVzVA9ihcj8JVRUCF61G4HlVVQGZmZmZmVmVAzczMzMxUdUDP91PjpZvwP0a28/3UePk/JzEIrBxaB0AdWmQ7388WQClcj8L1qCZApHA9CtejNkAAAAAAAKBGQB+F61G4nlZAzczMzMycZkAAAAAAAAAAAM/3U+Olm/A/Rrbz/dR4+T8nMQisHFoHQB1aZDvfzxZAKVyPwvWoJkCkcD0K16M2QAAAAAAAoEZAH4XrUbieVkDNzMzMzJxmQAAAAAAAAAAArfpcbcX+5j9Wfa62Yn/tP8dLN4lBYPk/8tJNYhBYCED6fmq8dBMYQIXrUbgeBShAAAAAAAAAOEBcj8L1KPxHQOxRuB6F+1dAAAAAAAAAAAAAAAAAAADwP3E9CtejcP8/aJHtfD+1EEB1kxgEVs4gQGZmZmZm5jBA7FG4HoXrQEBcj8L1KOxQQJqZmZmZ6WBAmpmZmZnpcEAzMzMzM+eAQJMYBFYOLQBAtvP91HjpD0D2KFyPwrUgQArXo3A9CjFAw/UoXI8iQUC4HoXrUShRQJqZmZmZKWFAmpmZmZkpcUAAAAAAACiBQAAAAAAAAAAAkxgEVg4tAEC28/3UeOkPQPYoXI/CtSBACtejcD0KMUDD9ShcjyJBQLgehetRKFFAmpmZmZkpYUCamZmZmSlxQAAAAAAAKIFAAAAAAAAAAACkcD0K16MAQOxRuB6F6w5Ad76fGi+dIECuR+F6FC4xQHsUrkfhWkFA9ihcj8JlUUCamZmZmWlhQJqZmZmZaXFAmpmZmZlpgUAAAAAAAAAAAAQAAABDUFJMAAAAAAAAAABMUkNQAAAAAAMAAABQQ1JMAAAAAAEAAABSTENQAAAAAAIAAABSUENMAAAAAP////8AAAAAAAAAAAEAAAACAAAAAwAAAAQAAACQ/wAADAAAAAEAAABS/wAAFAAAAAIAAABT/wAAFAAAAAMAAABe/wAAFAAAAAQAAABc/wAAFAAAAAUAAABd/wAAFAAAAAYAAABf/wAAFAAAAAcAAABR/wAAAgAAAAgAAABV/wAABAAAAAkAAABX/wAABAAAAAoAAABY/wAAEAAAAAsAAABg/wAABAAAAAwAAABh/wAAEAAAAA0AAACR/wAAAAAAAAAAAABj/wAABAAAAA4AAABk/wAAFAAAAA8AAAB0/wAAFAAAABAAAAB4/wAABAAAABEAAAB1/wAAFAAAABIAAAB3/wAAFAAAABMAAAAAAAAAFAAAAAAAAAACAAAABAAAAAQAAAAIAAAABQAAAAYAAAAHAAAACAAAAAkAAAAKAAAACwAAAAwAAAAgIFBqFAAAAHB5dGYVAAAAaDJwahYAAAByZGhpFwAAAHJsb2MYAAAAY2NwYhkAAABybGNwGgAAAHBhbWMbAAAAZmVkYxwAAAABVgAAAAAAAKQEAAC0BAAAAVYAAAEAAAC0BAAApAQAAAE0AAAAAAAAxAQAAEQFAAABNAAAAQAAANQEAABUBQAAARgAAAAAAADkBAAApAUAAAEYAAABAAAA9AQAALQFAADBCgAAAAAAAAQFAAAEBgAAwQoAAAEAAAAUBQAAFAYAACEFAAAAAAAAJAUAACQIAAAhBQAAAQAAADQFAAA0CAAAIQIAAAAAAABECQAApAgAACECAAABAAAAVAkAALQIAAABVgAAAAAAAGQFAABUBQAAAVYAAAEAAAB0BQAARAUAAAFUAAAAAAAAhAUAAEQGAAABVAAAAQAAAJQFAABUBgAAAUgAAAAAAACkBQAARAYAAAFIAAABAAAAtAUAAFQGAAABOAAAAAAAAMQFAABEBgAAATgAAAEAAADUBQAAVAYAAAEwAAAAAAAA5AUAAKQGAAABMAAAAQAAAPQFAAC0BgAAASQAAAAAAAAEBgAAxAYAAAEkAAABAAAAFAYAANQGAAABHAAAAAAAACQGAAAEBwAAARwAAAEAAAA0BgAAFAcAAAEWAAAAAAAAJAgAACQHAAABFgAAAQAAADQIAAA0BwAAAVYAAAAAAABkBgAAVAYAAAFWAAABAAAAdAYAAEQGAAABVAAAAAAAAIQGAABEBgAAAVQAAAEAAACUBgAAVAYAAAFRAAAAAAAApAYAAGQGAAABUQAAAQAAALQGAAB0BgAAAUgAAAAAAADEBgAAhAYAAAFIAAABAAAA1AYAAJQGAAABOAAAAAAAAOQGAACkBgAAATgAAAEAAAD0BgAAtAYAAAE0AAAAAAAABAcAAMQGAAABNAAAAQAAABQHAADUBgAAATAAAAAAAAAkBwAA5AYAAAEwAAABAAAANAcAAPQGAAABKAAAAAAAAEQHAADkBgAAASgAAAEAAABUBwAA9AYAAAEkAAAAAAAAZAcAAAQHAAABJAAAAQAAAHQHAAAUBwAAASIAAAAAAACEBwAAJAcAAAEiAAABAAAAlAcAADQHAAABHAAAAAAAAKQHAABEBwAAARwAAAEAAAC0BwAAVAcAAAEYAAAAAAAAxAcAAGQHAAABGAAAAQAAANQHAAB0BwAAARYAAAAAAADkBwAAhAcAAAEWAAABAAAA9AcAAJQHAAABFAAAAAAAAAQIAACkBwAAARQAAAEAAAAUCAAAtAcAAAESAAAAAAAAJAgAAMQHAAABEgAAAQAAADQIAADUBwAAAREAAAAAAABECAAA5AcAAAERAAABAAAAVAgAAPQHAADBCgAAAAAAAGQIAAAECAAAwQoAAAEAAAB0CAAAFAgAAMEJAAAAAAAAhAgAACQIAADBCQAAAQAAAJQIAAA0CAAAoQgAAAAAAACkCAAARAgAAKEIAAABAAAAtAgAAFQIAAAhBQAAAAAAAMQIAABkCAAAIQUAAAEAAADUCAAAdAgAAEEEAAAAAAAA5AgAAIQIAABBBAAAAQAAAPQIAACUCAAAoQIAAAAAAAAECQAApAgAAKECAAABAAAAFAkAALQIAAAhAgAAAAAAACQJAADECAAAIQIAAAEAAAA0CQAA1AgAAEEBAAAAAAAARAkAAOQIAABBAQAAAQAAAFQJAAD0CAAAEQEAAAAAAABkCQAABAkAABEBAAABAAAAdAkAABQJAACFAAAAAAAAAIQJAAAkCQAAhQAAAAEAAACUCQAANAkAAEkAAAAAAAAApAkAAEQJAABJAAAAAQAAALQJAABUCQAAJQAAAAAAAADECQAAZAkAACUAAAABAAAA1AkAAHQJAAAVAAAAAAAAAOQJAACECQAAFQAAAAEAAAD0CQAAlAkAAAkAAAAAAAAABAoAAKQJAAAJAAAAAQAAABQKAAC0CQAABQAAAAAAAAAkCgAAxAkAAAUAAAABAAAANAoAANQJAAABAAAAAAAAACQKAADkCQAAAQAAAAEAAAA0CgAA9AkAAAFWAAAAAAAARAoAAEQKAAABVgAAAQAAAFQKAABUCgAAaAoAAAUAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAACAAAA6GIAAAAEAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAr/////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABoCgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAC4YgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP//////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAEIAAgAoAAgAgQABABAAAAAAAAAAAAAAAAgACAAIAAgAAAAQABAAGAAYABAAIAAoACgAIAAwADgAMABAAEgAQABYAFgAUABoAGAAeABwAIgAgACYAJAAqACoALAAyADAANAA6ADgAPABCAEIARABIAE4ATgBQAFQAWABeAF4AYgBmAGgAbABwAHQAeAB8AIAAhACIAIwAkACWAJoAngCiAKQArACwALYAugC8AMQAygDOANAA2ADeAOAA6ADuAPAA+gD+AQABCgEMARYBGAEiASQBLgEwAToBPgFEAU4BUAFYAWIBZAFsAXYBegGAAYgBkgGWAZwBpAGsAbYBugHCAcoB0AHYAeAB6AHwAfgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAEAA4AEAAaABwAJgAoADIANAA+AEAASgBMAFYAWABiAGQAbgBwAHoAfACGAIgAkgCUAJ4AoACqAKwAtgC4AMIAxADOANAA2gDcAOYA6ADyAPQA/gEAAQoBDAEWARgBIgEkAS4BMAE6ATwBRgFIAVIBVAFeAWABagFsAXYBeAGCAYQBjgGQAZoBnAGmAagBsgG0Ab4BwAHKAcwB1gHYAIAAfAB4AHQAcABuAGoAZgBiAFwAXABYAFYAUgBMAEwASgBGAEAAQAA+ADgAOAA2ADAAMgAuACgAKgAkACYAIAAiABwAHgAYABoAFgAUABYAEAAQABIADAAMAA4ACgAIAAgACgAGAAQABAAEAAYAAgACAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAgACAAIAAAAEAAQABgAGAAQACAAKAAoACAAMAA4ADAAQABIAEAAWABYAFAAaABgAHgAcACIAIAAmACQAKgAqACwAMgAwADQAOgA4ADwAQgBCAEQASABOAE4AUABUAFgAXgBeAGIAZgBoAGwAcAB0AHgAfABiAFwAXgBYAFoAVABWAFAAUgBMAE4ASABKAEQARgBAAEIAPAA+ADgAOgA0ADYAMAAyACwALgAoACoAJAAmACAAIgAcAB4AGAAaABQAFgAQABIADAAOAAgACgAEAAYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAYABAAKAAgADgAMABIAEAAWABQAGgAYAB4AHAAiACAAJgAkACoAKAAuACwAMgAwADYANAA6ADgAPgA8AEIAQABGAEQASgBIAE4ATABSAFAAVgBUAFoAWABeAF1tFUlJPUl0gJXMAW0VSUk9SXSBvcGpfZGVjb21wcmVzczogZmFpbGVkIHRvIHNldHVwIHRoZSBkZWNvZGVyAFtFUlJPUl0gb3BqX2RlY29tcHJlc3M6IGZhaWxlZCB0byByZWFkIHRoZSBoZWFkZXIAW0VSUk9SXSBvcGpfZGVjb21wcmVzczogZmFpbGVkIHRvIGRlY29kZSB0aWxlIQBFcnJvciBvbiB3cml0aW5nIHN0cmVhbSEKAFN0cmVhbSByZWFjaGVkIGl0cyBlbmQgIQoAU3RyZWFtIGVycm9yIQoAMi4xLjEAd2IAcmIAQ29kZWMgcHJvdmlkZWQgdG8gdGhlIG9wal9zZXR1cF9kZWNvZGVyIGZ1bmN0aW9uIGlzIG5vdCBhIGRlY29tcHJlc3NvciBoYW5kbGVyLgoAQ29kZWMgcHJvdmlkZWQgdG8gdGhlIG9wal9yZWFkX2hlYWRlciBmdW5jdGlvbiBpcyBub3QgYSBkZWNvbXByZXNzb3IgaGFuZGxlci4KAEludmFsaWQgbnVtYmVyIG9mIHJlc29sdXRpb25zIDogJWQgbm90IGluIHJhbmdlIFsxLCVkXQoARGVwcmVjYXRlZCBmaWVsZHMgY3BfY2luZW1hIG9yIGNwX3JzaXogYXJlIHVzZWQKUGxlYXNlIGNvbnNpZGVyIHVzaW5nIG9ubHkgdGhlIHJzaXogZmllbGQKU2VlIG9wZW5qcGVnLmggZG9jdW1lbnRhdGlvbiBmb3IgbW9yZSBkZXRhaWxzCgBUaGUgZGVzaXJlZCBtYXhpbXVtIGNvZGVzdHJlYW0gc2l6ZSBoYXMgbGltaXRlZAphdCBsZWFzdCBvbmUgb2YgdGhlIGRlc2lyZWQgcXVhbGl0eSBsYXllcnMKAEpQRUcgMjAwMCBTY2FsYWJsZSBEaWdpdGFsIENpbmVtYSBwcm9maWxlcyBub3QgeWV0IHN1cHBvcnRlZAoASlBFRyAyMDAwIFByb2ZpbGUtMyBhbmQgNCAoMmsvNGsgZGMgcHJvZmlsZSkgcmVxdWlyZXM6CjEgc2luZ2xlIHF1YWxpdHkgbGF5ZXItPiBOdW1iZXIgb2YgbGF5ZXJzIGZvcmNlZCB0byAxIChyYXRoZXIgdGhhbiAlZCkKLT4gUmF0ZSBvZiB0aGUgbGFzdCBsYXllciAoJTMuMWYpIHdpbGwgYmUgdXNlZABKUEVHIDIwMDAgUHJvZmlsZS0zICgyayBkYyBwcm9maWxlKSByZXF1aXJlczoKTnVtYmVyIG9mIGRlY29tcG9zaXRpb24gbGV2ZWxzIDw9IDUKLT4gTnVtYmVyIG9mIGRlY29tcG9zaXRpb24gbGV2ZWxzIGZvcmNlZCB0byA1IChyYXRoZXIgdGhhbiAlZCkKAEpQRUcgMjAwMCBQcm9maWxlLTQgKDRrIGRjIHByb2ZpbGUpIHJlcXVpcmVzOgpOdW1iZXIgb2YgZGVjb21wb3NpdGlvbiBsZXZlbHMgPj0gMSAmJiA8PSA2Ci0+IE51bWJlciBvZiBkZWNvbXBvc2l0aW9uIGxldmVscyBmb3JjZWQgdG8gMSAocmF0aGVyIHRoYW4gJWQpCgBKUEVHIDIwMDAgUHJvZmlsZS00ICg0ayBkYyBwcm9maWxlKSByZXF1aXJlczoKTnVtYmVyIG9mIGRlY29tcG9zaXRpb24gbGV2ZWxzID49IDEgJiYgPD0gNgotPiBOdW1iZXIgb2YgZGVjb21wb3NpdGlvbiBsZXZlbHMgZm9yY2VkIHRvIDYgKHJhdGhlciB0aGFuICVkKQoASlBFRyAyMDAwIFByb2ZpbGUtMyBhbmQgNCAoMmsvNGsgZGMgcHJvZmlsZSkgcmVxdWlyZXM6Ck1heGltdW0gMTMwMjA4MyBjb21wcmVzc2VkIGJ5dGVzIEAgMjRmcHMKQXMgbm8gcmF0ZSBoYXMgYmVlbiBnaXZlbiwgdGhpcyBsaW1pdCB3aWxsIGJlIHVzZWQuCgBKUEVHIDIwMDAgUHJvZmlsZS0zIGFuZCA0ICgyay80ayBkYyBwcm9maWxlKSByZXF1aXJlczoKTWF4aW11bSAxMzAyMDgzIGNvbXByZXNzZWQgYnl0ZXMgQCAyNGZwcwotPiBTcGVjaWZpZWQgcmF0ZSBleGNlZWRzIHRoaXMgbGltaXQuIFJhdGUgd2lsbCBiZSBmb3JjZWQgdG8gMTMwMjA4MyBieXRlcy4KAEpQRUcgMjAwMCBQcm9maWxlLTMgYW5kIDQgKDJrLzRrIGRjIHByb2ZpbGUpIHJlcXVpcmVzOgpNYXhpbXVtIDEwNDE2NjYgY29tcHJlc3NlZCBieXRlcyBAIDI0ZnBzCkFzIG5vIHJhdGUgaGFzIGJlZW4gZ2l2ZW4sIHRoaXMgbGltaXQgd2lsbCBiZSB1c2VkLgoASlBFRyAyMDAwIFByb2ZpbGUtMyBhbmQgNCAoMmsvNGsgZGMgcHJvZmlsZSkgcmVxdWlyZXM6Ck1heGltdW0gMTA0MTY2NiBjb21wcmVzc2VkIGJ5dGVzIEAgMjRmcHMKLT4gU3BlY2lmaWVkIHJhdGUgZXhjZWVkcyB0aGlzIGxpbWl0LiBSYXRlIHdpbGwgYmUgZm9yY2VkIHRvIDEwNDE2NjYgYnl0ZXMuCgBKUEVHIDIwMDAgUHJvZmlsZS0zICgyayBkYyBwcm9maWxlKSByZXF1aXJlczoKMyBjb21wb25lbnRzLT4gTnVtYmVyIG9mIGNvbXBvbmVudHMgb2YgaW5wdXQgaW1hZ2UgKCVkKSBpcyBub3QgY29tcGxpYW50Ci0+IE5vbi1wcm9maWxlLTMgY29kZXN0cmVhbSB3aWxsIGJlIGdlbmVyYXRlZAoAc2lnbmVkAHVuc2lnbmVkAEpQRUcgMjAwMCBQcm9maWxlLTMgKDJrIGRjIHByb2ZpbGUpIHJlcXVpcmVzOgpQcmVjaXNpb24gb2YgZWFjaCBjb21wb25lbnQgc2hhbGwgYmUgMTIgYml0cyB1bnNpZ25lZC0+IEF0IGxlYXN0IGNvbXBvbmVudCAlZCBvZiBpbnB1dCBpbWFnZSAoJWQgYml0cywgJXMpIGlzIG5vdCBjb21wbGlhbnQKLT4gTm9uLXByb2ZpbGUtMyBjb2Rlc3RyZWFtIHdpbGwgYmUgZ2VuZXJhdGVkCgBKUEVHIDIwMDAgUHJvZmlsZS0zICgyayBkYyBwcm9maWxlKSByZXF1aXJlczoKd2lkdGggPD0gMjA0OCBhbmQgaGVpZ2h0IDw9IDEwODAKLT4gSW5wdXQgaW1hZ2Ugc2l6ZSAlZCB4ICVkIGlzIG5vdCBjb21wbGlhbnQKLT4gTm9uLXByb2ZpbGUtMyBjb2Rlc3RyZWFtIHdpbGwgYmUgZ2VuZXJhdGVkCgBKUEVHIDIwMDAgUHJvZmlsZS00ICg0ayBkYyBwcm9maWxlKSByZXF1aXJlczoKd2lkdGggPD0gNDA5NiBhbmQgaGVpZ2h0IDw9IDIxNjAKLT4gSW1hZ2Ugc2l6ZSAlZCB4ICVkIGlzIG5vdCBjb21wbGlhbnQKLT4gTm9uLXByb2ZpbGUtNCBjb2Rlc3RyZWFtIHdpbGwgYmUgZ2VuZXJhdGVkCgBKUEVHIDIwMDAgTG9uZyBUZXJtIFN0b3JhZ2UgcHJvZmlsZSBub3QgeWV0IHN1cHBvcnRlZAoASlBFRyAyMDAwIEJyb2FkY2FzdCBwcm9maWxlcyBub3QgeWV0IHN1cHBvcnRlZAoASlBFRyAyMDAwIElNRiBwcm9maWxlcyBub3QgeWV0IHN1cHBvcnRlZAoASlBFRyAyMDAwIFBhcnQtMiBwcm9maWxlIGRlZmluZWQKYnV0IG5vIFBhcnQtMiBleHRlbnNpb24gZW5hYmxlZC4KUHJvZmlsZSBzZXQgdG8gTk9ORS4KAFVuc3VwcG9ydGVkIFBhcnQtMiBleHRlbnNpb24gZW5hYmxlZApQcm9maWxlIHNldCB0byBOT05FLgoATm90IGVub3VnaCBtZW1vcnkgdG8gYWxsb2NhdGUgY29weSBvZiB1c2VyIGVuY29kaW5nIHBhcmFtZXRlcnMgbWF0cml4IAoATm90IGVub3VnaCBtZW1vcnkgdG8gYWxsb2NhdGUgY29weSBvZiBjb21tZW50IHN0cmluZwoATm90IGVub3VnaCBtZW1vcnkgdG8gYWxsb2NhdGUgY29tbWVudCBzdHJpbmcKACVzJXMAQ3JlYXRlZCBieSBPcGVuSlBFRyB2ZXJzaW9uIABOb3QgZW5vdWdoIG1lbW9yeSB0byBhbGxvY2F0ZSB0aWxlIGNvZGluZyBwYXJhbWV0ZXJzCgBOb3QgZW5vdWdoIG1lbW9yeSBmb3IgY2hlY2tpbmcgdGhlIHBvYyB2YWx1ZXMuCgBNaXNzaW5nIHBhY2tldHMgcG9zc2libGUgbG9zcyBvZiBkYXRhCgBOb3QgZW5vdWdoIG1lbW9yeSB0byBhbGxvY2F0ZSB0aWxlIGNvbXBvbmVudCBjb2RpbmcgcGFyYW1ldGVycwoATm90IGVub3VnaCBtZW1vcnkgdG8gYWxsb2NhdGUgdGVtcCBidWZmZXIKAE5vdCBlbm91Z2ggbWVtb3J5IHRvIGFsbG9jYXRlIGVuY29kZXIgTUNUIGNvZGluZyBtYXRyaXggCgBOb3QgZW5vdWdoIG1lbW9yeSB0byBhbGxvY2F0ZSBlbmNvZGVyIE1DVCBkZWNvZGluZyBtYXRyaXggCgBGYWlsZWQgdG8gaW52ZXJzZSBlbmNvZGVyIE1DVCBkZWNvZGluZyBtYXRyaXggCgBOb3QgZW5vdWdoIG1lbW9yeSB0byBhbGxvY2F0ZSBlbmNvZGVyIE1DVCBub3JtcyAKAEZhaWxlZCB0byBzZXR1cCBqMmsgbWN0IGVuY29kaW5nCgBDYW5ub3QgcGVyZm9ybSBNQ1Qgb24gY29tcG9uZW50cyB3aXRoIGRpZmZlcmVudCBzaXplcy4gRGlzYWJsaW5nIE1DVC4KAENhbm5vdCBkZWNvZGUgdGlsZSwgbWVtb3J5IGVycm9yCgBTdGFydCB0byByZWFkIGoyayBtYWluIGhlYWRlciAoJWQpLgoATm90IGVub3VnaCBtZW1vcnkgdG8gYWRkIG1oIG1hcmtlcgoARXhwZWN0ZWQgYSBTT0MgbWFya2VyIAoAU3RyZWFtIHRvbyBzaG9ydAoAQSBtYXJrZXIgSUQgd2FzIGV4cGVjdGVkICgweGZmLS0pIGluc3RlYWQgb2YgJS44eAoAVW5rbm93biBtYXJrZXIKAE1hcmtlciBpcyBub3QgY29tcGxpYW50IHdpdGggaXRzIHBvc2l0aW9uCgBVbmtub3cgbWFya2VyIGhhdmUgYmVlbiBkZXRlY3RlZCBhbmQgZ2VuZXJhdGVkIGVycm9yLgoATm90IGVub3VnaCBtZW1vcnkgdG8gcmVhZCBoZWFkZXIKAE1hcmtlciBoYW5kbGVyIGZ1bmN0aW9uIGZhaWxlZCB0byByZWFkIHRoZSBtYXJrZXIgc2VnbWVudAoAcmVxdWlyZWQgU0laIG1hcmtlciBub3QgZm91bmQgaW4gbWFpbiBoZWFkZXIKAHJlcXVpcmVkIENPRCBtYXJrZXIgbm90IGZvdW5kIGluIG1haW4gaGVhZGVyCgByZXF1aXJlZCBRQ0QgbWFya2VyIG5vdCBmb3VuZCBpbiBtYWluIGhlYWRlcgoATm90IGVub3VnaCBieXRlcyB0byByZWFkIE5wcG0KAENvcnJ1cHRlZCBQUE0gbWFya2VycwoATm90IGVub3VnaCBtZW1vcnkgdG8gcmVhZCBQUE0gbWFya2VyCgBGYWlsZWQgdG8gbWVyZ2UgUFBNIGRhdGEKAE1haW4gaGVhZGVyIGhhcyBiZWVuIGNvcnJlY3RseSBkZWNvZGVkLgoARXJyb3IgcmVhZGluZyBNQ08gbWFya2VyCgBDYW5ub3QgdGFrZSBpbiBjaGFyZ2UgbXVsdGlwbGUgdHJhbnNmb3JtYXRpb24gc3RhZ2VzLgoARXJyb3IgcmVhZGluZyBNQ0MgbWFya2VyCgBDYW5ub3QgdGFrZSBpbiBjaGFyZ2UgbXVsdGlwbGUgZGF0YSBzcGFubmluZwoATm90IGVub3VnaCBtZW1vcnkgdG8gcmVhZCBNQ0MgbWFya2VyCgBDYW5ub3QgdGFrZSBpbiBjaGFyZ2UgbXVsdGlwbGUgY29sbGVjdGlvbnMKAENhbm5vdCB0YWtlIGluIGNoYXJnZSBjb2xsZWN0aW9ucyBvdGhlciB0aGFuIGFycmF5IGRlY29ycmVsYXRpb24KAENhbm5vdCB0YWtlIGluIGNoYXJnZSBjb2xsZWN0aW9ucyB3aXRoIGluZGl4IHNodWZmbGUKAENhbm5vdCB0YWtlIGluIGNoYXJnZSBjb2xsZWN0aW9ucyB3aXRob3V0IHNhbWUgbnVtYmVyIG9mIGluZGl4ZXMKAENycm9yIHJlYWRpbmcgQ0JEIG1hcmtlcgoARXJyb3IgcmVhZGluZyBNQ1QgbWFya2VyCgBDYW5ub3QgdGFrZSBpbiBjaGFyZ2UgbWN0IGRhdGEgd2l0aGluIG11bHRpcGxlIE1DVCByZWNvcmRzCgBOb3QgZW5vdWdoIG1lbW9yeSB0byByZWFkIE1DVCBtYXJrZXIKAENhbm5vdCB0YWtlIGluIGNoYXJnZSBtdWx0aXBsZSBNQ1QgbWFya2VycwoARXJyb3IgcmVhZGluZyBDUkcgbWFya2VyCgBFcnJvciByZWFkaW5nIFBQVCBtYXJrZXIKAEVycm9yIHJlYWRpbmcgUFBUIG1hcmtlcjogcGFja2V0IGhlYWRlciBoYXZlIGJlZW4gcHJldmlvdXNseSBmb3VuZCBpbiB0aGUgbWFpbiBoZWFkZXIgKFBQTSBtYXJrZXIpLgoATm90IGVub3VnaCBtZW1vcnkgdG8gcmVhZCBQUFQgbWFya2VyCgBacHB0ICV1IGFscmVhZHkgcmVhZAoARXJyb3IgcmVhZGluZyBQUE0gbWFya2VyCgBacHBtICV1IGFscmVhZHkgcmVhZAoARXJyb3IgcmVhZGluZyBQTFQgbWFya2VyCgBFcnJvciByZWFkaW5nIFBMTSBtYXJrZXIKAEVycm9yIHJlYWRpbmcgVExNIG1hcmtlcgoARXJyb3Igd2l0aCBTSVogbWFya2VyIHNpemUKAEVycm9yIHdpdGggU0laIG1hcmtlcjogbnVtYmVyIG9mIGNvbXBvbmVudCBpcyBpbGxlZ2FsIC0+ICVkCgBFcnJvciB3aXRoIFNJWiBtYXJrZXI6IG51bWJlciBvZiBjb21wb25lbnQgaXMgbm90IGNvbXBhdGlibGUgd2l0aCB0aGUgcmVtYWluaW5nIG51bWJlciBvZiBwYXJhbWV0ZXJzICggJWQgdnMgJWQpCgBFcnJvciB3aXRoIFNJWiBtYXJrZXI6IG5lZ2F0aXZlIG9yIHplcm8gaW1hZ2Ugc2l6ZSAoJWxsZCB4ICVsbGQpCgBFcnJvciB3aXRoIFNJWiBtYXJrZXI6IGludmFsaWQgdGlsZSBzaXplICh0ZHg6ICVkLCB0ZHk6ICVkKQoAUHJldmVudCBidWZmZXIgb3ZlcmZsb3cgKHgxOiAlZCwgeTE6ICVkKQoARXJyb3Igd2l0aCBTSVogbWFya2VyOiBpbGxlZ2FsIHRpbGUgb2Zmc2V0CgBOb3QgZW5vdWdoIG1lbW9yeSB0byB0YWtlIGluIGNoYXJnZSBTSVogbWFya2VyCgBJbnZhbGlkIHZhbHVlcyBmb3IgY29tcCA9ICVkIDogZHg9JXUgZHk9JXUgKHNob3VsZCBiZSBiZXR3ZWVuIDEgYW5kIDI1NSBhY2NvcmRpbmcgdG8gdGhlIEpQRUcyMDAwIG5vcm0pCgBJbnZhbGlkIHZhbHVlcyBmb3IgY29tcCA9ICVkIDogcHJlYz0ldSAoc2hvdWxkIGJlIGJldHdlZW4gMSBhbmQgMzggYWNjb3JkaW5nIHRvIHRoZSBKUEVHMjAwMCBub3JtKQoASW52YWxpZCBudW1iZXIgb2YgdGlsZXMgOiAldSB4ICV1IChtYXhpbXVtIGZpeGVkIGJ5IGpwZWcyMDAwIG5vcm0gaXMgNjU1MzUgdGlsZXMpCgBFcnJvciByZWFkaW5nIFBPQyBtYXJrZXIKAFRvbyBtYW55IFBPQ3MgJWQKAEVycm9yIHJlYWRpbmcgUUNDIG1hcmtlcgoASW52YWxpZCBjb21wb25lbnQgbnVtYmVyOiAlZCwgcmVnYXJkaW5nIHRoZSBudW1iZXIgb2YgY29tcG9uZW50cyAlZAoARXJyb3IgcmVhZGluZyBTUWNkIG9yIFNRY2MgZWxlbWVudAoAV2hpbGUgcmVhZGluZyBDQ1BfUU5UU1RZIGVsZW1lbnQgaW5zaWRlIFFDRCBvciBRQ0MgbWFya2VyIHNlZ21lbnQsIG51bWJlciBvZiBzdWJiYW5kcyAoJWQpIGlzIGdyZWF0ZXIgdG8gT1BKX0oyS19NQVhCQU5EUyAoJWQpLiBTbyB3ZSBsaW1pdCB0aGUgbnVtYmVyIG9mIGVsZW1lbnRzIHN0b3JlZCB0byBPUEpfSjJLX01BWEJBTkRTICglZCkgYW5kIHNraXAgdGhlIHJlc3QuIAoARXJyb3IgcmVhZGluZyBRQ0QgbWFya2VyCgBFcnJvciByZWFkaW5nIFJHTiBtYXJrZXIKAGJhZCBjb21wb25lbnQgbnVtYmVyIGluIFJHTiAoJWQgd2hlbiB0aGVyZSBhcmUgb25seSAlZCkKAEVycm9yIHJlYWRpbmcgQ09DIG1hcmtlcgoARXJyb3IgcmVhZGluZyBDT0MgbWFya2VyIChiYWQgbnVtYmVyIG9mIGNvbXBvbmVudHMpCgBFcnJvciByZWFkaW5nIFNQQ29kIFNQQ29jIGVsZW1lbnQKAEludmFsaWQgdmFsdWUgZm9yIG51bXJlc29sdXRpb25zIDogJWQsIG1heCB2YWx1ZSBpcyBzZXQgaW4gb3BlbmpwZWcuaCBhdCAlZAoARXJyb3IgZGVjb2RpbmcgY29tcG9uZW50ICVkLgpUaGUgbnVtYmVyIG9mIHJlc29sdXRpb25zIHRvIHJlbW92ZSBpcyBoaWdoZXIgdGhhbiB0aGUgbnVtYmVyIG9mIHJlc29sdXRpb25zIG9mIHRoaXMgY29tcG9uZW50Ck1vZGlmeSB0aGUgY3BfcmVkdWNlIHBhcmFtZXRlci4KCgBFcnJvciByZWFkaW5nIFNQQ29kIFNQQ29jIGVsZW1lbnQsIEludmFsaWQgY2Jsa3cvY2Jsa2ggY29tYmluYXRpb24KAEVycm9yIHJlYWRpbmcgU1BDb2QgU1BDb2MgZWxlbWVudCwgSW52YWxpZCBjb2RlLWJsb2NrIHN0eWxlIGZvdW5kCgBJbnZhbGlkIHByZWNpbmN0IHNpemUKAENPRCBtYXJrZXIgYWxyZWFkeSByZWFkLiBObyBtb3JlIHRoYW4gb25lIENPRCBtYXJrZXIgcGVyIHRpbGUuCgBFcnJvciByZWFkaW5nIENPRCBtYXJrZXIKAFVua25vd24gU2NvZCB2YWx1ZSBpbiBDT0QgbWFya2VyCgBVbmtub3duIHByb2dyZXNzaW9uIG9yZGVyIGluIENPRCBtYXJrZXIKAEludmFsaWQgbnVtYmVyIG9mIGxheWVycyBpbiBDT0QgbWFya2VyIDogJWQgbm90IGluIHJhbmdlIFsxLTY1NTM1XQoARXJyb3IgcmVhZGluZyBTT1QgbWFya2VyCgBJbnZhbGlkIHRpbGUgbnVtYmVyICVkCgBFbXB0eSBTT1QgbWFya2VyIGRldGVjdGVkOiBQc290PSVkLgoAUHNvdCB2YWx1ZSBpcyBub3QgY29ycmVjdCByZWdhcmRzIHRvIHRoZSBKUEVHMjAwMCBub3JtOiAlZC4KAFBzb3QgdmFsdWUgb2YgdGhlIGN1cnJlbnQgdGlsZS1wYXJ0IGlzIGVxdWFsIHRvIHplcm8sIHdlIGFzc3VtaW5nIGl0IGlzIHRoZSBsYXN0IHRpbGUtcGFydCBvZiB0aGUgY29kZXN0cmVhbS4KAEluIFNPVCBtYXJrZXIsIFRQU290ICglZCkgaXMgbm90IHZhbGlkIHJlZ2FyZHMgdG8gdGhlIGN1cnJlbnQgbnVtYmVyIG9mIHRpbGUtcGFydCAoJWQpLCBnaXZpbmcgdXAKAEluIFNPVCBtYXJrZXIsIFRQU290ICglZCkgaXMgbm90IHZhbGlkIHJlZ2FyZHMgdG8gdGhlIGN1cnJlbnQgbnVtYmVyIG9mIHRpbGUtcGFydCAoaGVhZGVyKSAoJWQpLCBnaXZpbmcgdXAKAE5vdCBlbm91Z2ggbWVtb3J5IHRvIHJlYWQgU09UIG1hcmtlci4gVGlsZSBpbmRleCBhbGxvY2F0aW9uIGZhaWxlZAoASW5jb25zaXN0ZW50IG1hcmtlciBzaXplCgBNYXJrZXIgc2l6ZSBpbmNvbnNpc3RlbnQgd2l0aCBzdHJlYW0gbGVuZ3RoCgBOb3Qgc3VyZSBob3cgdGhhdCBoYXBwZW5lZC4KAEZhaWwgdG8gcmVhZCB0aGUgY3VycmVudCBtYXJrZXIgc2VnbWVudCAoJSN4KQoATm90IGVub3VnaCBtZW1vcnkgdG8gYWRkIHRsIG1hcmtlcgoAVGlsZSBwYXJ0IGxlbmd0aCBzaXplIGluY29uc2lzdGVudCB3aXRoIHN0cmVhbSBsZW5ndGgKAE5vdCBlbm91Z2ggbWVtb3J5IHRvIGRlY29kZSB0aWxlCgBvcGpfajJrX2FwcGx5X25iX3RpbGVfcGFydHNfY29ycmVjdGlvbiBlcnJvcgoATm9uIGNvbmZvcm1hbnQgY29kZXN0cmVhbSBUUHNvdD09VE5zb3QuCgBGYWlsZWQgdG8gbWVyZ2UgUFBUIGRhdGEKAEhlYWRlciBvZiB0aWxlICVkIC8gJWQgaGFzIGJlZW4gcmVhZC4KAEZhaWxlZCB0byBkZWNvZGUuCgBObyBFT0MgbWFya2VyLiBQb3NzaWJseSBhIHRydW5jYXRlZCBzdHJlYW0KAFN0cmVhbSBkb2VzIG5vdCBlbmQgd2l0aCBFT0MKAFN0cmVhbSB0b28gc2hvcnQsIGV4cGVjdGVkIFNPVAoATmVlZCB0byBkZWNvZGUgdGhlIG1haW4gaGVhZGVyIGJlZm9yZSBiZWdpbiB0byBkZWNvZGUgdGhlIHJlbWFpbmluZyBjb2Rlc3RyZWFtAE5vIGRlY29kZWQgYXJlYSBwYXJhbWV0ZXJzLCBzZXQgdGhlIGRlY29kZWQgYXJlYSB0byB0aGUgd2hvbGUgaW1hZ2UKAExlZnQgcG9zaXRpb24gb2YgdGhlIGRlY29kZWQgYXJlYSAocmVnaW9uX3gwPSVkKSBpcyBvdXRzaWRlIHRoZSBpbWFnZSBhcmVhIChYc2l6PSVkKS4KAExlZnQgcG9zaXRpb24gb2YgdGhlIGRlY29kZWQgYXJlYSAocmVnaW9uX3gwPSVkKSBpcyBvdXRzaWRlIHRoZSBpbWFnZSBhcmVhIChYT3Npej0lZCkuCgBVcCBwb3NpdGlvbiBvZiB0aGUgZGVjb2RlZCBhcmVhIChyZWdpb25feTA9JWQpIGlzIG91dHNpZGUgdGhlIGltYWdlIGFyZWEgKFlzaXo9JWQpLgoAVXAgcG9zaXRpb24gb2YgdGhlIGRlY29kZWQgYXJlYSAocmVnaW9uX3kwPSVkKSBpcyBvdXRzaWRlIHRoZSBpbWFnZSBhcmVhIChZT3Npej0lZCkuCgBSaWdodCBwb3NpdGlvbiBvZiB0aGUgZGVjb2RlZCBhcmVhIChyZWdpb25feDE9JWQpIGlzIG91dHNpZGUgdGhlIGltYWdlIGFyZWEgKFhPc2l6PSVkKS4KAFJpZ2h0IHBvc2l0aW9uIG9mIHRoZSBkZWNvZGVkIGFyZWEgKHJlZ2lvbl94MT0lZCkgaXMgb3V0c2lkZSB0aGUgaW1hZ2UgYXJlYSAoWHNpej0lZCkuCgBCb3R0b20gcG9zaXRpb24gb2YgdGhlIGRlY29kZWQgYXJlYSAocmVnaW9uX3kxPSVkKSBpcyBvdXRzaWRlIHRoZSBpbWFnZSBhcmVhIChZT3Npej0lZCkuCgBCb3R0b20gcG9zaXRpb24gb2YgdGhlIGRlY29kZWQgYXJlYSAocmVnaW9uX3kxPSVkKSBpcyBvdXRzaWRlIHRoZSBpbWFnZSBhcmVhIChZc2l6PSVkKS4KAFNpemUgeCBvZiB0aGUgZGVjb2RlZCBjb21wb25lbnQgaW1hZ2UgaXMgaW5jb3JyZWN0IChjb21wWyVkXS53PSVkKS4KAFNpemUgeSBvZiB0aGUgZGVjb2RlZCBjb21wb25lbnQgaW1hZ2UgaXMgaW5jb3JyZWN0IChjb21wWyVkXS5oPSVkKS4KAFNldHRpbmcgZGVjb2RpbmcgYXJlYSB0byAlZCwlZCwlZCwlZAoAV3JvbmcgZmxhZwoAQ29kZXN0cmVhbSBpbmZvIGZyb20gbWFpbiBoZWFkZXI6IHsKAAkgdHgwPSVkLCB0eTA9JWQKAAkgdGR4PSVkLCB0ZHk9JWQKAAkgdHc9JWQsIHRoPSVkCgB9CgBDb2Rlc3RyZWFtIGluZGV4IGZyb20gbWFpbiBoZWFkZXI6IHsKAAkgTWFpbiBoZWFkZXIgc3RhcnQgcG9zaXRpb249JWxsaQoJIE1haW4gaGVhZGVyIGVuZCBwb3NpdGlvbj0lbGxpCgAJIE1hcmtlciBsaXN0OiB7CgAJCSB0eXBlPSUjeCwgcG9zPSVsbGksIGxlbj0lZAoACSB9CgAJIFRpbGUgaW5kZXg6IHsKAAkJIG5iIG9mIHRpbGUtcGFydCBpbiB0aWxlIFslZF09JWQKAAkJCSB0aWxlLXBhcnRbJWRdOiBzdGFyX3Bvcz0lbGxpLCBlbmRfaGVhZGVyPSVsbGksIGVuZF9wb3M9JWxsaS4KAAkgZGVmYXVsdCB0aWxlIHsKAAkJIGNzdHk9JSN4CgAJCSBwcmc9JSN4CgAJCSBudW1sYXllcnM9JWQKAAkJIG1jdD0leAoACQkgY29tcCAlZCB7CgAJCQkgY3N0eT0lI3gKAAkJCSBudW1yZXNvbHV0aW9ucz0lZAoACQkJIGNibGt3PTJeJWQKAAkJCSBjYmxraD0yXiVkCgAJCQkgY2Jsa3N0eT0lI3gKAAkJCSBxbWZiaWQ9JWQKAAkJCSBwcmVjY2ludHNpemUgKHcsaCk9ACglZCwlZCkgAAkJCSBxbnRzdHk9JWQKAAkJCSBudW1nYml0cz0lZAoACQkJIHN0ZXBzaXplcyAobSxlKT0ACQkJIHJvaXNoaWZ0PSVkCgAJCSB9CgBbREVWXSBEdW1wIGFuIGltYWdlX2hlYWRlciBzdHJ1Y3QgewoASW1hZ2UgaW5mbyB7CgAlcyB4MD0lZCwgeTA9JWQKACVzIHgxPSVkLCB5MT0lZAoAJXMgbnVtY29tcHM9JWQKACVzCSBjb21wb25lbnQgJWQgewoAJXN9CgBbREVWXSBEdW1wIGFuIGltYWdlX2NvbXBfaGVhZGVyIHN0cnVjdCB7CgAlcyBkeD0lZCwgZHk9JWQKACVzIHByZWM9JWQKACVzIHNnbmQ9JWQKAE5vdCBlbm91Z2ggbWVtb3J5IHRvIGRlY29kZSB0aWxlcwoATm90IGVub3VnaCBtZW1vcnkgdG8gZGVjb2RlIHRpbGUgJWQvJWQKAEZhaWxlZCB0byBkZWNvZGUgdGlsZSAlZC8lZAoAVGlsZSAlZC8lZCBoYXMgYmVlbiBkZWNvZGVkLgoASW1hZ2UgZGF0YSBoYXMgYmVlbiB1cGRhdGVkIHdpdGggdGlsZSAlZC4KCgBXZSBuZWVkIGFuIGltYWdlIHByZXZpb3VzbHkgY3JlYXRlZC4KAFRpbGUgaW5kZXggcHJvdmlkZWQgYnkgdGhlIHVzZXIgaXMgaW5jb3JyZWN0ICVkIChtYXggPSAlZCkgCgBOb3QgZW5vdWdoIG1lbW9yeSB0byBkZWNvZGUgb25lIHRpbGUKAFByb2JsZW0gd2l0aCBzZWVrIGZ1bmN0aW9uCgBUaWxlIHJlYWQsIGRlY29kZWQgYW5kIHVwZGF0ZWQgaXMgbm90IHRoZSBkZXNpcmVkIG9uZSAoJWQgdnMgJWQpLgoAUmVzb2x1dGlvbiBmYWN0b3IgaXMgZ3JlYXRlciB0aGFuIHRoZSBtYXhpbXVtIHJlc29sdXRpb24gaW4gdGhlIGNvbXBvbmVudC4KAFRoZSBnaXZlbiB0aWxlIGluZGV4IGRvZXMgbm90IG1hdGNoLgB0aWxlIG51bWJlciAlZCAvICVkCgBFcnJvciBhbGxvY2F0aW5nIHRpbGUgY29tcG9uZW50IGRhdGEuAE5vdCBlbm91Z2ggbWVtb3J5IHRvIGVuY29kZSBhbGwgdGlsZXMKAFNpemUgbWlzbWF0Y2ggYmV0d2VlbiB0aWxlIGRhdGEgYW5kIHNlbnQgZGF0YS4AQ2Fubm90IGVuY29kZSB0aWxlCgBGYWlsZWQgdG8gYWxsb2NhdGUgaW1hZ2UgaGVhZGVyLgBOb3QgZW5vdWdoIG1lbW9yeSB0byBjcmVhdGUgVGlsZSBDb2RlcgoATm90IGVub3VnaCBtZW1vcnkgdG8gd3JpdGUgQ0JEIG1hcmtlcgoATm90IGVub3VnaCBtZW1vcnkgdG8gd3JpdGUgTUNUIG1hcmtlcgoATm90IGVub3VnaCBtZW1vcnkgdG8gd3JpdGUgTUNDIG1hcmtlcgoATm90IGVub3VnaCBtZW1vcnkgdG8gd3JpdGUgTUNPIG1hcmtlcgoATm90IGVub3VnaCBtZW1vcnkgdG8gd3JpdGUgdGhlIENPTSBtYXJrZXIKAE5vdCBlbm91Z2ggbWVtb3J5IHRvIHdyaXRlIFBPQyBtYXJrZXIKAE5vdCBlbm91Z2ggbWVtb3J5IHRvIHdyaXRlIFRMTSBtYXJrZXIKAE5vdCBlbm91Z2ggbWVtb3J5IHRvIHdyaXRlIFFDQyBtYXJrZXIKAEVycm9yIHdyaXRpbmcgU1FjZCBTUWNjIGVsZW1lbnQKAE5vdCBlbm91Z2ggbWVtb3J5IHRvIHdyaXRlIENPQyBtYXJrZXIKAEVycm9yIHdyaXRpbmcgU1BDb2QgU1BDb2MgZWxlbWVudAoATm90IGVub3VnaCBtZW1vcnkgdG8gd3JpdGUgUUNEIG1hcmtlcgoARXJyb3Igd3JpdGluZyBRQ0QgbWFya2VyCgBOb3QgZW5vdWdoIG1lbW9yeSB0byB3cml0ZSBDT0QgbWFya2VyCgBFcnJvciB3cml0aW5nIENPRCBtYXJrZXIKAE5vdCBlbm91Z2ggbWVtb3J5IGZvciB0aGUgU0laIG1hcmtlcgoATnVtYmVyIG9mIHJlc29sdXRpb25zIGlzIHRvbyBoaWdoIGluIGNvbXBhcmlzb24gdG8gdGhlIHNpemUgb2YgdGlsZXMKAEVycm9yIHdoaWxlIG9wal9qMmtfcHJlX3dyaXRlX3RpbGUgd2l0aCB0aWxlIGluZGV4ID0gJWQKAEVycm9yIHdoaWxlIG9wal9qMmtfcG9zdF93cml0ZV90aWxlIHdpdGggdGlsZSBpbmRleCA9ICVkCgBGYWlsZWQgdG8gZGVjb2RlIHRoZSBjb2Rlc3RyZWFtIGluIHRoZSBKUDIgZmlsZQoAb3BqX2pwMl9hcHBseV9jZGVmOiBjbj0lZCwgbnVtY29tcHM9JWQKAG9wal9qcDJfYXBwbHlfY2RlZjogYWNuPSVkLCBudW1jb21wcz0lZAoASW52YWxpZCBjb21wb25lbnQgaW5kZXggJWQgKD49ICVkKS4KAEluY29tcGxldGUgY2hhbm5lbCBkZWZpbml0aW9ucy4KAFVuZXhwZWN0ZWQgT09NLgoASW52YWxpZCBjb21wb25lbnQvcGFsZXR0ZSBpbmRleCBmb3IgZGlyZWN0IG1hcHBpbmcgJWQuCgBDb21wb25lbnQgJWQgaXMgbWFwcGVkIHR3aWNlLgoARGlyZWN0IHVzZSBhdCAjJWQgaG93ZXZlciBwY29sPSVkLgoAQ29tcG9uZW50ICVkIGRvZXNuJ3QgaGF2ZSBhIG1hcHBpbmcuCgBDb21wb25lbnQgbWFwcGluZyBzZWVtcyB3cm9uZy4gVHJ5aW5nIHRvIGNvcnJlY3QuCgBJbnZhbGlkIG51bWJlciBvZiBjb21wb25lbnRzIHNwZWNpZmllZCB3aGlsZSBzZXR0aW5nIHVwIEpQMiBlbmNvZGVyCgBOb3QgZW5vdWdoIG1lbW9yeSB3aGVuIHNldHVwIHRoZSBKUDIgZW5jb2RlcgoAQWxwaGEgY2hhbm5lbCBzcGVjaWZpZWQgYnV0IHVua25vd24gZW51bWNzLiBObyBjZGVmIGJveCB3aWxsIGJlIGNyZWF0ZWQuCgBBbHBoYSBjaGFubmVsIHNwZWNpZmllZCBidXQgbm90IGVub3VnaCBpbWFnZSBjb21wb25lbnRzIGZvciBhbiBhdXRvbWF0aWMgY2RlZiBib3ggY3JlYXRpb24uCgBBbHBoYSBjaGFubmVsIHBvc2l0aW9uIGNvbmZsaWN0cyB3aXRoIGNvbG9yIGNoYW5uZWwuIE5vIGNkZWYgYm94IHdpbGwgYmUgY3JlYXRlZC4KAE11bHRpcGxlIGFscGhhIGNoYW5uZWxzIHNwZWNpZmllZC4gTm8gY2RlZiBib3ggd2lsbCBiZSBjcmVhdGVkLgoATm90IGVub3VnaCBtZW1vcnkgdG8gc2V0dXAgdGhlIEpQMiBlbmNvZGVyCgBOb3QgZW5vdWdoIG1lbW9yeSB0byBoYW5kbGUganBlZzIwMDAgZmlsZSBoZWFkZXIKAENhbm5vdCBoYW5kbGUgYm94IHNpemVzIGhpZ2hlciB0aGFuIDJeMzIKAGJhZCBwbGFjZWQganBlZyBjb2Rlc3RyZWFtCgBDYW5ub3QgaGFuZGxlIGJveCBvZiB1bmRlZmluZWQgc2l6ZXMKAGludmFsaWQgYm94IHNpemUgJWQgKCV4KQoARm91bmQgYSBtaXNwbGFjZWQgJyVjJWMlYyVjJyBib3ggb3V0c2lkZSBqcDJoIGJveAoASlBFRzIwMDAgSGVhZGVyIGJveCBub3QgcmVhZCB5ZXQsICclYyVjJWMlYycgYm94IHdpbGwgYmUgaWdub3JlZAoAUHJvYmxlbSB3aXRoIHNraXBwaW5nIEpQRUcyMDAwIGJveCwgc3RyZWFtIGVycm9yCgBJbnZhbGlkIGJveCBzaXplICVkIGZvciBib3ggJyVjJWMlYyVjJy4gTmVlZCAlZCBieXRlcywgJWQgYnl0ZXMgcmVtYWluaW5nIAoATm90IGVub3VnaCBtZW1vcnkgdG8gaGFuZGxlIGpwZWcyMDAwIGJveAoAUHJvYmxlbSB3aXRoIHJlYWRpbmcgSlBFRzIwMDAgYm94LCBzdHJlYW0gZXJyb3IKAE1hbGZvcm1lZCBKUDIgZmlsZSBmb3JtYXQ6IGZpcnN0IGJveCBtdXN0IGJlIEpQRUcgMjAwMCBzaWduYXR1cmUgYm94CgBNYWxmb3JtZWQgSlAyIGZpbGUgZm9ybWF0OiBzZWNvbmQgYm94IG11c3QgYmUgZmlsZSB0eXBlIGJveAoASW5zdWZmaWNpZW50IGRhdGEgZm9yIENERUYgYm94LgoATnVtYmVyIG9mIGNoYW5uZWwgZGVzY3JpcHRpb24gaXMgZXF1YWwgdG8gemVybyBpbiBDREVGIGJveC4KAE5lZWQgdG8gcmVhZCBhIFBDTFIgYm94IGJlZm9yZSB0aGUgQ01BUCBib3guCgBPbmx5IG9uZSBDTUFQIGJveCBpcyBhbGxvd2VkLgoASW5zdWZmaWNpZW50IGRhdGEgZm9yIENNQVAgYm94LgoASW52YWxpZCBQQ0xSIGJveC4gUmVwb3J0cyAlZCBlbnRyaWVzCgBJbnZhbGlkIFBDTFIgYm94LiBSZXBvcnRzIDAgcGFsZXR0ZSBjb2x1bW5zCgBBIEJQQ0MgaGVhZGVyIGJveCBpcyBhdmFpbGFibGUgYWx0aG91Z2ggQlBDIGdpdmVuIGJ5IHRoZSBJSERSIGJveCAoJWQpIGluZGljYXRlIGNvbXBvbmVudHMgYml0IGRlcHRoIGlzIGNvbnN0YW50CgBCYWQgQlBDQyBoZWFkZXIgYm94IChiYWQgc2l6ZSkKAEJhZCBDT0xSIGhlYWRlciBib3ggKGJhZCBzaXplKQoAQSBjb25mb3JtaW5nIEpQMiByZWFkZXIgc2hhbGwgaWdub3JlIGFsbCBDb2xvdXIgU3BlY2lmaWNhdGlvbiBib3hlcyBhZnRlciB0aGUgZmlyc3QsIHNvIHdlIGlnbm9yZSB0aGlzIG9uZS4KAEJhZCBDT0xSIGhlYWRlciBib3ggKGJhZCBzaXplOiAlZCkKAE5vdCBlbm91Z2ggbWVtb3J5IGZvciBjaWVsYWIKAEJhZCBDT0xSIGhlYWRlciBib3ggKENJRUxhYiwgYmFkIHNpemU6ICVkKQoAQ09MUiBCT1ggbWV0aCB2YWx1ZSBpcyBub3QgYSByZWd1bGFyIHZhbHVlICglZCksIHNvIHdlIHdpbGwgaWdub3JlIHRoZSBlbnRpcmUgQ29sb3VyIFNwZWNpZmljYXRpb24gYm94LiAKAElnbm9yaW5nIGloZHIgYm94LiBGaXJzdCBpaGRyIGJveCBhbHJlYWR5IHJlYWQKAEJhZCBpbWFnZSBoZWFkZXIgYm94IChiYWQgc2l6ZSkKAEludmFsaWQgbnVtYmVyIG9mIGNvbXBvbmVudHMgKGloZHIpCgBOb3QgZW5vdWdoIG1lbW9yeSB0byBoYW5kbGUgaW1hZ2UgaGVhZGVyIChpaGRyKQoASlAyIElIRFIgYm94OiBjb21wcmVzc2lvbiB0eXBlIGluZGljYXRlIHRoYXQgdGhlIGZpbGUgaXMgbm90IGEgY29uZm9ybWluZyBKUDIgZmlsZSAoJWQpIAoAVGhlICBib3ggbXVzdCBiZSB0aGUgZmlyc3QgYm94IGluIHRoZSBmaWxlLgoAQ2Fubm90IGhhbmRsZSBib3ggb2YgbGVzcyB0aGFuIDggYnl0ZXMKAENhbm5vdCBoYW5kbGUgWEwgYm94IG9mIGxlc3MgdGhhbiAxNiBieXRlcwoAQm94IGxlbmd0aCBpcyBpbmNvbnNpc3RlbnQuCgBTdHJlYW0gZXJyb3Igd2hpbGUgcmVhZGluZyBKUDIgSGVhZGVyIGJveAoAU3RyZWFtIGVycm9yIHdoaWxlIHJlYWRpbmcgSlAyIEhlYWRlciBib3g6IGJveCBsZW5ndGggaXMgaW5jb25zaXN0ZW50LgoAU3RyZWFtIGVycm9yIHdoaWxlIHJlYWRpbmcgSlAyIEhlYWRlciBib3g6IG5vICdpaGRyJyBib3guCgBUaGUgZnR5cCBib3ggbXVzdCBiZSB0aGUgc2Vjb25kIGJveCBpbiB0aGUgZmlsZS4KAEVycm9yIHdpdGggRlRZUCBzaWduYXR1cmUgQm94IHNpemUKAE5vdCBlbm91Z2ggbWVtb3J5IHdpdGggRlRZUCBCb3gKAFRoZSBzaWduYXR1cmUgYm94IG11c3QgYmUgdGhlIGZpcnN0IGJveCBpbiB0aGUgZmlsZS4KAEVycm9yIHdpdGggSlAgc2lnbmF0dXJlIEJveCBzaXplCgBFcnJvciB3aXRoIEpQIFNpZ25hdHVyZSA6IGJhZCBtYWdpYyBudW1iZXIKAEZhaWxlZCB0byBzZWVrIGluIHRoZSBzdHJlYW0uCgBOb3QgZW5vdWdoIG1lbW9yeSB0byBob2xkIEpQMiBIZWFkZXIgZGF0YQoAU3RyZWFtIGVycm9yIHdoaWxlIHdyaXRpbmcgSlAyIEhlYWRlciBib3gKAE5vdCBlbm91Z2ggbWVtb3J5IHRvIGhhbmRsZSBmdHlwIGRhdGEKAEVycm9yIHdoaWxlIHdyaXRpbmcgZnR5cCBkYXRhIHRvIHN0cmVhbQoASlAyIGJveCB3aGljaCBhcmUgYWZ0ZXIgdGhlIGNvZGVzdHJlYW0gd2lsbCBub3QgYmUgcmVhZCBieSB0aGlzIGZ1bmN0aW9uLgoAVGlsZSBYIGNvb3JkaW5hdGVzIGFyZSBub3Qgc3VwcG9ydGVkCgBUaWxlIFkgY29vcmRpbmF0ZXMgYXJlIG5vdCBzdXBwb3J0ZWQKAHRpbGVzIHJlcXVpcmUgYXQgbGVhc3Qgb25lIHJlc29sdXRpb24KAE5vdCBlbm91Z2ggbWVtb3J5IGZvciB0aWxlIGRhdGEKAE5vdCBlbm91Z2ggbWVtb3J5IGZvciB0aWxlIHJlc29sdXRpb25zCgBOb3QgZW5vdWdoIG1lbW9yeSB0byBoYW5kbGUgYmFuZCBwcmVjaW50cwoATm90IGVub3VnaCBtZW1vcnkgZm9yIGN1cnJlbnQgcHJlY2luY3QgY29kZWJsb2NrIGVsZW1lbnQKAE5vIGluY2x0cmVlIGNyZWF0ZWQuCgBObyBpbXNidHJlZSBjcmVhdGVkLgoAVGlsZXMgZG9uJ3QgYWxsIGhhdmUgdGhlIHNhbWUgZGltZW5zaW9uLiBTa2lwIHRoZSBNQ1Qgc3RlcC4KAE51bWJlciBvZiBjb21wb25lbnRzICglZCkgaXMgaW5jb25zaXN0ZW50IHdpdGggYSBNQ1QuIFNraXAgdGhlIE1DVCBzdGVwLgoATm90IGVub3VnaCBtZW1vcnkgdG8gY3JlYXRlIFRhZy10cmVlCgB0Z3RfY3JlYXRlIHRyZWUtPm51bW5vZGVzID09IDAsIG5vIHRyZWUgY3JlYXRlZC4KAE5vdCBlbm91Z2ggbWVtb3J5IHRvIGNyZWF0ZSBUYWctdHJlZSBub2RlcwoATm90IGVub3VnaCBtZW1vcnkgdG8gcmVpbml0aWFsaXplIHRoZSB0YWcgdHJlZQoATm90IGVub3VnaCBtZW1vcnkgdG8gYWRkIGEgbmV3IHZhbGlkYXRpb24gcHJvY2VkdXJlCgAAAQECAQICAgECAgICAgICAwMDAwMDAwMDAwMDAwMDAwUGBgYGBgYGBgYGBgYGBgYHBwcHBwcHBwcHBwcHBwcHAwMDAwMDAwMDAwMDAwMDAwQEBAQEBAQEBAQEBAQEBAQHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwUGBgYGBgYGBgYGBgYGBgYHBwcHBwcHBwcHBwcHBwcHCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAAEBAgECAgIBAgICAgICAgUGBgYGBgYGBgYGBgYGBgYDAwMDAwMDAwMDAwMDAwMDBwcHBwcHBwcHBwcHBwcHBwUGBgYGBgYGBgYGBgYGBgYICAgICAgICAgICAgICAgIBwcHBwcHBwcHBwcHBwcHBwgICAgICAgICAgICAgICAgDAwMDAwMDAwMDAwMDAwMDBwcHBwcHBwcHBwcHBwcHBwQEBAQEBAQEBAQEBAQEBAQHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwgICAgICAgICAgICAgICAgHBwcHBwcHBwcHBwcHBwcHCAgICAgICAgICAgICAgICAABAQIBAgICAQICAgICAgIDAwMDAwMDAwMDAwMDAwMDBQYGBgYGBgYGBgYGBgYGBgcHBwcHBwcHBwcHBwcHBwcDAwMDAwMDAwMDAwMDAwMDBAQEBAQEBAQEBAQEBAQEBAcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBQYGBgYGBgYGBgYGBgYGBgcHBwcHBwcHBwcHBwcHBwcICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgAAwMGAwYGCAMGBggGCAgIAQQEBwQHBwgEBwcIBwgICAEEBAcEBwcIBAcHCAcICAgCBQUHBQcHCAUHBwgHCAgIAQQEBwQHBwgEBwcIBwgICAIFBQcFBwcIBQcHCAcICAgCBQUHBQcHCAUHBwgHCAgIAgUFBwUHBwgFBwcIBwgICAEEBAcEBwcIBAcHCAcICAgCBQUHBQcHCAUHBwgHCAgIAgUFBwUHBwgFBwcIBwgICAIFBQcFBwcIBQcHCAcICAgCBQUHBQcHCAUHBwgHCAgIAgUFBwUHBwgFBwcIBwgICAIFBQcFBwcIBQcHCAcICAgCBQUHBQcHCAUHBwgHCAgICQoMDQoKDQ0MDQwNDQ0NDQkKDAsKCQ0MDAsMCw0MDQwJCgwLCgoLCwwNCQoNDQoKCQoMDQoJCwwMCwkKDQwKCQkKDA0KCQsMDA0MDQsMCwwJCgwLCgoLCwwLDAsLCwsLCQoMCwoJDQwMDQkKCwwKCQkKDA0KCg0NDAsJCgsLCgoJCgwNCgoNDQwLCQoLCwoKCQoMCwoJDQwMDQkKCwwKCQkKDAsKCgsLDAsMCwsLCwsJCgwNCgkLDAwNDA0LDAsMCQoMDQoJCwwMCwkKDQwKCQkKDAsKCgsLDA0JCg0NCgoJCgwLCgkNDAwLDAsNDA0MCQoMDQoKDQ0MDQwNDQ0NDQAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAABAQAAAQEAAAAAAAAAAAABAQEAAAEBAAAAAQAAAAAAAAAAAQAAAAAAAAAAAAAAAAEAAAEBAAAAAAAAAAAAAAAAAQEBAAEBAAAAAAAAAQAAAQEBAQEBAQAAAAEAAAEBAAAAAAAAAAABAQAAAQEAAAABAAAAAAAAAQEAAQEBAAAAAAEBAAABAQEBAQEBAQEBAAEBAQAAAQEBAQEBAQEBAQAAAAABAAAAAQEAAAEBAQAAAQAAAQEAAAEBAAEBAQEBAAABAQEAAQEBAQEBAQEBAQABAQEBAQEBAQEBAQEBAQFyZWFkOiBzZWdtZW50IHRvbyBsb25nICglZCkgd2l0aCBtYXggKCVkKSBmb3IgY29kZWJsb2NrICVkIChwPSVkLCBiPSVkLCByPSVkLCBjPSVkKQoAcmVhZDogc2VnbWVudCB0b28gbG9uZyAoJWQpIHdpdGggY3VycmVudCBzaXplICglZCA+ICVkKSBmb3IgY29kZWJsb2NrICVkIChwPSVkLCBiPSVkLCByPSVkLCBjPSVkKQoAc2tpcDogc2VnbWVudCB0b28gbG9uZyAoJWQpIHdpdGggbWF4ICglZCkgZm9yIGNvZGVibG9jayAlZCAocD0lZCwgYj0lZCwgcj0lZCwgYz0lZCkKAEludmFsaWQgcHJlY2luY3QKAE5vdCBlbm91Z2ggc3BhY2UgZm9yIGV4cGVjdGVkIFNPUCBtYXJrZXIKAEV4cGVjdGVkIFNPUCBtYXJrZXIKAE5vdCBlbm91Z2ggc3BhY2UgZm9yIGV4cGVjdGVkIEVQSCBtYXJrZXIKAEV4cGVjdGVkIEVQSCBtYXJrZXIKAHJ3YQARAAoAERERAAAAAAUAAAAAAAAJAAAAAAsAAAAAAAAAABEADwoREREDCgcAARMJCwsAAAkGCwAACwAGEQAAABEREQAAAAAAAAAAAAAAAAAAAAALAAAAAAAAAAARAAoKERERAAoAAAIACQsAAAAJAAsAAAsAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAAAAAADAAAAAAMAAAAAAkMAAAAAAAMAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAA0AAAAEDQAAAAAJDgAAAAAADgAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAPAAAAAA8AAAAACRAAAAAAABAAABAAABIAAAASEhIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEgAAABISEgAAAAAAAAkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAsAAAAAAAAAAAAAAAoAAAAACgAAAAAJCwAAAAAACwAACwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAAAAwAAAAACQwAAAAAAAwAAAwAAC0rICAgMFgweAAobnVsbCkALTBYKzBYIDBYLTB4KzB4IDB4AGluZgBJTkYAbmFuAE5BTgAwMTIzNDU2Nzg5QUJDREVGLgBUISIZDQECAxFLHAwQBAsdEh4naG5vcHFiIAUGDxMUFRoIFgcoJBcYCQoOGx8lI4OCfSYqKzw9Pj9DR0pNWFlaW1xdXl9gYWNkZWZnaWprbHJzdHl6e3wASWxsZWdhbCBieXRlIHNlcXVlbmNlAERvbWFpbiBlcnJvcgBSZXN1bHQgbm90IHJlcHJlc2VudGFibGUATm90IGEgdHR5AFBlcm1pc3Npb24gZGVuaWVkAE9wZXJhdGlvbiBub3QgcGVybWl0dGVkAE5vIHN1Y2ggZmlsZSBvciBkaXJlY3RvcnkATm8gc3VjaCBwcm9jZXNzAEZpbGUgZXhpc3RzAFZhbHVlIHRvbyBsYXJnZSBmb3IgZGF0YSB0eXBlAE5vIHNwYWNlIGxlZnQgb24gZGV2aWNlAE91dCBvZiBtZW1vcnkAUmVzb3VyY2UgYnVzeQBJbnRlcnJ1cHRlZCBzeXN0ZW0gY2FsbABSZXNvdXJjZSB0ZW1wb3JhcmlseSB1bmF2YWlsYWJsZQBJbnZhbGlkIHNlZWsAQ3Jvc3MtZGV2aWNlIGxpbmsAUmVhZC1vbmx5IGZpbGUgc3lzdGVtAERpcmVjdG9yeSBub3QgZW1wdHkAQ29ubmVjdGlvbiByZXNldCBieSBwZWVyAE9wZXJhdGlvbiB0aW1lZCBvdXQAQ29ubmVjdGlvbiByZWZ1c2VkAEhvc3QgaXMgZG93bgBIb3N0IGlzIHVucmVhY2hhYmxlAEFkZHJlc3MgaW4gdXNlAEJyb2tlbiBwaXBlAEkvTyBlcnJvcgBObyBzdWNoIGRldmljZSBvciBhZGRyZXNzAEJsb2NrIGRldmljZSByZXF1aXJlZABObyBzdWNoIGRldmljZQBOb3QgYSBkaXJlY3RvcnkASXMgYSBkaXJlY3RvcnkAVGV4dCBmaWxlIGJ1c3kARXhlYyBmb3JtYXQgZXJyb3IASW52YWxpZCBhcmd1bWVudABBcmd1bWVudCBsaXN0IHRvbyBsb25nAFN5bWJvbGljIGxpbmsgbG9vcABGaWxlbmFtZSB0b28gbG9uZwBUb28gbWFueSBvcGVuIGZpbGVzIGluIHN5c3RlbQBObyBmaWxlIGRlc2NyaXB0b3JzIGF2YWlsYWJsZQBCYWQgZmlsZSBkZXNjcmlwdG9yAE5vIGNoaWxkIHByb2Nlc3MAQmFkIGFkZHJlc3MARmlsZSB0b28gbGFyZ2UAVG9vIG1hbnkgbGlua3MATm8gbG9ja3MgYXZhaWxhYmxlAFJlc291cmNlIGRlYWRsb2NrIHdvdWxkIG9jY3VyAFN0YXRlIG5vdCByZWNvdmVyYWJsZQBQcmV2aW91cyBvd25lciBkaWVkAE9wZXJhdGlvbiBjYW5jZWxlZABGdW5jdGlvbiBub3QgaW1wbGVtZW50ZWQATm8gbWVzc2FnZSBvZiBkZXNpcmVkIHR5cGUASWRlbnRpZmllciByZW1vdmVkAERldmljZSBub3QgYSBzdHJlYW0ATm8gZGF0YSBhdmFpbGFibGUARGV2aWNlIHRpbWVvdXQAT3V0IG9mIHN0cmVhbXMgcmVzb3VyY2VzAExpbmsgaGFzIGJlZW4gc2V2ZXJlZABQcm90b2NvbCBlcnJvcgBCYWQgbWVzc2FnZQBGaWxlIGRlc2NyaXB0b3IgaW4gYmFkIHN0YXRlAE5vdCBhIHNvY2tldABEZXN0aW5hdGlvbiBhZGRyZXNzIHJlcXVpcmVkAE1lc3NhZ2UgdG9vIGxhcmdlAFByb3RvY29sIHdyb25nIHR5cGUgZm9yIHNvY2tldABQcm90b2NvbCBub3QgYXZhaWxhYmxlAFByb3RvY29sIG5vdCBzdXBwb3J0ZWQAU29ja2V0IHR5cGUgbm90IHN1cHBvcnRlZABOb3Qgc3VwcG9ydGVkAFByb3RvY29sIGZhbWlseSBub3Qgc3VwcG9ydGVkAEFkZHJlc3MgZmFtaWx5IG5vdCBzdXBwb3J0ZWQgYnkgcHJvdG9jb2wAQWRkcmVzcyBub3QgYXZhaWxhYmxlAE5ldHdvcmsgaXMgZG93bgBOZXR3b3JrIHVucmVhY2hhYmxlAENvbm5lY3Rpb24gcmVzZXQgYnkgbmV0d29yawBDb25uZWN0aW9uIGFib3J0ZWQATm8gYnVmZmVyIHNwYWNlIGF2YWlsYWJsZQBTb2NrZXQgaXMgY29ubmVjdGVkAFNvY2tldCBub3QgY29ubmVjdGVkAENhbm5vdCBzZW5kIGFmdGVyIHNvY2tldCBzaHV0ZG93bgBPcGVyYXRpb24gYWxyZWFkeSBpbiBwcm9ncmVzcwBPcGVyYXRpb24gaW4gcHJvZ3Jlc3MAU3RhbGUgZmlsZSBoYW5kbGUAUmVtb3RlIEkvTyBlcnJvcgBRdW90YSBleGNlZWRlZABObyBtZWRpdW0gZm91bmQAV3JvbmcgbWVkaXVtIHR5cGUATm8gZXJyb3IgaW5mb3JtYXRpb24=";var me=R;R+=16;var be={varargs:0,get:function get(e){return be.varargs+=4,P[be.varargs-4>>2]},getStr:function getStr(){return k(be.get())},get64:function get64(){var e=be.get(),t=be.get();return y(0<=e?0===t:-1===t),e},getZero:function getZero(){y(0===be.get())}};function ye(e,t){be.varargs=t;try{var i=be.get(),n=be.get(),r=be.get(),a=0;ye.buffers||(ye.buffers=[null,[],[]],ye.printChar=function(e,t){var i=ye.buffers[e];y(i),0===t||10===t?((1===e?o.print:o.printErr)(S(i,0)),i.length=0):i.push(t)});for(var s=0;s<r;s++){for(var l=P[n+8*s>>2],c=P[n+(8*s+4)>>2],h=0;h<c;h++){ye.printChar(i,B[l+h])}a+=c}return a}catch(e){return"undefined"!=typeof FS&&babelHelpers.instanceof(e,FS.ErrnoError)||ze(e),-e.errno}}var ge=function(e,t,i,n){var r,o;"number"==typeof e?(r=!0,o=e):(r=!1,o=e.length);var a,s="string"==typeof t?t:null;if(a=i==x?n:["function"==typeof Pe?Pe:p,Te,p,function(e){y(Z);var t=P[Z>>2],i=-16&t+e+15;return P[Z>>2]=i,i>=X&&!W()?(P[Z>>2]=t,0):t}][void 0===i?w:i](_Mathmax(o,s?1:t.length)),r){var l;for(n=a,y(0==(3&a)),l=a+(-4&o);n<l;n+=4){P[n>>2]=0}for(l=a+o;n<l;){C[n++>>0]=0}return a}if("i8"===s)return e.subarray||e.slice?B.set(e,a):B.set(new Uint8Array(e),a),a;for(var c,h,u,f=0,d;f<o;){d=e[f];0!==(c=s||t[f])?("i64"==c&&(c="i32"),A(a+f,d,c),u!==c&&(h=m(c),u=c),f+=h):f++}return a}([8,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,6,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,7,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,6,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0],"i8",w),ve=ae,Ae=se,we=se,xe=le;Z=p(4),L=_(F=(O=_(R))+Y),P[Z>>2]=L,G=!0;var ke=!1;function Ie(e){for(var t=[],i=0,n;i<e.length;i++){n=e[i];255<n&&(ke,n&=255),t.push(_StringfromCharCode(n))}return t.join("")}var Se="function"==typeof atob?atob:function(e){var t,i,n,r,o,a,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",l="",c=0;e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");do{t=s.indexOf(e.charAt(c++))<<2|(r=s.indexOf(e.charAt(c++)))>>4,i=(15&r)<<4|(o=s.indexOf(e.charAt(c++)))>>2,n=(3&o)<<6|(a=s.indexOf(e.charAt(c++))),l+=_StringfromCharCode(t),64!==o&&(l+=_StringfromCharCode(i)),64!==a&&(l+=_StringfromCharCode(n))}while(c<e.length);return l};function Ee(e){if(_e(e))return function(e){if("boolean"==typeof u&&u){var t;try{t=n.from(e,"base64")}catch(i){t=new n(e,"base64")}return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}try{for(var i=Se(e),r=new Uint8Array(i.length),o=0;o<i.length;++o){r[o]=i.charCodeAt(o)}return r}catch(e){throw new Error("Converting base64 string to bytes failed.")}}(e.slice(pe.length))}o.asmGlobalArg={Math:Math,Int8Array:Int8Array,Int16Array:Int16Array,Int32Array:Int32Array,Uint8Array:Uint8Array,Uint16Array:Uint16Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array,NaN:NaN,Infinity:1/0,byteLength:H},o.asmLibraryArg={abort:ze,assert:y,enlargeMemory:W,getTotalMemory:function getTotalMemory(){return X},abortOnCannotGrowMemory:function abortOnCannotGrowMemory(){ze("Cannot enlarge memory arrays. Either (1) compile with  -s TOTAL_MEMORY=X  with X higher than the current value "+X+", (2) compile with  -s ALLOW_MEMORY_GROWTH=1  which allows increasing the size at runtime but prevents some optimizations, (3) set Module.TOTAL_MEMORY to a higher value before the program runs, or (4) if you want malloc to return NULL (0) instead of this abort, compile with  -s ABORTING_MALLOC=0 ")},invoke_di:function invoke_di(e,t){try{return o.dynCall_di(e,t)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;o.setThrew(1,0)}},invoke_ii:function invoke_ii(e,t){try{return o.dynCall_ii(e,t)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;o.setThrew(1,0)}},invoke_iii:function invoke_iii(e,t,i){try{return o.dynCall_iii(e,t,i)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;o.setThrew(1,0)}},invoke_iiii:function invoke_iiii(e,t,i,n){try{return o.dynCall_iiii(e,t,i,n)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;o.setThrew(1,0)}},invoke_iiiii:function invoke_iiiii(e,t,i,n,r){try{return o.dynCall_iiiii(e,t,i,n,r)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;o.setThrew(1,0)}},invoke_iiiiii:function invoke_iiiiii(e,t,i,n,r,a){try{return o.dynCall_iiiiii(e,t,i,n,r,a)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;o.setThrew(1,0)}},invoke_iiiiiii:function invoke_iiiiiii(e,t,i,n,r,a,s){try{return o.dynCall_iiiiiii(e,t,i,n,r,a,s)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;o.setThrew(1,0)}},invoke_iiiiiiii:function invoke_iiiiiiii(e,t,i,n,r,a,s,l){try{return o.dynCall_iiiiiiii(e,t,i,n,r,a,s,l)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;o.setThrew(1,0)}},invoke_iiiiiiiiiiii:function invoke_iiiiiiiiiiii(e,t,i,n,r,a,s,l,c,h,u,f){try{return o.dynCall_iiiiiiiiiiii(e,t,i,n,r,a,s,l,c,h,u,f)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;o.setThrew(1,0)}},invoke_vi:function invoke_vi(e,t){try{o.dynCall_vi(e,t)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;o.setThrew(1,0)}},invoke_vii:function invoke_vii(e,t,i){try{o.dynCall_vii(e,t,i)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;o.setThrew(1,0)}},invoke_viii:function invoke_viii(e,t,i,n){try{o.dynCall_viii(e,t,i,n)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;o.setThrew(1,0)}},invoke_viiii:function invoke_viiii(e,t,i,n,r){try{o.dynCall_viiii(e,t,i,n,r)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;o.setThrew(1,0)}},___lock:function ___lock(){},___setErrNo:function ___setErrNo(e){return o.___errno_location&&(P[o.___errno_location()>>2]=e),e},___syscall140:function ___syscall140(e,t){be.varargs=t;try{var i=be.getStreamFromFD(),n=(be.get(),be.get()),r=be.get(),o=be.get(),a=n;return FS.llseek(i,a,o),P[r>>2]=i.position,i.getdents&&0===a&&0===o&&(i.getdents=null),0}catch(e){return"undefined"!=typeof FS&&babelHelpers.instanceof(e,FS.ErrnoError)||ze(e),-e.errno}},___syscall145:function ___syscall145(e,t){be.varargs=t;try{var i=be.getStreamFromFD(),n=be.get(),r=be.get();return be.doReadv(i,n,r)}catch(e){return"undefined"!=typeof FS&&babelHelpers.instanceof(e,FS.ErrnoError)||ze(e),-e.errno}},___syscall146:ye,___syscall221:function ___syscall221(e,t){be.varargs=t;try{return 0}catch(e){return"undefined"!=typeof FS&&babelHelpers.instanceof(e,FS.ErrnoError)||ze(e),-e.errno}},___syscall5:function ___syscall5(e,t){be.varargs=t;try{var i=be.getStr(),n=be.get(),r=be.get();return FS.open(i,n,r).fd}catch(e){return"undefined"!=typeof FS&&babelHelpers.instanceof(e,FS.ErrnoError)||ze(e),-e.errno}},___syscall54:function ___syscall54(e,t){be.varargs=t;try{return 0}catch(e){return"undefined"!=typeof FS&&babelHelpers.instanceof(e,FS.ErrnoError)||ze(e),-e.errno}},___syscall6:function ___syscall6(e,t){be.varargs=t;try{var i=be.getStreamFromFD();return FS.close(i),0}catch(e){return"undefined"!=typeof FS&&babelHelpers.instanceof(e,FS.ErrnoError)||ze(e),-e.errno}},___unlock:function ___unlock(){},_emscripten_memcpy_big:function _emscripten_memcpy_big(e,t,i){return B.set(B.subarray(t,t+i),e),e},_llvm_ceil_f32:ve,_llvm_floor_f32:Ae,_llvm_floor_f64:we,_llvm_pow_f64:xe,flush_NO_FILESYSTEM:function flush_NO_FILESYSTEM(){var e=o._fflush;e&&e(0);var t=ye.printChar;if(t){var i=ye.buffers;i[1].length&&t(1,10),i[2].length&&t(2,10)}},DYNAMICTOP_PTR:Z,tempDoublePtr:me,ABORT:b,STACKTOP:O,STACK_MAX:F,cttz_i8:ge};var Ce,Be=function(e,t,i){"almost asm";var n=e.Int8Array,r=new n(i),o=e.Int16Array,a=new o(i),s=e.Int32Array,l=new s(i),c=e.Uint8Array,h=new c(i),u=e.Uint16Array,f=new u(i),d=e.Uint32Array,p=(new d(i),e.Float32Array),_=new p(i),m=e.Float64Array,b=new m(i),y=e.byteLength,g=0|t.DYNAMICTOP_PTR,v=0|t.tempDoublePtr,A=(t.ABORT,0|t.STACKTOP),w=(t.STACK_MAX,0|t.cttz_i8),x=0,k=(e.NaN,e.Infinity,0),I=e.Math.floor,S=(e.Math.abs,e.Math.sqrt),E=e.Math.pow,C=(e.Math.cos,e.Math.sin,e.Math.tan,e.Math.acos,e.Math.asin,e.Math.atan,e.Math.atan2,e.Math.exp,e.Math.log,e.Math.ceil),B=e.Math.imul,M=(e.Math.min,e.Math.max,e.Math.clz32),P=t.abort,T=(t.assert,t.enlargeMemory),D=t.getTotalMemory,R=t.abortOnCannotGrowMemory,G=(t.invoke_di,t.invoke_ii,t.invoke_iii,t.invoke_iiii,t.invoke_iiiii,t.invoke_iiiiii,t.invoke_iiiiiii,t.invoke_iiiiiiii,t.invoke_iiiiiiiiiiii,t.invoke_vi,t.invoke_vii,t.invoke_viii,t.invoke_viiii,t.___lock),O=t.___setErrNo,F=t.___syscall140,L=t.___syscall145,Z=t.___syscall146,H=t.___syscall221,N=t.___syscall5,z=t.___syscall54,V=t.___syscall6,U=t.___unlock,j=t._emscripten_memcpy_big;function W(e,t){e|=0,t|=0;var i=0;return(i=0|Ne(1,72))?(l[i+64>>2]=e,e=0|He(e),l[i+32>>2]=e,e?(l[i+36>>2]=e,t=0==(0|t),l[(e=0|i+68)>>2]=l[e>>2]|(t?1:2),l[i+40>>2]=t?29:30,l[i+44>>2]=t?31:32,l[i+16>>2]=4,l[i+20>>2]=5,l[i+24>>2]=6,l[i+28>>2]=7,0|i):(je(i),0|(i=0))):0|(i=0)}function Y(e){e|=0;var t,i=0;return(t=0|Ne(1,72))?(l[t+64>>2]=1048576,i=0|He(1048576),l[t+32>>2]=i,i?(l[t+36>>2]=i,i=0==(0|e),l[(e=0|t+68)>>2]=l[e>>2]|(i?1:2),l[t+40>>2]=i?29:30,l[t+44>>2]=i?31:32,l[t+16>>2]=4,l[t+20>>2]=5,l[t+24>>2]=6,l[t+28>>2]=7,0|(i=t)):(je(t),0|(i=0))):0|(i=0)}function X(e){var t=0;(e|=0)&&(0|(t=0|l[e+4>>2])&&io[7&t](0|l[e>>2]),je(0|l[(t=0|e+32)>>2]),l[t>>2]=0,je(e))}function Q(e,t){t|=0,(e|=0)&&2&l[e+68>>2]&&(l[e+16>>2]=t)}function J(e,t){t|=0,(e|=0)&&(l[e+28>>2]=t)}function q(e,t){t|=0,(e|=0)&&(l[e+24>>2]=t)}function K(e,t,i){t|=0,i|=0,(e|=0)&&(l[e>>2]=t,l[e+4>>2]=i)}function $(e,t,i){t|=0,i|=0,(e|=0)&&(l[(e=0|e+8)>>2]=t,l[e+4>>2]=i)}function ee(e,t){t|=0,(e|=0)&&1&l[e+68>>2]&&(l[e+20>>2]=t)}function te(e,t,i,n){t|=0,i|=0,n|=0;var r,o=0;return l[36+(e|=0)>>2]=l[e+32>>2],l[e+48>>2]=0,o=0==(0|Jr[63&l[e+28>>2]](t,i,0|l[e>>2])),r=0|l[(n=0|e+68)>>2],o?(l[n>>2]=4|r,0|(o=0)):(l[n>>2]=-5&r,l[(o=0|e+56)>>2]=t,l[o+4>>2]=i,0|(o=1))}function ie(e,t,i){e|=0,t|=0,i|=0;var n,o,a=0;if(o=A,A=0|A+16,l[(n=o)>>2]=t,i){for(a=0,t=0|n+i;t=0|t+-1,r[e>>0]=0|r[t>>0],(0|(a=0|a+1))!=(0|i);){e=0|e+1}A=o}else A=o}function ne(e,t,i){e|=0,i|=0;var n=0;if(l[(t|=0)>>2]=0,i)for(n=0|t+i,t=e,e=0;r[(n=0|n+-1)>>0]=0|r[t>>0],(0|(e=0|e+1))!=(0|i);){t=0|t+1}}function re(e,t){e|=0,t=+t;var i,n=0,o=0;b[v>>3]=t,o=0|Sr(0|(i=0|l[v>>2]),0|(n=0|l[v+4>>2]),56),r[e>>0]=o,o=0|Sr(0|i,0|n,48),r[e+1>>0]=o,o=0|Sr(0|i,0|n,40),r[e+2>>0]=o,r[e+3>>0]=n,o=0|Sr(0|i,0|n,24),r[e+4>>0]=o,o=0|Sr(0|i,0|n,16),r[e+5>>0]=o,n=0|Sr(0|i,0|n,8),r[e+6>>0]=n,r[e+7>>0]=i}function oe(e,t){var i;e|=0,r[(i=0|8+(t|=0))-1>>0]=0|r[e>>0],r[i+-2>>0]=0|r[e+1>>0],r[i+-3>>0]=0|r[e+2>>0],r[i+-4>>0]=0|r[e+3>>0],r[i+-5>>0]=0|r[e+4>>0],r[i+-6>>0]=0|r[e+5>>0],r[i+-7>>0]=0|r[e+6>>0],r[t>>0]=0|r[e+7>>0]}function ae(e,t){e|=0,t=+t;var i=0;_[v>>2]=t,i=0|l[v>>2],r[e>>0]=i>>>24,r[e+1>>0]=i>>>16,r[e+2>>0]=i>>>8,r[e+3>>0]=i}function se(e,t){var i;e|=0,r[(i=0|4+(t|=0))-1>>0]=0|r[e>>0],r[i+-2>>0]=0|r[e+1>>0],r[i+-3>>0]=0|r[e+2>>0],r[t>>0]=0|r[e+3>>0]}function le(e,t,i,n){t|=0,i|=0,n|=0;var r,o,a,s=0,c=0,h=0,u=0,f=0,d=0,p=0,_=0,m=0,b=0,y=0,g=0;if(a=A,A=0|A+16,y=0|a+8,b=a,(s=0|l[(o=0|48+(e|=0))>>2])>>>0>=i>>>0)return Br(0|t,0|l[(y=0|e+36)>>2],0|i),l[y>>2]=(0|l[y>>2])+i,l[o>>2]=(0|l[o>>2])-i,b=0|gr(0|l[(b=y=0|e+56)>>2],0|l[b+4>>2],0|i,0),l[y>>2]=b,l[y+4>>2]=k,A=a,0|(y=i);if(0|4&l[(r=0|e+68)>>2])return Br(0|t,0|l[(y=0|e+36)>>2],0|s),b=0|l[o>>2],l[y>>2]=(0|l[y>>2])+b,b=0|gr(0|l[(n=y=0|e+56)>>2],0|l[n+4>>2],0|b,0),l[y>>2]=b,l[y+4>>2]=k,l[o>>2]=0,A=a,0|(y=0|s?s:-1);for(s?(Br(0|t,0|l[(_=0|e+36)>>2],0|s),c=0|l[(m=0|e+32)>>2],l[_>>2]=c,p=0|l[o>>2],f=0|gr(0|l[(f=d=0|e+56)>>2],0|l[f+4>>2],0|p,0),l[d>>2]=f,l[d+4>>2]=k,l[o>>2]=0,i=0|i-p,t=0|t+p):(c=0|l[(m=0|e+32)>>2],l[(_=0|e+36)>>2]=c,s=0),d=0|e+64,p=0|e+16,f=0|e+56;;){if(h=0|l[d>>2],u=0|l[p>>2],i>>>0>=h>>>0){if(h=0|Jr[63&u](t,i,0|l[e>>2]),l[o>>2]=h,-1==(0|h)){c=16;break}if(s=0|h+s,!(h>>>0<i>>>0)){c=19;break}c=h}else{if(c=0|Jr[63&u](c,h,0|l[e>>2]),l[o>>2]=c,-1==(0|c)){c=11;break}if(c>>>0>=i>>>0){c=14;break}Br(0|t,0|l[_>>2],0|c),s=0|c+s,c=0|l[o>>2]}u=0|l[m>>2],l[_>>2]=u,g=0|gr(0|l[(g=f)>>2],0|l[g+4>>2],0|c,0),l[(h=f)>>2]=g,l[h+4>>2]=k,l[o>>2]=0,i=0|i-c,t=0|t+c,c=u}return 11==(0|c)?(_e(n,4,4386,b),l[o>>2]=0,l[r>>2]=4|l[r>>2],A=a,0|(g=0|s?s:-1)):14==(0|c)?(Br(0|t,0|l[_>>2],0|i),l[_>>2]=(0|l[_>>2])+i,l[o>>2]=(0|l[o>>2])-i,y=0|gr(0|l[(y=g=0|e+56)>>2],0|l[y+4>>2],0|i,0),l[g>>2]=y,l[g+4>>2]=k,A=a,0|(g=0|s+i)):16==(0|c)?(_e(n,4,4386,y),l[o>>2]=0,l[r>>2]=4|l[r>>2],A=a,0|(g=0|s?s:-1)):19==(0|c)?(y=0|gr(0|l[(y=g=0|e+56)>>2],0|l[y+4>>2],0|h,0),l[g>>2]=y,l[g+4>>2]=k,l[_>>2]=l[m>>2],l[o>>2]=0,A=a,0|(g=s)):0}function ce(e,t,i,n){t|=0,i|=0,n|=0;var r,o,a,s,c=0,h=0,u=0,f=0,d=0,p=0,_=0,m=0,b=0,y=0,g=0,v=0;if(s=A,A=0|A+16,a=s,0|8&l[(r=0|68+(e|=0))>>2])return A=s,0|(y=-1);o=0|e+64,d=0|l[(y=0|e+48)>>2],c=0|(0|l[o>>2])-d;do{if(c>>>0<i>>>0){_=0|e+32,h=0|e+36,m=0|e+20,u=0|e+56,f=0,p=c;e:for(;;){if(p?(Br(0|l[h>>2],0|t,0|p),c=0|l[_>>2],l[h>>2]=c,d=0|(0|l[y>>2])+p,l[y>>2]=d,v=0|gr(0|l[(v=u)>>2],0|l[v+4>>2],0|p,0),l[(g=u)>>2]=v,l[g+4>>2]=k,f=0|p+f,i=0|i-p,t=0|t+p):c=0|l[_>>2],l[h>>2]=c,d){do{if(-1==(0|(d=0|Jr[63&l[m>>2]](c,d,0|l[e>>2]))))break e;c=0|(0|l[h>>2])+d,l[h>>2]=c,d=0|(0|l[y>>2])-d,l[y>>2]=d}while(0!=(0|d));c=0|l[_>>2]}if(l[h>>2]=c,i>>>0<=(p=0|l[o>>2])>>>0){b=5;break}d=0}if(5==(0|b))break;return l[r>>2]=8|l[r>>2],_e(n,4,4360,a),A=s,0|(v=-1)}f=0,u=0|e+56,h=c=0|e+36,c=0|l[c>>2]}while(0);return Br(0|c,0|t,0|i),l[h>>2]=(0|l[h>>2])+i,l[y>>2]=(0|l[y>>2])+i,g=0|gr(0|l[(g=u)>>2],0|l[g+4>>2],0|i,0),l[(v=u)>>2]=g,l[v+4>>2]=k,A=s,0|(v=0|f+i)}function he(e){return k=0|l[4+(e=0|56+(e|=0))>>2],0|l[e>>2]}function ue(e){var t=0,i=0;return 0==(0|(t=0|l[(i=0|8+(e|=0))>>2]))&0==(0|(i=0|l[i+4>>2]))?(k=t=0,0|(i=0)):(i=0|vr(0|t,0|i,0|l[(e=0|e+56)>>2],0|l[e+4>>2]),k=t=k,0|i)}function fe(e,t,i,n){return t|=0,i|=0,n|=0,0|(n=0|qr[63&l[40+(e|=0)>>2]](e,t,i,n))}function de(e,t,i,n){return t|=0,i|=0,n|=0,0|qr[63&l[44+(e|=0)>>2]](e,t,i,n)}function pe(e){return 0|7!=(0|l[28+(e|=0)>>2])}function _e(e,t,i,n){e|=0,t|=0,i|=0,n|=0;var r,o,a,s=0;a=A,A=0|A+528,r=a,o=0|a+16;e:do{if(e){switch(0|t){case 1:t=0|e+12;break;case 2:t=0|e+16,e=0|e+4;break;case 4:t=0|e+20,e=0|e+8;break;default:t=0;break e;}s=0|l[t>>2],t=0|l[e>>2],s?i?(Mr(0|o,0,512),l[r>>2]=n,lr(o,512,i,r),no[7&s](o,t),t=1):t=1:t=0}else t=0}while(0);return A=a,0|t}function me(e){l[(e|=0)>>2]=0,l[e+4>>2]=0,l[e+8>>2]=0,l[e+12>>2]=4,l[e+20>>2]=4,l[e+16>>2]=4}function be(e,t,i){e|=0,t|=0,i|=0;var n,r,o=0,a=0,s=0,c=0,h=0;if(!(n=0|Ne(1,36)))return 0|(s=n);if(l[n+20>>2]=i,l[(r=0|n+16)>>2]=e,o=0|Ne(1,0|52*e),l[(s=0|n+24)>>2]=o,!o)return 0|(i=0|l[n+28>>2])&&je(i),je(n),0|(s=0);if(!e)return 0|(s=n);for(i=0;l[o+(0|52*i)>>2]=l[t+(0|36*i)>>2],l[o+(0|52*i)+4>>2]=l[t+(0|36*i)+4>>2],c=0|l[t+(0|36*i)+8>>2],l[o+(0|52*i)+8>>2]=c,h=0|l[t+(0|36*i)+12>>2],l[o+(0|52*i)+12>>2]=h,l[o+(0|52*i)+16>>2]=l[t+(0|36*i)+16>>2],l[o+(0|52*i)+20>>2]=l[t+(0|36*i)+20>>2],l[o+(0|52*i)+24>>2]=l[t+(0|36*i)+24>>2],l[o+(0|52*i)+28>>2]=l[t+(0|36*i)+28>>2],l[o+(0|52*i)+32>>2]=l[t+(0|36*i)+32>>2],c=0|Ne(0|B(h,c),4),l[o+(0|52*i)+44>>2]=c,i=0|i+1,c;){if(i>>>0>=e>>>0){a=22;break}o=0|l[s>>2]}if(22==(0|a))return 0|n;if(0|(i=0|l[s>>2])){if(o=0|l[r>>2]){for(e=0;(i=0|l[i+(0|52*e)+44>>2])&&(je(i),o=0|l[r>>2]),!((i=0|e+1)>>>0>=o>>>0);){e=i,i=0|l[s>>2]}i=0|l[s>>2]}je(i)}return 0|(i=0|l[n+28>>2])&&je(i),je(n),0|(h=0)}function ye(e){var t,i=0,n=0,r=0,o=0;if(e|=0){if(0|(i=0|l[(t=0|e+24)>>2])){if(n=0|l[(o=0|e+16)>>2]){for(r=0;(i=0|l[i+(0|52*r)+44>>2])&&(je(i),n=0|l[o>>2]),!((i=0|r+1)>>>0>=n>>>0);){r=i,i=0|l[t>>2]}i=0|l[t>>2]}je(i)}0|(i=0|l[e+28>>2])&&je(i),je(e)}}function ge(){return 0|Ne(1,36)}function ve(e,t){e|=0;var i,n,r=0,o=0,a=0,s=0,c=0;if(l[(t|=0)>>2]=l[e>>2],l[t+4>>2]=l[e+4>>2],l[t+8>>2]=l[e+8>>2],l[t+12>>2]=l[e+12>>2],i=0|t+16,o=0|l[(n=0|t+24)>>2]){if(a=0|l[i>>2]){for(r=0;(o=0|l[o+(0|52*r)+44>>2])&&(je(o),a=0|l[i>>2]),!((r=0|r+1)>>>0>=a>>>0);){o=0|l[n>>2]}r=n,o=0|l[n>>2]}else r=n;je(o),l[n>>2]=0}else r=n;if(o=0|l[e+16>>2],l[i>>2]=o,o=0|He(0|52*o),l[r>>2]=o,!o)return l[n>>2]=0,void(l[i>>2]=0);if(0|l[i>>2]){c=0|e+24,s=0,r=o;do{r=0|r+(0|52*s),o=0|(0|l[c>>2])+(0|52*s),a=0|r+52;do{l[r>>2]=l[o>>2],r=0|r+4,o=0|o+4}while((0|r)<(0|a));r=0|l[n>>2],l[r+(0|52*s)+44>>2]=0,s=0|s+1}while(s>>>0<(0|l[i>>2])>>>0)}if(l[t+20>>2]=l[e+20>>2],r=0|l[(a=0|e+32)>>2],l[(s=0|t+32)>>2]=r,r)return o=0|He(r),l[(r=0|t+28)>>2]=o,o?void Br(0|o,0|l[e+28>>2],0|l[a>>2]):(l[r>>2]=0,void(l[s>>2]=0));l[t+28>>2]=0}function Ae(e){e|=0;var t=0;if(!(t=0|Ne(1,84)))return 0|(t=0);switch(l[t+68>>2]=0,0|e){case 0:if(l[t+4>>2]=8,l[t+12>>2]=9,l[t>>2]=33,l[t+8>>2]=1,l[t+16>>2]=1,l[t+20>>2]=34,e=0|Ye(),l[t+40>>2]=e,!e)return je(t),0|(t=0);break;case 2:if(l[t+4>>2]=10,l[t+12>>2]=11,l[t>>2]=35,l[t+8>>2]=2,l[t+16>>2]=2,l[t+20>>2]=36,e=0|Mt(0),l[t+40>>2]=e,!e)return je(t),0|(t=0);break;default:return je(t),0|(t=0);}return me(0|t+44),0|t}function we(e){e|=0;var t=0;if(!(t=0|Ne(1,84)))return 0|(t=0);switch(l[t+68>>2]=1,0|e){case 0:if(l[t+72>>2]=13,l[t+76>>2]=2,l[t+80>>2]=3,l[t+4>>2]=37,l[t+16>>2]=12,l[t>>2]=38,l[t+20>>2]=1,l[t+24>>2]=5,l[t+8>>2]=1,l[t+12>>2]=3,l[t+28>>2]=1,l[t+32>>2]=1,l[t+36>>2]=13,e=0|at(),l[t+40>>2]=e,!e)return je(t),0|(t=0);break;case 2:if(l[t+72>>2]=14,l[t+76>>2]=4,l[t+80>>2]=5,l[t+4>>2]=39,l[t+16>>2]=14,l[t>>2]=40,l[t+8>>2]=2,l[t+12>>2]=4,l[t+20>>2]=2,l[t+24>>2]=6,l[t+28>>2]=2,l[t+32>>2]=2,l[t+36>>2]=15,e=0|Mt(1),l[t+40>>2]=e,!e)return je(t),0|(t=0);break;default:return je(t),0|(t=0);}return me(0|t+44),0|t}function xe(e,t,i){return i|=0,0!=(0|(e|=0))&0!=(0|(t|=0))&&0|l[e+68>>2]?0|(i=0|qr[63&l[e+4>>2]](0|l[e+40>>2],t,i,0|e+44)):0|(i=0)}function ke(e){var t=0;(e|=0)&&(0|l[e+68>>2]?(t=0|e+40,io[7&l[e+20>>2]](0|l[t>>2])):(t=0|e+40,io[7&l[e+16>>2]](0|l[t>>2])),l[t>>2]=0,je(e))}function Ie(e){var t,i=0;(e|=0)&&(i=0|l[e>>2],(t=0|l[i+48>>2])&&(je(t),i=0|l[e>>2]),je(i),l[e>>2]=0)}function Se(e,t){return 0!=(0|(e|=0))&0!=(0|(t|=0))?0|l[e+68>>2]?0|(t=0):0|(t=0|Jr[63&l[e+4>>2]](0|l[e+40>>2],t,0|e+44)):0|(t=0)}function Ee(e,t){return 0!=(0|(e|=0))&0!=(0|(t|=0))?0|l[e+68>>2]?0|(t=0):0|(t=0|Jr[63&l[e+12>>2]](0|l[e+40>>2],t,0|e+44)):0|(t=0)}function Ce(e,t,i){var n;return i|=0,n=A,A=0|A+16,0!=(0|(e|=0))&0!=(0|(t|=0))?0|l[t+68>>2]?(i=0|qr[63&l[t>>2]](e,0|l[t+40>>2],i,0|t+44),A=n,0|i):(_e(0|t+44,1,4520,n),A=n,0|(i=0)):(A=n,0|(i=0))}function Be(e){(e|=0)&&(Mr(0|e,0,8248),l[e+8200>>2]=-1,l[e+8204>>2]=-1,l[e+8248>>2]=0)}function Me(e){(e|=0)&&(Mr(0|e,0,18708),l[e+5592>>2]=6,l[e+18684>>2]=0,l[e+5596>>2]=64,l[e+5600>>2]=64,l[e+44>>2]=0,l[e+5612>>2]=-1,l[e+18188>>2]=1,l[e+18192>>2]=1,r[e+18688>>0]=0,l[e+18196>>2]=-1,l[e+18200>>2]=-1,_[e+4792>>2]=0,l[e+4788>>2]=0,l[e+20>>2]=0,l[e+24>>2]=0,l[e+28>>2]=0,l[e+18692>>2]=0)}function Pe(e,t,i){return t|=0,i|=0,(e|=0)?(l[e+56>>2]=t,l[e+44>>2]=i,0|(i=1)):0|(i=0)}function Te(e,t,i){return t|=0,i|=0,(e|=0)?(l[e+64>>2]=t,l[e+52>>2]=i,0|(i=1)):0|(i=0)}function De(e,t,i){return t|=0,i|=0,(e|=0)?(l[e+60>>2]=t,l[e+48>>2]=i,0|(i=1)):0|(i=0)}function Re(e,t){var i;return i=A,A=0|A+16,0!=(0|(e|=0))&0!=(0|(t|=0))?0|l[e+68>>2]?(no[7&l[e+24>>2]](0|l[e+40>>2],t),A=i,0|(t=1)):(_e(0|e+44,1,4439,i),A=i,0|(t=0)):(A=i,0|(t=0))}function Ge(e,t,i){return 0!=(0|(e|=0))&0!=(0|(t|=0))&0!=(0|(i|=0))?0|l[e+68>>2]?0|(i=0):0|(i=0|qr[63&l[e+20>>2]](0|l[e+40>>2],t,i,0|e+44)):0|(i=0)}function Oe(e,t,i){return t|=0,0!=(0|(e|=0))&0!=(0|(i|=0))?0|l[e+68>>2]?0|(i=0):0|(i=0|qr[63&l[e>>2]](0|l[e+40>>2],i,t,0|e+44)):0|(i=0)}function Fe(e,t){t|=0;var i=0;return(e|=0)&&(i=0|Y(t))?(K(i,e,0),$(i,0|l[e+8>>2],0),t?Q(i,16):ee(i,17),q(i,18),J(i,19),0|i):0|(i=0)}function Le(e,t,i){t|=0,i|=0;var n=0;return(e|=0)&&(n=0|Gn(e,0==(0|i)?4433:4436))?(e=0|W(t,i))?(K(e,n,6),Vn(n,0,2),i=0|function(e){return 0|function(e){var t=0,i=0;return-1<(0|l[76+(e|=0)>>2])?(i=0==(0|Bn()),t=0|br(e),i||Cn()):t=0|br(e),0|t}(e|=0)}(n),Vn(n,0,0),$(e,i,(0>(0|i))<<31>>31),Q(e,20),ee(e,21),q(e,22),J(e,23),0|(n=e)):(Hn(n),0|(n=0)):0|(n=0)}function Ze(){return 4427}function He(e){return 0|(e=(e|=0)?0|mn(e):0)}function Ne(e,t){return 0==(0|(e|=0))|0==(0|(t|=0))?0|(t=0):0|(t=0|function(e,t){t|=0;var i=0;return(e|=0)?(i=0|B(t,e),65535<(t|e)>>>0&&(i=(0|(i>>>0)/(e>>>0))==(0|t)?i:-1)):i=0,(e=0|mn(i))&&3&l[e+-4>>2]?(Mr(0|e,0,0|i),0|e):0|e}(e,t))}function ze(e){var t,i;e|=0,i=A,A=0|A+16,t=i;do{if(e){if(0|vn(t,16,e)){l[t>>2]=0,e=0;break}e=0|l[t>>2];break}e=0}while(0);return A=i,0|e}function Ve(e){bn(e|=0)}function Ue(e,t){return e|=0,0|(e=(t|=0)?0|function(e,t){t|=0;var i=0,n=0;return(e|=0)?4294967231<t>>>0?(l[(t=25296)>>2]=12,0|(t=0)):0|(i=0|function(e,t){t|=0;var i=0,n=0,r=0,o=0,a=0,s=0,c=0,h=0,u=0,f=0;if(f=0|l[(u=0|4+(e|=0))>>2],s=0|e+(i=-8&f),!(3&f))return 256>t>>>0?0|(e=0):i>>>0>=(0|t+4)>>>0&&(0|i-t)>>>0<=l[6304]<<1>>>0?0|e:0|(e=0);if(i>>>0>=t>>>0)return 15>=(i=0|i-t)>>>0?0|e:(h=0|e+t,l[u>>2]=2|(1&f|t),l[h+4>>2]=3|i,l[(f=0|s+4)>>2]=1|l[f>>2],yn(h,i),0|e);if((0|l[6190])==(0|s))return h=0|(0|l[6187])+i,i=0|h-t,n=0|e+t,h>>>0<=t>>>0?0|(e=0):(l[u>>2]=2|(1&f|t),l[n+4>>2]=1|i,l[6190]=n,l[6187]=i,0|e);if((0|l[6189])==(0|s))return(n=0|(0|l[6186])+i)>>>0<t>>>0?0|(e=0):(15<(i=0|n-t)>>>0?(h=0|e+t,n=0|e+n,l[u>>2]=2|(1&f|t),l[h+4>>2]=1|i,l[n>>2]=i,l[(n=0|n+4)>>2]=-2&l[n>>2],n=h):(l[u>>2]=2|(1&f|n),l[(n=0|e+n+4)>>2]=1|l[n>>2],n=0,i=0),l[6186]=i,l[6189]=n,0|e);if(0|2&(n=0|l[s+4>>2]))return 0|(e=0);if((c=0|(-8&n)+i)>>>0<t>>>0)return 0|(e=0);h=0|c-t,r=n>>>3;do{if(256>n>>>0){if(n=0|l[s+8>>2],(0|(i=0|l[s+12>>2]))==(0|n)){l[6184]=l[6184]&~(1<<r);break}l[n+12>>2]=i,l[i+8>>2]=n;break}a=0|l[s+24>>2],i=0|l[s+12>>2];do{if((0|i)==(0|s)){if(i=0|l[(n=0|4+(r=0|s+16))>>2])o=n;else{if(!(i=0|l[r>>2])){r=0;break}o=r}for(;;){if(0|(n=0|l[(r=0|i+20)>>2]))i=n,o=r;else{if(!(r=0|l[(n=0|i+16)>>2]))break;i=r,o=n}}l[o>>2]=0,r=i}else r=0|l[s+8>>2],l[r+12>>2]=i,l[i+8>>2]=r,r=i}while(0);if(0|a){if(i=0|l[s+28>>2],(0|l[(n=0|25040+(i<<2))>>2])==(0|s)){if(l[n>>2]=r,!r){l[6185]=l[6185]&~(1<<i);break}}else if(l[a+16+((1&(0|l[a+16>>2])!=(0|s))<<2)>>2]=r,!r)break;l[r+24>>2]=a,0|(n=0|l[(i=0|s+16)>>2])&&(l[r+16>>2]=n,l[n+24>>2]=r),0|(i=0|l[i+4>>2])&&(l[r+20>>2]=i,l[i+24>>2]=r)}}while(0);return 16>h>>>0?(l[u>>2]=2|(c|1&f),l[(f=0|e+c+4)>>2]=1|l[f>>2],0|e):(s=0|e+t,l[u>>2]=2|(1&f|t),l[s+4>>2]=3|h,l[(f=0|e+c+4)>>2]=1|l[f>>2],yn(s,h),0|e)}(0|e+-8,11>t>>>0?16:-8&t+11))?0|(t=0|i+8):(i=0|mn(t))?(n=0|l[e+-4>>2],Br(0|i,0|e,0|((n=0|(-8&n)-(0==(0|3&n)?8:4))>>>0<t>>>0?n:t)),bn(e),0|(t=i)):0|(t=0):0|(t=0|mn(t))}(e,t):0)}function je(e){bn(e|=0)}function We(e,t){0!=(0|(e|=0))&0!=(0|(t|=0))&&(l[e+172>>2]=l[t+4>>2],l[e+168>>2]=l[t>>2])}function Ye(){var e=0,t=0;return(e=0|Ne(1,208))?(l[e>>2]=0,r[(t=0|e+184)>>0]=-3&r[t>>0],t=0|He(1e3),l[e+44>>2]=t,t?(l[e+48>>2]=1e3,t=0|_i(),l[e+192>>2]=t,t?(t=0|_i(),l[e+188>>2]=t,0|t?0|(t=e):(Xe(e),0|(t=0))):(Xe(e),0|(t=0))):(Xe(e),0|(t=0))):0|(e=0)}function Xe(e){var t=0,i=0,n=0,o=0,a=0,s=0;if(e|=0){if(0|l[e>>2]?(0|(i=0|l[(t=0|e+12)>>2])&&(Qe(i),je(0|l[t>>2]),l[t>>2]=0),0|(i=0|l[(t=0|e+16)>>2])&&(je(i),l[t>>2]=0,l[e+20>>2]=0)):(0|(i=0|l[(t=0|e+36)>>2])&&(je(i),l[t>>2]=0),0|(i=0|l[(t=0|e+24)>>2])&&(je(i),l[t>>2]=0,l[e+28>>2]=0),0|(i=0|l[(t=0|e+44)>>2])&&(je(i),l[t>>2]=0,l[e+48>>2]=0)),$t(0|l[e+204>>2]),t=0|e+88,0|(i=0|l[(a=0|e+164)>>2])){if(o=0|B(0|l[e+112>>2],0|l[e+116>>2])){for(n=0;Qe(i),(0|(n=0|n+1))!=(0|o);){i=0|i+5640}i=0|l[a>>2]}je(i),l[a>>2]=0}if(0|(i=0|l[(a=0|e+124)>>2])){if(n=0|l[(s=0|e+120)>>2]){for(o=0;(i=0|l[i+(o<<3)>>2])&&(je(i),n=0|l[s>>2]),!((i=0|o+1)>>>0>=n>>>0);){o=i,i=0|l[a>>2]}i=0|l[a>>2]}l[s>>2]=0,je(i),l[a>>2]=0}je(0|l[(s=0|e+144)>>2]),l[s>>2]=0,l[e+128>>2]=0,je(0|l[(s=0|e+108)>>2]),l[s>>2]=0,2&r[e+184>>0]||(je(0|l[(s=0|e+176)>>2]),l[s>>2]=0),i=0|t+100;do{l[t>>2]=0,t=0|t+4}while((0|t)<(0|i));mi(0|l[(s=0|e+188)>>2]),l[s>>2]=0,mi(0|l[e+192>>2]),l[s>>2]=0,Je(0|l[(s=0|e+196)>>2]),l[s>>2]=0,ye(0|l[(s=0|e+80)>>2]),l[s>>2]=0,ye(0|l[(s=0|e+84)>>2]),l[s>>2]=0,je(e)}}function Qe(e){var t,i=0,n=0,r=0,o=0,a=0,s=0;if(e|=0){if(0|(i=0|l[(o=0|e+5164)>>2])){if(n=0|l[(a=0|e+5160)>>2]){for(r=0;(i=0|l[i+(r<<3)>>2])&&(je(i),n=0|l[a>>2]),!((i=0|r+1)>>>0>=n>>>0);){r=i,i=0|l[o>>2]}i=0|l[o>>2]}l[a>>2]=0,je(i),l[o>>2]=0}if(0|(n=0|l[(i=0|e+5172)>>2])&&(je(n),l[i>>2]=0),0|(n=0|l[(i=0|e+5584)>>2])&&(je(n),l[i>>2]=0),0|(n=0|l[(i=0|e+5608)>>2])&&(je(n),l[i>>2]=0),0|(n=0|l[(i=0|e+5604)>>2])&&(je(n),l[i>>2]=0),0|(n=0|l[(i=0|e+5624)>>2])&&(je(n),l[i>>2]=0,l[e+5632>>2]=0,l[e+5628>>2]=0),0|(i=0|l[(t=0|e+5612)>>2])){if(n=0|l[(s=0|e+5616)>>2]){for(a=0;(o=0|l[(r=0|i+12)>>2])&&(je(o),l[r>>2]=0,n=0|l[s>>2]),!((a=0|a+1)>>>0>=n>>>0);){i=0|i+20}i=0|l[t>>2]}je(i),l[t>>2]=0}0|(n=0|l[(i=0|e+5600)>>2])&&(je(n),l[i>>2]=0),(n=0|l[(i=0|e+5592)>>2])&&(je(n),l[i>>2]=0,l[e+5596>>2]=0)}}function Je(e){var t,i=0,n=0,r=0,o=0;if(e|=0){if(0|(n=0|l[(i=0|e+28)>>2])&&(je(n),l[i>>2]=0),0|(i=0|l[(t=0|e+40)>>2])){if(0|l[(o=0|e+36)>>2]){r=0;do{(n=0|l[i+(0|40*r)+36>>2])&&(je(n),i=0|l[t>>2],l[i+(0|40*r)+36>>2]=0),(n=0|l[i+(0|40*r)+16>>2])&&(je(n),i=0|l[t>>2],l[i+(0|40*r)+16>>2]=0),(n=0|l[i+(0|40*r)+24>>2])&&(je(n),i=0|l[t>>2],l[i+(0|40*r)+24>>2]=0),r=0|r+1}while(r>>>0<(0|l[o>>2])>>>0)}je(i),l[t>>2]=0}je(e)}}function qe(e,t,i,n){n|=0;var o,s,c,h,u,f,d,p,m,y,g,v,w,x,k,S,E=0,C=0,M=0,P=0,T=0,D=0,R=0,G=0,O=0,F=0,L=0,Z=0,H=0,N=0,z=0,V=0,U=0,j=0,W=0,Y=0,X=0,Q=0,J=0,q=0,K=0,$=0,ee=0,te=0,ie=0,ne=0,re=0,oe=0,ae=0,se=0,le=0,ce=0;if(S=A,A=0|A+320,le=0|S+296,k=0|S+288,x=0|S+280,w=0|S+272,v=0|S+264,g=0|S+256,y=0|S+248,m=0|S+240,oe=0|S+232,u=0|S+224,h=0|S+216,re=0|S+208,c=0|S+200,s=0|S+192,o=0|S+184,Z=0|S+176,L=0|S+168,F=0|S+160,O=0|S+152,R=0|S+144,K=0|S+136,q=0|S+128,ie=0|S+112,J=0|S+104,Q=0|S+96,X=0|S+88,Y=0|S+80,W=0|S+72,U=0|S+64,V=0|S+56,z=0|S+48,N=0|S+32,H=0|S+24,D=0|S+16,P=0|S+8,C=S,ee=0|S+309,te=0|S+300,!(0!=(0|(e|=0))&0!=(0|(t|=0))&0!=(0|(i|=0))))return A=S,0|(le=0);if(32<(0|(E=0|l[(p=0|t+5592)>>2])-1)>>>0)return l[C>>2]=E,l[C+4>>2]=33,_e(n,1,4599,C),A=S,0|(le=0);l[(f=0|e+112)>>2]=1,l[(d=0|e+116)>>2]=1,$=0|t+18704;do{if(!(0|a[$>>1])){switch(0|l[t+18676>>2]){case 1:E=1041666,C=1302083,M=3,se=8;break;case 2:E=520833,C=651041,M=3,se=8;break;case 3:E=1041666,C=1302083,M=4,se=8;break;default:C=0;}8==(0|se)&&(a[$>>1]=M,l[t+18700>>2]=C,l[t+18680>>2]=E,C=1),E=0|l[t+18684>>2];e:do{if(4>(0|E)){switch(0|E){case 3:break;default:se=13;break e;}E=3,se=12}else{if(33024>(0|E))switch(0|E){case 4:E=4,se=12;break e;default:se=13;break e;}switch(0|E){case 33024:break;default:se=13;break e;}E=-32512,se=12}}while(0);if(12==(0|se))a[$>>1]=E;else if(13==(0|se)&&0==(0|C))break;_e(n,2,4655,P)}}while(0);E=0|l[(j=0|t+18700)>>2];do{if(1>(0|E)){if(0<(G=+_[t+4792+((0|l[t+4788>>2])-1<<2)>>2])){ae=0|l[i+24>>2],D=0|B(0|l[ae+8>>2],0|l[i+16>>2]),D=0|B(D,0|l[ae+12>>2]),ce=+((0|B(D,0|l[ae+24>>2]))>>>0),ae=~~+I(+ce/(8*G*+((0|l[ae>>2])>>>0)*+((0|l[ae+4>>2])>>>0))),l[j>>2]=ae;break}l[j>>2]=0;break}if(T=0|l[i+24>>2],ae=0|B(0|l[T+8>>2],0|l[i+16>>2]),ae=0|B(ae,0|l[T+12>>2]),G=+((0|B(ae,0|l[T+24>>2]))>>>0),E=0|B(E<<3,0|l[T>>2]),G/=+((0|B(E,0|l[T+4>>2]))>>>0),0|(E=0|l[(T=0|t+4788)>>2])){P=0,C=0;do{+_[(M=0|t+4792+(P<<2))>>2]<G&&(_[M>>2]=G,C=1,E=0|l[T>>2]),P=0|P+1}while(P>>>0<E>>>0);0|C&&_e(n,2,4792,D)}}while(0);E=0|a[$>>1];e:do{if(4<=(65535&E+-3)){if(7==E<<16>>16){_e(n,2,6952,R),a[$>>1]=0;break}if(524>(65535&E+-256)){_e(n,2,7007,O),a[$>>1]=0;break}if(1180>(65535&E+-1024)){_e(n,2,7055,F),a[$>>1]=0;break}if(-1>=E<<16>>16)switch(E<<16>>16){case-32512:break e;case-32768:_e(n,2,7097,L),a[$>>1]=0;break e;default:_e(n,2,7185,Z),a[$>>1]=0;break e;}}else{if(2>(65535&E+-5)){_e(n,2,4884,H),a[$>>1]=0;break}l[t>>2]=0,l[t+12>>2]=1,l[t+16>>2]=1,r[t+18689>>0]=67,r[t+18688>>0]=1,l[t+4>>2]=0,l[t+8>>2]=0,l[t+18180>>2]=0,l[t+18184>>2]=0,l[t+5596>>2]=32,l[t+5600>>2]=32,l[t+5604>>2]=0,l[t+5612>>2]=-1,l[t+18188>>2]=1,l[t+18192>>2]=1,l[t+5608>>2]=1,1<(0|(M=0|l[(C=0|t+4788)>>2]))&&(ce=+_[t+4792+(M+-1<<2)>>2],l[N>>2]=M,b[N+8>>3]=ce,_e(n,2,4946,N),l[t+4792>>2]=l[t+4792+((0|l[C>>2])-1<<2)>>2],l[C>>2]=1,E=0|a[$>>1]);t:do{switch(E<<16>>16){case 3:6<(0|(E=0|l[p>>2]))&&(l[z>>2]=E+1,_e(n,2,5119,z),l[p>>2]=6,E=6);break;case 4:if(2>(0|(E=0|l[p>>2]))){l[V>>2]=E+1,_e(n,2,5265,V),l[p>>2]=1,E=1;break t}7<(0|E)&&(l[U>>2]=E+1,_e(n,2,5419,U),l[p>>2]=7,E=7);break;default:E=0|l[p>>2];}}while(0);if(l[(C=0|t+40)>>2]=1|l[C>>2],l[(C=0|t+5620)>>2]=E+-1,1<(0|E)){E=0;do{l[t+5624+(E<<2)>>2]=256,l[t+5756+(E<<2)>>2]=256,E=0|E+1}while((0|E)<(0|l[C>>2]))}l[t+44>>2]=4,4==(0|a[$>>1])?(E=0|l[p>>2],l[t+96>>2]=1,l[t+48>>2]=0,l[t+52>>2]=0,l[t+56>>2]=1,ae=0|E+-1,l[t+60>>2]=ae,l[t+64>>2]=3,l[t+80>>2]=4,l[t+244>>2]=1,l[t+196>>2]=ae,l[t+200>>2]=0,l[t+204>>2]=1,l[t+208>>2]=E,l[t+212>>2]=3,l[t+228>>2]=4,E=2):E=0,l[t+4784>>2]=E,l[t+20>>2]=1,1<=(0|(E=0|l[j>>2]))?1302083<(0|E)&&(_e(n,2,5722,Y),l[j>>2]=1302083):(l[j>>2]=1302083,_e(n,2,5573,W)),1<=(0|(C=0|l[(E=0|t+18680)>>2]))?1041666<(0|C)&&(_e(n,2,6044,Q),l[E>>2]=1041666):(l[E>>2]=1041666,_e(n,2,5895,X)),E=0|l[i+16>>2],C=0|l[i+24>>2],P=0|l[C+8>>2],M=0|B(P,E),D=0|l[C+12>>2],M=0|B(M,D),ce=+((0|B(M,0|l[C+24>>2]))>>>0),M=0|B(l[j>>2]<<3,0|l[C>>2]),ce/=+((0|B(M,0|l[C+4>>2]))>>>0),_[t+4792>>2]=ce,M=0|a[$>>1];t:do{if(3==(0|E)){if(E=0|l[C+28>>2],(T=0|l[C+32>>2])|12!=(0|E))D=0;else if(E=0|l[C+80>>2],(T=0|l[C+84>>2])|12!=(0|E))D=1;else if(E=0|l[C+132>>2],(C=0|l[C+136>>2])|12!=(0|E))D=2,T=C;else switch(M<<16>>16){case 3:if(!(2048<P>>>0|1080<D>>>0))break e;l[q>>2]=P,l[q+4>>2]=D,_e(n,2,6616,q);break t;case 4:if(!(4096<P>>>0|2160<D>>>0))break e;l[K>>2]=P,l[K+4>>2]=D,_e(n,2,6787,K);break t;default:break e;}r[ee>>0]=0|r[6383],r[ee+1>>0]=0|r[6384],r[ee+2>>0]=0|r[6385],r[ee+3>>0]=0|r[6386],r[ee+4>>0]=0|r[6387],r[ee+5>>0]=0|r[6388],r[ee+6>>0]=0|r[6389],M=6390,P=0|(C=te)+9;do{r[C>>0]=0|r[M>>0],C=0|C+1,M=0|M+1}while((0|C)<(0|P));l[ie>>2]=D,l[ie+4>>2]=E,l[ie+8>>2]=0|T?ee:te,_e(n,2,6399,ie)}else l[J>>2]=E,_e(n,2,6217,J)}while(0);a[$>>1]=0}}while(0);l[e+168>>2]=l[t+18680>>2],a[(ae=0|e+88)>>1]=0|a[$>>1],ee=-2&r[(ie=0|e+181)>>0]|1&l[t+20>>2],r[ie>>0]=ee,ee=2&(255&l[(te=0|t+24)>>2])<<1|-3&ee,r[ie>>0]=ee,r[ie>>0]=-5&ee|4&(255&l[t+28>>2])<<2;do{if(0|l[te>>2]&&0|l[(ne=0|t+32)>>2]){if(C=0|He(E=0|B(0|12*(0|l[t+4788>>2]),0|l[p>>2])),l[e+176>>2]=C,0|C){Br(0|C,0|l[ne>>2],0|E);break}return _e(n,1,7244,o),A=S,0|(le=0)}}while(0);l[(P=0|e+100)>>2]=l[t+12>>2],l[(T=0|e+104)>>2]=l[t+16>>2],l[(M=0|e+92)>>2]=l[t+4>>2],l[(D=0|e+96)>>2]=l[t+8>>2],E=0|l[(C=0|t+36)>>2];do{if(E){if(E=0|He(0|1+(0|kn(E))),l[e+108>>2]=E,0|E){cr(E,0|l[C>>2]);break}return _e(n,1,7316,s),A=S,0|(le=0)}if(C=0|He(0|29+(0|kn(E=4427))),l[e+108>>2]=C,0|C){l[re>>2]=7421,l[re+4>>2]=E,ur(C,7416,re);break}return _e(n,1,7370,c),A=S,0|(le=0)}while(0);if(E=0|(0|l[i+8>>2])-(0|l[M>>2]),0|l[t>>2]?(re=0|l[P>>2],l[f>>2]=0|(0|E+-1+re)/(0|re),re=0|l[T>>2],l[d>>2]=0|(0|(0|l[i+12>>2])-1-(0|l[D>>2])+re)/(0|re)):(l[P>>2]=E,l[T>>2]=(0|l[i+12>>2])-(0|l[D>>2])),0|r[t+18688>>0]&&(r[e+180>>0]=0|r[t+18689>>0],r[ie>>0]=8|r[ie>>0]),re=0|Ne(0|B(0|l[d>>2],0|l[f>>2]),5640),l[(te=0|e+164)>>2]=re,!re)return _e(n,1,7450,h),A=S,0|(le=0);U=0|l[(ee=0|t+4784)>>2];do{if(0|U){if(H=0|t+48,j=0|l[p>>2],W=0|l[i+16>>2],Y=0|l[t+4788>>2],X=0|B(W,j),!(Q=0|Ne(0|B(X,Y),4))){_e(n,1,7504,u);break}if((E=0|l[H>>2])>>>0<(M=0|l[(O=0|t+60)>>2])>>>0)for(R=0|B(E,W),F=0|t+52,Z=0|t+56,C=0|l[(L=0|t+64)>>2];;){if((P=0|l[F>>2])>>>0<C>>>0){for(D=0|P+R,M=0|l[Z>>2];;){if(M){for(C=D,T=0;l[Q+(C<<2)>>2]=1,!((T=0|T+1)>>>0>=(M=0|l[Z>>2])>>>0);){C=0|C+X}C=0|l[L>>2]}else M=0;if((P=0|P+1)>>>0>=C>>>0)break;D=0|D+1}M=0|l[O>>2]}if((E=0|E+1)>>>0>=M>>>0)break;R=0|R+W}if(1<U>>>0){L=1;do{if(E=H,H=0|H+148,N=0|l[E+8>>2],N=(T=0|l[(Z=0|E+156)>>2])>>>0>N>>>0?N:0,(C=0|l[H>>2])>>>0<(M=0|l[(z=0|E+160)>>2])>>>0)for(R=0|B(C,W),V=0|E+152,O=0|E+164,F=0|B(N,X),E=0|l[O>>2];;){if((P=0|l[V>>2])>>>0<E>>>0){for(D=0|P+R;;){if(N>>>0<T>>>0){for(E=0|D+F,M=N;l[Q+(E<<2)>>2]=1,!((M=0|M+1)>>>0>=(T=0|l[Z>>2])>>>0);){E=0|E+X}E=0|l[O>>2]}if((P=0|P+1)>>>0>=E>>>0)break;D=0|D+1}M=0|l[z>>2]}if((C=0|C+1)>>>0>=M>>>0)break;R=0|R+W}L=0|L+1}while((0|L)!=(0|U))}if(!(0==(0|Y)|0==(0|j)|0==(0|W))){for(E=0,D=0,R=0;;){for(M=0,T=D;;){for(P=0,C=T;E|=1!=(0|l[Q+(C<<2)>>2]),(0|(P=0|P+1))!=(0|W);){C=0|C+1}if((0|(M=0|M+1))==(0|j))break;T=0|T+W}if((0|(R=0|R+1))==(0|Y))break;D=0|D+X}0|E&&_e(n,1,7552,oe)}je(Q)}}while(0);e:do{if(0|B(0|l[d>>2],0|l[f>>2])){N=0|t+4788,z=0|t+40,V=0|t+44,U=0|t+18690,j=0|i+16,C=0|t+18696,W=0|i+24,Y=0|t+5596,X=0|t+5600,Q=0|t+5604,J=0|t+5608,q=0|t+5612,K=0|t+5616,$=0|t+5620,H=0;t:for(;;){O=0|(R=0|l[te>>2])+(0|5640*H),oe=0|l[N>>2],l[(M=0|R+(0|5640*H)+8)>>2]=oe;i:do{if(0|oe){if(4>(65535&(0|a[ae>>1])-3))E=0;else for(E=0;;){if(oe=0==(4&r[ie>>0]),l[(oe?0|R+(0|5640*H)+20+(E<<2):0|R+(0|5640*H)+5184+(E<<2))>>2]=l[(oe?0|t+4792+(E<<2):0|t+5192+(E<<2))>>2],(E=0|E+1)>>>0>=(0|l[M>>2])>>>0)break i}do{4&r[ie>>0]&&(l[R+(0|5640*H)+5184+(E<<2)>>2]=l[t+5192+(E<<2)>>2]),l[R+(0|5640*H)+20+(E<<2)>>2]=l[t+4792+(E<<2)>>2],E=0|E+1}while(E>>>0<(0|l[M>>2])>>>0)}}while(0);if(l[O>>2]=l[z>>2],l[R+(0|5640*H)+4>>2]=l[V>>2],l[(D=0|R+(0|5640*H)+16)>>2]=r[U>>0],M=0|r[(E=0|R+(0|5640*H)+5636)>>0],r[E>>0]=-5&M,0|l[ee>>2]){if(r[E>>0]=4|M,P=0|l[ee>>2]){T=0|H+1,E=0,M=0;do{(0|T)==(0|l[t+48+(0|148*M)+48>>2])&&(l[R+(0|5640*H)+424+(0|148*E)>>2]=l[t+48+(0|148*E)>>2],l[R+(0|5640*H)+424+(0|148*E)+4>>2]=l[t+48+(0|148*E)+4>>2],l[R+(0|5640*H)+424+(0|148*E)+8>>2]=l[t+48+(0|148*E)+8>>2],l[R+(0|5640*H)+424+(0|148*E)+12>>2]=l[t+48+(0|148*E)+12>>2],l[R+(0|5640*H)+424+(0|148*E)+16>>2]=l[t+48+(0|148*E)+16>>2],l[R+(0|5640*H)+424+(0|148*E)+32>>2]=l[t+48+(0|148*E)+32>>2],l[R+(0|5640*H)+424+(0|148*E)+48>>2]=l[t+48+(0|148*E)+48>>2],E=0|E+1),M=0|M+1}while(M>>>0<P>>>0)}else E=0;E=0|E+-1}else E=0;if(l[R+(0|5640*H)+420>>2]=E,oe=0|Ne(0|l[j>>2],1080),l[(Z=0|R+(0|5640*H)+5584)>>2]=oe,!oe){se=141;break}do{if(0|l[C>>2]){if(M=0|l[j>>2],P=0|He(M=0|B(M<<2,M)),T=0|(0|l[C>>2])+M,!P){se=144;break t}if(l[D>>2]=2,E=0|He(M),l[R+(0|5640*H)+5608>>2]=E,!E){se=146;break t}if(Br(0|E,0|l[C>>2],0|M),Br(0|P,0|l[C>>2],0|M),E=0|He(M),l[(M=0|R+(0|5640*H)+5604)>>2]=E,!E){se=148;break t}if(!(0|Zi(P,E,0|l[j>>2]))){se=150;break t}if(E=0|He(l[j>>2]<<3),l[R+(0|5640*H)+5600>>2]=E,!E){se=152;break t}if(Ft(E,0|l[j>>2],0|l[M>>2]),je(P),0|(M=0|l[j>>2])){P=0|l[Z>>2],E=0;do{l[P+(0|1080*E)+1076>>2]=l[T+(E<<2)>>2],E=0|E+1}while(E>>>0<M>>>0)}if(!(0|Ke(O,i))){se=158;break t}0|l[j>>2]&&(O=0,se=172)}else{i:do{if(1==(0|l[D>>2])){if(2>=(E=0|l[j>>2])>>>0){P=E;break}M=0|l[W>>2],E=0|l[M>>2];do{if((0|E)==(0|l[M+52>>2])){if((0|E)!=(0|l[M+104>>2]))break;if((0|(E=0|l[M+4>>2]))!=(0|l[M+56>>2]))break;if((0|E)==(0|l[M+108>>2])){se=166;break i}}}while(0);_e(n,2,7948,le),l[D>>2]=0,se=166}else se=166}while(0);if(166==(0|se)&&(se=0,P=0|l[j>>2]),!P)break;M=0|l[W>>2],E=0;do{0|l[M+(0|52*E)+32>>2]||(l[(0|l[Z>>2])+(0|1080*E)+1076>>2]=1<<(0|l[M+(0|52*E)+24>>2])-1),E=0|E+1}while(E>>>0<P>>>0);O=0,se=172}}while(0);if(172==(0|se))for(;;){if(se=0,L=0|(F=0|l[Z>>2])+(0|1080*O),P=1&l[z>>2],l[L>>2]=P,T=0|l[p>>2],l[(D=0|F+(0|1080*O)+4)>>2]=T,1<(0|(E=0|l[Y>>2])))for(M=E,E=0;E=0|E+1,3<M>>>0;){M>>>=1}else E=0;if(l[F+(0|1080*O)+8>>2]=E,1<(0|(E=0|l[X>>2])))for(M=E,E=0;E=0|E+1,3<M>>>0;){M>>>=1}else E=0;l[F+(0|1080*O)+12>>2]=E,l[F+(0|1080*O)+16>>2]=l[Q>>2],oe=0|l[J>>2],l[F+(0|1080*O)+20>>2]=1&0==(0|oe),l[F+(0|1080*O)+24>>2]=0|oe?2:0,l[F+(0|1080*O)+804>>2]=2,E=(0|O)==(0|l[q>>2])?0|l[K>>2]:0,l[F+(0|1080*O)+808>>2]=E;do{if(P){if(!(0<(0|T)))break;for(R=0;;){D=T,T=0|T+-1,E=0|l[$>>2];do{if((0|R)<(0|E)){E=0|l[t+5624+(R<<2)>>2];do{if(1>(0|E))E=1;else{if(1==(0|E)){E=0;break}for(M=E,E=0;E=0|E+1,3<M>>>0;){M>>>=1}}}while(0);if(l[F+(0|1080*O)+812+(T<<2)>>2]=E,1>(0|(E=0|l[t+5756+(R<<2)>>2]))){E=1;break}if(1==(0|E)){E=0;break}for(M=E,E=0;E=0|E+1,3<M>>>0;){M>>>=1}}else{M=0|R-(oe=0|E+-1),E=l[t+5624+(oe<<2)>>2]>>M,M=l[t+5756+(oe<<2)>>2]>>M;do{if(1>(0|E))E=1;else{if(1==(0|E)){E=0;break}for(P=E,E=0;E=0|E+1,3<P>>>0;){P>>>=1}}}while(0);if(l[F+(0|1080*O)+812+(T<<2)>>2]=E,1>(0|M)){E=1;break}if(1==(0|M)){E=0;break}for(E=0;E=0|E+1,3<M>>>0;){M>>>=1}}}while(0);if(l[F+(0|1080*O)+944+(T<<2)>>2]=E,1>=(0|D))break;R=0|R+1}}else{if(!T)break;E=0;do{l[F+(0|1080*O)+812+(E<<2)>>2]=15,l[F+(0|1080*O)+944+(E<<2)>>2]=15,E=0|E+1}while(E>>>0<(0|l[D>>2])>>>0)}}while(0);if(Ri(L,0|l[(0|l[W>>2])+(0|52*O)+24>>2]),(O=0|O+1)>>>0>=(0|l[j>>2])>>>0)break;se=172}if((H=0|H+1)>>>0>=(0|B(0|l[d>>2],0|l[f>>2]))>>>0)break e}if(141==(0|se))return _e(n,1,7591,m),A=S,0|(le=0);if(144==(0|se))return _e(n,1,7655,y),A=S,0|(le=0);if(146==(0|se))return je(P),_e(n,1,7698,g),A=S,0|(le=0);if(148==(0|se))return je(P),_e(n,1,7756,v),A=S,0|(le=0);if(150==(0|se))return je(P),_e(n,1,7816,w),A=S,0|(le=0);if(152==(0|se))return je(P),_e(n,1,7864,x),A=S,0|(le=0);if(158==(0|se))return _e(n,1,7914,k),A=S,0|(le=0)}else C=0|t+18696}while(0);return(E=0|l[C>>2])?(je(E),l[C>>2]=0,A=S,0|(le=1)):(A=S,0|(le=1))}function Ke(e,t){t|=0;var i,n,o=0,a=0,s=0,c=0,h=0,u=0,f=0,d=0,p=0,m=0,b=0;if(2!=(0|l[16+(e|=0)>>2]))return 0|(e=1);d=0|e+5604,a=0|l[(b=0|e+5616)>>2],p=0|e+5620;do{if(0|l[d>>2]){do{if((0|a)==(0|l[p>>2])){if(a=0|a+10,l[p>>2]=a,0|(a=0|Ue(0|l[(o=0|e+5612)>>2],0|20*a))){l[o>>2]=a,Mr(0|a+(0|20*(m=0|l[b>>2])),0,0|20*(0|(0|l[p>>2])-m)),a=0|l[b>>2];break}return je(0|l[o>>2]),l[o>>2]=0,l[p>>2]=0,l[b>>2]=0,0|(e=0)}o=0|e+5612}while(0);if(s=0|(u=0|l[o>>2])+(0|20*a),0|(o=0|l[(f=0|u+(0|20*a)+12)>>2])&&(je(o),l[f>>2]=0),l[u+(0|20*a)+8>>2]=1,l[u+(0|20*a)+4>>2]=1,l[s>>2]=2,o=0|l[t+16>>2],h=0|He(c=(o=0|B(o,o))<<2),l[f>>2]=h,h){ro[15&l[768+(l[s>>2]<<2)>>2]](0|l[d>>2],h,o),l[u+(0|20*a)+16>>2]=c,a=0|1+(0|l[b>>2]),l[b>>2]=a,c=2;break}return 0|(e=0)}c=1,s=0}while(0);do{if((0|a)==(0|l[p>>2])){if(a=0|a+10,l[p>>2]=a,0|(a=0|Ue(0|l[(o=0|e+5612)>>2],0|20*a))){l[o>>2]=a,Mr(0|(a=0|a+(0|20*(m=0|l[b>>2]))),0,0|20*(0|(0|l[p>>2])-m)),s=0==(0|s)?0:0|a+-20,a=0|l[b>>2];break}return je(0|l[o>>2]),l[o>>2]=0,l[p>>2]=0,l[b>>2]=0,0|(e=0)}o=0|e+5612}while(0);if(m=0|(p=0|l[o>>2])+(0|20*a),0|(o=0|l[(i=0|p+(0|20*a)+12)>>2])&&(je(o),l[i>>2]=0),n=0|c+1,l[p+(0|20*a)+8>>2]=c,l[p+(0|20*a)+4>>2]=2,l[m>>2]=2,d=0|He(f=(u=0|l[(t=0|t+16)>>2])<<2),l[i>>2]=d,!d)return 0|(e=0);if(!(d=0|He(f)))return je(0|l[i>>2]),l[i>>2]=0,0|(e=0);if(0|u)for(o=0,c=0|l[e+5584>>2],h=d;_[h>>2]=+(0|l[c+1076>>2]),(0|(o=0|o+1))!=(0|u);){c=0|c+1080,h=0|h+4}ro[15&l[768+(l[m>>2]<<2)>>2]](d,0|l[i>>2],u),je(d),l[p+(0|20*a)+16>>2]=f,l[b>>2]=1+(0|l[b>>2]),o=0|l[(h=0|e+5628)>>2],c=0|e+5632;do{if((0|o)==(0|l[c>>2])){if(o=0|o+10,l[c>>2]=o,0|(o=0|Ue(0|l[(a=0|e+5624)>>2],0|20*o))){l[a>>2]=o,Mr(0|o+(0|20*(e=0|l[h>>2])),0,0|20*(0|(0|l[c>>2])-e)),o=0|l[h>>2];break}return je(0|l[a>>2]),l[a>>2]=0,l[c>>2]=0,l[h>>2]=0,0|(e=0)}a=0|e+5624}while(0);return e=0|l[a>>2],l[e+(0|20*o)+8>>2]=s,r[(b=0|e+(0|20*o)+16)>>0]=1|r[b>>0],l[e+(0|20*o)+4>>2]=l[t>>2],l[e+(0|20*o)>>2]=n,l[e+(0|20*o)+12>>2]=m,l[h>>2]=1+(0|l[h>>2]),0|(e=1)}function $e(e,t,i){return 1}function et(e,t,i,n){e|=0,t|=0,i|=0,n|=0;var r=0,o=0,a=0,s=0,c=0,h=0;if(c=0|ge(),l[(h=0|t+80)>>2]=c,!c)return 0|(h=0);if(0|bi(0|l[(r=0|t+192)>>2],24,n)&&0|bi(0|l[r>>2],25,n)){if(c=0|yi(s=0|l[r>>2]),r=0|gi(s),c){for(o=1,a=0;o=o?0!=(0|Jr[63&l[r>>2]](t,e,n)):0,(0|(a=0|a+1))!=(0|c);){r=0|r+4,o&=1}if(vi(s),!o)return ye(0|l[h>>2]),l[h>>2]=0,0|(h=0)}else vi(s);if(0|bi(0|l[(r=0|t+188)>>2],26,n)&&0|bi(0|l[r>>2],27,n)){if(c=0|yi(s=0|l[r>>2]),r=0|gi(s),c){for(o=1,a=0;o=o?0!=(0|Jr[63&l[r>>2]](t,e,n)):0,(0|(a=0|a+1))!=(0|c);){r=0|r+4,o&=1}if(vi(s),!o)return ye(0|l[h>>2]),l[h>>2]=0,0|(h=0)}else vi(s);if(r=0|ge(),l[i>>2]=r,!r)return 0|(h=0);if(ve(0|l[h>>2],r),o=0|B(0|l[t+116>>2],0|l[t+112>>2]),l[36+(0|l[(s=0|t+196)>>2])>>2]=o,o=0|Ne(o,40),r=0|l[s>>2],l[r+40>>2]=o,!o)return 0|(h=0);if(!(0|l[r+36>>2]))return 0|(h=1);for(a=0;;){if(l[o+(0|40*a)+28>>2]=100,l[o+(0|40*a)+20>>2]=0,h=0|Ne(100,24),r=0|l[s>>2],o=0|l[r+40>>2],l[o+(0|40*a)+24>>2]=h,a=0|a+1,!h){r=0,o=30;break}if(a>>>0>=(0|l[r+36>>2])>>>0){r=1,o=30;break}}if(30==(0|o))return 0|r}return ye(0|l[h>>2]),l[h>>2]=0,0|(h=0)}return ye(0|l[h>>2]),l[h>>2]=0,0|(h=0)}function tt(e,t,i,n,r){t|=0,i|=0,n|=0,r|=0;var o,a,s,c,h,u=0,f=0;if(h=A,A=0|A+32,o=0|h+8,s=0|h+20,e=16==(0|l[8+(e|=0)>>2])?0|(0|l[e+164>>2])+(0|5640*(0|l[e+200>>2])):0|l[e+12>>2],c=0|l[e+5584>>2],!(e=0|l[n>>2]))return _e(r,1,10568,h),A=h,0|(t=0);l[n>>2]=e+-1,ne(i,s,1),i=0|i+1,u=31&(e=0|l[s>>2]),l[(a=0|c+(0|1080*t)+24)>>2]=u,l[c+(0|1080*t)+804>>2]=e>>>5;do{if(1==(0|u))e=1,f=8;else{if(97<(e=(0|l[n>>2])>>>(1&0!=(0|u)))>>>0&&(l[o>>2]=e,l[o+4>>2]=97,l[o+8>>2]=97,_e(r,2,10604,o),u=0|l[a>>2]),r=0==(0|e),0|u){if(r){e=0,f=20;break}f=8;break}if(!r)for(u=0;ne(i,s,1),97>u>>>0&&(l[c+(0|1080*t)+28+(u<<3)>>2]=(0|l[s>>2])>>>3,l[c+(0|1080*t)+28+(u<<3)+4>>2]=0),(0|(u=0|u+1))!=(0|e);){i=0|i+1}e=0|(0|l[n>>2])-e}}while(0);if(8==(0|f))for(u=0;;){if(ne(i,s,2),97>u>>>0&&(f=0|l[s>>2],l[c+(0|1080*t)+28+(u<<3)>>2]=f>>>11,l[c+(0|1080*t)+28+(u<<3)+4>>2]=2047&f),(0|(u=0|u+1))==(0|e)){f=20;break}i=0|i+2}if(20==(0|f)&&(e=0|(0|l[n>>2])-(e<<1)),l[n>>2]=e,1!=(0|l[a>>2]))return A=h,0|(t=1);i=0|c+(0|1080*t)+28,u=0|c+(0|1080*t)+32,e=1;do{n=0|(0|l[i>>2])-(0|((0|e+-1)>>>0)/3),l[c+(0|1080*t)+28+(e<<3)>>2]=0<(0|n)?n:0,l[c+(0|1080*t)+28+(e<<3)+4>>2]=l[u>>2],e=0|e+1}while(97!=(0|e));return A=h,0|(e=1)}function it(e,t,i,n,r){t|=0,i|=0,n|=0,r|=0;var o,a,s,c,h,u,f=0,d=0,p=0,_=0,m=0;if(u=A,A=0|A+64,h=0|u+48,o=0|u+40,_=0|u+16,p=0|u+8,c=0|u+52,f=16==(0|l[(d=0|8+(e|=0))>>2])?0|(0|l[e+164>>2])+(0|5640*(0|l[e+200>>2])):0|l[e+12>>2],a=0|l[f+5584>>2],5>(0|l[n>>2])>>>0)return _e(r,1,11008,u),A=u,0|(n=0);if(ne(i,s=0|a+(0|1080*t)+4,1),f=0|1+(0|l[s>>2]),l[s>>2]=f,33<f>>>0)return l[p>>2]=f,l[p+4>>2]=33,_e(r,1,11043,p),A=u,0|(n=0);if((0|l[e+168>>2])>>>0>=f>>>0)return l[_>>2]=t,_e(r,1,11120,_),l[d>>2]=32768|l[d>>2],A=u,0|(n=0);if(ne(0|i+1,p=0|a+(0|1080*t)+8,1),l[p>>2]=2+(0|l[p>>2]),ne(0|i+2,d=0|a+(0|1080*t)+12,1),_=0|2+(0|l[d>>2]),l[d>>2]=_,10<_>>>0|10<(p=0|l[p>>2])>>>0|12<(0|p+_)>>>0)return _e(r,1,11278,0|u+24),A=u,0|(n=0);if(ne(0|i+3,_=0|a+(0|1080*t)+16,1),0|192&l[_>>2])return _e(r,1,11346,0|u+32),A=u,0|(n=0);if(ne(0|i+4,0|a+(0|1080*t)+20,1),f=0|(0|l[n>>2])-5,l[n>>2]=f,e=0|l[s>>2],!(1&l[a+(0|1080*t)>>2])){if(!e)return A=u,0|(n=1);f=0;do{l[a+(0|1080*t)+812+(f<<2)>>2]=15,l[a+(0|1080*t)+944+(f<<2)>>2]=15,f=0|f+1}while(f>>>0<(0|l[s>>2])>>>0);return A=u,0|(f=1)}if(f>>>0<e>>>0)return _e(r,1,11008,o),A=u,0|(n=0);do{if(e){for(p=0,d=0|i+5;ne(d,c,1),d=0|d+1,f=0|l[c>>2],!(0|p&&16>f>>>0|0==(0|15&f));){if(l[a+(0|1080*t)+812+(p<<2)>>2]=15&f,l[a+(0|1080*t)+944+(p<<2)>>2]=f>>>4,(p=0|p+1)>>>0>=(e=0|l[s>>2])>>>0){m=24;break}}if(24==(0|m)){f=0|l[n>>2];break}return _e(r,1,11413,h),A=u,0|(n=0)}e=0}while(0);return l[n>>2]=f-e,A=u,0|(n=1)}function nt(e,t,i,n,o,s,c,h,u,f,d){e|=0,t|=0,i|=0,n|=0,o|=0,s|=0,c|=0,h|=0,u|=0,f|=0,d|=0;var p,_,m,b,y,g,v,w,x,I,S,E,C,M,P,T,D,R,G,O,F,L,Z,H,N,z,V,U,j,W,Y,X,Q,J,q,K,$,ee=0,te=0,ie=0,re=0,oe=0,ae=0,se=0,ce=0,me=0,be=0,ye=0,ge=0,ve=0,Ae=0,we=0,xe=0,ke=0,Ie=0,Se=0,Ee=0,Ce=0,Be=0,Me=0,Pe=0,Te=0,De=0,Re=0,Ge=0,Oe=0,Fe=0;switch($=A,A=0|A+256,K=0|$+200,q=0|$+192,Q=0|$+184,X=0|$+176,U=0|$+168,V=0|$+160,z=0|$+152,N=0|$+144,H=0|$+136,Z=0|$+128,F=0|$+120,O=0|$+112,G=0|$+104,R=0|$+96,D=0|$+88,T=0|$+80,P=0|$+72,M=0|$+64,C=0|$+56,E=0|$+48,Y=0|$+40,W=0|$+32,j=0|$+24,L=0|$+16,S=0|$+8,I=$,p=0|$+240,_=0|$+236,m=0|$+232,b=0|$+228,y=0|$+224,g=0|$+220,v=0|$+216,x=0|$+208,l[(w=0|$+212)>>2]=65424,0|l[(J=0|e+8)>>2]){case 256:l[w>>2]=65497,ee=0|e+76;break;case 8:if(!(1&r[(ee=0|e+76)>>0])){we=0|e+164,xe=0|e+200,ke=0|e+72,Ie=0|e+24,Se=0|e+196,Ee=0|e+112,Me=0|e+116,Pe=0|p+2,Te=0|p+6,De=0|p+7,Re=0|e+16,Ge=0|e+20,Oe=0|e+64,te=65424;e:do{t:do{if(65427!=(0|te)){for(;;){if(0==(0|(ge=0|ue(f)))&0==(0|k)){ve=50;break}if(2!=(0|le(f,0|l[Re>>2],2,d))){ve=8;break e}if(ne(0|l[Re>>2],x,2),2>(0|l[x>>2])>>>0){ve=10;break e}if(32896==(0|l[w>>2])&&0==(0|(ge=0|ue(f)))&0==(0|k)){ve=50;break}for(re=0|l[J>>2],te=0|l[x>>2],0|16&re&&(l[Ie>>2]=-2-te+(0|l[Ie>>2])),ie=0|te+-2,l[x>>2]=ie,te=0|l[w>>2],ye=784;!(0==(0|(ge=0|l[ye>>2]))|(0|ge)==(0|te));){ye=0|ye+12}if(!(l[ye+4>>2]&re)){ve=18;break e}if(ie>>>0>(0|l[Ge>>2])>>>0){if(ge=0|ue(f),0>(0|(be=k))|0==(0|be)&ge>>>0<ie>>>0){ve=22;break e}if(!(te=0|Ue(0|l[Re>>2],0|l[x>>2]))){ve=24;break e}l[Re>>2]=te,ie=0|l[x>>2],l[Ge>>2]=ie}else te=0|l[Re>>2];if((0|(te=0|le(f,te,ie,d)))!=(0|l[x>>2])){ve=27;break e}if(!(ie=0|l[ye+8>>2])){ve=29;break e}if(!(0|qr[63&ie](e,0|l[Re>>2],te,d))){ve=31;break e}if(se=0|l[xe>>2],ae=0|l[Se>>2],ce=0|l[ye>>2],me=0|(me=0|he(f))-(be=0|l[x>>2])-4,be=0|be+4,oe=0|l[(ae=0|ae+40)>>2],(0|1+(te=0|l[oe+(0|40*se)+20>>2]))>>>0>(re=0|l[(ie=0|oe+(0|40*se)+28)>>2])>>>0){if(re=~~(+(re>>>0)+100)>>>0,l[ie>>2]=re,ie=0|Ue(0|l[oe+(0|40*se)+24>>2],0|24*re),te=0|(re=0|l[ae>>2])+(0|40*se)+24,!ie){ve=39;break e}l[te>>2]=ie,ae=re,te=0|l[re+(0|40*se)+20>>2]}else ae=oe,ie=0|l[oe+(0|40*se)+24>>2];a[ie+(0|24*te)>>1]=ce,l[(ge=0|ie+(0|24*te)+8)>>2]=me,l[ge+4>>2]=(0>(0|me))<<31>>31,l[ie+(0|24*te)+16>>2]=be,l[ae+(0|40*se)+20>>2]=te+1,65424==(0|ce)&&0|(Ae=0|l[ae+(0|40*se)+16>>2])&&(ge=0|Ae+(0|24*(0|l[ae+(0|40*se)+12>>2])),l[ge>>2]=me,l[ge+4>>2]=0);do{if(65424==(0|l[ye>>2])){if(te=0|he(f),te=0|-4-(0|l[x>>2])+te,!(0>(0|(ye=0|l[(ge=Oe)+4>>2]))|(0==(0|ye)?(0|l[ge>>2])>>>0<te>>>0:0)))break;l[(ge=Oe)>>2]=te,l[ge+4>>2]=0}}while(0);if(4&r[ee>>0])break;if(2!=(0|le(f,0|l[Re>>2],2,d))){ve=48;break e}if(ne(0|l[Re>>2],w,2),65427==(0|l[w>>2]))break t}if(50==(0|ve)){ve=0,l[J>>2]=64;break}if(ge=0|fe(f,0|l[Ie>>2],0,d),0!=(0|k)||(0|ge)!=(0|l[Ie>>2])){ve=45;break e}l[w>>2]=65427}}while(0);if(0==(0|(ge=0|ue(f)))&0==(0|k)&&64==(0|l[J>>2])){ve=114;break}if(4&(te=0|r[ee>>0])){if(r[ee>>0]=-6&te,l[J>>2]=8,2!=(0|le(f,0|l[Re>>2],2,d))){ve=112;break}ne(0|l[Re>>2],w,2)}else{ie=0|l[we>>2],re=0|l[xe>>2],0|l[ke>>2]?(te=0|gr(0|(te=0|ue(f)),0|k,-2,0),ve=57):1<(te=0|l[Ie>>2])>>>0&&(te=0|te+-2,ve=57),57==(0|ve)&&(ve=0,l[Ie>>2]=te),ge=0|ie+(0|5640*re)+5592,ye=0|ie+(0|5640*re)+5596;do{if(te){if(be=0|ue(f),0>(0|(me=k))|0==(0|me)&be>>>0<te>>>0&&_e(d,2,12386,D),!(te=0|l[ge>>2])){if(be=0|He(0|l[Ie>>2]),l[ge>>2]=be,be){me=0;break}ve=66;break e}if(!(te=0|Ue(te,0|(0|l[Ie>>2])+(0|l[ye>>2])))){ve=64;break e}l[ge>>2]=te,me=0}else me=1}while(0);if(0|(te=0|l[Se>>2])){if(be=0|gr(0|(Fe=0|he(f)),0|(re=k),-2,-1),oe=0|l[(ae=0|te+40)>>2],se=0|l[xe>>2],ce=0|l[oe+(0|40*se)+12>>2],ie=0|l[oe+(0|40*se)+16>>2],l[(te=0|ie+(0|24*ce)+8)>>2]=be,l[te+4>>2]=k,te=0|gr(0|Fe,0|re,0|l[Ie>>2],0),l[(ce=0|ie+(0|24*ce)+16)>>2]=te,l[ce+4>>2]=k,ce=0|2+(0|l[Ie>>2]),(0|1+(te=0|l[oe+(0|40*se)+20>>2]))>>>0>(re=0|l[(ie=0|oe+(0|40*se)+28)>>2])>>>0){if(re=~~(+(re>>>0)+100)>>>0,l[ie>>2]=re,ie=0|Ue(0|l[oe+(0|40*se)+24>>2],0|24*re),te=0|(re=0|l[ae>>2])+(0|40*se)+24,!ie){ve=73;break}l[te>>2]=ie,ae=re,te=0|l[re+(0|40*se)+20>>2]}else ae=oe,ie=0|l[oe+(0|40*se)+24>>2];a[ie+(0|24*te)>>1]=-109,be=0|Ir(0,0|be,32),l[(Fe=0|ie+(0|24*te)+8)>>2]=be,l[Fe+4>>2]=k,l[ie+(0|24*te)+16>>2]=ce,l[ae+(0|40*se)+20>>2]=te+1}if(te=me?0:0|le(f,0|(0|l[ge>>2])+(0|l[ye>>2]),0|l[Ie>>2],d),l[J>>2]=(0|te)!=(0|l[Ie>>2])?64:8,l[ye>>2]=(0|l[ye>>2])+te,1==(9&(te=0|r[ee>>0]))){r[ee>>0]=8|te,ie=0|l[xe>>2];do{if(0==(0|pe(f))||-1==(0|(Ce=0|he(f)))&-1==(0|(Be=k)))te=1,ie=0;else{for(;;){if(2!=(0|le(f,p,2,d))){ve=80;break}if(ne(p,_,2),65424!=(0|l[_>>2])){ve=82;break}if(2!=(0|le(f,p,2,d))){ve=84;break}if(ne(p,m,2),10!=(0|l[m>>2])){ve=86;break}if(l[m>>2]=8,(0|(te=0|le(f,p,8,d)))!=(0|l[m>>2])){ve=88;break}if(8!=(0|te)){ve=90;break}if(ne(p,b,2),ne(Pe,y,4),ne(Te,g,1),ne(De,v,1),(0|l[b>>2])==(0|ie)){ve=96;break}if(14>(te=0|l[y>>2])>>>0){ve=93;break}if(Fe=0|te+-12,l[y>>2]=Fe,Fe=0|fe(f,Fe,0,d),0!=(0|k)||(0|Fe)!=(0|l[y>>2])){ve=95;break}}if(80==(0|ve)){ve=0,te=0!=(0|de(f,Ce,Be,d)),ie=0;break}if(82==(0|ve)){ve=0,te=0!=(0|de(f,Ce,Be,d)),ie=0;break}if(84==(0|ve)){ve=0,_e(d,1,8150,O),te=0,ie=0;break}if(86==(0|ve)){ve=0,_e(d,1,12203,F),te=0,ie=0;break}if(88==(0|ve)){ve=0,_e(d,1,8150,Z),te=0,ie=0;break}if(90==(0|ve)){ve=0,_e(d,1,11669,H),te=0,ie=0;break}if(93==(0|ve)){ve=0,te=0!=(0|de(f,Ce,Be,d)),ie=0;break}if(95==(0|ve)){ve=0,te=0!=(0|de(f,Ce,Be,d)),ie=0;break}if(96==(0|ve)){ve=0,ie=1&(0|l[g>>2])==(0|l[v>>2]),te=0!=(0|de(f,Ce,Be,d));break}}}while(0);if(!te){ve=98;break}if(0|ie){if(ie=0|B(0|l[Me>>2],0|l[Ee>>2]),r[ee>>0]=16|-18&r[ee>>0],0|ie){re=0|l[we>>2],te=0;do{0|(ae=0|l[(oe=0|re+(0|5640*te)+5588)>>2])&&(l[oe>>2]=ae+1),te=0|te+1}while((0|te)!=(0|ie))}_e(d,2,12521,z)}}if(!(1&r[ee>>0])){if(2!=(0|le(f,0|l[Re>>2],2,d))){ve=108;break}ne(0|l[Re>>2],w,2)}}te=0|l[w>>2]}while(65497!=(0|te)&0==(1&r[ee>>0]));switch(0|ve){case 8:return _e(d,1,8150,I),A=$,0|(Fe=0);case 10:return _e(d,1,12203,S),A=$,0|(Fe=0);case 18:return _e(d,1,8235,L),A=$,0|(Fe=0);case 22:return _e(d,1,12229,j),A=$,0|(Fe=0);case 24:return je(0|l[Re>>2]),l[Re>>2]=0,l[Ge>>2]=0,_e(d,1,8333,W),A=$,0|(Fe=0);case 27:return _e(d,1,8150,Y),A=$,0|(Fe=0);case 29:return _e(d,1,12274,E),A=$,0|(Fe=0);case 31:return l[C>>2]=l[w>>2],_e(d,1,12303,C),A=$,0|(Fe=0);case 39:return je(0|l[te>>2]),Fe=0|l[ae>>2],l[Fe+(0|40*se)+24>>2]=0,l[Fe+(0|40*se)+28>>2]=0,l[Fe+(0|40*se)+20>>2]=0,_e(d,1,12350,M),A=$,0|(Fe=0);case 45:return _e(d,1,8150,P),A=$,0|(Fe=0);case 48:return _e(d,1,8150,T),A=$,0|(Fe=0);case 64:je(0|l[ge>>2]),l[ge>>2]=0,ve=66;break;case 73:return je(0|l[te>>2]),Fe=0|l[ae>>2],l[Fe+(0|40*se)+24>>2]=0,l[Fe+(0|40*se)+28>>2]=0,l[Fe+(0|40*se)+20>>2]=0,_e(d,1,12350,G),A=$,0|(Fe=0);case 98:return _e(d,1,12475,N),A=$,0|(Fe=0);case 108:return _e(d,1,8150,V),A=$,0|(Fe=0);case 112:return _e(d,1,8150,U),A=$,0|(Fe=0);case 114:te=0|l[w>>2];}if(66==(0|ve))return _e(d,1,12441,R),A=$,0|(Fe=0);65497==(0|te)&&256!=(0|l[J>>2])&&(l[e+200>>2]=0,l[J>>2]=256)}break;default:return A=$,0|(Fe=0);}if(1&r[ee>>0])re=ee=0|e+200,oe=0|l[e+164>>2],ee=0|l[ee>>2];else{ie=0|B(0|l[e+112>>2],0|l[e+116>>2]),oe=0|l[e+164>>2],ee=0|l[(re=0|e+200)>>2];e:do{if(ee>>>0<ie>>>0)for(te=0|oe+(0|5640*ee);;){if(0|l[te+5592>>2])break e;if(ee=0|ee+1,l[re>>2]=ee,!(ee>>>0<ie>>>0))break;te=0|te+5640}}while(0);if((0|ee)==(0|ie))return l[u>>2]=0,A=$,0|(Fe=1)}if(2&r[oe+(0|5640*ee)+5636>>0]){if(ae=0|l[(ve=0|oe+(0|5640*ee)+5160)>>2]){se=0|l[oe+(0|5640*ee)+5164>>2],ie=0,te=0;do{te=0|(0|l[se+(ie<<3)+4>>2])+te,ie=0|ie+1}while((0|ie)!=(0|ae))}else te=0;if(Fe=0|He(te),l[(ge=0|oe+(0|5640*ee)+5172)>>2]=Fe,!Fe)return _e(d,1,9491,X),_e(d,1,12562,Q),A=$,0|(Fe=0);if(l[(ye=0|oe+(0|5640*ee)+5180)>>2]=te,be=0|oe+(0|5640*ee)+5164,ie=0|l[ve>>2])for(me=0,se=0,ce=te=0|l[be>>2];(ae=0|l[ce+(me<<3)>>2])?(Br(0|(0|l[ge>>2])+se,0|ae,0|l[ce+(me<<3)+4>>2]),ae=0|l[be>>2],se=0|(0|l[ae+(me<<3)+4>>2])+se,je(0|l[ae+(me<<3)>>2]),ae=0|l[be>>2],l[ae+(me<<3)>>2]=0,l[ae+(me<<3)+4>>2]=0,ie=0|l[ve>>2],te=ae):ae=ce,!((me=0|me+1)>>>0>=ie>>>0);){ce=ae}else te=0|l[be>>2];l[ve>>2]=0,je(te),l[be>>2]=0,l[oe+(0|5640*ee)+5168>>2]=l[ge>>2],l[oe+(0|5640*ee)+5176>>2]=l[ye>>2]}return 0|function(e,t,i){return 0|ii(e|=0,t|=0,0,.5,56,i|=0)}(0|l[(ee=0|e+204)>>2],0|l[re>>2],d)?(Fe=0|B(0|l[e+112>>2],0|l[e+116>>2]),l[K>>2]=1+(0|l[re>>2]),l[K+4>>2]=Fe,_e(d,4,12588,K),l[t>>2]=l[re>>2],l[u>>2]=1,Fe=0|function(e){var t=0,i=0,n=0,r=0,o=0,a=0;if(t=0|l[24+(e|=0)>>2],!(r=0|l[t+16>>2]))return 0|(r=0);for(n=0|l[20+(0|l[l[e+20>>2]>>2])>>2],t=0|l[t+24>>2],e=0,i=0;a=0|((a=0|l[t+24>>2])>>>3)+(1&0!=(0|7&a)),o=0|(0|l[n+24>>2])+(0|136*(0|l[n+20>>2]))-136,e=0|(0|B(0|B(3==(0|a)?4:a,0|(0|l[o+8>>2])-(0|l[o>>2])),0|(0|l[o+12>>2])-(0|l[o+4>>2])))+e,!((i=0|i+1)>>>0>=r>>>0);){n=0|n+52,t=0|t+52}return 0|e}(0|l[ee>>2]),l[i>>2]=Fe,Fe=0|l[l[20+(0|l[ee>>2])>>2]>>2],l[n>>2]=l[Fe>>2],l[o>>2]=l[Fe+4>>2],l[s>>2]=l[Fe+8>>2],l[c>>2]=l[Fe+12>>2],l[h>>2]=l[Fe+16>>2],l[J>>2]=128|l[J>>2],A=$,0|(Fe=1)):(_e(d,1,8019,q),A=$,0|(Fe=0))}function rt(e,t,i,n,o,a){t|=0,i|=0,n|=0,o|=0,a|=0;var s,c,h,u,f,d,p,_,m=0,b=0,y=0;if(_=A,A=0|A+48,d=0|_+28,p=0|_+32,!(128&l[(y=0|8+(e|=0))>>2]))return A=_,0|(y=0);if((0|l[(f=0|e+200)>>2])!=(0|t))return A=_,0|(y=0);if(s=0|(m=0|l[e+164>>2])+(0|5640*t),!(c=0|l[(b=0|m+(0|5640*t)+5592)>>2]))return Qe(s),A=_,0|(y=0);if(u=0|m+(0|5640*t)+5596,!(0|ri(0|l[(h=0|e+204)>>2],c,0|l[u>>2],t,0|l[e+196>>2],a)))return Qe(s),l[y>>2]=32768|l[y>>2],_e(a,1,12627,_),A=_,0|(y=0);if(!(0|oi(0|l[h>>2],i,n)))return A=_,0|(y=0);if(0|(m=0|l[b>>2])&&(je(m),l[b>>2]=0,l[u>>2]=0),r[(e=0|e+76)>>0]=-2&r[e>>0],l[y>>2]=-129&l[y>>2],e=0|ue(o),256==(0|(b=0|l[y>>2]))|0==(0|e)&0==(0|k)&64==(0|b))return A=_,0|(y=1);if(2!=(0|le(o,p,2,a)))return _e(a,2,12646,0|_+8),A=_,0|(y=1);switch(ne(p,d,2),0|l[d>>2]){case 65497:return l[f>>2]=0,l[y>>2]=256,A=_,0|(y=1);case 65424:return A=_,0|(y=1);default:return 0==(0|ue(o))&0==(0|k)?(l[y>>2]=64,_e(a,2,12690,0|_+16),A=_,0|(y=1)):(_e(a,1,12720,0|_+24),A=_,0|(y=0));}return 0}function ot(e,t,i,n,o,a,s){t|=0,i|=0,n|=0,o|=0,a|=0,s|=0;var c,h,u,f=0,d=0,p=0,_=0,m=0,b=0,y=0,g=0,v=0,w=0,x=0,I=0,S=0;if(u=A,A=0|A+112,S=0|u+96,h=0|u+88,c=0|u+80,I=0|u+72,x=0|u+64,w=0|u+56,g=0|u+48,m=0|u+40,_=0|u+32,p=0|u+24,d=0|u+16,y=0|l[80+(e|=0)>>2],8!=(0|l[e+8>>2]))return _e(s,1,12752,u),A=u,0|(S=0);if(!(n|i|o|a))return _e(s,4,12831,0|u+8),l[e+28>>2]=0,l[e+32>>2]=0,l[e+36>>2]=l[e+112>>2],l[e+40>>2]=l[e+116>>2],A=u,0|(S=1);if((f=0|l[(v=0|y+8)>>2])>>>0<i>>>0)return l[d>>2]=i,l[d+4>>2]=f,_e(s,1,12900,d),A=u,0|(S=0);if((f=0|l[y>>2])>>>0>i>>>0?(l[p>>2]=i,l[p+4>>2]=f,_e(s,2,12987,p),l[e+28>>2]=0,i=0|l[y>>2]):l[e+28>>2]=0|((0|i-(0|l[e+92>>2]))>>>0)/((0|l[e+100>>2])>>>0),l[t>>2]=i,(i=0|l[(b=0|y+12)>>2])>>>0<n>>>0)return l[_>>2]=n,l[_+4>>2]=i,_e(s,1,13075,_),A=u,0|(S=0);if((i=0|l[(d=0|y+4)>>2])>>>0>n>>>0?(l[m>>2]=n,l[m+4>>2]=i,_e(s,2,13160,m),l[e+32>>2]=0,i=0|l[d>>2]):(l[e+32>>2]=0|((0|n-(0|l[e+96>>2]))>>>0)/((0|l[e+104>>2])>>>0),i=n),l[(p=0|t+4)>>2]=i,(i=0|l[y>>2])>>>0>o>>>0)return l[g>>2]=o,l[g+4>>2]=i,_e(s,1,13246,g),A=u,0|(S=0);if((i=0|l[v>>2])>>>0<o>>>0?(l[w>>2]=o,l[w+4>>2]=i,_e(s,2,13335,w),l[e+36>>2]=l[e+112>>2],o=0|l[v>>2]):(w=0|l[e+100>>2],l[e+36>>2]=0|(0|o+-1-(0|l[e+92>>2])+w)/(0|w)),l[(f=0|t+8)>>2]=o,(o=0|l[d>>2])>>>0>a>>>0)return l[x>>2]=a,l[x+4>>2]=o,_e(s,1,13423,x),A=u,0|(S=0);(o=0|l[b>>2])>>>0<a>>>0?(l[I>>2]=a,l[I+4>>2]=o,_e(s,2,13513,I),l[e+40>>2]=l[e+116>>2],a=0|l[b>>2]):(I=0|l[e+104>>2],l[e+40>>2]=0|(0|a+-1-(0|l[e+96>>2])+I)/(0|I)),l[(I=0|t+12)>>2]=a,r[(x=0|e+76)>>0]=2|r[x>>0],x=0|l[t+16>>2],e=0|l[t>>2];e:do{if(x){for(w=0|(i=0|l[p>>2])-1,g=0|(o=0|l[f>>2])-1,v=0|e+-1,y=0,b=0|l[t+24>>2];;){if(m=0|(0|v+(t=0|l[b>>2]))/(0|t),l[b+16>>2]=m,d=0|(0|w+(f=0|l[b+4>>2]))/(0|f),l[b+20>>2]=d,t=0|(0|g+t)/(0|t),_=0|Er(1,0,0|(p=0|l[b+40>>2])),n=k,0>(0|(m=0|(t=0|Ir(0|(t=0|gr(0|(t=0|gr(0|t,0|(0>(0|t))<<31>>31,-1,-1)),0|k,0|_,0|n)),0|k,0|p))-(m=0|Ir(0|(m=0|gr(0|(m=0|gr(0|m,0|(0>(0|m))<<31>>31,-1,-1)),0|k,0|_,0|n)),0|k,0|p))))){f=29;break}if(t=0|(0|f+-1+(a=0|l[I>>2]))/(0|f),l[b+8>>2]=m,0>(0|(d=0|(t=0|Ir(0|(t=0|gr(0|(t=0|gr(0|t,0|(0>(0|t))<<31>>31,-1,-1)),0|k,0|_,0|n)),0|k,0|p))-(d=0|Ir(0|(d=0|gr(0|(d=0|gr(0|d,0|(0>(0|d))<<31>>31,-1,-1)),0|k,0|_,0|n)),0|k,0|p))))){f=31;break}if(l[b+12>>2]=d,!((f=0|y+1)>>>0<x>>>0))break e;y=f,b=0|b+52}if(29==(0|f))return l[c>>2]=y,l[c+4>>2]=m,_e(s,1,13602,c),A=u,0|(S=0);if(31==(0|f))return l[h>>2]=y,l[h+4>>2]=d,_e(s,1,13671,h),A=u,0|(S=0)}else i=0|l[p>>2],o=0|l[f>>2],a=0|l[I>>2]}while(0);return l[S>>2]=e,l[S+4>>2]=i,l[S+8>>2]=o,l[S+12>>2]=a,_e(s,4,13740,S),A=u,0|(S=1)}function at(){var e,t=0,i=0;if(!(e=0|Ne(1,208)))return 0|(t=0);if(l[e>>2]=1,r[(t=0|e+184)>>0]=2|r[t>>0],t=0|Ne(1,5640),l[e+12>>2]=t,!t)return Xe(e),0|(t=0);if(t=0|Ne(1,1e3),l[e+16>>2]=t,!t)return Xe(e),0|(t=0);l[e+20>>2]=1e3,l[e+60>>2]=-1,l[(t=0|e+64)>>2]=0,l[t+4>>2]=0,t=0|Ne(1,48);do{if(0|t){if(l[t+32>>2]=100,l[t+24>>2]=0,i=0|Ne(100,24),l[t+28>>2]=i,!i){je(t);break}return l[t+40>>2]=0,l[e+196>>2]=t,i=0|_i(),l[e+192>>2]=i,i?(i=0|_i(),l[e+188>>2]=i,0|i?0|(i=e):(Xe(e),0|(i=0))):(Xe(e),0|(i=0))}}while(0);return l[e+196>>2]=0,Xe(e),0|(i=0)}function st(e,t,i){e|=0,i|=0;var n,r,o,a,s,c=0,h=0,u=0,d=0,p=0,_=0,m=0,b=0,y=0,g=0,v=0,w=0,x=0;if(s=A,A=0|A+128,a=0|s+104,o=0|s+72,r=0|s+64,v=0|s+40,y=0|s+24,n=0|s+16,_=0|s+8,p=s,0|384&(t|=0))return Sn(13778,11,1,i),void(A=s);if(0|1&t&&0|(d=0|l[e+80>>2])&&lt(d,0,i),0|2&t&&0|l[(h=0|e+80)>>2]&&(Sn(13790,36,1,i),d=0|l[e+96>>2],l[p>>2]=l[e+92>>2],l[p+4>>2]=d,Un(i,13827,p),p=0|l[e+104>>2],l[_>>2]=l[e+100>>2],l[_+4>>2]=p,Un(i,13845,_),_=0|l[e+116>>2],l[n>>2]=l[e+112>>2],l[n+4>>2]=_,Un(i,13863,n),ct(0|l[e+12>>2],0|l[16+(0|l[h>>2])>>2],i),Sn(13879,2,1,i)),0|8&t&&(m=0|B(0|l[e+112>>2],0|l[e+116>>2]),!(0==(0|(u=0|l[(b=0|e+80)>>2]))|0==(0|m)))&&(ct(c=0|l[e+164>>2],0|l[u+16>>2],i),1!=(0|m))){h=1;do{ct(c=0|c+5640,0|l[16+(0|l[b>>2])>>2],i),h=0|h+1}while((0|h)!=(0|m))}if(16&t){d=0|l[e+196>>2],Sn(13882,37,1,i),m=0|l[(t=d)+4>>2],b=0|l[(h=0|d+8)>>2],h=0|l[h+4>>2],l[(u=y)>>2]=l[t>>2],l[u+4>>2]=m,l[(u=0|y+8)>>2]=b,l[u+4>>2]=h,Un(i,13920,y),Sn(13987,17,1,i),h=0|l[(u=0|d+28)>>2];e:do{if(0|h&&(g=0|d+24,0|l[g>>2]))for(c=0;;){if(t=0|l[(m=0|h+(0|24*c)+8)>>2],m=0|l[m+4>>2],y=0|l[h+(0|24*c)+16>>2],l[v>>2]=f[h+(0|24*c)>>1],l[(b=0|v+8)>>2]=t,l[b+4>>2]=m,l[v+16>>2]=y,Un(i,14005,v),(c=0|c+1)>>>0>=(0|l[g>>2])>>>0)break e;h=0|l[u>>2]}}while(0);if(Sn(14036,4,1,i),0|(u=0|l[(_=0|d+40)>>2])&&0|(w=0|l[(x=0|d+36)>>2])){c=0,h=0;do{c=0|(0|l[u+(0|40*h)+4>>2])+c,h=0|h+1}while((0|h)!=(0|w));if(0|c){if(Sn(14041,16,1,i),0|l[x>>2]){p=0,c=0|l[_>>2];do{d=0|l[c+(0|40*p)+4>>2],l[r>>2]=p,l[r+4>>2]=d,Un(i,14058,r),c=0|l[_>>2],u=0|l[c+(0|40*p)+16>>2];e:do{if(0!=(0|d)&0!=(0|u))for(h=0,c=u;;){if(m=0|l[(b=0|c+(0|24*h))>>2],b=0|l[b+4>>2],y=0|l[(g=0|c+(0|24*h)+8)>>2],g=0|l[g+4>>2],v=0|l[(w=0|c+(0|24*h)+16)>>2],w=0|l[w+4>>2],l[o>>2]=h,l[(c=0|o+8)>>2]=m,l[c+4>>2]=b,l[(c=0|o+16)>>2]=y,l[c+4>>2]=g,l[(c=0|o+24)>>2]=v,l[c+4>>2]=w,Un(i,14094,o),h=0|h+1,c=0|l[_>>2],(0|h)==(0|d))break e;c=0|l[c+(0|40*p)+16>>2]}}while(0);u=0|l[c+(0|40*p)+24>>2];e:do{if(0!=(0|u)&&0!=(0|l[c+(0|40*p)+20>>2]))for(h=0,c=u;;){if(g=0|l[(v=0|c+(0|24*h)+8)>>2],v=0|l[v+4>>2],w=0|l[c+(0|24*h)+16>>2],l[a>>2]=f[c+(0|24*h)>>1],l[(c=0|a+8)>>2]=g,l[c+4>>2]=v,l[a+16>>2]=w,Un(i,14005,a),h=0|h+1,c=0|l[_>>2],h>>>0>=(0|l[c+(0|40*p)+20>>2])>>>0)break e;c=0|l[c+(0|40*p)+24>>2]}}while(0);p=0|p+1}while(p>>>0<(0|l[x>>2])>>>0)}Sn(14036,4,1,i)}}Sn(13879,2,1,i),A=s}else A=s}function lt(e,t,i){e|=0,i|=0;var n,o,a,s,c,h,u=0,f=0,d=0;if(c=A,A=0|A+64,s=0|c+48,a=0|c+40,n=0|c+32,d=0|c+16,f=c,o=0|c+52,(t|=0)?(Sn(14455,36,1,0|l[665]),u=0):(Sn(14492,13,1,i),r[o>>0]=9,u=1),r[o+u>>0]=0,h=0|l[e>>2],u=0|l[e+4>>2],l[f>>2]=o,l[f+4>>2]=h,l[f+8>>2]=u,Un(i,14506,f),u=0|l[e+8>>2],f=0|l[e+12>>2],l[d>>2]=o,l[d+4>>2]=u,l[d+8>>2]=f,Un(i,14523,d),f=0|l[(d=0|e+16)>>2],l[n>>2]=o,l[n+4>>2]=f,Un(i,14540,n),!(0|l[(f=0|e+24)>>2]))return Sn(13879,2,1,i),void(A=c);if(!(0|l[d>>2]))return Sn(13879,2,1,i),void(A=c);u=0;do{l[a>>2]=o,l[a+4>>2]=u,Un(i,14556,a),ht(0|(0|l[f>>2])+(0|52*u),t,i),l[s>>2]=o,Un(i,14576,s),u=0|u+1}while(u>>>0<(0|l[d>>2])>>>0);Sn(13879,2,1,i),A=c}function ct(e,t,i){t|=0,i|=0;var n,r,o,a,s,c,h,u,f,d,p,_,m,b=0,y=0,g=0,v=0,w=0,x=0;if(m=A,A=0|A+128,_=0|m+120,p=0|m+112,d=0|m+104,f=0|m+96,u=0|m+88,h=0|m+80,c=0|m+72,s=0|m+64,a=0|m+56,o=0|m+48,r=0|m+40,n=0|m+32,v=0|m+24,g=0|m+16,y=0|m+8,b=m,e|=0){if(Sn(14160,17,1,i),l[b>>2]=l[e>>2],Un(i,14178,b),l[y>>2]=l[e+4>>2],Un(i,14191,y),l[g>>2]=l[e+8>>2],Un(i,14203,g),l[v>>2]=l[e+16>>2],Un(i,14220,v),0<(0|t)){g=0|e+5584,y=0;do{if(v=0|l[g>>2],l[n>>2]=y,Un(i,14231,n),l[r>>2]=l[v+(0|1080*y)>>2],Un(i,14245,r),b=0|v+(0|1080*y)+4,l[o>>2]=l[b>>2],Un(i,14259,o),l[a>>2]=l[v+(0|1080*y)+8>>2],Un(i,14282,a),l[s>>2]=l[v+(0|1080*y)+12>>2],Un(i,14298,s),l[c>>2]=l[v+(0|1080*y)+16>>2],Un(i,14314,c),l[h>>2]=l[v+(0|1080*y)+20>>2],Un(i,14331,h),Sn(14346,23,1,i),0|l[b>>2]){e=0;do{x=0|l[v+(0|1080*y)+944+(e<<2)>>2],l[u>>2]=l[v+(0|1080*y)+812+(e<<2)>>2],l[u+4>>2]=x,Un(i,14370,u),e=0|e+1}while(e>>>0<(0|l[b>>2])>>>0)}if(_r(10,i),x=0|v+(0|1080*y)+24,l[f>>2]=l[x>>2],Un(i,14379,f),l[d>>2]=l[v+(0|1080*y)+804>>2],Un(i,14394,d),Sn(14411,20,1,i),1!=(0|l[x>>2])?2<(0|(e=0|3*(0|l[b>>2])))&&(b=0|e+-2,w=8):(b=1,w=8),8==(0|w)){w=0,e=0;do{x=0|l[v+(0|1080*y)+28+(e<<3)>>2],l[p>>2]=l[v+(0|1080*y)+28+(e<<3)+4>>2],l[p+4>>2]=x,Un(i,14370,p),e=0|e+1}while((0|e)!=(0|b))}_r(10,i),l[_>>2]=l[v+(0|1080*y)+808>>2],Un(i,14432,_),Sn(14449,5,1,i),y=0|y+1}while((0|y)!=(0|t))}Sn(14036,4,1,i),A=m}else A=m}function ht(e,t,i){e|=0,i|=0;var n,o,a,s,c,h=0,u=0;s=A,A=0|A+48,a=0|s+24,u=0|s+16,h=s,o=0|s+32,(n=0!=(0|(t|=0)))?(Sn(14581,41,1,0|l[665]),t=0):(r[o>>0]=9,r[o+1>>0]=9,t=2),r[o+t>>0]=0,c=0|l[e>>2],t=0|l[e+4>>2],l[h>>2]=o,l[h+4>>2]=c,l[h+8>>2]=t,Un(i,14623,h),h=0|l[e+24>>2],l[u>>2]=o,l[u+4>>2]=h,Un(i,14640,u),u=0|l[e+32>>2],l[a>>2]=o,l[a+4>>2]=u,Un(i,14652,a),n?(Sn(13879,2,1,i),A=s):A=s}function ut(e){var t,i,n,r,o,a=0,s=0,c=0,h=0,u=0;if(o=A,A=0|A+16,s=o,r=0|l[16+(0|l[(a=0|80+(e|=0))>>2])>>2],t=0|Ne(1,56),l[s>>2]=t,!t)return A=o,0|(u=0);if(a=0|l[16+(0|l[a>>2])>>2],l[t+24>>2]=a,l[t>>2]=l[e+92>>2],l[t+4>>2]=l[e+96>>2],l[t+8>>2]=l[e+100>>2],l[t+12>>2]=l[e+104>>2],l[t+16>>2]=l[e+112>>2],l[t+20>>2]=l[e+116>>2],l[t+52>>2]=0,e=0|l[e+12>>2],l[t+32>>2]=l[e>>2],l[t+36>>2]=l[e+4>>2],l[t+40>>2]=l[e+8>>2],l[t+44>>2]=l[e+16>>2],a=0|Ne(a,1080),l[(n=0|t+48)>>2]=a,!a)return Ie(s),A=o,0|(u=0);if(!r)return A=o,0|(u=t);for(i=0|e+5584,e=0;;){if(h=0|l[i>>2],l[a+(0|1080*e)+4>>2]=l[h+(0|1080*e)>>2],c=0|l[(s=0|h+(0|1080*e)+4)>>2],l[a+(0|1080*e)+8>>2]=c,l[a+(0|1080*e)+12>>2]=l[h+(0|1080*e)+8>>2],l[a+(0|1080*e)+16>>2]=l[h+(0|1080*e)+12>>2],l[a+(0|1080*e)+20>>2]=l[h+(0|1080*e)+16>>2],l[a+(0|1080*e)+24>>2]=l[h+(0|1080*e)+20>>2],33>c>>>0&&(Br(0|a+(0|1080*e)+948,0|h+(0|1080*e)+944,0|c),Br(0|a+(0|1080*e)+816,0|h+(0|1080*e)+812,0|l[s>>2])),c=0|l[h+(0|1080*e)+24>>2],l[a+(0|1080*e)+28>>2]=c,l[a+(0|1080*e)+808>>2]=l[h+(0|1080*e)+804>>2],1!=(0|c)?96>(0|(s=0|3*(0|l[s>>2]))-3)>>>0&&(c=0|s+-2,u=10):(c=1,u=10),10==(0|u)){u=0,s=0;do{l[a+(0|1080*e)+32+(s<<2)>>2]=l[h+(0|1080*e)+28+(s<<3)+4>>2],l[a+(0|1080*e)+420+(s<<2)>>2]=l[h+(0|1080*e)+28+(s<<3)>>2],s=0|s+1}while((0|s)!=(0|c))}if(l[a+(0|1080*e)+812>>2]=l[h+(0|1080*e)+808>>2],(0|(e=0|e+1))==(0|r))break;a=0|l[n>>2]}return A=o,0|t}function ft(e){e|=0;var t,i,n,r=0,o=0,a=0,s=0,c=0,h=0;if(!(t=0|Ne(1,48)))return 0|(h=0);if(r=0|l[(n=0|e+196)>>2],h=0|l[(c=r)+4>>2],l[(e=t)>>2]=l[c>>2],l[e+4>>2]=h,h=0|l[4+(e=0|r+8)>>2],l[(c=0|t+8)>>2]=l[e>>2],l[c+4>>2]=h,h=0|l[4+(c=0|r+16)>>2],l[(e=0|t+16)>>2]=l[c>>2],l[e+4>>2]=h,r=0|l[r+24>>2],l[(e=0|t+24)>>2]=r,r=0|He(0|24*r),l[(h=0|t+28)>>2]=r,!r)return je(t),0|(h=0);if((o=0|l[28+(0|l[n>>2])>>2])?Br(0|r,0|o,0|24*(0|l[e>>2])):(je(r),l[h>>2]=0),e=0|l[36+(0|l[n>>2])>>2],l[(i=0|t+36)>>2]=e,e=0|Ne(e,40),l[(c=0|t+40)>>2]=e,!e)return je(0|l[h>>2]),je(t),0|(h=0);if(!(r=0|l[40+(0|l[n>>2])>>2]))return je(e),l[c>>2]=0,0|(h=t);if(!(0|l[i>>2]))return 0|(h=t);r=0|l[r+20>>2],l[e+20>>2]=r,r=0|He(0|24*r),e=0|l[c>>2],l[e+24>>2]=r;e:do{if(r){for(o=0;(a=0|l[(0|l[40+(0|l[n>>2])>>2])+(0|40*o)+24>>2])?(Br(0|r,0|a,0|24*(0|l[e+(0|40*o)+20>>2])),e=0|l[c>>2]):(je(r),e=0|l[c>>2],l[e+(0|40*o)+24>>2]=0),r=0|l[(0|l[40+(0|l[n>>2])>>2])+(0|40*o)+4>>2],l[e+(0|40*o)+4>>2]=r,r=0|He(0|24*r),e=0|l[c>>2],l[e+(0|40*o)+16>>2]=r,r;){if((a=0|l[(0|l[40+(0|l[n>>2])>>2])+(0|40*o)+16>>2])?(Br(0|r,0|a,0|24*(0|l[e+(0|40*o)+4>>2])),e=0|l[c>>2]):(je(r),e=0|l[c>>2],l[e+(0|40*o)+16>>2]=0),l[e+(0|40*o)+32>>2]=0,l[e+(0|40*o)+36>>2]=0,(o=0|o+1)>>>0>=(0|l[i>>2])>>>0){s=28;break}if(r=0|l[(0|l[40+(0|l[n>>2])>>2])+(0|40*o)+20>>2],l[e+(0|40*o)+20>>2]=r,r=0|He(0|24*r),e=0|l[c>>2],l[e+(0|40*o)+24>>2]=r,!r)break e}if(28==(0|s))return 0|t;if(o){r=0;do{je(0|l[e+(0|40*r)+24>>2]),je(0|l[(0|l[c>>2])+(0|40*r)+16>>2]),r=0|r+1,e=0|l[c>>2]}while((0|r)!=(0|o))}return je(e),je(0|l[h>>2]),je(t),0|(h=0)}o=0}while(0);if(o){r=0;do{je(0|l[e+(0|40*r)+24>>2]),r=0|r+1,e=0|l[c>>2]}while((0|r)!=(0|o))}return je(e),je(0|l[h>>2]),je(t),0|(h=0)}function dt(e,t,i,n){e|=0,t|=0,n|=0;var r,o,a=0,s=0,c=0,h=0;if(!(i|=0))return 0|(i=0);if(a=0|ge(),l[(o=0|e+84)>>2]=a,!a)return 0|(i=0);if(ve(i,a),bi(0|l[(h=0|e+188)>>2],28,n),r=0|yi(h=0|l[h>>2]),a=0|gi(h),r){for(s=1,c=0;s=s?0!=(0|Jr[63&l[a>>2]](e,t,n)):0,(0|(c=0|c+1))!=(0|r);){a=0|a+4,s&=1}if(vi(h),!s)return ye(0|l[(i=0|e+80)>>2]),l[i>>2]=0,0|(i=0)}else vi(h);if(!(h=0|l[i+16>>2]))return 0|(i=1);c=0|l[24+(0|l[o>>2])>>2],s=0|l[i+24>>2],a=0;do{l[s+(0|52*a)+36>>2]=l[c+(0|52*a)+36>>2],i=0|c+(0|52*a)+44,l[s+(0|52*a)+44>>2]=l[i>>2],l[i>>2]=0,a=0|a+1}while(a>>>0<h>>>0);return 0|(a=1)}function pt(e,t,i,n){e|=0,i|=0,n|=0;var o=0,s=0,c=0,u=0,d=0,p=0,_=0,m=0,b=0,y=0,g=0,v=0,A=0,w=0,x=0,I=0,S=0,E=0,C=0,M=0,P=0,T=0;if(!(0|l[(T=0|16+(t|=0))>>2]))return 0|(T=1);for(P=0,M=0|l[t+24>>2];;){if(u=0|n+8,t=0|l[(c=0|n+44)>>2])s=0|n+12;else{if(t=0|l[u>>2],!(o=0|l[(s=0|n+12)>>2])){i=0,e=66;break}if(t>>>0>(0|4294967295/(o>>>0))>>>0){i=0,e=66;break}if(t=0|Ne(0|B(o,t),4),l[c>>2]=t,!t){i=0,e=66;break}}p=0|M+36,l[n+36>>2]=l[p>>2],A=0|l[M+24>>2],g=0|l[e+24>>2],p=0|l[p>>2],w=3==(0|(A=0|(A>>>3)+(1&0!=(0|7&A)))),I=0|(d=0|l[g+(0|136*p)+8>>2])-(o=0|l[g+(0|136*p)>>2]),g=0|(y=0|l[g+(0|136*p)+12>>2])-(p=0|l[g+(0|136*p)+4>>2]),c=0|l[n+16>>2],m=0|Er(1,0,0|(_=0|l[n+40>>2])),C=k,c=0|Sr(0|(c=0|gr(0|(c=0|gr(0|c,0,-1,-1)),0|k,0|m,0|C)),0|k,0|_),_=0|Sr(0|(C=0|gr(0|(E=0|gr(0|l[n+20>>2],0,-1,-1)),0|k,0|m,0|C)),0|k,0|_),u=0|(C=0|l[u>>2])+c,m=0|(s=0|l[s>>2])+_;do{if(o>>>0<=c>>>0){if(o=0|c-o,d>>>0>u>>>0){E=C,x=o,b=0,v=0|d-u;break}E=0|I-o,x=o,b=0,v=0;break}v=0|u-o,E=(S=d>>>0>u>>>0)?v:I,x=0,b=0|o-c,v=S?0|I-v:0}while(0);do{if(p>>>0<=_>>>0){if(o=0|_-p,y>>>0>m>>>0){S=s,d=o,c=0,o=0|y-m;break}S=0|g-o,d=o,c=0,o=0;break}o=0|m-p,S=(y=y>>>0>m>>>0)?o:g,d=0,c=0|p-_,o=y?0|g-o:0}while(0);if(0>(0|(x|v|E|o|d|S))){i=0,e=66;break}switch(s=0|(u=0|B(d,I))+x,_=0|x+v,m=0|(0|B(o,I))-x,c=0|t+((0|B(C,c))+b<<2),0|1073741823&(w?4:A)){case 1:o=0|i+s,t=0!=(0|S);do{if(0|l[M+32>>2]){if(t){if(!E){i=0|i+(v+u+(0|B(_,0|S+-1))+(x<<1));break}for(p=0|E+v+u+(0|B(0|E+x+v,0|S+-1))+(x<<1),t=o,s=0;;){for(d=0|t+E,u=0,o=c;l[o>>2]=r[t>>0],(0|(u=0|u+1))!=(0|E);){t=0|t+1,o=0|o+4}if((0|(s=0|s+1))==(0|S))break;t=0|d+_,c=0|c+(C<<2)}i=0|i+p}else i=o;}else if(t){if(!E){i=0|i+(v+u+(0|B(_,0|S+-1))+(x<<1));break}for(p=0|E+v+u+(0|B(0|E+x+v,0|S+-1))+(x<<1),d=0,t=o;;){for(u=0|t+E,s=0,o=c;l[o>>2]=h[t>>0],(0|(s=0|s+1))!=(0|E);){t=0|t+1,o=0|o+4}if((0|(d=0|d+1))==(0|S))break;t=0|u+_,c=0|c+(C<<2)}i=0|i+p}else i=o}while(0);i=0|i+m;break;case 2:t=0|i+(s<<1),o=0!=(0|S);do{if(0|l[M+32>>2]){if(o){if(!E){i=0|i+((0|B(d<<1,I))+(0|B(_<<1,0|S+-1))+(x<<2)+(v<<1));break}for(i=0|i+((0|B(E+_<<1,0|S+-1))+(x<<2)+(E+v+u<<1)),d=0;;){for(u=0|t+(E<<1),o=0,s=c;l[s>>2]=a[t>>1],(0|(o=0|o+1))!=(0|E);){t=0|t+2,s=0|s+4}if((0|(d=0|d+1))==(0|S))break;t=0|u+(_<<1),c=0|c+(C<<2)}}else i=t;}else if(o){if(!E){i=0|i+((0|B(d<<1,I))+(0|B(_<<1,0|S+-1))+(x<<2)+(v<<1));break}for(i=0|i+((0|B(E+_<<1,0|S+-1))+(x<<2)+(E+v+u<<1)),d=0;;){for(u=0|t+(E<<1),s=0,o=c;l[o>>2]=f[t>>1],(0|(s=0|s+1))!=(0|E);){t=0|t+2,o=0|o+4}if((0|(d=0|d+1))==(0|S))break;t=0|u+(_<<1),c=0|c+(C<<2)}}else i=t}while(0);i=0|i+(m<<1);break;case 4:t=0|i+(s<<2);do{if(S){if(!E){i=0|i+((0|B(d<<2,I))+(0|B(_<<2,0|S+-1))+(x<<3)+(v<<2));break}for(i=0|i+((0|B(E+_<<2,0|S+-1))+(x<<3)+(E+v+u<<2)),d=0;;){for(u=0|t+(E<<2),o=0,s=c;l[s>>2]=l[t>>2],(0|(o=0|o+1))!=(0|E);){t=0|t+4,s=0|s+4}if((0|(d=0|d+1))==(0|S))break;t=0|u+(_<<2),c=0|c+(C<<2)}}else i=t}while(0);i=0|i+(m<<2);}if((P=0|P+1)>>>0>=(0|l[T>>2])>>>0){i=1,e=66;break}e=0|e+52,n=0|n+52,M=0|M+52}return 66==(0|e)?0|i:0}function _t(e,t,i,n,r){e|=0,t|=0,n|=0,r|=0;var o,a,s=0,c=0,h=0,u=0,f=0,d=0,p=0,_=0,m=0,b=0,y=0,g=0,v=0,w=0,x=0,I=0,S=0;if(a=A,A=0|A+16,h=0|a+8,!(i|=0))return _e(n,1,14842,a),A=a,0|(y=0);if(c=0|l[e+112>>2],(s=0|B(0|l[e+116>>2],c))>>>0<=r>>>0)return l[h>>2]=r,l[h+4>>2]=s+-1,_e(n,1,14880,h),A=a,0|(y=0);if(y=0|(r>>>0)%(c>>>0),b=0|(r>>>0)/(c>>>0),s=0|(s=0|B(0|l[(c=0|e+100)>>2],y))+(0|l[(h=0|e+92)>>2]),l[i>>2]=s,s=s>>>0<(u=0|l[l[(o=0|e+80)>>2]>>2])>>>0?u:s,l[i>>2]=s,h=0|(y=0|B(0|l[c>>2],0|y+1))+(0|l[h>>2]),l[(y=0|i+8)>>2]=h,h=h>>>0>(c=0|l[8+(0|l[o>>2])>>2])>>>0?c:h,l[y>>2]=h,c=0|(c=0|B(0|l[(y=0|e+104)>>2],b))+(0|l[(u=0|e+96)>>2]),l[(_=0|i+4)>>2]=c,c=c>>>0<(m=0|l[4+(0|l[o>>2])>>2])>>>0?m:c,l[_>>2]=c,u=0|(b=0|B(0|l[y>>2],0|b+1))+(0|l[u>>2]),l[(b=0|i+12)>>2]=u,u=u>>>0>(y=0|l[12+(0|l[o>>2])>>2])>>>0?y:u,l[b>>2]=u,b=0|i+24,0|(_=0|l[(y=0|i+16)>>2]))for(m=0|l[24+(0|l[o>>2])>>2],p=0|s+-1,d=0|c+-1,f=0|h+-1,h=0|u+-1,s=0,c=0|l[b>>2];u=0|l[m+(0|52*s)+40>>2],l[c+40>>2]=u,I=0|(0|p+(S=0|l[c>>2]))/(0|S),l[c+16>>2]=I,x=0|(0|d+(g=0|l[c+4>>2]))/(0|g),l[c+20>>2]=x,S=0|(0|f+S)/(0|S),g=0|(0|h+g)/(0|g),w=0|Er(1,0,0|u),v=k,S=0|Ir(0|(S=0|gr(0|(S=0|gr(0|S,0|(0>(0|S))<<31>>31,-1,-1)),0|k,0|w,0|v)),0|k,0|u),I=0|Ir(0|(I=0|gr(0|(I=0|gr(0|I,0|(0>(0|I))<<31>>31,-1,-1)),0|k,0|w,0|v)),0|k,0|u),l[c+8>>2]=S-I,g=0|Ir(0|(g=0|gr(0|(g=0|gr(0|g,0|(0>(0|g))<<31>>31,-1,-1)),0|k,0|w,0|v)),0|k,0|u),u=0|Ir(0|(v=0|gr(0|(x=0|gr(0|x,0|(0>(0|x))<<31>>31,-1,-1)),0|k,0|w,0|v)),0|k,0|u),l[c+12>>2]=g-u,!((s=0|s+1)>>>0>=_>>>0);){c=0|c+52}if(0|(s=0|l[(d=0|e+84)>>2])&&ye(s),s=0|ge(),l[d>>2]=s,!s)return A=a,0|(S=0);if(ve(i,s),l[e+60>>2]=r,bi(0|l[(u=0|e+188)>>2],29,n),f=0|yi(u=0|l[u>>2]),s=0|gi(u),f){for(c=1,h=0;c=c?0!=(0|Jr[63&l[s>>2]](e,t,n)):0,(0|(h=0|h+1))!=(0|f);){s=0|s+4,c&=1}if(vi(u),!c)return ye(0|l[o>>2]),l[o>>2]=0,A=a,0|(S=0)}else vi(u);if(!(s=0|l[y>>2]))return A=a,0|(S=1);for(f=0,u=0|l[24+(0|l[d>>2])>>2],h=0|l[b>>2];;){if(l[h+(0|52*f)+36>>2]=l[u+(0|52*f)+36>>2],(c=0|l[h+(0|52*f)+44>>2])?(je(c),c=0|l[24+(0|l[d>>2])>>2],h=0|l[b>>2],s=0|l[y>>2]):c=u,S=0|c+(0|52*f)+44,l[h+(0|52*f)+44>>2]=l[S>>2],l[S>>2]=0,(f=0|f+1)>>>0>=s>>>0){s=1;break}u=c}return A=a,0|s}function mt(e,t,i){t|=0,i|=0;var n,r,o,a=0,s=0,c=0,h=0;o=A,A=0|A+16,r=o,l[168+(e|=0)>>2]=t,n=0|l[e+80>>2];e:do{if(0!=(0|n)&&(h=0|l[n+24>>2],0!=(0|h))&&(c=0|e+12,a=0|l[c>>2],0!=(0|a))&&(s=0|l[a+5584>>2],0!=(0|s))){if(a=0|l[n+16>>2]){if((0|l[s+4>>2])>>>0>t>>>0){e=0;do{if(l[h+(0|52*e)+40>>2]=t,(e=0|e+1)>>>0>=a>>>0){e=1;break e}}while((0|l[(0|l[5584+(0|l[c>>2])>>2])+(0|1080*e)+4>>2])>>>0>t>>>0)}_e(i,1,15074,r),e=0}else e=1;}else e=0}while(0);return A=o,0|e}function bt(e,t,i){t|=0,i|=0;var n,o,s,c,h,u,f,d,p,_,m,b,y,g,v,w,x,k=0,I=0,S=0,E=0,C=0,M=0,P=0,T=0,D=0,R=0,G=0,O=0,F=0,L=0,Z=0,H=0,N=0,z=0,V=0,U=0,j=0,W=0;if(x=A,A=0|A+48,w=0|x+32,v=0|x+24,g=0|x+16,y=0|x+8,b=x,k=0|l[(d=0|204+(e|=0))>>2],p=0|e+116,o=1==(0|(m=0|B(0|l[(_=0|e+112)>>2],0|l[p>>2]))),!m)return A=x,0|(V=1);s=0|e+200,c=0|e+12,h=0|e+164,u=0|e+8,f=0|k+20,n=0|k+24,z=0,P=0,k=0;e:for(;;){if((0|l[s>>2])!=(0|z)){V=5;break}if(H=z,z=0|z+1,N=0|B(0|l[p>>2],0|l[_>>2]),l[y>>2]=z,l[y+4>>2]=N,_e(i,4,15187,y),l[c>>2]=0,N=0|l[d>>2],l[N+12>>2]=l[(0|l[h>>2])+(0|5640*H)+5588>>2],l[u>>2]=0,!(0|ti(N,0|l[s>>2],i)))break;if(I=0|l[d>>2],M=0|l[16+(0|l[I+24>>2])>>2])if(o){E=0|l[20+(0|l[l[f>>2]>>2])>>2],C=0|l[24+(0|l[n>>2])>>2],S=0;do{l[E+(0|52*S)+32>>2]=l[C+(0|52*S)+44>>2],l[E+(0|52*S)+36>>2]=0,S=0|S+1}while(S>>>0<M>>>0)}else{S=0;do{if(!(0|ei(0|(0|l[20+(0|l[l[f>>2]>>2])>>2])+(0|52*S)))){V=14;break e}S=0|S+1,I=0|l[d>>2]}while(S>>>0<(0|l[16+(0|l[I+24>>2])>>2])>>>0)}if(N=0|ai(I),o)I=P;else{if(N>>>0>k>>>0){if(!(k=0|Ue(P,N))){V=20;break}I=k,k=N}else I=P;if(S=0|l[d>>2],E=0|l[(H=0|S+24)>>2],0|l[E+16>>2]){Z=0|S+20,S=I,L=0;do{R=0|l[20+(0|l[l[Z>>2]>>2])>>2],T=0|l[E+24>>2],U=0|((U=0|l[T+(0|52*L)+24>>2])>>>3)+(1&0!=(0|7&U)),O=0|(M=0|l[R+(0|52*L)+8>>2])-(P=0|l[R+(0|52*L)>>2]),F=0|(D=0|l[R+(0|52*L)+12>>2])-(R=0|l[R+(0|52*L)+4>>2]),W=0|l[E>>2],j=0|l[T+(0|52*L)>>2],C=0|l[T+(0|52*L)+4>>2],G=0|(0|j+~W+(0|l[E+8>>2]))/(0|j),C=0|P-(0|(0|W+-1+j)/(0|j))+(0|B(G,0|R-(0|(0|(0|l[E+4>>2])-1+C)/(0|C)))),C=0|(0|l[T+(0|52*L)+44>>2])+(C<<2);t:do{switch(0|1073741823&(3==(0|U)?4:U)){case 1:if(E=0==(0|O)|0==(0|F),0|l[T+(0|52*L)+32>>2]){if(E)break t;for(R=0|D+-1-R,D=S,E=C,C=0;;){for(M=0,P=D,T=E;r[P>>0]=l[T>>2],(0|(M=0|M+1))!=(0|O);){P=0|P+1,T=0|T+4}if((0|(C=0|C+1))==(0|F))break;D=0|D+O,E=0|E+(G<<2)}S=0|S+(O+(0|B(R,O)));break t}if(E)break t;for(R=0|D+-1-R,T=0,D=S;;){for(E=0,M=D,P=C;r[M>>0]=l[P>>2],(0|(E=0|E+1))!=(0|O);){M=0|M+1,P=0|P+4}if((0|(T=0|T+1))==(0|F))break;D=0|D+O,C=0|C+(G<<2)}S=0|S+(O+(0|B(R,O)));break t;case 2:if(E=0==(0|O)|0==(0|F),0|l[T+(0|52*L)+32>>2]){if(E)break t;for(R=0|(T=M-P<<1)+(0|B(0|D+-1-R,T)),T=S,D=0;;){for(E=T,M=0,P=C;a[E>>1]=l[P>>2],(0|(M=0|M+1))!=(0|O);){E=0|E+2,P=0|P+4}if((0|(D=0|D+1))==(0|F))break;T=0|T+(O<<1),C=0|C+(G<<2)}S=0|S+R;break t}if(E)break t;for(R=0|(T=M-P<<1)+(0|B(0|D+-1-R,T)),T=S,D=0;;){for(E=0,M=T,P=C;a[M>>1]=l[P>>2],(0|(E=0|E+1))!=(0|O);){M=0|M+2,P=0|P+4}if((0|(D=0|D+1))==(0|F))break;T=0|T+(O<<1),C=0|C+(G<<2)}S=0|S+R;break t;case 4:if(!(0==(0|O)|0==(0|F))){for(R=0|(T=M-P<<2)+(0|B(0|D+-1-R,T)),T=S,D=0;;){for(E=T,M=0,P=C;l[E>>2]=l[P>>2],(0|(M=0|M+1))!=(0|O);){E=0|E+4,P=0|P+4}if((0|(D=0|D+1))==(0|F))break;T=0|T+(O<<2),C=0|C+(G<<2)}S=0|S+R}}}while(0);L=0|L+1,E=0|l[H>>2]}while(L>>>0<(0|l[E+16>>2])>>>0);S=0|l[d>>2]}if(!(0|si(S,I,N))){V=61;break}}if(!(0|yt(e,t,i))){V=63;break}if(z>>>0>=m>>>0){V=65;break}P=I}if(5==(0|V))_e(i,1,15150,b);else{if(14==(0|V))return _e(i,1,15208,g),P?(je(P),A=x,0|(W=0)):(A=x,0|(W=0));if(20==(0|V))return 0|P&&je(P),_e(i,1,15246,v),A=x,0|(W=0);if(61==(0|V))return _e(i,1,15285,w),je(I),A=x,0|(W=0);if(63==(0|V))return I?(je(I),A=x,0|(W=0)):(A=x,0|(W=0));if(65==(0|V))return I?(je(I),A=x,0|(W=1)):(A=x,0|(W=1))}return P?(je(P),A=x,0|(W=0)):(A=x,0|(W=0))}function yt(e,t,i){t|=0,i|=0;var n,r,o,s,c,h,u,f,d,p,_=0,m=0,b=0,y=0,g=0,v=0,w=0,x=0,k=0,I=0,S=0,E=0,C=0,B=0,M=0,P=0,T=0,D=0,R=0;if(p=A,A=0|A+32,u=0|p+16,B=0|p+8,v=p,h=0|p+20,d=0|l[40+(e|=0)>>2],x=0|l[(D=0|e+36)>>2],g=0|l[(k=0|e+204)>>2],l[g+16>>2]=0,l[(o=0|e+8)>>2]=0,ie(x,65424,2),ie(0|x+2,10,2),ie(0|x+4,0|l[(f=0|e+200)>>2],2),ie(0|x+10,0|l[(s=0|e+12)>>2],1),ie(0|x+11,0|l[(0|l[(c=0|e+164)>>2])+(0|5640*(0|l[f>>2]))+5588>>2],1),l[h>>2]=12,m=0|x+12,_=0|d+-12,4<=(65535&(0|a[(w=0|e+88)>>1])-3)&&(b=0|l[c>>2],y=0|l[f>>2],0!=(0|l[b+(0|5640*y)+420>>2]))?(l[h>>2]=0,gt(0|l[16+(0|l[e+80>>2])>>2],b,y,m,h),b=0|12+(T=0|l[h>>2]),m=0|m+T,_=0|_-T):b=12,l[h>>2]=0,ie(m,65427,2),l[g+4>>2]=l[o>>2],l[g+8>>2]=l[s>>2],0|l[s>>2]||(l[840+(0|l[l[g+20>>2]>>2])>>2]=0),l[h>>2]=0,!(0|ni(g,0|l[f>>2],0|m+2,h,0|_+-4,0)))return _e(i,1,15332,v),A=p,0|(D=0);_=0|2+(0|l[h>>2]),l[h>>2]=_,ie(0|x+6,_=0|_+b,4),4>(65535&(0|a[w>>1])-3)&&(ie(0|l[(T=0|e+28)>>2],0|l[f>>2],1),P=0|1+(0|l[T>>2]),l[T>>2]=P,ie(P,_,4),l[T>>2]=4+(0|l[T>>2])),b=0|x+_,T=0|d-_,n=0|l[k>>2],r=0|e+88,E=0|l[c>>2],w=0|vt(r,0,C=0|l[f>>2]),P=0|e+8,l[s>>2]=1+(0|l[s>>2]);e:do{if(1<w>>>0){for(x=0|n+4,k=0|n+8,I=0|n+20,S=0|e+28,g=b,m=T,_=0,v=1;l[P>>2]=v,l[h>>2]=0,ie(g,65424,2),ie(0|g+2,10,2),ie(0|g+4,0|l[f>>2],2),ie(0|g+10,0|l[s>>2],1),ie(0|g+11,0|l[(0|l[c>>2])+(0|5640*(0|l[f>>2]))+5588>>2],1),b=0|g+12,l[h>>2]=0,ie(b,65427,2),l[x>>2]=l[o>>2],l[k>>2]=l[s>>2],0|l[s>>2]||(l[840+(0|l[l[I>>2]>>2])>>2]=0),l[h>>2]=0,0|ni(n,0|l[f>>2],0|g+14,h,0|m+-16,0);){if(R=0|2+(y=0|l[h>>2]),l[h>>2]=R,b=0|b+R,_=0|_+12+R,m=0|m+-12+(-2-y),ie(0|g+6,y=0|y+14,4),4>(65535&(0|a[r>>1])-3)&&(ie(0|l[S>>2],0|l[f>>2],1),R=0|1+(0|l[S>>2]),l[S>>2]=R,ie(R,y,4),l[S>>2]=4+(0|l[S>>2])),l[s>>2]=1+(0|l[s>>2]),(v=0|v+1)>>>0>=w>>>0){M=12;break e}g=b}_e(i,1,15332,B)}else m=T,_=0,M=12}while(0);e:do{if(12==(0|M)){I=0|E+(0|5640*C)+420;t:do{if(0|l[I>>2]){S=0|n+16,E=0|n+4,C=0|n+8,B=0|n+20,k=0|e+28,x=1;i:for(;;){if(l[S>>2]=x,w=0|vt(r,x,0|l[f>>2]))for(v=0;;){if(l[P>>2]=v,l[h>>2]=0,ie(b,65424,2),ie(0|b+2,10,2),ie(0|b+4,0|l[f>>2],2),ie(0|b+10,0|l[s>>2],1),ie(0|b+11,0|l[(0|l[c>>2])+(0|5640*(0|l[f>>2]))+5588>>2],1),y=0|b+12,l[h>>2]=0,ie(y,65427,2),l[E>>2]=l[o>>2],l[C>>2]=l[s>>2],0|l[s>>2]||(l[840+(0|l[l[B>>2]>>2])>>2]=0),l[h>>2]=0,!(0|ni(n,0|l[f>>2],0|b+14,h,0|m+-16,0)))break i;if(g=0|2+(R=0|l[h>>2]),l[h>>2]=g,_=0|_+12+g,g=0|y+g,m=0|m+-12+(-2-R),ie(0|b+6,y=0|R+14,4),4>(65535&(0|a[r>>1])-3)&&(ie(0|l[k>>2],0|l[f>>2],1),R=0|1+(0|l[k>>2]),l[k>>2]=R,ie(R,y,4),l[k>>2]=4+(0|l[k>>2])),l[s>>2]=1+(0|l[s>>2]),(v=0|v+1)>>>0>=w>>>0){b=g;break}b=g}if((x=0|x+1)>>>0>(0|l[I>>2])>>>0)break t}_e(i,1,15332,u);break e}}while(0);return R=0|_-T+d,(0|ce(t,0|l[D>>2],R,i))!=(0|R)?(A=p,0|(R=0)):(l[f>>2]=1+(0|l[f>>2]),A=p,0|(R=1))}}while(0);return A=p,0|(R=0)}function gt(e,t,i,n,r){e|=0,n|=0,r|=0;var o,a,s,c,h=0,u=0,f=0,d=0,p=0,_=0;if(h=0|l[(t|=0)+(0|5640*(i|=0))+5584>>2],c=0|1+(0|l[t+(0|5640*i)+420>>2]),s=0|4+(u=0|B(c,0|5+((a=257>e>>>0?1:2)<<1))),ie(n,65375,2),ie(0|n+2,0|u+2,2),c){for(u=0|t+(0|5640*i)+8,o=0|h+4,t=0|t+(0|5640*i)+424,i=0,h=0|n+4;ie(h,0|l[t>>2],1),ie(h=0|h+1,0|l[t+4>>2],a),ie(h=0|h+a,0|l[(p=0|t+8)>>2],2),ie(h=0|h+2,0|l[(f=0|t+12)>>2],1),ie(h=0|h+1,0|l[(n=0|t+16)>>2],a),ie(h=0|h+a,0|l[t+36>>2],1),_=0|l[p>>2],d=0|l[u>>2],l[p>>2]=(0|_)<(0|d)?_:d,p=0|l[f>>2],d=0|l[o>>2],l[f>>2]=(0|p)<(0|d)?p:d,f=0|l[n>>2],l[n>>2]=(0|f)<(0|e)?f:e,(0|(i=0|i+1))!=(0|c);){t=0|t+148,h=0|h+1}l[r>>2]=s}else l[r>>2]=s}function vt(e,t,i){t|=0,i|=0;var n,o,a=0,s=0,c=0,u=0,f=0,d=0;for(c=0|l[76+(e|=0)>>2],a=0|l[c+(0|5640*i)+4>>2],u=696;!(-1==(0|(f=0|l[u>>2]))|(0|f)==(0|a));){u=0|u+12}if(!(8&r[e+93>>0]))return 0|(e=1);switch(f=0|h[e+92>>0],s=0|c+(0|5640*i)+424+(0|148*t)+92,n=0|c+(0|5640*i)+424+(0|148*t)+88,o=0|c+(0|5640*i)+424+(0|148*t)+96,c=0|c+(0|5640*i)+424+(0|148*t)+84,0|(t=0|r[u+4>>0])){case 67:a=s,d=8;break;case 82:a=n,d=8;break;case 80:a=o,d=8;break;case 76:a=c,d=8;break;default:a=1;}if(8==(0|d)&&(a=0|l[a>>2]),(0|f)!=(0|t)){switch(0|(i=0|r[u+5>>0])){case 67:t=s,d=16;break;case 82:t=n,d=16;break;case 80:t=o,d=16;break;case 76:t=c,d=16;}if(16==(0|d)&&(a=0|B(0|l[t>>2],a)),(0|f)!=(0|i)){switch(0|(i=0|r[u+6>>0])){case 67:t=s,d=22;break;case 82:t=n,d=22;break;case 80:t=o,d=22;break;case 76:t=c,d=22;}if(22==(0|d)&&(a=0|B(0|l[t>>2],a)),(0|f)!=(0|i)){switch(0|(t=0|r[u+7>>0])){case 67:d=28;break;case 82:s=n,d=28;break;case 80:s=o,d=28;break;case 76:s=c,d=28;}if(28==(0|d)&&(a=0|B(0|l[s>>2],a)),(0|f)!=(0|t))return 0|(e=a);s=3}else s=2}else s=1}else s=0;return l[e+84>>2]=s,0|(e=a)}function At(e,t,i){t|=0,i|=0;var n,r=0,o=0,s=0,c=0;if(!(0|bi(0|l[(r=0|188+(e|=0))>>2],30,i)))return 0|(c=0);if(4>(65535&(0|a[e+88>>1])-3)&&0==(0|bi(0|l[r>>2],31,i)))return 0|(c=0);if(!(0|bi(0|l[r>>2],32,i)))return 0|(c=0);if(!(0|bi(0|l[r>>2],33,i)))return 0|(c=0);if(!(0|bi(0|l[r>>2],34,i)))return 0|(c=0);if(n=0|yi(c=0|l[r>>2]),r=0|gi(c),n)for(o=r,r=1,s=0;r=r?0!=(0|Jr[63&l[o>>2]](e,t,i)):0,r&=1,(0|(s=0|s+1))!=(0|n);){o=0|o+4}else r=1;return vi(c),0|(c=r)}function wt(e,t,i,n){e|=0,t|=0,i|=0,n|=0;var r,o,s=0,c=0,h=0,u=0;if(o=A,A=0|A+16,s=0|ge(),l[(r=0|e+80)>>2]=s,!s)return _e(n,1,15352,o),A=o,0|(n=0);if(ve(i,s),0|(h=0|l[i+24>>2])&&0|(u=0|l[i+16>>2])){s=0;do{0|(c=0|l[(i=0|h+(0|52*s)+44)>>2])&&(l[(0|l[24+(0|l[r>>2])>>2])+(0|52*s)+44>>2]=c,l[i>>2]=0),s=0|s+1}while(s>>>0<u>>>0)}if(!(0|bi(0|l[(s=0|e+192)>>2],35,n)))return A=o,0|(n=0);if(!(0|bi(0|l[s>>2],36,n)))return A=o,0|(n=0);if(!(0|bi(0|l[s>>2],37,n)))return A=o,0|(n=0);if(u=0|yi(h=0|l[s>>2]),s=0|gi(h),u){for(i=1,c=0;i=i?0!=(0|Jr[63&l[s>>2]](e,t,n)):0,(0|(c=0|c+1))!=(0|u);){s=0|s+4,i&=1}if(vi(h),!i)return A=o,0|(n=0)}else vi(h);if(!(0|bi(0|l[(s=0|e+188)>>2],38,n)))return A=o,0|(n=0);if(!(0|bi(0|l[s>>2],39,n)))return A=o,0|(n=0);if(!(0|bi(0|l[s>>2],40,n)))return A=o,0|(n=0);if(!(0|bi(0|l[s>>2],41,n)))return A=o,0|(n=0);if(!(0|bi(0|l[s>>2],42,n)))return A=o,0|(n=0);if(!(0|bi(0|l[s>>2],43,n)))return A=o,0|(n=0);if(!(0|bi(0|l[s>>2],44,n)))return A=o,0|(n=0);if(4>(65535&(0|a[(i=0|e+88)>>1])-3)){if(!(0|bi(0|l[s>>2],45,n)))return A=o,0|(n=0);if(4==(0|a[i>>1])&&0==(0|bi(0|l[s>>2],46,n)))return A=o,0|(n=0)}if(!(0|bi(0|l[s>>2],47,n)))return A=o,0|(n=0);if(0|l[e+108>>2]&&0==(0|bi(0|l[s>>2],48,n)))return A=o,0|(n=0);if(256&a[i>>1]&&0==(0|bi(0|l[s>>2],49,n)))return A=o,0|(n=0);if(0|l[e+196>>2]&&0==(0|bi(0|l[s>>2],50,n)))return A=o,0|(n=0);if(!(0|bi(0|l[s>>2],51,n)))return A=o,0|(n=0);if(!(0|bi(0|l[s>>2],52,n)))return A=o,0|(n=0);if(h=0|yi(u=0|l[s>>2]),s=0|gi(u),h)for(i=s,s=1,c=0;s=s?0!=(0|Jr[63&l[i>>2]](e,t,n)):0,s&=1,(0|(c=0|c+1))!=(0|h);){i=0|i+4}else s=1;return vi(u),A=o,0|(n=s)}function xt(e,t,i,n,r,o){i|=0,n|=0,r|=0,o|=0;var a,s,c,h,u=0,f=0;h=A,A=0|A+16,s=0|h+8,a=h,c=0|l[(e|=0)+(0|5640*(t|=0))+5584>>2],t=0|l[c+(0|1080*i)+24>>2];do{if(1!=(0|t)){if(u=0|(e=0|3*(0|l[c+(0|1080*i)+4>>2]))-2,t)f=7;else{if(e=0|e+-1,(0|l[r>>2])>>>0<e>>>0)return _e(o,1,15741,a),A=h,0|(r=0);if(ie(n,l[c+(0|1080*i)+804>>2]<<5,1),!u)break;t=0;do{ie(n=0|n+1,l[c+(0|1080*i)+28+(t<<3)>>2]<<3,1),t=0|t+1}while((0|t)!=(0|u))}}else u=1,t=1,f=7}while(0);if(7==(0|f)){if(e=1|u<<1,(0|l[r>>2])>>>0<e>>>0)return _e(o,1,15741,s),A=h,0|(r=0);if(ie(n,0|(l[c+(0|1080*i)+804>>2]<<5)+t,1),u)for(n=0|n+1,t=0;ie(n,0|(l[c+(0|1080*i)+28+(t<<3)>>2]<<11)+(0|l[c+(0|1080*i)+28+(t<<3)+4>>2]),2),(0|(t=0|t+1))!=(0|u);){n=0|n+2}}return l[r>>2]=(0|l[r>>2])-e,A=h,0|(r=1)}function kt(e,t,i,n,r){var o,a,s;if(i|=0,n|=0,r|=0,s=A,A=0|A+16,o=0|l[(e|=0)+(0|5640*(t|=0))+5584>>2],5>(0|l[n>>2])>>>0)return _e(r,1,15813,s),A=s,0|(n=0);if(ie(i,0|(0|l[(a=0|o+4)>>2])-1,1),ie(0|i+1,0|(0|l[o+8>>2])-2,1),ie(0|i+2,0|(0|l[o+12>>2])-2,1),ie(0|i+3,0|l[o+16>>2],1),ie(0|i+4,0|l[o+20>>2],1),e=0|(0|l[n>>2])-5,l[n>>2]=e,!(1&l[o>>2]))return A=s,0|(n=1);if(e>>>0<(t=0|l[a>>2])>>>0)return _e(r,1,15813,0|s+8),A=s,0|(n=0);if(t){for(e=0|i+5,i=0;ie(e,0|(l[o+944+(i<<2)>>2]<<4)+(0|l[o+812+(i<<2)>>2]),1),!((i=0|i+1)>>>0>=(t=0|l[a>>2])>>>0);){e=0|e+1}e=0|l[n>>2]}else t=0;return l[n>>2]=e-t,A=s,0|(n=1)}function It(e,t,i,n,r,o){t|=0,i|=0,n|=0,r|=0,o|=0;var a,s,c,h,u=0,f=0,d=0,p=0;if(h=A,A=0|A+48,c=0|h+40,p=0|h+32,s=0|h+24,a=0|h+16,u=0|h+8,(0|l[(f=0|200+(e|=0))>>2])!=(0|t))return _e(o,1,15150,h),l[a>>2]=t,_e(o,1,16086,a),A=h,0;if(d=0|B(0|l[e+116>>2],0|l[e+112>>2]),l[u>>2]=t+1,l[u+4>>2]=d,_e(o,4,15187,u),l[e+12>>2]=0,u=0|l[(d=0|e+204)>>2],l[u+12>>2]=l[(0|l[e+164>>2])+(0|5640*t)+5588>>2],l[e+8>>2]=0,!(0|ti(u,0|l[f>>2],o)))return l[a>>2]=t,_e(o,1,16086,a),A=h,0;u=0|l[d>>2];e:do{if(0|l[16+(0|l[u+24>>2])>>2]){for(f=0;0|ei(0|(0|l[20+(0|l[l[u+20>>2]>>2])>>2])+(0|52*f));){if(f=0|f+1,u=0|l[d>>2],f>>>0>=(0|l[16+(0|l[u+24>>2])>>2])>>>0)break e}return _e(o,1,15208,s),A=h,0|(p=0)}}while(0);return 0|si(u,i,n)?0|yt(e,r,o)?(A=h,0|(p=1)):(l[c>>2]=t,_e(o,1,16143,c),A=h,0|(p=0)):(_e(o,1,15285,p),A=h,0|(p=0))}function St(e,t,i){e|=0,i|=0;var n,o,s,c,u,d,p,_,m,b=0,y=0,g=0,v=0,w=0,x=0,k=0,I=0,S=0,E=0;m=A,A=0|A+80,E=0|m+72,_=0|m+64,p=0|m+56,d=0|m+48,u=0|m+40,c=0|m+32,s=0|m+24,S=0|m+16,x=0|m+8,w=m,b=0|l[8+(t|=0)>>2];e:do{if(b){I=0|l[b>>2],k=0|a[b+4>>1],y=0|l[e+16>>2],0!=(0|(b=0|l[t+12>>2]))&&0!=(0|l[b+12>>2])&&(y=0|h[b+18>>0]);t:do{if(k<<16>>16){v=0;i:for(;;){if(y>>>0<=(g=0|f[I+(0|6*(t=65535&v))>>1])>>>0){v=14;break}switch((t=0|a[I+(0|6*t)+4>>1])<<16>>16){case 0:case-1:break;default:if((t=0|(65535&t)-1)>>>0>=y>>>0){v=17;break i}}if((65535&(v=v+1<<16>>16))>=(65535&k)){v=8;break}}if(8==(0|v))for(;;){y=0|y+-1,t=0;do{if((0|y)==(0|f[I+(0|6*(65535&t))>>1]))break;t=t+1<<16>>16}while((65535&t)<(65535&k));if(t<<16>>16==k<<16>>16)break t;if(!y)break e;v=8}else{if(14==(0|v))return l[w>>2]=g,l[w+4>>2]=y,_e(i,1,16331,w),A=m,0|(E=0);if(17==(0|v))return l[x>>2]=t,l[x+4>>2]=y,_e(i,1,16331,x),A=m,0|(E=0)}}else if(!y)break e}while(0);return _e(i,1,16368,S),A=m,0|(E=0)}b=0|l[t+12>>2]}while(0);if(!b)return A=m,0|(E=1);if(!(o=0|l[b+12>>2]))return A=m,0|(E=1);if(n=255&(k=0|r[b+18>>0]),S=0==k<<24>>24)b=1;else{v=0|e+16,b=1,g=0,t=0;do{t=0|f[o+(t<<2)>>1],(y=0|l[v>>2])>>>0<=t>>>0&&(l[s>>2]=t,l[s+4>>2]=y,_e(i,1,16331,s),b=0),t=65535&(g=g+1<<16>>16)}while(t>>>0<n>>>0)}if(!(I=0|Ne(n,4)))return _e(i,1,16401,c),A=m,0|(E=0);if(!S){w=0,x=0;do{g=255&(y=0|r[o+(x<<2)+3>>0]);do{if((255&y)<(255&k)){if(v=0|I+(g<<2),t=0|r[o+(x<<2)+2>>0],0!=(0|l[v>>2])&1==t<<24>>24){l[d>>2]=g,_e(i,1,16474,d),b=0;break}if(0!=t<<24>>24|0==y<<24>>24){l[v>>2]=1;break}l[p>>2]=x,l[p+4>>2]=g,_e(i,1,16505,p),b=0;break}l[u>>2]=g,_e(i,1,16418,u),b=0}while(0);x=65535&(w=w+1<<16>>16)}while(x>>>0<n>>>0);if(!S){y=0,t=0;do{0==(0|l[I+(t<<2)>>2])&&0!=(0|r[o+(t<<2)+2>>0])&&(l[_>>2]=t,_e(i,1,16541,_),b=0),t=65535&(y=y+1<<16>>16)}while(t>>>0<n>>>0)}}if(!b)return je(I),A=m,0|(E=0);e:do{if(!(1!=(0|l[e+16>>2])|S)){for(t=0,b=0;t=t+1<<16>>16,0|l[I+(b<<2)>>2];){if((b=65535&t)>>>0>=n>>>0)break e}l[E>>2]=b,_e(i,2,16579,E),b=0,t=0;do{r[o+(t<<2)+2>>0]=1,r[o+(t<<2)+3>>0]=b,t=65535&(b=b+1<<16>>16)}while(t>>>0<n>>>0)}}while(0);return je(I),A=m,0|(E=1)}function Et(e,t){e|=0;var i,n,o,s,c,u,d,p,_=0,m=0,b=0,y=0,g=0,v=0,A=0,w=0;if(t=0|l[(p=0|12+(t|=0))>>2],v=0|l[t+8>>2],A=0|l[t+4>>2],o=0|l[t>>2],n=0|l[t+12>>2],t=0|r[t+18>>0],c=0|l[(s=0|e+24)>>2],d=0|He(0|52*(u=255&t))){if(!(i=0==t<<24>>24)){y=0,g=0;do{if(t=0|a[n+(g<<2)>>1],0|r[n+(g<<2)+2>>0]){m=0|c+(0|52*(t&=65535)),b=0|52+(_=0|d+(0|52*(0|h[n+(g<<2)+3>>0])));do{l[_>>2]=l[m>>2],_=0|_+4,m=0|m+4}while((0|_)<(0|b))}else{m=0|c+(0|52*(t&=65535)),b=0|52+(_=0|d+(0|52*g));do{l[_>>2]=l[m>>2],_=0|_+4,m=0|m+4}while((0|_)<(0|b))}if(b=0|He(0|B(l[c+(0|52*t)+8>>2]<<2,0|l[c+(0|52*t)+12>>2])),l[d+(0|52*g)+44>>2]=b,!b){w=7;break}l[d+(0|52*g)+24>>2]=h[v+g>>0],l[d+(0|52*g)+32>>2]=h[A+g>>0],g=65535&(y=y+1<<16>>16)}while(g>>>0<u>>>0);if(7==(0|w))return void je(d);if(A=0|(v=0|f[16+(0|l[p>>2])>>1])-1,!i){b=0,t=0;do{if(y=0|l[c+(0|52*(0|f[n+(t<<2)>>1]))+44>>2],m=0|h[n+(t<<2)+3>>0],g=0|B(0|l[d+(0|52*m)+12>>2],0|l[d+(0|52*m)+8>>2]),0|r[n+(t<<2)+2>>0]){if(_=0|l[d+(0|52*m)+44>>2],0|g){t=0;do{w=0|l[y+(t<<2)>>2],w=0|o+((0|B(0>(0|w)?0:(0|w)<(0|v)?w:A,u))+m<<2),l[_+(t<<2)>>2]=l[w>>2],t=0|t+1}while((0|t)!=(0|g))}}else if(_=0|l[d+(0|52*t)+44>>2],0|g){t=0;do{l[_+(t<<2)>>2]=l[y+(t<<2)>>2],t=0|t+1}while((0|t)!=(0|g))}t=65535&(b=b+1<<16>>16)}while(t>>>0<u>>>0)}}if(0|(b=0|l[(m=0|e+16)>>2])){_=0,t=0;do{0|(t=0|l[c+(0|52*t)+44>>2])&&je(t),t=65535&(_=_+1<<16>>16)}while(b>>>0>t>>>0)}je(c),l[s>>2]=d,l[m>>2]=u,je(0|l[4+(0|l[p>>2])>>2]),je(0|l[8+(0|l[p>>2])>>2]),je(0|l[l[p>>2]>>2]),t=0|l[p>>2],(_=0|l[t+12>>2])&&(je(_),t=0|l[p>>2]),je(t),l[p>>2]=0}}function Ct(e,t,i){e|=0,i|=0;var n,r,o,s,c,h,u=0,f=0,d=0,p=0,_=0,m=0,b=0,y=0,g=0,v=0,w=0,x=0,k=0,I=0,S=0,E=0;if(h=A,A=0|A+80,s=0|h+8,o=h,r=0|h+16,u=0|l[(c=0|8+(t|=0))>>2],t=0|l[u>>2],(n=0|a[u+4>>1])<<16>>16){for(S=0|e+16,y=0|e+24,I=65535&n,x=1,k=0;;){v=65535&(g=0|a[t+(0|6*k)>>1]),e=0|l[S>>2];e:do{if(e>>>0>v>>>0){switch((u=0|a[t+(0|6*k)+4>>1])<<16>>16){case-1:case 0:a[(0|l[y>>2])+(0|52*v)+48>>1]=0|a[t+(0|6*k)+2>>1];break e;}if(w=65535&65535+(65535&u),e>>>0<=(_=65535&(b=u+-1<<16>>16))>>>0){l[s>>2]=_,l[s+4>>2]=e,_e(i,2,16290,s);break}if(m=0|t+(0|6*k)+2,g<<16>>16!=b<<16>>16&&0==(0|a[m>>1])){d=e=0|(u=0|l[y>>2])+(0|52*v),p=0|(f=r)+52;do{l[f>>2]=l[d>>2],f=0|f+4,d=0|d+4}while((0|f)<(0|p));d=0|u+(0|52*_),p=0|(f=e)+52;do{l[f>>2]=l[d>>2],f=0|f+4,d=0|d+4}while((0|f)<(0|p));d=r,p=0|52+(f=0|(0|l[y>>2])+(0|52*_));do{l[f>>2]=l[d>>2],f=0|f+4,d=0|d+4}while((0|f)<(0|p));if((65535&n)>(65535&k+1)){f=x;do{(u=0|a[(e=0|t+(0|6*f))>>1])<<16>>16!=g<<16>>16?u<<16>>16==b<<16>>16&&(u=g,E=14):(u=w,E=14),14==(0|E)&&(E=0,a[e>>1]=u),f=0|f+1}while(n<<16>>16!=(65535&f)<<16>>16)}}a[(0|l[y>>2])+(0|52*v)+48>>1]=0|a[m>>1]}else l[o>>2]=v,l[o+4>>2]=e,_e(i,2,16250,o)}while(0);if((0|(k=0|k+1))==(0|I))break;x=0|x+1}u=t=0|l[c>>2],t=0|l[t>>2]}return t?(je(t),je(E=0|l[c>>2]),l[c>>2]=0,void(A=h)):(je(E=u),l[c>>2]=0,void(A=h))}function Bt(e){var t=0,i=0,n=0;(e|=0)&&(Xe(0|l[e>>2]),l[e>>2]=0,0|(i=0|l[(t=0|e+72)>>2])&&(je(i),l[t>>2]=0),0|(i=0|l[(t=0|e+68)>>2])&&(je(i),l[t>>2]=0),0|(t=0|l[(i=0|e+108)>>2])&&(je(t),l[i>>2]=0),0|(t=0|l[(n=0|e+116)>>2])&&((i=0|l[t>>2])&&(je(i),t=0|l[n>>2],l[t>>2]=0),je(t),l[n>>2]=0),0|(t=0|l[(n=0|e+120)>>2])&&((i=0|l[t+12>>2])&&(je(i),t=0|l[n>>2],l[t+12>>2]=0),(i=0|l[t+4>>2])&&(je(i),t=0|l[n>>2],l[t+4>>2]=0),(i=0|l[t+8>>2])&&(je(i),t=0|l[n>>2],l[t+8>>2]=0),(i=0|l[t>>2])&&(je(i),t=0|l[n>>2],l[t>>2]=0),je(t),l[n>>2]=0),0|(i=0|l[(t=0|e+4)>>2])&&(mi(i),l[t>>2]=0),0|(i=0|l[(t=0|e+8)>>2])&&(mi(i),l[t>>2]=0),je(e))}function Mt(e){e|=0;var t=0;return(t=0|Ne(1,136))?(e=e?0|at():0|Ye(),l[t>>2]=e,e?(l[(e=0|t+108)>>2]=0,l[e+4>>2]=0,l[e+8>>2]=0,l[e+12>>2]=0,r[e+16>>0]=0,e=0|_i(),l[t+4>>2]=e,e?(e=0|_i(),l[t+8>>2]=e,0|e?0|t:(Bt(t),0|(t=0))):(Bt(t),0|(t=0))):(Bt(t),0|(t=0))):0|t}function Pt(e,t,i,n){e|=0,t|=0,i|=0;var r=0,o=0,a=0,s=0,c=0,h=0,u=0;if(n|=0){r=0;do{s=0|l[(u=0|e+(r<<2))>>2],a=0|l[(c=0|t+(r<<2))>>2],h=0|l[(o=0|i+(r<<2))>>2],l[u>>2]=(a<<1)+s+h>>2,l[c>>2]=h-a,l[o>>2]=s-a,r=0|r+1}while((0|r)!=(0|n))}}function Tt(e,t,i,n){e|=0,t|=0,i|=0;var r=0,o=0,a=0,s=0,c=0,h=0,u=0;if(n|=0){r=0;do{h=0|e+(r<<2),a=0|l[(c=0|t+(r<<2))>>2],u=0|l[(o=0|i+(r<<2))>>2],s=0|(0|l[h>>2])-(u+a>>2),l[h>>2]=s+u,l[c>>2]=s,l[o>>2]=s+a,r=0|r+1}while((0|r)!=(0|n))}}function Dt(e,t,i,n){e|=0,t|=0,i|=0;var r=0,o=0,a=0,s=0,c=0,h=0,u=0,f=0,d=0,p=0,_=0,m=0,b=0,y=0,g=0,v=0;if(n|=0){r=0;do{v=0|l[(p=0|e+(r<<2))>>2],g=0|l[(h=0|t+(r<<2))>>2],y=0|l[(o=0|i+(r<<2))>>2],m=0|Sr(0|(m=0|gr(0|(m=0|yr(0|v,0|(c=(0>(0|v))<<31>>31),2449,0)),0|k,4096,0)),0|k,13),b=0|Sr(0|(b=0|gr(0|(b=0|yr(0|g,0|(s=(0>(0|g))<<31>>31),4809,0)),0|k,4096,0)),0|k,13),_=0|Sr(0|(_=0|gr(0|(_=0|yr(0|y,0|(a=(0>(0|y))<<31>>31),934,0)),0|k,4096,0)),0|k,13),u=0|Sr(0|(u=0|gr(0|(u=0|yr(0|v,0|c,1382,0)),0|k,4096,0)),0|k,13),f=0|Sr(0|(f=0|gr(0|(f=0|yr(0|g,0|s,2714,0)),0|k,4096,0)),0|k,13),d=0|Sr(0|(d=0|gr(0|(d=0|Er(0|y,0|a,12)),0|k,4096,0)),0|k,13),c=0|Sr(0|(c=0|gr(0|(c=0|Er(0|v,0|c,12)),0|k,4096,0)),0|k,13),s=0|Sr(0|(s=0|gr(0|(s=0|yr(0|g,0|s,3430,0)),0|k,4096,0)),0|k,13),a=0|Sr(0|(a=0|gr(0|(a=0|yr(0|y,0|a,666,0)),0|k,4096,0)),0|k,13),l[p>>2]=b+m+_,l[h>>2]=d-(f+u),l[o>>2]=c-s-a,r=0|r+1}while((0|r)!=(0|n))}}function Rt(e,t,i,n){e|=0,t|=0,i|=0;var r=0,o=0,a=0,s=0,l=0,c=0,h=0;if(n|=0){r=0;do{s=+_[(h=0|e+(r<<2))>>2],a=+_[(l=0|t+(r<<2))>>2],c=+_[(o=0|i+(r<<2))>>2],_[h>>2]=s+1.4019999504089355*c,_[l>>2]=s-.3441300094127655*a-.714139997959137*c,_[o>>2]=s+1.7719999551773071*a,r=0|r+1}while((0|r)!=(0|n))}}function Gt(e,t,i,n,r){e|=0,t|=0,i|=0,r|=0;var o,a,s=0,c=0,h=0,u=0,f=0,d=0,p=0,m=0;if(!(a=0|He((s=0|B(n|=0,n))+n<<2)))return 0|(t=0);if(o=0|a+(n<<2),0|s)for(r=e,e=0;l[o+(e<<2)>>2]=~~(8192*+_[r>>2]),(0|(e=0|e+1))!=(0|s);){r=0|r+4}e:do{if(0|t){if(n)d=0;else for(r=0;;){if((0|(r=0|r+1))==(0|t))break e}do{r=0;do{l[a+(r<<2)>>2]=l[l[i+(r<<2)>>2]>>2],r=0|r+1}while((0|r)!=(0|n));for(e=o,s=0;;){for(u=0|l[(h=0|i+(s<<2))>>2],l[u>>2]=0,r=0,c=e,f=0;p=0|l[c>>2],f=0|f+(p=0|Sr(0|(p=0|gr(0|(p=0|yr(0|(m=0|l[a+(r<<2)>>2]),0|(0>(0|m))<<31>>31,0|p,0|(0>(0|p))<<31>>31)),0|k,4096,0)),0|k,13)),l[u>>2]=f,(0|(r=0|r+1))!=(0|n);){c=0|c+4}if(l[h>>2]=u+4,(0|(s=0|s+1))==(0|n))break;e=0|e+(n<<2)}d=0|d+1}while((0|d)!=(0|t))}}while(0);return je(a),0|(m=1)}function Ot(e,t,i,n,r){e|=0,t|=0,i|=0,r|=0;var o,a,s=0,c=0,h=0,u=0,f=0,d=0;if(!(a=0|He((n|=0)<<3)))return 0|(t=0);o=0|a+(n<<2);e:do{if(0|t){if(n)d=0;else for(r=0;;){if((0|(r=0|r+1))==(0|t))break e}do{r=0;do{l[a+(r<<2)>>2]=l[l[i+(r<<2)>>2]>>2],r=0|r+1}while((0|r)!=(0|n));for(s=e,h=0;;){for(_[(u=0|o+(h<<2))>>2]=0,r=0,c=s,f=0;f+=+_[c>>2]*+_[a+(r<<2)>>2],_[u>>2]=f,(0|(r=0|r+1))!=(0|n);){c=0|c+4}if(u=0|l[(c=0|i+(h<<2))>>2],l[c>>2]=u+4,_[u>>2]=f,(0|(h=0|h+1))==(0|n))break;s=0|s+(n<<2)}d=0|d+1}while((0|d)!=(0|t))}}while(0);return je(a),0|(t=1)}function Ft(e,t,i){e|=0,i|=0;var n=0,r=0,o=0,a=0,s=0,l=0;if(t|=0){o=0;do{for(b[(s=0|e+(o<<3))>>3]=0,n=0,r=o,a=0;a+=(l=+_[i+(r<<2)>>2])*l,(0|(n=0|n+1))!=(0|t);){r=0|r+t}l=+S(+a),b[s>>3]=l,o=0|o+1}while((0|o)!=(0|t))}}function Lt(e,t,i){e|=0,i|=0;var n,o,a,s,c,h,u,f,d,p,_,m,b=0,y=0,g=0,v=0,w=0,x=0,k=0,I=0,S=0,E=0,C=0,M=0,P=0,T=0,D=0;if(m=A,A=0|A+32,S=0|m+28,x=0|m+24,E=0|m+20,n=0|m+16,C=0|m+12,o=0|m+8,k=0|m+4,w=m,_=0|l[(b=0|76+(t|=0))>>2],D=0|1+(0|l[(u=0|_+(0|5640*i)+420)>>2]),!(f=0|He(0|528*(0|l[(I=0|e+16)>>2]))))return A=m,0|(D=0);if(!(d=0|He(l[I>>2]<<2)))return je(f),A=m,0|(D=0);if(!(b=0|Zt(e,0|l[b>>2],i)))return je(f),je(d),A=m,0|(D=0);if(0|(v=0|l[I>>2]))for(y=f,g=0;l[d+(g<<2)>>2]=y,!((g=0|g+1)>>>0>=v>>>0);){y=0|y+528}if(Ht(e,t,i,E,n,C,o,k,w,x,S,d),p=0|l[x>>2],s=0|B(0|l[I>>2],p),h=0|l[S>>2],a=0|B(h,s),l[(g=0|b+4)>>2]=0,a>>>0<=(0|4294967295/((y=0|1+(0|l[(c=0|_+(0|5640*i)+8)>>2]))>>>0))>>>0&&(T=0|Ne(0|B(y,a),2),l[g>>2]=T,0|T)){if(y=0|l[b+196>>2],T=0|l[e+24>>2],P=0|l[E>>2],l[b+200>>2]=P,M=0|l[C>>2],l[b+204>>2]=M,C=0|l[n>>2],l[b+208>>2]=C,E=0|l[o>>2],l[b+212>>2]=E,l[b+20>>2]=1,l[b+16>>2]=p,l[b+12>>2]=s,l[b+8>>2]=a,0|(I=0|l[b+192>>2]))for(k=T,t=y,w=0;;){if(y=0|l[t+12>>2],g=0|l[d+(w<<2)>>2],l[t>>2]=l[k>>2],l[t+4>>2]=l[k+4>>2],0|(x=0|l[t+8>>2]))for(v=0;l[y>>2]=l[g>>2],l[y+4>>2]=l[g+4>>2],l[y+8>>2]=l[g+8>>2],l[y+12>>2]=l[g+12>>2],!((v=0|v+1)>>>0>=x>>>0);){y=0|y+16,g=0|g+16}if((w=0|w+1)>>>0>=I>>>0)break;k=0|k+52,t=0|t+16}if(1<D>>>0){k=1,S=b;do{if(y=0|l[S+428>>2],l[S+432>>2]=P,l[S+436>>2]=M,l[S+440>>2]=C,l[S+444>>2]=E,l[S+252>>2]=1,l[S+248>>2]=p,l[S+244>>2]=s,l[S+240>>2]=a,0|(e=0|l[S+424>>2]))for(I=T,w=0;;){if(g=0|l[y+12>>2],v=0|l[d+(w<<2)>>2],l[y>>2]=l[I>>2],l[y+4>>2]=l[I+4>>2],0|(x=0|l[y+8>>2]))for(t=0;l[g>>2]=l[v>>2],l[g+4>>2]=l[v+4>>2],l[g+8>>2]=l[v+8>>2],l[g+12>>2]=l[v+12>>2],!((t=0|t+1)>>>0>=x>>>0);){g=0|g+16,v=0|v+16}if((w=0|w+1)>>>0>=e>>>0)break;I=0|I+52,y=0|y+16}l[S+236>>2]=l[S+4>>2],S=0|S+232,k=0|k+1}while((0|k)!=(0|D))}if(je(f),je(d),y=0==(0|(w=0|1+(0|l[u>>2]))),4&r[_+(0|5640*i)+5636>>0]){if(y)return A=m,0|(D=b);for(y=0|_+(0|5640*i)+424,g=b,v=0;l[g+80>>2]=l[y+36>>2],l[g+40>>2]=1,l[g+44>>2]=l[y>>2],l[g+48>>2]=l[y+4>>2],l[g+64>>2]=0,l[g+68>>2]=0,l[g+56>>2]=l[y+12>>2],l[g+60>>2]=l[y+16>>2],l[g+52>>2]=l[y+8>>2],l[g+72>>2]=p,(0|(v=0|v+1))!=(0|w);){y=0|y+148,g=0|g+232}return A=m,0|b}if(y)return A=m,0|(D=b);for(t=0|l[_+(0|5640*i)+4>>2],v=0|l[c>>2],y=0,g=b;l[g+80>>2]=t,l[g+40>>2]=1,l[g+44>>2]=0,l[g+48>>2]=0,l[g+64>>2]=0,l[g+68>>2]=0,l[g+56>>2]=h,l[g+60>>2]=l[g+192>>2],l[g+52>>2]=v,l[g+72>>2]=p,(0|(y=0|y+1))!=(0|w);){g=0|g+232}return A=m,0|b}if(je(f),je(d),0|(y=0|l[g>>2])&&(je(y),l[g>>2]=0),0|D)for(k=b,I=0;;){if(0|(y=0|l[(S=0|k+196)>>2])){if(g=0|l[(x=0|k+192)>>2]){for(w=0;(t=0|l[(v=0|y+12)>>2])&&(je(t),l[v>>2]=0,g=0|l[x>>2]),!((w=0|w+1)>>>0>=g>>>0);){y=0|y+16}y=0|l[S>>2]}je(y),l[S>>2]=0}if((0|(I=0|I+1))==(0|D))break;k=0|k+232}return je(b),A=m,0|(D=0)}function Zt(e,t,i){e|=0;var n,r=0,o=0,a=0,s=0,c=0,h=0,u=0;if(!(n=0|Ne(u=0|1+(0|l[(t|=0)+(0|5640*(i|=0))+420>>2]),232)))return 0|(u=0);if(!u)return 0|(u=n);s=0|t+(0|5640*i)+5584,o=n,a=0,e=0|l[(c=0|e+16)>>2];e:for(;;){if(t=0|Ne(e,16),l[(r=0|o+196)>>2]=t,!t){e=5;break}h=0|l[c>>2],l[o+192>>2]=h;t:do{if(h){if(e=0|4+(0|l[s>>2]),h=0|Ne(0|l[e>>2],16),l[t+12>>2]=h,!h){e=19;break e}for(i=0;;){if(l[t+(i<<4)+8>>2]=l[e>>2],(i=0|i+1)>>>0>=(e=0|l[c>>2])>>>0)break t;if(t=0|l[r>>2],e=0|(0|l[s>>2])+(0|1080*i)+4,h=0|Ne(0|l[e>>2],16),l[t+(i<<4)+12>>2]=h,!h){e=19;break e}}}else e=0}while(0);if((a=0|a+1)>>>0>=u>>>0){e=33;break}o=0|o+232}if(5==(0|e)){for((t=0|l[(e=0|n+4)>>2])?(je(t),l[e>>2]=0,s=n,c=0):(s=n,c=0);;){if(0|(e=0|l[(h=0|s+196)>>2])){if(t=0|l[(a=0|s+192)>>2]){for(o=0;(r=0|l[(i=0|e+12)>>2])&&(je(r),l[i>>2]=0,t=0|l[a>>2]),!((o=0|o+1)>>>0>=t>>>0);){e=0|e+16}e=0|l[h>>2]}je(e),l[h>>2]=0}if((0|(c=0|c+1))==(0|u))break;s=0|s+232}return je(n),0|(u=0)}if(19==(0|e)){for((t=0|l[(e=0|n+4)>>2])?(je(t),l[e>>2]=0,s=n,c=0):(s=n,c=0);;){if(0|(e=0|l[(h=0|s+196)>>2])){if(t=0|l[(a=0|s+192)>>2]){for(o=0;(r=0|l[(i=0|e+12)>>2])&&(je(r),l[i>>2]=0,t=0|l[a>>2]),!((o=0|o+1)>>>0>=t>>>0);){e=0|e+16}e=0|l[h>>2]}je(e),l[h>>2]=0}if((0|(c=0|c+1))==(0|u))break;s=0|s+232}return je(n),0|(u=0)}return 33==(0|e)?0|n:0}function Ht(e,t,i,n,r,o,a,s,c,h,u,f){e|=0,i|=0,n|=0,r|=0,o|=0,a|=0,s|=0,c|=0,h|=0,u|=0,f|=0;var d=0,p=0,_=0,m=0,b=0,y=0,g=0,v=0,A=0,w=0,x=0,I=0,S=0,E=0,C=0,M=0,P=0,T=0,D=0,R=0,G=0,O=0,F=0;if(d=0|l[(0|l[76+(t|=0)>>2])+(0|5640*i)+5584>>2],p=0|l[e+24>>2],C=0|l[t+24>>2],E=0|(0|B(0|l[(M=0|t+12)>>2],0|(i>>>0)%(C>>>0)))+(0|l[t+4>>2]),S=0|l[e>>2],l[n>>2]=E>>>0>S>>>0?E:S,E=0|gr(0|l[M>>2],0,0|E,0),E|=0-k,M=0|l[e+8>>2],l[r>>2]=E>>>0<M>>>0?E:M,C=0|(0|B(0|l[(M=0|t+16)>>2],0|(i>>>0)/(C>>>0)))+(0|l[t+8>>2]),E=0|l[e+4>>2],l[o>>2]=C>>>0>E>>>0?C:E,C=0|gr(0|l[M>>2],0,0|C,0),C|=0-k,M=0|l[e+12>>2],l[a>>2]=C>>>0<M>>>0?C:M,l[h>>2]=0,l[u>>2]=0,l[s>>2]=2147483647,l[c>>2]=2147483647,0|l[(M=0|e+16)>>2])for(S=0;;){if(v=0|l[f+(S<<2)>>2],_=0|l[p>>2],t=0|(0|(0|l[n>>2])-1+_)/(0|_),m=0|l[(E=0|p+4)>>2],i=0|(0|(0|l[o>>2])-1+m)/(0|m),_=0|(0|_+-1+(0|l[r>>2]))/(0|_),m=0|(0|m+-1+(0|l[a>>2]))/(0|m),(e=0|l[(C=0|d+4)>>2])>>>0>(0|l[u>>2])>>>0&&(l[u>>2]=e,e=0|l[C>>2]),0|e)for(x=0|gr(0|t,0|(0>(0|t))<<31>>31,-1,-1),I=k,A=0|gr(0|i,0|(0>(0|i))<<31>>31,-1,-1),w=k,g=0|gr(0|_,0|(0>(0|_))<<31>>31,-1,-1),y=k,m=0|gr(0|m,0|(0>(0|m))<<31>>31,-1,-1),b=k,_=0,i=v;e=0|e+-1,t=0|l[d+812+(_<<2)>>2],v=0|l[d+944+(_<<2)>>2],l[i>>2]=t,l[i+4>>2]=v,D=l[p>>2]<<t+e,F=l[E>>2]<<v+e,R=0|l[s>>2],l[s>>2]=(0|R)<(0|D)?R:D,D=0|l[c>>2],l[c>>2]=(0|D)<(0|F)?D:F,R=0|Ir(0|(R=0|gr(0|x,0|I,0|(F=0|Er(1,0,0|e)),0|(D=k))),0|k,0|e),P=0|Ir(0|(P=0|gr(0|A,0|w,0|F,0|D)),0|k,0|e),O=0|Ir(0|(O=0|gr(0|g,0|y,0|F,0|D)),0|k,0|e),D=0|Ir(0|(D=0|gr(0|m,0|b,0|F,0|D)),0|k,0|e),F=0|Er(1,0,0|t),G=k,G=0|Ir(0|(G=0|gr(0|(T=0|gr(0|O,0|(0>(0|O))<<31>>31,-1,-1)),0|k,0|F,0|G)),0|k,0|t),F=0|Er(1,0,0|v),T=k,T=0|Ir(0|(T=0|gr(0|gr(0|D,0|(0>(0|D))<<31>>31,-1,-1),0|k,0|F,0|T)),0|k,0|v),t=(0|R)==(0|O)?0:(G<<t)-(R>>t<<t)>>t,v=(0|P)==(0|D)?0:(T<<v)-(P>>v<<v)>>v,l[i+8>>2]=t,l[i+12>>2]=v,(t=0|B(v,t))>>>0>(0|l[h>>2])>>>0&&(l[h>>2]=t),!((_=0|_+1)>>>0>=(0|l[C>>2])>>>0);){i=0|i+16}if((S=0|S+1)>>>0>=(0|l[M>>2])>>>0)break;d=0|d+1080,p=0|p+52}}function Nt(e,t){t|=0;var i=0,n=0,r=0,o=0,a=0,s=0,c=0,h=0,u=0;if(e|=0){if(0|(n=0|l[(i=0|e+4)>>2])&&(je(n),l[i>>2]=0),0|t)for(c=e,h=0;;){if(0|(i=0|l[(u=0|c+196)>>2])){if(n=0|l[(s=0|c+192)>>2]){for(a=0;(o=0|l[(r=0|i+12)>>2])&&(je(o),l[r>>2]=0,n=0|l[s>>2]),!((a=0|a+1)>>>0>=n>>>0);){i=0|i+16}i=0|l[u>>2]}je(i),l[u>>2]=0}if((0|(h=0|h+1))==(0|t))break;c=0|c+232}je(e)}}function zt(e,t,i,n){e|=0,i|=0,n|=0;var o,s,c,u,f,d,p,_,m,b,y,g,v,w,x,k,I,S=0,E=0,C=0,M=0,P=0,T=0,D=0,R=0,G=0,O=0,F=0,L=0;if(I=A,A=0|A+32,P=0|I+28,M=0|I+24,T=0|I+20,R=0|I+16,D=0|I+12,G=0|I+8,O=0|I+4,s=I,b=0|l[(w=0|76+(t|=0))>>2],L=0|1+(0|l[b+(0|5640*i)+420>>2]),!(y=0|He(0|528*(0|l[(v=0|e+16)>>2]))))return A=I,0|(L=0);if(!(g=0|He(l[v>>2]<<2)))return je(y),A=I,0|(L=0);if(!(o=0|Zt(e,0|l[w>>2],i)))return je(y),je(g),A=I,0|(L=0);if(0|(C=0|l[v>>2]))for(S=y,E=0;l[g+(E<<2)>>2]=S,!((E=0|E+1)>>>0>=C>>>0);){S=0|S+528}if(Ht(e,t,i,T,R,D,G,O,s,M,P,g),k=0|l[M>>2],f=0|B(0|l[v>>2],k),x=0|l[P>>2],u=0|B(x,f),r[o>>0]=1&(0|h[t+93>>0])>>>3,F=0|Ne(0|B(0|l[b+(0|5640*i)+8>>2],u),2),l[(E=0|o+4)>>2]=F,!F){if(je(y),je(g),0|(S=0|l[E>>2])&&(je(S),l[E>>2]=0),0|L)for(T=o,D=0;;){if(0|(S=0|l[(R=0|T+196)>>2])){if(E=0|l[(e=0|T+192)>>2]){for(P=0;(M=0|l[(C=0|S+12)>>2])&&(je(M),l[C>>2]=0,E=0|l[e>>2]),!((P=0|P+1)>>>0>=E>>>0);){S=0|S+16}S=0|l[R>>2]}je(S),l[R>>2]=0}if((0|(D=0|D+1))==(0|L))break;T=0|T+232}return je(o),A=I,0|(L=0)}if(M=0|l[o+196>>2],c=0|l[e+24>>2],F=0|l[T>>2],l[o+200>>2]=F,m=0|l[D>>2],l[o+204>>2]=m,_=0|l[R>>2],l[o+208>>2]=_,p=0|l[G>>2],l[o+212>>2]=p,d=0|l[O>>2],l[o+224>>2]=d,O=0|l[s>>2],l[o+228>>2]=O,l[o+20>>2]=1,l[o+16>>2]=k,l[o+12>>2]=f,l[o+8>>2]=u,0|(D=0|l[o+192>>2]))for(T=c,P=0;;){if(S=0|l[M+12>>2],E=0|l[g+(P<<2)>>2],l[M>>2]=l[T>>2],l[M+4>>2]=l[T+4>>2],0|(e=0|l[M+8>>2]))for(C=0;l[S>>2]=l[E>>2],l[S+4>>2]=l[E+4>>2],l[S+8>>2]=l[E+8>>2],l[S+12>>2]=l[E+12>>2],!((C=0|C+1)>>>0>=e>>>0);){S=0|S+16,E=0|E+16}if((P=0|P+1)>>>0>=D>>>0)break;T=0|T+52,M=0|M+16}if(1<L>>>0){T=1,R=o;do{if(S=0|l[R+428>>2],l[R+432>>2]=F,l[R+436>>2]=m,l[R+440>>2]=_,l[R+444>>2]=p,l[R+456>>2]=d,l[R+460>>2]=O,l[R+252>>2]=1,l[R+248>>2]=k,l[R+244>>2]=f,l[R+240>>2]=u,0|(G=0|l[R+424>>2]))for(D=c,P=0;;){if(E=0|l[S+12>>2],C=0|l[g+(P<<2)>>2],l[S>>2]=l[D>>2],l[S+4>>2]=l[D+4>>2],0|(e=0|l[S+8>>2]))for(M=0;l[E>>2]=l[C>>2],l[E+4>>2]=l[C+4>>2],l[E+8>>2]=l[C+8>>2],l[E+12>>2]=l[C+12>>2],!((M=0|M+1)>>>0>=e>>>0);){E=0|E+16,C=0|C+16}if((P=0|P+1)>>>0>=G>>>0)break;D=0|D+52,S=0|S+16}l[R+236>>2]=l[R+4>>2],R=0|R+232,T=0|T+1}while((0|T)!=(0|L))}je(y),je(g);do{if(4&r[b+(0|5640*i)+5636>>0]){if(2<(65535&(S=0|a[t>>1]))){if(!(1==(0|n)|7>(65535&S)))break}else if(1!=(0|n))break;return Vt(0|l[w>>2],i,F,_,m,p,k,d,O),A=I,0|(L=o)}}while(0);if(e=0|l[v>>2],S=0|l[w>>2],!(C=0|1+(0|l[S+(0|5640*i)+420>>2])))return A=I,0|(L=o);for(M=0|l[S+(0|5640*i)+8>>2],P=0|l[S+(0|5640*i)+4>>2],E=0,S=0|S+(0|5640*i)+424;l[S+76>>2]=0,l[S+92>>2]=e,l[S+72>>2]=0,l[S+88>>2]=x,l[S+68>>2]=0,l[S+84>>2]=M,l[S+36>>2]=P,l[S+80>>2]=0,l[S+96>>2]=k,l[S+100>>2]=F,l[S+104>>2]=_,l[S+108>>2]=m,l[S+112>>2]=p,l[S+116>>2]=d,l[S+120>>2]=O,(0|(E=0|E+1))!=(0|C);){S=0|S+148}return A=I,0|o}function Vt(e,t,i,n,r,o,a,s,c){i|=0,n|=0,r|=0,o|=0,a|=0,s|=0,c|=0;var h,u=0;if(h=0|1+(0|l[(e|=0)+(0|5640*(t|=0))+420>>2]),l[e+(0|5640*t)+500>>2]=l[e+(0|5640*t)+428>>2],l[e+(0|5640*t)+516>>2]=l[e+(0|5640*t)+440>>2],l[e+(0|5640*t)+496>>2]=l[e+(0|5640*t)+424>>2],l[e+(0|5640*t)+512>>2]=l[e+(0|5640*t)+436>>2],l[e+(0|5640*t)+508>>2]=l[e+(0|5640*t)+432>>2],l[e+(0|5640*t)+492>>2]=0,l[e+(0|5640*t)+460>>2]=l[e+(0|5640*t)+456>>2],l[e+(0|5640*t)+504>>2]=0,l[e+(0|5640*t)+520>>2]=a,l[e+(0|5640*t)+524>>2]=i,l[e+(0|5640*t)+528>>2]=n,l[e+(0|5640*t)+532>>2]=r,l[e+(0|5640*t)+536>>2]=o,l[e+(0|5640*t)+540>>2]=s,l[e+(0|5640*t)+544>>2]=c,!(1>=h>>>0))for(u=1,e=0|e+(0|5640*t)+572;l[e+76>>2]=l[e+4>>2],l[e+92>>2]=l[e+16>>2],l[e+72>>2]=l[e>>2],l[e+88>>2]=l[e+12>>2],t=0|l[e+8>>2],l[e+84>>2]=t,l[e+36>>2]=l[e+32>>2],l[e+80>>2]=0,l[e+68>>2]=t>>>0>(0|l[e+-64>>2])>>>0?t:0,l[e+96>>2]=a,l[e+100>>2]=i,l[e+104>>2]=n,l[e+108>>2]=r,l[e+112>>2]=o,l[e+116>>2]=s,l[e+120>>2]=c,(0|(u=0|u+1))!=(0|h);){e=0|e+148}}function Ut(e,t,i,n,o,s,c){e|=0,i|=0,n|=0,o|=0,s|=0,c|=0;var h,u,f,d=0,p=0,_=0,m=0,b=0,y=0,g=0,v=0,A=0,w=0,x=0,k=0,I=0,S=0,E=0,C=0,B=0,M=0,P=0,T=0,D=0,R=0,G=0,O=0,F=0,L=0,Z=0,H=0,N=0,z=0,V=0,U=0,j=0,W=0,Y=0,X=0,Q=0,J=0;J=0|l[76+(t|=0)>>2],h=0|function(e){e|=0;var t=0,i=0;for(t=696;!(-1==(0|(i=0|l[t>>2]))|(0|i)==(0|e));){t=0|t+12}return 0|t+4}(0|l[(f=0|J+(0|5640*i)+424+(0|148*n)+36)>>2]),l[e+(0|232*n)+40>>2]=1,u=0|e+(0|232*n)+44,l[e+(0|232*n)+80>>2]=l[f>>2];do{if(8&r[t+93>>0]){if(2<(65535&(d=0|a[t>>1]))){if(!(1==(0|c)&6<(65535&d)|4>(65535&d+-3)))break}else if(!(1==(0|c)|4>(65535&d+-3)))break;e:do{if(3>(0|s))for(y=0|J+(0|5640*i)+424+(0|148*n)+72,g=0|J+(0|5640*i)+424+(0|148*n)+88,v=0|e+(0|232*n)+56,A=0|J+(0|5640*i)+424+(0|148*n)+76,w=0|e+(0|232*n)+48,x=0|J+(0|5640*i)+424+(0|148*n)+92,k=0|e+(0|232*n)+60,I=0|J+(0|5640*i)+424+(0|148*n)+68,S=0|e+(0|232*n)+64,E=0|J+(0|5640*i)+424+(0|148*n)+84,C=0|e+(0|232*n)+52,B=0|J+(0|5640*i)+424+(0|148*n)+80,M=0|e+(0|232*n)+68,P=0|J+(0|5640*i)+424+(0|148*n)+96,T=0|e+(0|232*n)+72,D=0|J+(0|5640*i)+424+(0|148*n)+100,R=0|e+(0|232*n)+96,G=0|J+(0|5640*i)+424+(0|148*n)+108,O=0|e+(0|232*n)+104,F=0|J+(0|5640*i)+424+(0|148*n)+104,L=0|e+(0|232*n)+100,Z=0|J+(0|5640*i)+424+(0|148*n)+112,H=0|e+(0|232*n)+108,d=s;;){switch(c=d,0|r[h+(d=0|d+1)>>0]){case 82:p=v,_=g,m=u,b=y,Q=10;break;case 67:p=k,_=x,m=w,b=A,Q=10;break;case 76:p=C,_=E,m=S,b=I,Q=10;break;case 80:2>(0|l[f>>2])>>>0?(p=T,_=P,m=M,b=B,Q=10):(l[R>>2]=l[D>>2],l[O>>2]=l[G>>2],p=H,_=Z,m=L,b=F,Q=10);}if(10==(0|Q)&&(Q=0,l[m>>2]=l[b>>2],l[p>>2]=l[_>>2]),2<=(0|c))break e}}while(0);if(d=-1<(0|s),!o){if(!d)return;for(_=0|J+(0|5640*i)+424+(0|148*n)+76,m=0|J+(0|5640*i)+424+(0|148*n)+132,b=0|e+(0|232*n)+48,y=0|e+(0|232*n)+60,g=0|J+(0|5640*i)+424+(0|148*n)+72,v=0|J+(0|5640*i)+424+(0|148*n)+128,A=0|e+(0|232*n)+56,w=0|J+(0|5640*i)+424+(0|148*n)+68,x=0|J+(0|5640*i)+424+(0|148*n)+124,k=0|e+(0|232*n)+64,I=0|e+(0|232*n)+52,S=0|J+(0|5640*i)+424+(0|148*n)+80,E=0|J+(0|5640*i)+424+(0|148*n)+136,C=0|e+(0|232*n)+68,B=0|e+(0|232*n)+72,M=0|J+(0|5640*i)+424+(0|148*n)+100,P=0|J+(0|5640*i)+424+(0|148*n)+140,T=0|J+(0|5640*i)+424+(0|148*n)+108,D=0|J+(0|5640*i)+424+(0|148*n)+144,R=0|e+(0|232*n)+96,G=0|J+(0|5640*i)+424+(0|148*n)+116,O=0|e+(0|232*n)+100,F=0|e+(0|232*n)+104,p=0|J+(0|5640*i)+424+(0|148*n)+120,c=0|e+(0|232*n)+108,d=s;;){e:do{switch(0|r[h+d>>0]){case 67:n=0|l[_>>2],l[b>>2]=n,n=0|n+1,l[y>>2]=n,l[m>>2]=n;break;case 82:n=0|l[g>>2],l[u>>2]=n,n=0|n+1,l[A>>2]=n,l[v>>2]=n;break;case 76:n=0|l[w>>2],l[k>>2]=n,n=0|n+1,l[I>>2]=n,l[x>>2]=n;break;case 80:if(2>(0|l[f>>2])>>>0){n=0|l[S>>2],l[C>>2]=n,n=0|n+1,l[B>>2]=n,l[E>>2]=n;break e}n=0|l[M>>2],s=0|l[T>>2],l[R>>2]=n,i=0|(i=0|l[G>>2])+n-(0|(n>>>0)%(i>>>0)),l[O>>2]=i,l[F>>2]=s,n=0|(n=0|l[p>>2])+s-(0|(s>>>0)%(n>>>0)),l[c>>2]=n,l[P>>2]=i,l[D>>2]=n;break e;}}while(0);if(!(0<(0|d)))break;d=0|d+-1}return}if(!d)return;for(U=0|J+(0|5640*i)+424+(0|148*n)+128,j=0|J+(0|5640*i)+424+(0|148*n)+88,W=0|J+(0|5640*i)+424+(0|148*n)+72,Y=0|e+(0|232*n)+56,X=0|J+(0|5640*i)+424+(0|148*n)+132,w=0|J+(0|5640*i)+424+(0|148*n)+92,x=0|J+(0|5640*i)+424+(0|148*n)+76,k=0|e+(0|232*n)+48,I=0|e+(0|232*n)+60,S=0|J+(0|5640*i)+424+(0|148*n)+124,E=0|J+(0|5640*i)+424+(0|148*n)+84,C=0|J+(0|5640*i)+424+(0|148*n)+68,B=0|e+(0|232*n)+64,M=0|e+(0|232*n)+52,P=0|J+(0|5640*i)+424+(0|148*n)+136,T=0|J+(0|5640*i)+424+(0|148*n)+96,D=0|J+(0|5640*i)+424+(0|148*n)+80,R=0|e+(0|232*n)+68,G=0|e+(0|232*n)+72,O=0|J+(0|5640*i)+424+(0|148*n)+140,F=0|J+(0|5640*i)+424+(0|148*n)+104,L=0|e+(0|232*n)+96,Z=0|J+(0|5640*i)+424+(0|148*n)+116,H=0|e+(0|232*n)+100,o=0|J+(0|5640*i)+424+(0|148*n)+144,N=0|J+(0|5640*i)+424+(0|148*n)+112,z=0|e+(0|232*n)+104,V=0|J+(0|5640*i)+424+(0|148*n)+120,v=0|e+(0|232*n)+108,A=0|J+(0|5640*i)+424+(0|148*n)+100,g=0|J+(0|5640*i)+424+(0|148*n)+108,d=1,y=s;;){b=0|h+y;e:do{switch(0|r[b>>0]){case 67:c=I,p=X,_=0|(0|l[X>>2])-1,m=k,Q=35;break;case 82:c=Y,p=U,_=0|(0|l[U>>2])-1,m=u,Q=35;break;case 76:c=M,p=S,_=0|(0|l[S>>2])-1,m=B,Q=35;break;case 80:if(2>(0|l[f>>2])>>>0){c=G,p=P,_=0|(0|l[P>>2])-1,m=R,Q=35;break e}m=0|l[O>>2],_=0|l[Z>>2],l[L>>2]=m-_-(0|(m>>>0)%(_>>>0)),l[H>>2]=m,c=v,p=o,_=0|(m=0|l[o>>2])-(_=0|l[V>>2])-(0|(m>>>0)%(_>>>0)),m=z,Q=35;break e;}}while(0);35==(0|Q)&&(Q=0,l[m>>2]=_,l[c>>2]=l[p>>2]);e:do{if(1==(0|d))switch(0|r[b>>0]){case 82:if((0|(d=0|l[U>>2]))!=(0|l[j>>2])){l[u>>2]=d,d=0|d+1,l[Y>>2]=d,l[U>>2]=d,d=0;break e}if(!(0|jt(0|y+-1,t,i,n,h))){d=0;break e}d=0|l[W>>2],l[u>>2]=d,d=0|d+1,l[Y>>2]=d,l[U>>2]=d,d=1;break e;case 67:if((0|(d=0|l[X>>2]))!=(0|l[w>>2])){l[k>>2]=d,d=0|d+1,l[I>>2]=d,l[X>>2]=d,d=0;break e}if(!(0|jt(0|y+-1,t,i,n,h))){d=0;break e}d=0|l[x>>2],l[k>>2]=d,d=0|d+1,l[I>>2]=d,l[X>>2]=d,d=1;break e;case 76:if((0|(d=0|l[S>>2]))!=(0|l[E>>2])){l[B>>2]=d,d=0|d+1,l[M>>2]=d,l[S>>2]=d,d=0;break e}if(!(0|jt(0|y+-1,t,i,n,h))){d=0;break e}d=0|l[C>>2],l[B>>2]=d,d=0|d+1,l[M>>2]=d,l[S>>2]=d,d=1;break e;case 80:if(2>(0|l[f>>2])>>>0){if((0|(d=0|l[P>>2]))!=(0|l[T>>2])){l[R>>2]=d,d=0|d+1,l[G>>2]=d,l[P>>2]=d,d=0;break e}if(!(0|jt(0|y+-1,t,i,n,h))){d=0;break e}d=0|l[D>>2],l[R>>2]=d,d=0|d+1,l[G>>2]=d,l[P>>2]=d,d=1;break e}if((d=0|l[O>>2])>>>0<(0|l[F>>2])>>>0){l[L>>2]=d,d=0|(s=0|l[Z>>2])+d-(0|(d>>>0)%(s>>>0)),l[H>>2]=d,l[O>>2]=d,d=0;break e}if((c=0|l[o>>2])>>>0<(0|l[N>>2])>>>0)l[z>>2]=c,d=0,p=0|(s=0|l[V>>2])+c,c=0|(c>>>0)%(s>>>0);else{if(!(0|jt(0|y+-1,t,i,n,h))){d=0;break e}s=0|l[g>>2],l[o>>2]=s,l[z>>2]=s,d=1,p=0|(c=0|l[V>>2])+s,c=0|(s>>>0)%(c>>>0)}J=0|p-c,l[v>>2]=J,l[o>>2]=J,J=0|l[A>>2],l[L>>2]=J,s=0|(s=0|l[Z>>2])+J-(0|(J>>>0)%(s>>>0)),l[H>>2]=s,l[O>>2]=s;break e;default:d=1;break e;}}while(0);if(!(0<(0|y)))break;y=0|y+-1}return}}while(0);l[u>>2]=l[J+(0|5640*i)+424+(0|148*n)+72>>2],l[e+(0|232*n)+56>>2]=l[J+(0|5640*i)+424+(0|148*n)+88>>2],l[e+(0|232*n)+48>>2]=l[J+(0|5640*i)+424+(0|148*n)+76>>2],l[e+(0|232*n)+60>>2]=l[J+(0|5640*i)+424+(0|148*n)+92>>2],l[e+(0|232*n)+64>>2]=l[J+(0|5640*i)+424+(0|148*n)+68>>2],l[e+(0|232*n)+52>>2]=l[J+(0|5640*i)+424+(0|148*n)+84>>2],l[e+(0|232*n)+68>>2]=l[J+(0|5640*i)+424+(0|148*n)+80>>2],l[e+(0|232*n)+72>>2]=l[J+(0|5640*i)+424+(0|148*n)+96>>2],l[e+(0|232*n)+96>>2]=l[J+(0|5640*i)+424+(0|148*n)+100>>2],l[e+(0|232*n)+104>>2]=l[J+(0|5640*i)+424+(0|148*n)+108>>2],l[e+(0|232*n)+100>>2]=l[J+(0|5640*i)+424+(0|148*n)+104>>2],l[e+(0|232*n)+108>>2]=l[J+(0|5640*i)+424+(0|148*n)+112>>2]}function jt(e,t,i,n,o){e|=0,i|=0,n|=0,o|=0;var a,s=0,c=0;if(a=0|l[76+(t|=0)>>2],!(-1<(0|e)))return c=0,0|(c&=1);s=e;e:for(;;){switch(0|r[o+s>>0]){case 82:c=3;break e;case 67:c=5;break e;case 76:c=7;break e;case 80:c=9;break e;}s=0|s+-1}return 3==(0|c)?(0|l[a+(0|5640*i)+424+(0|148*n)+128>>2])!=(0|l[a+(0|5640*i)+424+(0|148*n)+88>>2])?(c=1,0|(c&=1)):(c=0!=(0|jt(0|e+-1,t,i,n,o)),0|(c&=1)):5==(0|c)?(0|l[a+(0|5640*i)+424+(0|148*n)+132>>2])!=(0|l[a+(0|5640*i)+424+(0|148*n)+92>>2])?(c=1,0|(c&=1)):(c=0!=(0|jt(0|e+-1,t,i,n,o)),0|(c&=1)):7==(0|c)?(0|l[a+(0|5640*i)+424+(0|148*n)+124>>2])!=(0|l[a+(0|5640*i)+424+(0|148*n)+84>>2])?(c=1,0|(c&=1)):(c=0!=(0|jt(0|e+-1,t,i,n,o)),0|(c&=1)):9==(0|c)?2>(0|l[a+(0|5640*i)+424+(0|148*n)+36>>2])>>>0?(0|l[a+(0|5640*i)+424+(0|148*n)+136>>2])!=(0|l[a+(0|5640*i)+424+(0|148*n)+96>>2])?(c=1,0|(c&=1)):(c=0!=(0|jt(0|s+-1,t,i,n,o)),0|(c&=1)):(0|l[a+(0|5640*i)+424+(0|148*n)+140>>2])!=(0|l[a+(0|5640*i)+424+(0|148*n)+104>>2])?(c=1,0|(c&=1)):(0|l[a+(0|5640*i)+424+(0|148*n)+144>>2])!=(0|l[a+(0|5640*i)+424+(0|148*n)+112>>2])?(c=1,0|(c&=1)):(c=0!=(0|jt(0|s+-1,t,i,n,o)),0|(c&=1)):0}function Wt(e,t,i){e|=0,i|=0;var n,o=0,a=0,s=0,c=0,h=0,u=0,f=0,d=0,p=0,_=0,m=0,b=0,y=0,g=0,v=0,A=0,w=0,x=0,I=0,S=0,E=0,C=0,M=0,P=0,T=0,D=0,R=0,G=0,O=0,F=0,L=0,Z=0,H=0,N=0,z=0;if(n=0|l[76+(t|=0)>>2],O=0|(i>>>0)%((D=0|l[t+24>>2])>>>0),D=0|(i>>>0)/(D>>>0),R=0|l[t+4>>2],M=0|l[t+12>>2],G=(0|(C=0|(0|B(M,O))+R))>(0|(G=0|l[e>>2]))?C:G,O=(0|(R=0|(0|B(M,0|O+1))+R))<(0|(O=0|l[e+8>>2]))?R:O,R=0|l[t+8>>2],M=0|l[t+16>>2],T=(0|(C=0|(0|B(M,D))+R))>(0|(T=0|l[e+4>>2]))?C:T,D=(0|(R=0|(0|B(M,0|D+1))+R))<(0|(D=0|l[e+12>>2]))?R:D,R=0|l[e+16>>2])for(S=0|G+-1,E=0|T+-1,C=0|O+-1,M=0|D+-1,u=2147483647,I=0|l[n+(0|5640*i)+5584>>2],w=0|l[e+24>>2],x=0,h=2147483647,f=0,o=0;;){if(t=0|(0|S+(g=0|l[w>>2]))/(0|g),e=0|(0|E+(v=0|l[w+4>>2]))/(0|v),a=0|(0|C+g)/(0|g),s=0|(0|M+v)/(0|v),(A=0|l[I+4>>2])>>>0<=f>>>0?A&&(P=5):(f=A,P=5),5==(0|P)&&(P=0,b=0|gr(0|t,0|(0>(0|t))<<31>>31,-1,-1),y=k,_=0|gr(0|e,0|(0>(0|e))<<31>>31,-1,-1),m=k,d=0|gr(0|a,0|(0>(0|a))<<31>>31,-1,-1),p=k,s=0|gr(0|s,0|(0>(0|s))<<31>>31,-1,-1),c=k,L=0|l[I+812>>2],t=v<<(a=0|l[I+944>>2])+(F=0|A+-1),h=h>>>0<(H=g<<F+L)>>>0?h:H,u=u>>>0<t>>>0?u:t,Z=0|Ir(0|(Z=0|gr(0|b,0|y,0|(t=0|Er(1,0,0|F)),0|(H=k))),0|k,0|F),e=0|Ir(0|(e=0|gr(0|_,0|m,0|t,0|H)),0|k,0|F),N=0|Ir(0|(N=0|gr(0|d,0|p,0|t,0|H)),0|k,0|F),F=0|Ir(0|(H=0|gr(0|s,0|c,0|t,0|H)),0|k,0|F),H=0|Ir(0|(H=0|gr(0|(H=0|gr(0|(H=0|Er(1,0,0|L)),0|k,-1,-1)),0|k,0|N,0|(0>(0|N))<<31>>31)),0|k,0|L),t=0|Ir(0|(t=0|gr(0|(t=0|gr(0|(t=0|Er(1,0,0|a)),0|k,-1,-1)),0|k,0|F,0|(0>(0|F))<<31>>31)),0|k,0|a),o=(a=0|B((0|Z)==(0|N)?0:(H<<L)-(Z>>L<<L)>>L,(0|e)==(0|F)?0:(t<<a)-(e>>a<<a)>>a))>>>0>o>>>0?a:o,1<A>>>0))for(e=-1,a=1;L=0|l[I+812+(a<<2)>>2],H=v<<(t=0|l[I+944+(a<<2)>>2])+(Z=0|e+-1+A),h=h>>>0<(e=g<<Z+L)>>>0?h:e,u=u>>>0<H>>>0?u:H,F=0|Ir(0|(F=0|gr(0|b,0|y,0|(H=0|Er(1,0,0|Z)),0|(e=k))),0|k,0|Z),N=0|Ir(0|(N=0|gr(0|_,0|m,0|H,0|e)),0|k,0|Z),z=0|Ir(0|(z=0|gr(0|d,0|p,0|H,0|e)),0|k,0|Z),Z=0|Ir(0|(e=0|gr(0|s,0|c,0|H,0|e)),0|k,0|Z),e=0|Ir(0|(e=0|gr(0|(e=0|gr(0|(e=0|Er(1,0,0|L)),0|k,-1,-1)),0|k,0|z,0|(0>(0|z))<<31>>31)),0|k,0|L),H=0|Ir(0|(H=0|gr(0|(H=0|gr(0|(H=0|Er(1,0,0|t)),0|k,-1,-1)),0|k,0|Z,0|(0>(0|Z))<<31>>31)),0|k,0|t),o=(t=0|B((0|F)==(0|z)?0:(e<<L)-(F>>L<<L)>>L,(0|N)==(0|Z)?0:(H<<t)-(N>>t<<t)>>t))>>>0>o>>>0?t:o,(t=0|a+1)>>>0<A>>>0;){e=~a,a=t}if((x=0|x+1)>>>0>=R>>>0)break;I=0|I+1080,w=0|w+52}else f=0,u=2147483647,h=2147483647,o=0;if(4&r[n+(0|5640*i)+5636>>0])Vt(n,i,G,O,T,D,o,h,u);else if(a=0|1+(0|l[n+(0|5640*i)+420>>2]))for(s=0|l[n+(0|5640*i)+8>>2],c=0|l[n+(0|5640*i)+4>>2],e=0,t=0|n+(0|5640*i)+424;l[t+76>>2]=0,l[t+92>>2]=R,l[t+72>>2]=0,l[t+88>>2]=f,l[t+68>>2]=0,l[t+84>>2]=s,l[t+36>>2]=c,l[t+80>>2]=0,l[t+96>>2]=o,l[t+100>>2]=G,l[t+104>>2]=O,l[t+108>>2]=T,l[t+112>>2]=D,l[t+116>>2]=h,l[t+120>>2]=u,(0|(e=0|e+1))!=(0|a);){t=0|t+148}}function Yt(e){var t=0,i=0,n=0,o=0,s=0,c=0,h=0,u=0,f=0,d=0,p=0,_=0,m=0,b=0,y=0,g=0,v=0,A=0,w=0,x=0,k=0,I=0,S=0,E=0,C=0,M=0,P=0,T=0,D=0,R=0,G=0,O=0,F=0,L=0,Z=0,H=0,N=0,z=0,V=0,U=0,j=0,W=0,Y=0,X=0,Q=0,J=0,q=0,K=0,$=0,ee=0,te=0,ie=0,ne=0,re=0,oe=0,ae=0,se=0,le=0,ce=0,he=0,ue=0,fe=0,de=0,pe=0,_e=0,me=0,be=0,ye=0,ge=0,ve=0,Ae=0,we=0,xe=0,ke=0,Ie=0,Se=0,Ee=0,Ce=0,Be=0,Me=0,Pe=0,Te=0,De=0,Re=0,Ge=0,Oe=0,Fe=0,Le=0,Ze=0,He=0,Ne=0,ze=0,Ve=0,Ue=0,je=0,We=0,Ye=0,Xe=0,Qe=0,Je=0,qe=0,Ke=0,$e=0,et=0,tt=0,it=0,nt=0,rt=0,ot=0,at=0,st=0,lt=0,ct=0,ht=0,ut=0,ft=0,dt=0;switch(0|l[80+(e|=0)>>2]){case 0:for(0|l[(t=0|e+40)>>2]?(l[t>>2]=0,A=0|l[e+64>>2],l[e+36>>2]=A,i=5):(u=P=0|e+32,P=0|l[P>>2],i=18);;){if(5==(0|i)){if(A>>>0>=(0|l[e+52>>2])>>>0){dt=0,i=153;break}I=0|l[e+44>>2],l[e+28>>2]=I,i=7}else 18==(0|i)&&(c=0|P+1,l[u>>2]=c,o=u,i=14);for(;;){if(7==(0|i)){if(i=0,I>>>0>=(0|l[e+56>>2])>>>0){i=21;break}S=0|l[e+48>>2],l[(_=0|e+24)>>2]=S}else if(14==(0|i)){if(c>>>0<(0|l[e+72>>2])>>>0){i=16;break}d=T=0|e+24,T=0|l[T>>2],i=19}for(;;){if(19==(0|i)&&(i=0,S=0|T+1,l[d>>2]=S,_=d),S>>>0>=(0|l[e+60>>2])>>>0){i=20;break}if(E=0|l[e+196>>2],(C=0|l[e+28>>2])>>>0<(0|l[E+(S<<4)+8>>2])>>>0)break;d=_,T=S,i=19}20!=(0|i)?(t=0|l[E+(S<<4)+12>>2],0|r[e>>0]||(ft=0|B(0|l[t+(C<<4)+12>>2],0|l[t+(C<<4)+8>>2]),l[e+72>>2]=ft),c=0|l[e+68>>2],l[(o=0|e+32)>>2]=c,i=14):(I=0|1+(0|l[(i=0|e+28)>>2]),l[i>>2]=I,i=7)}if(16==(0|i)){if(i=0,M=0|B(0|l[e+8>>2],0|l[e+36>>2]),M=0|(M=0|(M=0|(0|B(0|l[e+12>>2],0|l[e+28>>2]))+M)+(0|B(0|l[e+16>>2],0|l[e+24>>2])))+(0|B(0|l[e+20>>2],c)),M=0|(0|l[e+4>>2])+(M<<1),0|a[M>>1]){u=o,P=c,i=18;continue}break}21!=(0|i)||(A=0|1+(0|l[(i=0|e+36)>>2]),l[i>>2]=A,i=5)}return 153==(0|i)?0|dt:(a[M>>1]=1,0|(e=1));case 1:for(0|l[(t=0|e+40)>>2]?(l[t>>2]=0,D=0|l[e+44>>2],l[e+28>>2]=D,i=25):(h=x=0|e+32,x=0|l[x>>2],i=38);;){if(25==(0|i)){if(D>>>0>=(0|l[e+56>>2])>>>0){dt=0,i=153;break}b=0|l[e+64>>2],l[e+36>>2]=b,i=27}else 38==(0|i)&&(s=0|x+1,l[h>>2]=s,n=h,i=34);for(;;){if(27==(0|i)){if(i=0,b>>>0>=(0|l[e+52>>2])>>>0){i=41;break}y=0|l[e+48>>2],l[(p=0|e+24)>>2]=y}else if(34==(0|i)){if(s>>>0<(0|l[e+72>>2])>>>0){i=36;break}f=k=0|e+24,k=0|l[k>>2],i=39}for(;;){if(39==(0|i)&&(i=0,y=0|k+1,l[f>>2]=y,p=f),y>>>0>=(0|l[e+60>>2])>>>0){i=40;break}if(g=0|l[e+196>>2],(v=0|l[e+28>>2])>>>0<(0|l[g+(y<<4)+8>>2])>>>0)break;f=p,k=y,i=39}40!=(0|i)?(t=0|l[g+(y<<4)+12>>2],0|r[e>>0]||(ft=0|B(0|l[t+(v<<4)+12>>2],0|l[t+(v<<4)+8>>2]),l[e+72>>2]=ft),s=0|l[e+68>>2],l[(n=0|e+32)>>2]=s,i=34):(b=0|1+(0|l[(i=0|e+36)>>2]),l[i>>2]=b,i=27)}if(36==(0|i)){if(i=0,w=0|B(0|l[e+8>>2],0|l[e+36>>2]),w=0|(w=0|(w=0|(0|B(0|l[e+12>>2],0|l[e+28>>2]))+w)+(0|B(0|l[e+16>>2],0|l[e+24>>2])))+(0|B(0|l[e+20>>2],s)),w=0|(0|l[e+4>>2])+(w<<1),0|a[w>>1]){h=n,x=s,i=38;continue}break}41!=(0|i)||(D=0|1+(0|l[(i=0|e+28)>>2]),l[i>>2]=D,i=25)}return 153==(0|i)?0|dt:(a[w>>1]=1,0|(e=1));case 2:if(0|l[(t=0|e+40)>>2]){if(l[t>>2]=0,l[(_=0|e+224)>>2]=0,l[(m=0|e+228)>>2]=0,0|(b=0|l[e+192>>2])){y=0|l[e+196>>2],p=0,i=0,t=0;do{if(c=0|l[y+(p<<4)+8>>2]){if(h=0|l[y+(p<<4)+12>>2],u=0|l[y+(p<<4)>>2],f=0|l[y+(p<<4)+4>>2],d=0|c+-1,Ve=u<<(0|l[h>>2])+d,Ue=f<<(0|l[h+4>>2])+d,i=0==(0|i)?Ve:i>>>0<Ve>>>0?i:Ve,t=0==(0|t)?Ue:t>>>0<Ue>>>0?t:Ue,1!=(0|c))for(o=-1,s=1;Ue=u<<(n=0|d+o)+(0|l[h+(s<<4)>>2]),n=f<<(0|l[h+(s<<4)+4>>2])+n,i=0==(0|i)?Ue:i>>>0<Ue>>>0?i:Ue,t=0==(0|t)?n:t>>>0<n>>>0?t:n,(n=0|s+1)>>>0<c>>>0;){o=~s,s=n}l[_>>2]=i,l[m>>2]=t}p=0|p+1}while((0|p)!=(0|b))}0|r[e>>0]||(l[e+104>>2]=l[e+204>>2],l[e+96>>2]=l[e+200>>2],l[e+108>>2]=l[e+212>>2],l[e+100>>2]=l[e+208>>2]),O=0|l[e+44>>2],l[e+28>>2]=O,i=54}else je=ut=0|e+36,ut=0|l[ut>>2],i=75;for(;;){if(54==(0|i)){if(O>>>0>=(0|l[e+56>>2])>>>0){dt=0,i=153;break}Qe=0|l[e+104>>2],l[e+220>>2]=Qe,i=56}else 75==(0|i)&&(ct=0|ut+1,l[je>>2]=ct,We=je,i=71);for(;;){if(56==(0|i)){if((0|Qe)>=(0|l[e+108>>2])){i=79;break}Je=0|l[e+96>>2],l[e+216>>2]=Je,i=58}else if(71==(0|i)){if(ct>>>0<(0|l[e+52>>2])>>>0){i=73;break}Ye=ft=0|e+24,ft=0|l[ft>>2],i=76}for(;;){if(58==(0|i)){if((0|Je)>=(0|l[e+100>>2])){i=78;break}qe=0|l[e+48>>2],l[(Xe=0|e+24)>>2]=qe}else 76==(0|i)&&(qe=0|ft+1,l[Ye>>2]=qe,Xe=Ye);if(qe>>>0>=(0|l[e+60>>2])>>>0)Je=0|l[e+224>>2],Je=0|(Ue=0|l[(i=0|e+216)>>2])+Je-(0|(0|Ue)%(0|Je)),l[i>>2]=Je,i=58;else if(i=0|l[e+196>>2],(f=0|l[e+28>>2])>>>0>=(t=0|l[i+(qe<<4)+8>>2])>>>0)Ye=Xe,ft=qe,i=76;else{if(d=0|l[i+(qe<<4)+12>>2],s=0|t+~f,$e=0|(0|(c=0|l[e+200>>2])-1+(Ke=(h=0|l[i+(qe<<4)>>2])<<s))/(0|Ke),tt=0|(0|(u=0|l[e+204>>2])-1+(et=(Ue=0|l[i+(qe<<4)+4>>2])<<s))/(0|et),t=0|(0|(it=0|Ke+-1)+(0|l[e+208>>2]))/(0|Ke),i=0|(0|(nt=0|et+-1)+(0|l[e+212>>2]))/(0|et),n=0|(rt=0|l[d+(f<<4)>>2])+s,o=0|(ot=0|l[d+(f<<4)+4>>2])+s,0|(0|(at=0|l[e+220>>2]))%(0|Ue<<o)){if((0|at)!=(0|u)){Ye=Xe,ft=qe,i=76;continue}if(!(0|(0|tt<<s)%(0|1<<o))){Ye=Xe,ft=qe,i=76;continue}}if(0|(0|(st=0|l[e+216>>2]))%(0|h<<n)){if((0|st)!=(0|c)){Ye=Xe,ft=qe,i=76;continue}if(!(0|(0|$e<<s)%(0|1<<n))){Ye=Xe,ft=qe,i=76;continue}}if(lt=0|l[d+(f<<4)+8>>2]){if(!((0|tt)==(0|i)|((0|$e)==(0|t)?1:0==(0|l[d+(f<<4)+12>>2])))){i=70;break}Ye=Xe,ft=qe,i=76}else Ye=Xe,ft=qe,i=76}}70!=(0|i)?78!=(0|i)||(Qe=0|l[e+228>>2],Qe=0|(Ue=0|l[(i=0|e+220)>>2])+Qe-(0|(0|Ue)%(0|Qe)),l[i>>2]=Qe,i=56):(ct=0|((0|(0|it+st)/(0|Ke))>>rt)-($e>>rt)+(0|B(0|((0|(0|nt+at)/(0|et))>>ot)-(tt>>ot),lt)),l[e+32>>2]=ct,ct=0|l[e+64>>2],l[(We=0|e+36)>>2]=ct,i=71)}if(73==(0|i)){if(i=0,ht=0|B(0|l[e+8>>2],ct),ht=0|(ht=0|(ht=0|(0|B(0|l[e+12>>2],0|l[e+28>>2]))+ht)+(0|B(0|l[e+16>>2],0|l[e+24>>2])))+(0|B(0|l[e+20>>2],0|l[e+32>>2])),ht=0|(0|l[e+4>>2])+(ht<<1),0|a[ht>>1]){je=We,ut=ct,i=75;continue}break}79!=(0|i)||(O=0|1+(0|l[(i=0|e+28)>>2]),l[i>>2]=O,i=54)}return 153==(0|i)?0|dt:(a[ht>>1]=1,0|(e=1));case 3:if(0|l[(i=0|e+40)>>2]){if(l[i>>2]=0,l[(_=0|e+224)>>2]=0,l[(m=0|e+228)>>2]=0,0|(b=0|l[e+192>>2])){y=0|l[e+196>>2],p=0,i=0,t=0;do{if(c=0|l[y+(p<<4)+8>>2]){if(h=0|l[y+(p<<4)+12>>2],u=0|l[y+(p<<4)>>2],f=0|l[y+(p<<4)+4>>2],d=0|c+-1,ut=u<<(0|l[h>>2])+d,ft=f<<(0|l[h+4>>2])+d,i=0==(0|i)?ut:i>>>0<ut>>>0?i:ut,t=0==(0|t)?ft:t>>>0<ft>>>0?t:ft,1!=(0|c))for(o=-1,s=1;ft=u<<(n=0|d+o)+(0|l[h+(s<<4)>>2]),n=f<<(0|l[h+(s<<4)+4>>2])+n,i=0==(0|i)?ft:i>>>0<ft>>>0?i:ft,t=0==(0|t)?n:t>>>0<n>>>0?t:n,(n=0|s+1)>>>0<c>>>0;){o=~s,s=n}l[_>>2]=i,l[m>>2]=t}p=0|p+1}while((0|p)!=(0|b))}0|r[e>>0]?t=0|l[e+104>>2]:(t=0|l[e+204>>2],l[e+104>>2]=t,l[e+96>>2]=l[e+200>>2],l[e+108>>2]=l[e+212>>2],l[e+100>>2]=l[e+208>>2]),l[e+220>>2]=t,i=93}else Ve=0|l[e+24>>2],He=0|e+36,be=0|(0|l[e+196>>2])+(Ve<<4),ge=He,He=0|l[He>>2],i=113;for(;;){if(93==(0|i)){if((0|t)>=(0|l[e+108>>2])){dt=0,i=153;break}xe=0|l[e+96>>2],l[e+216>>2]=xe,i=95}else 113==(0|i)&&(Fe=0|He+1,l[ge>>2]=Fe,me=be,ve=ge,Le=Ve,i=109);for(;;){if(95==(0|i)){if((0|xe)>=(0|l[e+100>>2])){i=117;break}ke=0|l[e+48>>2],l[e+24>>2]=ke,i=97}else if(109==(0|i)){if(Fe>>>0<(0|l[e+52>>2])>>>0){i=111;break}ye=me,Ae=Ne=0|e+28,Ne=0|l[Ne>>2],Ue=Le,i=114}for(;;){if(97==(0|i)){if(ke>>>0>=(0|l[e+60>>2])>>>0){i=116;break}_e=0|(0|l[e+196>>2])+(ke<<4),Ie=0|l[e+44>>2],l[(we=0|e+28)>>2]=Ie,ze=ke}else 114==(0|i)&&(Ie=0|Ne+1,l[Ae>>2]=Ie,_e=ye,we=Ae,ze=Ue);if(Ie>>>0>=((ft=0|l[e+56>>2])>>>0<(i=0|l[_e+8>>2])>>>0?ft:i)>>>0)ke=0|ze+1,l[e+24>>2]=ke,i=97;else{if(d=0|l[_e+12>>2],i=0|i+~Ie,Ee=0|(0|(n=0|l[e+200>>2])-1+(Se=(o=0|l[_e>>2])<<i))/(0|Se),Be=0|(0|(s=0|l[e+204>>2])-1+(Ce=(ft=0|l[_e+4>>2])<<i))/(0|Ce),c=0|(0|(Me=0|Se+-1)+(0|l[e+208>>2]))/(0|Se),h=0|(0|(Pe=0|Ce+-1)+(0|l[e+212>>2]))/(0|Ce),u=0|(Te=0|l[d+(Ie<<4)>>2])+i,f=0|(De=0|l[d+(Ie<<4)+4>>2])+i,0|(0|(Re=0|l[e+220>>2]))%(0|ft<<f)){if((0|Re)!=(0|s)){ye=_e,Ae=we,Ne=Ie,Ue=ze,i=114;continue}if(!(0|(0|Be<<i)%(0|1<<f))){ye=_e,Ae=we,Ne=Ie,Ue=ze,i=114;continue}}if(0|(0|(Ge=0|l[e+216>>2]))%(0|o<<u)){if((0|Ge)!=(0|n)){ye=_e,Ae=we,Ne=Ie,Ue=ze,i=114;continue}if(!(0|(0|Ee<<i)%(0|1<<u))){ye=_e,Ae=we,Ne=Ie,Ue=ze,i=114;continue}}if(Oe=0|l[d+(Ie<<4)+8>>2]){if(!((0|Be)==(0|h)|((0|Ee)==(0|c)?1:0==(0|l[d+(Ie<<4)+12>>2])))){i=108;break}ye=_e,Ae=we,Ne=Ie,Ue=ze,i=114}else ye=_e,Ae=we,Ne=Ie,Ue=ze,i=114}}108!=(0|i)?116!=(0|i)||(xe=0|l[e+224>>2],xe=0|(ft=0|l[(i=0|e+216)>>2])+xe-(0|(0|ft)%(0|xe)),l[i>>2]=xe,i=95):(Fe=0|((0|(0|Me+Ge)/(0|Se))>>Te)-(Ee>>Te)+(0|B(0|((0|(0|Pe+Re)/(0|Ce))>>De)-(Be>>De),Oe)),l[e+32>>2]=Fe,Fe=0|l[e+64>>2],l[(ve=0|e+36)>>2]=Fe,me=_e,Le=ze,i=109)}if(111==(0|i)){if(i=0,Ze=0|B(0|l[e+8>>2],Fe),Ze=0|(Ze=0|(Ze=0|(0|B(0|l[e+12>>2],0|l[e+28>>2]))+Ze)+(0|B(0|l[e+16>>2],Le)))+(0|B(0|l[e+20>>2],0|l[e+32>>2])),Ze=0|(0|l[e+4>>2])+(Ze<<1),0|a[Ze>>1]){be=me,ge=ve,He=Fe,Ve=Le,i=113;continue}break}117!=(0|i)||(t=0|l[e+228>>2],t=0|(ft=0|l[(i=0|e+220)>>2])+t-(0|(0|ft)%(0|t)),l[i>>2]=t,i=93)}return 153==(0|i)?0|dt:(a[Ze>>1]=1,0|(e=1));case 4:for(0|l[(t=0|e+40)>>2]?(l[t>>2]=0,W=0|l[e+48>>2],l[e+24>>2]=W,i=121):(ue=0|l[e+24>>2],ce=0|e+36,H=0|(0|l[e+196>>2])+(ue<<4),z=ce,ce=0|l[ce>>2],i=148);;){if(121==(0|i)){if(W>>>0>=(0|l[e+60>>2])>>>0){dt=0,i=153;break}if(m=0|(t=0|l[e+196>>2])+(W<<4),l[(p=0|e+224)>>2]=0,l[(_=0|e+228)>>2]=0,0|(u=0|l[t+(W<<4)+8>>2])){if(f=0|l[t+(W<<4)+12>>2],d=0|l[m>>2],c=0|l[t+(W<<4)+4>>2],h=0|u+-1,i=d<<(0|l[f>>2])+h,t=c<<(0|l[f+4>>2])+h,1!=(0|u))for(o=-1,s=1;ft=d<<(n=0|h+o)+(0|l[f+(s<<4)>>2]),n=c<<(0|l[f+(s<<4)+4>>2])+n,i=0==(0|i)?ft:i>>>0<ft>>>0?i:ft,t=0==(0|t)?n:t>>>0<n>>>0?t:n,(n=0|s+1)>>>0<u>>>0;){o=~s,s=n}l[p>>2]=i,l[_>>2]=t}0|r[e>>0]?t=0|l[e+104>>2]:(t=0|l[e+204>>2],l[e+104>>2]=t,l[e+96>>2]=l[e+200>>2],l[e+108>>2]=l[e+212>>2],l[e+100>>2]=l[e+208>>2]),l[e+220>>2]=t,R=t,G=W,i=130}else 148==(0|i)&&(ae=0|ce+1,l[z>>2]=ae,Z=H,V=z,se=ue,i=144);for(;;){if(130==(0|i)){if((0|R)>=(0|l[e+108>>2])){i=152;break}Y=0|l[e+96>>2],l[e+216>>2]=Y,F=m,fe=G,i=132}else if(144==(0|i)){if(ae>>>0<(0|l[e+52>>2])>>>0){i=146;break}N=Z,U=he=0|e+28,he=0|l[he>>2],pe=se,i=149}for(;;){if(132==(0|i)){if((0|Y)>=(0|l[e+100>>2])){i=151;break}X=0|l[e+44>>2],l[(j=0|e+28)>>2]=X,L=F,de=fe}else 149==(0|i)&&(X=0|he+1,l[U>>2]=X,L=N,j=U,de=pe);if(X>>>0>=((ft=0|l[e+56>>2])>>>0<(t=0|l[L+8>>2])>>>0?ft:t)>>>0)Y=0|l[e+224>>2],Y=0|(fe=0|l[(F=0|e+216)>>2])+Y-(0|(0|fe)%(0|Y)),l[F>>2]=Y,F=L,fe=de,i=132;else{if(f=0|l[L+12>>2],t=0|t+~X,J=0|(0|(i=0|l[e+200>>2])-1+(Q=(n=0|l[L>>2])<<t))/(0|Q),K=0|(0|(o=0|l[e+204>>2])-1+(q=(ft=0|l[L+4>>2])<<t))/(0|q),s=0|(0|($=0|Q+-1)+(0|l[e+208>>2]))/(0|Q),c=0|(0|(ee=0|q+-1)+(0|l[e+212>>2]))/(0|q),h=0|(te=0|l[f+(X<<4)>>2])+t,u=0|(ie=0|l[f+(X<<4)+4>>2])+t,0|(0|(ne=0|l[e+220>>2]))%(0|ft<<u)){if((0|ne)!=(0|o)){N=L,U=j,he=X,pe=de,i=149;continue}if(!(0|(0|K<<t)%(0|1<<u))){N=L,U=j,he=X,pe=de,i=149;continue}}if(0|(0|(re=0|l[e+216>>2]))%(0|n<<h)){if((0|re)!=(0|i)){N=L,U=j,he=X,pe=de,i=149;continue}if(!(0|(0|J<<t)%(0|1<<h))){N=L,U=j,he=X,pe=de,i=149;continue}}if(oe=0|l[f+(X<<4)+8>>2]){if(!((0|K)==(0|c)|((0|J)==(0|s)?1:0==(0|l[f+(X<<4)+12>>2])))){i=143;break}N=L,U=j,he=X,pe=de,i=149}else N=L,U=j,he=X,pe=de,i=149}}143!=(0|i)?151!=(0|i)||(R=0|l[e+228>>2],R=0|(G=0|l[(m=0|e+220)>>2])+R-(0|(0|G)%(0|R)),l[m>>2]=R,m=F,G=fe,i=130):(ae=0|((0|(0|$+re)/(0|Q))>>te)-(J>>te)+(0|B(0|((0|(0|ee+ne)/(0|q))>>ie)-(K>>ie),oe)),l[e+32>>2]=ae,ae=0|l[e+64>>2],l[(V=0|e+36)>>2]=ae,Z=L,se=de,i=144)}if(146==(0|i)){if(i=0,le=0|B(0|l[e+8>>2],ae),le=0|(le=0|(le=0|(0|B(0|l[e+12>>2],0|l[e+28>>2]))+le)+(0|B(0|l[e+16>>2],se)))+(0|B(0|l[e+20>>2],0|l[e+32>>2])),le=0|(0|l[e+4>>2])+(le<<1),0|a[le>>1]){H=Z,z=V,ce=ae,ue=se,i=148;continue}break}152!=(0|i)||(W=0|G+1,l[e+24>>2]=W,i=121)}return 153==(0|i)?0|dt:(a[le>>1]=1,0|(e=1));default:return 0|(e=0);}return 0}function Xt(e){e|=0;var t=0,i=0;return(t=0|Ne(1,44))?(r[(i=0|t+40)>>0]=-2&r[i>>0]|0!=(0|e),e=0|Ne(1,4),l[t+20>>2]=e,0|e?0|(i=t):(je(t),0|(i=0))):0|(t=0)}function Qt(e,t,i){t|=0,i|=0;var n,r,o,a,s,c,h,u,f,d,p=0,_=0,m=0,b=0,y=0,g=0,v=0,w=0,x=0,k=0,I=0,S=0,E=0,C=0,M=0,P=0,T=0,D=0,R=0,G=0,O=0,F=0,L=0,Z=0,H=0,N=0;if(d=A,A=0|A+1200,u=d,p=0|l[l[20+(e|=0)>>2]>>2],_=0|l[(f=0|p+16)>>2]){s=0|p+20,c=0|8+(0|l[e+32>>2]),h=0|88+(0|l[e+28>>2]),o=0|e+24,a=0==(0|t),n=0==(0|i),r=0|t+-1,N=0,p=_;do{if(y=0|l[s>>2],g=0|l[c>>2],v=0|l[(Z=0|y+(0|52*N)+16)>>2],g){if(v){_=0|l[h>>2],m=.0625*+((0|l[(0|l[24+(0|l[o>>2])>>2])+(0|52*N)+24>>2])>>>0),e=0;do{b=0|B(v,e),i=0;do{H=0|3*(0|b+i),l[u+(0|120*e)+(0|12*i)>>2]=~~(+(0|l[_+(H<<2)>>2])*m),l[u+(0|120*e)+(0|12*i)+4>>2]=~~(+(0|l[_+(H+1<<2)>>2])*m),l[u+(0|120*e)+(0|12*i)+8>>2]=~~(+(0|l[_+(H+2<<2)>>2])*m),i=0|i+1}while(i>>>0<v>>>0);e=0|e+1}while(e>>>0<g>>>0);H=9}}else H=9;if(9==(0|H)&&(H=0,v)){L=0|y+(0|52*N)+24,F=0,p=v;do{if(G=0|l[L>>2],e=0|l[(O=0|G+(0|136*F)+24)>>2]){D=0|G+(0|136*F)+16,T=0,i=0|l[(R=0|G+(0|136*F)+20)>>2],p=0|l[D>>2];do{if(0|B(i,p)){C=0|G+(0|136*F)+28+(0|36*T)+20,M=0|u+(0|120*t)+(0|12*F)+(T<<2),P=0|u+(0|120*r)+(0|12*F)+(T<<2),E=0;do{p=0|l[C>>2],S=0|B(0|l[p+(0|40*E)+20>>2],0|l[p+(0|40*E)+16>>2]);e:do{if(0|S){if(I=0|p+(0|40*E)+24,y=0|l[M>>2],a)for(p=0;;){if(i=0|l[I>>2],_=0|l[i+(0|52*p)+4>>2],e=(0|y)>(0|(e=0|(0|l[(0|l[24+(0|l[o>>2])>>2])+(0|52*N)+24>>2])-(0|l[i+(0|52*p)+28>>2])))?0|y-e:0,l[(b=0|i+(0|52*p)+44)>>2]=0,e=0==(0|e)?0:0|(0|3*e)-2,l[_>>2]=e,0|e&&(k=0|l[i+(0|52*p)>>2],l[_+4>>2]=l[(0|l[i+(0|52*p)+8>>2])+(0|24*(0|e+-1))>>2],l[_+16>>2]=k,!n)&&(l[b>>2]=e),(p=0|p+1)>>>0>=S>>>0)break e}x=0|y-(k=0|l[P>>2]),g=0;do{i=0|(e=0|l[I>>2])+(0|52*g),v=0|l[e+(0|52*g)+4>>2],p=0|x+(k-(w=0|(0|l[(0|l[24+(0|l[o>>2])>>2])+(0|52*N)+24>>2])-(0|l[e+(0|52*g)+28>>2]))),p=(0|k)>(0|w)?x:0<(0|p)?p:0,p=0|(y=(b=0==(0|(_=0|l[(w=0|e+(0|52*g)+44)>>2])))?0==(0|p)?0:0|(0|3*p)-2:0|(0|3*p)+_)-_,l[v+(0|24*t)>>2]=p;do{if(0|p){if(e=0|l[e+(0|52*g)+8>>2],p=0|l[e+(0|24*(0|y+-1))>>2],b?e=0|l[i>>2]:(b=0|l[e+(0|24*(0|_+-1))>>2],e=0|(0|l[i>>2])+b,p=0|p-b),l[v+(0|24*t)+4>>2]=p,l[v+(0|24*t)+16>>2]=e,n)break;l[w>>2]=y}}while(0);g=0|g+1}while(g>>>0<S>>>0)}}while(0);E=0|E+1,p=0|l[D>>2],i=0|l[R>>2]}while(E>>>0<(0|B(i,p))>>>0);e=0|l[O>>2]}T=0|T+1}while(T>>>0<e>>>0);p=0|l[Z>>2]}F=0|F+1}while(F>>>0<p>>>0);p=0|l[f>>2]}N=0|N+1}while(N>>>0<p>>>0);A=d}else A=d}function Jt(e,t,i,n){t|=0,i=+i,n|=0;var r,o,a,s,c,h=0,u=0,f=0,d=0,p=0,_=0,m=0,y=0,g=0,v=0,A=0,w=0,x=0,k=0,I=0,S=0,E=0,C=0,M=0,P=0,T=0,D=0,R=0,G=0;if(e=0|l[l[20+(e|=0)>>2]>>2],b[(s=0|e+40+(t<<3))>>3]=0,h=0|l[(c=0|e+16)>>2]){o=0|e+20,a=0==(0|t),r=0==(0|n),R=0,e=h;do{if(n=0|l[o>>2],h=0|l[(D=0|n+(0|52*R)+16)>>2]){T=0|n+(0|52*R)+24,P=0,e=h;do{if(C=0|l[T>>2],n=0|l[(M=0|C+(0|136*P)+24)>>2]){S=0|C+(0|136*P)+16,I=0,h=0|l[(E=0|C+(0|136*P)+20)>>2],e=0|l[S>>2];do{if(0|B(h,e)){k=0|C+(0|136*P)+28+(0|36*I)+20,x=0;do{if(n=0|l[k>>2],w=0|B(0|l[n+(0|40*x)+20>>2],0|l[n+(0|40*x)+16>>2])){g=0|n+(0|40*x)+24,y=0;do{if(_=0|(p=0|l[g>>2])+(0|52*y),v=0|l[p+(0|52*y)+4>>2],A=0|p+(0|52*y)+44,a?(l[A>>2]=0,m=0):m=0|l[A>>2],m>>>0<(f=0|l[p+(0|52*y)+48>>2])>>>0){d=0|l[p+(0|52*y)+8>>2],e=m,h=m;do{n=0|l[d+(0|24*h)>>2],e?(G=0|e+-1,u=+b[d+(0|24*h)+8>>3]-+b[d+(0|24*G)+8>>3],n=0|n-(0|l[d+(0|24*G)>>2])):u=+b[d+(0|24*h)+8>>3],h=0|h+1,e=(n=n?2220446049250313e-31>i-u/+(n>>>0):0!=u)?h:e}while(h>>>0<f>>>0);f=e}else f=m;G=0|f-m,l[v+(0|24*t)>>2]=G,G?(n=0|l[p+(0|52*y)+8>>2],e=0|l[n+(0|24*(h=0|f+-1))>>2],m?(G=0|l[n+(0|24*(m=0|m+-1))>>2],l[v+(0|24*t)+16>>2]=(0|l[_>>2])+G,u=+b[n+(0|24*h)+8>>3]-+b[n+(0|24*m)+8>>3],e=0|e-G):(l[v+(0|24*t)+16>>2]=l[_>>2],u=+b[n+(0|24*h)+8>>3]),l[v+(0|24*t)+4>>2]=e,b[v+(0|24*t)+8>>3]=u,b[s>>3]=u+ +b[s>>3],r||(l[A>>2]=f)):b[v+(0|24*t)+8>>3]=0,y=0|y+1}while(y>>>0<w>>>0);h=0|l[E>>2],e=0|l[S>>2]}x=0|x+1}while(x>>>0<(0|B(h,e))>>>0);n=0|l[M>>2]}I=0|I+1}while(I>>>0<n>>>0);e=0|l[D>>2]}P=0|P+1}while(P>>>0<e>>>0);e=0|l[c>>2]}R=0|R+1}while(R>>>0<e>>>0)}}function qt(e,t,i,n,o){t|=0,i|=0,n|=0,o|=0;var s,c,h,u,f,d,p=0,m=0,y=0,g=0,v=0,w=0,x=0,k=0,I=0,S=0,M=0,P=0,T=0,D=0,R=0,G=0,O=0,F=0,L=0,Z=0,H=0,N=0,z=0,V=0,U=0,j=0,W=0,Y=0,X=0,Q=0,J=0,q=0,K=0,$=0,ee=0;if(d=A,A=0|A+800,u=d,f=0|l[28+(e|=0)>>2],c=0|l[l[e+20>>2]>>2],h=0|l[e+32>>2],l[(s=0|c+24)>>2]=0,q=0|l[c+16>>2]){K=0|e+24,J=0|l[c+20>>2],Q=0,g=17976931348623157e292,v=0,y=0,p=0;do{if(l[(Y=0|J+(0|52*Q)+48)>>2]=0,X=0|l[J+(0|52*Q)+16>>2]){W=0|l[J+(0|52*Q)+24>>2],j=0,m=0;do{if(N=0|l[W+(0|136*j)+24>>2]){V=0==(0|(z=0|B(0|l[W+(0|136*j)+20>>2],0|l[W+(0|136*j)+16>>2]))),H=0;do{if(!V){Z=0|l[W+(0|136*j)+28+(0|36*H)+20>>2],L=0;do{if(O=0|B(0|l[Z+(0|40*L)+20>>2],0|l[Z+(0|40*L)+16>>2])){F=0|Z+(0|40*L)+24,G=0;do{if(D=0|l[F>>2],M=0|l[D+(0|52*G)+48>>2]){T=0|8+(P=0|l[D+(0|52*G)+8>>2]),S=0;do{I=0|l[P+(0|24*S)>>2],S?(ee=0|S+-1,w=+b[P+(0|24*S)+8>>3]-+b[P+(0|24*ee)+8>>3],I=0|I-(0|l[P+(0|24*ee)>>2])):w=+b[T>>3],I&&(g=(U=w/+(0|I))<g?U:g,v=U>v?U:v),S=0|S+1}while(S>>>0<M>>>0)}p=0|(ee=0|B(0|(0|l[D+(0|52*G)+24>>2])-(0|l[D+(0|52*G)+16>>2]),0|(0|l[D+(0|52*G)+20>>2])-(0|l[D+(0|52*G)+12>>2])))+p,l[s>>2]=p,m=0|ee+m,l[Y>>2]=m,G=0|G+1}while(G>>>0<O>>>0)}L=0|L+1}while(L>>>0<z>>>0)}H=0|H+1}while(H>>>0<N>>>0)}j=0|j+1}while(j>>>0<X>>>0)}else m=0;y+=(U=+(0|1<<l[(0|l[24+(0|l[K>>2])>>2])+(0|52*Q)+24>>2])-1)*U*+(0|m),Q=0|Q+1}while(Q>>>0<q>>>0);U=g}else U=17976931348623157e292,v=0,y=0,p=0;if(V=0!=(0|o)){if(q=0|l[o+88>>2],K=0|l[e+36>>2],l[q+(0|592*K)+552>>2]=p,b[q+(0|592*K)+560>>3]=+b[c+32>>3],ee=0|He(l[(p=0|h+8)>>2]<<3),l[q+(0|592*K)>>2]=ee,!ee)return A=d,0|(ee=0)}else p=0|h+8;if(!(0|l[p>>2]))return A=d,0|(ee=1);for(G=0|c+32,O=0|f+93,F=0|o+88,L=0|e+36,Z=0|c+40,H=0|e+24,N=0|e+8,z=0|e+16,D=0;;){if(M=(K=0<(k=+_[h+20+(D<<2)>>2]))&(M=~~+C(+k)>>>0)>>>0<n>>>0?M:n,k=+_[h+5184+(D<<2)>>2],R=+b[G>>3]-y/+E(10,+k/10),0==(1&(ee=0|r[O>>0]))|1^K&&!(0!=(4&ee)&0<k))g=U;else{if(!(T=0|Qi(0|l[H>>2],f))){p=0,$=56;break}if(P=0|D+1,I=0|u+(D+-1<<3),S=0|c+40+(D<<3),D){m=0,g=0,x=v,k=U;do{Jt(e,D,w=.5*(k+x),0);do{if(4&r[O>>0]){if(4<=(65535&(0|a[f>>1])-3)){if(+b[I>>3]+ +b[S>>3]<R){g=w,x=w;break}k=w,$=47;break}0|Wi(T,0|l[L>>2],c,P,t,i,M,o,0|l[N>>2],0|l[e>>2],0|l[z>>2],0)?+b[I>>3]+ +b[S>>3]<R?(g=w,x=w):(k=w,$=47):k=w}else 0|Wi(T,0|l[L>>2],c,P,t,i,M,o,0|l[N>>2],0|l[e>>2],0|l[z>>2],0)?(g=w,x=w,$=47):k=w}while(0);47==(0|$)&&($=0),m=0|m+1}while(128!=(0|m))}else{m=0,g=0,x=v,k=U;do{Jt(e,0,w=.5*(k+x),0);do{if(4&r[O>>0]){if(4<=(65535&(0|a[f>>1])-3)){if(+b[Z>>3]<R){g=w,x=w;break}k=w,$=39;break}0|Wi(T,0|l[L>>2],c,P,t,i,M,o,0|l[N>>2],0|l[e>>2],0|l[z>>2],0)?+b[Z>>3]<R?(g=w,x=w):(k=w,$=39):k=w}else 0|Wi(T,0|l[L>>2],c,P,t,i,M,o,0|l[N>>2],0|l[e>>2],0|l[z>>2],0)?(g=w,x=w,$=39):k=w}while(0);39==(0|$)&&($=0),m=0|m+1}while(128!=(0|m))}Ji(T),g=0==g?w:g}if(V&&(b[(0|l[(0|l[F>>2])+(0|592*(0|l[L>>2]))>>2])+(D<<3)>>3]=g),Jt(e,D,g,1),g=D?+b[u+(D+-1<<3)>>3]+ +b[c+40+(D<<3)>>3]:+b[Z>>3],b[u+(D<<3)>>3]=g,(D=0|D+1)>>>0>=(0|l[p>>2])>>>0){p=1,$=56;break}}return 56==(0|$)?(A=d,0|p):0}function Kt(e,t,i){t|=0,i|=0;var n,r=0,o=0;return l[24+(e|=0)>>2]=t,l[e+28>>2]=i,r=0|Ne(1,848),l[l[(n=0|e+20)>>2]>>2]=r,r?(o=0|Ne(0|l[(r=0|t+16)>>2],52),t=0|l[l[n>>2]>>2],l[t+20>>2]=o,o?(l[t+16>>2]=l[r>>2],l[e>>2]=l[i+84>>2],0|(o=1)):0|(o=0)):0|(i=0)}function $t(e){var t,i=0,n=0,o=0,a=0,s=0,c=0,h=0,u=0,f=0,d=0,p=0,_=0,m=0,b=0,y=0,g=0;if(e|=0){i=0|l[(t=0|e+20)>>2];do{if(0|i){if(y=0==(1&r[e+40>>0])?3:4,n=0|l[i>>2]){if(i=0|l[(_=0|n+20)>>2],0|l[(p=0|n+16)>>2]){for(d=0;;){if(0|(n=0|l[(f=0|i+24)>>2])){if(u=0|((h=0|l[i+28>>2])>>>0)/136,135<h>>>0){for(h=0;;){if(0|(o=0|l[(c=0|n+48)>>2])){if(s=0|((a=0|l[n+52>>2])>>>0)/40,39<a>>>0){for(a=0;ui(0|l[(g=0|o+32)>>2]),l[g>>2]=0,ui(0|l[(g=0|o+36)>>2]),l[g>>2]=0,io[7&y](o),!((a=0|a+1)>>>0>=s>>>0);){o=0|o+40}o=0|l[c>>2]}je(o),l[c>>2]=0}if(0|(o=0|l[(c=0|n+84)>>2])){if(s=0|((g=0|l[n+88>>2])>>>0)/40,39<g>>>0){for(a=0;ui(0|l[(g=0|o+32)>>2]),l[g>>2]=0,ui(0|l[(g=0|o+36)>>2]),l[g>>2]=0,io[7&y](o),!((a=0|a+1)>>>0>=s>>>0);){o=0|o+40}o=0|l[c>>2]}je(o),l[c>>2]=0}if(0|(o=0|l[(c=0|n+120)>>2])){if(s=0|((g=0|l[n+124>>2])>>>0)/40,39<g>>>0){for(a=0;ui(0|l[(g=0|o+32)>>2]),l[g>>2]=0,ui(0|l[(g=0|o+36)>>2]),l[g>>2]=0,io[7&y](o),!((a=0|a+1)>>>0>=s>>>0);){o=0|o+40}o=0|l[c>>2]}je(o),l[c>>2]=0}if((h=0|h+1)>>>0>=u>>>0)break;n=0|n+136}n=0|l[f>>2]}je(n),l[f>>2]=0}if(0|l[i+36>>2]&&0|(b=0|l[(m=0|i+32)>>2])&&(Ve(b),l[m>>2]=0,l[m+4>>2]=0,l[m+8>>2]=0,l[m+12>>2]=0),(d=0|d+1)>>>0>=(0|l[p>>2])>>>0)break;i=0|i+52}i=0|l[_>>2]}if(je(i),l[_>>2]=0,je(0|l[l[t>>2]>>2]),i=0|l[t>>2],l[i>>2]=0,!i)break}je(i),l[t>>2]=0}}while(0);je(e)}}function ei(e){var t,i,n,r=0,o=0,a=0;r=0|l[(n=0|32+(e|=0))>>2],i=0|l[(t=0|e+40)>>2];do{if(r){if(i>>>0<=(0|l[(o=0|e+44)>>2])>>>0)return 0|(a=1);if(0|l[e+36>>2]){if(Ve(r),r=0|ze(0|l[t>>2]),l[n>>2]=r,0|r){l[o>>2]=l[t>>2];break}return l[o>>2]=0,l[t>>2]=0,l[e+36>>2]=0,0|(a=0)}a=4}else a=4}while(0);do{if(4==(0|a)){if(a=0|ze(i),l[n>>2]=a,a){l[e+44>>2]=l[t>>2];break}return 0|(a=0)}}while(0);return l[e+36>>2]=1,0|(a=1)}function ti(e,t,i){return 0|ii(e|=0,t|=0,1,1,52,i|=0)}function ii(e,t,i,n,o,a){t|=0,i|=0,n=+n,o|=0,a|=0;var s,c,h,u,f,d,p,m,b,y,g,v,w,x,I,S,E,C=0,M=0,P=0,T=0,D=0,R=0,G=0,O=0,F=0,L=0,Z=0,H=0,N=0,z=0,V=0,U=0,j=0,W=0,Y=0,X=0,Q=0,J=0,q=0,K=0,$=0,ee=0,te=0,ie=0,ne=0,re=0,oe=0,ae=0,se=0,le=0,ce=0,he=0,ue=0,fe=0,de=0,pe=0,me=0,be=0,ye=0,ge=0,ve=0,Ae=0,we=0,xe=0,ke=0,Ie=0,Se=0,Ee=0,Ce=0,Be=0,Me=0,Pe=0,Te=0,De=0,Re=0,Ge=0,Oe=0,Fe=0,Le=0,Ze=0,We=0,Ye=0,Xe=0,Qe=0,Je=0,qe=0,Ke=0,$e=0,et=0,tt=0,it=0;if(E=A,A=0|A+112,x=0|E+104,w=0|E+96,v=0|E+88,g=0|E+80,y=0|E+72,b=0|E+64,m=0|E+56,p=0|E+48,tt=0|E+40,S=0|E+32,I=0|E+24,P=0|l[28+(e|=0)>>2],d=0|l[l[e+20>>2]>>2],T=0|l[(0|l[P+76>>2])+(0|5640*t)+5584>>2],D=0|l[d+20>>2],M=0|l[e+24>>2],R=0|l[M+24>>2],C=0|l[P+24>>2],F=0|l[P+12>>2],G=(et=0|(0|B(F,0|(t>>>0)%(C>>>0)))+(0|l[P+4>>2]))>>>0>(G=0|l[M>>2])>>>0?et:G,l[d>>2]=G,et=0|gr(0|F,0,0|et,0),F=(et|=0-k)>>>0<(F=0|l[M+8>>2])>>>0?et:F,l[(et=0|d+8)>>2]=F,!(-1<(0|G)&(0|F)>(0|G)))return _e(a,1,19655,E),A=E,0|(tt=0);if(O=0|l[P+16>>2],C=(Ke=0|(0|B(O,0|(t>>>0)/(C>>>0)))+(0|l[P+8>>2]))>>>0>(C=0|l[M+4>>2])>>>0?Ke:C,l[(f=0|d+4)>>2]=C,Ke=0|gr(0|O,0,0|Ke,0),O=(Ke|=0-k)>>>0<(O=0|l[M+12>>2])>>>0?Ke:O,l[(Ke=0|d+12)>>2]=O,!(-1<(0|C)&(0|O)>(0|C)))return _e(a,1,19693,0|E+8),A=E,0|(tt=0);if(!(0|l[T+4>>2]))return _e(a,1,19731,0|E+16),A=E,0|(tt=0);if(!(0|l[(u=0|d+16)>>2]))return A=E,0|(tt=1);h=0|P+80,c=0|e+40,s=0==(0|i),t=0,qe=D,M=G,P=F,e=O;e:for(;;){if(l[R+36>>2]=0,Ye=0|(0|M+-1+(Qe=0|l[R>>2]))/(0|Qe),l[qe>>2]=Ye,M=0|(0|C+-1+(Xe=0|l[R+4>>2]))/(0|Xe),l[(Je=0|qe+4)>>2]=M,P=0|(0|P+-1+Qe)/(0|Qe),l[(Qe=0|qe+8)>>2]=P,C=0|(0|e+-1+Xe)/(0|Xe),l[(Xe=0|qe+12)>>2]=C,P=0|P-Ye){if((0|4294967295/(P>>>0))>>>0<(C=0|C-M)>>>0){$e=12;break}}else C=0|C-M;if(1073741823<(C=0|B(C,P))>>>0){$e=14;break}M=C<<2,C=0|l[T+4>>2],l[(Ye=0|qe+16)>>2]=C,P=0|l[h>>2],l[qe+20>>2]=C>>>0<P>>>0?1:0|C-P,l[(P=0|qe+40)>>2]=M;do{if(1&r[c>>0]){if(i=0|l[(e=0|qe+32)>>2]){if(M>>>0<=(0|l[(D=0|qe+44)>>2])>>>0)break;if(0|l[(C=0|qe+36)>>2]){if(Ve(i),We=0|ze(0|l[P>>2]),l[e>>2]=We,!We){$e=22;break e}l[D>>2]=l[P>>2]}else $e=19}else $e=19;if(19==(0|$e)){if($e=0,We=0|ze(M),l[e>>2]=We,!We)break e;l[qe+44>>2]=l[P>>2],C=0|qe+36}l[C>>2]=1,C=0|l[Ye>>2]}}while(0);if(P=0|136*C,C=0|l[(e=0|qe+24)>>2]){if(P>>>0>(0|l[(M=0|qe+28)>>2])>>>0){if(!(C=0|Ue(C,P))){$e=31;break}l[e>>2]=C,Mr(0|C+(We=0|l[M>>2]),0,0|P-We),l[M>>2]=P}}else{if(C=0|He(P),l[e>>2]=C,!C){t=0,$e=100;break}l[qe+28>>2]=P,Mr(0|C,0,0|P)}if(We=0==(0|l[T+20>>2])?7:8,0|(C=0|l[Ye>>2]))for(Oe=0|T+8,Fe=0|T+12,Le=0|R+24,Ze=0|T+804,Ge=0,Re=0|l[e>>2],O=0|T+28;;){if(Ce=C,C=0|C+-1,De=0|l[qe>>2],De=0|Ir(0|(De=0|gr(0|(Pe=0|gr(0|(Be=0|Er(1,0,0|C)),0|(Me=k),-1,-1)),0|(Te=k),0|De,0|(0>(0|De))<<31>>31)),0|k,0|C),l[Re>>2]=De,Ie=0|Ir(0|(Ie=0|gr(0|Pe,0|Te,0|(Ie=0|l[Je>>2]),0|(0>(0|Ie))<<31>>31)),0|k,0|C),l[Re+4>>2]=Ie,M=0|Ir(0|(M=0|gr(0|Pe,0|Te,0|(M=0|l[Qe>>2]),0|(0>(0|M))<<31>>31)),0|k,0|C),l[Re+8>>2]=M,Se=0|Ir(0|(Se=0|gr(0|Pe,0|Te,0|(Se=0|l[Xe>>2]),0|(0>(0|Se))<<31>>31)),0|k,0|C),l[Re+12>>2]=Se,G=De>>(i=0|l[T+812+(Ge<<2)>>2])<<i,D=Ie>>(e=0|l[T+944+(Ge<<2)>>2])<<e,Ee=0|Ir(0|(Ee=0|gr(0|(Ee=0|gr(0|(Ee=0|Er(1,0,0|i)),0|k,-1,-1)),0|k,0|M,0|(0>(0|M))<<31>>31)),0|k,0|i),P=0|Ir(0|(P=0|gr(0|(P=0|gr(0|(P=0|Er(1,0,0|e)),0|k,-1,-1)),0|k,0|Se,0|(0>(0|Se))<<31>>31)),0|k,0|e),Ee=(Ee<<i)-G>>i,M=(0|De)==(0|M)?0:Ee,l[(De=0|Re+16)>>2]=M,P=(0|Ie)==(0|Se)?0:(P<<e)-D>>e,l[Re+20>>2]=P,0|M&&(0|4294967295/(Ee>>>0))>>>0<P>>>0){$e=37;break e}if(107374182<(Ie=0|B(P,M))>>>0){$e=39;break e}for(Se=0|40*Ie,(Ee=0==(0|Ge))?M=1:(G=0|Sr(0|(G=0|gr(0|G,0|(0>(0|G))<<31>>31,1,0)),0|k,1),D=0|Sr(0|(D=0|gr(0|D,0|(0>(0|D))<<31>>31,1,0)),0|k,1),e=0|e+-1,i=0|i+-1,M=3),l[(ke=0|Re+24)>>2]=M,se=(se=0|l[Oe>>2])>>>0<i>>>0?se:i,le=(le=0|l[Fe>>2])>>>0<e>>>0?le:e,ce=0!=(0|Ie),he=0==(0|Ie),ue=1<<i,fe=1<<e,de=0|gr(0|(de=0|Er(1,0,0|se)),0|k,-1,-1),pe=k,me=0|gr(0|(me=0|Er(1,0,0|le)),0|k,-1,-1),be=k,ye=1<<se,ge=1<<le,we=0|gr(0|(ve=0|Er(1,0,0|Ce)),0|(Ae=k),-1,-1),xe=k,oe=0,ae=0|Re+28;;){if(Ee?(M=0|Ir(0|(M=0|gr(0|Pe,0|Te,0|(M=0|l[qe>>2]),0|(0>(0|M))<<31>>31)),0|k,0|C),P=0|Ir(0|(P=0|gr(0|Pe,0|Te,0|(P=0|l[Je>>2]),0|(0>(0|P))<<31>>31)),0|k,0|C),F=0|Ir(0|(F=0|gr(0|Pe,0|Te,0|(F=0|l[Qe>>2]),0|(0>(0|F))<<31>>31)),0|k,0|C),V=0,L=Z=0|l[Xe>>2],Z=(0>(0|Z))<<31>>31,H=Be,N=Me,z=C):(V=0|oe+1,M=0|l[qe>>2],M=0|Ir(0|(M=0|gr(0|(N=0|vr(0|we,0|xe,0|(N=0|Er(0|1&V,0,0|C)),0|k)),0|(H=k),0|M,0|(0>(0|M))<<31>>31)),0|k,0|Ce),P=0|l[Je>>2],P=0|Ir(0|(P=0|gr(0|(F=0|vr(0|we,0|xe,0|(Z=0|Er(0|V>>>1,0,0|C)),0|(L=k))),0|k,0|P,0|(0>(0|P))<<31>>31)),0|k,0|Ce),F=0|Ir(0|(F=0|gr(0|N,0|H,0|(F=0|l[Qe>>2]),0|(0>(0|F))<<31>>31)),0|k,0|Ce),L=0|vr(0|(H=0|l[Xe>>2]),0|(0>(0|H))<<31>>31,0|Z,0|L),Z=k,H=ve,N=Ae,z=Ce),l[ae+16>>2]=V,l[ae>>2]=M,l[(re=0|ae+4)>>2]=P,l[(ne=0|ae+8)>>2]=F,F=0|Ir(0|(F=0|gr(0|(F=0|gr(0|L,0|Z,-1,-1)),0|k,0|H,0|N)),0|k,0|z),l[(ie=0|ae+12)>>2]=F,F=0|Xr[15&We](V),it=.00048828125*+(0|l[O+4>>2])+1,it=+fr(1,0|(0|l[Le>>2])+F-(0|l[O>>2]))*it*n,_[ae+32>>2]=it,l[ae+28>>2]=(0|l[O>>2])-1+(0|l[Ze>>2]),ce&0==(0|(P=0|l[(F=0|ae+20)>>2]))){if(M=0|He(Se),l[F>>2]=M,!M){$e=48;break e}Mr(0|M,0,0|Se),M=0|ae+24,$e=54}else if((0|l[(M=0|ae+24)>>2])>>>0<Se>>>0){if(!(P=0|Ue(P,Se))){$e=53;break e}l[F>>2]=P,Mr(0|P+($e=0|l[M>>2]),0,0|Se-$e),$e=54}if(54==(0|$e)&&($e=0,l[M>>2]=Se),!he)for(te=0,W=0|l[F>>2];;){X=0|(q=0|((0|(te>>>0)%((Y=0|l[De>>2])>>>0))<<i)+G)+ue,Q=0|(Y=0|((0|(te>>>0)/(Y>>>0))<<e)+D)+fe,J=(0|q)>(0|(J=0|l[ae>>2]))?q:J,l[W>>2]=J,q=(0|Y)>(0|(q=0|l[re>>2]))?Y:q,l[(Y=0|W+4)>>2]=q,F=(0|X)<(0|(F=0|l[ne>>2]))?X:F,l[(X=0|W+8)>>2]=F,P=(0|Q)<(0|(P=0|l[ie>>2]))?Q:P,l[(Q=0|W+12)>>2]=P,J=J>>se<<se,q=q>>le<<le,F=0|Ir(0|(F=0|gr(0|de,0|pe,0|F,0|(0>(0|F))<<31>>31)),0|k,0|se),P=0|Ir(0|(P=0|gr(0|me,0|be,0|P,0|(0>(0|P))<<31>>31)),0|k,0|le),F=(F<<se)-J>>se,l[(K=0|W+16)>>2]=F,P=(P<<le)-q>>le,l[(H=0|W+20)>>2]=P,$=0|B(F,P),Z=0|B($,o),L=0|l[(ee=0|W+24)>>2];do{if(0==(0|L)&0!=(0|$)){if(M=0|He(Z),l[ee>>2]=M,!M){t=0,$e=100;break e}Mr(0|M,0,0|Z),M=0|W+28,$e=64}else{if(Z>>>0<=(0|l[(M=0|W+28)>>2])>>>0)break;if(!(P=0|Ue(L,Z))){$e=63;break e}l[ee>>2]=P,Mr(0|P+($e=0|l[M>>2]),0,0|Z-$e),$e=64}}while(0);if(64==(0|$e)&&($e=0,l[M>>2]=Z,F=0|l[K>>2],P=0|l[H>>2]),M=(M=0|l[(L=0|W+32)>>2])?0|hi(M,F,P,a):0|li(F,P,a),l[L>>2]=M,M||_e(a,2,19944,w),P=0|l[(L=0|W+36)>>2],F=0|l[K>>2],M=0|l[H>>2],M=P?0|hi(P,F,M,a):0|li(F,M,a),l[L>>2]=M,M||_e(a,2,19966,x),0|$){j=0;do{V=0|(N=0|((0|(j>>>0)%((z=0|l[K>>2])>>>0))<<se)+J)+ye,U=0|(z=0|((0|(j>>>0)/(z>>>0))<<le)+q)+ge;do{if(s){if(H=0|l[ee>>2],0|l[(M=0|H+(0|56*j))>>2]){F=0|l[(P=0|H+(0|56*j)+32)>>2],Z=0|44+(L=M=0|H+(0|56*j)+8);do{l[L>>2]=0,L=0|L+4}while((0|L)<(0|Z));l[P>>2]=F}else{if(Z=0|He(8192),l[M>>2]=Z,!Z){t=0,$e=100;break e}if(l[H+(0|56*j)+32>>2]=8192,Z=0|Ne(10,32),l[H+(0|56*j)+4>>2]=Z,!Z){t=0,$e=100;break e}l[H+(0|56*j)+52>>2]=10,M=0|H+(0|56*j)+8}Z=0|l[W>>2],l[M>>2]=(0|N)>(0|Z)?N:Z,N=0|l[Y>>2],l[H+(0|56*j)+12>>2]=(0|z)>(0|N)?z:N,z=0|l[X>>2],l[H+(0|56*j)+16>>2]=(0|V)<(0|z)?V:z,V=0|l[Q>>2],l[H+(0|56*j)+20>>2]=(0|U)<(0|V)?U:V}else{if(P=0|l[ee>>2],0==(0|l[(M=0|P+(0|52*j)+4)>>2])&&(H=0|Ne(100,24),l[M>>2]=H,0==(0|H))){t=0,$e=100;break e}if(0==(0|l[(M=0|P+(0|52*j)+8)>>2])&&(H=0|Ne(100,24),l[M>>2]=H,0==(0|H))){t=0,$e=100;break e}if(F=(0|N)>(0|(F=0|l[W>>2]))?N:F,l[P+(0|52*j)+12>>2]=F,z=(0|z)>(0|(L=0|l[Y>>2]))?z:L,l[P+(0|52*j)+16>>2]=z,L=(0|V)<(0|(L=0|l[X>>2]))?V:L,l[P+(0|52*j)+20>>2]=L,U=(0|U)<(0|(V=0|l[Q>>2]))?U:V,l[P+(0|52*j)+24>>2]=U,(F=0|B(0|U-z,L-F<<2))>>>0<=(0|l[(L=0|P+(0|52*j)+36)>>2])>>>0)break;if(0|(M=0|l[(P=0|P+(0|52*j))>>2])&&je(0|M+-1),M=0|He(1|F),l[P>>2]=M,!M){$e=87;break e}l[L>>2]=F,r[M>>0]=0,l[P>>2]=1+(0|l[P>>2])}}while(0);j=0|j+1}while(j>>>0<$>>>0)}if((te=0|te+1)>>>0>=Ie>>>0)break;W=0|W+40}if(O=0|O+8,(oe=0|oe+1)>>>0>=(0|l[ke>>2])>>>0)break;ae=0|ae+36}if((Ge=0|Ge+1)>>>0>=(0|l[Ye>>2])>>>0)break;Re=0|Re+136}if((t=0|t+1)>>>0>=(0|l[u>>2])>>>0){t=1,$e=100;break}T=0|T+1080,qe=0|qe+52,R=0|R+52,M=0|l[d>>2],C=0|l[f>>2],P=0|l[et>>2],e=0|l[Ke>>2]}switch(0|$e){case 12:return _e(a,1,19770,I),A=E,0|(tt=0);case 14:return _e(a,1,19770,S),A=E,0|(tt=0);case 22:l[D>>2]=0,l[P>>2]=0,l[C>>2]=0;break;case 31:return _e(a,1,19803,p),je(0|l[e>>2]),l[e>>2]=0,l[M>>2]=0,A=E,0|(tt=0);case 37:return _e(a,1,19770,m),A=E,0|(tt=0);case 39:return _e(a,1,19770,b),A=E,0|(tt=0);case 48:return _e(a,1,19843,y),A=E,0|(tt=0);case 53:return _e(a,1,19843,g),je(0|l[F>>2]),l[F>>2]=0,l[M>>2]=0,A=E,0|(tt=0);case 63:return je(0|l[ee>>2]),l[ee>>2]=0,l[M>>2]=0,_e(a,1,19886,v),A=E,0|(tt=0);case 87:return l[L>>2]=0,A=E,0|(tt=0);case 100:return A=E,0|t;}return _e(a,1,19770,tt),A=E,0|(tt=0)}function ni(e,t,i,n,o,a){t|=0,i|=0,n|=0,o|=0,a|=0;var s,c,h=0,u=0,f=0,d=0,p=0,_=0,m=0,b=0,y=0,g=0,v=0,w=0,x=0,k=0;if(c=A,A=0|A+16,s=c,!(0|l[8+(e|=0)>>2])){if(l[e+36>>2]=t,h=0|l[76+(0|l[(w=0|e+28)>>2])>>2],l[(k=0|e+32)>>2]=h+(0|5640*t),v=0|e+20,!(x=0==(0|a))){if(u=0|l[20+(0|l[l[v>>2]>>2])>>2],_=0|l[h+(0|5640*t)+5584>>2],0|l[(m=0|u+16)>>2]){d=0|l[u+24>>2],p=0|l[(h=0|a+88)>>2],u=0,f=0;do{g=0|d+(0|136*f)+16,l[p+(0|592*t)+20+(f<<2)>>2]=l[g>>2],y=0|d+(0|136*f)+20,l[p+(0|592*t)+152+(f<<2)>>2]=l[y>>2],u=0|(0|B(0|l[y>>2],0|l[g>>2]))+u,l[p+(0|592*t)+284+(f<<2)>>2]=l[_+812+(f<<2)>>2],l[p+(0|592*t)+416+(f<<2)>>2]=l[_+944+(f<<2)>>2],f=0|f+1}while(f>>>0<(0|l[m>>2])>>>0)}else u=0,h=0|a+88;if(g=0|Ne(0|B(0|B(0|l[a+52>>2],u),0|l[a+56>>2]),32),l[(0|l[h>>2])+(0|592*t)+548>>2]=g,!g)return A=c,0|(a=0)}if(h=0|l[l[v>>2]>>2],0|l[(g=0|h+16)>>2])for(p=0|l[k>>2],t=0,b=u=0|l[h+20>>2],y=0|l[p+5584>>2];;){if(_=0|l[b+32>>2],h=0!=(0|(m=0|B(0|(0|l[b+12>>2])-(0|l[b+4>>2]),0|(0|l[b+8>>2])-(0|l[b>>2])))),1==(0|l[y+20>>2])){if(h)for(d=0|y+1076,f=0,h=_;l[h>>2]=(0|l[h>>2])-(0|l[d>>2]),(0|(f=0|f+1))!=(0|m);){h=0|h+4}}else if(h)for(d=0|y+1076,h=_,f=0;l[h>>2]=(0|l[h>>2])-(0|l[d>>2])<<11,(0|(f=0|f+1))!=(0|m);){h=0|h+4}if((t=0|t+1)>>>0>=(h=0|l[g>>2])>>>0)break;b=0|b+52,y=0|y+1080}else u=0|l[h+20>>2],p=0|l[k>>2],h=0;_=0|B(0|(0|l[u+12>>2])-(0|l[u+4>>2]),0|(0|l[u+8>>2])-(0|l[u>>2]));e:do{switch(0|l[p+16>>2]){case 0:break;case 2:if(0|l[p+5608>>2]){if(!(d=0|He(h<<2)))return A=c,0|(a=0);if(h=0|l[g>>2])for(f=0;l[d+(f<<2)>>2]=l[u+32>>2],(0|(f=0|f+1))!=(0|h);){u=0|u+52}else h=0;if(g=0==(0|Gt(0|l[5608+(0|l[k>>2])>>2],_,d,h,0|l[32+(0|l[24+(0|l[e+24>>2])>>2])>>2])),je(d),g)return A=c,0|(a=0)}break;default:if(f=0|l[u+32>>2],d=0|l[u+84>>2],h=0|l[u+136>>2],0|l[20+(0|l[p+5584>>2])>>2]){Pt(f,d,h,_);break e}Dt(f,d,h,_);break e;}}while(0);d=0|16+(h=0|l[l[v>>2]>>2]);e:do{if(0|l[d>>2]){f=0|l[5584+(0|l[k>>2])>>2],h=0|l[h+20>>2],u=0;t:for(;;){switch(0|l[f+20>>2]){case 1:if(!(0|Ei(h))){h=0,u=53;break t}break;case 0:if(!(0|Ti(h))){h=0,u=53;break t}}if((u=0|u+1)>>>0>=(0|l[d>>2])>>>0)break e;f=0|f+1080,h=0|h+52}if(53==(0|u))return A=c,0|h}}while(0);if(f=0|l[k>>2],!(d=0|Hi(1)))return A=c,0|(a=0);do{if(1==(0|l[f+16>>2])){if(0|l[20+(0|l[f+5584>>2])>>2]){h=3,u=8;break}h=3,u=32;break}h=0|l[16+(0|l[e+24>>2])>>2],u=0|l[f+5600>>2]}while(0);if(v=0==(0|ji(d,0|l[l[v>>2]>>2],f,u,h)),Ni(d),v)return A=c,0|(a=0);if(h=0|l[w>>2],l[s>>2]=0,x||(l[a+12>>2]=0),5&r[h+93>>0]){if(!(0|qt(e,i,s,o,a)))return A=c,0|(a=0)}else if(0|l[8+(0|l[k>>2])>>2]){h=0;do{Qt(e,h,1),h=0|h+1}while(h>>>0<(0|l[8+(0|l[k>>2])>>2])>>>0)}}return 0|a&&(l[a+12>>2]=1),(h=0|Qi(0|l[e+24>>2],0|l[e+28>>2]))?(a=0!=(0|Wi(h,0|l[e+36>>2],0|l[l[e+20>>2]>>2],0|l[8+(0|l[e+32>>2])>>2],i,n,o,a,0|l[e+4>>2],0|l[e>>2],0|l[e+16>>2],1)),Ji(h),A=c,0|(a&=1)):(A=c,0|(a=0))}function ri(e,t,i,n,r,o){t|=0,i|=0,n|=0,r|=0,o|=0;var a,s,c=0,h=0,u=0,f=0,d=0,p=0,m=0,b=0,y=0,g=0,v=0;if(s=A,A=0|A+16,f=0|s+8,u=s,c=0|s+12,l[(h=0|36+(e|=0))>>2]=n,b=0|l[e+28>>2],l[(a=0|e+32)>>2]=(0|l[b+76>>2])+(0|5640*n),l[c>>2]=0,!(n=0|Qi(0|l[(y=0|e+24)>>2],b)))return A=s,0|(v=0);if(d=0|e+20,b=0==(0|function(e,t,i,n,r,o,a,s){t|=0,i|=0,n|=0,r|=0,o|=0,a|=0,s|=0;var c=0,h=0,u=0,f=0,d=0,p=0,_=0,m=0,b=0,y=0,g=0,v=0,w=0,x=0,k=0,I=0,S=0,E=0,C=0,M=0,P=0,T=0,D=0,R=0,G=0,O=0,F=0,L=0,Z=0,H=0,N=0,z=0,V=0,U=0,j=0,W=0,Y=0,X=0,Q=0,J=0,q=0,K=0,$=0,ee=0;if(K=A,A=0|A+112,q=0|K+64,Y=0|K+32,W=K,U=0|K+96,j=0|K+92,c=0|l[(e|=0)>>2],V=0|l[(L=0|e+4)>>2],a=0|l[V+76>>2],Z=0|a+(0|5640*t),z=0|1+(0|l[(H=0|a+(0|5640*t)+420)>>2]),!(V=0|Lt(c,V,t)))return A=K,0|($=0);N=0|c+16,F=0|a+(0|5640*t)+12,O=0|i+20,R=0|c+24,D=V,e=o,a=n,T=0;e:for(;;){if(-1==(0|l[D+80>>2])){$=4;break}if(!(G=0|He(l[N>>2]<<2))){$=6;break}if(Mr(0|G,1,0|l[N>>2]<<2),0|Yt(D))for(E=0|D+24,C=0|D+28,M=0|D+36,P=0|D+32,S=a;;){if((0|l[F>>2])>>>0>(0|l[M>>2])>>>0){if(a=0|l[O>>2],t=0|l[E>>2],(0|l[C>>2])>>>0<(0|l[a+(0|52*t)+20>>2])>>>0){if(l[G+(t<<2)>>2]=0,I=0|l[L>>2],l[j>>2]=0,!(0|Xi(I,a,Z,D,U,S,j,e,s))){$=45;break e}if(a=0|l[j>>2],0|l[U>>2]){k=0|e-a,I=0|S+a,l[j>>2]=0,t=0|l[(0|l[O>>2])+(0|52*(0|l[E>>2]))+24>>2],i=0|l[C>>2],o=0|l[(w=0|t+(0|136*i)+24)>>2];t:do{if(o){x=0|S+e,c=0,v=0|t+(0|136*i)+28,t=I,i=o;i:for(;;){if(o=0|l[v+20>>2],h=0|l[P>>2],(0|l[v+8>>2])!=(0|l[v>>2])&&(0|l[v+12>>2])!=(0|l[v+4>>2])&&0!=(0|(J=0|B(0|l[o+(0|40*h)+20>>2],0|l[o+(0|40*h)+16>>2])))){for(i=0,g=0|l[o+(0|40*h)+24>>2];;){if(0|l[(b=0|g+40)>>2]){o=0|l[(y=0|g+44)>>2],h=0|l[g+4>>2];do{if(o){if((0|l[h+((u=0|o+-1)<<5)+8>>2])!=(0|l[h+(u<<5)+20>>2])){h=0|h+(u<<5);break}l[y>>2]=o+1,h=0|h+(o<<5)}else l[y>>2]=1,l[g+36>>2]=0}while(0);if(_=0|g+36,m=0|g+32,p=t,(0|(o=0|l[(d=0|h+28)>>2])+p)>>>0<p>>>0|(0|t+o)>>>0>x>>>0){t=o;break i}for(u=o,f=0|l[_>>2],p=d;;){if((d=0|u+f)>>>0<f>>>0){$=29;break e}if(o=0|l[g>>2],d>>>0>(0|l[m>>2])>>>0){if(!(o=0|Ue(o,d))){$=33;break e}f=0|l[_>>2],u=0|l[p>>2],l[m>>2]=u+f,l[g>>2]=o}if(Br(0|o+f,0|t,0|u),(u=0|l[(o=0|h+8)>>2])?f=0|l[_>>2]:(l[h>>2]=g,f=0|l[_>>2],l[h+4>>2]=f),ee=0|l[p>>2],t=0|t+ee,p=0|l[h+24>>2],d=0|p+u,l[o>>2]=d,p=0|(0|l[b>>2])-p,l[b>>2]=p,l[h+12>>2]=d,f=0|ee+f,l[_>>2]=f,l[(d=0|h+16)>>2]=(0|l[d>>2])+ee,!p)break;if(l[y>>2]=1+(0|l[y>>2]),ee=t,(0|(o=0|l[(p=0|h+60)>>2])+ee)>>>0<ee>>>0|(0|t+o)>>>0>x>>>0){t=o;break i}h=0|h+32,u=o}l[g+48>>2]=l[y>>2]}if(!((i=0|i+1)>>>0<J>>>0))break;g=0|g+56}i=0|l[w>>2]}if(!((c=0|c+1)>>>0<i>>>0)){$=43;break t}v=0|v+36}x=0|l[P>>2],I=0|l[C>>2],ee=0|l[E>>2],l[W>>2]=t,l[W+4>>2]=k,l[W+8>>2]=i,l[W+12>>2]=x,l[W+16>>2]=c,l[W+20>>2]=I,l[W+24>>2]=ee,_e(s,2,21892,W),t=0}else t=I,$=43}while(0);43==(0|$)&&($=0,t=0|t-I,l[j>>2]=t),a=0|t+a}ee=0|l[E>>2],k=0|l[C>>2],t=0|(0|l[R>>2])+(0|52*ee)+36,I=0|l[t>>2],l[t>>2]=k>>>0>I>>>0?k:I,t=a,a=ee}else $=47;}else a=0|l[O>>2],$=47;if(47==(0|$)){if($=0,ee=0|l[L>>2],l[j>>2]=0,!(0|Xi(ee,a,Z,D,U,S,j,e,s)))break e;if(t=0|l[j>>2],0|l[U>>2]){if(v=0|e-t,x=0|l[E>>2],a=0|l[(0|l[O>>2])+(0|52*x)+24>>2],w=0|l[C>>2],l[j>>2]=0,y=0|l[a+(0|136*w)+24>>2]){for(g=0|l[P>>2],c=0,b=0|a+(0|136*w)+28,a=0;;){if(i=0|l[b+20>>2],(0|l[b+8>>2])!=(0|l[b>>2])&&(0|l[b+12>>2])!=(0|l[b+4>>2])&&0!=(0|(X=0|B(0|l[i+(0|40*g)+20>>2],0|l[i+(0|40*g)+16>>2]))))for(m=0|l[i+(0|40*g)+24>>2],i=0,d=a;;){if(f=0|l[(p=0|m+40)>>2]){h=0|l[(_=0|m+44)>>2],a=0|l[m+4>>2];do{if(h){if(u=0|h+1,(0|l[a+((o=0|h+-1)<<5)+8>>2])!=(0|l[a+(o<<5)+20>>2])){o=0|a+(o<<5),u=h;break}l[_>>2]=u,o=0|a+(h<<5)}else l[_>>2]=1,l[m+36>>2]=0,o=a,u=1}while(0);if(a=0|l[o+28>>2],(h=0|a+d)>>>0<d>>>0|h>>>0>v>>>0){$=67;break e}for(d=o;ee=0|l[d+24>>2],l[(I=0|d+8)>>2]=(0|l[I>>2])+ee,f=0|f-ee;){if(u=0|u+1,l[_>>2]=u,a=0|l[d+60>>2],(o=0|a+h)>>>0<h>>>0|o>>>0>v>>>0){$=68;break e}d=0|d+32,h=o}l[p>>2]=0,a=h}else a=d;if(!((i=0|i+1)>>>0<X>>>0))break;m=0|m+56,d=a}if(!((c=0|c+1)>>>0<y>>>0))break;b=0|b+36}l[j>>2]=a}else a=0;t=0|a+t,a=x}else a=0|l[E>>2]}if(0|l[G+(a<<2)>>2]&&(Q=0|(0|l[R>>2])+(0|52*a)+36,0==(0|l[Q>>2]))&&(l[Q>>2]=(0|l[(0|l[O>>2])+(0|52*a)+20>>2])-1),a=0|S+t,e=0|e-t,!(0|Yt(D)))break;S=a}if(je(G),(T=0|T+1)>>>0>(0|l[H>>2])>>>0){$=79;break}D=0|D+232}if(4==(0|$))return Nt(V,z),A=K,0|(ee=0);if(6==(0|$))return Nt(V,z),A=K,0|(ee=0);if(29==(0|$))J=0|l[P>>2],q=0|l[C>>2],ee=0|l[E>>2],l[Y>>2]=u,l[Y+4>>2]=f,l[Y+8>>2]=~u,l[Y+12>>2]=i,l[Y+16>>2]=J,l[Y+20>>2]=c,l[Y+24>>2]=q,l[Y+28>>2]=ee,_e(s,1,21977,Y),$=45;else if(33==(0|$))je(0|l[g>>2]),l[g>>2]=0,l[m>>2]=0,$=45;else if(67==(0|$))l[j>>2]=d,$=69;else if(68==(0|$))l[j>>2]=h,l[p>>2]=f,$=69;else if(79==(0|$))return Nt(V,z),l[r>>2]=a-n,A=K,0|(ee=1);return 45==(0|$)?(Nt(V,z),je(G),A=K,0|(ee=0)):(69==(0|$)&&(l[q>>2]=a,l[q+4>>2]=v,l[q+8>>2]=i,l[q+12>>2]=g,l[q+16>>2]=c,l[q+20>>2]=w,l[q+24>>2]=x,_e(s,1,22076,q)),Nt(V,z),je(G),A=K,0|(ee=0))}(n,0|l[h>>2],0|l[l[d>>2]>>2],t,c,i,r,o)),Ji(n),b)return A=s,0|(v=0);if(n=0|l[l[d>>2]>>2],i=0|l[5584+(0|l[a>>2])>>2],e=0|l[n+20>>2],!(c=0|Hi(0)))return A=s,0|(v=0);r=0|n+16;e:do{if(0|l[r>>2]){for(t=0,n=i;0|zi(c,e,n);){if((t=0|t+1)>>>0>=(0|l[r>>2])>>>0)break e;e=0|e+52,n=0|n+1080}return Ni(c),A=s,0|(v=0)}}while(0);Ni(c),c=0|16+(n=0|l[l[d>>2]>>2]);do{if(0|l[c>>2]){for(r=0|l[5584+(0|l[a>>2])>>2],n=0|l[n+20>>2],e=0,t=0|l[24+(0|l[y>>2])>>2];;){if(i=0|1+(0|l[t+36>>2]),1==(0|l[r+20>>2])){if(!(0|Bi(n,i))){n=0,e=47;break}}else if(!(0|Gi(n,i))){n=0,e=47;break}if((e=0|e+1)>>>0>=(0|l[c>>2])>>>0){e=14;break}r=0|r+1080,n=0|n+52,t=0|t+52}if(14==(0|e)){n=0|l[l[d>>2]>>2];break}if(47==(0|e))return A=s,0|n}}while(0);i=0|l[a>>2],e=0|l[n+20>>2],t=0|l[i+16>>2];do{if(0|t){if(h=0|B(0|(0|l[e+12>>2])-(0|l[e+4>>2]),0|(0|l[e+8>>2])-(0|l[e>>2])),2>=(n=0|l[(c=0|n+16)>>2])>>>0){l[f>>2]=n,_e(o,1,20049,f);break}if((0|B(0|(0|l[e+64>>2])-(0|l[e+56>>2]),0|(0|l[e+60>>2])-(0|l[e+52>>2])))>=(0|h)&&(0|B(0|(0|l[e+116>>2])-(0|l[e+108>>2]),0|(0|l[e+112>>2])-(0|l[e+104>>2])))>=(0|h)){if(2!=(0|t)){if(n=0|l[e+32>>2],1==(0|l[20+(0|l[i+5584>>2])>>2])){Tt(n,0|l[e+84>>2],0|l[e+136>>2],h);break}Rt(n,0|l[e+84>>2],0|l[e+136>>2],h);break}if(!(0|l[(r=0|i+5604)>>2]))break;if(!(i=0|He(n<<2)))return A=s,0|(v=0);if(n=0|l[c>>2])for(t=0;l[i+(t<<2)>>2]=l[e+32>>2],(0|(t=0|t+1))!=(0|n);){e=0|e+52}else n=0;if(b=0==(0|Ot(0|l[r>>2],h,i,n,0|l[32+(0|l[24+(0|l[y>>2])>>2])>>2])),je(i),!b)break;return A=s,0|(n=0)}return _e(o,1,19988,u),A=s,0|(v=0)}}while(0);if(n=0|l[l[d>>2]>>2],!(0|l[(b=0|n+16)>>2]))return A=s,0|(v=1);for(m=0,p=0|l[n+20>>2],d=0|l[5584+(0|l[a>>2])>>2],h=0|l[24+(0|l[y>>2])>>2];;){if(f=0|l[p+24>>2],u=0|l[h+36>>2],o=0|(0|l[f+(0|136*u)+8>>2])-(0|l[f+(0|136*u)>>2]),u=0|(0|l[f+(0|136*u)+12>>2])-(0|l[f+(0|136*u)+4>>2]),f=0|(0|l[p+8>>2])-(0|l[p>>2]),n=0|l[h+24>>2],0|l[h+32>>2]?(n=c=1<<n+-1,c=0|0-c):(n=1<<n,c=0),r=0|n+-1,e=0|l[p+32>>2],n=0!=(0|u),1==(0|l[d+20>>2])){if(n&&(v=0|d+1076,0|o))for(n=0;;){for(t=0,i=e;y=0|(0|l[v>>2])+(0|l[i>>2]),l[i>>2]=(0|y)<(0|c)?c:(0|y)>(0|r)?r:y,(0|(t=0|t+1))!=(0|o);){i=0|i+4}if((0|(n=0|n+1))==(0|u))break;e=0|e+(f<<2)}}else if(n&&(g=0|d+1076,0|o))for(i=0;;){for(n=0,t=e;y=0|dr(+_[t>>2]),y=0|(0|l[g>>2])+y,l[t>>2]=(0|y)<(0|c)?c:(0|y)>(0|r)?r:y,(0|(n=0|n+1))!=(0|o);){t=0|t+4}if((0|(i=0|i+1))==(0|u))break;e=0|e+(f<<2)}if((m=0|m+1)>>>0>=(0|l[b>>2])>>>0){n=1;break}p=0|p+52,d=0|d+1080,h=0|h+52}return A=s,0|n}function oi(e,t,i){t|=0,i|=0;var n=0,o=0,s=0,c=0,h=0,u=0,f=0,d=0,p=0,_=0,m=0,b=0;if(n=0|l[(b=0|24+(e|=0))>>2],u=0==(0|(c=0|l[n+16>>2])))return 0|(b=1);for(f=0|l[n+24>>2],n=h=0|l[20+(0|l[l[e+20>>2]>>2])>>2],e=f,o=0,s=0;_=0|((_=0|l[e+24>>2])>>>3)+(1&0!=(0|7&_)),m=0|(0|l[n+24>>2])+(0|136*(0|l[n+20>>2]))-136,o=0|(0|B(0|B(3==(0|_)?4:_,0|(0|l[m+8>>2])-(0|l[m>>2])),0|(0|l[m+12>>2])-(0|l[m+4>>2])))+o,(0|(s=0|s+1))!=(0|c);){n=0|n+52,e=0|e+52}if((n=o>>>0>i>>>0)|u)return 0|(b=1&(1^n));for(m=0;;){u=0|l[f+24>>2],p=0|l[h+24>>2],c=0|l[f+36>>2],d=0|(o=0|l[p+(0|136*c)+8>>2])-(s=0|l[p+(0|136*c)>>2]),p=0|(i=0|l[p+(0|136*c)+12>>2])-(c=0|l[p+(0|136*c)+4>>2]),_=0|(0|l[h+8>>2])-(0|l[h>>2]),u=0|(u>>>3)+(1&0!=(0|7&u));e:do{switch(0|1073741823&(3==(0|u)?4:u)){case 1:if(e=0|l[h+32>>2],n=0==(0|p)|0==(0|d),0|l[f+32>>2]){if(n)break e;for(u=0|o+(0|B(0|i+-1-c,d))-s,n=e,e=t,o=0;;){for(s=0,i=n,c=e;r[c>>0]=l[i>>2],(0|(s=0|s+1))!=(0|d);){i=0|i+4,c=0|c+1}if((0|(o=0|o+1))==(0|p))break;n=0|n+(_<<2),e=0|e+d}t=0|t+u;break e}if(n)break e;for(u=0|o+(0|B(0|i+-1-c,d))-s,c=0,o=t;;){for(n=0,s=e,i=o;r[i>>0]=l[s>>2],(0|(n=0|n+1))!=(0|d);){s=0|s+4,i=0|i+1}if((0|(c=0|c+1))==(0|p))break;e=0|e+(_<<2),o=0|o+d}t=0|t+u;break e;case 2:if(n=0|l[h+32>>2],e=0==(0|p)|0==(0|d),0|l[f+32>>2]){if(e)break e;for(c=0|t+((0|B(0|i+-1-c,0|(u=o<<1)-(s<<=1)))+u-s),s=0;;){for(e=t,o=n,i=0;a[e>>1]=l[o>>2],(0|(i=0|i+1))!=(0|d);){e=0|e+2,o=0|o+4}if((0|(s=0|s+1))==(0|p)){t=c;break}t=0|t+(d<<1),n=0|n+(_<<2)}}else{if(e)break e;for(c=0|t+((0|B(0|i+-1-c,0|(u=o<<1)-(o=s<<1)))+u-o),o=0;;){for(e=n,s=0,i=t;a[i>>1]=l[e>>2],(0|(s=0|s+1))!=(0|d);){e=0|e+4,i=0|i+2}if((0|(o=0|o+1))==(0|p)){t=c;break}n=0|n+(_<<2),t=0|t+(d<<1)}}break;case 4:if(!(0==(0|p)|0==(0|d)))for(c=0|t+((0|B(0|i+-1-c,0|(u=o<<2)-(n=s<<2)))+u-n),n=0|l[h+32>>2],s=0;;){for(e=t,o=n,i=0;l[e>>2]=l[o>>2],(0|(i=0|i+1))!=(0|d);){e=0|e+4,o=0|o+4}if((0|(s=0|s+1))==(0|p)){t=c;break}t=0|t+(d<<2),n=0|n+(_<<2)}}}while(0);if((m=0|m+1)>>>0>=(0|l[16+(0|l[b>>2])>>2])>>>0){t=1;break}h=0|h+52,f=0|f+52}return 0|t}function ai(e){var t=0,i=0,n=0,r=0,o=0;if(t=0|l[24+(e|=0)>>2],!(r=0|l[t+16>>2]))return 0|(r=0);for(n=0|l[20+(0|l[l[e+20>>2]>>2])>>2],t=0|l[t+24>>2],e=0,i=0;o=0|((o=0|l[t+24>>2])>>>3)+(1&0!=(0|7&o)),e=0|(0|B(0|B(0|(0|l[n+12>>2])-(0|l[n+4>>2]),0|(0|l[n+8>>2])-(0|l[n>>2])),3==(0|o)?4:o))+e,!((i=0|i+1)>>>0>=r>>>0);){n=0|n+52,t=0|t+52}return 0|e}function si(e,t,i){t|=0,i|=0;var n,o,s=0,c=0,u=0,d=0,p=0,_=0,m=0;if(n=0|l[24+(e|=0)>>2],_=0==(0|(p=0|l[(o=0|n+16)>>2])))s=0;else for(c=0|l[20+(0|l[l[e+20>>2]>>2])>>2],u=0|l[n+24>>2],s=0,d=0;m=0|((m=0|l[u+24>>2])>>>3)+(1&0!=(0|7&m)),s=0|(0|B(0|B(0|(0|l[c+12>>2])-(0|l[c+4>>2]),0|(0|l[c+8>>2])-(0|l[c>>2])),3==(0|m)?4:m))+s,(0|(d=0|d+1))!=(0|p);){c=0|c+52,u=0|u+52}if((s=(0|s)!=(0|i))|_)return 0|(m=1&(1^s));for(e=0|l[20+(0|l[l[e+20>>2]>>2])>>2],i=0|l[n+24>>2],_=0;;){m=0|l[i+24>>2],c=0|(0|l[e+8>>2])-(0|l[e>>2]),u=0|(0|l[e+12>>2])-(0|l[e+4>>2]),p=0|B(u,c),m=0|(m>>>3)+(1&0!=(0|7&m));e:do{switch(0|1073741823&(3==(0|m)?4:m)){case 1:if(c=0|l[e+32>>2],s=0!=(0|p),0|l[i+32>>2]){if(!s)break e;for(s=c,c=t,u=0;l[s>>2]=r[c>>0],(0|(u=0|u+1))!=(0|p);){s=0|s+4,c=0|c+1}t=0|t+p;break e}if(!s)break e;for(u=0,s=c,c=t;l[s>>2]=h[c>>0],(0|(u=0|u+1))!=(0|p);){s=0|s+4,c=0|c+1}t=0|t+p;break e;case 2:if(s=0|l[e+32>>2],d=0!=(0|p),0|l[i+32>>2]){if(!d)break e;for(u=0|t+(0|B(u<<1,c)),c=0;;){if(l[s>>2]=a[t>>1],(0|(c=0|c+1))==(0|p)){t=u;break}t=0|t+2,s=0|s+4}}else{if(!d)break e;for(u=0|t+(0|B(u<<1,c)),c=0;;){if(l[s>>2]=f[t>>1],(0|(c=0|c+1))==(0|p)){t=u;break}t=0|t+2,s=0|s+4}}break;case 4:if(p)for(u=0|t+(0|B(u<<2,c)),c=0|l[e+32>>2],s=0;;){if(l[c>>2]=l[t>>2],(0|(s=0|s+1))==(0|p)){t=u;break}c=0|c+4,t=0|t+4}}}while(0);if((_=0|_+1)>>>0>=(0|l[o>>2])>>>0){t=1;break}e=0|e+52,i=0|i+52}return 0|t}function li(e,t,i){e|=0,t|=0,i|=0;var n,r,o,a=0,s=0,c=0,h=0,u=0,f=0,d=0,p=0,_=0,m=0,b=0,y=0,g=0;if(o=A,A=0|A+288,u=0|o+16,c=0|o+8,r=0|o+152,g=0|o+24,!(n=0|Ne(1,20)))return _e(i,1,20123,o),A=o,0|(g=0);for(l[n>>2]=e,l[(f=0|n+4)>>2]=t,l[r>>2]=e,l[g>>2]=t,l[(h=0|n+8)>>2]=0,y=0,s=0;b=0|B(t,e),e=0|(0|e+1)/2,l[r+((a=0|y+1)<<2)>>2]=e,t=0|(0|t+1)/2,l[g+(a<<2)>>2]=t,s=0|s+b,!(1>=b>>>0);){y=a}if(l[h>>2]=s,!s)return je(n),_e(i,2,20161,c),A=o,0|(g=0);if(t=0|Ne(s,16),l[n+12>>2]=t,!t)return _e(i,1,20211,u),je(n),A=o,0|(g=0);if(b=0|l[h>>2],l[n+16>>2]=b<<4,e=0|t+((0|B(0|l[f>>2],0|l[n>>2]))<<4),y){m=0,s=e,a=e,e=t;do{p=0|l[g+(m<<2)>>2];e:do{if(0<(0|p)){if(0>=(0|(_=0|l[r+(m<<2)>>2])))for(h=0|p+-1,i=0;;){if(c=(d=0!=(0|1&i)|(0|i)==(0|h))?a:s,s=d?a:0|s+(_<<4),(0|(i=0|i+1))>=(0|p)){a=c;break e}a=c}f=(0|_+2+(-3<(0|(f=~_))?f:-3))>>>1,d=0|p+-1,u=0;do{for(h=0|a+16,i=_;;){if(l[e>>2]=a,c=0|e+16,1==(0|i)){e=c;break}if(l[c>>2]=a,e=0|e+32,!(2<(0|i)))break;i=0|i+-2,a=0|a+16}h=0|h+(f<<4),a=(i=0!=(0|1&u)|(0|u)==(0|d))?h:s,s=i?h:0|s+(_<<4),u=0|u+1}while((0|u)<(0|p))}}while(0);m=0|m+1}while((0|m)!=(0|y))}else e=t;if(l[e>>2]=0,!b)return A=o,0|(g=n);for(e=0;l[t+4>>2]=999,l[t+8>>2]=0,l[t+12>>2]=0,(0|(e=0|e+1))!=(0|b);){t=0|t+16}return A=o,0|n}function ci(e){var t,i=0;if((e|=0)&&(t=0|l[e+8>>2]))for(i=0,e=0|l[e+12>>2];l[e+4>>2]=999,l[e+8>>2]=0,l[e+12>>2]=0,!((i=0|i+1)>>>0>=t>>>0);){e=0|e+16}}function hi(e,t,i,n){t|=0,i|=0,n|=0;var r,o,a=0,s=0,c=0,h=0,u=0,f=0,d=0,p=0,_=0,m=0,b=0,y=0;if(o=A,A=0|A+272,d=o,r=0|o+136,y=0|o+8,!(e|=0))return A=o,0|(y=0);if(f=0|e+4,(0|l[e>>2])==(0|t)&&(0|l[f>>2])==(0|i))a=0|e+8;else{for(l[e>>2]=t,l[f>>2]=i,l[r>>2]=t,l[y>>2]=i,l[(a=0|e+8)>>2]=0,b=0,s=i,c=t,u=0;m=0|B(s,c),c=0|(0|c+1)/2,l[r+((h=0|b+1)<<2)>>2]=c,s=0|(0|s+1)/2,l[y+(h<<2)>>2]=s,u=0|u+m,!(1>=m>>>0);){b=h}if(l[a>>2]=u,!u)return 0|(s=0|l[(a=0|e+12)>>2])&&(je(s),l[a>>2]=0),je(e),A=o,0|(y=0);c=u<<4,h=0|e+16,u=0|e+12;do{if(c>>>0>(0|l[h>>2])>>>0){if(0|(s=0|Ue(0|l[u>>2],c))){l[u>>2]=s,Mr(0|s+(i=0|l[h>>2]),0,0|c-i),l[h>>2]=c,i=0|l[f>>2],t=0|l[e>>2];break}return _e(n,1,20255,d),0|(a=0|l[u>>2])&&(je(a),l[u>>2]=0),je(e),A=o,0|(y=0)}}while(0);if(t=0|(s=0|l[u>>2])+((0|B(i,t))<<4),b){i=t,m=0;do{p=0|l[y+(m<<2)>>2];e:do{if(0<(0|p)){if(0>=(0|(_=0|l[r+(m<<2)>>2])))for(u=0|p+-1,h=0;;){if(c=(d=0!=(0|1&h)|(0|h)==(0|u))?t:0|i+(_<<4),t=d?t:i,(0|(h=0|h+1))>=(0|p)){i=c;break e}i=c}for(f=(0|_+2+(-3<(0|(f=~_))?f:-3))>>>1,d=0|p+-1,n=0;;){for(u=0|t+16,h=_;;){if(l[s>>2]=t,c=0|s+16,1==(0|h)){s=c;break}if(l[c>>2]=t,s=0|s+32,!(2<(0|h)))break;h=0|h+-2,t=0|t+16}if(t=0|u+(f<<4),c=(u=0!=(0|1&n)|(0|n)==(0|d))?t:0|i+(_<<4),t=u?t:i,(0|(n=0|n+1))>=(0|p)){i=c;break}i=c}}}while(0);m=0|m+1}while((0|m)!=(0|b))}l[s>>2]=0}if(!(t=0|l[a>>2]))return A=o,0|(y=e);for(a=0,s=0|l[e+12>>2];l[s+4>>2]=999,l[s+8>>2]=0,l[s+12>>2]=0,(0|(a=0|a+1))!=(0|t);){s=0|s+16}return A=o,0|e}function ui(e){var t,i;(e|=0)&&(0|(i=0|l[(t=0|e+12)>>2])&&(je(i),l[t>>2]=0),je(e))}function fi(e,t,i){if(t|=0,i|=0,e=0|(0|l[12+(e|=0)>>2])+(t<<4))for(;;){if((0|l[(t=0|e+4)>>2])<=(0|i)){e=4;break}if(l[t>>2]=i,!(e=0|l[e>>2])){e=4;break}}}function di(e,t,i,n){e|=0,i|=0,n|=0;var r,o,a=0,s=0,c=0;if(o=A,A=0|A+128,r=o,i=0|(0|l[12+(t|=0)>>2])+(i<<4),t=0|l[i>>2])for(a=0,s=t;;){if(c=0|a+1,l[r+(a<<2)>>2]=i,!(t=0|l[s>>2])){t=0,i=s;break}i=s,a=c,s=t}else t=0,c=0;for(;;){(0|t)>(0|(a=0|l[(s=0|i+8)>>2]))?l[s>>2]=t:t=a;e:do{if((0|t)<(0|n)){for(a=0|i+4;!((0|t)>=(0|l[a>>2]));){if(ki(e,0,1),(0|(t=0|t+1))>=(0|n))break e}0|l[(i=0|i+12)>>2]||(ki(e,1,1),l[i>>2]=1)}}while(0);if(l[s>>2]=t,!c)break;i=0|l[r+((s=0|c+-1)<<2)>>2],c=s}A=o}function pi(e,t,i,n){e|=0,i|=0,n|=0;var r,o,a=0,s=0,c=0;if(o=A,A=0|A+128,r=o,t=0|(0|l[12+(t|=0)>>2])+(i<<4),i=0|l[t>>2])for(a=0;;){if(s=0|a+1,l[r+(a<<2)>>2]=t,!(t=0|l[i>>2])){a=0,t=i;break}c=i,a=s,i=t,t=c}else a=0,s=0;for(;;){(0|a)>(0|(i=0|l[(c=0|t+8)>>2]))&&(l[c>>2]=a,i=a),a=0|t+4;e:do{if((0|i)<(0|n)){for(t=i;;){if((0|t)>=(0|l[a>>2]))break e;if(0|Ii(e,1))break;if((0|(t=0|t+1))>=(0|n))break e}l[a>>2]=t}else t=i}while(0);if(l[c>>2]=t,!s)break;a=t,t=0|l[r+((c=0|s+-1)<<2)>>2],s=c}return A=o,0|(0|l[a>>2])<(0|n)}function _i(){var e=0,t=0;return(e=0|Ne(1,12))?(l[e+4>>2]=10,t=0|Ne(10,4),l[e+8>>2]=t,0|t?0|(t=e):(je(e),0|(t=0))):0|(e=0)}function mi(e){var t;(e|=0)&&(0|(t=0|l[e+8>>2])&&je(t),je(e))}function bi(e,t,i){t|=0,i|=0;var n,r,o,a=0,s=0;o=A,A=0|A+16,r=o,s=0|l[(n=0|4+(e|=0))>>2],a=0|l[e>>2];do{if((0|s)==(0|a)){if(s=0|s+10,l[n>>2]=s,0|(s=0|Ue(0|l[(a=0|e+8)>>2],s<<2))){l[a>>2]=s,a=0|l[e>>2];break}return je(0|l[a>>2]),l[n>>2]=0,l[e>>2]=0,_e(i,1,20303,r),A=o,0|(t=0)}s=0|l[e+8>>2]}while(0);return l[s+(a<<2)>>2]=t,l[e>>2]=a+1,A=o,0|(t=1)}function yi(e){return 0|l[(e|=0)>>2]}function gi(e){return 0|l[8+(e|=0)>>2]}function vi(e){l[(e|=0)>>2]=0}function Ai(){return 0|He(20)}function wi(e){(e|=0)&&je(e)}function xi(e){return 0|(0|l[8+(e|=0)>>2])-(0|l[e>>2])}function ki(e,t,i){e|=0,t|=0;var n,o,a,s,c=0,h=0,u=0,f=0;if(i|=0){a=0|e+12,s=0|e+8,n=0|e+4,u=0|i+-1,e=0|l[(o=0|e+16)>>2];do{f=1&t>>>u,e||(e=65280&(c=0|l[a>>2])<<8,l[a>>2]=e,e=65280==(0|e)?7:8,l[o>>2]=e,h=0|l[s>>2],(0|l[n>>2])>>>0>h>>>0&&(l[s>>2]=h+1,r[h>>0]=c,e=0|l[o>>2])),e=0|e+-1,l[o>>2]=e,l[a>>2]=l[a>>2]|f<<e,u=0|u+-1}while(u>>>0<i>>>0)}}function Ii(e,t){e|=0;var i,n,r,o=0,a=0,s=0,c=0,u=0;if(!(t|=0))return 0|(u=0);n=0|e+16,r=0|e+12,u=0|e+8,i=0|e+4,c=0|t+-1,e=0,o=0|l[r>>2],a=0|l[n>>2];do{a||(o=65280&o<<8,l[r>>2]=o,a=65280==(0|o)?7:8,l[n>>2]=a,s=0|l[u>>2],(0|l[i>>2])>>>0>s>>>0&&(l[u>>2]=s+1,o=0|o|h[s>>0],l[r>>2]=o)),a=0|a+-1,l[n>>2]=a,e|=(1&o>>>a)<<c,c=0|c+-1}while(c>>>0<t>>>0);return 0|e}function Si(e){var t=0,i=0,n=0,r=0,o=0;t=0|l[(o=0|12+(e|=0))>>2];do{if(255==(0|255&t)){if(r=65280&t<<8,l[o>>2]=r,l[(t=0|e+16)>>2]=65280==(0|r)?7:8,n=0|l[(i=0|e+8)>>2],(0|l[e+4>>2])>>>0>n>>>0){l[i>>2]=n+1,l[o>>2]=0|r|h[n>>0];break}return 0|(o=0)}t=0|e+16}while(0);return l[t>>2]=0,0|(o=1)}function Ei(e){return 0|Ci(e|=0,1)}function Ci(e,t){t|=0;var i,n=0,r=0,o=0,a=0,s=0,c=0,h=0,u=0,f=0,d=0,p=0,_=0,m=0,b=0,y=0,g=0,v=0,A=0,w=0,x=0,k=0,I=0;if(I=0|(0|l[8+(e|=0)>>2])-(0|l[e>>2]),n=0|(s=0|l[e+16>>2])-1,i=0|l[e+32>>2],a=0|(e=0|l[e+24>>2])+(0|136*n),o=0==(0|n))e=0;else{r=0;do{x=e,e=0|e+136,r=(k=r>>>0<(k=0|(0|l[x+144>>2])-(0|l[e>>2]))>>>0?k:r)>>>0<(x=0|(0|l[x+148>>2])-(0|l[x+140>>2]))>>>0?x:k,n=0|n+-1}while(0!=(0|n));e=r<<2}if(!(0==(0|e)|0!=(0|(k=0|He(e)))))return 0|(I=0);if(!o)for(x=0|k+4,g=0|s+-2;;){h=a,a=0|a+-136,w=0|l[h>>2],y=0|(0|l[h+8>>2])-w,f=0|l[h+4>>2],v=0|(0|l[h+12>>2])-f,A=0|(0|l[h+-128>>2])-(0|l[a>>2]),w&=1,f&=1,d=0|v-(h=0|(0|l[h+-124>>2])-(0|l[h+-132>>2])),b=0<(0|y);e:do{if(b){if(c=0==(0|h),p=0==(0|d),_=0|x+(0-f<<2),m=0|B(h,I),u=0|k+(f<<2),0<(0|v))for(s=0;;){o=0|i+(s<<2),e=0;do{r=0|o+((0|B(e,I))<<2),l[k+(e<<2)>>2]=l[r>>2],e=0|e+1}while((0|e)!=(0|v));if(oo[3&t](k,d,h,f),!c)for(e=o,n=h,r=u;n=0|n+-1,l[e>>2]=l[r>>2],n;){e=0|e+(I<<2),r=0|r+8}if(!p)for(e=0|o+(m<<2),n=d,r=_;n=0|n+-1,l[e>>2]=l[r>>2],n;){e=0|e+(I<<2),r=0|r+8}if((0|(s=0|s+1))==(0|y))break e}if(c)for(e=0;;){if(oo[3&t](k,d,0,f),!p)for(n=0|i+(e<<2)+(m<<2),r=d,o=_;r=0|r+-1,l[n>>2]=l[o>>2],r;){n=0|n+(I<<2),o=0|o+8}if((0|(e=0|e+1))==(0|y))break e}else s=0;do{for(o=0|i+(s<<2),oo[3&t](k,d,h,f),e=o,n=h,r=u;n=0|n+-1,l[e>>2]=l[r>>2],n;){e=0|e+(I<<2),r=0|r+8}if(!p)for(e=0|o+(m<<2),n=d,r=_;n=0|n+-1,l[e>>2]=l[r>>2],n;){e=0|e+(I<<2),r=0|r+8}s=0|s+1}while((0|s)!=(0|y))}}while(0);u=0|y-A;e:do{if(0<(0|v)){if(c=0<(0|A),h=0|k+(w<<2),f=0<(0|u),d=0|x+(0-w<<2),b)for(s=0;;){o=0|i+((0|B(s,I))<<2),e=0;do{l[k+(e<<2)>>2]=l[o+(e<<2)>>2],e=0|e+1}while((0|e)!=(0|y));if(oo[3&t](k,u,A,w),c)for(e=o,n=0,r=h;l[e>>2]=l[r>>2],(0|(n=0|n+1))!=(0|A);){e=0|e+4,r=0|r+8}if(f)for(e=0|o+(A<<2),n=0,r=d;l[e>>2]=l[r>>2],(0|(n=0|n+1))!=(0|u);){e=0|e+4,r=0|r+8}if((0|(s=0|s+1))==(0|v))break e}if(c)s=0;else for(e=0;;){if(oo[3&t](k,u,A,w),f)for(n=0|i+((0|B(e,I))<<2)+(A<<2),r=0,o=d;l[n>>2]=l[o>>2],(0|(r=0|r+1))!=(0|u);){n=0|n+4,o=0|o+8}if((0|(e=0|e+1))==(0|v))break e}do{for(o=0|i+((0|B(s,I))<<2),oo[3&t](k,u,A,w),e=o,n=0,r=h;l[e>>2]=l[r>>2],(0|(n=0|n+1))!=(0|A);){e=0|e+4,r=0|r+8}if(f)for(e=0|o+(A<<2),n=0,r=d;l[e>>2]=l[r>>2],(0|(n=0|n+1))!=(0|u);){e=0|e+4,r=0|r+8}s=0|s+1}while((0|s)!=(0|v))}}while(0);if(!g)break;g=0|g+-1}return je(k),0|(I=1)}function Bi(e,t){t|=0;var i,n,r,o=0,a=0,s=0,c=0,h=0,u=0,f=0,d=0,p=0,_=0,m=0,b=0,y=0,g=0,v=0,w=0,x=0,k=0,I=0,S=0,E=0,C=0,M=0,P=0,T=0,D=0;if(r=A,A=0|A+32,n=0|r+16,D=r,h=0|l[24+(e|=0)>>2],c=0|(0|l[h+8>>2])-(0|l[h>>2]),u=0|(0|l[h+12>>2])-(0|l[h+4>>2]),i=0|(0|l[e+8>>2])-(0|l[e>>2]),1==(0|t))return A=r,0|(D=1);if(s=0==(0|(f=0|t+-1)))t=0;else{t=h,o=0,a=f;do{P=t,t=0|t+136,o=(T=o>>>0<(T=0|(0|l[P+144>>2])-(0|l[t>>2]))>>>0?T:o)>>>0<(P=0|(0|l[P+148>>2])-(0|l[P+140>>2]))>>>0?P:T,a=0|a+-1}while(0!=(0|a));t=o<<2}if(T=0|ze(t),l[n>>2]=T,!T)return A=r,0|(D=0);if(l[D>>2]=T,!s){x=0|e+32,k=0|n+8,I=0|D+8,S=0|n+4,E=0|n+12,C=0|D+4,M=0|D+12,P=0|T+4;do{if(w=0|l[x>>2],y=h,h=0|h+136,l[k>>2]=c,l[I>>2]=u,o=0|l[h>>2],m=c,c=0|(0|l[y+144>>2])-o,t=0|l[(b=0|y+140)>>2],v=u,u=0|(0|l[y+148>>2])-t,y=0|c-m,l[S>>2]=y,o=0|(0|o)%2,l[E>>2]=o,!(g=0==(0|u))){for(d=c<<2,p=0==(0|m),_=0==(0|y),t=0;;){if(e=0|w+((0|B(t,i))<<2),p)a=0;else{for(o=0|T+(o<<2),a=e,s=m;s=0|s+-1,l[o>>2]=l[a>>2],s;){o=0|o+8,a=0|a+4}o=0|l[E>>2],a=m}if(!_)for(s=0|P+(0-o<<2),o=0|e+(a<<2),a=y;a=0|a+-1,l[s>>2]=l[o>>2],a;){s=0|s+8,o=0|o+4}if(Mi(n),Br(0|e,0|T,0|d),(0|(t=0|t+1))==(0|u))break;o=0|l[E>>2]}t=0|l[b>>2]}_=0|u-v,l[C>>2]=_,o=0|(0|t)%2,l[M>>2]=o;e:do{if(0|c){if(d=0==(0|v),p=0==(0|_),g)for(t=0;;){if(e=0|w+(t<<2),d)a=0;else{for(o=0|T+(o<<2),a=e,s=v;s=0|s+-1,l[o>>2]=l[a>>2],s;){o=0|o+8,a=0|a+(i<<2)}o=0|l[M>>2],a=v}if(!p)for(s=0|P+(0-o<<2),o=0|e+((0|B(a,i))<<2),a=_;a=0|a+-1,l[s>>2]=l[o>>2],a;){s=0|s+8,o=0|o+(i<<2)}if(Mi(D),(0|(t=0|t+1))==(0|c))break e;o=0|l[M>>2]}else t=0;for(;;){if(e=0|w+(t<<2),d)a=0;else{for(o=0|T+(o<<2),a=e,s=v;s=0|s+-1,l[o>>2]=l[a>>2],s;){o=0|o+8,a=0|a+(i<<2)}o=0|l[M>>2],a=v}if(!p)for(s=0|P+(0-o<<2),o=0|e+((0|B(a,i))<<2),a=_;a=0|a+-1,l[s>>2]=l[o>>2],a;){s=0|s+8,o=0|o+(i<<2)}Mi(D),o=0;do{g=0|w+((0|B(o,i))+t<<2),l[g>>2]=l[T+(o<<2)>>2],o=0|o+1}while((0|o)!=(0|u));if((0|(t=0|t+1))==(0|c))break e;o=0|l[M>>2]}}}while(0);f=0|f+-1}while(0!=(0|f))}return Ve(T),A=r,0|(D=1)}function Mi(e){var t,i,n,r=0,o=0,a=0;if(t=0|l[(e|=0)>>2],i=0|l[e+4>>2],n=0|l[e+8>>2],0|l[e+12>>2]){if(1==(0|i)&0==(0|n))l[t>>2]=0|(0|l[t>>2])/2;else{if(0<(0|n)){r=0|i+-1,e=0;do{o=e,e=0|e+1,l[(a=0|t+((1|o<<1)<<2))>>2]=(0|l[a>>2])-(2+(0|l[t+(((0|o)>=(0|i)?r:o)<<1<<2)>>2])+(0|l[t+(((0|e)>=(0|i)?r:e)<<1<<2)>>2])>>2)}while((0|e)!=(0|n))}if(!(0>=(0|i))){r=0|n+-1,e=0;do{l[(a=0|t+(e<<1<<2))>>2]=((0|l[t+((1>(0|e)?1:0|(((0|e)>(0|n)?n:e)<<1)-1)<<2)>>2])+(0|l[t+((1|((0|e)>=(0|n)?r:e)<<1)<<2)>>2])>>1)+(0|l[a>>2]),e=0|e+1}while((0|e)!=(0|i))}}}else{if(!((o=0<(0|i))|1<(0|n)))return;if(0<(0|n)){r=0|i+-1,e=0;do{l[(a=0|t+(e<<1<<2))>>2]=(0|l[a>>2])-(2+(0|l[t+((1>(0|e)?1:0|(((0|e)>(0|i)?i:e)<<1)-1)<<2)>>2])+(0|l[t+((1|((0|e)>=(0|i)?r:e)<<1)<<2)>>2])>>2),e=0|e+1}while((0|e)!=(0|n))}if(!o)return;r=0|n+-1,e=0;do{o=e,e=0|e+1,l[(a=0|t+((1|o<<1)<<2))>>2]=((0|l[t+(((0|e)>=(0|n)?r:e)<<1<<2)>>2])+(0|l[t+(((0|o)>=(0|n)?r:o)<<1<<2)>>2])>>1)+(0|l[a>>2])}while((0|e)!=(0|i))}}function Pi(e,t){return+ +b[56+(0|80*(t|=0))+((e|=0)<<3)>>3]}function Ti(e){return 0|Ci(e|=0,2)}function Di(e,t){return+ +b[376+(0|80*(t|=0))+((e|=0)<<3)>>3]}function Ri(e,t){t|=0;var i,n,r,o,a=0,s=0,c=0,h=0,u=0,f=0,d=0;if(n=0|(0|3*(0|l[(i=0|4+(e|=0))>>2]))-2){r=0|e+20,o=0|e+24,d=0;do{if(d?(s=0|1+(0|((c=0|d+-1)>>>0)%3),c=0|1+(0|(c>>>0)/3)):(s=0,c=0),h=0==(0|s)|0==(0|l[r>>2])?0:2>(0|s+-1)>>>0?1:2,a=0|l[o>>2]?+(0|1<<h)/+b[376+(0|80*s)+((0|l[i>>2])+~c<<3)>>3]:1,u=0|h+t,1<(0|(f=~~+I(8192*a)))){for(s=f,h=0;;){if(!(3<s>>>0)){s=f,c=0;break}s>>>=1,h=0|h+1}for(;3<s>>>0;){s>>>=1,c=0|c+1}c=0|10-c,s=0|h+-12}else c=11,s=-13;l[e+28+(d<<3)+4>>2]=2047&(0>(0|c)?f>>0-c:f<<c),l[e+28+(d<<3)>>2]=u-s,d=0|d+1}while((0|d)!=(0|n))}}function Gi(e,t){t|=0;var i,n,r,o,a=0,s=0,c=0,h=0,u=0,f=0,d=0,p=0,_=0,m=0,b=0,y=0,g=0,v=0,w=0,x=0,k=0,I=0,S=0,E=0,C=0,M=0,P=0,T=0,D=0,R=0,G=0,O=0,F=0,L=0,Z=0,H=0,N=0,z=0,V=0,U=0,j=0,W=0;if(o=A,A=0|A+32,r=0|o+16,j=o,d=0|l[24+(e|=0)>>2],h=0|l[d+8>>2],u=0|l[d>>2],b=0|l[d+12>>2],y=0|l[d+4>>2],n=0|(_=0|l[(i=0|e+8)>>2])-(m=0|l[e>>2]),c=0==(0|(f=0|t+-1)))t=80;else{t=d,a=0,s=f;do{z=t,t=0|t+136,a=(V=a>>>0<(V=0|(0|l[z+144>>2])-(0|l[t>>2]))>>>0?V:a)>>>0<(z=0|(0|l[z+148>>2])-(0|l[z+140>>2]))>>>0?z:V,s=0|s+-1}while(0!=(0|s));t=0|80+(a<<4)}if(p=0|ze(t),l[r>>2]=p,!p)return A=o,0|(j=0);l[j>>2]=p;e:do{if(c)t=p;else for(M=0|e+32,P=0|e+12,T=0|e+4,D=0|r+8,R=0|j+8,G=0|r+4,O=0|r+12,F=n<<2,L=n<<1,Z=0|3*n,H=0|j+4,N=0|j+12,z=_-m<<2,V=m-_<<2,g=0|h-u,a=f,t=p,s=p,h=_,c=m,k=0|b-y,b=p;;){I=0|l[M>>2],c=0|B(0|(0|l[P>>2])-(0|l[T>>2]),0|h-c),l[D>>2]=g,l[R>>2]=k,S=0|d+136,E=0|(y=0|l[d+144>>2])-(v=0|l[S>>2]),C=0|(u=0|l[d+148>>2])-(h=0|l[(m=0|d+140)>>2]),l[G>>2]=E-g,l[O>>2]=0|(0|v)%2;do{if(3<(0|C)){if(_=0|I+(F<<2)+((0|B(z,p=(0|u+4+(-8<(0|(p=0|h+-1-u))?p:-8)-h)>>>2))<<2),p=0|B(V,p),!(0<(0|E))){for(h=C,u=c,f=I;Oi(r,f,n,u),Fi(r),7<(0|h);){h=0|h+-4,u=0|u-F,f=0|f+(F<<2)}c=0|V+c+p,u=_;break}for(h=C,u=c,f=I;;){Oi(r,f,n,u),Fi(r),d=E;do{x=d,l[f+((d=0|d+-1)<<2)>>2]=l[b+(d<<4)>>2],l[f+(d+n<<2)>>2]=l[b+(d<<4)+4>>2],l[f+(d+L<<2)>>2]=l[b+(d<<4)+8>>2],l[f+(d+Z<<2)>>2]=l[b+(d<<4)+12>>2]}while(1<(0|x));if(!(7<(0|h)))break;h=0|h+-4,u=0|u-F,f=0|f+(F<<2)}c=0|V+c+p,u=_}else u=I}while(0);t:do{if(3&C){if(Oi(r,u,n,c),Fi(r),c=0|E+-1,0>=(0|E)){_=0|C-k,l[H>>2]=_,p=0|(0|l[m>>2])%2,l[N>>2]=p,m=I;break}switch(h=0|l[r>>2],3&C){case 3:for(t=c;;){if(l[u+(t+L<<2)>>2]=l[h+(t<<4)+8>>2],l[u+(t+n<<2)>>2]=l[h+(t<<4)+4>>2],l[u+(t<<2)>>2]=l[h+(t<<4)>>2],!(0<(0|t))){t=h,x=h,U=22;break}t=0|t+-1}break;case 2:for(t=c;;){if(l[u+(t+n<<2)>>2]=l[h+(t<<4)+4>>2],l[u+(t<<2)>>2]=l[h+(t<<4)>>2],!(0<(0|t))){t=h,x=h,U=22;break}t=0|t+-1}break;case 1:for(t=c;;){if(l[u+(t<<2)>>2]=l[h+(t<<4)>>2],!(0<(0|t))){t=h,x=h,U=22;break}t=0|t+-1}break;default:t=h,x=h,U=22;break t;}}else x=b,U=22}while(0);do{if(22==(0|U))if(U=0,w=0|C-k,l[H>>2]=w,g=0|(0|l[m>>2])%2,l[N>>2]=g,3<(0|E)){if(y=-4&y+4+(-8<(0|(b=0|v+-1-y))?b:-8)-v,!C){for(p=0<(0|k),_=0|B(k,n),m=0|0-g,b=0<(0|w),f=I,d=E;;){if(h=0|(s=0|l[j>>2])+(g<<4),p){c=0;do{v=0|h+(c<<1<<4),u=0|f+((0|B(c,n))<<2),l[v>>2]=l[u>>2],l[v+4>>2]=l[u+4>>2],l[v+8>>2]=l[u+8>>2],l[v+12>>2]=l[u+12>>2],c=0|c+1}while((0|c)!=(0|k))}if(h=0|f+(_<<2),u=0|s+16+(m<<4),b){c=0;do{v=0|u+(c<<1<<4),W=0|h+((0|B(c,n))<<2),l[v>>2]=l[W>>2],l[v+4>>2]=l[W+4>>2],l[v+8>>2]=l[W+8>>2],l[v+12>>2]=l[W+12>>2],c=0|c+1}while((0|c)!=(0|w))}if(Fi(j),!(7<(0|d)))break;f=0|f+16,d=0|d+-4}m=0|I+16+(y<<2),p=g,_=w,b=x;break}for(p=0<(0|(d=0|l[R>>2])),_=0|B(d,n),m=0|0-g,b=0<(0|w),u=I,f=E;;){if(h=0|s+(g<<4),p){c=0;do{W=0|h+(c<<1<<4),k=0|u+((0|B(c,n))<<2),l[W>>2]=l[k>>2],l[W+4>>2]=l[k+4>>2],l[W+8>>2]=l[k+8>>2],l[W+12>>2]=l[k+12>>2],c=0|c+1}while((0|c)!=(0|d))}if(h=0|u+(_<<2),c=0|s+16+(m<<4),b){s=0;do{W=0|c+(s<<1<<4),k=0|h+((0|B(s,n))<<2),l[W>>2]=l[k>>2],l[W+4>>2]=l[k+4>>2],l[W+8>>2]=l[k+8>>2],l[W+12>>2]=l[k+12>>2],s=0|s+1}while((0|s)!=(0|w))}Fi(j),c=0;do{W=0|u+((0|B(c,n))<<2),k=0|(s=0|l[j>>2])+(c<<4),l[W>>2]=l[k>>2],l[W+4>>2]=l[k+4>>2],l[W+8>>2]=l[k+8>>2],l[W+12>>2]=l[k+12>>2],c=0|c+1}while((0|c)!=(0|C));if(!(7<(0|f)))break;u=0|u+16,f=0|f+-4}m=0|I+16+(y<<2),p=g,_=w,b=x}else m=I,p=g,_=w,b=x}while(0);if(f=3&E){if(c=0|(d=0|l[j>>2])+(p<<4),0<(0|(h=0|l[R>>2]))){u=f<<2,s=0;do{Br(0|c+(s<<1<<4),0|m+((0|B(s,n))<<2),0|u),s=0|s+1}while((0|s)!=(0|h))}if(u=0|m+((0|B(h,n))<<2),c=0|d+16+(0-p<<4),0<(0|_)){h=f<<2,s=0;do{Br(0|c+(s<<1<<4),0|u+((0|B(s,n))<<2),0|h),s=0|s+1}while((0|s)!=(0|_))}if(Fi(j),C){c=f<<2,s=0;do{Br(0|m+((0|B(s,n))<<2),0|d+(s<<4),0|c),s=0|s+1}while((0|s)!=(0|C));s=d}else s=d}if(!(a=0|a+-1))break e;g=E,d=S,h=0|l[i>>2],c=0|l[e>>2],k=C}}while(0);return Ve(t),A=o,0|(W=1)}function Oi(e,t,i,n){t|=0,i|=0,n|=0;var r,o,a,s,c,h=0,u=0,f=0,d=0,p=0,_=0,m=0,b=0;if(u=0|(f=0|l[(e|=0)>>2])+((r=0|l[e+12>>2])<<4),o=0|l[e+8>>2],a=0|3*i,c=0|f+16+(0-r<<4),s=0|l[e+4>>2],(0|o+a)<(0|n)&&0==(0|15&t)&&0==(0|15&(u|i))){if(0<(0|o)){e=0;do{l[f+(r<<4)+((u=e<<3)<<2)>>2]=l[t+(e<<2)>>2],b=0|e+i,l[f+(r<<4)+((1|u)<<2)>>2]=l[t+(b<<2)>>2],b=0|b+i,l[f+(r<<4)+((2|u)<<2)>>2]=l[t+(b<<2)>>2],l[f+(r<<4)+((3|u)<<2)>>2]=l[t+(b+i<<2)>>2],e=0|e+1}while((0|e)!=(0|o))}}else h=2;if(2==(0|h)&&0<(0|o)){e=0;do{l[f+(r<<4)+((h=e<<3)<<2)>>2]=l[t+(e<<2)>>2],(0|(u=0|e+i))<(0|n)&&(l[f+(r<<4)+((1|h)<<2)>>2]=l[t+(u<<2)>>2],(0|(d=0|u+i))<(0|n))&&(l[f+(r<<4)+((2|h)<<2)>>2]=l[t+(d<<2)>>2],(0|(p=0|d+i))<(0|n))&&(l[f+(r<<4)+((3|h)<<2)>>2]=l[t+(p<<2)>>2]),e=0|e+1}while((0|e)!=(0|o))}if(f=0|t+(o<<2),(0|s+a)<(0|(t=0|n-o))&&0==(0|15&f)&&0==(0|15&(c|i))){if(!(0<(0|s)))return;e=0;do{l[c+((b=e<<3)<<2)>>2]=l[f+(e<<2)>>2],m=0|e+i,l[c+((1|b)<<2)>>2]=l[f+(m<<2)>>2],m=0|m+i,l[c+((2|b)<<2)>>2]=l[f+(m<<2)>>2],l[c+((3|b)<<2)>>2]=l[f+(m+i<<2)>>2],e=0|e+1}while((0|e)!=(0|s))}else if(0<(0|s)){e=0;do{l[c+((h=e<<3)<<2)>>2]=l[f+(e<<2)>>2],(0|(u=0|e+i))<(0|t)&&(l[c+((1|h)<<2)>>2]=l[f+(u<<2)>>2],(0|(_=0|u+i))<(0|t))&&(l[c+((2|h)<<2)>>2]=l[f+(_<<2)>>2],(0|(m=0|_+i))<(0|t))&&(l[c+((3|h)<<2)>>2]=l[f+(m<<2)>>2]),e=0|e+1}while((0|e)!=(0|s))}}function Fi(e){e|=0;var t=0,i=0,n=0,r=0,o=0,a=0,s=0,c=0,h=0,u=0,f=0,d=0;do{if(0|l[e+12>>2]){if(0>=(0|(n=0|l[e+8>>2]))){if(1<(0|l[e+4>>2])){r=1,a=0,o=0|l[e>>2];break}return}i=0,t=1,s=7}else{if(n=0|l[e+8>>2],0<(0|l[e+4>>2])){if(t=0|l[e>>2],0<(0|n)){r=0,i=1,o=t,s=9;break}r=0,a=1,o=t;break}if(!(1<(0|n)))return;i=1,t=0,s=7}}while(0);if(7==(0|s)&&(r=t,o=0|l[e>>2],s=9),9==(0|s)){t=0;do{d=0|o+(r<<4)+((s=t<<3)<<2),f=+_[(u=0|o+(r<<4)+((1|s)<<2))>>2],h=+_[(a=0|o+(r<<4)+((2|s)<<2))>>2],c=+_[(s=0|o+(r<<4)+((3|s)<<2))>>2],_[d>>2]=1.2301740646362305*+_[d>>2],_[u>>2]=1.2301740646362305*f,_[a>>2]=1.2301740646362305*h,_[s>>2]=1.2301740646362305*c,t=0|t+1}while((0|t)!=(0|n));a=i}if(0<(0|(i=0|l[e+4>>2]))){t=0;do{s=0|o+(a<<4)+((d=t<<3)<<2),c=+_[(e=0|o+(a<<4)+((1|d)<<2))>>2],h=+_[(u=0|o+(a<<4)+((2|d)<<2))>>2],f=+_[(d=0|o+(a<<4)+((3|d)<<2))>>2],_[s>>2]=1.625732421875*+_[s>>2],_[e>>2]=1.625732421875*c,_[u>>2]=1.625732421875*h,_[d>>2]=1.625732421875*f,t=0|t+1}while((0|t)!=(0|i))}Li(t=0|o+(a<<4),o=0|16+(e=0|o+(r<<4)),n,s=(0|n)<(0|(s=0|i-r))?n:s,-.4435068666934967),Li(e,u=0|t+16,i,d=(0|i)<(0|(d=0|n-a))?i:d,-.8829110860824585),Li(t,o,n,s,.05298011749982834),Li(e,u,i,d,1.5861343145370483)}function Li(e,t,i,n,r){e|=0,t|=0,i|=0,r=+r;var o=0,a=0,s=0,l=0,c=0,h=0,u=0,f=0,d=0,p=0,m=0,b=0,y=0,g=0,v=0,A=0,w=0,x=0;if(0<(0|(n|=0))){for(u=0|(f=n<<1)-2,c=t,h=0,a=+_[e>>2],s=+_[e+4>>2],l=+_[e+8>>2],o=+_[e+12>>2];w=0|c+-16,A=+_[(g=0|c+-12)>>2],y=+_[(m=0|c+-8)>>2],p=+_[(e=0|c+-4)>>2],x=a,a=+_[c>>2],v=s,s=+_[c+4>>2],b=l,l=+_[c+8>>2],d=o,o=+_[c+12>>2],_[w>>2]=+_[w>>2]+(x+a)*r,_[g>>2]=A+(v+s)*r,_[m>>2]=y+(b+l)*r,_[e>>2]=p+(d+o)*r,(0|(h=0|h+1))!=(0|n);){c=0|c+32}e=0|t+(u<<4),t=0|t+(f<<4)}if(!((0|n)>=(0|i)))for(a=(o=r+r)*+_[e>>2],s=o*+_[e+4>>2],l=o*+_[e+8>>2],o*=+_[e+12>>2];f=0|t+-16,v=+_[(m=0|t+-12)>>2],A=+_[(g=0|t+-8)>>2],x=+_[(w=0|t+-4)>>2],_[f>>2]=a+ +_[f>>2],_[m>>2]=s+v,_[g>>2]=l+A,_[w>>2]=o+x,(0|(n=0|n+1))!=(0|i);){t=0|t+32}}function Zi(e,t,i){e|=0,t|=0;var n,r,o,a=0,s=0,c=0,h=0,u=0,f=0,d=0,p=0,m=0,b=0,y=0,g=0,v=0,A=0,w=0,x=0,k=0,I=0;if(r=(i|=0)<<2,!(o=0|He(i<<4)))return 0|(I=0);if(I=0|o+r,Mr(0|o,0,0|r),w=0|i+-1,!(n=0==(0|i)))for(a=o,s=0;l[a>>2]=s,(0|(s=0|s+1))!=(0|i);){a=0|a+4}e:do{if(0|w){for(m=1,b=e,y=0,a=0,g=o,A=i;v=0|b+(y<<2),y>>>0<i>>>0;){for(s=v,c=0,h=y;a=(k=(p=0<(p=+_[s>>2])?p:-p)>c)?h:a,c=k?p:c,(0|(h=0|h+1))!=(0|i);){s=0|s+(i<<2)}if(0==c)break;if((0|a)!=(0|y)&&(k=0|g+(a<<2)+(0-y<<2),x=0|l[g>>2],l[g>>2]=l[k>>2],l[k>>2]=x,Br(0|I,0|(k=0|b+((0|B(0|a-y,i))<<2)),0|r),Br(0|k,0|b,0|r),Br(0|b,0|I,0|r)),c=+_[v>>2],m>>>0<i>>>0)for(h=0|v+(i<<2),f=m;;){p=+_[h>>2]/c,_[h>>2]=p,s=m,u=h,d=v;do{d=0|d+4,_[(u=0|u+4)>>2]=+_[u>>2]-p*+_[d>>2],s=0|s+1}while((0|s)!=(0|i));if((0|(f=0|f+1))==(0|i))break;h=0|h+(A<<2)+(y<<2)}if((y=0|y+1)>>>0>=w>>>0)break e;m=0|m+1,b=0|b+(i<<2),g=0|g+4,A=0|A+-1}return je(o),0|(I=0)}}while(0);if(x=0|I+(i<<2),k=0|I+(i<<1<<2),!n)for(g=0|x+(i<<2),v=0|k+(i<<2),A=0|e+((0|B(i,i))<<2)+-4,w=~i,y=0;;){for(Mr(0|I,0,0|r),_[I+(y<<2)>>2]=1,u=o,f=e,d=k,m=0,b=1;;){if(m)for(a=f,s=k,c=0,h=1;c+=+_[a>>2]*+_[s>>2],(0|(h=0|h+1))!=(0|b);){a=0|a+4,s=0|s+4}else c=0;if(_[d>>2]=+_[I+(l[u>>2]<<2)>>2]-c,(0|(m=0|m+1))==(0|i)){u=i,f=A,d=g,m=v;break}u=0|u+4,f=0|f+(i<<2),d=0|d+4,b=0|b+1}for(;;){if(m=0|m+-4,p=+_[f>>2],u>>>0<i>>>0)for(a=f,s=d,c=0,h=u;c+=+_[(a=0|a+4)>>2]*+_[s>>2],(0|(h=0|h+1))!=(0|i);){s=0|s+4}else c=0;if(u=0|u+-1,_[(d=0|d+-4)>>2]=(+_[m>>2]-c)/p,!u){a=t,s=0;break}f=0|f+(w<<2)}for(;l[a>>2]=l[x+(s<<2)>>2],(0|(s=0|s+1))!=(0|i);){a=0|a+(i<<2)}if((0|(y=0|y+1))==(0|i))break;t=0|t+4}return je(o),0|(I=1)}function Hi(e){e|=0;var t=0,i=0,n=0,r=0,o=0,a=0;return(o=0|Ne(1,44))?(a=0|He(104),l[o>>2]=a,a?(a=0|He(28),l[(t=0|o+4)>>2]=a,0|a?(l[o+40>>2]=e,0|(a=o)):(qi(0|l[o>>2]),l[o>>2]=0,dn(0|l[t>>2]),l[t>>2]=0,0==(0|l[o+40>>2])&&0|(r=0|l[(n=0|o+8)>>2])&&(Ve(r),l[n>>2]=0),0|(i=0|l[(t=0|o+12)>>2])&&(Ve(i),l[t>>2]=0),je(o),0|(a=0))):(qi(0),l[o>>2]=0,dn(0|l[(a=0|o+4)>>2]),l[a>>2]=0,0==(0|l[o+40>>2])&&0|(i=0|l[(t=0|o+8)>>2])&&(Ve(i),l[t>>2]=0),0|(i=0|l[(t=0|o+12)>>2])&&(Ve(i),l[t>>2]=0),je(o),0|(a=0))):0|(o=0)}function Ni(e){var t,i=0,n=0;(e|=0)&&(qi(0|l[e>>2]),l[e>>2]=0,dn(0|l[(t=0|e+4)>>2]),l[t>>2]=0,0==(0|l[e+40>>2])&&0|(n=0|l[(i=0|e+8)>>2])&&(Ve(n),l[i>>2]=0),0|(n=0|l[(i=0|e+12)>>2])&&(Ve(n),l[i>>2]=0),je(e))}function zi(e,t,i){e|=0,i|=0;var n,r,o,s,c,u,d,p,m,b,y,g,v=0,A=0,w=0,x=0,k=0,I=0,S=0,E=0,C=0,M=0,P=0,T=0,D=0,R=0,G=0,O=0,F=0,L=0,Z=0,H=0,N=0,z=0,V=0,U=0,j=0,W=0,Y=0,X=0,Q=0,J=0,q=0,K=0,$=0,ee=0,te=0,ie=0,ne=0,re=0,oe=0,ae=0,se=0,le=0,ce=0,he=0,ue=0,fe=0,de=0,pe=0,_e=0,me=0,be=0,ye=0,ge=0,ve=0,Ae=0,we=0,xe=0,ke=0,Ie=0,Se=0,Ee=0,Ce=0;if(g=0|(0|l[8+(t|=0)>>2])-(0|l[t>>2]),!(v=0|l[(Ee=0|t+20)>>2]))return 0|(Ee=1);c=0|t+24,u=0|i+808,d=0|i+16,p=0|e+4,m=0|e+8,b=0|e+16,y=0|e+20,s=0|i+20,n=0|t+32,r=0|e+12,o=0|e+32,Ie=0,i=v;e:for(;;){if(xe=0|l[c>>2],t=0|l[(ke=0|xe+(0|136*Ie)+24)>>2]){ve=0|xe+(0|136*Ie)+16,we=0|Ie+-1,ge=0,v=0|l[(Ae=0|xe+(0|136*Ie)+20)>>2],i=0|l[ve>>2];do{if(0|B(v,i)){pe=0|xe+(0|136*Ie)+28+(0|36*ge)+20,_e=0|xe+(0|136*Ie)+28+(0|36*ge)+16,me=0|xe+(0|136*Ie)+28+(0|36*ge),be=0|xe+(0|136*Ie)+28+(0|36*ge)+4,ye=0|xe+(0|136*Ie)+28+(0|36*ge)+32,de=0;do{if(ue=0|(t=0|l[pe>>2])+(0|40*de)+16,0|B(0|l[(fe=0|t+(0|40*de)+20)>>2],0|l[ue>>2])){he=0|t+(0|40*de)+24,ce=0;do{if(i=0|l[he>>2],ie=0|l[_e>>2],v=0|l[u>>2],t=0|l[d>>2],ne=0|l[p>>2],re=0|l[e>>2],oe=0|i+(0|56*ce)+8,le=0|i+(0|56*ce)+12,!(0|Vi(e,0|(0|l[i+(0|56*ce)+16>>2])-(0|l[oe>>2]),0|(0|l[i+(0|56*ce)+20>>2])-(0|l[le>>2])))){i=0,U=219;break e}if(A=0|l[(ae=0|i+(0|56*ce)+24)>>2],an(re),sn(re,18,0,46),sn(re,17,0,3),sn(re,0,0,4),0|l[(se=0|i+(0|56*ce)+48)>>2]){q=0|i+(0|56*ce)+4,K=0!=(0|1&t),$=0==(0|2&t),ee=0==(0|8&t),te=ie<<8,J=0==(0|32&t),Q=0,t=2,i=0|A+v;do{w=0|l[q>>2],X=K&(2>t>>>0?(0|i)<=(0|(0|l[ae>>2])-4):0),v=0|l[w+(Q<<5)>>2];t:do{if(v){if(v=0|(0|l[v>>2])+(0|l[w+(Q<<5)+4>>2]),A=0|l[w+(Q<<5)+16>>2],X)pn(ne,v,A);else if(!(0|un(re,v,A))){i=0,U=219;break e}if(0<(0|i)&0!=(0|l[(W=0|w+(Q<<5)+12)>>2]))for(Y=$|X,j=0;;){i:do{switch(0|t){case 0:if(X){if(R=1<<i,R|=R>>1,!(v=0|l[y>>2]))break i;for(D=0|0-R,T=0,A=0|l[b>>2];;){if(P=T,T=0|T+4,A){C=-4==(0|P),M=3|P,E=0;do{n:do{if(!C)if(ee){v=P;do{if(v>>>0>=(0|l[y>>2])>>>0)break n;k=v,v=0|v+1,x=0|(A=0|l[r>>2])+(1+(w=0|(0|B(0|l[o>>2],v))+E)<<1),k=0|(0|l[m>>2])+((0|B(0|l[b>>2],k))+E<<2),I=0|l[p>>2],0!=(0|255&(U=0|a[x>>1]))&0==(0|20480&U)&&(0|_n(I)&&(V=0|_n(I),l[k>>2]=0|V?D:R,z=0|x+(0-(U=0|l[o>>2])<<1),U=0|x+(U<<1),a[(N=0|z+-2)>>1]=2|a[N>>1],a[z>>1]=a[z>>1]|a[3160+(V<<1)>>1],a[(z=0|z+2)>>1]=4|a[z>>1],a[(z=0|A+(w<<1))>>1]=a[z>>1]|a[3160+(V+2<<1)>>1],a[x>>1]=4096|a[x>>1],a[(z=0|x+2)>>1]=a[z>>1]|a[3160+(V+4<<1)>>1],a[(z=0|U+-2)>>1]=1|a[z>>1],a[U>>1]=a[U>>1]|a[3160+(V+6<<1)>>1],a[(U=0|U+2)>>1]=8|a[U>>1]),a[x>>1]=16384|a[x>>1])}while(v>>>0<T>>>0)}else{v=P;do{if(v>>>0>=(A=0|l[y>>2])>>>0)break n;V=v,v=0|v+1,k=0|(w=0|l[r>>2])+(1+(x=0|(0|B(0|l[o>>2],v))+E)<<1),I=0|(0|l[m>>2])+((0|B(0|l[b>>2],V))+E<<2),S=0|l[p>>2],U=0|a[k>>1],0!=(0|255&(U=(0|V)==(0|M)|(0|V)==(0|A+-1)?-1095&U:U))&0==(0|20480&U)&&(0|_n(S)&&(V=0|_n(S),l[I>>2]=0|V?D:R,z=0|k+(0-(U=0|l[o>>2])<<1),U=0|k+(U<<1),a[(N=0|z+-2)>>1]=2|a[N>>1],a[z>>1]=a[z>>1]|a[3160+(V<<1)>>1],a[(z=0|z+2)>>1]=4|a[z>>1],a[(z=0|w+(x<<1))>>1]=a[z>>1]|a[3160+(V+2<<1)>>1],a[k>>1]=4096|a[k>>1],a[(z=0|k+2)>>1]=a[z>>1]|a[3160+(V+4<<1)>>1],a[(z=0|U+-2)>>1]=1|a[z>>1],a[U>>1]=a[U>>1]|a[3160+(V+6<<1)>>1],a[(U=0|U+2)>>1]=8|a[U>>1]),a[k>>1]=16384|a[k>>1])}while(v>>>0<T>>>0)}}while(0);E=0|E+1,A=0|l[b>>2]}while(E>>>0<A>>>0);v=0|l[y>>2]}else A=0;if(T>>>0>=v>>>0){U=187;break i}}}if(!ee){if(G=1<<i,G|=G>>1,!(v=0|l[y>>2])){U=187;break i}for(O=0|0-G,R=0,w=A=0|l[b>>2];;){if(D=R,R=0|R+4,A){for(P=-4==(0|D),T=3|D,M=0;;){if(P)v=w;else{x=D;do{if(x>>>0>=(v=0|l[y>>2])>>>0)break;U=x,x=0|x+1,S=0|(k=0|l[r>>2])+(1+(I=0|(0|B(0|l[o>>2],x))+M)<<1),E=0|(0|l[m>>2])+((0|B(0|l[b>>2],U))+M<<2),C=0|l[e>>2],A=0|a[S>>1],0!=(0|(A=255&(v=(0|U)==(0|T)|(0|U)==(0|v+-1)?-1095&A:A)))&0==(0|20480&v)&&(l[(w=0|C+100)>>2]=C+24+(h[20356+(A|te)>>0]<<2),0|fn(C)&&(V=255&v>>>4,l[w>>2]=C+24+(h[21380+V>>0]<<2),V=(U=0|fn(C))^h[21636+V>>0],l[E>>2]=0|V?O:G,z=0|S+(0-(U=0|l[o>>2])<<1),U=0|S+(U<<1),a[(N=0|z+-2)>>1]=2|a[N>>1],a[z>>1]=a[z>>1]|a[3160+(V<<1)>>1],a[(z=0|z+2)>>1]=4|a[z>>1],a[(z=0|k+(I<<1))>>1]=a[z>>1]|a[3160+(V+2<<1)>>1],a[S>>1]=4096|a[S>>1],a[(z=0|S+2)>>1]=a[z>>1]|a[3160+(V+4<<1)>>1],a[(z=0|U+-2)>>1]=1|a[z>>1],a[U>>1]=a[U>>1]|a[3160+(V+6<<1)>>1],a[(U=0|U+2)>>1]=8|a[U>>1]),a[S>>1]=16384|a[S>>1])}while(x>>>0<R>>>0);v=0|l[b>>2]}if((M=0|M+1)>>>0>=v>>>0)break;w=v}w=v,A=v,v=0|l[y>>2]}else A=0;if(R>>>0>=v>>>0){U=187;break i}}}if(A=0|l[m>>2],v=0|2+(0|l[r>>2]),R=1<<i,R|=R>>1,3<(x=0|l[y>>2])>>>0){D=0|0-R,I=0,k=w=0|l[b>>2];do{if(w){T=0,w=k;do{C=0|A+(T<<2),M=0|v+(T<<1)+((x=0|l[o>>2])<<1),E=0|l[e>>2],0!=(0|(S=255&(k=0|a[M>>1])))&0==(0|20480&k)&&(l[(w=0|E+100)>>2]=E+24+(h[20356+(S|te)>>0]<<2),0|fn(E)?(V=255&k>>>4,l[w>>2]=E+24+(h[21380+V>>0]<<2),V=(x=0|fn(E))^h[21636+V>>0],l[C>>2]=0|V?D:R,U=0|M+((x=0|l[o>>2])<<1),a[(N=0|(z=0|M+(0-x<<1))-2)>>1]=2|a[N>>1],a[z>>1]=a[z>>1]|a[3160+(V<<1)>>1],a[(z=0|z+2)>>1]=4|a[z>>1],a[(z=0|M+-2)>>1]=a[z>>1]|a[3160+(V+2<<1)>>1],a[M>>1]=4096|a[M>>1],a[(z=0|M+2)>>1]=a[z>>1]|a[3160+(V+4<<1)>>1],a[(z=0|U+-2)>>1]=1|a[z>>1],a[U>>1]=a[U>>1]|a[3160+(V+6<<1)>>1],a[(U=0|U+2)>>1]=8|a[U>>1]):x=0|l[o>>2],a[M>>1]=16384|a[M>>1],w=0|l[b>>2],E=0|l[e>>2]),C=0|C+(w<<2),0!=(0|(S=255&(k=0|a[(M=0|M+(x<<1))>>1])))&0==(0|20480&k)&&(l[(w=0|E+100)>>2]=E+24+(h[20356+(S|te)>>0]<<2),0|fn(E)?(V=255&k>>>4,l[w>>2]=E+24+(h[21380+V>>0]<<2),V=(x=0|fn(E))^h[21636+V>>0],l[C>>2]=0|V?D:R,U=0|M+((x=0|l[o>>2])<<1),a[(N=0|(z=0|M+(0-x<<1))-2)>>1]=2|a[N>>1],a[z>>1]=a[z>>1]|a[3160+(V<<1)>>1],a[(z=0|z+2)>>1]=4|a[z>>1],a[(z=0|M+-2)>>1]=a[z>>1]|a[3160+(V+2<<1)>>1],a[M>>1]=4096|a[M>>1],a[(z=0|M+2)>>1]=a[z>>1]|a[3160+(V+4<<1)>>1],a[(z=0|U+-2)>>1]=1|a[z>>1],a[U>>1]=a[U>>1]|a[3160+(V+6<<1)>>1],a[(U=0|U+2)>>1]=8|a[U>>1]):x=0|l[o>>2],a[M>>1]=16384|a[M>>1],w=0|l[b>>2],E=0|l[e>>2]),P=0|C+(w<<2),0!=(0|(S=255&(k=0|a[(M=0|M+(x<<1))>>1])))&0==(0|20480&k)?(l[(w=0|E+100)>>2]=E+24+(h[20356+(S|te)>>0]<<2),0|fn(E)?(V=255&k>>>4,l[w>>2]=E+24+(h[21380+V>>0]<<2),V=(x=0|fn(E))^h[21636+V>>0],l[P>>2]=0|V?D:R,U=0|M+((x=0|l[o>>2])<<1),a[(N=0|(z=0|M+(0-x<<1))-2)>>1]=2|a[N>>1],a[z>>1]=a[z>>1]|a[3160+(V<<1)>>1],a[(z=0|z+2)>>1]=4|a[z>>1],a[(z=0|M+-2)>>1]=a[z>>1]|a[3160+(V+2<<1)>>1],a[M>>1]=4096|a[M>>1],a[(z=0|M+2)>>1]=a[z>>1]|a[3160+(V+4<<1)>>1],a[(z=0|U+-2)>>1]=1|a[z>>1],a[U>>1]=a[U>>1]|a[3160+(V+6<<1)>>1],a[(U=0|U+2)>>1]=8|a[U>>1]):x=0|l[o>>2],a[M>>1]=16384|a[M>>1],w=0|l[b>>2],C=0|l[e>>2]):C=E,E=0|P+(w<<2),0!=(0|(S=255&(k=0|a[(x=0|M+(x<<1))>>1])))&0==(0|20480&k)&&(l[(w=0|C+100)>>2]=C+24+(h[20356+(S|te)>>0]<<2),0|fn(C)&&(V=255&k>>>4,l[w>>2]=C+24+(h[21380+V>>0]<<2),V=(U=0|fn(C))^h[21636+V>>0],l[E>>2]=0|V?D:R,z=0|x+(0-(U=0|l[o>>2])<<1),U=0|x+(U<<1),a[(N=0|z+-2)>>1]=2|a[N>>1],a[z>>1]=a[z>>1]|a[3160+(V<<1)>>1],a[(z=0|z+2)>>1]=4|a[z>>1],a[(z=0|x+-2)>>1]=a[z>>1]|a[3160+(V+2<<1)>>1],a[x>>1]=4096|a[x>>1],a[(z=0|x+2)>>1]=a[z>>1]|a[3160+(V+4<<1)>>1],a[(z=0|U+-2)>>1]=1|a[z>>1],a[U>>1]=a[U>>1]|a[3160+(V+6<<1)>>1],a[(U=0|U+2)>>1]=8|a[U>>1]),a[x>>1]=16384|a[x>>1],w=0|l[b>>2]),T=0|T+1}while(T>>>0<w>>>0);k=w,x=0|l[y>>2]}else w=0;A=0|A+(w<<2<<2),v=0|v+(l[o>>2]<<2<<1),I=0|I+4}while(I>>>0<(-4&x)>>>0);w=k}else I=0,w=0|l[b>>2];if(!w){U=187;break i}D=0|0-R,T=0;do{if(I>>>0<x>>>0)for(C=I,M=0|v+(T<<1),P=0|A+(T<<2);M=0|M+(l[o>>2]<<1),k=0|l[e>>2],0!=(0|(E=255&(S=0|a[M>>1])))&0==(0|20480&S)&&(l[(w=0|k+100)>>2]=k+24+(h[20356+(E|te)>>0]<<2),0|fn(k)&&(V=255&S>>>4,l[w>>2]=k+24+(h[21380+V>>0]<<2),V=(U=0|fn(k))^h[21636+V>>0],l[P>>2]=0|V?D:R,z=0|M+(0-(U=0|l[o>>2])<<1),U=0|M+(U<<1),a[(N=0|z+-2)>>1]=2|a[N>>1],a[z>>1]=a[z>>1]|a[3160+(V<<1)>>1],a[(z=0|z+2)>>1]=4|a[z>>1],a[(z=0|M+-2)>>1]=a[z>>1]|a[3160+(V+2<<1)>>1],a[M>>1]=4096|a[M>>1],a[(z=0|M+2)>>1]=a[z>>1]|a[3160+(V+4<<1)>>1],a[(z=0|U+-2)>>1]=1|a[z>>1],a[U>>1]=a[U>>1]|a[3160+(V+6<<1)>>1],a[(U=0|U+2)>>1]=8|a[U>>1]),a[M>>1]=16384|a[M>>1],w=0|l[b>>2],x=0|l[y>>2]),!((C=0|C+1)>>>0>=x>>>0);){P=0|P+(w<<2)}T=0|T+1}while(T>>>0<w>>>0);U=187;break;case 1:if(X){if(C=0|0-(E=1<<i>>1),!(v=0|l[y>>2]))break i;for(S=0,w=A=0|l[b>>2];;){I=S,S=0|S+4;do{if(A){if(-4==(0|I)){x=w,A=w;break}k=0;do{A=k,k=0|k+1,v=I;do{if(v>>>0>=(0|l[y>>2])>>>0)break;x=v,v=0|v+1,w=0|(0|l[r>>2])+((0|B(0|l[o>>2],v))+k<<1),x=0|(0|l[m>>2])+((0|B(0|l[b>>2],x))+A<<2),4096==(20480&a[w>>1])&&(V=(V=0!=(0|_n(0|l[p>>2])))?E:C,U=0|l[x>>2],l[x>>2]=(0>(0|U)?0|0-V:V)+U,a[w>>1]=8192|a[w>>1])}while(v>>>0<S>>>0);v=0|l[b>>2]}while(k>>>0<v>>>0);x=v,A=v,v=0|l[y>>2]}else x=w,A=0}while(0);if(S>>>0>=v>>>0){U=187;break i}w=x}}if(!ee){if(T=0|0-(P=1<<i>>1),!(v=0|l[y>>2])){U=187;break i}for(M=0,x=A=0|l[b>>2];;){C=M,M=0|M+4;do{if(A){if(E=3|C,-4==(0|C)){w=x,A=x;break}S=0;do{w=S,S=0|S+1,A=C;do{if(A>>>0>=(v=0|l[y>>2])>>>0)break;V=A,A=0|A+1,k=0|(0|l[r>>2])+((0|B(0|l[o>>2],A))+S<<1),I=0|(0|l[m>>2])+((0|B(0|l[b>>2],V))+w<<2),x=0|l[e>>2],U=0|a[k>>1],4096==(0|20480&(v=(0|V)==(0|E)|(0|V)==(0|v+-1)?-1095&U:U))&&(l[x+100>>2]=x+24+((0|8192&v?16:0|255&v?15:14)<<2),V=(V=0!=(0|fn(x)))?P:T,U=0|l[I>>2],l[I>>2]=(0>(0|U)?0|0-V:V)+U,a[k>>1]=8192|a[k>>1])}while(A>>>0<M>>>0);v=0|l[b>>2]}while(S>>>0<v>>>0);w=v,A=v,v=0|l[y>>2]}else w=x,A=0}while(0);if(M>>>0>=v>>>0){U=187;break i}x=w}}if(A=0|l[m>>2],v=0|2+(0|l[r>>2]),D=0|0-(T=1<<i>>1),x=0|l[y>>2],w=0|l[b>>2],3<x>>>0){I=0,k=w;do{if(w){P=0,w=k;do{E=0|A+(P<<2),C=0|v+(P<<1)+((S=0|l[o>>2])<<1),x=0|l[e>>2],4096==(0|20480&(k=0|a[C>>1]))&&(l[x+100>>2]=x+24+((0|8192&k?16:0|255&k?15:14)<<2),w=(w=0!=(0|fn(x)))?T:D,x=0|l[E>>2],l[E>>2]=(0>(0|x)?0|0-w:w)+x,a[C>>1]=8192|a[C>>1],x=0|l[e>>2],w=0|l[b>>2],S=0|l[o>>2]),E=0|E+(w<<2),4096==(0|20480&(k=0|a[(C=0|C+(S<<1))>>1]))&&(l[x+100>>2]=x+24+((0|8192&k?16:0|255&k?15:14)<<2),w=(w=0!=(0|fn(x)))?T:D,x=0|l[E>>2],l[E>>2]=(0>(0|x)?0|0-w:w)+x,a[C>>1]=8192|a[C>>1],x=0|l[e>>2],w=0|l[b>>2],S=0|l[o>>2]),M=0|E+(w<<2),4096==(0|20480&(k=0|a[(C=0|C+(S<<1))>>1]))?(l[x+100>>2]=x+24+((0|8192&k?16:0|255&k?15:14)<<2),w=(w=0!=(0|fn(x)))?T:D,E=0|l[M>>2],l[M>>2]=(0>(0|E)?0|0-w:w)+E,a[C>>1]=8192|a[C>>1],E=0|l[e>>2],w=0|l[b>>2],x=0|l[o>>2]):(E=x,x=S),S=0|M+(w<<2),4096==(0|20480&(k=0|a[(x=0|C+(x<<1))>>1]))&&(l[E+100>>2]=E+24+((0|8192&k?16:0|255&k?15:14)<<2),U=(U=0!=(0|fn(E)))?T:D,w=0|l[S>>2],l[S>>2]=(0>(0|w)?0|0-U:U)+w,a[x>>1]=8192|a[x>>1],w=0|l[b>>2]),P=0|P+1}while(P>>>0<w>>>0);k=w,x=0|l[y>>2]}else w=0;A=0|A+(w<<2<<2),v=0|v+(l[o>>2]<<2<<1),I=0|I+4}while(I>>>0<(-4&x)>>>0);w=k}else I=0;if(!w){U=187;break i}P=0;do{if(I>>>0<x>>>0)for(E=I,C=0|v+(P<<1),M=0|A+(P<<2);C=0|C+(l[o>>2]<<1),k=0|l[e>>2],4096==(0|20480&(S=0|a[C>>1]))&&(l[k+100>>2]=k+24+((0|8192&S?16:0|255&S?15:14)<<2),x=(x=0!=(0|fn(k)))?T:D,w=0|l[M>>2],l[M>>2]=(0>(0|w)?0|0-x:x)+w,a[C>>1]=8192|a[C>>1],w=0|l[b>>2],x=0|l[y>>2]),!((E=0|E+1)>>>0>=x>>>0);){M=0|M+(w<<2)}P=0|P+1}while(P>>>0<w>>>0);U=187;break;case 2:z=0|l[e>>2],V=1<<i,V|=V>>1;do{if(ee){if(w=0|l[m>>2],A=0|2+(0|l[r>>2]),3<(v=0|l[y>>2])>>>0)for(D=0|z+92,R=0|z+100,G=0|z+96,O=0|0-V,x=A,I=0,k=U=0|l[b>>2],A=U;;){if(k){M=0|1+(C=1|I),P=3|I,T=0|C+3,E=0;do{A=0|w+(E<<2),k=0|x+(E<<1),U=0|l[r>>2],v=0|l[o>>2],E=0|E+1,H=0|U+((0|B(v,C))+E<<1),Z=0|U+((0|B(v,M))+E<<1),N=0|U+((0|B(v,P))+E<<1),U=0|U+((0|B(v,T))+E<<1);n:do{if(20735&(a[Z>>1]|a[H>>1]|a[N>>1]|a[U>>1]))Ui(e,N=0|k+(v<<1),A,ie,V),U=0|A+(l[b>>2]<<2),Ui(e,N=0|N+(l[o>>2]<<1),U,ie,V),U=0|U+(l[b>>2]<<2),Ui(e,N=0|N+(l[o>>2]<<1),U,ie,V),Ui(e,0|N+(l[o>>2]<<1),0|U+(l[b>>2]<<2),ie,V);else{if(l[R>>2]=D,!(0|fn(z)))break;if(l[R>>2]=G,4<=(S=0|(S=(0|fn(z))<<1)|fn(z))>>>0)break;for(A=0|A+((0|B(0|l[b>>2],S))<<2),v=0|k+((0|B(0|l[o>>2],S))<<1),k=S;;){if(k>>>0>=(0|l[y>>2])>>>0)break n;if(v=0|v+(l[o>>2]<<1),(0|k)==(0|S)?(U=0|l[e>>2],N=255&(0|f[v>>1])>>>4,l[U+100>>2]=U+24+(h[21380+N>>0]<<2),N=(U=0|fn(U))^h[21636+N>>0],l[A>>2]=0|N?O:V,H=0|v+(0-(U=0|l[o>>2])<<1),U=0|v+(U<<1),a[(Z=0|H+-2)>>1]=2|a[Z>>1],a[H>>1]=a[H>>1]|a[3160+(N<<1)>>1],a[(H=0|H+2)>>1]=4|a[H>>1],a[(H=0|v+-2)>>1]=a[H>>1]|a[3160+(N+2<<1)>>1],a[v>>1]=4096|a[v>>1],a[(H=0|v+2)>>1]=a[H>>1]|a[3160+(N+4<<1)>>1],a[(H=0|U+-2)>>1]=1|a[H>>1],a[U>>1]=a[U>>1]|a[3160+(N+6<<1)>>1],a[(U=0|U+2)>>1]=8|a[U>>1],a[v>>1]=-16385&a[v>>1]):Ui(e,v,A,ie,V),4<=(k=0|k+1)>>>0)break;A=0|A+(l[b>>2]<<2)}}}while(0);A=0|l[b>>2]}while(E>>>0<A>>>0);k=A,v=0|l[y>>2]}else k=0;if(w=0|w+(k<<2<<2),x=0|x+(l[o>>2]<<2<<1),(I=0|I+4)>>>0>=(-4&v)>>>0){C=x,E=w;break}}else C=A,E=w,I=0,A=0|l[b>>2];if(!A)break;S=0;do{if(I>>>0<v>>>0)for(w=0|C+(S<<1),x=0|E+(S<<2),k=I;Ui(e,w=0|w+(l[o>>2]<<1),x,ie,V),A=0|l[b>>2],!((k=0|k+1)>>>0>=(v=0|l[y>>2])>>>0);){x=0|x+(A<<2)}S=0|S+1}while(S>>>0<A>>>0)}else{if(!(v=0|l[y>>2]))break;L=0|z+92,Z=0|z+100,H=0|z+96,N=0|0-V,w=0,A=0|l[b>>2];do{if(A)for(D=3|w,G=0|1+(R=1|w),O=0|R+3,F=0|w+4,T=0;;){do{if(D>>>0<v>>>0){if(v=0|l[r>>2],A=0|l[o>>2],x=0|T+1,P=0|v+((0|B(A,R))+x<<1),20735&a[P>>1]){v=0,P=0,U=152;break}if(P=0|v+((0|B(A,G))+x<<1),20735&a[P>>1]){v=0,P=0,U=152;break}if(P=0|v+((0|B(A,D))+x<<1),20735&a[P>>1]){v=0,P=0,U=152;break}if(P=0|v+((0|B(A,O))+x<<1),20665&a[P>>1]){v=0,P=0,U=152;break}if(l[Z>>2]=L,!(0|fn(z)))break;l[Z>>2]=H,v=0|(v=(0|fn(z))<<1)|fn(z),P=1,U=152}else v=0,P=0,U=152}while(0);n:do{if(152==(0|U)){if(U=0,!((k=0|v+w)>>>0<F>>>0))break;x=k;do{if(x>>>0>=(v=0|l[y>>2])>>>0)break n;Ce=x,x=0|x+1,E=0|(I=0|l[r>>2])+(1+(S=0|(0|B(0|l[o>>2],x))+T)<<1),C=0|(0|l[m>>2])+((0|B(0|l[b>>2],Ce))+T<<2),M=0|l[e>>2],A=0|a[E>>1],A=(0|Ce)==(0|D)|(0|Ce)==(0|v+-1)?-1095&A:A;do{if(P&(0|Ce)==(0|k))v=0|M+100,U=158;else{if(0|20480&A)break;l[(v=0|M+100)>>2]=M+24+(h[20356+(255&A|te)>>0]<<2),0|fn(M)&&(U=158)}}while(0);158==(0|U)&&(U=0,Ce=255&A>>>4,l[v>>2]=M+24+(h[21380+Ce>>0]<<2),M=0|fn(M),M^=h[21636+Ce>>0],l[C>>2]=0|M?N:V,C=0|E+(0-(Ce=0|l[o>>2])<<1),Ce=0|E+(Ce<<1),a[(A=0|C+-2)>>1]=2|a[A>>1],a[C>>1]=a[C>>1]|a[3160+(M<<1)>>1],a[(C=0|C+2)>>1]=4|a[C>>1],a[(C=0|I+(S<<1))>>1]=a[C>>1]|a[3160+(M+2<<1)>>1],a[E>>1]=4096|a[E>>1],a[(C=0|E+2)>>1]=a[C>>1]|a[3160+(M+4<<1)>>1],a[(C=0|Ce+-2)>>1]=1|a[C>>1],a[Ce>>1]=a[Ce>>1]|a[3160+(M+6<<1)>>1],a[(Ce=0|Ce+2)>>1]=8|a[Ce>>1]),a[E>>1]=-16385&a[E>>1]}while(x>>>0<F>>>0)}}while(0);if(T=0|T+1,A=0|l[b>>2],v=0|l[y>>2],T>>>0>=A>>>0){w=F;break}}else w=0|w+4,A=0}while(w>>>0<v>>>0)}}while(0);if(J){U=187;break i}l[z+100>>2]=z+96,fn(z),fn(z),fn(z),fn(z),U=187;break;default:U=187;}}while(0);do{if(187==(0|U)){if(U=0,Y)break;an(re),sn(re,18,0,46),sn(re,17,0,3),sn(re,0,0,4)}}while(0);if(i=0|i+((Ce=3==(0|(t=0|t+1)))<<31>>31),t=Ce?0:t,j=0|j+1,!(0<(0|i)&&j>>>0<(0|l[W>>2])>>>0))break t}}}while(0);Q=0|Q+1}while(Q>>>0<(0|l[se>>2])>>>0)}if(i=0|(0|l[oe>>2])-(0|l[me>>2]),t=0|(0|l[le>>2])-(0|l[be>>2]),1&(v=0|l[_e>>2])&&(Ce=0|l[c>>2],i=0|(0|l[Ce+(0|136*we)+8>>2])+i-(0|l[Ce+(0|136*we)>>2])),2&v&&(Ce=0|l[c>>2],t=0|(0|l[Ce+(0|136*we)+12>>2])+t-(0|l[Ce+(0|136*we)+4>>2])),S=0|l[m>>2],E=0|l[b>>2],C=0|l[y>>2],0|(v=0|l[u>>2])&&(Se=1<<v,!(0==(0|C)|0==(0|E)))){v=0;do{w=0|B(v,E),A=0;do{(0|(I=-1<(0|(k=0|l[(x=0|S+(A+w<<2))>>2]))?k:0|0-k))>=(0|Se)&&(Ce=I>>l[u>>2],l[x>>2]=0>(0|k)?0|0-Ce:Ce),A=0|A+1}while((0|A)!=(0|E));v=0|v+1}while((0|v)!=(0|C))}if(x=0|(0|l[n>>2])+((0|B(t,g))+i<<2),i=0==(0|C)|0==(0|E),1==(0|l[s>>2])){if(!i){i=0;do{v=0|B(i,E),A=0|B(i,g),t=0;do{l[x+(t+A<<2)>>2]=0|(0|l[S+(t+v<<2)>>2])/2,t=0|t+1}while((0|t)!=(0|E));i=0|i+1}while((0|i)!=(0|C))}}else if(!i)for(t=S,A=0;;){for(i=x,v=t,w=0;_[i>>2]=+_[ye>>2]*+(0|l[v>>2]),(0|(w=0|w+1))!=(0|E);){i=0|i+4,v=0|v+4}if((0|(A=0|A+1))==(0|C))break;x=0|x+(g<<2),t=0|t+(E<<2)}ce=0|ce+1}while(ce>>>0<(0|B(0|l[fe>>2],0|l[ue>>2]))>>>0);v=0|l[Ae>>2],i=0|l[ve>>2]}de=0|de+1}while(de>>>0<(0|B(v,i))>>>0);t=0|l[ke>>2]}ge=0|ge+1}while(ge>>>0<t>>>0);i=0|l[Ee>>2]}if((Ie=0|Ie+1)>>>0>=i>>>0){i=1,U=219;break}}return 219==(0|U)?0|i:0}function Vi(e,t,i){e|=0;var n,r=0,o=0,a=0,s=0;if(s=0|B(i|=0,t|=0),!(0|l[e+40>>2])){o=0|e+24,r=0|e+8;do{if(s>>>0>(0|l[o>>2])>>>0){if(Ve(0|l[r>>2]),a=0|ze(s<<2),l[r>>2]=a,a){l[o>>2]=s,o=a,r=a;break}return 0|(i=0)}o=r=0|l[r>>2]}while(0);0|o&&Mr(0|r,0,0|s<<2)}a=0|t+2,l[e+32>>2]=a,a=0|B(0|i+2,a),s=0|e+28,r=0|l[(n=0|e+12)>>2];do{if(a>>>0>(0|l[s>>2])>>>0){if(Ve(r),r=0|ze(o=a<<1),l[n>>2]=r,r){l[s>>2]=a;break}return 0|(i=0)}o=a<<1}while(0);return Mr(0|r,0,0|o),l[e+16>>2]=t,l[e+20>>2]=i,0|(i=1)}function Ui(e,t,i,n,r){t|=0,i|=0,n|=0,r|=0;var o,s=0,c=0;return s=0|l[(e|=0)>>2],0|20480&(c=0|a[t>>1])?(c=0|a[t>>1],c&=-16385,void(a[t>>1]=c)):(l[(o=0|s+100)>>2]=s+24+(h[20356+(255&c|n<<8)>>0]<<2),0|fn(s)?(c=255&c>>>4,l[o>>2]=s+24+(h[21380+c>>0]<<2),s=0|fn(s),s^=h[21636+c>>0],l[i>>2]=0|s?0|0-r:r,r=0|t+(0-(c=0|l[e+32>>2])<<1),c=0|t+(c<<1),a[(n=0|r+-2)>>1]=2|a[n>>1],a[r>>1]=a[r>>1]|a[3160+(s<<1)>>1],a[(r=0|r+2)>>1]=4|a[r>>1],a[(r=0|t+-2)>>1]=a[r>>1]|a[3160+(s+2<<1)>>1],a[t>>1]=4096|a[t>>1],a[(r=0|t+2)>>1]=a[r>>1]|a[3160+(s+4<<1)>>1],a[(r=0|c+-2)>>1]=1|a[r>>1],a[c>>1]=a[c>>1]|a[3160+(s+6<<1)>>1],a[(c=0|c+2)>>1]=8|a[c>>1],c=0|a[t>>1],c&=-16385,void(a[t>>1]=c)):(c=0|a[t>>1],c&=-16385,void(a[t>>1]=c)))}function ji(e,t,i,n,o){e|=0,i|=0,n|=0,o|=0;var s,c,u,f,d,p,m,y,g,v,A=0,w=0,x=0,S=0,E=0,C=0,M=0,P=0,T=0,D=0,R=0,G=0,O=0,F=0,L=0,Z=0,H=0,N=0,z=0,V=0,U=0,j=0,W=0,Y=0,X=0,Q=0,J=0,q=0,K=0,$=0,ee=0,te=0,ie=0,ne=0,re=0,oe=0,ae=0,se=0,le=0,ce=0,he=0,ue=0,fe=0,de=0,pe=0,_e=0,me=0,be=0,ye=0,ge=0,ve=0,Ae=0,we=0,xe=0,ke=0,Ie=0,Se=0,Ee=0,Ce=0,Be=0,Me=0,Pe=0,Te=0,De=0,Re=0,Ge=0,Oe=0,Fe=0,Le=0,Ze=0,He=0,Ne=0,ze=0,Ve=0,Ue=0,je=0,We=0,Ye=0,Xe=0,Qe=0,Je=0,qe=0,Ke=0;if(b[(v=0|32+(t|=0))>>3]=0,!(A=0|l[(qe=0|t+16)>>2]))return 0|(qe=1);g=0|t+20,s=0|i+5584,c=0|e+16,u=0|e+20,f=0|e+8,d=0|e+36,p=0!=(0|n),m=0|e+12,y=0|e+32,Je=0,t=A;e:for(;;){if(i=0|l[g>>2],A=0|l[s>>2],Xe=0|(0|l[i+(0|52*Je)+8>>2])-(0|l[i+(0|52*Je)>>2]),w=0|l[(Qe=0|i+(0|52*Je)+16)>>2]){Ye=0|i+(0|52*Je)+24,je=0|i+(0|52*Je)+32,We=0|A+(0|1080*Je)+20,ze=0|A+(0|1080*Je)+16,Ue=p&Je>>>0<o>>>0,Ve=0|n+(Je<<3),Ne=0,t=w;do{if(Le=0|l[Ye>>2],i=0|l[(Ze=0|Le+(0|136*Ne)+24)>>2]){Re=0|Le+(0|136*Ne)+16,Oe=~Ne,Fe=0|Ne+-1,De=0,A=0|l[(Ge=0|Le+(0|136*Ne)+20)>>2],t=0|l[Re>>2];do{if(Te=0|Le+(0|136*Ne)+28+(0|36*De)+32,0|B(A,t)){Ee=0|Le+(0|136*Ne)+28+(0|36*De)+20,Ce=0|Le+(0|136*Ne)+28+(0|36*De),Be=0|Le+(0|136*Ne)+28+(0|36*De)+4,Me=0|Le+(0|136*Ne)+28+(0|36*De)+16,Pe=(0>(0|(Se=0|67108864/(0|~~+I(8192*+_[Te>>2])))))<<31>>31,Ie=0;do{if(xe=0|(i=0|l[Ee>>2])+(0|40*Ie)+16,0|B(0|l[(ke=0|i+(0|40*Ie)+20)>>2],0|l[xe>>2])){we=0|i+(0|40*Ie)+24,Ae=0;do{if(ve=0|l[we>>2],t=0|(w=0|l[ve+(0|52*Ae)+12>>2])-(0|l[Ce>>2]),i=0|(x=0|l[ve+(0|52*Ae)+16>>2])-(0|l[Be>>2]),1&(A=0|l[Me>>2])&&(ge=0|l[Ye>>2],t=0|(0|l[ge+(0|136*Fe)+8>>2])+t-(0|l[ge+(0|136*Fe)>>2])),2&A&&(ge=0|l[Ye>>2],i=0|(0|l[ge+(0|136*Fe)+12>>2])+i-(0|l[ge+(0|136*Fe)+4>>2])),!(0|Vi(e,0|(0|l[ve+(0|52*Ae)+20>>2])-w,0|(0|l[ve+(0|52*Ae)+24>>2])-x))){t=0,He=163;break e}x=0|l[c>>2],S=0|l[u>>2],M=0|(0|l[je>>2])+((0|B(i,Xe))+t<<2),l[f>>2]=M,l[d>>2]=Xe,t=0|l[We>>2],i=0!=(0|S);do{if(1==(0|t)){if(i){if(!x){He=27;break}for(t=0,i=0;;){for(A=0,w=t;l[(He=0|M+(w<<2))>>2]=l[He>>2]<<6,(0|(A=0|A+1))!=(0|x);){w=0|w+1}if((0|(i=0|i+1))==(0|S)){He=27;break}t=0|Xe+t}}else t=1;}else if(i){if(!x){He=27;break}for(t=0,A=0;;){for(i=0,w=A;ge=0|Sr(0|(ge=0|gr(0|(ge=0|yr(0|(ge=0|l[(He=0|M+(w<<2))>>2]),0|(0>(0|ge))<<31>>31,0|Se,0|Pe)),0|k,4096,0)),0|k,18),l[He>>2]=ge,(0|(i=0|i+1))!=(0|x);){w=0|w+1}if((0|(t=0|t+1))==(0|S)){He=27;break}A=0|Xe+A}}}while(0);27==(0|He)&&(He=0,t=0|l[We>>2]),_e=0|l[Me>>2],me=0|(0|l[Qe>>2])+Oe,be=+_[Te>>2],ye=0|l[ze>>2],ge=0|l[e>>2],S=0|l[c>>2];do{if(S){if(!(E=0|l[u>>2])){i=0;break}x=0|l[d>>2],w=0,A=0;do{i=0;do{pe=0|M+((0|B(i,x))+w<<2),A=(0|A)>(0|(pe=-1<(0|(pe=0|l[pe>>2]))?pe:0|0-pe))?A:pe,i=0|i+1}while((0|i)!=(0|E));w=0|w+1}while((0|w)!=(0|S));if(!A){i=0;break}if(1<(0|A))for(i=0;i=0|i+1,3<A>>>0;){A>>>=1}else i=0;i=0|i+-5}else i=0}while(0);l[(de=0|ve+(0|52*Ae)+28)>>2]=i,i=0|i+-1,an(ge),sn(ge,18,0,46),sn(ge,17,0,3),sn(ge,0,0,4),$i(ge,0|l[(pe=0|ve+(0|52*Ae))>>2]);t:do{if(-1<(0|i))for(ue=0|ve+(0|52*Ae)+8,fe=0!=(0|(ie=1&ye)),ne=1==(0|t),re=0==(0|4&ye),ie=0==(0|ie),oe=0==(0|2&ye),ae=0!=(0|(le=8&ye)),se=_e<<8,ce=0==(0|32&ye),he=1^(le=0==(0|le)),t=0,ee=2,A=0,te=0;;){$=0|l[ue>>2],U=fe&(2>ee>>>0?(0|i)<(0|(0|l[de>>2])-4):0);i:do{switch(0|ee){case 0:if(z=1<<i+6,!(w=0|l[u>>2])){A=0;break i}V=0==(0|i)?3176:3432,N=0,A=0,x=S=0|l[c>>2];do{if(H=N,N=0|N+4,x){for(L=-4==(0|H),Z=3|H,F=0;;){if(L)x=S;else{O=H;do{if(O>>>0>=(w=0|l[u>>2])>>>0)break;K=O,O=0|O+1,G=0|(T=0|l[m>>2])+(1+(D=0|(0|B(0|l[y>>2],O))+F)<<1),E=0|(0|l[f>>2])+((0|B(0|l[d>>2],K))+F<<2),R=0|l[e>>2],M=0|a[G>>1],0!=(0|(w=255&(M=ae&((0|K)==(0|Z)|(0|K)==(0|w+-1))?-1095&M:M)))&0==(0|20480&M)&&(S=1&(x=0!=(0|(0>(0|(x=0|l[E>>2]))?0|0-x:x)&z)),l[(P=0|R+100)>>2]=R+24+(h[20356+(w|se)>>0]<<2),U?rn(R,S):en(R,S),x&&(x=(w=0|l[E>>2])>>>31,A=0|A+(0|a[V+((127&(0>(0|w)?0|0-w:w)>>>i)<<1)>>1]),w=255&M>>>4,l[P>>2]=R+24+(h[21380+w>>0]<<2),U?rn(R,x):en(R,x^h[21636+w>>0]),q=0|G+(0-(K=0|l[y>>2])<<1),K=0|G+(K<<1),a[(J=0|q+-2)>>1]=2|a[J>>1],a[q>>1]=a[q>>1]|a[3160+(x<<1)>>1],a[(q=0|q+2)>>1]=4|a[q>>1],a[(q=0|T+(D<<1))>>1]=a[q>>1]|a[3160+((2|x)<<1)>>1],a[G>>1]=4096|a[G>>1],a[(q=0|G+2)>>1]=a[q>>1]|a[3160+((4|x)<<1)>>1],a[(q=0|K+-2)>>1]=1|a[q>>1],a[K>>1]=a[K>>1]|a[3160+((6|x)<<1)>>1],a[(K=0|K+2)>>1]=8|a[K>>1]),a[G>>1]=16384|a[G>>1])}while(O>>>0<N>>>0);x=0|l[c>>2]}if((F=0|F+1)>>>0>=x>>>0)break;S=x}w=0|l[u>>2],S=x}else x=0}while(N>>>0<w>>>0);break;case 1:if(F=1<<i+6,!(w=0|l[u>>2])){A=0;break i}L=0==(0|i)?3688:3944,O=0,A=0,x=0|l[c>>2];do{if(G=O,O=0|O+4,x){D=-4==(0|G),R=3|G,T=0;do{P=T,T=0|T+1;n:do{if(!D)if(le){if(U){M=G;do{if(M>>>0>=(0|l[u>>2])>>>0)break n;w=M,M=0|M+1,S=0|(0|l[m>>2])+((0|B(0|l[y>>2],M))+T<<1),x=0|l[e>>2],4096==(0|20480&(E=0|a[S>>1]))&&(K=0|(0|l[f>>2])+((0|B(0|l[d>>2],w))+P<<2),K=0|l[K>>2],A=0|A+(0|a[L+((127&(K=0>(0|K)?0|0-K:K)>>>i)<<1)>>1]),l[x+100>>2]=x+24+((0|8192&E?16:0|255&E?15:14)<<2),rn(x,1&0!=(0|K&F)),a[S>>1]=8192|a[S>>1])}while(M>>>0<O>>>0)}else{M=G;do{if(M>>>0>=(0|l[u>>2])>>>0)break n;w=M,M=0|M+1,S=0|(0|l[m>>2])+((0|B(0|l[y>>2],M))+T<<1),x=0|l[e>>2],4096==(0|20480&(E=0|a[S>>1]))&&(K=0|(0|l[f>>2])+((0|B(0|l[d>>2],w))+P<<2),K=0|l[K>>2],A=0|A+(0|a[L+((127&(K=0>(0|K)?0|0-K:K)>>>i)<<1)>>1]),l[x+100>>2]=x+24+((0|8192&E?16:0|255&E?15:14)<<2),en(x,1&0!=(0|K&F)),a[S>>1]=8192|a[S>>1])}while(M>>>0<O>>>0)}}else if(U){M=G;do{if(M>>>0>=(w=0|l[u>>2])>>>0)break n;x=M,M=0|M+1,E=0|(0|l[m>>2])+((0|B(0|l[y>>2],M))+T<<1),S=0|l[e>>2],K=0|a[E>>1],4096==(0|20480&(w=(0|x)==(0|R)|(0|x)==(0|w+-1)?-1095&K:K))&&(K=0|(0|l[f>>2])+((0|B(0|l[d>>2],x))+P<<2),K=0|l[K>>2],A=0|A+(0|a[L+((127&(K=0>(0|K)?0|0-K:K)>>>i)<<1)>>1]),l[S+100>>2]=S+24+((0|8192&w?16:0|255&w?15:14)<<2),rn(S,1&0!=(0|K&F)),a[E>>1]=8192|a[E>>1])}while(M>>>0<O>>>0)}else{M=G;do{if(M>>>0>=(w=0|l[u>>2])>>>0)break n;x=M,M=0|M+1,E=0|(0|l[m>>2])+((0|B(0|l[y>>2],M))+T<<1),S=0|l[e>>2],K=0|a[E>>1],4096==(0|20480&(w=(0|x)==(0|R)|(0|x)==(0|w+-1)?-1095&K:K))&&(K=0|(0|l[f>>2])+((0|B(0|l[d>>2],x))+P<<2),K=0|l[K>>2],A=0|A+(0|a[L+((127&(K=0>(0|K)?0|0-K:K)>>>i)<<1)>>1]),l[S+100>>2]=S+24+((0|8192&w?16:0|255&w?15:14)<<2),en(S,1&0!=(0|K&F)),a[E>>1]=8192|a[E>>1])}while(M>>>0<O>>>0)}}while(0);x=0|l[c>>2]}while(T>>>0<x>>>0);w=0|l[u>>2]}else x=0}while(O>>>0<w>>>0);break;case 2:if(Y=0|l[e>>2],X=1<<i+6,w=0|l[u>>2]){Q=0|Y+92,J=0|Y+100,q=0|Y+96,K=0==(0|i)?3176:3432,S=0,A=0,x=0|l[c>>2];do{if(x)for(Z=3|S,N=0|1+(H=1|S),z=0|H+3,W=0|S+4,V=0|S+1,U=0|S+2,j=0|S+3,L=0;;){do{if(Z>>>0<w>>>0){if(w=0|l[m>>2],x=0|l[y>>2],E=0|L+1,M=0|w+((0|B(x,H))+E<<1),M=0|a[M>>1],le){if(G=0|w+((0|B(x,N))+E<<1),O=0|w+((0|B(x,Z))+E<<1),F=0|w+((0|B(x,z))+E<<1),20735&(a[G>>1]|M|a[O>>1]|a[F>>1])){F=0,w=0,He=105;break}}else{if(20735&M){F=0,w=0,He=105;break}if(F=0|w+((0|B(x,N))+E<<1),20735&a[F>>1]){F=0,w=0,He=105;break}if(F=0|w+((0|B(x,Z))+E<<1),20735&a[F>>1]){F=0,w=0,He=105;break}if(F=0|w+((0|B(x,z))+E<<1),20665&a[F>>1]){F=0,w=0,He=105;break}}w=0|l[f>>2],x=0|l[d>>2],F=0|w+((0|B(x,S))+L<<2),F=0|l[F>>2];do{if((0>(0|F)?0|0-F:F)&X)w=0;else{if(F=0|w+((0|B(x,V))+L<<2),0|(0>(0|(F=0|l[F>>2]))?0|0-F:F)&X){w=1;break}if(F=0|w+((0|B(x,U))+L<<2),0|(0>(0|(F=0|l[F>>2]))?0|0-F:F)&X){w=2;break}w=0|w+((0|B(x,j))+L<<2),w=0==(0|(0>(0|(w=0|l[w>>2]))?0|0-w:w)&X)?4:3}}while(0);if(l[J>>2]=Q,en(Y,1&4!=(0|w)),4==(0|w))break;l[J>>2]=q,en(Y,w>>>1),en(Y,1&w),F=1,He=105}else F=0,w=0,He=105}while(0);n:do{if(105==(0|He)){if(He=0,!((O=0|w+S)>>>0<W>>>0))break;G=O;do{if(G>>>0>=(w=0|l[u>>2])>>>0)break n;Ke=G,G=0|G+1,R=0|(M=0|l[m>>2])+(1+(P=0|(0|B(0|l[y>>2],G))+L)<<1),T=0|(0|l[f>>2])+((0|B(0|l[d>>2],Ke))+L<<2),D=0|l[e>>2],x=0|a[R>>1],E=((0|Ke)==(0|Z)|(0|Ke)==(0|w+-1))&he?-1095&x:x;do{if(F&(0|Ke)==(0|O))w=0|D+100,He=111;else{if(0|20480&x)break;l[(w=0|D+100)>>2]=D+24+(h[20356+(255&E|se)>>0]<<2),en(D,1&(Ke=0!=(0|(0>(0|(Ke=0|l[T>>2]))?0|0-Ke:Ke)&X))),Ke&&(He=111)}}while(0);111==(0|He)&&(He=0,T=0|l[T>>2],A=0|A+(0|a[K+((127&(0>(0|T)?0|0-T:T)>>>i)<<1)>>1]),Ke=255&E>>>4,l[w>>2]=D+24+(h[21380+Ke>>0]<<2),en(D,(T>>>=31)^h[21636+Ke>>0]),D=0|R+(0-(Ke=0|l[y>>2])<<1),Ke=0|R+(Ke<<1),a[(E=0|D+-2)>>1]=2|a[E>>1],a[D>>1]=a[D>>1]|a[3160+(T<<1)>>1],a[(D=0|D+2)>>1]=4|a[D>>1],a[(D=0|M+(P<<1))>>1]=a[D>>1]|a[3160+((2|T)<<1)>>1],a[R>>1]=4096|a[R>>1],a[(D=0|R+2)>>1]=a[D>>1]|a[3160+((4|T)<<1)>>1],a[(D=0|Ke+-2)>>1]=1|a[D>>1],a[Ke>>1]=a[Ke>>1]|a[3160+((6|T)<<1)>>1],a[(Ke=0|Ke+2)>>1]=8|a[Ke>>1]),a[R>>1]=-16385&a[R>>1]}while(G>>>0<W>>>0)}}while(0);if(L=0|L+1,x=0|l[c>>2],w=0|l[u>>2],L>>>0>=x>>>0){S=W;break}}else S=0|S+4,x=0}while(S>>>0<w>>>0)}else A=0;if(ce)break i;hn(ge);}}while(0);C=(Ue?+b[Ve>>3]:1)*(C=ne?+Pi(me,_e):+Di(me,_e))*be*+(0|1<<i),te+=C*=.0001220703125*(C*+(0|A)),b[v>>3]=+b[v>>3]+C;do{if(re)He=127;else{if(1>(0|i)&2==(0|ee)){He=127;break}tn(ge),x=1|r[(w=0|$+(0|24*t)+20)>>0],r[w>>0]=x,w=1}}while(0);do{if(127==(0|He)){if(130==(0|(He=0!=(0|ee)&(0|i)<(0|(w=0|(0|l[de>>2])-4))?ie?131:130:ie|2!=(0|ee)|(0|i)!=(0|w)?131:130))){He=0,tn(ge),x=1|r[(w=0|$+(0|24*t)+20)>>0],r[w>>0]=x,w=1;break}if(131==(0|He)){He=0,x=-2&r[(w=0|$+(0|24*t)+20)>>0],r[w>>0]=x,w=3;break}}}while(0);ee=(Ke=3==(0|(K=0|ee+1)))?0:K,i=0|i+(Ke<<31>>31);do{if(0<(0|i)&0!=(1&x)){if(fe&(2>ee>>>0?(0|i)<(0|(0|l[de>>2])-4):0)){nn(ge);break}ln(ge);break}}while(0);if(b[$+(0|24*t)+8>>3]=te,Ke=0|(0|Ki(ge))+w,l[$+(0|24*t)>>2]=Ke,oe||on(ge),t=0|t+1,-1>=(0|i))break t}else t=0}while(0);do{if(16&ye)cn(ge);else{if(0|1&ye)break;tn(ge)}}while(0);if(l[(E=0|ve+(0|52*Ae)+48)>>2]=t,0|t){x=0|ve+(0|52*Ae)+8,w=0;do{S=0|l[x>>2],(Ke=0|l[(i=0|S+(0|24*w))>>2])>>>0>(0|Ki(ge))>>>0?(t=0|Ki(ge),l[i>>2]=t):t=0|l[i>>2];do{if(1<t>>>0){if(A=0|t+-1,-1!=(0|r[(0|l[pe>>2])+A>>0]))break;l[i>>2]=A,t=A}}while(0);i=w?0|l[(0|l[x>>2])+(0|24*(0|w+-1))>>2]:0,l[S+(0|24*w)+16>>2]=t-i,w=0|w+1}while(w>>>0<(0|l[E>>2])>>>0)}Ae=0|Ae+1}while(Ae>>>0<(0|B(0|l[ke>>2],0|l[xe>>2]))>>>0);A=0|l[Ge>>2],t=0|l[Re>>2]}Ie=0|Ie+1}while(Ie>>>0<(0|B(A,t))>>>0);i=0|l[Ze>>2]}De=0|De+1}while(De>>>0<i>>>0);t=0|l[Qe>>2]}Ne=0|Ne+1}while(Ne>>>0<t>>>0);t=0|l[qe>>2]}if((Je=0|Je+1)>>>0>=t>>>0){t=1,He=163;break}}return 163==(0|He)?0|t:0}function Wi(e,t,i,n,r,o,s,c,u,f,d,p){e|=0,t|=0,i|=0,n|=0,r|=0,o|=0,s|=0,c|=0,u|=0,f|=0,d|=0,p|=0;var _,m,b,y,g,v=0,w=0,x=0,I=0,S=0,E=0,C=0,B=0,M=0,P=0,T=0,D=0;if(g=A,A=0|A+16,l[(b=g)>>2]=0,v=0|l[e>>2],P=0|l[e+4>>2],_=0|(e=0|l[P+76>>2])+(0|5640*t),w=4==(0|a[P>>1])?2:1,I=0|l[(x=0|P+80)>>2]?0|l[v+16>>2]:1,y=0|1+(0|l[e+(0|5640*t)+420>>2]),!(m=0|zt(v,P,t,p)))return A=g,0|(o=0);l[o>>2]=0;e:do{if(p){if(Ut(m,P,t,d,u,f,p),M=0|m+(0|232*d),-1==(0|l[m+(0|232*d)+80>>2]))return Nt(m,y),A=g,0|(o=0);C=0|m+(0|232*d)+36,B=0|i+840,f=0|c+12,S=0|c+8,E=0|c+88,I=0|P+93,x=0|e+(0|5640*t)+5636;t:do{if(c)for(;;){do{if(!(0|Yt(M)))break e}while((0|l[C>>2])>>>0>=n>>>0);if(l[b>>2]=0,!(0|Yi(t,i,_,M,r,b,s,c)))break t;if(r=0|r+(w=0|l[b>>2]),s=0|s-w,l[o>>2]=(0|l[o>>2])+w,0|l[f>>2]){v=0|l[E>>2],u=0|(d=0|l[v+(0|592*t)+548>>2])+((e=0|l[S>>2])<<5);do{if(e){if(1&((0|h[x>>0])>>>2|(0|h[I>>0])>>>3)&&!(0==(0|(T=0|l[(D=u)>>2]))&0==(0|(D=0|l[D+4>>2])))){v=T,p=D;break}v=0|gr(0|l[(v=0|d+(e+-1<<5)+16)>>2],0|l[v+4>>2],1,0),p=k}else v=p=0|1+(0|l[v+(0|592*t)+12>>2]),p=(0>(0|p))<<31>>31}while(0);l[u>>2]=v,l[u+4>>2]=p,w=0|gr(0|(p=0|gr(0|v,0|p,-1,-1)),0|(u=k),0|w,0),l[(P=0|d+(e<<5)+16)>>2]=w,l[P+4>>2]=k,w=0|gr(0|p,0|u,0|l[(w=P=0|d+(e<<5)+8)>>2],0|l[w+4>>2]),l[P>>2]=w,l[P+4>>2]=k}else e=0|l[S>>2];l[S>>2]=e+1,l[B>>2]=1+(0|l[B>>2])}else for(;;){do{if(!(0|Yt(M)))break e}while((0|l[C>>2])>>>0>=n>>>0);if(l[b>>2]=0,!(0|Yi(t,i,_,M,r,b,s,0)))break t;c=0|l[b>>2],l[o>>2]=(0|l[o>>2])+c,l[B>>2]=1+(0|l[B>>2]),s=0|s-c,r=0|r+c}}while(0);return Nt(m,y),A=g,0|(o=0)}if(0|I){p=0;t:for(;;){for(e=0,u=0,d=m;;){if(Ut(m,P,t,u,p,f,0),-1==(0|l[d+80>>2])){r=9;break t}v=0|d+36;i:for(;;){do{if(!(0|Yt(d)))break i}while((0|l[v>>2])>>>0>=n>>>0);if(l[b>>2]=0,!(0|Yi(t,i,_,d,r,b,s,c))){r=13;break t}D=0|l[b>>2],l[o>>2]=(0|l[o>>2])+D,e=0|D+e,s=0|s-D,r=0|r+D}if(0!=(0|(D=0|l[x>>2]))&e>>>0>D>>>0){r=17;break t}if((u=0|u+1)>>>0>=w>>>0)break;d=0|d+232}if((p=0|p+1)>>>0>=I>>>0)break e}if(9==(0|r))return Nt(m,y),A=g,0|(o=0);if(13==(0|r))return Nt(m,y),A=g,0|(o=0);if(17==(0|r))return Nt(m,y),A=g,0|(o=0)}}while(0);return Nt(m,y),A=g,0|(o=1)}function Yi(e,t,i,n,o,a,s,c){e|=0,t|=0,i|=0,o|=0,a|=0,s|=0,c|=0;var h,u,f,d,p=0,_=0,m=0,y=0,g=0,v=0,A=0,w=0,x=0,k=0,I=0,S=0,E=0,C=0,M=0,P=0,T=0,D=0,R=0,G=0,O=0,F=0,L=0;if(x=0|l[28+(n|=0)>>2],f=0|l[n+32>>2],d=0|l[n+36>>2],w=0|l[(0|l[t+20>>2])+(0|52*(0|l[n+24>>2]))+24>>2],2&l[i>>2]?(r[o>>0]=-1,r[o+1>>0]=-111,r[o+2>>0]=0,r[o+3>>0]=4,O=0|t+840,r[o+4>>0]=(0|l[O>>2])>>>8,r[o+5>>0]=l[O>>2],s=0|s+-6,O=0|o+6):O=o,0==(0|d)&&0|l[(A=0|w+(0|136*x)+24)>>2])for(m=0,y=0|w+(0|136*x)+28;;){if(n=0|l[y+20>>2],ci(0|l[n+(0|40*f)+32>>2]),ci(0|l[(g=0|n+(0|40*f)+36)>>2]),0|(v=0|B(0|l[n+(0|40*f)+20>>2],0|l[n+(0|40*f)+16>>2]))){t=0|n+(0|40*f)+24,_=0|y+28,n=0;do{F=0|l[t>>2],l[F+(0|52*n)+40>>2]=0,fi(0|l[g>>2],n,0|(0|l[_>>2])-(0|l[F+(0|52*n)+28>>2])),n=0|n+1}while((0|n)!=(0|v))}if((m=0|m+1)>>>0>=(0|l[A>>2])>>>0)break;y=0|y+36}if(!(h=0|Ai()))return 0|(a=0);if(function(e,t,i){t|=0,i|=0,l[(e|=0)>>2]=t,l[e+4>>2]=t+i,l[e+8>>2]=t,l[e+12>>2]=0,l[e+16>>2]=8}(h,O,s),ki(h,1,1),u=0|w+(0|136*x)+28,0|l[(F=0|w+(0|136*x)+24)>>2])for(R=0|d+1,T=0,D=u;;){if(g=0|(y=0|l[D+20>>2])+(0|40*f)+24,!(_=0==(0|(G=0|B(0|l[y+(0|40*f)+20>>2],0|l[y+(0|40*f)+16>>2]))))){for(m=0|y+(0|40*f)+32,n=0|l[g>>2],t=0;0==(0|l[n+40>>2])&&0|l[(0|l[n+4>>2])+(0|24*d)>>2]&&fi(0|l[m>>2],t,d),(0|(t=0|t+1))!=(0|G);){n=0|n+52}if(!_)for(P=0|y+(0|40*f)+32,M=0|y+(0|40*f)+36,S=0|l[g>>2],E=0;;){if(n=0|(0|l[S+4>>2])+(0|24*d),0|l[(C=0|S+40)>>2]?ki(h,1&0!=(0|l[n>>2]),1):di(h,0|l[P>>2],E,R),0|(t=0|l[n>>2])){0|l[C>>2]||(l[S+32>>2]=3,di(h,0|l[M>>2],E,999),t=0|l[n>>2]);e:do{switch(0|t){case 1:ki(h,0,1);break;case 2:ki(h,2,2);break;default:if(6>t>>>0){ki(h,12|t+-3,4);break e}if(37>t>>>0){ki(h,480|t+-6,9);break e}165>t>>>0&&ki(h,65408|t+-37,16);}}while(0);if(k=0|S+8,(m=0|l[C>>2])>>>0<(I=0|(t=0|l[n>>2])+m)>>>0){for(x=0|S+32,w=0|m+-1+t,A=m,_=0,t=0,y=0,v=0|(0|l[k>>2])+(0|24*m);;){if(m=0|t+1,_=0|(0|l[v+16>>2])+_,0!=(1&r[v+20>>0])|(0|A)==(0|w)){if(1<(0|_))for(t=0;;){if(t=0|t+1,!(3<_>>>0)){_=t;break}_>>>=1}else _=0;if(g=0|l[x>>2],1<(0|m))for(t=0;t=0|t+1,3<m>>>0;){m>>>=1}else t=0;g=0|_+1-g-t,_=0,m=0,y=(0|y)>(0|g)?y:g}if((0|(A=0|A+1))==(0|I))break;t=m,v=0|v+24}if(0<(0|y))for(t=y;;){if(ki(h,1,1),!(1<(0|t))){t=y;break}t=0|t+-1}else t=y}else _=0,m=0,t=0;if(ki(h,0,1),l[(A=0|S+32)>>2]=(0|l[A>>2])+t,(t=0|l[C>>2])>>>0<I>>>0)for(v=t,g=0|(0|l[k>>2])+(0|24*t),t=m;;){if(t=0|t+1,_=0|(0|l[g+16>>2])+_,0!=(1&r[g+20>>0])||(0|v)==(0|(0|l[C>>2])-1+(0|l[n>>2]))){if(y=0|l[A>>2],1<(0|t))for(m=0;;){if(m=0|m+1,!(3<t>>>0)){t=m;break}t>>>=1}else t=0;ki(h,_,0|t+y),_=0,t=0}if((0|(v=0|v+1))==(0|I))break;g=0|g+24}}if((0|(E=0|E+1))==(0|G))break;S=0|S+52}}if((T=0|T+1)>>>0>=(0|l[F>>2])>>>0)break;D=0|D+36}if(!(0|function(e){var t,i,n,o,a=0,s=0;return s=65280&(a=0|l[(i=0|12+(e|=0))>>2])<<8,l[i>>2]=s,l[(o=0|e+16)>>2]=65280==(0|s)?7:8,t=0|l[(s=0|e+8)>>2],(0|l[(n=0|e+4)>>2])>>>0<=t>>>0?0|(s=0):(l[s>>2]=t+1,r[t>>0]=a,7!=(0|l[o>>2])?0|(s=1):(e=65280&(a=0|l[i>>2])<<8,l[i>>2]=e,l[o>>2]=65280==(0|e)?7:8,e=0|l[s>>2],(0|l[n>>2])>>>0<=e>>>0?0|(s=0):(l[s>>2]=e+1,r[e>>0]=a,0|(s=1))))}(h)))return wi(h),0|(a=0);n=0|O+(t=0|xi(h)),t=0|s-t,wi(h),4&l[i>>2]&&(r[n>>0]=-1,r[n+1>>0]=-110,t=0|t+-2,n=0|n+2),(k=0!=(0|c))&&0|l[c+12>>2]&&(O=0|n-o,i=0|(0|l[(0|l[c+88>>2])+(0|592*e)+548>>2])+(l[c+8>>2]<<5)+8,l[i>>2]=O,l[i+4>>2]=(0>(0|O))<<31>>31);e:do{if(0|l[F>>2]){I=0|c+12,S=0|c+88,E=0|c+8,x=0,w=u;t:for(;;){_=0|l[w+20>>2],A=0|B(0|l[_+(0|40*f)+20>>2],0|l[_+(0|40*f)+16>>2]),_=0|l[_+(0|40*f)+24>>2];i:do{if(A){n:do{if(k)for(v=0;;){if(g=0|l[_+4>>2],0|l[(s=0|g+(0|24*d))>>2]){if((y=0|l[(m=0|g+(0|24*d)+4)>>2])>>>0>t>>>0)s=1;else{Br(0|n,0|l[g+(0|24*d)+16>>2],0|y),l[(i=0|_+40)>>2]=(0|l[i>>2])+(0|l[s>>2]),n=0|n+(i=0|l[m>>2]),t=0|t-i;do{if(0|l[I>>2]){if(i=0|(0|l[(0|l[S>>2])+(0|592*e)+548>>2])+(l[E>>2]<<5)+24,p=+b[g+(0|24*d)+8>>3]+ +b[i>>3],b[i>>3]=p,!(+b[c>>3]<p))break;b[c>>3]=p}}while(0);s=0,_=0|_+52}}else s=28,_=0|_+52;switch(31&s){case 28:case 0:break;default:break n;}if((v=0|v+1)>>>0>=A>>>0){L=83;break i}}else for(v=0;;){switch(s=0|l[_+4>>2],0|l[(m=0|s+(0|24*d))>>2]?(g=0|l[(y=0|s+(0|24*d)+4)>>2])>>>0>t>>>0?s=1:(Br(0|n,0|l[s+(0|24*d)+16>>2],0|g),l[(i=0|_+40)>>2]=(0|l[i>>2])+(0|l[m>>2]),s=0,t=0|t-(i=0|l[y>>2]),n=0|n+i,_=0|_+52):(s=28,_=0|_+52),31&s){case 28:case 0:break;default:break n;}if((v=0|v+1)>>>0>=A>>>0){L=83;break i}}}while(0);if(s){n=0;break t}s=w}else L=83}while(0);if(83==(0|L)&&(L=0,s=0|w+36),(x=0|x+1)>>>0>=(0|l[F>>2])>>>0)break e;w=s}return 0|n}}while(0);return l[a>>2]=n-o+(0|l[a>>2]),0|(a=1)}function Xi(e,t,i,n,o,a,s,c,h){e|=0,t|=0,i|=0,n|=0,o|=0,s|=0,c|=0,h|=0;var u,f,d,p,_,m,b,y,g,v,w=0,x=0,k=0,I=0,S=0,E=0,C=0,M=0,P=0,T=0,D=0,R=0,G=0,O=0,F=0,L=0,Z=0,H=0,N=0;v=A,A=0|A+64,b=0|v+48,y=0|v+40,G=0|v+32,R=0|v+24,T=0|v+16,P=0|v+8,M=v,D=0|v+56,N=a|=0,l[(g=0|v+52)>>2]=N,u=0|l[t+(0|52*(0|l[(m=0|n+24)>>2]))+24>>2],f=0|l[n+28>>2],_=0|n+36;e:do{if(0==(0|l[_>>2])&&(C=0|u+(0|136*f)+24,0|l[C>>2])){for(S=0|n+32,x=0,I=0|u+(0|136*f)+28;;){if((0|l[I+8>>2])!=(0|l[I>>2])&&(0|l[I+12>>2])!=(0|l[I+4>>2])){if(t=0|l[I+20>>2],(w=0|l[S>>2])>>>0>=(0|((0|l[I+24>>2])>>>0)/40)>>>0)break;if(ci(0|l[t+(0|40*w)+32>>2]),ci(0|l[t+(0|40*w)+36>>2]),0|(E=0|B(0|l[t+(0|40*w)+20>>2],0|l[t+(0|40*w)+16>>2])))for(k=0,t=0|l[t+(0|40*w)+24>>2];l[t+44>>2]=0,l[t+48>>2]=0,(0|(k=0|k+1))!=(0|E);){t=0|t+56}}if((x=0|x+1)>>>0>=(0|l[C>>2])>>>0)break e;I=0|I+36}return _e(h,1,22161,M),A=v,0|(N=0)}}while(0);do{if(2&l[i>>2]){if(6>c>>>0){_e(h,2,22179,P),t=N;break}if(-1==(0|r[a>>0])&&-111==(0|r[a+1>>0])){t=0|a+6,l[g>>2]=t;break}_e(h,2,22221,T),t=N}else t=N}while(0);if(!(p=0|Ai()))return A=v,0|(N=0);do{if(!(1&r[e+96>>0])){if(2&r[i+5636>>0]){H=Z=0|i+5168,Z=0|l[Z>>2],D=0|i+5180;break}l[D>>2]=a+c-t,H=g,Z=t;break}H=Z=0|e+40,Z=0|l[Z>>2],D=0|e+44}while(0);if(function(e,t,i){t|=0,i|=0,l[(e|=0)>>2]=t,l[e+4>>2]=t+i,l[e+8>>2]=t,l[e+12>>2]=0,l[e+16>>2]=0}(p,Z,0|l[D>>2]),!(0|Ii(p,1))){Si(p),t=0|Z+(0|xi(p)),wi(p);do{if(4&l[i>>2]){if(2>(0|(0|l[D>>2])-t+(0|l[H>>2]))>>>0){_e(h,2,22242,R),w=H;break}if(-1==(0|r[t>>0])&&-110==(0|r[t+1>>0])){t=0|t+2,w=H;break}_e(h,2,22284,G),w=H}else w=H}while(0);return h=0|t-(i=0|l[w>>2]),l[D>>2]=(0|l[D>>2])-h,l[H>>2]=i+h,l[o>>2]=0,l[s>>2]=(0|l[g>>2])-N,A=v,0|(N=1)}d=0|u+(0|136*f)+24;e:do{if(0|l[d>>2]){F=0|n+32,L=0|i+5584,G=0,t=0|u+(0|136*f)+28;t:for(;;){w=0|l[t+20>>2],x=0|l[F>>2];i:do{if((0|l[t+8>>2])!=(0|l[t>>2])&&(0|l[t+12>>2])!=(0|l[t+4>>2])){c=0|B(0|l[w+(0|40*x)+20>>2],0|l[w+(0|40*x)+16>>2]);n:do{if(0|c){e=0|w+(0|40*x)+32,n=0|w+(0|40*x)+36,R=0|t+28,a=0,w=0|l[w+(0|40*x)+24>>2];r:for(;;){x=0|l[(k=0|w+44)>>2]?0|Ii(p,1):0|pi(p,0|l[e>>2],a,0|1+(0|l[_>>2]));o:do{if(x){if(!(0|l[k>>2])){for(x=0;!(0|pi(p,0|l[n>>2],a,x));){x=0|x+1}l[w+24>>2]=1-x+(0|l[R>>2]),l[w+28>>2]=3}do{if(0|Ii(p,1)){if(!(0|Ii(p,1))){x=2;break}if(3!=(0|(x=0|Ii(p,2)))){x=0|x+3;break}if(31==(0|(x=0|Ii(p,5)))){x=0|37+(0|Ii(p,7));break}x=0|x+6;break}x=1}while(0);for(l[(M=0|w+40)>>2]=x,x=0;0|Ii(p,1);){x=0|x+1}l[(T=0|w+28)>>2]=(0|l[T>>2])+x,E=0|l[k>>2];do{if(E){if(x=0|E+-1,k=0|l[(C=0|w+4)>>2],(0|l[k+(x<<5)+8>>2])!=(0|l[k+(x<<5)+20>>2]))break;S=0|l[(0|l[L>>2])+(0|1080*(0|l[m>>2]))+16>>2],x=0|l[(I=0|w+52)>>2];do{if((0|E+1)>>>0>x>>>0){if(x=0|x+10,l[I>>2]=x,x=0|Ue(k,x<<5)){l[C>>2]=x,k=x;break}je(0|l[C>>2]),l[C>>2]=0,l[I>>2]=0,wi(p),x=1;break o}}while(0);l[(x=0|k+(E<<5))>>2]=0,l[x+4>>2]=0,l[x+8>>2]=0,l[x+12>>2]=0,l[x+16>>2]=0,l[x+20>>2]=0,l[x+24>>2]=0,l[x+28>>2]=0;do{if(4&S)x=1;else{if(!(1&S)){x=109;break}x=1==(0|(x=0|l[x+-32+20>>2]))|10==(0|x)?2:1}}while(0);I=E,S=C,k=0|k+(E<<5)+20,O=77}else{S=0|l[(0|l[L>>2])+(0|1080*(0|l[m>>2]))+16>>2],x=0|w+52;do{if(!(0|l[x>>2])){if(l[x>>2]=10,I=0|Ue(0|l[(k=0|w+4)>>2],320)){l[k>>2]=I,x=I,k=I;break}je(0|l[k>>2]),l[k>>2]=0,l[x>>2]=0,wi(p),x=1;break o}x=k=0|l[w+4>>2]}while(0);l[x>>2]=0,l[x+4>>2]=0,l[x+8>>2]=0,l[x+12>>2]=0,l[x+16>>2]=0,l[x+20>>2]=0,l[x+24>>2]=0,l[x+28>>2]=0,x=4&S?1:0==(0|1&S)?109:10,I=0,S=0|w+4,k=0|k+20,O=77}}while(0);for(77==(0|O)&&(l[k>>2]=x,x=I,C=S),P=0|w+52,S=0|l[M>>2],M=x;;){if(I=0|l[C>>2],x=(0|(x=0|(0|l[I+(M<<5)+20>>2])-(0|l[I+(M<<5)+8>>2])))<(0|S)?x:S,l[I+(M<<5)+24>>2]=x,I=0|l[T>>2],1<x>>>0)for(k=x,x=0;x=0|x+1,3<k>>>0;){k>>>=1}else x=0;if(O=0|Ii(p,0|x+I),k=0|l[C>>2],l[k+(M<<5)+28>>2]=O,0>=(0|(S=0|S-(0|l[k+(M<<5)+24>>2])))){O=90;break}if(E=0|M+1,I=0|l[(0|l[L>>2])+(0|1080*(0|l[m>>2]))+16>>2],(0|M+2)>>>0>(x=0|l[P>>2])>>>0){if(x=0|x+10,l[P>>2]=x,!(x=0|Ue(k,x<<5))){O=89;break}l[C>>2]=x,k=x}l[(O=0|k+(E<<5))>>2]=0,l[O+4>>2]=0,l[O+8>>2]=0,l[O+12>>2]=0,l[O+16>>2]=0,l[O+20>>2]=0,l[O+24>>2]=0,l[O+28>>2]=0;do{if(4&I)x=1;else{if(!(1&I)){x=109;break}x=1==(0|(x=0|l[k+(M<<5)+20>>2]))|10==(0|x)?2:1}}while(0);l[k+(E<<5)+20>>2]=x,M=E}if(89==(0|O)){O=0,je(0|l[C>>2]),l[C>>2]=0,l[P>>2]=0,wi(p),x=1;break}if(90==(0|O)){O=0,x=0,w=0|w+56;break}}else l[w+40>>2]=0,x=13,w=0|w+56}while(0);switch(15&x){case 13:case 0:break;default:break r;}if((a=0|a+1)>>>0>=c>>>0)break n}if(x){t=0;break t}break i}}while(0);t=0|t+36}else O=39}while(0);if(39==(0|O)&&(O=0,t=0|t+36),(G=0|G+1)>>>0>=(0|l[d>>2])>>>0)break e}return A=v,0|t}}while(0);if(!(0|Si(p)))return wi(p),A=v,0|(N=0);t=0|Z+(0|xi(p)),wi(p);do{if(4&l[i>>2]){if(2>(0|(0|l[D>>2])-t+(0|l[H>>2]))>>>0){_e(h,2,22242,y),w=H;break}if(-1==(0|r[t>>0])&&-110==(0|r[t+1>>0])){t=0|t+2,w=H;break}_e(h,2,22284,b),w=H}else w=H}while(0);return h=0|t-(i=0|l[w>>2]),l[D>>2]=(0|l[D>>2])-h,l[H>>2]=i+h,l[o>>2]=1,l[s>>2]=(0|l[g>>2])-N,A=v,0|(N=1)}function Qi(e,t){e|=0,t|=0;var i=0;return(i=0|Ne(1,8))?(l[i>>2]=e,l[i+4>>2]=t,0|i):0|(i=0)}function Ji(e){(e|=0)&&je(e)}function qi(e){(e|=0)&&je(e)}function Ki(e){return 0|(0|l[12+(e|=0)>>2])-(0|l[e+16>>2])}function $i(e,t){t|=0,l[100+(e|=0)>>2]=e+24,l[e+4>>2]=32768,l[e>>2]=0,l[e+12>>2]=t+-1,l[e+8>>2]=12,l[e+16>>2]=t}function en(e,t){t|=0;var i,n=0,o=0,a=0,s=0,c=0,h=0,u=0;if(o=0|l[100+(e|=0)>>2],a=0|l[o>>2],u=(0|l[a+4>>2])==(0|t),n=0|l[a>>2],t=0|(0|l[(i=0|e+4)>>2])-n,l[i>>2]=t,u){if(0|32768&t)l[e>>2]=(0|l[e>>2])+n;else for(t>>>0<n>>>0?(l[i>>2]=n,t=n,u=e,n=0|l[e>>2]):(n=0|(0|l[e>>2])+n,l[e>>2]=n,u=e),l[o>>2]=l[a+8>>2],c=0|e+8,h=0|e+12,s=0|e+16,e=n,n=0|l[c>>2];;){if(t<<=1,l[i>>2]=t,o=e<<1,l[u>>2]=o,n=0|n+-1,l[c>>2]=n,!n){t=0|l[h>>2];do{if((0|t)!=(0|(0|l[s>>2])-1)){if(-1==(n=0|r[t>>0])<<24>>24){a=0|t+1,l[h>>2]=a,n=7,o=1048575,t=4095&e>>>19;break}if(!(134217728&o)){a=0|t+1,l[h>>2]=a,n=8,o=524287,t=8191&e>>>18;break}if(r[t>>0]=n+1<<24>>24,t=0|l[h>>2],-1==(0|r[t>>0])){e=134217727&l[u>>2],l[u>>2]=e,a=0|t+1,l[h>>2]=a,n=7,o=1048575,t=e>>>20;break}a=0|t+1,l[h>>2]=a,n=8,o=524287,t=(0|l[u>>2])>>>19;break}a=0|t+1,l[h>>2]=a,n=8,o=524287,t=8191&e>>>18}while(0);r[a>>0]=t,o=l[u>>2]&o,l[u>>2]=o,l[c>>2]=n,t=0|l[i>>2]}if(32768&t)break;e=o}}else for(t>>>0<n>>>0?(n=0|(0|l[e>>2])+n,l[e>>2]=n,u=e):(l[i>>2]=n,t=n,u=e,n=0|l[e>>2]),l[o>>2]=l[a+12>>2],c=0|e+8,h=0|e+12,s=0|e+16,e=n,o=0|l[c>>2];;){if(t<<=1,l[i>>2]=t,n=e<<1,l[u>>2]=n,o=0|o+-1,l[c>>2]=o,!o){t=0|l[h>>2];do{if((0|t)!=(0|(0|l[s>>2])-1)){if(-1==(o=0|r[t>>0])<<24>>24){o=0|t+1,l[h>>2]=o,a=7,n=1048575,t=4095&e>>>19;break}if(!(134217728&n)){o=0|t+1,l[h>>2]=o,a=8,n=524287,t=8191&e>>>18;break}if(r[t>>0]=o+1<<24>>24,t=0|l[h>>2],-1==(0|r[t>>0])){e=134217727&l[u>>2],l[u>>2]=e,o=0|t+1,l[h>>2]=o,a=7,n=1048575,t=e>>>20;break}o=0|t+1,l[h>>2]=o,a=8,n=524287,t=(0|l[u>>2])>>>19;break}o=0|t+1,l[h>>2]=o,a=8,n=524287,t=8191&e>>>18}while(0);r[o>>0]=t,n=l[u>>2]&n,l[u>>2]=n,l[c>>2]=a,t=0|l[i>>2],o=a}if(32768&t)break;e=n}}function tn(e){var t,i=0,n=0,o=0,a=0,s=0,c=0,h=0;t=0|8+(e|=0),s=((s=65535|(h=0|l[e>>2]))>>>0<(0|(0|l[e+4>>2])+h)>>>0?s:0|s+-32768)<<l[t>>2],l[e>>2]=s,i=0|l[(h=0|e+12)>>2],c=0|e+16;do{if((0|i)!=(0|(0|l[c>>2])-1)){if(-1==(n=0|r[i>>0])<<24>>24){a=0|i+1,l[h>>2]=a,n=7,o=1048575,i=s>>>20;break}if(!(134217728&s)){a=0|i+1,l[h>>2]=a,n=8,o=524287,i=s>>>19;break}if(r[i>>0]=n+1<<24>>24,i=0|l[h>>2],-1==(0|r[i>>0])){s=134217727&l[e>>2],l[e>>2]=s,a=0|i+1,l[h>>2]=a,n=7,o=1048575,i=s>>>20;break}a=0|i+1,l[h>>2]=a,n=8,o=524287,i=(0|l[e>>2])>>>19;break}a=0|i+1,l[h>>2]=a,n=8,o=524287,i=s>>>19}while(0);r[a>>0]=i,s=l[e>>2]&o,l[t>>2]=n,s<<=n,l[e>>2]=s,n=0|l[h>>2];do{if((0|n)!=(0|(0|l[c>>2])-1)){if(-1==(i=0|r[n>>0])<<24>>24){a=0|n+1,l[h>>2]=a,n=7,o=1048575,i=s>>>20;break}if(!(134217728&s)){a=0|n+1,l[h>>2]=a,n=8,o=524287,i=s>>>19;break}if(r[n>>0]=i+1<<24>>24,i=0|l[h>>2],-1==(0|r[i>>0])){c=134217727&l[e>>2],l[e>>2]=c,a=0|i+1,l[h>>2]=a,n=7,o=1048575,i=c>>>20;break}a=0|i+1,l[h>>2]=a,n=8,o=524287,i=(0|l[e>>2])>>>19;break}a=0|n+1,l[h>>2]=a,n=8,o=524287,i=s>>>19}while(0);r[a>>0]=i,l[e>>2]=l[e>>2]&o,l[t>>2]=n,i=0|l[h>>2],-1!=(0|r[i>>0])&&(l[h>>2]=i+1)}function nn(e){l[(e|=0)>>2]=0,l[e+8>>2]=8}function rn(e,t){t|=0;var i,n,o=0;o=0|(0|l[(i=0|8+(e|=0))>>2])-1,l[i>>2]=o,t=0|(0|l[e>>2])+(t<<o),l[e>>2]=t,0|o||(n=0|1+(0|l[(o=0|e+12)>>2]),l[o>>2]=n,r[n>>0]=t,l[i>>2]=8,l[i>>2]=-1==(0|r[l[o>>2]>>0])?7:8,l[e>>2]=0)}function on(e){l[28+(e|=0)>>2]=1156,l[e+32>>2]=1156,l[e+36>>2]=1156,l[e+40>>2]=1156,l[e+44>>2]=1156,l[e+48>>2]=1156,l[e+52>>2]=1156,l[e+56>>2]=1156,l[e+60>>2]=1156,l[e+64>>2]=1156,l[e+68>>2]=1156,l[e+72>>2]=1156,l[e+76>>2]=1156,l[e+80>>2]=1156,l[e+84>>2]=1156,l[e+88>>2]=1156,l[e+96>>2]=2628,l[e+92>>2]=1252,l[e+24>>2]=1284}function an(e){l[24+(e|=0)>>2]=1156,l[e+28>>2]=1156,l[e+32>>2]=1156,l[e+36>>2]=1156,l[e+40>>2]=1156,l[e+44>>2]=1156,l[e+48>>2]=1156,l[e+52>>2]=1156,l[e+56>>2]=1156,l[e+60>>2]=1156,l[e+64>>2]=1156,l[e+68>>2]=1156,l[e+72>>2]=1156,l[e+76>>2]=1156,l[e+80>>2]=1156,l[e+84>>2]=1156,l[e+88>>2]=1156,l[e+92>>2]=1156,l[e+96>>2]=1156}function sn(e,t,i,n){i|=0,n|=0,l[24+(e|=0)+((t|=0)<<2)>>2]=1156+((n<<1)+i<<4)}function ln(e){var t,i;l[100+(e|=0)>>2]=e+24,l[e+4>>2]=32768,l[e>>2]=0,l[(t=0|e+8)>>2]=12,e=0|(0|l[(i=0|e+12)>>2])-1,l[i>>2]=e,-1==(0|r[e>>0])&&(l[t>>2]=13)}function cn(e){var t,i=0,n=0,o=0,a=0,s=0,c=0,h=0,u=0;if(0<(0|(i=0|12-(n=0|l[(t=0|8+(e|=0))>>2])))){o=0|e+12,u=0|e+16,h=i,a=0|l[e>>2],i=n;do{c=a<<i,l[e>>2]=c,l[t>>2]=0,i=0|l[o>>2];do{if((0|i)!=(0|(0|l[u>>2])-1)){if(-1==(n=0|r[i>>0])<<24>>24){s=0|i+1,l[o>>2]=s,i=7,a=1048575,n=c>>>20;break}if(!(134217728&c)){s=0|i+1,l[o>>2]=s,i=8,a=524287,n=c>>>19;break}if(r[i>>0]=n+1<<24>>24,i=0|l[o>>2],-1==(0|r[i>>0])){n=134217727&l[e>>2],l[e>>2]=n,s=0|i+1,l[o>>2]=s,i=7,a=1048575,n>>>=20;break}s=0|i+1,l[o>>2]=s,i=8,a=524287,n=(0|l[e>>2])>>>19;break}s=0|i+1,l[o>>2]=s,i=8,a=524287,n=c>>>19}while(0);r[s>>0]=n,a=l[e>>2]&a,l[e>>2]=a,l[t>>2]=i,h=0|h-i}while(0<(0|h))}else o=0|e+12;if(i=0|l[o>>2],-1!=(n=0|r[i>>0])<<24>>24){do{if((0|i)!=(0|(0|l[e+16>>2])-1)){if(!(134217728&(c=0|l[e>>2]))){s=0|i+1,l[o>>2]=s,n=e,o=8,a=524287,i=c>>>19;break}if(r[i>>0]=n+1<<24>>24,i=0|l[o>>2],-1==(0|r[i>>0])){u=134217727&l[e>>2],l[e>>2]=u,s=0|i+1,l[o>>2]=s,n=e,o=7,a=1048575,i=u>>>20;break}s=0|i+1,l[o>>2]=s,n=e,o=8,a=524287,i=(0|l[e>>2])>>>19;break}s=0|i+1,l[o>>2]=s,n=e,o=8,a=524287,i=(0|l[e>>2])>>>19}while(0);r[s>>0]=i,l[n>>2]=l[n>>2]&a,l[t>>2]=o}}function hn(e){l[100+(e|=0)>>2]=e+96,en(e,1),en(e,0),en(e,1),en(e,0)}function un(e,t,i){t|=0,i|=0;var n,o=0,a=0,s=0;l[100+(e|=0)>>2]=e+24,l[e+16>>2]=t,l[e+20>>2]=t+i,l[(n=0|e+12)>>2]=t;do{if(i){if(o=h[t>>0]<<16,l[e>>2]=o,a=0|t+1,s=1==(0|i)?255:0|h[a>>0],-1==(0|r[t>>0])){if(143<s>>>0){a=8,t=65280,i=e;break}t=9,i=7}else t=8,i=8;l[n>>2]=a,a=i,t=s<<t,i=e}else l[e>>2]=16711680,a=8,t=65280,o=16711680,i=e}while(0);return l[i>>2]=o+t<<7,l[e+8>>2]=a+-7,l[e+4>>2]=32768,1}function fn(e){var t=0,i=0,n=0,o=0,a=0,s=0,c=0,u=0,f=0,d=0,p=0,_=0;if(t=0|l[100+(e|=0)>>2],i=0|l[t>>2],o=0|l[i>>2],a=0|(0|l[(_=0|e+4)>>2])-o,l[_>>2]=a,(n=0|l[e>>2])>>>16>>>0<o>>>0){d=a>>>0<o>>>0,l[_>>2]=o,p=0|l[i+4>>2],l[t>>2]=l[(d?0|i+8:0|i+12)>>2],u=0|e+12,f=0|e+20,t=0|l[(c=0|e+8)>>2],i=n,s=o;do{if(!t){n=0|l[u>>2],t=0|l[f>>2];do{if((0|n)==(0|t))o=8,t=65280;else{if(a=(0|(o=0|n+1))==(0|t)?255:0|h[o>>0],-1==(0|r[n>>0])){if(143<a>>>0){o=8,t=65280;break}n=9,t=7}else n=8,t=8;l[u>>2]=o,o=t,t=a<<n}}while(0);i=0|i+t,l[e>>2]=i,l[c>>2]=o,t=o}s<<=1,l[_>>2]=s,i<<=1,l[e>>2]=i,t=0|t+-1,l[c>>2]=t}while(32768>s>>>0);return 0|(_=d?p:0|1-p)}if(n=0|n-(o<<16),l[e>>2]=n,0|32768&a)return 0|(_=0|l[i+4>>2]);d=a>>>0<o>>>0,p=0|l[i+4>>2],l[t>>2]=l[(d?0|i+12:0|i+8)>>2],u=0|e+12,f=0|e+20,t=0|l[(c=0|e+8)>>2],i=n,s=a;do{if(!t){n=0|l[u>>2],t=0|l[f>>2];do{if((0|n)==(0|t))o=8,t=65280;else{if(a=(0|(o=0|n+1))==(0|t)?255:0|h[o>>0],-1==(0|r[n>>0])){if(143<a>>>0){o=8,t=65280;break}n=9,t=7}else n=8,t=8;l[u>>2]=o,o=t,t=a<<n}}while(0);i=0|i+t,l[e>>2]=i,l[c>>2]=o,t=o}s<<=1,l[_>>2]=s,i<<=1,l[e>>2]=i,t=0|t+-1,l[c>>2]=t}while(32768>s>>>0);return 0|(_=d?0|1-p:p)}function dn(e){(e|=0)&&je(e)}function pn(e,t,i){t|=0,i|=0,l[20+(e|=0)>>2]=t,l[e+8>>2]=i,l[e+12>>2]=0,r[e>>0]=0,l[e+4>>2]=0}function _n(e){var t,i=0,n=0,o=0,a=0;i=0|l[(t=0|4+(e|=0))>>2];do{if(i)n=i,i=0|r[e>>0];else{if(l[t>>2]=8,(0|(o=0|l[(i=0|e+12)>>2]))==(0|l[e+8>>2])){r[e>>0]=-1,n=8,i=-1;break}-1==(0|r[e>>0])?(l[t>>2]=7,n=7):n=8,a=0|r[(0|l[e+20>>2])+o>>0],r[e>>0]=a,l[i>>2]=o+1,i=a}}while(0);return a=0|n+-1,l[t>>2]=a,0|1&(255&i)>>>a}function mn(e){e|=0;var t,i=0,n=0,r=0,o=0,a=0,s=0,c=0,h=0,u=0,f=0,d=0,p=0,_=0,m=0,b=0,y=0,g=0,v=0,w=0,x=0;t=A,A=0|A+16,_=t;do{if(245>e>>>0){if(e=(f=11>e>>>0?16:-8&e+11)>>>3,0|3&(n=(p=0|l[6184])>>>e))return r=0|l[(n=0|8+(e=0|24776+((i=0|(1^1&n)+e)<<1<<2)))>>2],(0|(a=0|l[(o=0|r+8)>>2]))==(0|e)?l[6184]=p&~(1<<i):(l[a+12>>2]=e,l[n>>2]=a),x=i<<3,l[r+4>>2]=3|x,l[(x=0|r+x+4)>>2]=1|l[x>>2],A=t,0|(x=o);if(f>>>0>(d=0|l[6186])>>>0){if(0|n)return i=0|((i=n<<e&((i=2<<e)|0-i))&0-i)-1,a=0|l[(e=0|8+(i=0|24776+((r=0|((n=8&(i>>>=c=16&i>>>12)>>>5)|c|(a=4&(i>>>=n)>>>2)|(e=2&(i>>>=a)>>>1)|(r=1&(i>>>=e)>>>1))+(i>>>r))<<1<<2)))>>2],(0|(n=0|l[(c=0|a+8)>>2]))==(0|i)?(e=p&~(1<<r),l[6184]=e):(l[n+12>>2]=i,l[e>>2]=n,e=p),s=0|(x=r<<3)-f,l[a+4>>2]=3|f,l[4+(o=0|a+f)>>2]=1|s,l[a+x>>2]=s,0|d&&(r=0|l[6189],n=0|24776+((i=d>>>3)<<1<<2),e&(i=1<<i)?i=0|l[(e=0|n+8)>>2]:(l[6184]=e|i,i=n,e=0|n+8),l[e>>2]=r,l[i+12>>2]=r,l[r+8>>2]=i,l[r+12>>2]=n),l[6186]=s,l[6189]=o,A=t,0|(x=c);if(h=0|l[6185]){if(n=0|(h&0-h)-1,e=0|l[25040+(((s=8&(n>>>=c=16&n>>>12)>>>5)|c|(u=4&(n>>>=s)>>>2)|(r=2&(n>>>=u)>>>1)|(e=1&(n>>>=r)>>>1))+(n>>>e)<<2)>>2],n=0|(-8&l[e+4>>2])-f,r=0|l[e+16+((1&0==(0|l[e+16>>2]))<<2)>>2]){do{n=(u=(c=0|(-8&l[r+4>>2])-f)>>>0<n>>>0)?c:n,e=u?r:e,r=0|l[r+16+((1&0==(0|l[r+16>>2]))<<2)>>2]}while(0!=(0|r));u=e,s=n}else u=e,s=n;if((c=0|u+f)>>>0>u>>>0){o=0|l[u+24>>2],i=0|l[u+12>>2];do{if((0|i)==(0|u)){if(!(i=0|l[(e=0|u+20)>>2])&&!(i=0|l[(e=0|u+16)>>2])){n=0;break}for(;;){if(0|(r=0|l[(n=0|i+20)>>2]))i=r,e=n;else{if(!(r=0|l[(n=0|i+16)>>2]))break;i=r,e=n}}l[e>>2]=0,n=i}else n=0|l[u+8>>2],l[n+12>>2]=i,l[i+8>>2]=n,n=i}while(0);do{if(0|o){if(i=0|l[u+28>>2],(0|u)==(0|l[(e=0|25040+(i<<2))>>2])){if(l[e>>2]=n,!n){l[6185]=h&~(1<<i);break}}else if(l[o+16+((1&(0|l[o+16>>2])!=(0|u))<<2)>>2]=n,!n)break;l[n+24>>2]=o,0|(i=0|l[u+16>>2])&&(l[n+16>>2]=i,l[i+24>>2]=n),0|(i=0|l[u+20>>2])&&(l[n+20>>2]=i,l[i+24>>2]=n)}}while(0);return 16>s>>>0?(x=0|s+f,l[u+4>>2]=3|x,l[(x=0|u+x+4)>>2]=1|l[x>>2]):(l[u+4>>2]=3|f,l[c+4>>2]=1|s,l[c+s>>2]=s,0|d&&(r=0|l[6189],n=0|24776+((i=d>>>3)<<1<<2),p&(i=1<<i)?i=0|l[(e=0|n+8)>>2]:(l[6184]=p|i,i=n,e=0|n+8),l[e>>2]=r,l[i+12>>2]=r,l[r+8>>2]=i,l[r+12>>2]=n),l[6186]=s,l[6189]=c),A=t,0|(x=0|u+8)}d=f}else d=f}else d=f}else if(4294967231>=e>>>0){if(f=-8&(e=0|e+11),u=0|l[6185]){r=0|0-f,h=(e>>>=8)?16777215<f>>>0?31:1&f>>>(0|7+(h=0|14-((d=4&(0|520192+(w=e<<(p=8&(0|e+1048320)>>>16)))>>>16)|p|(h=2&(0|245760+(w<<=d))>>>16))+(w<<h>>>15)))|h<<1:0,n=0|l[25040+(h<<2)>>2];e:do{if(n)for(e=0,c=n,s=f<<(31==(0|h)?0:0|25-(h>>>1)),n=0;;){if((o=0|(-8&l[c+4>>2])-f)>>>0<r>>>0){if(!o){r=0,n=c,e=c,w=61;break e}e=c,r=o}if(n=0==(0|(o=0|l[c+20>>2]))|(0|o)==(0|(c=0|l[c+16+(s>>>31<<2)>>2]))?n:o,o=0==(0|c)){w=57;break}s<<=1&(1^o)}else n=0,e=0,w=57}while(0);if(57==(0|w)){if(0==(0|n)&0==(0|e)){if(!(e=u&((e=2<<h)|0-e))){d=f;break}p=0|(e&0-e)-1,e=0,n=0|l[25040+(((s=8&(p>>>=c=16&p>>>12)>>>5)|c|(h=4&(p>>>=s)>>>2)|(d=2&(p>>>=h)>>>1)|(n=1&(p>>>=d)>>>1))+(p>>>n)<<2)>>2]}n?w=61:(c=e,s=r)}if(61==(0|w))for(;;){if(w=0,r=(p=(d=0|(-8&l[n+4>>2])-f)>>>0<r>>>0)?d:r,e=p?n:e,!(n=0|l[n+16+((1&0==(0|l[n+16>>2]))<<2)>>2])){c=e,s=r;break}w=61}if(0!=(0|c)&&s>>>0<(0|(0|l[6186])-f)>>>0){if((a=0|c+f)>>>0<=c>>>0)return A=t,0|(x=0);o=0|l[c+24>>2],i=0|l[c+12>>2];do{if((0|i)==(0|c)){if(!(i=0|l[(e=0|c+20)>>2])&&!(i=0|l[(e=0|c+16)>>2])){i=0;break}for(;;){if(0|(r=0|l[(n=0|i+20)>>2]))i=r,e=n;else{if(!(r=0|l[(n=0|i+16)>>2]))break;i=r,e=n}}l[e>>2]=0}else x=0|l[c+8>>2],l[x+12>>2]=i,l[i+8>>2]=x}while(0);do{if(o){if(e=0|l[c+28>>2],(0|c)==(0|l[(n=0|25040+(e<<2))>>2])){if(l[n>>2]=i,!i){r=u&~(1<<e),l[6185]=r;break}}else if(l[o+16+((1&(0|l[o+16>>2])!=(0|c))<<2)>>2]=i,!i){r=u;break}l[i+24>>2]=o,0|(e=0|l[c+16>>2])&&(l[i+16>>2]=e,l[e+24>>2]=i),(e=0|l[c+20>>2])?(l[i+20>>2]=e,l[e+24>>2]=i,r=u):r=u}else r=u}while(0);do{if(16<=s>>>0){if(l[c+4>>2]=3|f,l[a+4>>2]=1|s,l[a+s>>2]=s,i=s>>>3,256>s>>>0){n=0|24776+(i<<1<<2),(e=0|l[6184])&(i=1<<i)?i=0|l[(e=0|n+8)>>2]:(l[6184]=e|i,i=n,e=0|n+8),l[e>>2]=a,l[i+12>>2]=a,l[a+8>>2]=i,l[a+12>>2]=n;break}if(n=0|25040+((i=(i=s>>>8)?16777215<s>>>0?31:1&s>>>(0|7+(i=0|14-((v=4&(0|520192+(x=i<<(w=8&(0|i+1048320)>>>16)))>>>16)|w|(i=2&(0|245760+(x<<=v))>>>16))+(x<<i>>>15)))|i<<1:0)<<2),l[a+28>>2]=i,l[4+(e=0|a+16)>>2]=0,l[e>>2]=0,!(r&(e=1<<i))){l[6185]=r|e,l[n>>2]=a,l[a+24>>2]=n,l[a+12>>2]=a,l[a+8>>2]=a;break}for(e=s<<(31==(0|i)?0:0|25-(i>>>1)),n=0|l[n>>2];;){if((0|-8&l[n+4>>2])==(0|s)){w=97;break}if(!(i=0|l[(r=0|n+16+(e>>>31<<2))>>2])){w=96;break}e<<=1,n=i}if(96==(0|w)){l[r>>2]=a,l[a+24>>2]=n,l[a+12>>2]=a,l[a+8>>2]=a;break}if(97==(0|w)){x=0|l[(w=0|n+8)>>2],l[x+12>>2]=a,l[w>>2]=a,l[a+8>>2]=x,l[a+12>>2]=n,l[a+24>>2]=0;break}}else x=0|s+f,l[c+4>>2]=3|x,l[(x=0|c+x+4)>>2]=1|l[x>>2]}while(0);return A=t,0|(x=0|c+8)}d=f}else d=f;}else d=-1}while(0);if((n=0|l[6186])>>>0>=d>>>0)return i=0|n-d,e=0|l[6189],15<i>>>0?(x=0|e+d,l[6189]=x,l[6186]=i,l[x+4>>2]=1|i,l[e+n>>2]=i,l[e+4>>2]=3|d):(l[6186]=0,l[6189]=0,l[e+4>>2]=3|n,l[(x=0|e+n+4)>>2]=1|l[x>>2]),A=t,0|(x=0|e+8);if((c=0|l[6187])>>>0>d>>>0)return v=0|c-d,l[6187]=v,w=0|(x=0|l[6190])+d,l[6190]=w,l[w+4>>2]=1|v,l[x+4>>2]=3|d,A=t,0|(x=0|x+8);if(0|l[6302]?e=0|l[6304]:(l[6304]=4096,l[6303]=4096,l[6305]=-1,l[6306]=-1,l[6307]=0,l[6295]=0,l[6302]=1431655768^-16&_,e=4096),h=0|d+48,(f=(s=0|e+(u=0|d+47))&(o=0|0-e))>>>0<=d>>>0)return A=t,0|(x=0);if(0|(e=0|l[6294])&&(_=0|(p=0|l[6292])+f)>>>0<=p>>>0|_>>>0>e>>>0)return A=t,0|(x=0);e:do{if(4&l[6295])i=0,w=133;else{n=0|l[6190];t:do{if(n){for(r=25184;!((e=0|l[r>>2])>>>0<=n>>>0&&(0|e+(0|l[(y=0|r+4)>>2]))>>>0>n>>>0);){if(!(e=0|l[r+8>>2])){w=118;break t}r=e}if(2147483647>(i=s-c&o)>>>0){if((0|(e=0|Dr(0|i)))==(0|(0|l[r>>2])+(0|l[y>>2]))){if(-1!=(0|e)){s=i,a=e,w=135;break e}}else r=e,w=126;}else i=0}else w=118}while(0);do{if(118==(0|w))if(-1!=(0|(n=0|Dr(0)))&&(i=n,b=0|(i=0|(0==(0|(b=0|(m=0|l[6303])-1)&i)?0:0|(b+i&0-m)-i)+f)+(m=0|l[6292]),i>>>0>d>>>0&2147483647>i>>>0)){if(0|(y=0|l[6294])&&b>>>0<=m>>>0|b>>>0>y>>>0){i=0;break}if((0|(e=0|Dr(0|i)))==(0|n)){s=i,a=n,w=135;break e}r=e,w=126}else i=0}while(0);do{if(126==(0|w)){if(n=0|0-i,!(h>>>0>i>>>0&2147483647>i>>>0&-1!=(0|r))){if(-1==(0|r)){i=0;break}s=i,a=r,w=135;break e}if(2147483647<=(e=u-i+(e=0|l[6304])&0-e)>>>0){s=i,a=r,w=135;break e}if(-1==(0|Dr(0|e))){Dr(0|n),i=0;break}s=0|e+i,a=r,w=135;break e}}while(0);l[6295]=4|l[6295],w=133}}while(0);if(133==(0|w)&&2147483647>f>>>0&&!(-1==(0|(a=0|Dr(0|f)))|1^(v=(g=0|(y=0|Dr(0))-a)>>>0>(0|d+40)>>>0)|1^a>>>0<y>>>0&-1!=(0|a)&-1!=(0|y))&&(s=v?g:i,w=135),135==(0|w)){i=0|(0|l[6292])+s,l[6292]=i,i>>>0>(0|l[6293])>>>0&&(l[6293]=i),h=0|l[6190];do{if(h){for(i=25184;;){if((0|a)==(0|(e=0|l[i>>2])+(r=0|l[(n=0|i+4)>>2]))){w=143;break}if(!(o=0|l[i+8>>2]))break;i=o}if(143==(0|w)&&0==(0|8&l[i+12>>2])&&a>>>0>h>>>0&e>>>0<=h>>>0){l[n>>2]=r+s,x=0|(0|l[6187])+s,w=0|h+(v=0==(0|7&(v=0|h+8))?0:7&0-v),v=0|x-v,l[6190]=w,l[6187]=v,l[w+4>>2]=1|v,l[h+x+4>>2]=40,l[6191]=l[6306];break}for(a>>>0<(0|l[6188])>>>0&&(l[6188]=a),e=0|a+s,i=25184;;){if((0|l[i>>2])==(0|e)){w=151;break}if(!(i=0|l[i+8>>2])){e=25184;break}}if(151==(0|w)){if(!(8&l[i+12>>2])){l[i>>2]=a,l[(f=0|i+4)>>2]=(0|l[f>>2])+s,u=0|(f=0|a+(0==(0|7&(f=0|a+8))?0:7&0-f))+d,c=0|(i=0|e+(0==(0|7&(i=0|e+8))?0:7&0-i))-f-d,l[f+4>>2]=3|d;do{if((0|h)!=(0|i)){if((0|l[6189])==(0|i)){x=0|(0|l[6186])+c,l[6186]=x,l[6189]=u,l[u+4>>2]=1|x,l[u+x>>2]=x;break}if(1==(0|3&(e=0|l[i+4>>2]))){s=-8&e,r=e>>>3;e:do{if(256>e>>>0){if(e=0|l[i+8>>2],(0|(n=0|l[i+12>>2]))==(0|e)){l[6184]=l[6184]&~(1<<r);break}l[e+12>>2]=n,l[n+8>>2]=e;break}a=0|l[i+24>>2],e=0|l[i+12>>2];do{if((0|e)==(0|i)){if(!(e=0|l[(n=0|4+(r=0|i+16))>>2])){if(!(e=0|l[r>>2])){e=0;break}n=r}for(;;){if(0|(o=0|l[(r=0|e+20)>>2]))e=o,n=r;else{if(!(o=0|l[(r=0|e+16)>>2]))break;e=o,n=r}}l[n>>2]=0}else x=0|l[i+8>>2],l[x+12>>2]=e,l[e+8>>2]=x}while(0);if(!a)break;r=0|25040+((n=0|l[i+28>>2])<<2);do{if((0|l[r>>2])==(0|i)){if(l[r>>2]=e,0|e)break;l[6185]=l[6185]&~(1<<n);break e}if(l[a+16+((1&(0|l[a+16>>2])!=(0|i))<<2)>>2]=e,!e)break e}while(0);if(l[e+24>>2]=a,0|(r=0|l[(n=0|i+16)>>2])&&(l[e+16>>2]=r,l[r+24>>2]=e),!(n=0|l[n+4>>2]))break;l[e+20>>2]=n,l[n+24>>2]=e}while(0);i=0|i+s,o=0|s+c}else o=c;if(l[(i=0|i+4)>>2]=-2&l[i>>2],l[u+4>>2]=1|o,l[u+o>>2]=o,i=o>>>3,256>o>>>0){n=0|24776+(i<<1<<2),(e=0|l[6184])&(i=1<<i)?i=0|l[(e=0|n+8)>>2]:(l[6184]=e|i,i=n,e=0|n+8),l[e>>2]=u,l[i+12>>2]=u,l[u+8>>2]=i,l[u+12>>2]=n;break}i=o>>>8;do{if(i){if(16777215<o>>>0){i=31;break}i=1&o>>>(0|7+(i=0|14-((v=4&(0|520192+(x=i<<(w=8&(0|i+1048320)>>>16)))>>>16)|w|(i=2&(0|245760+(x<<=v))>>>16))+(x<<i>>>15)))|i<<1}else i=0}while(0);if(r=0|25040+(i<<2),l[u+28>>2]=i,l[4+(e=0|u+16)>>2]=0,l[e>>2]=0,!((e=0|l[6185])&(n=1<<i))){l[6185]=e|n,l[r>>2]=u,l[u+24>>2]=r,l[u+12>>2]=u,l[u+8>>2]=u;break}for(e=o<<(31==(0|i)?0:0|25-(i>>>1)),n=0|l[r>>2];;){if((0|-8&l[n+4>>2])==(0|o)){w=192;break}if(!(i=0|l[(r=0|n+16+(e>>>31<<2))>>2])){w=191;break}e<<=1,n=i}if(191==(0|w)){l[r>>2]=u,l[u+24>>2]=n,l[u+12>>2]=u,l[u+8>>2]=u;break}if(192==(0|w)){x=0|l[(w=0|n+8)>>2],l[x+12>>2]=u,l[w>>2]=u,l[u+8>>2]=x,l[u+12>>2]=n,l[u+24>>2]=0;break}}else x=0|(0|l[6187])+c,l[6187]=x,l[6190]=u,l[u+4>>2]=1|x}while(0);return A=t,0|(x=0|f+8)}e=25184}for(;!((i=0|l[e>>2])>>>0<=h>>>0&&(x=0|i+(0|l[e+4>>2]))>>>0>h>>>0);){e=0|l[e+8>>2]}i=0|(e=(e=0|(o=0|x+-47)+(0==(0|7&(e=0|o+8))?0:7&0-e))>>>0<(o=0|h+16)>>>0?h:e)+8,n=0|s+-40,w=0|a+(v=0==(0|7&(v=0|a+8))?0:7&0-v),v=0|n-v,l[6190]=w,l[6187]=v,l[w+4>>2]=1|v,l[a+n+4>>2]=40,l[6191]=l[6306],l[(n=0|e+4)>>2]=27,l[i>>2]=l[6296],l[i+4>>2]=l[6297],l[i+8>>2]=l[6298],l[i+12>>2]=l[6299],l[6296]=a,l[6297]=s,l[6299]=0,l[6298]=i,i=0|e+24;do{w=i,l[(i=0|i+4)>>2]=7}while((0|w+8)>>>0<x>>>0);if((0|e)!=(0|h)){if(a=0|e-h,l[n>>2]=-2&l[n>>2],l[h+4>>2]=1|a,l[e>>2]=a,i=a>>>3,256>a>>>0){n=0|24776+(i<<1<<2),(e=0|l[6184])&(i=1<<i)?i=0|l[(e=0|n+8)>>2]:(l[6184]=e|i,i=n,e=0|n+8),l[e>>2]=h,l[i+12>>2]=h,l[h+8>>2]=i,l[h+12>>2]=n;break}if(r=0|25040+((n=(i=a>>>8)?16777215<a>>>0?31:1&a>>>(0|7+(n=0|14-((v=4&(0|520192+(x=i<<(w=8&(0|i+1048320)>>>16)))>>>16)|w|(n=2&(0|245760+(x<<=v))>>>16))+(x<<n>>>15)))|n<<1:0)<<2),l[h+28>>2]=n,l[h+20>>2]=0,l[o>>2]=0,!((i=0|l[6185])&(e=1<<n))){l[6185]=i|e,l[r>>2]=h,l[h+24>>2]=r,l[h+12>>2]=h,l[h+8>>2]=h;break}for(e=a<<(31==(0|n)?0:0|25-(n>>>1)),n=0|l[r>>2];;){if((0|-8&l[n+4>>2])==(0|a)){w=213;break}if(!(i=0|l[(r=0|n+16+(e>>>31<<2))>>2])){w=212;break}e<<=1,n=i}if(212==(0|w)){l[r>>2]=h,l[h+24>>2]=n,l[h+12>>2]=h,l[h+8>>2]=h;break}if(213==(0|w)){x=0|l[(w=0|n+8)>>2],l[x+12>>2]=h,l[w>>2]=h,l[h+8>>2]=x,l[h+12>>2]=n,l[h+24>>2]=0;break}}}else 0==(0|(x=0|l[6188]))|a>>>0<x>>>0&&(l[6188]=a),l[6296]=a,l[6297]=s,l[6299]=0,l[6193]=l[6302],l[6192]=-1,l[6197]=24776,l[6196]=24776,l[6199]=24784,l[6198]=24784,l[6201]=24792,l[6200]=24792,l[6203]=24800,l[6202]=24800,l[6205]=24808,l[6204]=24808,l[6207]=24816,l[6206]=24816,l[6209]=24824,l[6208]=24824,l[6211]=24832,l[6210]=24832,l[6213]=24840,l[6212]=24840,l[6215]=24848,l[6214]=24848,l[6217]=24856,l[6216]=24856,l[6219]=24864,l[6218]=24864,l[6221]=24872,l[6220]=24872,l[6223]=24880,l[6222]=24880,l[6225]=24888,l[6224]=24888,l[6227]=24896,l[6226]=24896,l[6229]=24904,l[6228]=24904,l[6231]=24912,l[6230]=24912,l[6233]=24920,l[6232]=24920,l[6235]=24928,l[6234]=24928,l[6237]=24936,l[6236]=24936,l[6239]=24944,l[6238]=24944,l[6241]=24952,l[6240]=24952,l[6243]=24960,l[6242]=24960,l[6245]=24968,l[6244]=24968,l[6247]=24976,l[6246]=24976,l[6249]=24984,l[6248]=24984,l[6251]=24992,l[6250]=24992,l[6253]=25e3,l[6252]=25e3,l[6255]=25008,l[6254]=25008,l[6257]=25016,l[6256]=25016,l[6259]=25024,l[6258]=25024,x=0|s+-40,w=0|a+(v=0==(0|7&(v=0|a+8))?0:7&0-v),v=0|x-v,l[6190]=w,l[6187]=v,l[w+4>>2]=1|v,l[a+x+4>>2]=40,l[6191]=l[6306]}while(0);if((i=0|l[6187])>>>0>d>>>0)return v=0|i-d,l[6187]=v,w=0|(x=0|l[6190])+d,l[6190]=w,l[w+4>>2]=1|v,l[x+4>>2]=3|d,A=t,0|(x=0|x+8)}return l[(x=25296)>>2]=12,A=t,0|(x=0)}function bn(e){var t=0,i=0,n=0,r=0,o=0,a=0,s=0,c=0;if(e|=0){i=0|e+-8,r=0|l[6188],c=0|i+(t=-8&(e=0|l[e+-4>>2]));do{if(1&e)s=i,a=i;else{if(n=0|l[i>>2],!(3&e))return;if(o=0|n+t,(a=0|i+(0-n))>>>0<r>>>0)return;if((0|l[6189])==(0|a)){if(3!=(0|3&(t=0|l[(e=0|c+4)>>2]))){s=a,t=o;break}return l[6186]=o,l[e>>2]=-2&t,l[a+4>>2]=1|o,void(l[a+o>>2]=o)}if(i=n>>>3,256>n>>>0){if(e=0|l[a+8>>2],(0|(t=0|l[a+12>>2]))==(0|e)){l[6184]=l[6184]&~(1<<i),s=a,t=o;break}l[e+12>>2]=t,l[t+8>>2]=e,s=a,t=o;break}r=0|l[a+24>>2],e=0|l[a+12>>2];do{if((0|e)==(0|a)){if(!(e=0|l[(t=0|4+(i=0|a+16))>>2])){if(!(e=0|l[i>>2])){e=0;break}t=i}for(;;){if(0|(n=0|l[(i=0|e+20)>>2]))e=n,t=i;else{if(!(n=0|l[(i=0|e+16)>>2]))break;e=n,t=i}}l[t>>2]=0}else s=0|l[a+8>>2],l[s+12>>2]=e,l[e+8>>2]=s}while(0);if(r){if(t=0|l[a+28>>2],(0|l[(i=0|25040+(t<<2))>>2])==(0|a)){if(l[i>>2]=e,!e){l[6185]=l[6185]&~(1<<t),s=a,t=o;break}}else if(l[r+16+((1&(0|l[r+16>>2])!=(0|a))<<2)>>2]=e,!e){s=a,t=o;break}l[e+24>>2]=r,0|(i=0|l[(t=0|a+16)>>2])&&(l[e+16>>2]=i,l[i+24>>2]=e),(t=0|l[t+4>>2])?(l[e+20>>2]=t,l[t+24>>2]=e,s=a,t=o):(s=a,t=o)}else s=a,t=o}}while(0);if(!(a>>>0>=c>>>0)&&1&(n=0|l[(e=0|c+4)>>2])){if(2&n)l[e>>2]=-2&n,l[s+4>>2]=1|t,l[a+t>>2]=t,r=t;else{if((0|l[6190])==(0|c)){if(c=0|(0|l[6187])+t,l[6187]=c,l[6190]=s,l[s+4>>2]=1|c,(0|s)!=(0|l[6189]))return;return l[6189]=0,void(l[6186]=0)}if((0|l[6189])==(0|c))return c=0|(0|l[6186])+t,l[6186]=c,l[6189]=a,l[s+4>>2]=1|c,void(l[a+c>>2]=c);r=0|(-8&n)+t,i=n>>>3;do{if(256>n>>>0){if(t=0|l[c+8>>2],(0|(e=0|l[c+12>>2]))==(0|t)){l[6184]=l[6184]&~(1<<i);break}l[t+12>>2]=e,l[e+8>>2]=t;break}o=0|l[c+24>>2],e=0|l[c+12>>2];do{if((0|e)==(0|c)){if(!(e=0|l[(t=0|4+(i=0|c+16))>>2])){if(!(e=0|l[i>>2])){i=0;break}t=i}for(;;){if(0|(n=0|l[(i=0|e+20)>>2]))e=n,t=i;else{if(!(n=0|l[(i=0|e+16)>>2]))break;e=n,t=i}}l[t>>2]=0,i=e}else i=0|l[c+8>>2],l[i+12>>2]=e,l[e+8>>2]=i,i=e}while(0);if(0|o){if(e=0|l[c+28>>2],(0|l[(t=0|25040+(e<<2))>>2])==(0|c)){if(l[t>>2]=i,!i){l[6185]=l[6185]&~(1<<e);break}}else if(l[o+16+((1&(0|l[o+16>>2])!=(0|c))<<2)>>2]=i,!i)break;l[i+24>>2]=o,0|(t=0|l[(e=0|c+16)>>2])&&(l[i+16>>2]=t,l[t+24>>2]=i),0|(e=0|l[e+4>>2])&&(l[i+20>>2]=e,l[e+24>>2]=i)}}while(0);if(l[s+4>>2]=1|r,l[a+r>>2]=r,(0|s)==(0|l[6189]))return void(l[6186]=r)}if(e=r>>>3,256>r>>>0)return i=0|24776+(e<<1<<2),(t=0|l[6184])&(e=1<<e)?e=0|l[(t=0|i+8)>>2]:(l[6184]=t|e,e=i,t=0|i+8),l[t>>2]=s,l[e+12>>2]=s,l[s+8>>2]=e,void(l[s+12>>2]=i);n=0|25040+((e=(e=r>>>8)?16777215<r>>>0?31:1&r>>>(0|7+(e=0|14-((o=4&(0|520192+(c=e<<(a=8&(0|e+1048320)>>>16)))>>>16)|a|(e=2&(0|245760+(c<<=o))>>>16))+(c<<e>>>15)))|e<<1:0)<<2),l[s+28>>2]=e,l[s+20>>2]=0,l[s+16>>2]=0,t=0|l[6185],i=1<<e;do{if(t&i){for(t=r<<(31==(0|e)?0:0|25-(e>>>1)),i=0|l[n>>2];;){if((0|-8&l[i+4>>2])==(0|r)){e=73;break}if(!(e=0|l[(n=0|i+16+(t>>>31<<2))>>2])){e=72;break}t<<=1,i=e}if(72==(0|e)){l[n>>2]=s,l[s+24>>2]=i,l[s+12>>2]=s,l[s+8>>2]=s;break}if(73==(0|e)){c=0|l[(a=0|i+8)>>2],l[c+12>>2]=s,l[a>>2]=s,l[s+8>>2]=c,l[s+12>>2]=i,l[s+24>>2]=0;break}}else l[6185]=t|i,l[n>>2]=s,l[s+24>>2]=n,l[s+12>>2]=s,l[s+8>>2]=s}while(0);if(c=0|(0|l[6192])-1,l[6192]=c,!c){for(e=25192;e=0|l[e>>2];){e=0|e+8}l[6192]=-1}}}}function yn(e,t){var i=0,n=0,r=0,o=0,a=0,s=0;s=0|(e|=0)+(t|=0),i=0|l[e+4>>2];do{if(1&i)a=e;else{if(r=0|l[e>>2],!(3&i))return;if(a=0|e+(0-r),t=0|r+t,(0|l[6189])==(0|a)){if(3!=(0|3&(i=0|l[(e=0|s+4)>>2])))break;return l[6186]=t,l[e>>2]=-2&i,l[a+4>>2]=1|t,void(l[s>>2]=t)}if(n=r>>>3,256>r>>>0){if(e=0|l[a+8>>2],(0|(i=0|l[a+12>>2]))==(0|e)){l[6184]=l[6184]&~(1<<n);break}l[e+12>>2]=i,l[i+8>>2]=e;break}o=0|l[a+24>>2],e=0|l[a+12>>2];do{if((0|e)==(0|a)){if(!(e=0|l[(i=0|4+(n=0|a+16))>>2])){if(!(e=0|l[n>>2])){e=0;break}i=n}for(;;){if(0|(r=0|l[(n=0|e+20)>>2]))e=r,i=n;else{if(!(r=0|l[(n=0|e+16)>>2]))break;e=r,i=n}}l[i>>2]=0}else r=0|l[a+8>>2],l[r+12>>2]=e,l[e+8>>2]=r}while(0);if(o){if(i=0|l[a+28>>2],(0|l[(n=0|25040+(i<<2))>>2])==(0|a)){if(l[n>>2]=e,!e){l[6185]=l[6185]&~(1<<i);break}}else if(l[o+16+((1&(0|l[o+16>>2])!=(0|a))<<2)>>2]=e,!e)break;l[e+24>>2]=o,0|(n=0|l[(i=0|a+16)>>2])&&(l[e+16>>2]=n,l[n+24>>2]=e),(i=0|l[i+4>>2])&&(l[e+20>>2]=i,l[i+24>>2]=e)}}}while(0);if(2&(n=0|l[(e=0|s+4)>>2]))l[e>>2]=-2&n,l[a+4>>2]=1|t,l[a+t>>2]=t,r=t;else{if((0|l[6190])==(0|s)){if(s=0|(0|l[6187])+t,l[6187]=s,l[6190]=a,l[a+4>>2]=1|s,(0|a)!=(0|l[6189]))return;return l[6189]=0,void(l[6186]=0)}if((0|l[6189])==(0|s))return s=0|(0|l[6186])+t,l[6186]=s,l[6189]=a,l[a+4>>2]=1|s,void(l[a+s>>2]=s);r=0|(-8&n)+t,i=n>>>3;do{if(256>n>>>0){if(e=0|l[s+8>>2],(0|(t=0|l[s+12>>2]))==(0|e)){l[6184]=l[6184]&~(1<<i);break}l[e+12>>2]=t,l[t+8>>2]=e;break}o=0|l[s+24>>2],t=0|l[s+12>>2];do{if((0|t)==(0|s)){if(!(t=0|l[(e=0|4+(i=0|s+16))>>2])){if(!(t=0|l[i>>2])){i=0;break}e=i}for(;;){if(0|(n=0|l[(i=0|t+20)>>2]))t=n,e=i;else{if(!(n=0|l[(i=0|t+16)>>2]))break;t=n,e=i}}l[e>>2]=0,i=t}else i=0|l[s+8>>2],l[i+12>>2]=t,l[t+8>>2]=i,i=t}while(0);if(0|o){if(t=0|l[s+28>>2],(0|l[(e=0|25040+(t<<2))>>2])==(0|s)){if(l[e>>2]=i,!i){l[6185]=l[6185]&~(1<<t);break}}else if(l[o+16+((1&(0|l[o+16>>2])!=(0|s))<<2)>>2]=i,!i)break;l[i+24>>2]=o,0|(e=0|l[(t=0|s+16)>>2])&&(l[i+16>>2]=e,l[e+24>>2]=i),0|(t=0|l[t+4>>2])&&(l[i+20>>2]=t,l[t+24>>2]=i)}}while(0);if(l[a+4>>2]=1|r,l[a+r>>2]=r,(0|a)==(0|l[6189]))return void(l[6186]=r)}if(t=r>>>3,256>r>>>0)return i=0|24776+(t<<1<<2),(e=0|l[6184])&(t=1<<t)?t=0|l[(e=0|i+8)>>2]:(l[6184]=e|t,t=i,e=0|i+8),l[e>>2]=a,l[t+12>>2]=a,l[a+8>>2]=t,void(l[a+12>>2]=i);if(t=(t=r>>>8)?16777215<r>>>0?31:1&r>>>(0|7+(t=0|14-((n=4&(0|520192+(s=t<<(o=8&(0|t+1048320)>>>16)))>>>16)|o|(t=2&(0|245760+(s<<=n))>>>16))+(s<<t>>>15)))|t<<1:0,n=0|25040+(t<<2),l[a+28>>2]=t,l[a+20>>2]=0,l[a+16>>2]=0,!((e=0|l[6185])&(i=1<<t)))return l[6185]=e|i,l[n>>2]=a,l[a+24>>2]=n,l[a+12>>2]=a,void(l[a+8>>2]=a);for(e=r<<(31==(0|t)?0:0|25-(t>>>1)),i=0|l[n>>2];;){if((0|-8&l[i+4>>2])==(0|r)){t=69;break}if(!(t=0|l[(n=0|i+16+(e>>>31<<2))>>2])){t=68;break}e<<=1,i=t}return 68==(0|t)?(l[n>>2]=a,l[a+24>>2]=i,l[a+12>>2]=a,void(l[a+8>>2]=a)):69==(0|t)?(s=0|l[(o=0|i+8)>>2],l[s+12>>2]=a,l[o>>2]=a,l[a+8>>2]=s,l[a+12>>2]=i,void(l[a+24>>2]=0)):void 0}function gn(e,t){t|=0;var i,n=0,r=0,o=0,a=0,s=0;if((e=16<(e|=0)>>>0?e:16)+-1&e)for(n=16;;){if(!(n>>>0<e>>>0)){e=n;break}n<<=1}if((0|-64-e)>>>0<=t>>>0)return l[(a=25296)>>2]=12,0|(a=0);if(!(n=0|mn(0|12+(i=11>t>>>0?16:-8&t+11)+e)))return 0|(a=0);o=0|n+-8;do{if(e+-1&n){if(t=0|(r=15<(0|(r=0|(n+e+-1&0-e)-8)-(t=o))>>>0?r:0|r+e)-t,n=0|(-8&(s=0|l[(e=0|n+-4)>>2]))-t,3&s){l[(s=0|r+4)>>2]=2|(n|1&l[s>>2]),l[(n=0|r+n+4)>>2]=1|l[n>>2],l[e>>2]=2|(t|1&l[e>>2]),l[s>>2]=1|l[s>>2],yn(o,t),e=r,t=r;break}l[r>>2]=(0|l[o>>2])+t,l[r+4>>2]=n,e=r,t=r;break}e=o,t=o}while(0);return 0|3&(n=0|l[(e=0|e+4)>>2])&&(a=-8&n)>>>0>(0|i+16)>>>0&&(s=0|a-i,o=0|t+i,l[e>>2]=2|(i|1&n),l[o+4>>2]=3|s,l[(a=0|t+a+4)>>2]=1|l[a>>2],yn(o,s)),0|(s=0|t+8)}function vn(e,t,i){e|=0,t|=0,i|=0;var n=0;do{if(8!=(0|t)){if(0!=(0|3&t)|0==(0|(n=t>>>2)))return 0|(e=22);if(0|n+1073741823&n)return 0|(e=22);if((0|-64-t)>>>0<i>>>0)return 0|(e=12);t=0|gn(16<t>>>0?t:16,i);break}t=0|mn(i)}while(0);return t?(l[e>>2]=t,0|(e=0)):0|(e=12)}function An(e,t,i){t|=0,i|=0;var n,r,o,a,s,c=0,h=0,u=0,f=0,d=0,p=0;s=A,A=0|A+48,a=0|s+16,u=s,h=0|s+32,c=0|l[(r=0|28+(e|=0))>>2],l[h>>2]=c,c=0|(0|l[(o=0|e+20)>>2])-c,l[h+4>>2]=c,l[h+8>>2]=t,l[h+12>>2]=i,c=0|c+i,n=0|e+60,l[u>>2]=l[n>>2],l[u+4>>2]=h,l[u+8>>2]=2,u=0|wn(0|Z(146,0|u));e:do{if((0|c)!=(0|u)){for(t=2;!(0>(0|u));){if(c=0|c-u,h=(d=u>>>0>(p=0|l[h+4>>2])>>>0)?0|h+8:h,t=0|t+(d<<31>>31),p=0|u-(d?p:0),l[h>>2]=(0|l[h>>2])+p,l[(d=0|h+4)>>2]=(0|l[d>>2])-p,l[a>>2]=l[n>>2],l[a+4>>2]=h,l[a+8>>2]=t,(0|c)==(0|(u=0|wn(0|Z(146,0|a))))){f=3;break e}}l[e+16>>2]=0,l[r>>2]=0,l[o>>2]=0,l[e>>2]=32|l[e>>2],i=2==(0|t)?0:0|i-(0|l[h+4>>2])}else f=3}while(0);return 3==(0|f)&&(p=0|l[e+44>>2],l[e+16>>2]=p+(0|l[e+48>>2]),l[r>>2]=p,l[o>>2]=p),A=s,0|i}function wn(e){return 4294963200<(e|=0)>>>0&&(l[6324]=0-e,e=-1),0|e}function xn(e,t){t|=0;var i=0,n=0;if(i=0|r[(e|=0)>>0],n=0|r[t>>0],0==i<<24>>24||i<<24>>24!=n<<24>>24)e=n;else{do{t=0|t+1,i=0|r[(e=0|e+1)>>0],n=0|r[t>>0]}while(0!=i<<24>>24&&i<<24>>24==n<<24>>24);e=n}return 0|(255&i)-(255&e)}function kn(e){var t,i=0,n=0;t=e|=0;e:do{if(3&t)for(i=t;;){if(!(0|r[e>>0])){e=i;break e}if(!(3&(i=e=0|e+1))){n=4;break}}else n=4}while(0);if(4==(0|n)){for(;!((-2139062144^-2139062144&(i=0|l[e>>2]))&i+-16843009);){e=0|e+4}if((255&i)<<24>>24)do{e=0|e+1}while(0!=(0|r[e>>0]))}return 0|e-t}function In(e,t){var i;return t|=0,0|((0|Sn(e|=0,1,i=0|kn(e),t))!=(0|i))<<31>>31}function Sn(e,t,i,n){e|=0,n|=0;var r,o=0;return r=0|B(i|=0,t|=0),i=0==(0|t)?0:i,-1<(0|l[n+76>>2])?(o=0==(0|Bn()),e=0|Tn(e,r,n),o||Cn()):e=0|Tn(e,r,n),(0|e)!=(0|r)&&(i=0|(e>>>0)/(t>>>0)),0|i}function En(e){var t=0;0|l[68+(e|=0)>>2]&&(t=0|l[e+116>>2],e=0|e+112,0|t&&(l[t+112>>2]=l[e>>2]),e=0|l[e>>2],l[(e=e?0|e+116:3024)>>2]=t)}function Cn(e){}function Bn(e){return 0}function Mn(e,t){e|=0;var i,n,o,a=0,s=0,c=0,u=0;o=A,A=0|A+16,n=255&(t|=0),r[(i=o)>>0]=n,(c=0|l[(s=0|e+16)>>2])?u=4:0|Pn(e)?a=-1:(c=0|l[s>>2],u=4);do{if(4==(0|u)){if((s=0|l[(u=0|e+20)>>2])>>>0<c>>>0&&(0|(a=255&t))!=(0|r[e+75>>0])){l[u>>2]=s+1,r[s>>0]=n;break}a=1==(0|Jr[63&l[e+36>>2]](e,i,1))?0|h[i>>0]:-1}}while(0);return A=o,0|a}function Pn(e){var t=0,i=0;return i=0|r[(t=0|74+(e|=0))>>0],r[t>>0]=i+255|i,8&(t=0|l[e>>2])?(l[e>>2]=32|t,e=-1):(l[e+8>>2]=0,l[e+4>>2]=0,i=0|l[e+44>>2],l[e+28>>2]=i,l[e+20>>2]=i,l[e+16>>2]=i+(0|l[e+48>>2]),e=0),0|e}function Tn(e,t,i){e|=0,t|=0;var n=0,o=0,a=0,s=0,c=0;(o=0|l[(n=0|16+(i|=0))>>2])?a=5:0|Pn(i)?n=0:(o=0|l[n>>2],a=5);e:do{if(5==(0|a)){if(n=s=0|l[(c=0|i+20)>>2],(0|o-s)>>>0<t>>>0){n=0|Jr[63&l[i+36>>2]](i,e,t);break}t:do{if(-1<(0|r[i+75>>0])){for(s=t;;){if(!s){a=0,o=e;break t}if(10==(0|r[e+(o=0|s+-1)>>0]))break;s=o}if((n=0|Jr[63&l[i+36>>2]](i,e,s))>>>0<s>>>0)break e;a=s,o=0|e+s,t=0|t-s,n=0|l[c>>2]}else a=0,o=e}while(0);Br(0|n,0|o,0|t),l[c>>2]=(0|l[c>>2])+t,n=0|a+t}}while(0);return 0|n}function Dn(e,t,i){t|=0,i|=0;var n,o=0,a=0,s=0,c=0,h=0,u=0,f=0,d=0,p=0;n=0|1794895138+(0|l[(e|=0)>>2]),s=0|Rn(0|l[e+8>>2],n),o=0|Rn(0|l[e+12>>2],n),a=0|Rn(0|l[e+16>>2],n);e:do{if(s>>>0<t>>>2>>>0&&(p=0|t-(s<<2),o>>>0<p>>>0&a>>>0<p>>>0)&&0==(0|3&(a|o))){for(p=o>>>2,d=a>>>2,f=0;;){if(o=0|Rn(0|l[e+((a=0|(c=(u=0|f+(h=s>>>1))<<1)+p)<<2)>>2],n),!((a=0|Rn(0|l[e+(a+1<<2)>>2],n))>>>0<t>>>0&o>>>0<(0|t-a)>>>0)){o=0;break e}if(0|r[e+(a+o)>>0]){o=0;break e}if(!(o=0|xn(i,0|e+a)))break;if(o=0>(0|o),1==(0|s)){o=0;break e}f=o?f:u,s=o?h:0|s-h}a=0|Rn(0|l[e+((o=0|c+d)<<2)>>2],n),o=(o=0|Rn(0|l[e+(o+1<<2)>>2],n))>>>0<t>>>0&a>>>0<(0|t-o)>>>0&&0==(0|r[e+(o+a)>>0])?0|e+o:0}else o=0}while(0);return 0|o}function Rn(e,t){var i;return t|=0,i=0|Cr(0|(e|=0)),0|(0==(0|t)?e:i)}function Gn(e,t){e|=0;var i,n,o,a=0,s=0;return o=A,A=0|A+48,n=0|o+32,i=0|o+16,a=o,0|On(22305,0|r[(t|=0)>>0],4)?(s=0|function(e){var t=0,i=0,n=0;return i=0==(0|Fn(e|=0,43)),t=0|r[e>>0],i=i?1&114!=t<<24>>24:2,n=0==(0|Fn(e,120)),i=n?i:128|i,e=(e=0==(0|Fn(e,101)))?i:524288|i,e=114==t<<24>>24?e:64|e,e=119==t<<24>>24?512|e:e,0|(97==t<<24>>24?1024|e:e)}(t),l[a>>2]=e,l[a+4>>2]=32768|s,l[a+8>>2]=438,0<=(0|(a=0|wn(0|N(5,0|a))))?(0|524288&s&&(l[i>>2]=a,l[i+4>>2]=2,l[i+8>>2]=1,H(221,0|i)),(e=0|function(e,t){e|=0;var i=0,n=0,o=0,a=0,s=0,c=0,h=0,u=0,f=0,d=0;if(d=A,A=0|A+64,f=0|d+40,h=0|d+24,c=0|d+16,o=d,u=0|d+56,0|On(22305,(n=0|r[(t|=0)>>0])<<24>>24,4)){if(i=0|mn(1156)){s=0|(a=i)+124;do{l[a>>2]=0,a=0|a+4}while((0|a)<(0|s));0|Fn(t,43)||(l[i>>2]=114==n<<24>>24?8:4),0|Fn(t,101)&&(l[o>>2]=e,l[o+4>>2]=2,l[o+8>>2]=1,H(221,0|o),n=0|r[t>>0]),97==n<<24>>24?(l[c>>2]=e,l[c+4>>2]=3,1024&(n=0|H(221,0|c))||(l[h>>2]=e,l[h+4>>2]=4,l[h+8>>2]=1024|n,H(221,0|h)),t=128|l[i>>2],l[i>>2]=t):t=0|l[i>>2],l[i+60>>2]=e,l[i+44>>2]=i+132,l[i+48>>2]=1024,r[(n=0|i+75)>>0]=-1,0==(0|8&t)&&(l[f>>2]=e,l[f+4>>2]=21523,l[f+8>>2]=u,0==(0|z(54,0|f)))&&(r[n>>0]=10),l[i+32>>2]=62,l[i+36>>2]=61,l[i+40>>2]=2,l[i+12>>2]=1,0|l[6309]||(l[i+76>>2]=-1),function(e){e|=0;var t=0,i=0;t=0|Ln(),l[e+56>>2]=l[t>>2],0|(i=0|l[t>>2])&&(l[i+52>>2]=e),l[t>>2]=e,Zn()}(i)}else i=0;}else l[(i=25296)>>2]=22,i=0;return A=d,0|i}(a,t))||(l[n>>2]=a,V(6,0|n),e=0)):e=0):(l[(e=25296)>>2]=22,e=0),A=o,0|e}function On(e,t,i){e|=0;var n=0,o=0,a=0,s=0;a=255&(t|=0),n=0!=(0|(i|=0));e:do{if(n&0!=(0|3&e))for(o=255&t;;){if((0|r[e>>0])==o<<24>>24){s=6;break e}if(!((n=0!=(0|(i=0|i+-1)))&0!=(0|3&(e=0|e+1)))){s=5;break}}else s=5}while(0);5==(0|s)&&(n?s=6:i=0);e:do{if(6==(0|s)&&(o=255&t,(0|r[e>>0])!=o<<24>>24)){n=0|B(a,16843009);t:do{if(3<i>>>0){for(;!(0|(-2139062144^-2139062144&(a=l[e>>2]^n))&a+-16843009);){if(e=0|e+4,3>=(i=0|i+-4)>>>0){s=11;break t}}}else s=11}while(0);if(11==(0|s)&&!i){i=0;break}for(;;){if((0|r[e>>0])==o<<24>>24)break e;if(e=0|e+1,!(i=0|i+-1)){i=0;break}}}}while(0);return 0|(0|i?e:0)}function Fn(e,t){return e=0|function(e,t){e|=0;var i=0,n=0,o=0;n=255&(t|=0);e:do{if(n){if(3&e){i=255&t;do{if(0==(o=0|r[e>>0])<<24>>24||o<<24>>24==i<<24>>24)break e;e=0|e+1}while(0!=(0|3&e))}n=0|B(n,16843009),i=0|l[e>>2];t:do{if(!((-2139062144^-2139062144&i)&i+-16843009))do{if(0|(-2139062144^-2139062144&(o=i^n))&o+-16843009)break t;i=0|l[(e=0|e+4)>>2]}while(!(0|(-2139062144^-2139062144&i)&i+-16843009))}while(0);for(i=255&t;0!=(o=0|r[e>>0])<<24>>24&&o<<24>>24!=i<<24>>24;){e=0|e+1}}else e=0|e+(0|kn(e))}while(0);return 0|e}(e|=0,t|=0),0|((0|r[e>>0])==(255&t)<<24>>24?e:0)}function Ln(){return G(25300),25308}function Zn(){U(25300)}function Hn(e){var t,i=0,n=0,r=0,o=0;return o=-1<(0|l[76+(e|=0)>>2])?0|Bn():0,En(e),(t=0!=(0|1&l[e>>2]))||(r=0|Ln(),i=0|e+56,0|(n=0|l[e+52>>2])&&(l[n+56>>2]=l[i>>2]),0|(i=0|l[i>>2])&&(l[i+52>>2]=n),(0|l[r>>2])==(0|e)&&(l[r>>2]=i),Zn()),i=0|function e(t){t|=0;var i=0,n=0;do{if(t){if(-1>=(0|l[t+76>>2])){i=0|Nn(t);break}n=0==(0|Bn()),i=0|Nn(t),n||Cn()}else{if(i=0|l[697]?0|e(0|l[697]):0,t=0|Ln(),t=0|l[t>>2])do{n=-1<(0|l[t+76>>2])?0|Bn():0,(0|l[t+20>>2])>>>0>(0|l[t+28>>2])>>>0&&(i=0|Nn(t)|i),0|n&&Cn(),t=0|l[t+56>>2]}while(0!=(0|t));Zn()}}while(0);return 0|i}(e),i=0|Xr[15&l[e+12>>2]](e)|i,0|(n=0|l[e+92>>2])&&bn(n),t?0|o&&Cn():bn(e),0|i}function Nn(e){var t,i,n=0,r=0,o=0,a=0;return i=0|28+(e|=0),(0|l[(t=0|e+20)>>2])>>>0>(0|l[i>>2])>>>0&&(Jr[63&l[e+36>>2]](e,0,0),0==(0|l[t>>2]))?e=-1:((r=0|l[(n=0|e+4)>>2])>>>0<(a=0|l[(o=0|e+8)>>2])>>>0&&Jr[63&l[e+40>>2]](e,0|r-a,1),l[e+16>>2]=0,l[i>>2]=0,l[t>>2]=0,l[o>>2]=0,l[n>>2]=0,e=0),0|e}function zn(e){var t=0,i=0;return i=0|r[(t=0|74+(e|=0))>>0],r[t>>0]=i+255|i,i=0|e+28,(0|l[(t=0|e+20)>>2])>>>0>(0|l[i>>2])>>>0&&Jr[63&l[e+36>>2]](e,0,0),l[e+16>>2]=0,l[i>>2]=0,l[t>>2]=0,4&(t=0|l[e>>2])?(l[e>>2]=32|t,t=-1):(i=0|(0|l[e+44>>2])+(0|l[e+48>>2]),l[e+8>>2]=i,l[e+4>>2]=i,t=t<<27>>31),0|t}function Vn(e,t,i){return 0|function(e,t,i){t|=0,i|=0;var n=0;return-1<(0|l[76+(e|=0)>>2])?(n=0==(0|Bn()),t=0|sr(e,t,i),n||Cn()):t=0|sr(e,t,i),0|t}(e|=0,t|=0,i|=0)}function Un(e,t,i){var n,r;return e|=0,t|=0,i|=0,n=A,A=0|A+16,l[(r=n)>>2]=i,i=0|jn(e,t,r),A=n,0|i}function jn(e,t,i){e|=0,t|=0,i|=0;var n,o,a,s,c,h=0,u=0,f=0,d=0,p=0,_=0,m=0,b=0;c=A,A=0|A+224,n=0|c+120,a=c,s=0|c+136,u=0|40+(h=o=0|c+80);do{l[h>>2]=0,h=0|h+4}while((0|h)<(0|u));return l[n>>2]=l[i>>2],0>(0|Wn(0,t,n,a,o))?i=-1:(b=-1<(0|l[e+76>>2])?0|Bn():0,m=32&(i=0|l[e>>2]),1>(0|r[e+74>>0])&&(l[e>>2]=-33&i),0|l[(h=0|e+48)>>2]?i=0|Wn(e,t,n,a,o):(f=0|l[(u=0|e+44)>>2],l[u>>2]=s,l[(d=0|e+28)>>2]=s,l[(p=0|e+20)>>2]=s,l[h>>2]=80,l[(_=0|e+16)>>2]=s+80,i=0|Wn(e,t,n,a,o),f&&(Jr[63&l[e+36>>2]](e,0,0),i=0==(0|l[p>>2])?-1:i,l[u>>2]=f,l[h>>2]=0,l[_>>2]=0,l[d>>2]=0,l[p>>2]=0)),h=0|l[e>>2],l[e>>2]=h|m,0|b&&Cn(),i=0==(0|32&h)?i:-1),A=c,0|i}function Wn(e,t,i,n,o){e|=0,t|=0,i|=0,n|=0,o|=0;var s,c,h,u,f,d,p,_,m,y=0,g=0,v=0,w=0,x=0,I=0,S=0,E=0,C=0,B=0,M=0,P=0,T=0,D=0;m=A,A=0|A+64,d=m,D=0|m+24,p=0|m+8,_=0|m+20,l[(f=0|m+16)>>2]=t,s=0!=(0|e),h=c=0|D+40,D=0|D+39,u=0|p+4,g=0,y=0,I=0;e:for(;;){do{if(-1<(0|y)){if((0|g)>(0|2147483647-y)){l[(y=25296)>>2]=75,y=-1;break}y=0|g+y;break}}while(0);if(!((g=0|r[t>>0])<<24>>24)){T=86;break}v=t;t:for(;;){switch(g<<24>>24){case 37:g=v,T=9;break t;case 0:g=v;break t;}P=0|v+1,l[f>>2]=P,g=0|r[P>>0],v=P}t:do{if(9==(0|T))for(;;){if(T=0,37!=(0|r[v+1>>0]))break t;if(g=0|g+1,v=0|v+2,l[f>>2]=v,37!=(0|r[v>>0]))break;T=9}}while(0);if(g=0|g-t,s&&Yn(e,t,g),0|g)t=v;else{if(10>(g=0|(0|r[(w=0|v+1)>>0])-48)>>>0?(B=(P=36==(0|r[v+2>>0]))?g:-1,I=P?1:I,w=P?0|v+3:w):B=-1,l[f>>2]=w,31<(P=0|((g=0|r[w>>0])<<24>>24)-32)>>>0|0==(0|75913&1<<P))v=0;else{v=0;do{v|=1<<(g<<24>>24)-32,w=0|w+1,l[f>>2]=w,P=0|((g=0|r[w>>0])<<24>>24)-32}while(!(31<P>>>0|0==(0|75913&1<<P)))}if(42==g<<24>>24){if(10>(g=0|(0|r[(x=0|w+1)>>0])-48)>>>0&&36==(0|r[w+2>>0]))l[o+(g<<2)>>2]=10,g=0|l[n+((0|r[x>>0])-48<<3)>>2],I=1,w=0|w+3;else{if(0|I){y=-1;break}s?(I=-4&3+(0|l[i>>2]),g=0|l[I>>2],l[i>>2]=I+4,I=0,w=x):(g=0,I=0,w=x)}l[f>>2]=w,g=(M=0>(0|g))?0|0-g:g,M=M?8192|v:v}else{if(0>(0|(g=0|Xn(f)))){y=-1;break}M=v,w=0|l[f>>2]}do{if(46==(0|r[w>>0])){if(42!=(0|r[w+1>>0])){l[f>>2]=w+1,v=0|Xn(f),w=0|l[f>>2];break}if(10>(v=0|(0|r[(x=0|w+2)>>0])-48)>>>0&&36==(0|r[w+3>>0])){l[o+(v<<2)>>2]=10,v=0|l[n+((0|r[x>>0])-48<<3)>>2],w=0|w+4,l[f>>2]=w;break}if(0|I){y=-1;break e}s?(P=-4&3+(0|l[i>>2]),v=0|l[P>>2],l[i>>2]=P+4):v=0,l[f>>2]=x,w=x}else v=-1}while(0);for(C=0;;){if(57<(0|(0|r[w>>0])-65)>>>0){y=-1;break e}if(P=0|w+1,l[f>>2]=P,!(8>(0|(S=255&(x=0|r[(0|r[w>>0])-65+(22309+(0|58*C))>>0]))-1)>>>0))break;C=S,w=P}if(!(x<<24>>24)){y=-1;break}E=-1<(0|B);do{if(19==x<<24>>24){if(E){y=-1;break e}T=48}else{if(E){l[o+(B<<2)>>2]=S,B=0|l[4+(E=0|n+(B<<3))>>2],l[(T=d)>>2]=l[E>>2],l[T+4>>2]=B,T=48;break}if(!s){y=0;break e}Qn(d,S,i)}}while(0);if(48!=(0|T)||(T=0,s)){w=0!=(0|C)&3==(0|15&(w=0|r[w>>0]))?-33&w:w,B=-65537&M,M=0==(0|8192&M)?M:B;t:do{switch(0|w){case 110:switch((255&C)<<24>>24){case 0:case 1:l[l[d>>2]>>2]=y,g=0,t=P;continue e;case 2:g=0|l[d>>2],l[g>>2]=y,l[g+4>>2]=(0>(0|y))<<31>>31,g=0,t=P;continue e;case 3:a[l[d>>2]>>1]=y,g=0,t=P;continue e;case 4:r[l[d>>2]>>0]=y,g=0,t=P;continue e;case 6:l[l[d>>2]>>2]=y,g=0,t=P;continue e;case 7:g=0|l[d>>2],l[g>>2]=y,l[g+4>>2]=(0>(0|y))<<31>>31,g=0,t=P;continue e;default:g=0,t=P;continue e;}case 112:w=120,v=8<v>>>0?v:8,t=8|M,T=60;break;case 88:case 120:t=M,T=60;break;case 111:x=0,S=22773,v=0==(0|8&M)|(0|v)>(0|(C=0|h-(E=0|qn(t=0|l[(w=d)>>2],w=0|l[w+4>>2],c))))?v:0|C+1,C=M,T=66;break;case 105:case 100:if(t=0|l[(w=d)>>2],0>(0|(w=0|l[w+4>>2]))){t=0|vr(0,0,0|t,0|w),w=k,l[(x=d)>>2]=t,l[x+4>>2]=w,x=1,S=22773,T=65;break t}x=1&0!=(0|2049&M),S=0==(0|2048&M)?0==(0|1&M)?22773:22775:22774,T=65;break t;case 117:x=0,S=22773,t=0|l[(w=d)>>2],w=0|l[w+4>>2],T=65;break;case 99:r[D>>0]=l[d>>2],t=D,x=0,S=22773,E=c,w=1,v=B;break;case 109:w=0|$n(0|l[(w=25296)>>2]),T=70;break;case 115:w=0|(w=0|l[d>>2])?w:22783,T=70;break;case 67:l[p>>2]=l[d>>2],l[u>>2]=0,l[d>>2]=p,E=-1,w=p,T=74;break;case 83:t=0|l[d>>2],v?(E=v,w=t,T=74):(er(e,32,g,0,M),t=0,T=83);break;case 65:case 71:case 70:case 69:case 97:case 103:case 102:case 101:g=0|ir(e,+b[d>>3],g,v,M,w),t=P;continue e;default:x=0,S=22773,E=c,w=v,v=M;}}while(0);t:do{if(60==(0|T))E=0|Jn(B=0|l[(M=d)>>2],M=0|l[M+4>>2],c,32&w),x=(S=0==(0|8&t)|0==(0|B)&0==(0|M))?0:2,S=S?22773:0|22773+(w>>4),C=t,t=B,w=M,T=66;else if(65==(0|T))E=0|Kn(t,w,c),C=M,T=66;else if(70==(0|T))T=0,t=w,x=0,S=22773,E=(C=0==(0|(M=0|On(w,0,v))))?0|w+v:M,w=C?v:0|M-w,v=B;else if(74==(0|T)){for(T=0,S=w,t=0,v=0;(x=0|l[S>>2])&&!(0>(0|(v=0|tr(_,x)))|v>>>0>(0|E-t)>>>0)&&E>>>0>(t=0|v+t)>>>0;){S=0|S+4}if(0>(0|v)){y=-1;break e}if(er(e,32,g,t,M),t)for(x=0;;){if(!(v=0|l[w>>2])){T=83;break t}if((0|(x=0|(v=0|tr(_,v))+x))>(0|t)){T=83;break t}if(Yn(e,_,v),x>>>0>=t>>>0){T=83;break}w=0|w+4}else t=0,T=83}}while(0);if(66==(0|T))T=0,M=0!=(0|v)|(w=0!=(0|t)|0!=(0|w)),w=0|h-E+(1&(1^w)),t=M?E:c,E=c,w=M?(0|v)>(0|w)?v:w:v,v=-1<(0|v)?-65537&C:C;else if(83==(0|T)){T=0,er(e,32,g,t,8192^M),g=(0|g)>(0|t)?g:t,t=P;continue}er(e,32,g=(0|g)<(0|(M=0|(C=(0|w)<(0|(B=0|E-t))?B:w)+x))?M:g,M,v),Yn(e,S,x),er(e,48,g,M,65536^v),er(e,48,C,B,0),Yn(e,t,B),er(e,32,g,M,8192^v),t=P}else g=0,t=P}}e:do{if(86==(0|T)&&!e)if(I){for(y=1;t=0|l[o+(y<<2)>>2];){if(Qn(0|n+(y<<3),t,i),t=0|y+1,!(9>(0|y))){y=t;break}y=t}if(10>(0|y))for(;;){if(0|l[o+(y<<2)>>2]){y=-1;break e}if(!(9>(0|y))){y=1;break}y=0|y+1}else y=1}else y=0}while(0);return A=m,0|y}function Yn(e,t,i){t|=0,i|=0,32&l[(e|=0)>>2]||Tn(t,i,e)}function Xn(e){var t=0,i=0,n=0;if(i=0|l[(e|=0)>>2],10>(n=0|(0|r[i>>0])-48)>>>0){t=0;do{t=0|n+(0|10*t),i=0|i+1,l[e>>2]=i,n=0|(0|r[i>>0])-48}while(10>n>>>0)}else t=0;return 0|t}function Qn(e,t,i){e|=0,t|=0,i|=0;var n=0,r=0,o=0;e:do{if(20>=t>>>0)switch(0|t){case 9:n=-4&3+(0|l[i>>2]),t=0|l[n>>2],l[i>>2]=n+4,l[e>>2]=t;break e;case 10:n=-4&3+(0|l[i>>2]),t=0|l[n>>2],l[i>>2]=n+4,l[(n=e)>>2]=t,l[n+4>>2]=(0>(0|t))<<31>>31;break e;case 11:n=-4&3+(0|l[i>>2]),t=0|l[n>>2],l[i>>2]=n+4,l[(n=e)>>2]=t,l[n+4>>2]=0;break e;case 12:n=-8&7+(0|l[i>>2]),r=0|l[(t=n)>>2],t=0|l[t+4>>2],l[i>>2]=n+8,l[(n=e)>>2]=r,l[n+4>>2]=t;break e;case 13:r=-4&3+(0|l[i>>2]),n=0|l[r>>2],l[i>>2]=r+4,n=(65535&n)<<16>>16,l[(r=e)>>2]=n,l[r+4>>2]=(0>(0|n))<<31>>31;break e;case 14:r=-4&3+(0|l[i>>2]),n=0|l[r>>2],l[i>>2]=r+4,l[(r=e)>>2]=65535&n,l[r+4>>2]=0;break e;case 15:r=-4&3+(0|l[i>>2]),n=0|l[r>>2],l[i>>2]=r+4,n=(255&n)<<24>>24,l[(r=e)>>2]=n,l[r+4>>2]=(0>(0|n))<<31>>31;break e;case 16:r=-4&3+(0|l[i>>2]),n=0|l[r>>2],l[i>>2]=r+4,l[(r=e)>>2]=255&n,l[r+4>>2]=0;break e;case 17:case 18:r=-8&7+(0|l[i>>2]),o=+b[r>>3],l[i>>2]=r+8,b[e>>3]=o;break e;default:break e;}}while(0)}function Jn(e,t,i,n){if(i|=0,n|=0,!(0==(0|(e|=0))&0==(0|(t|=0))))do{r[(i=0|i+-1)>>0]=0|h[22825+(15&e)>>0]|n,e=0|Sr(0|e,0|t,4),t=k}while(!(0==(0|e)&0==(0|t)));return 0|i}function qn(e,t,i){if(i|=0,!(0==(0|(e|=0))&0==(0|(t|=0))))do{r[(i=0|i+-1)>>0]=48|7&e,e=0|Sr(0|e,0|t,3),t=k}while(!(0==(0|e)&0==(0|t)));return 0|i}function Kn(e,t,i){i|=0;var n=0;if(0<(t|=0)>>>0|0==(0|t)&4294967295<(e|=0)>>>0){for(;n=0|kr(0|e,0|t,10,0),r[(i=0|i+-1)>>0]=48|255&n,n=e,e=0|xr(0|e,0|t,10,0),9<t>>>0|9==(0|t)&4294967295<n>>>0;){t=k}t=e}else t=e;if(t)for(;r[(i=0|i+-1)>>0]=48|(t>>>0)%10,!(10>t>>>0);){t=0|(t>>>0)/10}return 0|i}function $n(e){return 0|ar(e|=0,0|l[745])}function er(e,t,i,n,r){var o,a;if(e|=0,t|=0,a=A,A=0|A+256,o=a,(0|(i|=0))>(0|(n|=0))&0==(0|73728&(r|=0))){if(Mr(0|o,0|t,0|(256>(r=0|i-n)>>>0?r:256)),255<r>>>0){t=0|i-n;do{Yn(e,o,256),r=0|r+-256}while(255<r>>>0);r=255&t}Yn(e,o,r)}A=a}function tr(e,t){return t|=0,0|(e=(e|=0)?0|or(e,t):0)}function ir(e,t,i,n,o,a){e|=0,t=+t,i|=0,n|=0,o|=0,a|=0;var s,c=0,u=0,f=0,d=0,p=0,_=0,m=0,b=0,y=0,g=0,v=0,w=0,x=0,I=0,S=0,E=0,C=0,M=0,P=0,T=0,D=0,R=0;s=A,A=0|A+560,f=0|s+8,D=R=0|s+524,d=0|s+512,l[(v=s)>>2]=0,T=0|d+12,nr(t),0>(0|k)?(t=-t,M=1,C=22790):(M=1&0!=(0|2049&o),C=0==(0|2048&o)?0==(0|1&o)?22791:22796:22793),nr(t);do{if(!0&2146435072==(0|2146435072&k))R=0!=(0|32&a),er(e,32,i,c=0|M+3,-65537&o),Yn(e,C,M),Yn(e,!1|t!=t?R?22817:22821:R?22809:22813,3),er(e,32,i,c,8192^o);else{if((c=0!=(b=2*+rr(t,v)))&&(l[v>>2]=(0|l[v>>2])-1),97==(0|(x=32|a))){y=0==(0|(_=32&a))?C:0|C+9,m=2|M,c=0|12-n;do{if(!(11<n>>>0|0==(0|c))){t=8;do{c=0|c+-1,t*=16}while(0!=(0|c));if(45==(0|r[y>>0])){t=-(t+(-b-t));break}t=b+t-t;break}t=b}while(0);(0|(c=0|Kn(c=0>(0|(u=0|l[v>>2]))?0|0-u:u,(0>(0|c))<<31>>31,T)))==(0|T)&&(r[(c=0|d+11)>>0]=48),r[c+-1>>0]=43+(2&u>>31),r[(p=0|c+-2)>>0]=a+15,f=1>(0|n),d=0==(0|8&o),c=R;do{P=~~t,u=0|c+1,r[c>>0]=_|h[22825+P>>0],t=16*(t-+(0|P)),1!=(0|u-D)||d&f&0==t?c=u:(r[u>>0]=46,c=0|c+2)}while(0!=t);0!=(0|n)&&(0|-2-D+c)<(0|n)?(u=0|c-D,c=0|n+2):u=c=0|c-D,er(e,32,i,D=0|(T=0|T-p)+m+c,o),Yn(e,y,m),er(e,48,i,D,65536^o),Yn(e,R,u),er(e,48,0|c-u,0,0),Yn(e,p,T),er(e,32,i,D,8192^o),c=D;break}u=0>(0|n)?6:n,c?(c=0|(0|l[v>>2])-28,l[v>>2]=c,t=268435456*b):(t=b,c=0|l[v>>2]),f=P=0>(0|c)?f:0|f+288;do{S=~~t>>>0,l[f>>2]=S,f=0|f+4,t=1e9*(t-+(S>>>0))}while(0!=t);if(0<(0|c))for(d=P,_=f;;){if(p=29>(0|c)?c:29,(c=0|_+-4)>>>0>=d>>>0){f=0;do{w=0|kr(0|(I=0|gr(0|(I=0|Er(0|l[c>>2],0,0|p)),0|k,0|f,0)),0|(S=k),1e9,0),l[c>>2]=w,f=0|xr(0|I,0|S,1e9,0),c=0|c+-4}while(c>>>0>=d>>>0);f&&(l[(d=0|d+-4)>>2]=f)}for(f=_;!(f>>>0<=d>>>0||0|l[(c=0|f+-4)>>2]);){f=c}if(c=0|(0|l[v>>2])-p,l[v>>2]=c,!(0<(0|c)))break;_=f}else d=P;if(0>(0|c)){n=0|1+(0|(0|u+25)/9),g=102==(0|x);do{if(y=9>(0|(y=0|0-c))?y:9,d>>>0<f>>>0){p=0|(1<<y)-1,_=1e9>>>y,m=0,c=d;do{S=0|l[c>>2],l[c>>2]=(S>>>y)+m,m=0|B(S&p,_),c=0|c+4}while(c>>>0<f>>>0);c=0==(0|l[d>>2])?0|d+4:d,m?(l[f>>2]=m,d=c,c=0|f+4):(d=c,c=f)}else d=0==(0|l[d>>2])?0|d+4:d,c=f;f=(0|c-(f=g?P:d)>>2)>(0|n)?0|f+(n<<2):c,c=0|(0|l[v>>2])+y,l[v>>2]=c}while(0>(0|c));c=d,n=f}else c=d,n=f;if(S=P,c>>>0<n>>>0){if(f=0|9*(S-c>>2),10<=(p=0|l[c>>2])>>>0){d=10;do{d=0|10*d,f=0|f+1}while(p>>>0>=d>>>0)}}else f=0;if(g=103==(0|x),w=0!=(0|u),(0|(d=0|u-(102!=(0|x)?f:0)+((w&g)<<31>>31)))<(0|(0|9*(n-S>>2))-9)){if(y=0|P+4+((0|(0|(d=0|d+9216))/9)-1024<<2),8>(0|(d=0|(0|d)%9)))for(p=10;p=0|10*p,7>(0|d);){d=0|d+1}else p=10;if((d=(0|y+4)==(0|n))&0==(0|(m=0|((_=0|l[y>>2])>>>0)%(p>>>0))))d=y;else if(b=0==(0|1&(0|(_>>>0)/(p>>>0)))?9007199254740992:9007199254740994,t=m>>>0<(I=0|(0|p)/2)>>>0?.5:d&(0|m)==(0|I)?1:1.5,M&&(t=(I=45==(0|r[C>>0]))?-t:t,b=I?-b:b),d=0|_-m,l[y>>2]=d,b+t!=b){if(I=0|d+p,l[y>>2]=I,999999999<I>>>0)for(f=y;d=0|f+-4,l[f>>2]=0,d>>>0<c>>>0&&(l[(c=0|c+-4)>>2]=0),I=0|1+(0|l[d>>2]),l[d>>2]=I,999999999<I>>>0;){f=d}else d=y;if(f=0|9*(S-c>>2),10<=(_=0|l[c>>2])>>>0){p=10;do{p=0|10*p,f=0|f+1}while(_>>>0>=p>>>0)}}else d=y;d=n>>>0>(d=0|d+4)>>>0?d:n,I=c}else d=n,I=c;for(x=d;;){if(x>>>0<=I>>>0){v=0;break}if(0|l[(c=0|x+-4)>>2]){v=1;break}x=c}n=0|0-f;do{if(g){if((0|(c=0|u+(1&(1^w))))>(0|f)&-5<(0|f)?(p=0|a+-1,u=0|c+-1-f):(p=0|a+-2,u=0|c+-1),!(c=8&o)){if(v&&0!=(0|(E=0|l[x+-4>>2]))){if(0|(E>>>0)%10)d=0;else{d=0,c=10;do{c=0|10*c,d=0|d+1}while(!(0|(E>>>0)%(c>>>0)))}}else d=9;if(c=0|(0|9*(x-S>>2))-9,102==(32|p)){u=(0|u)<(0|(y=0<(0|(y=0|c-d))?y:0))?u:y,y=0;break}u=(0|u)<(0|(y=0<(0|(y=0|c+f-d))?y:0))?u:y,y=0;break}y=c}else p=a,y=8&o}while(0);if(_=1&0!=(0|(g=u|y)),m=102==(32|p))w=0,c=0<(0|f)?f:0;else{if(2>(0|(d=T)-(c=0|Kn(c=0>(0|f)?n:f,(0>(0|c))<<31>>31,T))))do{r[(c=0|c+-1)>>0]=48}while(2>(0|d-c));r[c+-1>>0]=43+(2&f>>31),r[(c=0|c+-2)>>0]=p,w=c,c=0|d-c}if(er(e,32,i,c=0|M+1+u+_+c,o),Yn(e,C,M),er(e,48,i,c,65536^o),m){_=y=0|R+9,m=0|R+8,d=p=I>>>0>P>>>0?P:I;do{if(f=0|Kn(0|l[d>>2],0,y),(0|d)==(0|p))(0|f)==(0|y)&&(r[m>>0]=48,f=m);else if(f>>>0>R>>>0){Mr(0|R,48,0|f-D);do{f=0|f+-1}while(f>>>0>R>>>0)}Yn(e,f,0|_-f),d=0|d+4}while(d>>>0<=P>>>0);if(0|g&&Yn(e,22841,1),d>>>0<x>>>0&0<(0|u))for(;;){if((f=0|Kn(0|l[d>>2],0,y))>>>0>R>>>0){Mr(0|R,48,0|f-D);do{f=0|f+-1}while(f>>>0>R>>>0)}if(Yn(e,f,9>(0|u)?u:9),f=0|u+-9,!((d=0|d+4)>>>0<x>>>0&9<(0|u))){u=f;break}u=f}er(e,48,0|u+9,9,0)}else{if(g=v?x:0|I+4,-1<(0|u)){y=0==(0|y),n=v=0|R+9,_=0|0-D,m=0|R+8,p=I;do{(0|(f=0|Kn(0|l[p>>2],0,v)))==(0|v)&&(r[m>>0]=48,f=m);do{if((0|p)==(0|I)){if(d=0|f+1,Yn(e,f,1),y&1>(0|u)){f=d;break}Yn(e,22841,1),f=d}else{if(f>>>0<=R>>>0)break;Mr(0|R,48,0|f+_);do{f=0|f+-1}while(f>>>0>R>>>0)}}while(0);Yn(e,f,(0|u)>(0|(D=0|n-f))?D:u),u=0|u-D,p=0|p+4}while(p>>>0<g>>>0&-1<(0|u))}er(e,48,0|u+18,18,0),Yn(e,w,0|T-w)}er(e,32,i,c,8192^o)}}while(0);return A=s,0|((0|c)<(0|i)?i:c)}function nr(e){var t;return e=+e,b[v>>3]=e,t=0|l[v>>2],k=0|l[v+4>>2],0|t}function rr(e,t){return+ +function e(t,i){t=+t,i|=0;var n=0,r=0,o=0;switch(b[v>>3]=t,n=0|l[v>>2],r=0|l[v+4>>2],2047&(o=0|Sr(0|n,0|r,52))){case 0:0!=t?(t=+e(0x10000000000000000*t,i),n=0|(0|l[i>>2])-64):n=0,l[i>>2]=n;break;case 2047:break;default:l[i>>2]=(2047&o)-1022,l[v>>2]=n,l[v+4>>2]=1071644672|-2146435073&r,t=+b[v>>3];}return+t}(e=+e,t|=0)}function or(e,t,i){e|=0,t|=0;do{if(e){if(128>t>>>0){r[e>>0]=t,e=1;break}if(!(0|l[l[745]>>2])){if(57216==(0|-128&t)){r[e>>0]=t,e=1;break}l[(e=25296)>>2]=84,e=-1;break}if(2048>t>>>0){r[e>>0]=192|t>>>6,r[e+1>>0]=128|63&t,e=2;break}if(55296>t>>>0|57344==(0|-8192&t)){r[e>>0]=224|t>>>12,r[e+1>>0]=128|63&t>>>6,r[e+2>>0]=128|63&t,e=3;break}if(1048576>(0|t+-65536)>>>0){r[e>>0]=240|t>>>18,r[e+1>>0]=128|63&t>>>12,r[e+2>>0]=128|63&t>>>6,r[e+3>>0]=128|63&t,e=4;break}l[(e=25296)>>2]=84,e=-1;break}e=1}while(0);return 0|e}function ar(e,t){e|=0,t|=0;var i=0,n=0;for(n=0;;){if((0|h[22843+n>>0])==(0|e)){e=2;break}if(87==(0|(i=0|n+1))){i=22931,n=87,e=5;break}n=i}if(2==(0|e)&&(n?(i=22931,e=5):i=22931),5==(0|e))for(;;){do{e=i,i=0|i+1}while(0!=(0|r[e>>0]));if(!(n=0|n+-1))break;e=5}return 0|function(e,t){return 0|function(e,t){return e|=0,0|(0|(t=(t|=0)?0|Dn(0|l[t>>2],0|l[t+4>>2],e):0)?t:e)}(e|=0,t|=0)}(i,0|l[t+20>>2])}function sr(e,t,i){var n,r;return e|=0,t|=0,1==(0|(i|=0))&&(t=0|t-(0|l[e+8>>2])+(0|l[e+4>>2])),r=0|e+28,(0|l[(n=0|e+20)>>2])>>>0>(0|l[r>>2])>>>0&&(Jr[63&l[e+36>>2]](e,0,0),0==(0|l[n>>2]))?t=-1:(l[e+16>>2]=0,l[r>>2]=0,l[n>>2]=0,0>(0|Jr[63&l[e+40>>2]](e,t,i))?t=-1:(l[e+8>>2]=0,l[e+4>>2]=0,l[e>>2]=-17&l[e>>2],t=0)),0|t}function lr(e,t,i,n){e|=0,t|=0,i|=0,n|=0;var o,a,s=0,c=0,h=0,u=0,f=0;a=A,A=0|A+128,s=0|a+124,h=3036,o=0|(c=f=a)+124;do{l[c>>2]=l[h>>2],c=0|c+4,h=0|h+4}while((0|c)<(0|o));return 2147483646<(0|t+-1)>>>0?t?(l[(t=25296)>>2]=75,t=-1):(e=s,t=1,u=4):u=4,4==(0|u)&&(u=t>>>0>(u=0|-2-e)>>>0?u:t,l[f+48>>2]=u,l[(s=0|f+20)>>2]=e,l[f+44>>2]=e,t=0|e+u,l[(e=0|f+16)>>2]=t,l[f+28>>2]=t,t=0|jn(f,i,n),u&&(f=0|l[s>>2],r[f+(((0|f)==(0|l[e>>2]))<<31>>31)>>0]=0)),A=a,0|t}function cr(e,t){return hr(e|=0,t|=0),0|e}function hr(e,t){e|=0;var i=0,n=0;i=t|=0;e:do{if(3&(i^e))n=8;else{if(3&i)do{if(i=0|r[t>>0],r[e>>0]=i,!(i<<24>>24))break e;t=0|t+1,e=0|e+1}while(0!=(0|3&t));if(!((-2139062144^-2139062144&(i=0|l[t>>2]))&i+-16843009))for(n=e;t=0|t+4,e=0|n+4,l[n>>2]=i,!(0|(-2139062144^-2139062144&(i=0|l[t>>2]))&i+-16843009);){n=e}n=8}}while(0);if(8==(0|n)&&(n=0|r[t>>0],r[e>>0]=n,n<<24>>24))do{e=0|e+1,n=0|r[(t=0|t+1)>>0],r[e>>0]=n}while(0!=n<<24>>24);return 0|e}function ur(e,t,i){var n,r;return e|=0,t|=0,i|=0,n=A,A=0|A+16,l[(r=n)>>2]=i,i=0|function(e,t,i){return 0|lr(e|=0,2147483647,t|=0,i|=0)}(e,t,r),A=n,0|i}function fr(e,t){return+ +function(e,t){e=+e;var i=0,n=0;return 1023>=(0|(t|=0))?-1022>(0|t)&&(e*=22250738585072014e-324,i=0|t+2044,e=(n=-2044>(0|t))?22250738585072014e-324*e:e,t=n?-1022<(0|i)?i:-1022:0|t+1022):(e*=898846567431158e293,n=0|t+-2046,e=(i=2046<(0|t))?898846567431158e293*e:e,t=i?1023>(0|n)?n:1023:0|t+-1023),i=0|Er(0|t+1023,0,52),n=k,l[v>>2]=i,l[v+4>>2]=n,+e*+b[v>>3]}(e=+e,t|=0)}function dr(e){return 0|~~+Tr(+(e=+e))}function pr(e,t,i,n){e|=0,n|=0;var o,a,s=0,c=0,h=0,u=0,f=0;o=0|B(i|=0,t|=0),i=0==(0|t)?0:i,u=-1<(0|l[n+76>>2])?0|Bn():0,c=0|r[(s=0|n+74)>>0],r[s>>0]=c+255|c,c=0|l[(s=0|n+4)>>2],h=(a=0|(0|l[n+8>>2])-c)>>>0<o>>>0?a:o,0<(0|a)?(Br(0|e,0|c,0|h),l[s>>2]=c+h,s=0|o-h,e=0|e+h):s=o;e:do{if(s){for(h=0|n+32;!(0|zn(n)||2>(0|1+(c=0|Jr[63&l[h>>2]](n,e,s)))>>>0);){if(!(s=0|s-c)){f=13;break e}e=0|e+c}0|u&&Cn(),i=0|((0|o-s)>>>0)/(t>>>0)}else f=13}while(0);return 13==(0|f)&&u&&Cn(),0|i}function _r(e,t){e|=0;var i=0,n=0,o=0,a=0,s=0,c=0,h=0;0<=(0|l[76+(t|=0)>>2])&&0!=(0|Bn())?(n=255&e,(0|(i=255&e))!=(0|r[t+75>>0])&&(c=0|l[(s=0|t+20)>>2])>>>0<(0|l[t+16>>2])>>>0?(l[s>>2]=c+1,r[c>>0]=n):i=0|Mn(t,e),Cn()):h=3;do{if(3==(0|h)){if(n=255&e,(0|(i=255&e))!=(0|r[t+75>>0])&&(a=0|l[(o=0|t+20)>>2])>>>0<(0|l[t+16>>2])>>>0){l[o>>2]=a+1,r[a>>0]=n;break}i=0|Mn(t,e)}}while(0);return 0|i}function mr(e){e|=0;var t,i=0,n=0,o=0;t=0|l[665],o=-1<(0|l[t+76>>2])?0|Bn():0;do{if(0>(0|In(e,t)))e=-1;else{if(10!=(0|r[t+75>>0])&&(n=0|l[(i=0|t+20)>>2])>>>0<(0|l[t+16>>2])>>>0){l[i>>2]=n+1,r[n>>0]=10,e=0;break}e=(0|Mn(t,10))>>31}}while(0);return 0|o&&Cn(),0|e}function br(e){var t=0;return t=128&l[(e|=0)>>2]&&(0|l[e+20>>2])>>>0>(0|l[e+28>>2])>>>0?2:1,0<=(0|(t=0|Jr[63&l[e+40>>2]](e,0,t)))&&(t=0|t-(0|l[e+8>>2])+(0|l[e+4>>2])+(0|l[e+20>>2])-(0|l[e+28>>2])),0|t}function yr(e,t,i,n){var r,o;return t|=0,n|=0,i=0|function(e,t){var i,n,r,o=0;return e=0|((i=0|B(o=65535&(t|=0),r=65535&(e|=0)))>>>16)+(0|B(o,n=e>>>16)),t=0|B(o=t>>>16,r),0|(k=0|(e>>>16)+(0|B(o,n))+((0|(65535&e)+t)>>>16),0|(e+t<<16|65535&i))}(r=e|=0,o=i|=0),e=k,0|(k=(0|B(t,o))+(0|B(n,r))+e|0&e,0|i)}function gr(e,t,i,n){return 0|(k=(t|=0)+(n|=0)+(0|(i=(e|=0)+(i|=0)>>>0)>>>0<e>>>0)>>>0,0|i)}function vr(e,t,i,n){return 0|(k=n=(t|=0)-(n|=0)-(0|(i|=0)>>>0>(e|=0)>>>0)>>>0,0|e-i>>>0)}function Ar(e){var t=0;return 8>(0|(t=0|r[w+(255&(e|=0))>>0]))?0|t:8>(0|(t=0|r[w+(255&e>>8)>>0]))?0|t+8:8>(0|(t=0|r[w+(255&e>>16)>>0]))?0|t+16:0|24+(0|r[w+(e>>>24)>>0])}function wr(e,t,i,n,r){r|=0;var o=0,a=0,s=0,c=0,h=0,u=0,f=0,d=0,p=0,_=0;if(u=e|=0,a=i|=0,s=d=n|=0,!(h=c=t|=0))return o=0!=(0|r),s?o?(l[r>>2]=0|e,l[r+4>>2]=0&t,0|(k=d=0,r=0)):0|(k=d=0,r=0):(o&&(l[r>>2]=(u>>>0)%(a>>>0),l[r+4>>2]=0),0|(k=d=0,r=(u>>>0)/(a>>>0)>>>0));o=0==(0|s);do{if(a){if(!o){if(31>=(o=0|(0|M(0|s))-(0|M(0|h)))>>>0){a=f=0|o+1,e=u>>>(f>>>0)&(t=o-31>>31)|h<<(s=0|31-o),t&=h>>>(f>>>0),o=0,s=u<<s;break}return r?(l[r>>2]=0|e,l[r+4>>2]=c|0&t,0|(k=d=0,r=0)):0|(k=d=0,r=0)}if(0|(o=0|a-1)&a){a=s=0|33+(0|M(0|a))-(0|M(0|h)),e=(f=0|32-s)-1>>31&h>>>((p=0|s-32)>>>0)|(h<<f|u>>>(s>>>0))&(t=p>>31),t&=h>>>(s>>>0),o=u<<(_=0|64-s)&(c=f>>31),s=(h<<_|u>>>(p>>>0))&c|u<<f&s-33>>31;break}return 0|r&&(l[r>>2]=o&u,l[r+4>>2]=0),1==(0|a)?0|(k=p=c|0&t,_=0|e):(_=0|Ar(0|a),0|(k=p=0|h>>>(_>>>0),_=0|(h<<32-_|u>>>(_>>>0))))}if(o)return 0|r&&(l[r>>2]=(h>>>0)%(a>>>0),l[r+4>>2]=0),0|(k=p=0,_=(h>>>0)/(a>>>0)>>>0);if(!u)return 0|r&&(l[r>>2]=0,l[r+4>>2]=(h>>>0)%(s>>>0)),0|(k=p=0,_=(h>>>0)/(s>>>0)>>>0);if(!((o=0|s-1)&s))return 0|r&&(l[r>>2]=0|e,l[r+4>>2]=o&h|0&t),p=0,_=h>>>((0|Ar(0|s))>>>0),0|(k=p,_);if(30>=(o=0|(0|M(0|s))-(0|M(0|h)))>>>0){a=t=0|o+1,e=h<<(s=0|31-o)|u>>>(t>>>0),t=h>>>(t>>>0),o=0,s=u<<s;break}return r?(l[r>>2]=0|e,l[r+4>>2]=c|0&t,0|(k=p=0,_=0)):0|(k=p=0,_=0)}while(0);if(a){h=0|gr(0|(f=0|i),0|(u=d|0&n),-1,-1),i=k,c=s,s=0;do{n=c,c=o>>>31|c<<1,o=s|o<<1,vr(0|h,0|i,0|(n=0|(e<<1|n>>>31)),0|(d=0|(e>>>31|t<<1))),s=1&(p=(_=k)>>31|(0>(0|_)?-1:0)<<1),e=0|vr(0|n,0|d,0|p&f,0|((0>(0|_)?-1:0)>>31|(0>(0|_)?-1:0)<<1)&u),t=k,a=0|a-1}while(0!=(0|a));h=c,c=0}else h=s,c=0,s=0;return a=0,0|r&&(l[r>>2]=e,l[r+4>>2]=t),0|(k=p=(0|o)>>>31|(h|a)<<1|0&(a<<1|o>>>31)|c,_=-2&(0|o<<1)|s)}function xr(e,t,i,n){return 0|wr(e|=0,t|=0,i|=0,n|=0,0)}function kr(e,t,i,n){var r,o;return o=A,A=0|A+16,wr(e|=0,t|=0,i|=0,n|=0,r=0|o),A=o,0|(k=0|l[r+4>>2],0|l[r>>2])}function Ir(e,t,i){return e|=0,t|=0,32>(0|(i|=0))?(k=t>>i,e>>>i|(t&(1<<i)-1)<<32-i):(k=0>(0|t)?-1:0,0|t>>i-32)}function Sr(e,t,i){return e|=0,t|=0,32>(0|(i|=0))?(k=t>>>i,e>>>i|(t&(1<<i)-1)<<32-i):(k=0,0|t>>>i-32)}function Er(e,t,i){return e|=0,t|=0,32>(0|(i|=0))?(k=t<<i|(e&(1<<i)-1<<32-i)>>>32-i,e<<i):(k=e<<i-32,0)}function Cr(e){return 0|((255&(e|=0))<<24|(255&e>>8)<<16|(255&e>>16)<<8|e>>>24)}function Br(e,t,i){e|=0,t|=0;var n,o,a=0;if(8192<=(0|(i|=0)))return 0|j(0|e,0|t,0|i);if(o=0|e,n=0|e+i,(3&e)==(3&t)){for(;3&e;){if(!i)return 0|o;r[e>>0]=0|r[t>>0],e=0|e+1,t=0|t+1,i=0|i-1}for(a=0|(i=0|-4&n)-64;(0|e)<=(0|a);){l[e>>2]=l[t>>2],l[e+4>>2]=l[t+4>>2],l[e+8>>2]=l[t+8>>2],l[e+12>>2]=l[t+12>>2],l[e+16>>2]=l[t+16>>2],l[e+20>>2]=l[t+20>>2],l[e+24>>2]=l[t+24>>2],l[e+28>>2]=l[t+28>>2],l[e+32>>2]=l[t+32>>2],l[e+36>>2]=l[t+36>>2],l[e+40>>2]=l[t+40>>2],l[e+44>>2]=l[t+44>>2],l[e+48>>2]=l[t+48>>2],l[e+52>>2]=l[t+52>>2],l[e+56>>2]=l[t+56>>2],l[e+60>>2]=l[t+60>>2],e=0|e+64,t=0|t+64}for(;(0|e)<(0|i);){l[e>>2]=l[t>>2],e=0|e+4,t=0|t+4}}else for(i=0|n-4;(0|e)<(0|i);){r[e>>0]=0|r[t>>0],r[e+1>>0]=0|r[t+1>>0],r[e+2>>0]=0|r[t+2>>0],r[e+3>>0]=0|r[t+3>>0],e=0|e+4,t=0|t+4}for(;(0|e)<(0|n);){r[e>>0]=0|r[t>>0],e=0|e+1,t=0|t+1}return 0|o}function Mr(e,t,i){t|=0;var n,o=0,a=0,s=0;if(n=0|(e|=0)+(i|=0),t&=255,67<=(0|i)){for(;3&e;){r[e>>0]=t,e=0|e+1}for(a=0|(o=0|-4&n)-64,s=t|t<<8|t<<16|t<<24;(0|e)<=(0|a);){l[e>>2]=s,l[e+4>>2]=s,l[e+8>>2]=s,l[e+12>>2]=s,l[e+16>>2]=s,l[e+20>>2]=s,l[e+24>>2]=s,l[e+28>>2]=s,l[e+32>>2]=s,l[e+36>>2]=s,l[e+40>>2]=s,l[e+44>>2]=s,l[e+48>>2]=s,l[e+52>>2]=s,l[e+56>>2]=s,l[e+60>>2]=s,e=0|e+64}for(;(0|e)<(0|o);){l[e>>2]=s,e=0|e+4}}for(;(0|e)<(0|n);){r[e>>0]=t,e=0|e+1}return 0|n-i}function Pr(e){return 0<=(e=+e)?+I(e+.5):+C(e-.5)}function Tr(e){return .5!=(e=+e)-+I(e)?+Pr(e):2*+Pr(e/2)}function Dr(e){var t,i;return 0<(0|(i=0|-16&15+(e|=0)))&(0|(e=0|(t=0|l[g>>2])+i))<(0|t)|0>(0|e)?(R(),O(12),-1):(l[g>>2]=e,(0|e)>(0|D())&&0==(0|T())?(l[g>>2]=t,O(12),-1):0|t)}function Rr(e){return P(0),0}function Gr(e){return P(1),0}function Or(e,t){return P(2),0}function Fr(e,t,i){return P(3),0}function Lr(e,t,i,n){return P(4),0}function Zr(e,t,i,n,r){return P(5),0}function Hr(e,t,i,n,r,o){return P(6),0}function Nr(e,t,i,n,r,o,a){return P(7),0}function zr(e,t,i,n,r,o,a,s,l,c,h){return P(8),0}function Vr(e){P(9)}function Ur(e,t){P(10)}function jr(e,t,i){P(11)}function Wr(e,t,i,n){P(12)}t._llvm_ceil_f32,t._llvm_floor_f32,t._llvm_floor_f64,t._llvm_pow_f64,t.flush_NO_FILESYSTEM;var Yr=[Rr,function(e){return 0},function(e){return+ +((0|(0|14*(0|l[5588+(e|=0)>>2]))-14)>>>0)},Rr],Xr=[Gr,function(e){var t,i;return t=A,A=0|A+16,i=t,e=0|function(e){return 0|(e|=0)}(0|l[60+(e|=0)>>2]),l[i>>2]=e,e=0|wn(0|V(6,0|i)),A=t,0|e},ut,ft,function(e){return 0|ut(0|l[(e|=0)>>2])},function(e){return 0|ft(0|l[(e|=0)>>2])},Hn,function(e){return 0},function(e){return 0|(0==(0|(e|=0))?0:2>(0|e+-1)>>>0?1:2)},Gr,Gr,Gr,Gr,Gr,Gr,Gr],Qr=[Or,function(e,t){e|=0,t|=0;var i=0;return(i=0|Ne(1,22))?(ie(i,22,4),ie(0|i+4,1768449138,4),ie(0|i+8,0|l[e+16>>2],4),ie(0|i+12,0|l[e+12>>2],4),ie(0|i+16,0|l[e+20>>2],2),ie(0|i+18,0|l[e+24>>2],1),ie(0|i+19,0|l[e+28>>2],1),ie(0|i+20,0|l[e+32>>2],1),ie(0|i+21,0|l[e+36>>2],1),l[t>>2]=22,0|i):0|(i=0)},function(e,t){t|=0;var i,n=0,r=0,o=0,a=0,s=0;switch(0|l[(n=0|40+(e|=0))>>2]){case 1:a=15;break;case 2:a=0|11+(0|l[e+112>>2]);break;default:return 0|(s=0);}if(!(s=0|Ne(1,a)))return 0|(s=0);switch(ie(s,a,4),ie(0|s+4,1668246642,4),ie(0|s+8,0|l[n>>2],1),ie(0|s+9,0|l[e+52>>2],1),ie(0|s+10,0|l[e+44>>2],1),i=0|s+11,0|l[n>>2]){case 1:ie(i,0|l[e+48>>2],4);break;case 2:if(0|l[(o=0|e+112)>>2])for(r=0|e+108,n=i,e=0;ie(n,0|h[(0|l[r>>2])+e>>0],1),!((e=0|e+1)>>>0>=(0|l[o>>2])>>>0);){n=0|n+1}}return l[t>>2]=a,0|s},function(e,t){t|=0;var i,n,r,o=0,s=0,c=0;if(!(r=0|He(n=0|10+(0|6*(0|f[4+(0|l[(i=0|116+(e|=0))>>2])>>1])))))return 0|(t=0);if(ie(r,n,4),ie(0|r+4,1667523942,4),ie(0|r+8,0|f[4+(0|l[i>>2])>>1],2),e=0|l[i>>2],0|a[e+4>>1])for(s=0|r+10,c=0,o=0;ie(s,0|f[(0|l[e>>2])+(0|6*o)>>1],2),ie(0|s+2,0|f[(0|l[l[i>>2]>>2])+(0|6*o)+2>>1],2),ie(0|s+4,0|f[(0|l[l[i>>2]>>2])+(0|6*o)+4>>1],2),o=c+1<<16>>16,e=0|l[i>>2],!((65535&o)>=(0|f[e+4>>1]));){s=0|s+6,c=o,o&=65535}return l[t>>2]=n,0|(t=r)},function(e,t){t|=0;var i,n,r=0,o=0,a=0;if(!(a=0|Ne(1,n=0|8+(0|l[(i=0|20+(e|=0))>>2]))))return 0|(a=0);if(ie(a,n,4),ie(0|a+4,1651532643,4),0|l[i>>2])for(o=0|e+72,e=0,r=0|a+8;ie(r,0|l[(0|l[o>>2])+(0|12*e)+8>>2],1),!((e=0|e+1)>>>0>=(0|l[i>>2])>>>0);){r=0|r+1}return l[t>>2]=n,0|a},Or,Or,Or],Jr=[Fr,function(e,t,i){t|=0,i|=0;var n,o=0;return n=A,A=0|A+32,o=n,l[36+(e|=0)>>2]=61,0==(0|64&l[e>>2])&&(l[o>>2]=l[e+60>>2],l[o+4>>2]=21523,l[o+8>>2]=n+16,0|z(54,0|o))&&(r[e+75>>0]=-1),o=0|An(e,t,i),A=n,0|o},function(e,t,i){var n,r,o;return e|=0,t|=0,i|=0,r=A,A=0|A+32,n=0|r+20,l[(o=r)>>2]=l[e+60>>2],l[o+4>>2]=0,l[o+8>>2]=t,l[o+12>>2]=n,l[o+16>>2]=i,0>(0|wn(0|F(140,0|o)))?(l[n>>2]=-1,e=-1):e=0|l[n>>2],A=r,0|e},function(e,t,i){var n,r;return t|=0,i|=0,Br(0|(r=0|l[(n=0|20+(e|=0))>>2]),0|t,0|(e=(e=0|(0|l[e+16>>2])-r)>>>0>i>>>0?i:e)),l[n>>2]=(0|l[n>>2])+e,0|i},function(e,t,i){return-1},function(e,t,i){return-1},function(e,t,i){return k=-1,-1},function(e,t,i){return 0},bt,At,function(e,t,i){return t|=0,i|=0,0|bt(0|l[(e|=0)>>2],t,i)},function(e,t,i){t|=0,i|=0;var n,r=0,o=0,a=0,s=0;if(!(0|bi(0|l[(r=0|8+(e|=0))>>2],54,i)))return 0|(s=0);if(!(0|At(0|l[e>>2],t,i)))return 0|(s=0);if(n=0|yi(s=0|l[r>>2]),r=0|gi(s),n)for(o=r,r=1,a=0;r=r?0!=(0|Jr[63&l[o>>2]](e,t,i)):0,r&=1,(0|(a=0|a+1))!=(0|n);){o=0|o+4}else r=1;return vi(s),0|(s=r)},$e,mt,function(e,t,i){t|=0,i|=0;var n,r,o=0,a=0,s=0;if(!(0|bi(0|l[(o=0|8+(e|=0))>>2],53,i)))return 0|(i=0);if(r=0|yi(n=0|l[o>>2]),o=0|gi(n),r){for(a=1,s=0;a=a?0!=(0|Jr[63&l[o>>2]](e,t,i)):0,(0|(s=0|s+1))!=(0|r);){o=0|o+4,a&=1}if(vi(n),!a)return 0|(i=0)}else vi(n);return 0|(i=0|$e(l[e>>2]))},function(e,t,i){return t|=0,i|=0,0|mt(0|l[(e|=0)>>2],t,i)},function(e,t,i){e|=0,t|=0;var n,r=0;return r=0|l[(n=0|4+(i|=0))>>2],(i=0|(0|l[i>>2])+(0|l[i+8>>2])-r)?(Br(0|e,0|r,0|(t=i>>>0>t>>>0?t:i)),l[n>>2]=(0|l[n>>2])+t,0|(r=t)):0|(r=-1)},function(e,t,i){e|=0,t|=0;var n,r,o=0,a=0,s=0,c=0;for(o=0|l[(c=0|4+(i|=0))>>2],a=0|l[(n=0|i+8)>>2],r=0|o-(0|l[i>>2]),s=0==(0|a)?1:a;(0|s-r)>>>0<t>>>0;){s<<=1}if((0|s)!=(0|a)){if(!(o=0|He(s)))return 0|(c=-1);0|(a=0|l[i>>2])&&(Br(0|o,0|a,0|r),je(0|l[i>>2])),l[i>>2]=o,o=0|o+r,l[c>>2]=o,l[n>>2]=s}return Br(0|o,0|e,0|t),l[c>>2]=(0|l[c>>2])+t,0|(c=t)},function(e,t,i){e|=0,t|=0;var n,r,o=0,a=0;return a=0|l[(o=0|4+(i|=0))>>2],n=(0>(0|(i=0|(0|l[i>>2])+(0|l[i+8>>2])-a)))<<31>>31,i?(r=(0|n)>(0|t)|(0|n)==(0|t)&i>>>0>e>>>0,l[o>>2]=a+e,k=o=r?t:n,0|(a=r?e:i)):(k=o=-1,0|(a=-1))},function(e,t,i){var n;return e|=0,t|=0,n=0|l[8+(i|=0)>>2],l[i+4>>2]=(0|l[i>>2])+(0>(0|t)|0==(0|t)&n>>>0>e>>>0?e:n),1},function(e,t,i){return 0|(0|(i=0|pr(e|=0,1,t|=0,i|=0))?i:-1)},function(e,t,i){return 0|Sn(e|=0,1,t|=0,i|=0)},function(e,t,i){return t|=0,i=0==(0|Vn(i|=0,e|=0,1)),k=i?t:-1,0|(i?e:-1)},function(e,t,i){return 0|0==(0|Vn(i|=0,e|=0,0))},function(e,t,i){return 1},function(e,t,i){return 0|1&(0==(0|l[8+(e|=0)>>2])&0!=(0|l[e+188>>2])&0!=(0|l[e+192>>2]))},function(e,t,i){t|=0,i|=0;var n,o,s,c,h,u,f,d,p,_,m,b,y,g,v,w,x,I,S,E,C,B,M,P,T,D=0,R=0,G=0,O=0,F=0,L=0,Z=0,H=0,N=0,z=0,V=0,U=0,j=0,W=0,Y=0,X=0,Q=0;T=A,A=0|A+224,Q=0|T+200,M=0|T+192,B=0|T+184,E=0|T+176,S=0|T+168,I=0|T+160,W=0|T+152,x=0|T+144,w=0|T+136,g=0|T+128,y=0|T+120,b=0|T+112,m=0|T+104,_=0|T+96,p=0|T+88,d=0|T+80,f=0|T+72,u=0|T+64,h=0|T+56,c=0|T+48,s=0|T+40,v=0|T+32,N=0|T+24,H=0|T+16,Z=0|T+8,C=T,D=0|T+216,R=0|T+212,n=0|T+208,o=0|T+204,l[(P=0|8+(e|=0))>>2]=1;e:do{if(2==(0|le(t,D,2,i))&&(ne(D,R,2),65359==(0|l[R>>2]))){l[P>>2]=2,L=0|gr(0|(L=0|he(t)),0|k,-2,-1),F=k,R=0|l[(X=0|e+196)>>2],l[R>>2]=L,l[R+4>>2]=F,l[(R=C)>>2]=L,l[R+4>>2]=F,_e(i,4,8053,C),R=0|l[X>>2],F=0|l[R>>2],D=0|l[(L=0|R+24)>>2],G=0|l[(O=0|R+32)>>2];do{if((0|D+1)>>>0>G>>>0){if(j=~~(+(G>>>0)+100)>>>0,l[O>>2]=j,R=0|Ue(0|l[(D=0|R+28)>>2],0|24*j)){l[D>>2]=R,D=0|l[L>>2];break}je(0|l[D>>2]),l[D>>2]=0,l[O>>2]=0,l[L>>2]=0,_e(i,1,8090,Z);break e}R=0|l[R+28>>2]}while(0);if(a[R+(0|24*D)>>1]=-177,U=0|Ir(0,0|F,32),l[(j=0|R+(0|24*D)+8)>>2]=U,l[j+4>>2]=k,l[R+(0|24*D)+16>>2]=2,l[L>>2]=D+1,2!=(0|le(t,0|l[(j=0|e+16)>>2],2,i)))return _e(i,1,8150,N),A=T,0|(Q=0);if(ne(0|l[j>>2],n,2),65424!=(0|(O=0|l[n>>2]))){U=0|e+20,G=0,R=0,D=0;t:do{if(65280>O>>>0){Y=14;break}for(F=784;!((Z=0==(0|(L=0|l[F>>2])))|(0|L)==(0|O));){F=0|F+12}if(Z){_e(i,2,8219,s),V=2;i:for(;;){for(;;){if(2!=(0|le(t,0|l[j>>2],2,i))){Y=20;break t}if(ne(0|l[j>>2],C,2),65280<=(O=0|l[C>>2])>>>0){z=784;break}}for(;!(0==(0|(F=0|l[z>>2]))|(0|F)==(0|O));){z=0|z+12}if(!(l[z+4>>2]&l[P>>2])){Y=24;break t}if(65424<=(0|F)){Y=99;break}switch(0|F){case 0:break;default:break i;}V=0|V+2}if(99==(0|Y))switch(Y=0,0|F){case 65424:Y=26;break t;}if(F=0|l[X>>2],H=0|(H=0|he(t))-V,(0|1+(O=0|l[(N=0|F+24)>>2]))>>>0>(L=0|l[(Z=0|F+32)>>2])>>>0){if(L=~~(+(L>>>0)+100)>>>0,l[Z>>2]=L,!(F=0|Ue(0|l[(O=0|F+28)>>2],0|24*L))){Y=31;break}l[O>>2]=F,O=0|l[N>>2]}else F=0|l[F+28>>2];if(a[F+(0|24*O)>>1]=0,l[(Z=0|F+(0|24*O)+8)>>2]=H,l[Z+4>>2]=(0>(0|H))<<31>>31,l[F+(0|24*O)+16>>2]=V,l[N>>2]=O+1,F=0|l[z>>2],l[n>>2]=F,65424==(0|F))break;for(O=784;;){if(0==(0|(L=0|l[O>>2]))|(0|L)==(0|F)){Z=O;break}O=0|O+12}}else Z=F;if(D=65361==(0|L)?1:D,R=65362==(0|L)?1:R,G=65372==(0|L)?1:G,!(l[Z+4>>2]&l[P>>2])){Y=37;break}if(2!=(0|le(t,0|l[j>>2],2,i))){Y=39;break}if(ne(0|l[j>>2],o,2),F=0|(0|l[o>>2])-2,l[o>>2]=F,O=0|l[j>>2],F>>>0>(0|l[U>>2])>>>0){if(!(O=0|Ue(O,F))){Y=42;break}l[j>>2]=O,F=0|l[o>>2],l[U>>2]=F}if((0|(O=0|le(t,O,F,i)))!=(0|l[o>>2])){Y=45;break}if(!(0|qr[63&l[Z+8>>2]](e,0|l[j>>2],O,i))){Y=47;break}if(L=0|l[X>>2],H=0|l[Z>>2],N=0|he(t),N=0|-4-(z=0|l[o>>2])+N,z=0|z+4,(0|1+(O=0|l[(V=0|L+24)>>2]))>>>0>(F=0|l[(Z=0|L+32)>>2])>>>0){if(F=~~(+(F>>>0)+100)>>>0,l[Z>>2]=F,!(F=0|Ue(0|l[(O=0|L+28)>>2],0|24*F))){Y=52;break}l[O>>2]=F,O=0|l[V>>2]}else F=0|l[L+28>>2];if(a[F+(0|24*O)>>1]=H,l[(H=0|F+(0|24*O)+8)>>2]=N,l[H+4>>2]=(0>(0|N))<<31>>31,l[F+(0|24*O)+16>>2]=z,l[V>>2]=O+1,2!=(0|le(t,0|l[j>>2],2,i))){Y=54;break}ne(0|l[j>>2],n,2),O=0|l[n>>2]}while(65424!=(0|O));switch(0|Y){case 14:return l[v>>2]=O,_e(i,1,8168,v),A=T,0|(Q=0);case 20:_e(i,1,8150,c),Y=33;break;case 24:_e(i,1,8235,h),Y=33;break;case 26:l[n>>2]=65424;break;case 31:je(0|l[O>>2]),l[O>>2]=0,l[Z>>2]=0,l[N>>2]=0,_e(i,1,8090,u),Y=33;break;case 37:return _e(i,1,8235,d),A=T,0|(Q=0);case 39:return _e(i,1,8150,p),A=T,0|(Q=0);case 42:return je(0|l[j>>2]),l[j>>2]=0,l[U>>2]=0,_e(i,1,8333,_),A=T,0|(Q=0);case 45:return _e(i,1,8150,m),A=T,0|(Q=0);case 47:return _e(i,1,8367,b),A=T,0|(Q=0);case 52:return je(0|l[O>>2]),l[O>>2]=0,l[Z>>2]=0,l[V>>2]=0,_e(i,1,8090,y),A=T,0|(Q=0);case 54:return _e(i,1,8150,g),A=T,0|(Q=0);}if(33==(0|Y))return _e(i,1,8278,f),A=T,0|(Q=0);if(0|D){if(!R)return _e(i,1,8472,x),A=T,0|(Q=0);if(!G)return _e(i,1,8518,W),A=T,0|(Q=0);t:do{if(1&r[e+184>>0]){D=0|l[(U=0|e+120)>>2];do{if(D){N=0|e+124,Z=0,R=0,H=0;i:for(;;){if(G=0|l[N>>2],F=0|l[G+(H<<3)>>2]){if(L=0|(G=0|l[G+(H<<3)+4>>2])-Z,G=(O=Z>>>0<G>>>0)?0:0|Z-G,!(0==(0|L)|1^O)){for(D=O?0|F+Z:F;;){if(4>L>>>0){Y=72;break i}if(ne(D,C,4),D=0|D+4,W=0|L+-4,R=0|(O=0|l[C>>2])+R,G=(F=W>>>0<O>>>0)?0|O-W:G,!(L=F?0:0|W-O))break;D=F?D:0|D+O}D=0|l[U>>2]}}else G=Z;if((H=0|H+1)>>>0>=D>>>0)break;Z=G}if(72==(0|Y)){_e(i,1,8564,I);break}G?_e(i,1,8595,S):Y=76}else R=0,Y=76}while(0);i:do{if(76==(0|Y)){if(G=0|He(R),l[(N=0|e+144)>>2]=G,!G){_e(i,1,8618,E);break}l[(z=0|e+132)>>2]=R,O=0|l[U>>2],V=0|e+124;do{if(O){H=0,F=0,Z=0,R=D=0|l[V>>2];n:for(;;){if(L=0|l[R+(H<<3)>>2]){R=0|l[R+(H<<3)+4>>2],D=0|(0|l[N>>2])+F;r:do{if(Z>>>0<R>>>0){if(Br(0|D,0|L,0|Z),D=0|F+Z,!(G=0|R-Z)){G=0;break}for(R=0|L+Z;;){if(4>G>>>0){Y=91;break n}if(ne(R,C,4),F=0|R+4,O=0|G+-4,R=0|l[C>>2],G=0|(0|l[N>>2])+D,O>>>0<R>>>0)break;if(Br(0|G,0|F,0|R),D=0|(R=0|l[C>>2])+D,!(G=0|O-R)){G=0;break r}R=0|F+R}Br(0|G,0|F,0|O),G=0|(0|l[C>>2])-O,D=0|O+D}else Br(0|D,0|L,0|R),G=0|Z-R,D=0|R+F}while(0);je(0|l[(0|l[V>>2])+(H<<3)>>2]),R=0|l[V>>2],l[R+(H<<3)>>2]=0,l[R+(H<<3)+4>>2]=0,F=D,O=0|l[U>>2],D=R}else G=Z;if((H=0|H+1)>>>0>=O>>>0){Y=93;break}Z=G}if(91==(0|Y)){_e(i,1,8564,B);break i}if(93==(0|Y)){G=0|l[N>>2],R=0|l[z>>2];break}}else D=0|l[V>>2]}while(0);l[e+128>>2]=G,l[e+152>>2]=R,l[U>>2]=0,je(D),l[V>>2]=0;break t}}while(0);return _e(i,1,8656,M),A=T,0|(Q=0)}}while(0);return _e(i,4,8682,Q),i=0|he(t),Q=0|8+(0|l[X>>2]),l[Q>>2]=i+-2,l[Q+4>>2]=0,l[P>>2]=8,A=T,0|(Q=1)}}return _e(i,1,8426,w),A=T,0|(Q=0)}}while(0);return _e(i,1,8126,H),A=T,0|(Q=0)},function(e,t,i){t|=0,i|=0;var n,o,a,s,c,h,u,f=0,d=0,p=0,_=0,m=0,b=0,y=0,g=0,v=0,w=0,x=0,k=0,I=0,S=0,E=0,C=0,M=0,P=0,T=0,D=0;u=A,A=0|A+16,h=u,s=0|l[80+(e|=0)>>2],c=0|e+88,n=0|B(0|l[e+112>>2],0|l[e+116>>2]),o=0|1080*(x=0|l[s+16>>2]),a=0|l[e+12>>2],x=0|B(x<<2,x);e:do{if(0|n){k=0|a+5604,I=0|a+5620,S=0|a+5612,E=0|a+5616,C=0|a+5632,M=0|a+5624,P=0|a+5584,v=0|l[e+164>>2],w=0;t:for(;;){if(T=0|l[(m=0|v+5584)>>2],Br(0|v,0|a,5640),r[(t=0|v+5636)>>0]=-4&r[t>>0],l[v+5168>>2]=0,l[(t=0|v+5604)>>2]=0,l[(b=0|v+5620)>>2]=0,l[(D=0|v+5612)>>2]=0,l[(y=0|v+5632)>>2]=0,l[(g=0|v+5624)>>2]=0,l[m>>2]=T,0|l[k>>2]){if(f=0|He(x),l[t>>2]=f,!f){t=0,f=25;break}Br(0|f,0|l[k>>2],0|x)}if(f=0|He(t=0|20*(0|l[I>>2])),l[D>>2]=f,!f){t=0,f=25;break}if(Br(0|f,0|l[S>>2],0|t),0|(t=0|l[E>>2]))for(p=0|l[D>>2],_=0|l[S>>2],m=0;;){if(0|l[(d=0|_+12)>>2]){if(f=0|He(0|l[(t=0|_+16)>>2]),l[p+12>>2]=f,!f){t=0,f=25;break t}Br(0|f,0|l[d>>2],0|l[t>>2]),t=0|l[E>>2]}if(l[b>>2]=1+(0|l[b>>2]),(m=0|m+1)>>>0>=t>>>0)break;p=0|p+20,_=0|_+20}if(f=0|He(t=0|20*(0|l[C>>2])),l[g>>2]=f,!f){t=0,f=25;break}if(Br(0|f,0|l[M>>2],0|t),l[y>>2]=l[C>>2],0|(_=0|l[C>>2]))for(p=0|l[M>>2],f=0|l[g>>2],d=0;0|(t=0|l[p+8>>2])&&(l[f+8>>2]=(0|l[D>>2])+(0|20*(0|(0|t-(0|l[S>>2]))/20))),0|(t=0|l[p+12>>2])&&(l[f+12>>2]=(0|l[D>>2])+(0|20*(0|(0|t-(0|l[S>>2]))/20))),!((d=0|d+1)>>>0>=_>>>0);){p=0|p+20,f=0|f+20}if(Br(0|T,0|l[P>>2],0|o),(w=0|w+1)>>>0>=n>>>0)break e;v=0|v+5640}if(25==(0|f))return A=u,0|t}}while(0);return f=0|Xt(1),l[(t=0|e+204)>>2]=f,f?0|Kt(f,s,c)?(A=u,0|(i=1)):($t(0|l[t>>2]),l[t>>2]=0,_e(i,1,8019,h),A=u,0|(i=0)):(A=u,0|(i=0))},function(e,t,i){e|=0,t|=0,i|=0;var n,r,o,a,s,c,h,u,f,d,p,_,m,b,y,g,v=0,w=0,x=0,I=0,S=0,E=0,C=0,M=0;if(g=A,A=0|A+80,p=0|g+32,_=0|g+24,M=0|g+16,C=0|g+8,y=0|g+60,c=0|g+56,h=0|g+52,u=0|g+48,f=0|g+44,d=0|g+40,n=0|g+36,l[(s=0|g+64)>>2]=1,!(v=0|He(1e3)))return _e(i,1,14664,g),A=g,0|(M=0);for(m=0|e+116,b=0|e+112,r=0|e+204,o=0|e+84,a=0|e+8,E=0,w=1e3;;){if(!(0|nt(e,y,c,h,u,f,d,n,s,t,i))){w=5;break}if(!(0|l[s>>2])){w=17;break}if((S=0|l[c>>2])>>>0>w>>>0){if(!(w=0|Ue(v,S))){w=9;break}v=w,I=S}else I=w;if(!(0|rt(e,x=0|l[y>>2],v,S,t,i))){w=11;break}if(w=0|x+1,S=0|B(0|l[b>>2],0|l[m>>2]),l[_>>2]=w,l[_+4>>2]=S,_e(i,4,14768,_),S=0|l[r>>2],!(0|pt(0|l[20+(0|l[l[S+20>>2]>>2])>>2],0|l[S+24>>2],v,0|l[24+(0|l[o>>2])>>2]))){w=13;break}if(l[p>>2]=w,_e(i,4,14798,p),0==(0|(S=0|ue(t)))&0==(0|k)&&64==(0|l[a>>2])){w=17;break}if((0|(E=0|E+1))==(0|B(0|l[b>>2],0|l[m>>2]))){w=17;break}w=I}return 5==(0|w)?(je(v),A=g,0|(M=0)):9==(0|w)?(je(v),M=0|B(0|l[b>>2],0|l[m>>2]),l[C>>2]=1+(0|l[y>>2]),l[C+4>>2]=M,_e(i,1,14699,C),A=g,0|(M=0)):11==(0|w)?(je(v),C=0|B(0|l[b>>2],0|l[m>>2]),l[M>>2]=x+1,l[M+4>>2]=C,_e(i,1,14739,M),A=g,0|(M=0)):13==(0|w)?(je(v),A=g,0|(M=0)):17==(0|w)?(je(v),A=g,0|(M=1)):0},function(e,t,i){e|=0,t|=0,i|=0;var n,r,o,a,s,c,h,u,f,d,p,_,m,b,y,g=0,v=0,w=0,x=0,I=0,S=0,E=0,C=0,M=0,P=0,T=0,D=0;if(y=A,A=0|A+96,_=0|y+56,p=0|y+48,d=0|y+40,b=0|y+32,m=0|y+24,S=0|y+16,I=0|y+8,a=0|y+88,s=0|y+84,c=0|y+80,h=0|y+76,u=0|y+72,f=0|y+68,n=0|y+64,l[(o=0|y+92)>>2]=1,!(g=0|He(1e3)))return _e(i,1,14941,y),A=y,0|(T=0);v=0|l[(r=0|e+196)>>2],w=0|l[v+40>>2];e:do{if(!w){w=0|B(0|l[e+116>>2],0|l[e+112>>2]),l[v+36>>2]=w,w=0|Ne(w,40),v=0|l[r>>2],l[v+40>>2]=w;t:do{if(0|w){if(0|l[v+36>>2]){x=0;do{if(l[w+(0|40*x)+28>>2]=100,l[w+(0|40*x)+20>>2]=0,P=0|Ne(100,24),v=0|l[r>>2],w=0|l[v+40>>2],l[w+(0|40*x)+24>>2]=P,x=0|x+1,!P)break t}while(x>>>0<(0|l[v+36>>2])>>>0)}if(v=0|l[e+60>>2],w){x=v,T=11;break e}break e}}while(0);return je(g),A=y,0|(T=0)}x=0|l[e+60>>2],T=11}while(0);if(11==(0|T))if(0|l[w+16>>2]){if(0|l[w+(0|40*x)+4>>2]){if(P=0|l[w+(0|40*x)+16>>2],!(0|te(t,P=0|gr(0|l[P>>2],0|l[P+4>>2],2,0),k,i)))return _e(i,1,14979,S),je(g),A=y,0|(T=0)}else if(!(0|te(t,P=0|gr(0|l[(P=0|e+64)>>2],0|l[P+4>>2],2,0),k,i)))return _e(i,1,14979,I),je(g),A=y,0|(T=0);256==(0|l[(v=0|e+8)>>2])?(l[v>>2]=8,v=x):v=x}else v=x;e:do{if(0|nt(e,a,s,c,h,u,f,n,o,t,i)){for(S=0|e+116,E=0|e+112,C=0|e+204,M=0|e+84,P=0|v+1,w=1e3;0|l[o>>2];){if((x=0|l[s>>2])>>>0>w>>>0){if(!(w=0|Ue(g,x))){T=25;break}g=w,w=x}if(!(0|rt(e,I=0|l[a>>2],g,x,t,i))){T=27;break}if(x=0|I+1,D=0|B(0|l[E>>2],0|l[S>>2]),l[b>>2]=x,l[b+4>>2]=D,_e(i,4,14768,b),D=0|l[C>>2],!(0|pt(0|l[20+(0|l[l[D+20>>2]>>2])>>2],0|l[D+24>>2],g,0|l[24+(0|l[M>>2])>>2]))){T=29;break}if(l[d>>2]=x,_e(i,4,14798,d),(0|I)==(0|v)){T=31;break}if(l[_>>2]=x,l[_+4>>2]=P,_e(i,2,15007,_),!(0|nt(e,a,s,c,h,u,f,n,o,t,i)))break e}return 25==(0|T)?(je(g),D=0|B(0|l[E>>2],0|l[S>>2]),l[m>>2]=1+(0|l[a>>2]),l[m+4>>2]=D,_e(i,1,14699,m),A=y,0|(D=0)):27==(0|T)?(je(g),A=y,0|(D=0)):29==(0|T)?(je(g),A=y,0|(D=0)):31!=(0|T)||(D=0|8+(0|l[r>>2]),0|te(t,D=0|gr(0|l[D>>2],0|l[D+4>>2],2,0),k,i))?(je(g),A=y,0|(D=1)):(_e(i,1,14979,p),je(g),A=y,0|(D=0))}}while(0);return je(g),A=y,0|(D=0)},function(e,t,i){return t|=0,i|=0,ie(0|l[(e=0|44+(e|=0))>>2],65497,2),2!=(0|ce(t,0|l[e>>2],2,i))?0|(i=0):0|(i=1&0!=(0|function(e,t){t|=0;var i,n,r,o,a=0,s=0,c=0,h=0,u=0;o=A,A=0|A+16,r=o,a=0|l[(i=0|32+(e|=0))>>2],l[(u=0|e+36)>>2]=a,s=0|l[(n=0|e+48)>>2];do{if(s){for(c=0|e+20;-1!=(0|(s=0|Jr[63&l[c>>2]](a,s,0|l[e>>2])));){if(a=0|(0|l[u>>2])+s,l[u>>2]=a,s=0|(0|l[n>>2])-s,l[n>>2]=s,!s){h=6;break}}if(6==(0|h)){a=0|l[i>>2];break}return l[(u=0|e+68)>>2]=8|l[u>>2],_e(t,4,4360,r),A=o,0|(u=0)}}while(0);return l[u>>2]=a,A=o,0|(u=1)}(t,i)))},function(e,t,i){t|=0,i|=0;var n,r,o,a,s=0;return o=0|5*(0|l[32+(e|=0)>>2]),s=0|gr(0|l[(s=0|e+16)>>2],0|l[s+4>>2],6,0),a=k,n=0|he(t),r=k,0|de(t,s,a,i)?(0|ce(t,0|l[e+24>>2],o,i))!=(0|o)?0|(s=0):0|(s=1&0!=(0|de(t,n,r,i))):0|(s=0)},function(e,t,i){return t|=0,i|=0,(e=0|l[196+(e|=0)>>2])?(i=0|vr(0|(t=0|he(t)),0|k,0|l[(i=e)>>2],0|l[i+4>>2]),l[(t=0|e+16)>>2]=i,l[t+4>>2]=k,1):1},function(e,t,i){return t|=0,i|=0,$t(0|l[(t=0|204+(e|=0))>>2]),l[t>>2]=0,0|(i=0|l[(t=0|e+24)>>2])&&(je(i),l[t>>2]=0,l[e+28>>2]=0),(t=0|l[(i=0|e+36)>>2])?(je(t),l[i>>2]=0,l[(e=0|e+40)>>2]=0,1):(l[(e=0|e+40)>>2]=0,1)},function(e,t,i){return t|=0,i|=0,0|(i=0|l[(t=0|44+(e|=0))>>2])&&(je(i),l[t>>2]=0),l[e+48>>2]=0,1},function(e,t,i){return 1},function(e,t,i){var n,r;return t|=0,i|=0,r=A,A=0|A+32,n=1&(0==(0|l[8+(e|=0)>>2])&0!=(0|l[e+188>>2])&0!=(0|l[e+192>>2])),31<(t=0|(0|l[4+(0|l[5584+(0|l[e+164>>2])>>2])>>2])-1)>>>0?(_e(i,1,16016,r),A=r,0|(i=0)):(t=1<<t,(0|l[e+100>>2])>>>0<t>>>0?(_e(i,1,16016,0|r+8),A=r,0|(i=0)):(0|l[e+104>>2])>>>0>=t>>>0?(A=r,0|(i=n)):(_e(i,1,16016,0|r+16),A=r,0|(i=0)))},function(e,t,i){t|=0,i|=0;var n,r=0,o=0,s=0,c=0;if(-32256!=(-32256&a[88+(e|=0)>>1])<<16>>16)return 0|(c=1);if(!(n=0|B(0|l[e+112>>2],0|l[e+116>>2])))return 0|(c=1);for(c=0|e+80,o=0|l[e+164>>2],t=1,s=0;;){if(2==(0|l[o+16>>2])&&(t&=0!=(0|l[o+5608>>2]),r=0|l[16+(0|l[c>>2])>>2]))for(i=0,e=0|l[o+5584>>2];t=(1^1&l[e+20>>2])&t,!((i=0|i+1)>>>0>=r>>>0);){e=0|e+1080}if((0|(s=0|s+1))==(0|n))break;o=0|o+5640}return 0|t},function(e,t,i){t|=0,i|=0;var n,r,o,a,s=0,c=0,h=0;if(r=0|88+(e|=0),o=0|e+32,a=0|l[e+80>>2],n=0|B(0|l[e+116>>2],0|l[e+112>>2]),l[o>>2]=0,!n)return 1;for(e=0|l[e+164>>2],s=0;;){Wt(a,r,s),c=0|e+420,t=0,i=0;do{h=0|vt(r,t,s),l[o>>2]=(0|l[o>>2])+h,i=0|h+i,t=0|t+1}while(t>>>0<=(0|l[c>>2])>>>0);if(l[e+5588>>2]=i,(0|(s=0|s+1))==(0|n))break;e=0|e+5640}return 1},function(e,t,i){return t|=0,i|=0,ie(e=0|l[44+(e|=0)>>2],65359,2),0|2==(0|ce(t,e,2,i))},function(e,t,i){t|=0,i|=0;var n,r,o,a,s,c,h=0,u=0,d=0,p=0;c=A,A=0|A+16,n=c,r=0|l[80+(e|=0)>>2],p=0|40+(o=0|3*(0|l[(s=0|r+16)>>2])),d=0|l[r+24>>2],u=0|e+48,h=0|l[(a=0|e+44)>>2];do{if(p>>>0>(0|l[u>>2])>>>0){if(0|(h=0|Ue(h,p))){l[a>>2]=h,l[u>>2]=p;break}return je(0|l[a>>2]),l[a>>2]=0,l[u>>2]=0,_e(i,1,15978,n),A=c,0|(p=0)}}while(0);if(ie(h,65361,2),ie(0|h+2,0|o+38,2),ie(0|h+4,0|f[e+88>>1],2),ie(0|h+6,0|l[r+8>>2],4),ie(0|h+10,0|l[r+12>>2],4),ie(0|h+14,0|l[r>>2],4),ie(0|h+18,0|l[r+4>>2],4),ie(0|h+22,0|l[e+100>>2],4),ie(0|h+26,0|l[e+104>>2],4),ie(0|h+30,0|l[e+92>>2],4),ie(0|h+34,0|l[e+96>>2],4),ie(0|h+38,0|l[s>>2],2),0|l[s>>2])for(h=0|h+40,u=0;ie(h,0|(0|l[d+24>>2])-1+(l[d+32>>2]<<7),1),ie(0|h+1,0|l[d>>2],1),ie(0|h+2,0|l[d+4>>2],1),!((u=0|u+1)>>>0>=(0|l[s>>2])>>>0);){d=0|d+52,h=0|h+3}return p=1&(0|ce(t,0|l[a>>2],p,i))==(0|p),A=c,0|p},function(e,t,i){t|=0,i|=0;var n,r,o,a,s,c,h,u,f,d,p=0,_=0,m=0;d=A,A=0|A+32,m=0|d+16,f=0|d+8,o=d,a=0|d+20,c=0|l[(s=0|164+(e|=0))>>2],u=0|l[(h=0|e+200)>>2],p=0|l[c+(0|5640*u)+5584>>2],r=0|9+(_=1&l[p>>2]?0|5+(0|l[p+4>>2]):5),l[a>>2]=r,n=0|e+48,p=0|l[(e=0|e+44)>>2];do{if(r>>>0>(0|l[n>>2])>>>0){if(0|(p=0|Ue(p,r))){l[e>>2]=p,l[n>>2]=r;break}return je(0|l[e>>2]),l[e>>2]=0,l[n>>2]=0,_e(i,1,15913,o),A=d,0|(m=0)}}while(0);return ie(p,65362,2),ie(0|p+2,0|_+7,2),ie(0|p+4,0|l[c+(0|5640*u)>>2],1),ie(0|p+5,0|l[c+(0|5640*u)+4>>2],1),ie(0|p+6,0|l[c+(0|5640*u)+8>>2],2),ie(0|p+8,0|l[c+(0|5640*u)+16>>2],1),l[a>>2]=_,0|kt(0|l[s>>2],0|l[h>>2],0|p+9,a,i)?0|l[a>>2]?(_e(i,1,15952,m),A=d,0|(m=0)):(m=1&(0|ce(t,0|l[e>>2],r,i))==(0|r),A=d,0|m):(_e(i,1,15952,f),A=d,0|(m=0))},function(e,t,i){t|=0,i|=0;var n,r,o,a,s,c,h,u,f=0,d=0,p=0;u=A,A=0|A+32,p=0|u+16,h=0|u+8,o=u,s=0|u+20,c=0|200+(e|=0),f=0|l[(0|l[(a=0|e+164)>>2])+(0|5640*(0|l[c>>2]))+5584>>2],f=1==(0|(d=0|l[f+24>>2]))?1:0|(0|3*(0|l[f+4>>2]))-2,r=0|4+(n=0==(0|d)?0|f+1:1|f<<1),l[s>>2]=r,d=0|e+48,f=0|l[(e=0|e+44)>>2];do{if(r>>>0>(0|l[d>>2])>>>0){if(0|(f=0|Ue(f,r))){l[e>>2]=f,l[d>>2]=r;break}return je(0|l[e>>2]),l[e>>2]=0,l[d>>2]=0,_e(i,1,15848,o),A=u,0|(p=0)}}while(0);return ie(f,65372,2),ie(0|f+2,0|n+2,2),l[s>>2]=n,0|xt(0|l[a>>2],0|l[c>>2],0,0|f+4,s,i)?0|l[s>>2]?(_e(i,1,15887,p),A=u,0|(p=0)):(p=1&(0|ce(t,0|l[e>>2],r,i))==(0|r),A=u,0|p):(_e(i,1,15887,h),A=u,0|(p=0))},function(e,t,i){t|=0,i|=0;var n,r,o,a,s,c,h,u,f=0,d=0,p=0,_=0,m=0,b=0,y=0,g=0,v=0,w=0;if(u=A,A=0|A+16,h=u,a=0|u+4,1>=(f=0|l[16+(0|l[(s=0|80+(e|=0))>>2])>>2])>>>0)return A=u,0|(w=1);for(r=0|e+164,o=0|e+200,c=0|e+48,n=0|e+44,g=1,e=f;;){d=0|l[r>>2],_=0|l[o>>2],p=0|l[d+(0|5640*_)+5584>>2],m=0|l[p+(0|1080*g)>>2];e:do{if((0|l[p>>2])==(0|m)&&(v=0|l[p+4>>2],(0|v)==(0|l[p+(0|1080*g)+4>>2]))&&(0|l[p+8>>2])==(0|l[p+(0|1080*g)+8>>2])&&(0|l[p+12>>2])==(0|l[p+(0|1080*g)+12>>2])&&(0|l[p+16>>2])==(0|l[p+(0|1080*g)+16>>2])&&(0|l[p+20>>2])==(0|l[p+(0|1080*g)+20>>2])){if(v){f=0;do{if((0|l[p+812+(f<<2)>>2])!=(0|l[p+(0|1080*g)+812+(f<<2)>>2])){w=13;break e}if((0|l[p+944+(f<<2)>>2])!=(0|l[p+(0|1080*g)+944+(f<<2)>>2])){w=13;break e}f=0|f+1}while(f>>>0<v>>>0)}}else w=13}while(0);if(13==(0|w)){if(w=0,y=0|(f=1&m?0|5+(0|l[p+(0|1080*g)+4>>2]):5)+(257>e>>>0?6:7),f=0|l[n>>2],y>>>0>(0|l[c>>2])>>>0){if(!(f=0|Ue(f,y))){w=17;break}l[n>>2]=f,l[c>>2]=y,b=0|l[r>>2],_=0|l[o>>2],p=0|l[b+(0|5640*_)+5584>>2],e=0|l[16+(0|l[s>>2])>>2],m=0|l[p+(0|1080*g)>>2]}else b=d;if(d=257>e>>>0?1:2,e=1&m?0|5+(0|l[p+(0|1080*g)+4>>2]):5,ie(f,65363,2),ie(0|f+2,0|d+3+e,2),ie(m=0|f+4,g,d),ie(m=0|m+d,0|l[(0|l[b+(0|5640*_)+5584>>2])+(0|1080*g)>>2],1),l[a>>2]=e,kt(0|l[r>>2],0|l[o>>2],0|m+1,a,i),(0|ce(t,0|l[n>>2],y,i))!=(0|y)){e=0,w=24;break}e=0|l[16+(0|l[s>>2])>>2]}if((g=0|g+1)>>>0>=e>>>0){e=1,w=24;break}}return 17==(0|w)?(je(0|l[n>>2]),l[n>>2]=0,l[c>>2]=0,_e(i,1,15774,h),A=u,0|(w=0)):24==(0|w)?(A=u,0|e):0},function(e,t,i){t|=0,i|=0;var n,r,o,a,s,c,h,u,f=0,d=0,p=0,_=0,m=0,b=0,y=0,g=0;if(u=A,A=0|A+16,h=u,a=0|u+4,1>=(f=0|l[16+(0|l[(s=0|80+(e|=0))>>2])>>2])>>>0)return A=u,0|(g=1);for(r=0|e+164,o=0|e+200,c=0|e+48,n=0|e+44,y=1,e=f;;){m=0|l[(0|l[r>>2])+(0|5640*(0|l[o>>2]))+5584>>2],p=0|l[m+24>>2],_=0|l[m+(0|1080*y)+24>>2];e:do{if((0|p)==(0|_)&&(0|l[m+804>>2])==(0|l[m+(0|1080*y)+804>>2])){if(1!=(0|p)){if(f=0|(b=0|3*(0|l[m+4>>2]))-2,(0|b)!=(0|3*(0|l[m+(0|1080*y)+4>>2]))){g=14;break}if(!f)break;d=f}else d=1;f=0;do{if((0|l[m+28+(f<<3)>>2])!=(0|l[m+(0|1080*y)+28+(f<<3)>>2])){g=14;break e}f=0|f+1}while(f>>>0<d>>>0);if(p){f=0;do{if((0|l[m+28+(f<<3)+4>>2])!=(0|l[m+(0|1080*y)+28+(f<<3)+4>>2])){g=14;break e}f=0|f+1}while(f>>>0<d>>>0)}}else g=14}while(0);if(14==(0|g)){if(g=0,f=1==(0|_)?1:0|(0|3*(0|l[m+(0|1080*y)+4>>2]))-2,b=0|5+(0==(0|_)?0|f+1:1|f<<1)+(1&256<e>>>0),e=0|l[n>>2],b>>>0>(0|l[c>>2])>>>0){if(!(e=0|Ue(e,b))){g=18;break}l[n>>2]=e,l[c>>2]=b,f=0|l[(0|l[r>>2])+(0|5640*(0|l[o>>2]))+5584>>2],d=0|l[f+(0|1080*y)+24>>2],p=e}else d=_,f=m,p=e;if(e=1==(0|d)?1:0|(0|3*(0|l[f+(0|1080*y)+4>>2]))-2,f=0==(0|d)?0|e+1:1|e<<1,l[a>>2]=f+6,ie(p,65373,2),e=0|p+2,257>(0|l[16+(0|l[s>>2])>>2])>>>0?(ie(e,0|f+3,2),ie(0|p+4,y,1),e=5):(ie(e,0|f+4,2),ie(0|p+4,y,2),e=6),l[a>>2]=f,xt(0|l[r>>2],0|l[o>>2],y,0|p+e,a,i),(0|ce(t,0|l[n>>2],b,i))!=(0|b)){e=0,g=28;break}e=0|l[16+(0|l[s>>2])>>2]}if((y=0|y+1)>>>0>=e>>>0){e=1,g=28;break}}return 18==(0|g)?(je(0|l[n>>2]),l[n>>2]=0,l[c>>2]=0,_e(i,1,15702,h),A=u,0|(g=0)):28==(0|g)?(A=u,0|e):0},function(e,t,i){t|=0,i|=0;var n,r,o,a,s=0,c=0,h=0;a=A,A=0|A+16,c=a,h=0|6+(o=0|5*(0|l[32+(e|=0)>>2])),n=0|e+48,s=0|l[(r=0|e+44)>>2];do{if(h>>>0>(0|l[n>>2])>>>0){if(0|(s=0|Ue(s,h))){l[r>>2]=s,l[n>>2]=h;break}return je(0|l[r>>2]),l[r>>2]=0,l[n>>2]=0,_e(i,1,15663,c),A=a,0|(h=0)}}while(0);return c=0|he(t),l[(e=0|e+16)>>2]=c,l[e+4>>2]=k,ie(s,65365,2),ie(0|s+2,0|o+4,2),ie(0|s+4,0,1),ie(0|s+5,80,1),h=1&(0|ce(t,0|l[r>>2],h,i))==(0|h),A=a,0|h},function(e,t,i){e|=0,t|=0,i|=0;var n,r,o,a,s,c,h,u,f=0,d=0,p=0,_=0;u=A,A=0|A+16,o=u,l[(_=0|u+4)>>2]=0,d=0|l[(a=0|e+164)>>2],f=0|l[(s=0|e+200)>>2],p=0|l[16+(0|l[(r=0|e+80)>>2])>>2],h=0|4+(0|B(257>p>>>0?7:9,0|1+(0|l[d+(0|5640*f)+420>>2]))),n=0|e+48,e=0|l[(c=0|e+44)>>2];do{if(h>>>0>(0|l[n>>2])>>>0){if(0|(e=0|Ue(e,h))){l[c>>2]=e,l[n>>2]=h,p=0|l[16+(0|l[r>>2])>>2],d=0|l[a>>2],f=0|l[s>>2];break}return je(0|l[c>>2]),l[c>>2]=0,l[n>>2]=0,_e(i,1,15624,o),A=u,0|(_=0)}}while(0);return gt(p,d,f,e,_),_=1&(0|ce(t,0|l[c>>2],h,i))==(0|h),A=u,0|_},function(e,t,i){t|=0,i|=0;var n,r,o=0,a=0,s=0,c=0,h=0,u=0;if(r=0|164+(e|=0),a=0|l[(h=0|e+80)>>2],!(o=0|l[a+16>>2]))return 0|(h=1);for(n=0|e+44,s=0,c=0|l[5584+(0|l[r>>2])>>2],e=a;;){if(0|l[c+808>>2]){if(e=0|l[5584+(0|l[r>>2])>>2],a=0|6+(o=257>o>>>0?1:2),ie(u=0|l[n>>2],65374,2),ie(0|u+2,4|o,2),ie(u=0|u+4,s,o),ie(o=0|u+o,0,1),ie(0|o+1,0|l[e+(0|1080*s)+808>>2],1),(0|ce(t,0|l[n>>2],a,i))!=(0|a)){e=0,o=7;break}e=0|l[h>>2]}if((s=0|s+1)>>>0>=(o=0|l[e+16>>2])>>>0){e=1,o=7;break}c=0|c+1080}return 7==(0|o)?0|e:0},function(e,t,i){t|=0,i|=0;var n,r,o,a,s,c,h=0;c=A,A=0|A+16,o=c,h=0|6+(s=0|kn(a=0|l[108+(e|=0)>>2])),r=0|e+48,e=0|l[(n=0|e+44)>>2];do{if(h>>>0>(0|l[r>>2])>>>0){if(0|(e=0|Ue(e,h))){l[n>>2]=e,l[r>>2]=h;break}return je(0|l[n>>2]),l[n>>2]=0,l[r>>2]=0,_e(i,1,15581,o),A=c,0|(h=0)}}while(0);return ie(e,65380,2),ie(0|e+2,0|s+4,2),ie(0|e+4,1,2),Br(0|e+6,0|a,0|s),h=1&(0|ce(t,0|l[n>>2],h,i))==(0|h),A=c,0|h},function(e,t,i){t|=0,i|=0;var n,o,a,s,c,h,u,f=0,d=0,p=0,_=0,m=0,b=0,y=0,g=0,v=0,w=0,x=0;u=A,A=0|A+32,c=0|u+24,a=0|u+16,v=0|u+8,d=u,p=0|l[80+(e|=0)>>2],b=0|6+(_=0|l[(m=0|p+16)>>2]),s=0|e+48,f=0|l[(h=0|e+44)>>2];do{if(b>>>0>(0|l[s>>2])>>>0){if(0|(f=0|Ue(f,b))){l[h>>2]=f,l[s>>2]=b;break}return je(0|l[h>>2]),l[h>>2]=0,l[s>>2]=0,_e(i,1,15425,d),A=u,0|(i=0)}}while(0);if(ie(f,65400,2),ie(0|f+2,0|_+4,2),ie(0|f+4,0|l[m>>2],2),0|l[m>>2])for(p=0|l[p+24>>2],f=0|f+6,d=0;ie(f,(0|l[p+24>>2])-1|l[p+32>>2]<<7,1),!((d=0|d+1)>>>0>=(0|l[m>>2])>>>0);){p=0|p+52,f=0|f+1}if((0|ce(t,0|l[h>>2],b,i))!=(0|b))return A=u,0|(i=0);_=0|(g=0|l[(n=0|e+164)>>2])+(0|5640*(y=0|l[(o=0|e+200)>>2]))+5616;e:do{if(0|l[_>>2]){for(d=0|l[g+(0|5640*y)+5612>>2],p=0;;){if(e=0|10+(b=0|l[(m=0|d+16)>>2]),f=0|l[h>>2],e>>>0>(0|l[s>>2])>>>0){if(!(f=0|Ue(f,e)))break;l[h>>2]=f,l[s>>2]=e}if(ie(f,65396,2),ie(0|f+2,0|b+8,2),ie(0|f+4,0,2),ie(0|f+6,l[d+4>>2]<<8|255&l[d+8>>2]|l[d>>2]<<10,2),ie(0|f+8,0,2),Br(0|f+10,0|l[d+12>>2],0|l[m>>2]),(0|ce(t,0|l[h>>2],e,i))!=(0|e)){w=0,x=41;break}if((p=0|p+1)>>>0>=(0|l[_>>2])>>>0)break e;d=0|d+20}return 41==(0|x)?(A=u,0|w):(je(0|l[h>>2]),l[h>>2]=0,l[s>>2]=0,_e(i,1,15464,v),A=u,0|(i=0))}}while(0);v=0|g+(0|5640*y)+5628;e:do{if(0|l[v>>2]){for(e=0|l[g+(0|5640*y)+5624>>2],y=0;;){if(m=(_=255<(d=0|l[(b=0|e+4)>>2])>>>0)?2:1,_=_?32768:0,g=0|19+(d=0|B(m,d<<1)),f=0|l[h>>2],g>>>0>(0|l[s>>2])>>>0){if(!(f=0|Ue(f,g)))break;l[h>>2]=f,l[s>>2]=g}if(ie(f,65397,2),ie(0|f+2,0|d+17,2),ie(0|f+4,0,2),ie(0|f+6,0|l[e>>2],1),ie(0|f+7,0,2),ie(0|f+9,1,2),ie(0|f+11,1,1),ie(0|f+12,l[b>>2]|_,2),f=0|f+14,0|l[b>>2]){p=0;do{ie(f,p,m),f=0|f+m,p=0|p+1,d=0|l[b>>2]}while(p>>>0<d>>>0)}else d=0;if(ie(f,d|_,2),f=0|f+2,0|l[b>>2]){d=0;do{ie(f,d,m),f=0|f+m,d=0|d+1}while(d>>>0<(0|l[b>>2])>>>0);p=f}else p=f;if(f=(255&(1^1&r[e+16>>0]))<<16,(d=0|l[e+8>>2])&&(f=l[d+8>>2]|f),(d=0|l[e+12>>2])&&(f=l[d+8>>2]<<8|f),ie(p,f,3),(0|ce(t,0|l[h>>2],g,i))!=(0|g)){w=0,x=41;break}if((y=0|y+1)>>>0>=(0|l[v>>2])>>>0)break e;e=0|e+20}return 41==(0|x)?(A=u,0|w):(je(0|l[h>>2]),l[h>>2]=0,l[s>>2]=0,_e(i,1,15503,a),A=u,0|(i=0))}}while(0);m=0|l[n>>2],_=0|l[o>>2],e=0|5+(d=0|l[(b=0|m+(0|5640*_)+5628)>>2]),f=0|l[h>>2];do{if(e>>>0>(0|l[s>>2])>>>0){if(0|(f=0|Ue(f,e))){l[h>>2]=f,l[s>>2]=e;break}return je(0|l[h>>2]),l[h>>2]=0,l[s>>2]=0,_e(i,1,15542,c),A=u,0|(i=0)}}while(0);if(ie(f,65399,2),ie(0|f+2,0|d+3,2),ie(0|f+4,0|l[b>>2],1),0|l[b>>2])for(p=0,d=0|l[m+(0|5640*_)+5624>>2],f=0|f+5;ie(f,0|l[d>>2],1),!((p=0|p+1)>>>0>=(0|l[b>>2])>>>0);){d=0|d+20,f=0|f+1}return i=1&(0|ce(t,0|l[h>>2],e,i))==(0|e),A=u,0|i},function(e,t,i){return e|=0,i|=0,t=0|he(t|=0),i=0|8+(0|l[e+196>>2]),l[i>>2]=t,l[i+4>>2]=k,1},function(e,t,i){var n,r;return e|=0,t|=0,i|=0,r=A,A=0|A+16,t=0|Xt(0),l[(n=0|e+204)>>2]=t,t?0|Kt(t,0|l[e+80>>2],0|e+88)?(A=r,0|(i=1)):($t(0|l[n>>2]),l[n>>2]=0,A=r,0|(i=0)):(_e(i,1,15385,r),A=r,0|(i=0))},function(e,t,i){t|=0,i|=0;var n,o,s,c,h,u,f=0,d=0,p=0,m=0,b=0,y=0,g=0,v=0,A=0,w=0,x=0,I=0,S=0,E=0,C=0,M=0,P=0,T=0,D=0,R=0,G=0,O=0,F=0,L=0,Z=0,H=0,N=0,z=0,V=0,U=0,j=0;if(n=0|l[(c=0|80+(e|=0))>>2],d=0|l[(j=0|e+164)>>2],F=0|l[(U=0|n+24)>>2],f=0|l[F>>2],i=0|l[F+4>>2],s=0|n+16,F=0|B(0|l[F+24>>2],0|l[s>>2]),O=0|he(t),t=0|l[(h=0|e+116)>>2],p=0|l[(u=0|e+112)>>2],o=(+(O>>>0)+4294967296*+(0|k))/+((0|B(p,t))>>>0),O=0==(8&r[e+181>>0])?1:2,0|t){for(I=0|e+92,E=0|e+100,P=0|e+96,T=0|e+104,D=0|n+4,R=0|n+8,G=0|n+12,M=+((0|B(f<<3,i))>>>0),A=0,f=p,i=p;;){if(v=A,A=0|A+1,i){y=0;do{if(C=+Yr[3&O](d),C/=+((b=0|l[d+8>>2])>>>0),x=0|l[I>>2],f=0|l[E>>2],i=(0|(m=0|(0|B(f,y))+x))>(0|(i=0|l[n>>2]))?m:i,m=0|l[P>>2],p=0|l[T>>2],t=(0|(w=0|(0|B(p,v))+m))>(0|(t=0|l[D>>2]))?w:t,f=(0|(x=0|(0|B(f,y=0|y+1))+x))<(0|(f=0|l[R>>2]))?x:f,p=(0|(m=0|(0|B(p,A))+m))<(0|(p=0|l[G>>2]))?m:p,0<(g=+_[(m=0|d+20)>>2])&&(S=+((0|B(0|B(0|f-i,F),0|p-t))>>>0)/(g*M)-C,_[m>>2]=S),1<b>>>0)for(g=+((0|B(0|B(0|f-i,F),0|p-t))>>>0),i=0|d+24,t=1;0<(S=+_[i>>2])&&(_[i>>2]=g/(S*M)-C),!((t=0|t+1)>>>0>=b>>>0);){i=0|i+4}d=0|d+5640,i=0|l[u>>2]}while(y>>>0<i>>>0);x=0|l[h>>2],w=i}else x=t,w=f,i=0;if(A>>>0>=x>>>0)break;f=w,t=x}if(0|x&&(H=o+2,0|w))for(y=0,i=0|l[j>>2];;){for(v=0,A=i,b=0|i+16;;){if(0<(g=+_[(i=0|A+20)>>2])&&(M=g-o,_[i>>2]=M,30>M)&&(_[i>>2]=30),t=0|A+24,m=0|(i=0|l[A+8>>2])-1,d=0<(g=+_[t>>2]),1<m>>>0){p=0|b+(i<<2),f=1,i=d;do{i&&(M=g-o,_[t>>2]=M,M<10+(z=+_[t+-4>>2]))&&(_[t>>2]=z+20),f=0|f+1,i=0<(g=+_[(t=0|t+4)>>2])}while((0|f)!=(0|m));i&&(L=p,Z=g,V=25)}else d&&(L=t,Z=g,V=25);if(25==(0|V)&&(V=0,M=Z-H,_[L>>2]=M,M<10+(N=+_[L+-4>>2]))&&(_[L>>2]=N+20),A=0|A+5640,(v=0|v+1)>>>0>=w>>>0)break;b=0|b+5640}if((y=0|y+1)>>>0>=x>>>0)break;i=A}}if(d=0|l[s>>2]){for(p=0|(0|l[e+100>>2])-1,m=0|(0|l[e+104>>2])-1,f=0,i=0|l[U>>2],t=0;U=0|l[i>>2],V=0|l[i+4>>2],U=0|B(0|((0|m+V)>>>0)/(V>>>0),0|((0|p+U)>>>0)/(U>>>0)),f=0|(0|B(U,0|l[i+24>>2]))+f,!((t=0|t+1)>>>0>=d>>>0);){i=0|i+52}E=~~(.1625*+(f>>>0))>>>0}else E=0;if(x=0|(v=0|l[16+(0|l[c>>2])>>2])-1,i=0|l[j>>2],A=0==(0|(I=0|B(0|l[h>>2],0|l[u>>2]))))d=0;else{for(t=0,f=0,d=i;t=t>>>0>(j=0|l[d+5588>>2])>>>0?t:j,(0|(f=0|f+1))!=(0|I);){d=0|d+5640}d=0|12*t}if(4<=(65535&(0|a[(w=0|e+88)>>1])-3)){if(0==(0|v)|A)f=6,t=6;else{p=0,t=0;do{b=0|l[i+(0|5640*p)+5584>>2],m=0;do{t=t>>>0>(f=1&l[b+(0|1080*m)>>2]?0|5+(0|l[b+(0|1080*m)+4>>2]):5)>>>0?t:f,m=0|m+1}while((0|m)!=(0|v));p=0|p+1}while((0|p)!=(0|I));t=0|t+6,m=0,f=0;do{y=0|l[i+(0|5640*m)+5584>>2],b=0;do{f=f>>>0>(p=1&l[y+(0|1080*b)>>2]?0|5+(0|l[y+(0|1080*b)+4>>2]):5)>>>0?f:p,b=0|b+1}while((0|b)!=(0|v));m=0|m+1}while((0|m)!=(0|I));f=0|f+6}d=0|(0|B(0|f+t,x))+d}if(A)i=13;else{for(f=0,t=0;f=f>>>0>(j=0|l[i+420>>2])>>>0?f:j,(0|(t=0|t+1))!=(0|I);){i=0|i+5640}i=0|13+(0|9*f)}return j=0|d+E+i,l[e+40>>2]=j,j=0|He(j),l[e+36>>2]=j,j?4<=(65535&(0|a[w>>1])-3)?0|(e=1):(i=0|He(0|5*(0|l[e+32>>2])),l[e+24>>2]=i,i?(l[e+28>>2]=i,0|(e=1)):0|(e=0)):0|(e=0)},function(e,t,i){e|=0,t|=0,i|=0;var n,r,o,a,s,c,h,u,f,d,p,_,m,b,y,g,v,w,x=0,I=0,S=0,E=0,C=0,B=0,M=0,P=0,T=0,D=0,R=0,G=0;if(w=A,A=0|A+192,g=0|w+152,y=0|w+144,b=0|w+136,m=0|w+128,_=0|w+120,d=0|w+88,f=0|w+80,u=0|w+64,h=0|w+48,D=0|w+40,v=0|w+32,G=0|w+24,p=0|w+16,c=0|w+8,n=0|w+176,r=0|w+168,o=0|w+156,!(x=0|Ne(1,1024)))return _e(i,1,17104,w),A=w,0|(G=0);a=0|n+4,s=0|o+4,R=0|e+100,P=x,M=1024;e:for(;8==(0|le(t,n,8,i));){t:for(;;){switch(ne(n,o,4),ne(a,s,4),0|l[o>>2]){case 0:if(x=0|ue(t),0<(0|(T=k))|0==(0|T)&4294967287<x>>>0){T=6;break e}l[o>>2]=x+8,E=8;break;case 1:if(8!=(0|le(t,n,8,i))){T=12;break e}if(ne(n,r,4),0|l[r>>2]){T=10;break e}ne(a,o,4),E=16;break;default:E=8;}if(1785737827==(0|(S=0|l[s>>2]))){T=14;break e}if(!(C=0|l[o>>2])){T=18;break e}if(C>>>0<E>>>0){T=20;break e}i:do{if(1718909296>(0|S)){if(1668112752>(0|S)){if(1667523942>(0|S)){switch(0|S){case 1651532643:break;default:T=43;break i;}I=1124,T=30;break}switch(0|S){case 1667523942:break;default:T=43;break i;}I=1148,T=30;break}if(1668246642>(0|S)){switch(0|S){case 1668112752:break;default:T=43;break i;}I=1140,T=30;break}switch(0|S){case 1668246642:break;default:T=43;break i;}I=1116,T=30;break}if(1783636e3>(0|S))if(1768449138>(0|S))switch(0|S){case 1718909296:T=27;break t;default:T=43;break i;}else switch(0|S){case 1768449138:I=1108,T=30;break i;default:T=43;break i;}if(1785737832>(0|S))switch(0|S){case 1783636e3:x=1084,T=29;break t;default:T=43;break i;}if(1885564018>(0|S))switch(0|S){case 1785737832:T=28;break t;default:T=43;break i;}switch(0|S){case 1885564018:break;default:T=43;break i;}I=1132,T=30}while(0);if(30==(0|T)){if(T=0,x=0|C-E,l[h>>2]=S>>>24,l[h+4>>2]=255&S>>>16,l[h+8>>2]=255&S>>>8,l[h+12>>2]=255&S,_e(i,2,17288,h),0|4&l[R>>2]){B=I,S=x;break}if(B=0|l[s>>2],l[u>>2]=B>>>24,l[u+4>>2]=255&B>>>16,l[u+8>>2]=255&B>>>8,l[u+12>>2]=255&B,_e(i,2,17339,u),l[R>>2]=2147483647|l[R>>2],!((0|(B=0|fe(t,x,0,i)))==(0|x)&0==(0|k))){T=32;break e}}else if(43==(0|T)){if(T=0,x=0|C-E,!(1&(I=0|l[R>>2]))){T=44;break e}if(!(2&I)){T=46;break e}if(l[R>>2]=2147483647|I,!((0|(B=0|fe(t,x,0,i)))==(0|x)&0==(0|k))){T=49;break e}}if(8!=(0|le(t,n,8,i)))break e}if(27==(0|T)?(x=1092,T=29):28==(0|T)&&(x=1100,T=29),29==(0|T)&&(T=0,B=x,S=0|C-E),C=0|ue(t),0>(0|(E=k))|0==(0|E)&C>>>0<S>>>0){T=34;break}if(S>>>0>M>>>0){if(!(x=0|Ue(P,S))){T=37;break}I=S}else x=P,I=M;if((0|le(t,x,S,i))!=(0|S)){T=39;break}if(!(0|qr[63&l[B+4>>2]](e,x,S,i))){T=42;break}P=x,M=I}switch(0|T){case 6:_e(i,1,17154,c);break;case 10:_e(i,1,17154,p);break;case 12:break;case 14:return 4&(x=0|l[R>>2])?(l[R>>2]=8|x,je(P),A=w,0|(G=1)):(_e(i,1,17196,G),je(P),A=w,0|(G=0));case 18:return _e(i,1,17224,v),je(P),A=w,0|(G=0);case 20:return l[D>>2]=C,l[D+4>>2]=S,_e(i,1,17262,D),je(P),A=w,0|(G=0);case 32:return _e(i,1,17405,f),je(P),A=w,0|(G=0);case 34:return D=0|l[o>>2],R=0|l[s>>2],G=0|ue(t),l[d>>2]=D,l[d+4>>2]=R>>>24,l[d+8>>2]=255&R>>>16,l[d+12>>2]=255&R>>>8,l[d+16>>2]=255&R,l[d+20>>2]=S,l[d+24>>2]=G,_e(i,1,17455,d),je(P),A=w,0|(G=0);case 37:return je(P),_e(i,1,17531,_),A=w,0|(G=0);case 39:return _e(i,1,17573,m),je(x),A=w,0|(G=0);case 42:return je(x),A=w,0|(G=0);case 44:return _e(i,1,17622,b),je(P),A=w,0|(G=0);case 46:return _e(i,1,17692,y),je(P),A=w,0|(G=0);case 49:return _e(i,1,17405,g),je(P),A=w,0|(G=0);}return je(P),A=w,0|(G=1)},function(e,t,i){e|=0,i|=0;var n,r,o,a,s=0;return a=A,A=0|A+32,ie(n=0|a+24,s=0|vr(0|(r=0|he(t|=0)),0|(o=k),0|l[(s=e=0|e+80)>>2],0|l[s+4>>2]),4),ie(0|n+4,1785737827,4),0|de(t,0|l[e>>2],0|l[e+4>>2],i)?8!=(0|ce(t,n,8,i))?(_e(i,1,19383,0|a+8),A=a,0|(s=0)):0|de(t,r,o,i)?(A=a,0|(s=1)):(_e(i,1,19383,0|a+16),A=a,0|(s=0)):(_e(i,1,19383,a),A=a,0|(s=0))},function(e,t,i){t|=0,i|=0;var n,r=0,o=0;if(i=1&((0|l[(e|=0)>>2]?0==(0|(l[e+104>>2]|l[e+100>>2])):0)&0!=(0|l[e+8>>2])&0!=(0|l[e+4>>2])&0!=(0|l[e+64>>2])&0!=(0|l[e+16>>2])&0!=(0|l[e+12>>2])),!(n=0|l[e+20>>2]))return o=i,e=2>(e=0|(e=0|l[(e=0|e+40)>>2])-1)>>>0,e&=1,t=0|pe(t),t&=o,0|(t&=e);o=0|l[e+72>>2],r=0;do{i&=38>(126&l[o+(0|12*r)+8>>2])>>>0,r=0|r+1}while(r>>>0<n>>>0);return e=2>(e=0|(e=0|l[(e=0|e+40)>>2])-1)>>>0,e&=1,t=0|pe(t),t&=i,0|(t&=e)},function(e,t,i){var n;return e|=0,t|=0,i|=0,e=A,A=0|A+16,ie(n=e,12,4),ie(0|n+4,1783636e3,4),ie(0|n+8,218793738,4),i=1&12==(0|ce(t,n,12,i)),A=e,0|i},function(e,t,i){t|=0,i|=0;var n,r,o,a,s,c=0,h=0;if(s=A,A=0|A+16,h=0|s+8,!(a=0|Ne(1,o=0|16+(l[(r=0|64+(e|=0))>>2]<<2))))return _e(i,1,19500,s),A=s,0|(h=0);if(ie(a,o,4),ie(0|a+4,1718909296,4),ie(0|a+8,0|l[e+56>>2],4),ie(0|a+12,0|l[e+60>>2],4),n=0|a+16,0|l[r>>2]){c=0|e+68,e=0;do{ie(n,0|l[(0|l[c>>2])+(e<<2)>>2],4),e=0|e+1}while(e>>>0<(0|l[r>>2])>>>0)}return(e=(0|ce(t,a,o,i))==(0|o))||_e(i,1,19539,h),je(a),A=s,0|(h=1&e)},function(e,t,i){e|=0,t|=0,i|=0;var n,r,o,a,s,c=0,h=0,u=0,f=0,d=0,p=0,_=0,m=0;s=A,A=0|A+80,a=0|s+16,o=0|s+8,r=s,n=0|s+72,u=0|48+(c=h=0|s+24);do{l[c>>2]=0,c=0|c+4}while((0|c)<(0|u));for(255==(0|l[e+24>>2])?(l[h>>2]=1,c=3,u=2,f=1,d=4):(c=2,u=1,f=0,d=1),l[h+(0|12*f)>>2]=d,l[h+(0|12*u)>>2]=2,0|l[e+116>>2]?(l[h+(0|12*c)>>2]=3,_=0|c+1):_=c,ie(0|n+4,1785737832,4),c=8,u=0,f=h;;){if(d=0|f+8,m=0|Qr[7&l[f>>2]](e,d),l[f+4>>2]=m,!m){p=7;break}if(c=0|(0|l[d>>2])+c,(0|(u=0|u+1))>=(0|_))break;f=0|f+12}if(7==(0|p)){for(_e(i,1,19414,r),u=0,c=h;;){if(0|(h=0|l[c+4>>2])&&je(h),(0|(u=0|u+1))>=(0|_)){c=0;break}c=0|c+12}return A=s,0|c}ie(n,c,4);e:do{if(8==(0|ce(t,n,8,i))){for(c=0,u=h;m=0|u+8,(0|(p=0|ce(t,0|l[u+4>>2],0|l[m>>2],i)))==(0|l[m>>2]);){if((0|(c=0|c+1))>=(0|_)){c=1;break e}u=0|u+12}_e(i,1,19457,a),c=0}else _e(i,1,19457,o),c=0}while(0);for(u=0;0|(f=0|l[h+4>>2])&&je(f),!((0|(u=0|u+1))>=(0|_));){h=0|h+12}return A=s,0|c},function(e,t,i){var n;return e|=0,i|=0,n=0|he(t|=0),l[(e=0|e+88)>>2]=n,l[e+4>>2]=k,0|1&(24==(0|(i=0|fe(t,24,0,i)))&0==(0|k))},function(e,t,i){var n;return e|=0,i|=0,n=0|he(t|=0),l[(e=0|e+80)>>2]=n,l[e+4>>2]=k,0|1&(8==(0|(i=0|fe(t,8,0,i)))&0==(0|k))},An,function(e,t,i){e|=0,t|=0,i|=0;var n,o,a,s=0,c=0,h=0,u=0;return o=A,A=0|A+32,s=o,l[(u=0|o+16)>>2]=t,c=0|u+4,a=0|l[(n=0|e+48)>>2],l[c>>2]=i-(1&0!=(0|a)),h=0|e+44,l[u+8>>2]=l[h>>2],l[u+12>>2]=a,l[s>>2]=l[e+60>>2],l[s+4>>2]=u,l[s+8>>2]=2,1<=(0|(s=0|wn(0|L(145,0|s))))?s>>>0>(u=0|l[c>>2])>>>0&&(c=0|l[h>>2],l[(h=0|e+4)>>2]=c,l[e+8>>2]=c+(s-u),0|l[n>>2]?(l[h>>2]=c+1,r[t+(i+-1)>>0]=0|r[c>>0],s=i):s=i):l[e>>2]=l[e>>2]|16^48&s,A=o,0|s},Fr],qr=[Lr,function(e,t,i,n){e|=0,t|=0,i|=0,n|=0;var o,a,s,c,u,f,d,p,_,m,b,y=0,g=0,v=0,w=0,x=0,k=0,I=0,S=0,E=0;if(b=A,A=0|A+112,S=0|b+88,m=0|b+80,k=0|b+72,_=0|b+64,x=0|b+56,f=0|b+48,s=0|b+40,o=0|b+32,v=0|b+24,y=0|b+16,d=0|b+100,I=0|b+92,l[(p=0|b+96)>>2]=0,E=0|e+200,8!=(0|i))return _e(n,1,11669,b),_e(n,1,11669,0|b+8),A=b,0|(E=0);if(ne(t,E,2),ne(0|t+2,d,4),ne(0|t+6,I,1),ne(0|t+7,p,1),a=0|l[E>>2],t=0|l[e+112>>2],a>>>0>=(0|B(0|l[e+116>>2],t))>>>0)return l[y>>2]=a,_e(n,1,11695,y),A=b,0|(E=0);i=0|l[e+164>>2],u=0|(a>>>0)%(t>>>0),c=0|(a>>>0)/(t>>>0),t=0|l[d>>2];do{if(13>(0|t+-1)>>>0){if(12==(0|t)){l[v>>2]=12,_e(n,2,11719,v),t=0|l[d>>2];break}return l[o>>2]=t,_e(n,1,11756,o),A=b,0|(E=0)}}while(0);t||(_e(n,4,11817,s),l[e+72>>2]=1),t=0|l[p>>2];do{if(t){if(g=0|t+(1&(0|h[e+76>>0])>>>4),l[p>>2]=g,(0|(y=0|l[(i=0|i+(0|5640*a)+5588)>>2])-1)>>>0<(t=0|l[I>>2])>>>0)return l[f>>2]=t,l[f+4>>2]=y,_e(n,1,11928,f),l[e+72>>2]=1,A=b,0|(E=0);if(t>>>0<g>>>0){l[i>>2]=g,w=18;break}return l[x>>2]=t,l[x+4>>2]=g,_e(n,1,12027,x),l[e+72>>2]=1,A=b,0|(E=0)}0|(t=0|l[i+(0|5640*a)+5588>>2])&&(g=t,w=18)}while(0);if(18==(0|w)&&(0|g)==(0|1+(0|l[I>>2]))&&(r[(x=0|e+76)>>0]=1|r[x>>0]),l[e+24>>2]=0==(0|l[e+72>>2])?0|(0|l[d>>2])-12:0,l[e+8>>2]=16,t=-1==(0|(t=0|l[e+60>>2]))?u>>>0>=(0|l[e+28>>2])>>>0&&u>>>0<(0|l[e+36>>2])>>>0&&c>>>0>=(0|l[e+32>>2])>>>0?255&(1&c>>>0>=(0|l[e+40>>2])>>>0)<<2:4:255&(1&(0|l[E>>2])!=(0|t))<<2,r[(v=0|e+76)>>0]=-5&r[v>>0]|t,!(t=0|l[(v=0|e+196)>>2]))return A=b,0|(E=1);if(g=0|l[E>>2],t=0|l[t+40>>2],l[t+(0|40*g)>>2]=g,y=0|l[I>>2],l[t+(0|40*g)+12>>2]=y,0|(i=0|l[p>>2]))return l[t+(0|40*g)+4>>2]=i,l[t+(0|40*g)+8>>2]=i,(t=0|l[t+(0|40*g)+16>>2])?(t=0|Ue(t,0|24*i),i=0|(0|l[40+(0|l[v>>2])>>2])+(0|40*(0|l[E>>2]))+16,t?(l[i>>2]=t,A=b,0|(E=1)):(je(0|l[i>>2]),l[(0|l[40+(0|l[v>>2])>>2])+(0|40*(0|l[E>>2]))+16>>2]=0,_e(n,1,12135,k),A=b,0|(E=0))):(S=0|Ne(i,24),l[(0|l[40+(0|l[v>>2])>>2])+(0|40*(0|l[E>>2]))+16>>2]=S,0|S?(A=b,0|(E=1)):(_e(n,1,12135,_),A=b,0|(E=0)));do{if(!(0|l[t+(0|40*g)+16>>2])){if(l[t+(0|40*g)+8>>2]=10,k=0|Ne(10,24),t=0|l[40+(0|l[v>>2])>>2],i=0|l[E>>2],l[t+(0|40*i)+16>>2]=k,0|k){g=i,y=0|l[I>>2];break}return l[t+(0|40*i)+8>>2]=0,_e(n,1,12135,m),A=b,0|(E=0)}}while(0);return y>>>0<(0|l[(i=0|t+(0|40*g)+8)>>2])>>>0?(A=b,0|(E=1)):(I=0|y+1,l[i>>2]=I,t=0|Ue(0|l[t+(0|40*g)+16>>2],0|24*I),i=0|(0|l[40+(0|l[v>>2])>>2])+(0|40*(0|l[E>>2]))+16,t?(l[i>>2]=t,A=b,0|(E=1)):(je(0|l[i>>2]),I=0|l[40+(0|l[v>>2])>>2],E=0|l[E>>2],l[I+(0|40*E)+16>>2]=0,l[I+(0|40*E)+8>>2]=0,_e(n,1,12135,S),A=b,0|(E=0)))},function(e,t,i,n){e|=0,t|=0,i|=0,n|=0;var o,a=0,s=0,c=0,h=0,u=0,f=0,d=0,p=0,_=0,m=0,b=0;if(o=A,A=0|A+64,_=0|o+48,m=0|o+40,h=0|o+32,c=0|o+56,l[(d=0|o+52)>>2]=i,u=0|l[(b=0|e+80)>>2],f=16==(0|l[(p=0|e+8)>>2])?0|(0|l[e+164>>2])+(0|5640*(0|l[e+200>>2])):0|l[e+12>>2],1&(s=0|r[(a=0|f+5636)>>0]))return _e(n,1,11436,o),A=o,0|(b=0);if(r[a>>0]=1|s,5>i>>>0)return _e(n,1,11500,0|o+8),A=o,0|(b=0);if(ne(t,f,1),7<(0|l[f>>2])>>>0)return _e(n,1,11526,0|o+16),A=o,0|(b=0);if(ne(0|t+1,c,1),c=0|l[c>>2],l[(a=0|f+4)>>2]=c,4<(0|c)&&(_e(n,1,11560,0|o+24),l[a>>2]=-1),ne(0|t+2,a=0|f+8,2),65534<(0|(a=0|l[a>>2])-1)>>>0)return l[h>>2]=a,_e(n,1,11601,h),A=o,0|(b=0);if(h=0|l[e+172>>2],l[f+12>>2]=0==(0|h)?a:h,ne(0|t+4,0|f+16,1),h=0|t+5,l[d>>2]=i+-5,0|(c=0|l[u+16>>2])){t=1&l[f>>2],s=0|l[f+5584>>2],a=0;do{l[s+(0|1080*a)>>2]=t,a=0|a+1}while(a>>>0<c>>>0)}if(!(0|it(e,0,h,d,n)))return _e(n,1,11500,m),A=o,0|(b=0);if(0|l[d>>2])return _e(n,1,11500,_),A=o,0|(b=0);if(a=16==(0|l[p>>2])?0|(0|l[e+164>>2])+(0|5640*(0|l[e+200>>2])):0|l[e+12>>2],a=0|l[a+5584>>2],f=(s=0|l[(u=0|a+4)>>2])<<2,1>=(0|l[16+(0|l[b>>2])>>2])>>>0)return A=o,0|(b=1);if(e=0|a+8,n=0|a+12,d=0|a+16,p=0|a+20,_=0|a+812,m=0|a+944,l[a+1084>>2]=s,c=0|l[e>>2],l[a+1088>>2]=c,t=0|l[n>>2],l[a+1092>>2]=t,h=0|l[d>>2],l[a+1096>>2]=h,i=0|l[p>>2],l[a+1100>>2]=i,Br(0|a+1892,0|_,0|f),Br(0|a+2024,0|m,0|f),2>=(0|l[16+(0|l[b>>2])>>2])>>>0)return A=o,0|(b=1);if(l[a+2164>>2]=s,l[a+2168>>2]=c,l[a+2172>>2]=t,l[a+2176>>2]=h,l[a+2180>>2]=i,Br(0|a+2972,0|_,0|f),Br(0|a+3104,0|m,0|f),!(3<(0|l[16+(0|l[b>>2])>>2])>>>0))return A=o,0|(b=1);for(s=3;;){if(c=0|l[e>>2],t=0|l[n>>2],h=0|l[d>>2],i=0|l[p>>2],l[a+3244>>2]=l[u>>2],l[a+3248>>2]=c,l[a+3252>>2]=t,l[a+3256>>2]=h,l[a+3260>>2]=i,Br(0|a+4052,0|_,0|f),Br(0|a+4184,0|m,0|f),(s=0|s+1)>>>0>=(0|l[16+(0|l[b>>2])>>2])>>>0){a=1;break}a=0|a+1080}return A=o,0|a},function(e,t,i,n){e|=0,t|=0,i|=0,n|=0;var r,o,a,s,c=0,h=0;return s=A,A=0|A+48,h=0|s+32,l[(a=0|s+28)>>2]=i,c=16==(0|l[e+8>>2])?0|(0|l[e+164>>2])+(0|5640*(0|l[e+200>>2])):0|l[e+12>>2],o=0|16+(0|l[e+80>>2]),(r=257>(0|l[o>>2])>>>0?1:2)>>>0>=i>>>0?(_e(n,1,10929,s),A=s,0|(h=0)):(l[a>>2]=i+-1-r,ne(t,h,r),t=0|t+r,(i=0|l[h>>2])>>>0>=(0|l[o>>2])>>>0?(_e(n,1,10955,0|s+8),A=s,0|(h=0)):(ne(t,0|(0|l[c+5584>>2])+(0|1080*i),1),0|it(e,0|l[h>>2],0|t+1,a,n)?0|l[a>>2]?(_e(n,1,10929,0|s+24),A=s,0|(h=0)):(A=s,0|(h=1)):(_e(n,1,10929,0|s+16),A=s,0|(h=0))))},function(e,t,i,n){t|=0,i|=0,n|=0;var r,o,a,s,c=0,h=0;return s=A,A=0|A+32,h=0|s+8,o=0|s+20,(0|2+(r=257>(a=0|l[16+(0|l[80+(e|=0)>>2])>>2])>>>0?1:2))!=(0|i)?(_e(n,1,10846,s),A=s,0|(h=0)):(c=16==(0|l[e+8>>2])?0|(0|l[e+164>>2])+(0|5640*(0|l[e+200>>2])):0|l[e+12>>2],ne(t,o,r),ne(i=0|t+r,0|s+16,1),(e=0|l[o>>2])>>>0<a>>>0?(ne(0|i+1,0|(0|l[c+5584>>2])+(0|1080*e)+808,1),A=s,0|(h=1)):(l[h>>2]=e,l[h+4>>2]=a,_e(n,1,10872,h),A=s,0|(h=0)))},function(e,t,i,n){e|=0,t|=0,i|=0,n|=0;var r,o=0,a=0;if(r=A,A=0|A+16,l[(o=0|r+12)>>2]=i,!(0|tt(e,0,t,o,n)))return _e(n,1,10820,r),A=r,0|(a=0);if(0|l[o>>2])return _e(n,1,10820,0|r+8),A=r,0|(a=0);if(t=16==(0|l[e+8>>2])?0|(0|l[e+164>>2])+(0|5640*(0|l[e+200>>2])):0|l[e+12>>2],t=0|l[t+5584>>2],1>=(0|l[16+(0|l[(n=0|e+80)>>2])>>2])>>>0)return A=r,0|(a=1);for(o=0|t+24,e=0|t+804,a=0|t+28,i=1;;){if(l[t+1104>>2]=l[o>>2],l[t+1884>>2]=l[e>>2],Br(0|t+1108,0|a,776),(i=0|i+1)>>>0>=(0|l[16+(0|l[n>>2])>>2])>>>0){t=1;break}t=0|t+1080}return A=r,0|t},function(e,t,i,n){e|=0,t|=0,i|=0,n|=0;var r,o,a,s,c,h,u=0,f=0,d=0,p=0;h=A,A=0|A+48,p=0|h+32,c=0|h+24,s=0|h+16,f=0|h+8,u=h,r=0|h+40,l[(a=0|h+36)>>2]=i,o=0|e+80;do{if(257>(0|l[16+(0|l[o>>2])>>2])>>>0){if(0|i){ne(t,r,1),u=-1,d=1;break}return _e(n,1,10473,u),A=h,0|(p=0)}if(2<=i>>>0){ne(t,r,2),u=-2,d=2;break}return _e(n,1,10473,f),A=h,0|(p=0)}while(0);return l[a>>2]=u+i,(f=0|l[r>>2])>>>0>=(u=0|l[16+(0|l[o>>2])>>2])>>>0?(l[s>>2]=f,l[s+4>>2]=u,_e(n,1,10499,s),A=h,0|(p=0)):0|tt(e,f,0|t+d,a,n)?0|l[a>>2]?(_e(n,1,10473,p),A=h,0|(p=0)):(A=h,0|(p=1)):(_e(n,1,10473,c),A=h,0|(p=0))},function(e,t,i,n){t|=0,n|=0;var o,a,s,c,h=0,u=0,f=0,d=0,p=0,_=0;if(c=A,A=0|A+16,f=0|c+8,s=0|c+12,0!=(0|((i|=0)>>>0)%((h=0|5+((a=257>(_=0|l[16+(0|l[80+(e|=0)>>2])>>2])>>>0?1:2)<<1))>>>0))|h>>>0>i>>>0)return _e(n,1,10429,c),A=c,0|(_=0);if(p=16==(0|l[e+8>>2])?0|(0|l[e+164>>2])+(0|5640*(0|l[e+200>>2])):0|l[e+12>>2],31<(o=0|(d=4&(u=0|r[(e=0|p+5636)>>0])?0|1+(0|l[p+420>>2]):0)+(0|(i>>>0)/(h>>>0)))>>>0)return l[f>>2]=o,_e(n,1,10455,f),A=c,0|(_=0);if(r[e>>0]=4|u,d>>>0<o>>>0)for(u=0|p+8,e=t,i=d,h=0|p+424+(0|148*d);ne(e,h,1),ne(e=0|e+1,0|h+4,a),ne(e=0|e+a,d=0|h+8,2),f=0|l[d>>2],t=0|l[u>>2],l[d>>2]=f>>>0<t>>>0?f:t,ne(e=0|e+2,0|h+12,1),ne(e=0|e+1,d=0|h+16,a),ne(e=0|e+a,s,1),l[h+36>>2]=l[s>>2],t=0|l[d>>2],l[d>>2]=t>>>0<_>>>0?t:_,!((i=0|i+1)>>>0>=o>>>0);){e=0|e+1,h=0|h+148}return l[p+420>>2]=o+-1,A=c,0|(_=1)},function(e,t,i,n){t|=0,i|=0,n|=0;var o,s,c,h,u,f,d,p,_,m,b,y,g,v,w=0,x=0,I=0,S=0,E=0,C=0,M=0,P=0,T=0,D=0,R=0,G=0,O=0,F=0,L=0,Z=0,H=0;if(v=A,A=0|A+160,H=0|v+144,O=0|v+136,g=0|v+128,y=0|v+120,G=0|v+112,R=0|v+104,p=0|v+96,d=0|v+80,s=0|v+72,o=0|v+64,P=0|v+56,D=0|v+48,T=0|v+32,S=0|v+24,I=0|v+16,w=0|v+152,u=0|v+148,L=0|l[80+(e|=0)>>2],Z=0|e+88,36>i>>>0)return _e(n,1,9677,v),A=v,0|(n=0);if(M=0|((F=0|i+-36)>>>0)/3,0|(F>>>0)%3)return _e(n,1,9677,0|v+8),A=v,0|(n=0);if(ne(t,w,2),a[Z>>1]=l[w>>2],ne(0|t+2,f=0|L+8,4),ne(0|t+6,b=0|L+12,4),ne(0|t+10,L,4),ne(0|t+14,C=0|L+4,4),ne(0|t+18,h=0|e+100,4),ne(0|t+22,m=0|e+104,4),ne(0|t+26,c=0|e+92,4),ne(0|t+30,_=0|e+96,4),ne(0|t+34,w,2),x=0|t+36,16385<=(i=0|l[w>>2])>>>0)return l[I>>2]=i,_e(n,1,9705,I),A=v,0|(n=0);if(i&=65535,l[(F=0|L+16)>>2]=i,(0|i)!=(0|M))return l[S>>2]=i,l[S+4>>2]=M,_e(n,1,9766,S),A=v,0|(n=0);if((S=0|l[L>>2])>>>0<(E=0|l[f>>2])>>>0){if((I=0|l[C>>2])>>>0<(t=0|l[b>>2])>>>0){if(w=0|l[h>>2],i=0|l[m>>2],w){if(i){if((0|4294967295/(E>>>0))>>>0<t>>>0)return l[P>>2]=E,l[P+4>>2]=t,_e(n,1,10007,P),A=v,0|(n=0);if(T=0|gr(0|(E=0|l[c>>2]),0,0|w,0),P=k,D=0|gr(0|(C=0|l[_>>2]),0,0|i,0),E>>>0<=S>>>0&&C>>>0<=I>>>0&(0-P|T)>>>0>S>>>0&(0-k|D)>>>0>I>>>0){if(i=0|Ne(M,52),l[(M=0|L+24)>>2]=i,!i)return l[F>>2]=0,_e(n,1,10093,s),A=v,0|(n=0);e:do{if(0|l[F>>2]){for(E=0|e+168,S=i,I=0;;){if(ne(x,u,1),t=0|l[u>>2],l[(i=0|S+24)>>2]=1+(127&t),l[S+32>>2]=t>>>7,ne(0|x+1,u,1),l[S>>2]=l[u>>2],ne(0|x+2,u,1),t=0|l[u>>2],l[S+4>>2]=t,254<(0|t+-1)>>>0|254<(0|(w=0|l[S>>2])-1)>>>0){i=26;break}if(38<(t=0|l[i>>2])>>>0){i=28;break}if(l[S+36>>2]=0,l[S+40>>2]=l[E>>2],!((i=0|I+1)>>>0<(0|l[F>>2])>>>0))break e;S=0|S+52,x=0|x+3,I=i}return 26==(0|i)?(l[d>>2]=I,l[d+4>>2]=w,l[d+8>>2]=t,_e(n,1,10141,d)):28==(0|i)&&(l[p>>2]=I,l[p+4>>2]=t,_e(n,1,10246,p)),A=v,0|(n=0)}}while(0);if(E=0|l[c>>2],S=0|l[h>>2],x=0|(0|(0|l[f>>2])-1-E+S)/(0|S),l[e+112>>2]=x,I=0|l[_>>2],w=0|l[m>>2],i=0|(0|(0|l[b>>2])-1-I+w)/(0|w),l[e+116>>2]=i,!(0==(0|i)|0==(0|x))&&x>>>0<=(0|65535/(i>>>0))>>>0){if(C=0|B(x,i),t=0|e+28,2&r[e+76>>0]?(l[t>>2]=0|((0|(0|l[t>>2])-E)>>>0)/(S>>>0),l[(i=0|e+32)>>2]=0|((0|(0|l[i>>2])-I)>>>0)/(w>>>0),l[(i=0|e+36)>>2]=0|(0|(0|l[i>>2])-1-E+S)/(0|S),t=i=0|e+40,i=0|(0|(0|l[i>>2])-1-I+w)/(0|w)):(l[t>>2]=0,l[e+32>>2]=0,l[e+36>>2]=x,t=0|e+40),l[t>>2]=i,R=0|Ne(C,5640),l[(I=0|e+164)>>2]=R,!R)return _e(n,1,10093,G),A=v,0|(n=0);if(G=0|Ne(0|l[F>>2],1080),l[5584+(0|l[(x=0|e+12)>>2])>>2]=G,!(0|l[5584+(0|l[x>>2])>>2]))return _e(n,1,10093,y),A=v,0|(n=0);if(i=0|Ne(10,20),l[5612+(0|l[x>>2])>>2]=i,i=0|l[x>>2],!(0|l[i+5612>>2]))return _e(n,1,10093,g),A=v,0|(n=0);if(l[i+5620>>2]=10,i=0|Ne(10,20),l[5624+(0|l[x>>2])>>2]=i,i=0|l[x>>2],!(0|l[i+5624>>2]))return _e(n,1,10093,O),A=v,0|(n=0);if(l[i+5632>>2]=10,0|(w=0|l[F>>2])){t=0|l[M>>2],i=0;do{0|l[t+(0|52*i)+32>>2]||(l[(0|l[5584+(0|l[x>>2])>>2])+(0|1080*i)+1076>>2]=1<<(0|l[t+(0|52*i)+24>>2])-1),i=0|i+1}while(i>>>0<w>>>0)}e:do{if(0|C){if(i=0|l[I>>2],O=0|Ne(w,1080),l[i+5584>>2]=O,0|O)for(t=0;;){if((t=0|t+1)>>>0>=C>>>0)break e;if(O=0|Ne(0|l[F>>2],1080),l[i+11224>>2]=O,!O)break;i=0|i+5640}return _e(n,1,10093,H),A=v,0|(n=0)}}while(0);return l[e+8>>2]=4,function(e,t){e|=0;var i,n=0,r=0,o=0,a=0,s=0,c=0,h=0,u=0,f=0,d=0,p=0;if(n=0|l[4+(t|=0)>>2],r=0|l[e>>2],a=0|l[t+8>>2],s=0|l[e+4>>2],o=0|l[t+12>>2],u=0|(0|B(0|(0|l[t+24>>2])-1,o))+n,c=0|l[t+16>>2],h=0|(0|B(0|(0|l[t+28>>2])-1,c))+a,t=0|gr(0|u,0,0|o,0),t|=0-k,o=0|l[e+8>>2],c=0|gr(0|h,0,0|c,0),c|=0-k,h=0|l[e+12>>2],u=0|l[e+16>>2])for(i=0|(n>>>0>r>>>0?n:r)+-1,a=0|(a>>>0>s>>>0?a:s)+-1,o=0|(t>>>0<o>>>0?t:o)+-1,r=0|(c>>>0<h>>>0?c:h)+-1,n=0,t=0|l[e+24>>2];h=0|((0|i+(s=0|l[t>>2]))>>>0)/(s>>>0),e=0|((0|a+(p=0|l[t+4>>2]))>>>0)/(p>>>0),d=0|Er(1,0,0|(c=0|l[t+40>>2])),f=k,s=0|Sr(0|(s=0|gr(0|(s=0|gr(0|(0|((0|o+s)>>>0)/(s>>>0))-h,0,-1,-1)),0|k,0|d,0|f)),0|k,0|c),c=0|Sr(0|(f=0|gr(0|(p=0|gr(0|(0|((0|r+p)>>>0)/(p>>>0))-e,0,-1,-1)),0|k,0|d,0|f)),0|k,0|c),l[t+8>>2]=s,l[t+12>>2]=c,l[t+16>>2]=h,l[t+20>>2]=e,!((n=0|n+1)>>>0>=u>>>0);){t=0|t+52}}(L,Z),A=v,0|(n=1)}return l[R>>2]=x,l[R+4>>2]=i,_e(n,1,10346,R),A=v,0|(n=0)}return _e(n,1,10049,o),A=v,0|(n=0)}i=0}return l[D>>2]=w,l[D+4>>2]=i,_e(n,1,9946,D),A=v,0|(n=0)}i=I}else t=0|l[b>>2],i=0|l[C>>2];return e=0|vr(0|E,0,0|S,0),L=k,Z=0|vr(0|t,0,0|i,0),l[(H=T)>>2]=e,l[H+4>>2]=L,l[(H=0|T+8)>>2]=Z,l[H+4>>2]=k,_e(n,1,9880,T),A=v,0|(n=0)},function(e,t,i,n){var r;return e|=0,t|=0,n|=0,r=A,A=0|A+32,e=0|r+12,2>(i|=0)>>>0?(_e(n,1,9651,r),A=r,0|(n=0)):(ne(t,0|r+16,1),ne(0|t+1,e,1),0|((0|i+-2)>>>0)%((0|2+(2&(t=0|l[e>>2])>>>5)+(3&t>>>4))>>>0)?(_e(n,1,9651,0|r+8),A=r,0|(n=0)):(A=r,0|(n=1)))},function(e,t,i,n){return e|=0,t|=0,n|=0,t=A,A=0|A+16,(i|=0)?e=1:(_e(n,1,9625,t),e=0),A=t,0|e},function(e,t,i,n){e|=0,t|=0,n|=0;var r,o,a,s,c=0;if(s=A,A=0|A+32,a=0|s+8,o=0|s+12,!(i|=0))return _e(n,1,9599,s),A=s,0|(n=0);if(ne(t,0|s+16,1),!(r=0|i+-1))return A=s,0|(n=1);c=0,e=t,i=0;do{ne(e=0|e+1,o,1),c=0==(0|128&(t=0|l[o>>2]))?0:(127&t|c)<<7,i=0|i+1}while((0|i)!=(0|r));return c?(_e(n,1,9599,a),A=s,0|(n=0)):(A=s,0|(n=1))},function(e,t,i,n){e|=0,t|=0,n|=0;var o,a,s,c,h,u,f=0,d=0,p=0;if(u=A,A=0|A+48,p=0|u+32,s=0|u+24,o=0|u+16,f=0|u+8,h=0|u+36,2>(i|=0)>>>0)return _e(n,1,9551,u),A=u,0|(p=0);r[(d=0|e+184)>>0]=1|r[d>>0],ne(t,h,1),d=0|t+1,c=0|i+-1,i=0|l[(a=0|e+124)>>2];do{if(!i){if(i=0|Ne(t=0|1+(0|l[h>>2]),8),l[a>>2]=i,0|i){l[e+120>>2]=t;break}return _e(n,1,8618,f),A=u,0|(p=0)}if(f=0|e+120,t=0|l[h>>2],(0|l[f>>2])>>>0<=t>>>0){if(0|(t=0|Ue(i,(e=0|t+1)<<3))){l[a>>2]=t,Mr(0|t+((i=0|l[f>>2])<<3),0,0|e-i<<3),l[f>>2]=e,i=0|l[a>>2];break}return _e(n,1,8618,o),A=u,0|(p=0)}}while(0);return t=0|l[h>>2],0|l[i+(t<<3)>>2]?(l[s>>2]=t,_e(n,1,9577,s),A=u,0|(p=0)):(e=0|He(c),i=0|l[a>>2],t=0|l[h>>2],l[i+(t<<3)>>2]=e,e?(l[i+(t<<3)+4>>2]=c,Br(0|e,0|d,0|c),A=u,0|(p=1)):(_e(n,1,8618,p),A=u,0|(p=0)))},function(e,t,i,n){e|=0,t|=0,n|=0;var o,a,s,c,h,u,f,d,p=0,_=0,m=0;if(d=A,A=0|A+48,m=0|d+40,u=0|d+32,s=0|d+24,a=0|d+16,f=0|d+44,2>(i|=0)>>>0)return _e(n,1,9364,d),A=d,0|(m=0);if(1&r[e+184>>0])return _e(n,1,9390,0|d+8),A=d,0|(m=0);o=0|l[e+164>>2],p=0|l[e+200>>2],r[(_=0|o+(0|5640*p)+5636)>>0]=2|r[_>>0],ne(t,f,1),_=0|t+1,h=0|i+-1,t=0|l[(c=0|o+(0|5640*p)+5164)>>2];do{if(!t){if(t=0|Ne(e=0|1+(0|l[f>>2]),8),l[c>>2]=t,0|t){l[o+(0|5640*p)+5160>>2]=e;break}return _e(n,1,9491,a),A=d,0|(m=0)}if(p=0|o+(0|5640*p)+5160,e=0|l[f>>2],(0|l[p>>2])>>>0<=e>>>0){if(0|(e=0|Ue(t,(i=0|e+1)<<3))){l[c>>2]=e,Mr(0|e+((t=0|l[p>>2])<<3),0,0|i-t<<3),l[p>>2]=i,t=0|l[c>>2];break}return _e(n,1,9491,s),A=d,0|(m=0)}}while(0);return e=0|l[f>>2],0|l[t+(e<<3)>>2]?(l[u>>2]=e,_e(n,1,9529,u),A=d,0|(m=0)):(i=0|He(h),t=0|l[c>>2],e=0|l[f>>2],l[t+(e<<3)>>2]=i,i?(l[t+(e<<3)+4>>2]=h,Br(0|i,0|_,0|h),A=d,0|(m=1)):(_e(n,1,9491,m),A=d,0|(m=0)))},function(e,t,i,n){return t|=0,i|=0,n|=0,t=A,A=0|A+16,(0|l[16+(0|l[80+(e|=0)>>2])>>2]<<2)==(0|i)?(A=t,0|(n=1)):(_e(n,1,9338,t),A=t,0|(n=0))},function(e,t,i,n){return 1},function(e,t,i,n){t|=0,i|=0,n|=0;var r,o,a,s,c,h,u,f=0,d=0,p=0,_=0,m=0,b=0;if(u=A,A=0|A+48,b=0|u+40,h=0|u+32,o=0|u+24,c=0|u+44,_=16==(0|l[8+(e|=0)>>2])?0|(0|l[e+164>>2])+(0|5640*(0|l[e+200>>2])):0|l[e+12>>2],2>i>>>0)return _e(n,1,9170,u),A=u,0|(b=0);if(ne(t,c,2),0|l[c>>2])return _e(n,2,9196,0|u+8),A=u,0|(b=1);if(7>i>>>0)return _e(n,1,9170,0|u+16),A=u,0|(b=0);ne(0|t+2,c,2),s=0|t+4,m=255&l[c>>2],f=0|l[(r=0|_+5612)>>2],e=0|l[(a=0|_+5616)>>2];e:do{if(e){d=f,p=0;do{if((0|l[d+8>>2])==(0|m))break e;d=0|d+20,p=0|p+1}while(p>>>0<e>>>0)}else d=f,p=0}while(0);if((0|p)==(0|e)){d=0|_+5620;do{if((0|e)==(0|l[d>>2])){if(e=0|e+10,l[d>>2]=e,0|(e=0|Ue(f,0|20*e))){l[r>>2]=e,Mr(0|e+(0|20*(f=0|l[a>>2])),0,0|20*(0|(0|l[d>>2])-f)),f=0|l[r>>2],e=0|l[a>>2];break}return je(0|l[r>>2]),l[r>>2]=0,l[d>>2]=0,l[a>>2]=0,_e(n,1,9256,o),A=u,0|(b=0)}}while(0);l[a>>2]=e+1,d=0|f+(0|20*e)}return 0|(e=0|l[(p=0|d+12)>>2])&&(je(e),l[p>>2]=0),l[d+8>>2]=m,m=0|l[c>>2],l[d+4>>2]=3&m>>>8,l[d>>2]=3&m>>>10,ne(s,c,2),0|l[c>>2]?(_e(n,2,9294,h),A=u,0|(b=1)):(f=0|He(e=0|i+-6),l[p>>2]=f,f?(Br(0|f,0|t+6,0|e),l[d+16>>2]=e,A=u,0|(b=1)):(_e(n,1,9170,b),A=u,0|(b=0)))},function(e,t,i,n){t|=0,i|=0,n|=0;var r,o,a,s=0;if(a=A,A=0|A+32,r=0|a+16,s=0|a+12,(0|2+(o=0|l[16+(0|l[(e=0|80+(e|=0))>>2])>>2]))!=(0|i))return _e(n,1,9144,a),A=a,0|(s=0);if(ne(t,r,2),(0|l[r>>2])!=(0|o))return _e(n,1,9144,0|a+8),A=a,0|(s=0);if(!o)return A=a,0|(s=1);for(n=0,i=0|t+2,e=0|l[24+(0|l[e>>2])>>2];;){if(ne(i,s,1),t=0|l[s>>2],l[e+32>>2]=1&t>>>7,l[e+24>>2]=1+(127&t),(0|(n=0|n+1))==(0|o)){e=1;break}i=0|i+1,e=0|e+52}return A=a,0|e},function(e,t,i,n){t|=0,i|=0,n|=0;var o,a,s,c,h,u,f,d,p,_,m,b,y,g,v,w=0,x=0,k=0,I=0,S=0,E=0,C=0,M=0,P=0,T=0,D=0,R=0,G=0,O=0,F=0;if(v=A,A=0|A+144,F=0|v+120,g=0|v+112,y=0|v+104,b=0|v+96,m=0|v+88,_=0|v+80,p=0|v+72,d=0|v+64,f=0|v+56,u=0|v+48,P=0|v+40,M=0|v+32,E=0|v+24,o=0|v+136,a=0|v+132,s=0|v+128,c=0|v+124,T=16==(0|l[8+(e|=0)>>2])?0|(0|l[e+164>>2])+(0|5640*(0|l[e+200>>2])):0|l[e+12>>2],2>i>>>0)return _e(n,1,8804,v),A=v,0|(F=0);if(ne(t,o,2),0|l[o>>2])return _e(n,2,8830,0|v+8),A=v,0|(F=1);if(7>i>>>0)return _e(n,1,8804,0|v+16),A=v,0|(F=0);ne(0|t+2,a,1),C=0|t+3,w=0|l[(S=0|T+5624)>>2],e=0|l[(h=0|T+5628)>>2];e:do{if(e){I=0|l[a>>2],k=w,x=0;do{if((0|l[k>>2])==(0|I))break e;k=0|k+20,x=0|x+1}while(x>>>0<e>>>0)}else k=w,x=0}while(0);if((0|x)==(0|e)){x=0|T+5632;do{if((0|e)==(0|l[x>>2])){if(e=0|e+10,l[x>>2]=e,0|(e=0|Ue(w,0|20*e))){l[S>>2]=e,Mr(0|e+(0|20*(w=0|l[h>>2])),0,0|20*(0|(0|l[x>>2])-w)),w=0|l[S>>2],e=0|l[h>>2];break}return je(0|l[S>>2]),l[S>>2]=0,l[x>>2]=0,l[h>>2]=0,_e(n,1,8876,E),A=v,0|(F=0)}}while(0);O=1,x=0|w+(0|20*e)}else O=0,x=k;if(l[x>>2]=l[a>>2],ne(C,o,2),0|l[o>>2])return _e(n,2,8830,M),A=v,0|(F=1);if(ne(0|t+5,s,2),1<(w=0|l[s>>2])>>>0)return _e(n,2,8914,P),A=v,0|(F=1);e=0|i+-7;e:do{if(w){D=0|x+4,R=0|x+16,G=0|x+8,i=0|x+12,P=0|T+5612,M=0|T+5616,E=0|t+7,C=0;t:for(;;){if(3>e>>>0){w=27;break}if(ne(E,o,1),1!=(0|l[o>>2])){w=29;break}if(ne(0|E+1,c,2),w=0|e+-3,I=0|1+((k=0|l[c>>2])>>>15),k&=32767,l[D>>2]=k,w>>>0<(x=0|2+(0|B(I,k)))>>>0){w=31;break}if(e=0|E+3,S=0|w-x,k){w=0;do{if(ne(e,o,I),(0|l[o>>2])!=(0|w)){w=34;break t}e=0|e+I,w=0|w+1}while(w>>>0<(0|l[D>>2])>>>0)}if(ne(e,c,2),w=0|e+2,k=0|1+((x=0|l[c>>2])>>>15),x&=32767,l[c>>2]=x,(0|x)!=(0|l[D>>2])){w=37;break}if(S>>>0<(e=0|3+(0|B(k,x)))>>>0){w=39;break}if(e=0|S-e,x){x=0;do{if(ne(w,o,k),(0|l[o>>2])!=(0|x)){w=42;break t}w=0|w+k,x=0|x+1}while(x>>>0<(0|l[D>>2])>>>0)}if(ne(w,o,3),E=0|w+3,k=0|l[o>>2],r[R>>0]=1&(1^k>>>16)|-2&r[R>>0],l[G>>2]=0,l[i>>2]=0,I=255&k,l[a>>2]=I,0|I){if(!(S=0|l[M>>2])){w=50;break}for(w=0|l[P>>2],x=0;(0|l[w+8>>2])!=(0|I);){if((x=0|x+1)>>>0>=S>>>0){w=50;break t}w=0|w+20}l[G>>2]=w}if(k=255&k>>>8,l[a>>2]=k,0|k){if(!(I=0|l[M>>2])){w=57;break}for(w=0|l[P>>2],x=0;(0|l[w+8>>2])!=(0|k);){if((x=0|x+1)>>>0>=I>>>0){w=57;break t}w=0|w+20}l[i>>2]=w}if((C=0|C+1)>>>0>=(0|l[s>>2])>>>0)break e}if(27==(0|w))return _e(n,1,8804,u),A=v,0|(F=0);if(29==(0|w))return _e(n,2,8958,f),A=v,0|(F=1);if(31==(0|w))return _e(n,1,8804,d),A=v,0|(F=0);if(34==(0|w))return _e(n,2,9024,p),A=v,0|(F=1);if(37==(0|w))return _e(n,2,9078,_),A=v,0|(F=1);if(39==(0|w))return _e(n,1,8804,m),A=v,0|(F=0);if(42==(0|w))return _e(n,2,9024,b),A=v,0|(F=1);if(50==(0|w))return _e(n,1,8804,y),A=v,0|(F=0);if(57==(0|w))return _e(n,1,8804,g),A=v,0|(F=0)}}while(0);return 0|e?(_e(n,1,8804,F),A=v,0|(F=0)):O?(l[h>>2]=1+(0|l[h>>2]),A=v,0|(F=1)):(A=v,0|(F=1))},function(e,t,i,n){t|=0,i|=0,n|=0;var r,o,a,s,c,h,u,f=0,d=0,p=0,_=0,m=0,b=0;if(u=A,A=0|A+32,c=0|u+24,h=0|u+20,f=0|l[(b=0|80+(e|=0))>>2],d=16==(0|l[e+8>>2])?0|(0|l[e+164>>2])+(0|5640*(0|l[e+200>>2])):0|l[e+12>>2],!i)return _e(n,1,8723,u),A=u,0|(b=0);if(ne(t,h,1),1<(e=0|l[h>>2])>>>0)return _e(n,2,8749,0|u+8),A=u,0|(b=1);if((0|e+1)!=(0|i))return _e(n,2,8723,0|u+16),A=u,0|(b=0);if(s=0|d+5584,0|(f=0|l[f+16>>2]))for(i=0|l[s>>2],n=0;l[i+1076>>2]=0,!((n=0|n+1)>>>0>=f>>>0);){i=0|i+1080}if((i=0|l[(a=0|d+5604)>>2])&&(je(i),l[a>>2]=0,e=0|l[h>>2]),!e)return A=u,0|(b=1);for(o=0|d+5624,r=0|d+5628,p=0;;){if(ne(t=0|t+1,c,1),e=0|l[b>>2],f=0|l[o>>2],0|l[r>>2]&&(0|l[f>>2])==(0|l[c>>2])&&(0|(_=0|l[f+4>>2]))==(0|l[(m=0|e+16)>>2])){if(0|(e=0|l[f+8>>2])){if(i=0|B(_,_),d=0|B(0|l[1036+(l[e>>2]<<2)>>2],i),(0|l[e+16>>2])!=(0|d)){e=0,i=32;break}if(n=0|He(i<<2),l[a>>2]=n,!n){e=0,i=32;break}ro[15&l[1052+(l[e>>2]<<2)>>2]](0|l[e+12>>2],n,i)}if(0|(e=0|l[f+12>>2])){if(i=0|l[m>>2],d=0|B(i,0|l[1036+(l[e>>2]<<2)>>2]),(0|l[e+16>>2])!=(0|d)){e=0,i=32;break}if(!(d=0|He(i<<2))){e=0,i=32;break}if(ro[15&l[1068+(l[e>>2]<<2)>>2]](0|l[e+12>>2],d,i),0|(f=0|l[m>>2]))for(e=d,i=0|l[s>>2],n=0;l[i+1076>>2]=l[e>>2],(0|(n=0|n+1))!=(0|f);){e=0|e+4,i=0|i+1080}je(d)}}if((p=0|p+1)>>>0>=(0|l[h>>2])>>>0){e=1,i=32;break}}return 32==(0|i)?(A=u,0|e):0},function(e,t,i,n){t|=0,i|=0,n|=0;var r,o=0;return r=A,A=0|A+32,o=0|r+20,0|l[(e=0|100+(e|=0))>>2]?(_e(n,1,19251,r),A=r,0|(o=0)):4!=(0|i)?(_e(n,1,19305,0|r+8),A=r,0|(o=0)):(ne(t,o,4),218793738==(0|l[o>>2])?(l[e>>2]=1|l[e>>2],A=r,0|(o=1)):(_e(n,1,19339,0|r+16),A=r,0|(o=0)))},function(e,t,i,n){t|=0,i|=0,n|=0;var r,o,a,s=0;if(a=A,A=0|A+32,o=0|a+24,1!=(0|l[(s=0|100+(e|=0))>>2]))return _e(n,1,19132,a),A=a,0|(s=0);if(8>i>>>0)return _e(n,1,19182,0|a+8),A=a,0|(s=0);if(ne(t,0|e+56,4),ne(0|t+4,0|e+60,4),t=0|t+8,0|3&(i=0|i+-8))return _e(n,1,19182,0|a+16),A=a,0|(s=0);if(i>>>=2,l[(r=0|e+64)>>2]=i,0|i){if(i=0|Ne(i,4),l[e+68>>2]=i,!i)return _e(n,1,19218,o),A=a,0|(s=0);if(0|l[r>>2])for(e=0|e+68,i=0;ne(t,0|(0|l[e>>2])+(i<<2),4),!((i=0|i+1)>>>0>=(0|l[r>>2])>>>0);){t=0|t+4}}return l[s>>2]=2|l[s>>2],A=a,0|(s=1)},function(e,t,i,n){t|=0,i|=0,n|=0;var r,o,a,s,c,h,u,f,d,p,_,m,b,y=0,g=0,v=0,w=0,x=0,k=0,I=0;if(b=A,A=0|A+96,d=0|b+72,f=0|b+64,u=0|b+56,h=0|b+48,I=0|b+40,m=0|b+32,_=0|b+24,p=0|b+16,c=0|b+8,o=0|b+80,a=0|b+76,!(2&l[(s=0|100+(e|=0))>>2]))return _e(n,1,18800,b),A=b,0|(I=0);l[(r=0|e+104)>>2]=0;do{if(0|i){w=0;e:for(;;){if(8>i>>>0){v=6;break}switch(ne(t,o,4),y=0|l[o>>2],ne(0|t+4,o,4),k=0|l[o>>2],0|y){case 0:v=15;break e;case 1:if(16>i>>>0){v=9;break e}if(ne(0|t+8,a,4),0|l[a>>2]){v=11;break e}if(ne(0|t+12,o,4),!(y=0|l[o>>2])){v=13;break e}x=16;break;default:x=8;}if(y>>>0<x>>>0){v=17;break}if(i>>>0<y>>>0){v=20;break}t:do{if(1668246642>(0|k)){if(1667523942>(0|k)){switch(0|k){case 1651532643:break;default:v=28;break t;}g=1124,v=27;break}if(1668112752>(0|k)){switch(0|k){case 1667523942:break;default:v=28;break t;}g=1148,v=27;break}switch(0|k){case 1668112752:break;default:v=28;break t;}g=1140,v=27;break}if(1768449138>(0|k)){switch(0|k){case 1668246642:break;default:v=28;break t;}g=1116,v=27;break}if(1885564018>(0|k))switch(0|k){case 1768449138:g=1108,v=27;break t;default:v=28;break t;}switch(0|k){case 1885564018:break;default:v=28;break t;}g=1132,v=27}while(0);if(27==(0|v)){if(!(0|qr[63&l[g+4>>2]](e,0|t+x,0|y-x,n))){t=0,v=33;break}}else 28==(0|v)&&(l[r>>2]=2147483647|l[r>>2]);if(w=1768449138==(0|k)?1:w,!(i=0|i-y)){v=30;break}t=0|t+y}if(6==(0|v))_e(n,1,18845,c);else if(9==(0|v))_e(n,1,18885,p);else if(11==(0|v))_e(n,1,17154,_);else if(13==(0|v))_e(n,1,17224,m);else if(15==(0|v))_e(n,1,17224,I);else if(17==(0|v))_e(n,1,18929,h);else{if(20==(0|v))return _e(n,1,19001,f),A=b,0|(I=0);if(30==(0|v)){if(!w)break;return l[s>>2]=4|l[s>>2],A=b,0|(I=1)}if(33==(0|v))return A=b,0|t}return _e(n,1,18958,u),A=b,0|(I=0)}}while(0);return _e(n,1,19073,d),A=b,0|(I=0)},function(e,t,i,n){t|=0,i|=0,n|=0;var r,o,a=0;return o=A,A=0|A+48,a=0|o+32,0|l[(r=0|72+(e|=0))>>2]?(_e(n,2,18543,o),A=o,0|(a=1)):14!=(0|i)?(_e(n,1,18591,0|o+8),A=o,0|(a=0)):(ne(t,0|e+16,4),ne(0|t+4,0|e+12,4),ne(0|t+8,i=0|e+20,2),16383<(0|(i=0|l[i>>2])-1)>>>0?(_e(n,1,18624,0|o+16),A=o,0|(a=0)):(i=0|Ne(i,12),l[r>>2]=i,i?(ne(0|t+10,0|e+24,1),ne(0|t+11,i=0|e+28,1),7!=(0|(i=0|l[i>>2]))&&(l[a>>2]=i,_e(n,4,18710,a)),ne(0|t+12,0|e+32,1),ne(0|t+13,0|e+36,1),A=o,0|(a=1)):(_e(n,1,18661,0|o+24),A=o,0|(a=0))))},function(e,t,i,n){e|=0,t|=0,n|=0;var o,a,s,c,h,u,f,d,p,_,m=0,b=0,y=0,g=0,v=0,w=0,x=0,k=0;if(_=A,A=0|A+96,y=0|_+48,a=0|_+40,w=0|_+32,v=0|_+24,g=0|_+16,x=0|_+80,o=0|_+76,h=0|_+72,s=0|_+68,u=0|_+64,c=0|_+60,f=0|_+56,d=0|_+52,3>(i|=0)>>>0)return _e(n,1,18186,_),A=_,0|(k=0);if(p=0|e+108,0|r[(k=0|e+124)>>0])return _e(n,4,18218,0|_+8),A=_,0|(k=1);switch(ne(t,b=0|e+40,1),ne(0|t+1,0|e+52,1),ne(0|t+2,0|e+44,1),m=0|t+3,0|(b=0|l[b>>2])){case 1:if(7>i>>>0)return l[g>>2]=i,_e(n,1,18327,g),A=_,0|(k=0);if(b=0|e+48,7!=(0|i)&&14!=(0|l[b>>2])&&(l[v>>2]=i,_e(n,2,18327,v)),ne(m,b,4),y=0|t+7,14==(0|l[b>>2])){if(!(x=0|He(36)))return _e(n,1,18363,w),A=_,0|(k=0);switch(l[x>>2]=14,l[f>>2]=0,l[u>>2]=0,l[h>>2]=0,l[c>>2]=0,l[s>>2]=0,l[o>>2]=0,l[d>>2]=4470064,l[(m=0|x+4)>>2]=1145390592,0|i){case 35:ne(y,o,4),ne(0|t+11,h,4),ne(0|t+15,s,4),ne(0|t+19,u,4),ne(0|t+23,c,4),ne(0|t+27,f,4),ne(0|t+31,d,4),l[m>>2]=0,t=0|l[o>>2],w=0|l[s>>2],v=0|l[c>>2],g=0|l[h>>2],y=0|l[u>>2],b=0|l[f>>2],m=0|l[d>>2];break;case 7:t=0,w=0,v=0,g=0,y=0,b=0,m=4470064;break;default:l[a>>2]=i,_e(n,2,18393,a),t=0,w=0,v=0,g=0,y=0,b=0,m=4470064;}l[x+8>>2]=t,l[x+16>>2]=w,l[x+24>>2]=v,l[x+12>>2]=g,l[x+20>>2]=y,l[x+28>>2]=b,l[x+32>>2]=m,l[p>>2]=x,l[e+112>>2]=0}return r[k>>0]=1,A=_,0|(k=1);case 2:if(y=0|i+-3,l[(b=0|e+112)>>2]=y,e=0|Ne(1,y),l[p>>2]=e,!e)return l[b>>2]=0,A=_,0|(k=0);if(3<(0|i))for(b=0;ne(m,x,1),r[(0|l[p>>2])+b>>0]=l[x>>2],(0|(b=0|b+1))!=(0|y);){m=0|m+1}return r[k>>0]=1,A=_,0|(k=1);default:return 2>=b>>>0?(A=_,0|(k=1)):(l[y>>2]=b,_e(n,4,18437,y),A=_,0|(k=1));}return 0},function(e,t,i,n){t|=0,i|=0,n|=0;var r,o=0,a=0,s=0;if(r=A,A=0|A+16,a=r,255!=(0|(o=0|l[24+(e|=0)>>2]))&&(l[a>>2]=o,_e(n,2,18040,a)),(0|l[(s=0|e+20)>>2])!=(0|i))return _e(n,1,18154,0|r+8),A=r,0|(s=0);if(!i)return A=r,0|(s=1);for(a=0|e+72,o=0;;){if(ne(t,0|(0|l[a>>2])+(0|12*o)+8,1),(o=0|o+1)>>>0>=(0|l[s>>2])>>>0){t=1;break}t=0|t+1}return A=r,0|t},function(e,t,i,n){t|=0,n|=0;var o,s,c,u,f,d=0,p=0,_=0,m=0,b=0;if(f=A,A=0|A+16,d=f,b=0|f+12,3>(i|=0)>>>0|0!=(0|l[(p=0|120+(e|=0))>>2]))return A=f,0|(b=0);if(ne(t,b,2),1023<(0|(u=65535&(_=0|l[b>>2]))-1)>>>0)return l[d>>2]=u,_e(n,1,17957,d),A=f,0|(b=0);if(ne(0|t+2,b,1),!(c=65535&l[b>>2]))return _e(n,1,17995,0|f+8),A=f,0|(b=0);if((0|c+3)>>>0>i>>>0)return A=f,0|(b=0);if(!(o=0|He(0|B(u<<2,c))))return A=f,0|(b=0);if(!(s=0|He(c)))return je(o),A=f,0|(b=0);if(!(m=0|He(c)))return je(o),je(s),A=f,0|(b=0);if(!(e=0|He(20)))return je(o),je(s),je(m),A=f,0|(b=0);l[e+4>>2]=m,l[e+8>>2]=s,l[e>>2]=o,a[e+16>>1]=_,r[e+18>>0]=l[b>>2],l[e+12>>2]=0,l[p>>2]=e,e=0,n=0|t+3,d=0;do{ne(n,b,1),n=0|n+1,r[s+d>>0]=1+(127&l[b>>2]),r[m+d>>0]=1&(0|l[b>>2])>>>7,d=65535&(e=e+1<<16>>16)}while(c>>>0>d>>>0);if(!u)return A=f,0|(b=1);m=t,_=0,d=o,e=n;e:for(;;){p=0,n=e,e=0;do{if((0|n-m+(e=4>(e=(0|7+(0|h[s+e>>0]))>>>3)>>>0?e:4))>(0|i)){e=0,d=22;break e}ne(n,b,e),n=0|n+e,l[d>>2]=l[b>>2],d=0|d+4,e=65535&(p=p+1<<16>>16)}while(c>>>0>e>>>0);if(u>>>0<=(65535&(_=_+1<<16>>16))>>>0){e=1,d=22;break}e=n}return 22==(0|d)?(A=f,0|e):0},function(e,t,i,n){t|=0,i|=0,n|=0;var o,s,c,h=0,u=0;if(c=A,A=0|A+32,u=0|c+20,!(e=0|l[(s=0|120+(e|=0))>>2]))return _e(n,1,17847,c),A=c,0|(u=0);if(0|l[e+12>>2])return _e(n,1,17893,0|c+8),A=c,0|(u=0);if((e=(o=255&(h=0|r[e+18>>0]))<<2)>>>0>i>>>0)return _e(n,1,17924,0|c+16),A=c,0|(u=0);if(!(i=0|He(e)))return A=c,0|(u=0);if(h<<24>>24)for(e=t,h=0;ne(e,u,2),a[i+(h<<2)>>1]=l[u>>2],ne(0|e+2,u,1),r[i+(h<<2)+2>>0]=l[u>>2],ne(0|e+3,u,1),r[i+(h<<2)+3>>0]=l[u>>2],(0|(h=0|h+1))!=(0|o);){e=0|e+4}return l[12+(0|l[s>>2])>>2]=i,A=c,0|(u=1)},function(e,t,i,n){t|=0,i|=0,n|=0;var r,o,s=0,c=0;if(o=A,A=0|A+32,c=0|o+20,0|l[(r=0|116+(e|=0))>>2])return A=o,0|(c=0);if(2>i>>>0)return _e(n,1,17753,o),A=o,0|(c=0);if(ne(t,c,2),!(e=65535&(s=0|l[c>>2])))return _e(n,1,17786,0|o+8),A=o,0|(c=0);if((0|2+(0|6*e))>>>0>i>>>0)return _e(n,1,17753,0|o+16),A=o,0|(c=0);if(!(s=0|He(0|6*s)))return A=o,0|(c=0);if(e=0|He(8),l[r>>2]=e,!e)return je(s),A=o,0|(c=0);if(l[e>>2]=s,n=65535&l[c>>2],a[e+4>>1]=n,!(n<<16>>16))return A=o,0|(c=1);e=0;do{n=65535&e,ne(0|t+2,c,2),a[s+(0|6*n)>>1]=l[c>>2],ne(0|t+4,c,2),t=0|t+6,a[s+(0|6*n)+2>>1]=l[c>>2],ne(t,c,2),a[s+(0|6*n)+4>>1]=l[c>>2],e=e+1<<16>>16}while((65535&e)<(0|f[4+(0|l[r>>2])>>1]));return A=o,0|(t=1)},function(e,t,i,n){t|=0,i|=0,n|=0;var r,o,a,s,c=0,h=0,u=0,f=0,d=0,p=0,_=0;if(s=A,A=0|A+16,_=0|s+8,r=s,0|8&l[(a=0|68+(e|=0))>>2])return k=_=-1,A=s,0|(e=-1);c=0|l[(d=0|e+32)>>2],l[(o=0|e+36)>>2]=c,h=0|l[(u=0|e+48)>>2];do{if(h){for(f=0|e+20;-1!=(0|(h=0|Jr[63&l[f>>2]](c,h,0|l[e>>2])));){if(c=0|(0|l[o>>2])+h,l[o>>2]=c,h=0|(0|l[u>>2])-h,l[u>>2]=h,!h){p=6;break}}if(6==(0|p)){c=0|l[d>>2];break}return l[a>>2]=8|l[a>>2],_e(n,4,4360,r),l[a>>2]=8|l[a>>2],l[u>>2]=0,k=_=-1,A=s,0|(e=-1)}}while(0);l[o>>2]=c;e:do{if(0<(0|i)|0==(0|i)&0<t>>>0){for(d=0|e+24,h=0,c=0;!(-1==(0|(u=0|Jr[63&l[d>>2]](t,i,0|l[e>>2])))&-1==(0|(f=k)));){if(t=0|vr(0|t,0|i,0|u,0|f),i=k,h=0|gr(0|u,0|f,0|h,0|c),c=k,!(0<(0|i)|0==(0|i)&0<t>>>0))break e}return _e(n,4,4412,_),l[a>>2]=8|l[a>>2],_=0|gr(0|l[(_=e=0|e+56)>>2],0|l[_+4>>2],0|h,0|c),l[e>>2]=_,l[e+4>>2]=k,k=_=(e=0!=(0|h)|0!=(0|c))?c:-1,A=s,0|(e=e?h:-1)}h=0,c=0}while(0);return e=0|gr(0|l[(e=_=0|e+56)>>2],0|l[e+4>>2],0|h,0|c),l[_>>2]=e,l[_+4>>2]=k,k=_=c,A=s,0|(e=h)},function(e,t,i,n){t|=0,i|=0,n|=0;var r,o,a=0,s=0,c=0,h=0,u=0,f=0;if(o=A,A=0|A+16,f=o,(s=0|l[(a=0|48+(e|=0))>>2])>>>0>=t>>>0)return l[(f=0|e+36)>>2]=(0|l[f>>2])+t,l[a>>2]=s-t,e=0|gr(0|l[(e=f=0|e+56)>>2],0|l[e+4>>2],0|t,0|i),l[f>>2]=e,l[f+4>>2]=k,k=f=i,A=o,0|(e=t);if(0|4&l[(r=0|e+68)>>2])return l[(f=0|e+36)>>2]=(0|l[f>>2])+s,l[a>>2]=0,f=0|gr(0|l[(f=e=0|e+56)>>2],0|l[f+4>>2],0|s,0),l[e>>2]=f,l[e+4>>2]=k,k=f=(e=0!=(0|s))?0:-1,A=o,0|(e=e?s:-1);s?(l[e+36>>2]=l[e+32>>2],t=0|vr(0|t,0|i,0|s,0),l[a>>2]=0,a=0,i=k):(s=0,a=0);e:do{if(0<(0|i)|0==(0|i)&0<t>>>0){for(u=0|e+24;!(-1==(0|(c=0|Jr[63&l[u>>2]](t,i,0|l[e>>2])))&-1==(0|(h=k)));){if(t=0|vr(0|t,0|i,0|c,0|h),i=k,s=0|gr(0|c,0|h,0|s,0|a),a=k,!(0<(0|i)|0==(0|i)&0<t>>>0))break e}return _e(n,4,4386,f),l[r>>2]=4|l[r>>2],f=0|gr(0|l[(f=e=0|e+56)>>2],0|l[f+4>>2],0|s,0|a),l[e>>2]=f,l[e+4>>2]=k,k=f=(e=0!=(0|s)|0!=(0|a))?a:-1,A=o,0|(e=e?s:-1)}}while(0);return e=0|gr(0|l[(e=f=0|e+56)>>2],0|l[e+4>>2],0|s,0|a),l[f>>2]=e,l[f+4>>2]=k,k=f=a,A=o,0|(e=s)},function(e,t,i,n){t|=0,i|=0,n|=0;var r,o,a,s,c=0,h=0,u=0,f=0,d=0;s=A,A=0|A+16,r=s,c=0|l[(o=0|32+(e|=0))>>2],l[(a=0|e+36)>>2]=c,h=0|l[(d=0|e+48)>>2];do{if(h){for(u=0|e+20;-1!=(0|(h=0|Jr[63&l[u>>2]](c,h,0|l[e>>2])));){if(c=0|(0|l[a>>2])+h,l[a>>2]=c,h=0|(0|l[d>>2])-h,l[d>>2]=h,!h){f=6;break}}if(6==(0|f)){h=e,c=0|l[o>>2];break}return l[(d=0|e+68)>>2]=8|l[d>>2],_e(n,4,4360,r),l[d>>2]=8|l[d>>2],A=s,0|(d=0)}h=e}while(0);return l[a>>2]=c,l[d>>2]=0,0|Jr[63&l[e+28>>2]](t,i,0|l[h>>2])?(l[(d=0|e+56)>>2]=t,l[d+4>>2]=i,A=s,0|(d=1)):(l[(d=0|e+68)>>2]=8|l[d>>2],A=s,0|(d=0))},te,wt,qe,function(e,t,i,n){t|=0,i|=0,n|=0;var r=0,o=0,a=0,s=0,c=0;if(!(0|bi(0|l[(r=0|4+(e|=0))>>2],55,n)))return 0|(n=0);if(c=0|yi(s=0|l[r>>2]),r=0|gi(s),c){for(o=1,a=0;o=o?0!=(0|Jr[63&l[r>>2]](e,t,n)):0,(0|(a=0|a+1))!=(0|c);){r=0|r+4,o&=1}if(vi(s),!o)return 0|(n=0)}else vi(s);if(!(0|bi(0|l[(r=0|e+8)>>2],56,n)))return 0|(n=0);if(!(0|bi(0|l[r>>2],57,n)))return 0|(n=0);if(!(0|bi(0|l[r>>2],58,n)))return 0|(n=0);if(0|l[e+96>>2]&&0==(0|bi(0|l[r>>2],59,n)))return 0|(n=0);if(!(0|bi(0|l[r>>2],60,n)))return 0|(n=0);if(c=0|yi(s=0|l[r>>2]),r=0|gi(s),c){for(o=1,a=0;o=o?0!=(0|Jr[63&l[r>>2]](e,t,n)):0,(0|(a=0|a+1))!=(0|c);){r=0|r+4,o&=1}if(vi(s),!o)return 0|(n=0)}else vi(s);return 0|(n=0|wt(0|l[e>>2],t,i,n))},function(e,t,i,n){n|=0;var o,s,c,h,u,f,d,p=0,_=0,m=0,b=0,y=0,g=0,v=0,w=0,x=0;if(d=A,A=0|A+80,w=0|d+64,u=0|d+56,s=0|d+48,v=0|d+40,h=0|d+32,c=0|d+24,!(0!=(0|(e|=0))&0!=(0|(t|=0))&0!=(0|(i|=0))))return A=d,0|(t=0);if(16383<(0|(0|l[(f=0|i+16)>>2])-1)>>>0)return _e(n,1,16630,d),A=d,0|(t=0);if(!(0|qe(0|l[e>>2],t,i,n)))return A=d,0|(t=0);if(l[e+56>>2]=1785737760,l[e+60>>2]=0,l[e+64>>2]=1,p=0|He(4),l[e+68>>2]=p,!p)return _e(n,1,16699,0|d+8),A=d,0|(t=0);if(l[p>>2]=1785737760,g=0|l[f>>2],l[e+20>>2]=g,g=0|He(0|12*g),l[e+72>>2]=g,!g)return _e(n,1,16699,0|d+16),A=d,0|(t=0);if(l[e+16>>2]=(0|l[i+12>>2])-(0|l[i+4>>2]),l[e+12>>2]=(0|l[i+8>>2])-(0|l[i>>2]),o=0|l[(x=0|i+24)>>2],_=0|l[o+24>>2],m=0|l[o+32>>2],l[(b=0|e+24)>>2]=_+-1+(m<<7),1<(y=0|l[f>>2])>>>0){p=1;do{(0|_)!=(0|l[o+(0|52*p)+24>>2])&&(l[b>>2]=255),p=0|p+1}while(p>>>0<y>>>0)}if(l[e+28>>2]=7,l[e+32>>2]=0,l[e+36>>2]=0,0|y&&(l[g+8>>2]=_+-1+(m<<7),1!=(0|y))){p=1;do{l[g+(0|12*p)+8>>2]=(0|l[o+(0|52*p)+24>>2])-1+(l[o+(0|52*p)+32>>2]<<7),p=0|p+1}while(p>>>0<y>>>0)}_=0|l[(p=0|i+32)>>2],m=0|e+40;e:do{if(_)l[m>>2]=2,l[e+48>>2]=0,l[e+112>>2]=_,y=0|Ne(1,_),l[e+108>>2]=y,Br(0|y,0|l[i+28>>2],0|l[p>>2]),r[e+124>>0]=1,y=0|l[f>>2];else switch(l[m>>2]=1,0|l[i+20>>2]){case 1:l[e+48>>2]=16;break e;case 2:l[e+48>>2]=17;break e;case 3:l[e+48>>2]=18;break e;default:break e;}}while(0);e:do{if(0|y){m=0|l[x>>2],b=0,p=0,_=0;do{p=0|p+(1&(1^(i=0==(0|a[m+(0|52*_)+48>>1])))),b=i?b:_,_=0|_+1}while(_>>>0<y>>>0);switch(0|p){case 0:break e;case 1:break;default:_e(n,2,16995,s);break e;}switch(0|l[e+48>>2]){case 18:case 16:p=3;break;case 17:p=1;break;default:_e(n,2,16745,c);break e;}if(y>>>0<=p>>>0){_e(n,2,16819,h);break}if(b>>>0<p>>>0){_e(n,2,16912,v);break}if(v=0|He(8),l[(_=0|e+116)>>2]=v,!v)return _e(n,1,17060,u),A=d,0|(t=0);if(b=0|He(0|6*(0|l[f>>2])),_=0|l[_>>2],l[_>>2]=b,!b)return _e(n,1,17060,w),A=d,0|(t=0);m=0|l[f>>2],a[_+4>>1]=m,_=0;do{a[b+(0|6*_)>>1]=_,a[b+(0|6*_)+2>>1]=0,w=_,_=0|_+1,a[b+(0|6*w)+4>>1]=_}while((0|_)!=(0|p));if(p>>>0<m>>>0){_=0|l[x>>2];do{x=0==(0|a[_+(0|52*p)+48>>1]),a[b+(0|6*p)>>1]=p,a[b+(0|6*p)+2>>1]=x?-1:1,a[b+(0|6*p)+4>>1]=x<<31>>31,p=0|p+1}while(p>>>0<m>>>0)}}}while(0);return l[e+52>>2]=0,l[e+44>>2]=0,l[e+96>>2]=l[t+18692>>2],A=d,0|(t=1)},dt,et,function(e,t,i,n){e|=0,t|=0,n|=0;var r,o,a,s=0;if(a=A,A=0|A+16,!(i|=0))return A=a,0|(i=0);if(!(0|dt(0|l[e>>2],t,i,n)))return _e(n,1,16201,a),A=a,0|(i=0);if(0|l[e+128>>2])return A=a,0|(i=1);if(!(0|St(i,o=0|e+108,n)))return A=a,0|(i=0);switch(0|(t=0|l[e+48>>2])){case 16:l[i+20>>2]=1;break;case 17:l[i+20>>2]=2;break;case 18:l[i+20>>2]=3;break;case 24:l[i+20>>2]=4;break;default:l[i+20>>2]=12==(0|t)?5:-1;}t=0|l[(r=0|e+120)>>2];do{if(0|t){if(0|l[t+12>>2]){Et(i,o);break}je(0|l[t+4>>2]),je(0|l[8+(0|l[r>>2])>>2]),je(0|l[l[r>>2]>>2]),t=0|l[r>>2],(s=0|l[t+12>>2])&&(je(s),t=0|l[r>>2]),je(t),l[r>>2]=0}}while(0);return 0|l[e+116>>2]&&Ct(i,o,n),(t=0|l[o>>2])?(l[i+28>>2]=t,l[i+32>>2]=l[e+112>>2],l[o>>2]=0,A=a,0|(i=1)):(A=a,0|(i=1))},function(e,t,i,n){e|=0,i|=0,n|=0;var r,o=0,a=0,s=0,c=0,h=0;if(!(0|bi(0|l[(c=0|8+(t|=0))>>2],53,n)))return 0|(n=0);if(r=0|yi(h=0|l[t+4>>2]),o=0|gi(h),r){for(a=1,s=0;a=a?0!=(0|Jr[63&l[o>>2]](t,e,n)):0,(0|(s=0|s+1))!=(0|r);){o=0|o+4,a&=1}if(vi(h),!a)return 0|(n=0)}else vi(h);if(h=0|yi(c=0|l[c>>2]),o=0|gi(c),h){for(a=1,s=0;a=a?0!=(0|Jr[63&l[o>>2]](t,e,n)):0,(0|(s=0|s+1))!=(0|h);){o=0|o+4,a&=1}if(vi(c),!a)return 0|(n=0)}else vi(c);return 0|(n=0|et(e,0|l[t>>2],i,n))},Lr,Lr,Lr,Lr,Lr,Lr,Lr,Lr,Lr,Lr,Lr,Lr,Lr,Lr,Lr,Lr,Lr,Lr,Lr,Lr,Lr,Lr,Lr],Kr=[Zr,_t,function(e,t,i,n,r){var o,a,s;if(e|=0,t|=0,n|=0,r|=0,s=A,A=0|A+16,!(i|=0))return A=s,0|(i=0);if(_e(n,2,19580,s),!(0|_t(0|l[e>>2],t,i,n,r)))return _e(n,1,16201,0|s+8),A=s,0|(i=0);if(!(0|St(i,a=0|e+108,n)))return A=s,0|(i=0);switch(0|(t=0|l[e+48>>2])){case 16:l[i+20>>2]=1;break;case 17:l[i+20>>2]=2;break;case 18:l[i+20>>2]=3;break;case 24:l[i+20>>2]=4;break;default:l[i+20>>2]=12==(0|t)?5:-1;}t=0|l[(o=0|e+120)>>2];do{if(0|t){if(0|l[t+12>>2]){Et(i,a);break}je(0|l[t+4>>2]),je(0|l[8+(0|l[o>>2])>>2]),je(0|l[l[o>>2]>>2]),t=0|l[o>>2],(r=0|l[t+12>>2])&&(je(r),t=0|l[o>>2]),je(t),l[o>>2]=0}}while(0);return 0|l[e+116>>2]&&Ct(i,a,n),(t=0|l[a>>2])?(l[i+28>>2]=t,l[i+32>>2]=l[e+112>>2],l[a>>2]=0,A=s,0|(i=1)):(A=s,0|(i=1))},Zr],$r=[Hr,It,function(e,t,i,n,r,o){return t|=0,i|=0,n|=0,r|=0,o|=0,0|It(0|l[(e|=0)>>2],t,i,n,r,o)},rt,function(e,t,i,n,r,o){return t|=0,i|=0,n|=0,r|=0,o|=0,0|rt(0|l[(e|=0)>>2],t,i,n,r,o)},Hr,Hr,Hr],eo=[Nr,ot,function(e,t,i,n,r,o,a){return t|=0,i|=0,n|=0,r|=0,o|=0,a|=0,0|ot(0|l[(e|=0)>>2],t,i,n,r,o,a)},Nr],to=[zr,nt,function(e,t,i,n,r,o,a,s,c,h,u){return t|=0,i|=0,n|=0,r|=0,o|=0,a|=0,s|=0,c|=0,h|=0,u|=0,0|nt(0|l[(e|=0)>>2],t,i,n,r,o,a,s,c,h,u)},zr],io=[Vr,Xe,Bt,function(e){var t,i,n=0,r=0,o=0;if(n=0|l[(i=0|24+(e|=0))>>2]){if(t=0|((o=0|l[e+28>>2])>>>0)/52,51<o>>>0){for(o=0;0|(e=0|l[n>>2])&&(je(0|e+-1),l[n>>2]=0),0|(r=0|l[(e=0|n+4)>>2])&&(je(r),l[e>>2]=0),0|(r=0|l[(e=0|n+8)>>2])&&(je(r),l[e>>2]=0),!((o=0|o+1)>>>0>=t>>>0);){n=0|n+52}n=0|l[i>>2]}je(n),l[i>>2]=0}},function(e){var t,i,n=0,r=0,o=0;if(n=0|l[(i=0|24+(e|=0))>>2]){if(t=0|((o=0|l[e+28>>2])>>>0)/56,55<o>>>0){for(o=0;0|(e=0|l[n>>2])&&(je(e),l[n>>2]=0),0|(r=0|l[(e=0|n+4)>>2])&&(je(r),l[e>>2]=0),!((o=0|o+1)>>>0>=t>>>0);){n=0|n+56}n=0|l[i>>2]}je(n),l[i>>2]=0}},Vr,Vr,Vr],no=[Ur,function(e,t){},function(e,t){},function(e,t){var i;e|=0,t|=0,t=A,A=0|A+16,l[(i=t)>>2]=e,function(e,t){e|=0,t|=0;var i=0,n=0;i=A,A=0|A+16,l[(n=i)>>2]=t,t=0|jn(0|l[665],e,n),A=i}(4200,i),A=t},function(e,t){},We,function(e,t){t|=0,We(0|l[(e|=0)>>2],t),r[e+124>>0]=0,l[e+128>>2]=1&l[t+8248>>2]},Ur],ro=[jr,function(e,t,i){e|=0,t|=0;var n=0;if(i|=0)for(n=0;ie(t,~~+_[e>>2]>>>0,2),(0|(n=0|n+1))!=(0|i);){e=0|e+4,t=0|t+2}},function(e,t,i){e|=0,t|=0;var n=0;if(i|=0)for(n=0;ie(t,~~+_[e>>2]>>>0,4),(0|(n=0|n+1))!=(0|i);){e=0|e+4,t=0|t+4}},function(e,t,i){e|=0,t|=0;var n=0;if(i|=0)for(n=0;ae(t,+_[e>>2]),(0|(n=0|n+1))!=(0|i);){e=0|e+4,t=0|t+4}},function(e,t,i){e|=0,t|=0;var n=0;if(i|=0)for(n=0;re(t,+_[e>>2]),(0|(n=0|n+1))!=(0|i);){e=0|e+4,t=0|t+8}},function(e,t,i){e|=0,t|=0;var n,r,o=0;if(r=A,A=0|A+16,n=r,i|=0){for(o=0;ne(e,n,2),_[t>>2]=+((0|l[n>>2])>>>0),(0|(o=0|o+1))!=(0|i);){t=0|t+4,e=0|e+2}A=r}else A=r},function(e,t,i){e|=0,t|=0;var n,r,o=0;if(r=A,A=0|A+16,n=r,i|=0){for(o=0;ne(e,n,4),_[t>>2]=+((0|l[n>>2])>>>0),(0|(o=0|o+1))!=(0|i);){t=0|t+4,e=0|e+4}A=r}else A=r},function(e,t,i){e|=0,t|=0;var n,r,o=0;if(r=A,A=0|A+16,n=r,i|=0){for(o=0;se(e,n),l[t>>2]=l[n>>2],(0|(o=0|o+1))!=(0|i);){t=0|t+4,e=0|e+4}A=r}else A=r},function(e,t,i){e|=0,t|=0;var n,r,o=0;if(r=A,A=0|A+16,n=r,i|=0){for(o=0;oe(e,n),_[t>>2]=+b[n>>3],(0|(o=0|o+1))!=(0|i);){t=0|t+4,e=0|e+8}A=r}else A=r},function(e,t,i){e|=0,t|=0;var n,r,o=0;if(r=A,A=0|A+16,n=r,i|=0){for(o=0;ne(e,n,2),l[t>>2]=l[n>>2],(0|(o=0|o+1))!=(0|i);){t=0|t+4,e=0|e+2}A=r}else A=r},function(e,t,i){e|=0,t|=0;var n,r,o=0;if(r=A,A=0|A+16,n=r,i|=0){for(o=0;ne(e,n,4),l[t>>2]=l[n>>2],(0|(o=0|o+1))!=(0|i);){t=0|t+4,e=0|e+4}A=r}else A=r},function(e,t,i){e|=0,t|=0;var n,r,o=0;if(r=A,A=0|A+16,n=r,i|=0){for(o=0;se(e,n),l[t>>2]=~~+_[n>>2],(0|(o=0|o+1))!=(0|i);){t=0|t+4,e=0|e+4}A=r}else A=r},function(e,t,i){e|=0,t|=0;var n,r,o=0;if(r=A,A=0|A+16,n=r,i|=0){for(o=0;oe(e,n),l[t>>2]=~~+b[n>>3],(0|(o=0|o+1))!=(0|i);){t=0|t+4,e=0|e+8}A=r}else A=r},st,function(e,t,i){t|=0,i|=0,st(0|l[(e|=0)>>2],t,i)},jr],oo=[Wr,function(e,t,i,n){e|=0,t|=0,i|=0;var r=0,o=0,a=0;if(n|=0){if(1==(0|t)&0==(0|i))l[e>>2]=l[e>>2]<<1;else{if(0<(0|t)){r=0|i+-1,n=0;do{l[(a=0|e+(n<<1<<2))>>2]=(0|l[a>>2])-((0|l[e+((1>(0|n)?1:0|(((0|n)>(0|i)?i:n)<<1)-1)<<2)>>2])+(0|l[e+((1|((0|n)>=(0|i)?r:n)<<1)<<2)>>2])>>1),n=0|n+1}while((0|n)!=(0|t))}if(!(0>=(0|i))){r=0|t+-1,n=0;do{o=n,n=0|n+1,l[(a=0|e+((1|o<<1)<<2))>>2]=(2+(0|l[e+(((0|o)>=(0|t)?r:o)<<1<<2)>>2])+(0|l[e+(((0|n)>=(0|t)?r:n)<<1<<2)>>2])>>2)+(0|l[a>>2])}while((0|n)!=(0|i))}}}else{if(!((n=0<(0|t))|1<(0|i)))return;if(n){r=0|i+-1,n=0;do{a=n,n=0|n+1,l[(o=0|e+((1|a<<1)<<2))>>2]=(0|l[o>>2])-((0|l[e+(((0|n)>=(0|i)?r:n)<<1<<2)>>2])+(0|l[e+(((0|a)>=(0|i)?r:a)<<1<<2)>>2])>>1)}while((0|n)!=(0|t))}if(0>=(0|i))return;r=0|t+-1,n=0;do{l[(a=0|e+(n<<1<<2))>>2]=(2+(0|l[e+((1>(0|n)?1:0|(((0|n)>(0|t)?t:n)<<1)-1)<<2)>>2])+(0|l[e+((1|((0|n)>=(0|t)?r:n)<<1)<<2)>>2])>>2)+(0|l[a>>2]),n=0|n+1}while((0|n)!=(0|i))}},function(e,t,i,n){e|=0,t|=0,i|=0;var r=0,o=0,a=0,s=0,c=0;if(n|=0){if(!(1<(0|t)|(a=0<(0|i))))return;if(o=0<(0|t)){r=0|i+-1,n=0;do{s=0|Sr(0|(s=0|gr(0|(s=0|yr(0|(s=0|(0|l[e+((1>(0|n)?1:0|(((0|n)>(0|i)?i:n)<<1)-1)<<2)>>2])+(0|l[e+((1|((0|n)>=(0|i)?r:n)<<1)<<2)>>2])),0|(0>(0|s))<<31>>31,12993,0)),0|k,4096,0)),0|k,13),l[(c=0|e+(n<<1<<2))>>2]=(0|l[c>>2])-s,n=0|n+1}while((0|n)!=(0|t))}if(a){r=0|t+-1,n=0;do{c=n,s=0|Sr(0|(s=0|gr(0|(s=0|yr(0|(s=0|(0|l[e+(((0|(n=0|n+1))>=(0|t)?r:n)<<1<<2)>>2])+(0|l[e+(((0|c)>=(0|t)?r:c)<<1<<2)>>2])),0|(0>(0|s))<<31>>31,434,0)),0|k,4096,0)),0|k,13),l[(c=0|e+((1|c<<1)<<2))>>2]=(0|l[c>>2])-s}while((0|n)!=(0|i))}if(o){r=0|i+-1,n=0;do{s=0|Sr(0|(s=0|gr(0|(s=0|yr(0|(s=0|(0|l[e+((1>(0|n)?1:0|(((0|n)>(0|i)?i:n)<<1)-1)<<2)>>2])+(0|l[e+((1|((0|n)>=(0|i)?r:n)<<1)<<2)>>2])),0|(0>(0|s))<<31>>31,7233,0)),0|k,4096,0)),0|k,13),l[(c=0|e+(n<<1<<2))>>2]=(0|l[c>>2])+s,n=0|n+1}while((0|n)!=(0|t))}if(a){r=0|t+-1,n=0;do{c=n,s=0|Sr(0|(s=0|gr(0|(s=0|yr(0|(s=0|(0|l[e+(((0|(n=0|n+1))>=(0|t)?r:n)<<1<<2)>>2])+(0|l[e+(((0|c)>=(0|t)?r:c)<<1<<2)>>2])),0|(0>(0|s))<<31>>31,3633,0)),0|k,4096,0)),0|k,13),l[(c=0|e+((1|c<<1)<<2))>>2]=(0|l[c>>2])+s}while((0|n)!=(0|i))}if(o){n=0;do{s=0|Sr(0|(s=0|gr(0|(s=0|yr(0|(s=0|l[(c=0|e+(n<<1<<2))>>2]),0|(0>(0|s))<<31>>31,5038,0)),0|k,4096,0)),0|k,13),l[c>>2]=s,n=0|n+1}while((0|n)!=(0|t))}if(!a)return;n=0;do{s=0|Sr(0|(s=0|gr(0|(s=0|yr(0|(s=0|l[(c=0|e+((1|n<<1)<<2))>>2]),0|(0>(0|s))<<31>>31,6659,0)),0|k,4096,0)),0|k,13),l[c>>2]=s,n=0|n+1}while((0|n)!=(0|i))}else if((a=0<(0|t))|1<(0|i)){if(a){r=0|i+-1,n=0;do{o=n,s=0|Sr(0|(s=0|gr(0|(s=0|yr(0|(s=0|(0|l[e+(((0|(n=0|n+1))>=(0|i)?r:n)<<1<<2)>>2])+(0|l[e+(((0|o)>=(0|i)?r:o)<<1<<2)>>2])),0|(0>(0|s))<<31>>31,12993,0)),0|k,4096,0)),0|k,13),l[(o=0|e+((1|o<<1)<<2))>>2]=(0|l[o>>2])-s}while((0|n)!=(0|t))}if(o=0<(0|i)){r=0|t+-1,n=0;do{c=0|Sr(0|(c=0|gr(0|(c=0|yr(0|(c=0|(0|l[e+((1|((0|n)>=(0|t)?r:n)<<1)<<2)>>2])+(0|l[e+((1>(0|n)?1:0|(((0|n)>(0|t)?t:n)<<1)-1)<<2)>>2])),0|(0>(0|c))<<31>>31,434,0)),0|k,4096,0)),0|k,13),l[(s=0|e+(n<<1<<2))>>2]=(0|l[s>>2])-c,n=0|n+1}while((0|n)!=(0|i))}if(a){r=0|i+-1,n=0;do{c=n,s=0|Sr(0|(s=0|gr(0|(s=0|yr(0|(s=0|(0|l[e+(((0|(n=0|n+1))>=(0|i)?r:n)<<1<<2)>>2])+(0|l[e+(((0|c)>=(0|i)?r:c)<<1<<2)>>2])),0|(0>(0|s))<<31>>31,7233,0)),0|k,4096,0)),0|k,13),l[(c=0|e+((1|c<<1)<<2))>>2]=(0|l[c>>2])+s}while((0|n)!=(0|t))}if(o){r=0|t+-1,n=0;do{s=0|Sr(0|(s=0|gr(0|(s=0|yr(0|(s=0|(0|l[e+((1|((0|n)>=(0|t)?r:n)<<1)<<2)>>2])+(0|l[e+((1>(0|n)?1:0|(((0|n)>(0|t)?t:n)<<1)-1)<<2)>>2])),0|(0>(0|s))<<31>>31,3633,0)),0|k,4096,0)),0|k,13),l[(c=0|e+(n<<1<<2))>>2]=(0|l[c>>2])+s,n=0|n+1}while((0|n)!=(0|i))}if(a){n=0;do{s=0|Sr(0|(s=0|gr(0|(s=0|yr(0|(s=0|l[(c=0|e+((1|n<<1)<<2))>>2]),0|(0>(0|s))<<31>>31,5038,0)),0|k,4096,0)),0|k,13),l[c>>2]=s,n=0|n+1}while((0|n)!=(0|t))}if(o){n=0;do{s=0|Sr(0|(s=0|gr(0|(s=0|yr(0|(s=0|l[(c=0|e+(n<<1<<2))>>2]),0|(0>(0|s))<<31>>31,6659,0)),0|k,4096,0)),0|k,13),l[c>>2]=s,n=0|n+1}while((0|n)!=(0|i))}}},Wr];return{___muldi3:yr,___udivdi3:xr,___uremdi3:kr,_bitshift64Ashr:Ir,_bitshift64Lshr:Sr,_bitshift64Shl:Er,_emscripten_replace_memory:function _emscripten_replace_memory(e){return!(16777215&y(e)||16777215>=y(e)||2147483648<y(e)||(r=new n(e),a=new o(e),l=new s(e),h=new c(e),f=new u(e),new d(e),_=new p(e),b=new m(e),i=e,0))},_free:bn,_i64Add:gr,_i64Subtract:vr,_jp2_decode:function _jp2_decode(e,t,i,n,r,o,a,s,c,h,u){e|=0,t|=0,i|=0,n|=0,r|=0,o|=0,a|=0,s|=0,c|=0,h|=0,u|=0;var f,d,p,_=0,m=0;if(p=A,A=0|A+8272,m=0|p+16,_=p,l[(f=0|p+12)>>2]=0,Te(d=0|we(1375686655==(0|l[e>>2])?0:2),1,0),De(d,2,0),Pe(d,3,0),Be(m),l[_>>2]=e,l[_+4>>2]=e,l[_+8>>2]=t,_=0|Fe(_,1),!(0|Re(d,m)))return mr(4211),X(_),ke(d),A=p,0|(m=1);if(!(0|Ce(_,d,f)))return mr(4263),X(_),ke(d),ye(0|l[f>>2]),A=p,0|(m=1);if(!(0|xe(d,_,0|l[f>>2])))return mr(4313),ke(d),X(_),ye(0|l[f>>2]),A=p,0|(m=1);switch(e=0|l[f>>2],l[r>>2]=l[e+8>>2],l[o>>2]=l[e+12>>2],l[a>>2]=l[e+16>>2],m=0|l[(t=0|e+24)>>2],l[c>>2]=l[m+24>>2],l[h>>2]=l[m+32>>2],l[s>>2]=l[m+28>>2],l[u>>2]=l[e+20>>2],e=0|B(0|B(l[r>>2]<<2,0|l[o>>2]),0|l[a>>2]),l[n>>2]=e,h=0|mn(e),l[i>>2]=h,0|l[a>>2]){case 1:Br(0|h,0|l[44+(0|l[t>>2])>>2],0|e);break;case 3:if(0<(0|(c=0|B(0|l[o>>2],0|l[r>>2])))){s=0|l[t>>2],t=0|l[s+44>>2],u=0|l[s+96>>2],s=0|l[s+148>>2],e=0;do{l[h+((m=0|3*e)<<2)>>2]=l[t+(e<<2)>>2],l[h+(m+1<<2)>>2]=l[u+(e<<2)>>2],l[h+(m+2<<2)>>2]=l[s+(e<<2)>>2],e=0|e+1}while((0|e)<(0|c))}}return X(_),ke(d),ye(0|l[f>>2]),A=p,0|(m=0)},_jp2_encode:function _jp2_encode(e,t,i,n,r,o,a,s,c,u){e|=0,t|=0,i|=0,n|=0,r|=0,o|=0,a|=0,s|=0,c|=0,u|=0;var d,p,m,b=0,y=0,g=0,v=0,w=0,x=0,k=0;m=A,A=0|A+18880,b=0|m+16,w=m,Me(p=0|m+160),l[p+18200>>2]=0,l[p+4788>>2]=1,l[p+20>>2]=1;e:do{if(r)_[p+4792>>2]=+(0|r);else switch(0|n){case 0:case 100:_[p+4792>>2]=0;break e;default:_[p+5192>>2]=+(0|n),l[p+28>>2]=1;break e;}}while(0);if(l[b+24>>2]=i,l[b+28>>2]=i,l[b+32>>2]=0,l[b>>2]=1,l[b+4>>2]=1,l[b+8>>2]=e,l[b+12>>2]=t,l[b+60>>2]=i,l[b+64>>2]=i,l[b+68>>2]=0,l[b+36>>2]=1,l[b+40>>2]=1,l[b+44>>2]=e,l[b+48>>2]=t,l[b+96>>2]=i,l[b+100>>2]=i,l[b+104>>2]=0,l[b+72>>2]=1,l[b+76>>2]=1,l[b+80>>2]=e,l[b+84>>2]=t,l[b+132>>2]=i,l[b+136>>2]=i,l[b+140>>2]=0,l[b+108>>2]=1,l[b+112>>2]=1,l[b+116>>2]=e,l[b+120>>2]=t,!(d=0|be(4,b,1)))return A=m,0|(u=0);if(16==(0|i)){if(0<(0|t)&0<(0|e)){g=0|l[d+24>>2],r=0|l[g+200>>2],i=0|l[g+44>>2],y=0|l[g+96>>2],g=0|l[g+148>>2],b=0;do{v=0|B(b,e),n=0;do{k=(x=0|n+v)<<2,l[i+(x<<2)>>2]=f[o+(k<<1)>>1],l[y+(x<<2)>>2]=f[o+((1|k)<<1)>>1],l[g+(x<<2)>>2]=f[o+((2|k)<<1)>>1],l[r+(x<<2)>>2]=f[o+((3|k)<<1)>>1],n=0|n+1}while((0|n)!=(0|e));b=0|b+1}while((0|b)!=(0|t))}}else if(0<(0|t)&0<(0|e)){g=0|l[d+24>>2],r=0|l[g+200>>2],i=0|l[g+44>>2],y=0|l[g+96>>2],g=0|l[g+148>>2],b=0;do{v=0|B(b,e),n=0;do{x=(k=0|n+v)<<2,l[i+(k<<2)>>2]=h[o+x>>0],l[y+(k<<2)>>2]=h[o+(1|x)>>0],l[g+(k<<2)>>2]=h[o+(2|x)>>0],l[r+(k<<2)>>2]=h[o+(3|x)>>0],n=0|n+1}while((0|n)!=(0|e));b=0|b+1}while((0|b)!=(0|t))}return l[d>>2]=0,l[d+4>>2]=0,l[d+8>>2]=e,l[d+12>>2]=t,0<(0|s)&&(l[d+28>>2]=a,l[d+32>>2]=s),Te(0,1,0),De(0,2,0),Pe(0,3,0),Te(r=0|Ae(2),1,0),De(r,2,0),Pe(r,3,0),Ge(r,p,d),n=0|mn(67108864),l[w>>2]=n,l[(b=0|w+4)>>2]=n,l[w+8>>2]=67108864,(n=0|Fe(w,0))?0|Oe(r,d,n)&&0|Se(r,n)&&0|Ee(r,n)?(x=0|l[w>>2],w=0|mn(k=0|(0|l[b>>2])-x),l[c>>2]=w,Br(0|w,0|x,0|k),l[u>>2]=k,X(n),ke(r),ye(d),A=m,0|(k=1)):(X(n),ke(r),ye(d),A=m,0|(k=0)):(A=m,0|(k=0))},_jp2_version:function _jp2_version(){return 4427},_llvm_bswap_i32:Cr,_malloc:mn,_memcpy:Br,_memset:Mr,_opj_create_compress:Ae,_opj_create_decompress:we,_opj_decode:xe,_opj_decode_tile_data:function _opj_decode_tile_data(e,t,i,n,r){return t|=0,n|=0,0!=(0|(e|=0))&0!=(0|(i|=0))&0!=(0|(r|=0))&&0|l[e+68>>2]?0|(r=0|$r[7&l[e+12>>2]](0|l[e+40>>2],t,i,n,r,0|e+44)):0|(r=0)},_opj_destroy_codec:ke,_opj_destroy_cstr_index:function _opj_destroy_cstr_index(e){var t;(t=0|l[(e|=0)>>2])&&(Je(t),l[e>>2]=0)},_opj_destroy_cstr_info:Ie,_opj_dump_codec:function _opj_dump_codec(e,t,i){t|=0,i|=0,(e|=0)&&ro[15&l[e+72>>2]](0|l[e+40>>2],t,i)},_opj_encode:Se,_opj_end_compress:Ee,_opj_end_decompress:function _opj_end_decompress(e,t){return 0!=(0|(e|=0))&0!=(0|(t|=0))&&0|l[e+68>>2]?0|(t=0|Jr[63&l[e+16>>2]](0|l[e+40>>2],t,0|e+44)):0|(t=0)},_opj_get_cstr_index:function _opj_get_cstr_index(e){return(e|=0)?0|(e=0|Xr[15&l[e+80>>2]](0|l[e+40>>2])):0|(e=0)},_opj_get_cstr_info:function _opj_get_cstr_info(e){return(e|=0)?0|(e=0|Xr[15&l[e+76>>2]](0|l[e+40>>2])):0|(e=0)},_opj_get_decoded_tile:function _opj_get_decoded_tile(e,t,i,n){return i|=0,n|=0,0!=(0|(e|=0))&0!=(0|(t|=0))&&0|l[e+68>>2]?0|(n=0|Kr[3&l[e+32>>2]](0|l[e+40>>2],t,i,0|e+44,n)):0|(n=0)},_opj_image_create:be,_opj_image_destroy:ye,_opj_image_tile_create:function _opj_image_tile_create(e,t,i){var n,r;if(e|=0,t|=0,i|=0,!(n=0|Ne(1,36)))return 0|(t=n);if(l[n+20>>2]=i,l[n+16>>2]=e,r=0|Ne(e,52),l[n+24>>2]=r,r){if(!e)return 0|(t=n);i=0;do{l[r+(0|52*i)>>2]=l[t+(0|36*i)>>2],l[r+(0|52*i)+4>>2]=l[t+(0|36*i)+4>>2],l[r+(0|52*i)+8>>2]=l[t+(0|36*i)+8>>2],l[r+(0|52*i)+12>>2]=l[t+(0|36*i)+12>>2],l[r+(0|52*i)+16>>2]=l[t+(0|36*i)+16>>2],l[r+(0|52*i)+20>>2]=l[t+(0|36*i)+20>>2],l[r+(0|52*i)+24>>2]=l[t+(0|36*i)+24>>2],l[r+(0|52*i)+32>>2]=l[t+(0|36*i)+32>>2],l[r+(0|52*i)+44>>2]=0,i=0|i+1}while((0|i)!=(0|e));return 0|n}return 0|(i=0|l[n+28>>2])&&je(i),je(n),0|(t=0)},_opj_read_header:Ce,_opj_read_tile_header:function _opj_read_tile_header(e,t,i,n,r,o,a,s,c,h){return r|=0,o|=0,a|=0,s|=0,c|=0,h|=0,0!=(0|(i|=0))&0!=(0|(e|=0))&0!=(0|(t|=0))&0!=(0|(n|=0))&&0|l[e+68>>2]?0|(h=0|to[3&l[e+8>>2]](0|l[e+40>>2],i,n,r,o,a,s,c,h,t,0|e+44)):0|(h=0)},_opj_set_MCT:function _opj_set_MCT(e,t,i,n){e|=0,t|=0,i|=0;var o,s=0,c=0;return o=0|B(c=(n|=0)<<2,n),n=0|f[(s=0|e+18704)>>1],a[s>>1]=0==(0|32768&n)?-32512:65535&(256|n),l[e+5608>>2]=1,r[e+18690>>0]=2,s=0|He(0|o+c),l[(n=0|e+18696)>>2]=s,s?(Br(0|s,0|t,0|o),Br(0|(0|l[n>>2])+o,0|i,0|c),0|(c=1)):0|(c=0)},_opj_set_decode_area:function _opj_set_decode_area(e,t,i,n,r,o){return t|=0,i|=0,n|=0,r|=0,o|=0,(e|=0)&&0|l[e+68>>2]?0|(o=0|eo[3&l[e+28>>2]](0|l[e+40>>2],t,i,n,r,o,0|e+44)):0|(o=0)},_opj_set_decoded_resolution_factor:function _opj_set_decoded_resolution_factor(e,t){return t|=0,(e|=0)?0|(t=0|Jr[63&l[e+36>>2]](0|l[e+40>>2],t,0|e+44)):0|(t=0)},_opj_set_default_decoder_parameters:Be,_opj_set_default_encoder_parameters:Me,_opj_set_error_handler:Pe,_opj_set_info_handler:Te,_opj_set_warning_handler:De,_opj_setup_decoder:Re,_opj_setup_encoder:Ge,_opj_start_compress:Oe,_opj_stream_create:W,_opj_stream_create_buffer_stream:Fe,_opj_stream_create_default_file_stream:function _opj_stream_create_default_file_stream(e,t){return 0|Le(e|=0,1048576,t|=0)},_opj_stream_create_file_stream:Le,_opj_stream_default_create:Y,_opj_stream_destroy:X,_opj_stream_set_read_function:Q,_opj_stream_set_seek_function:J,_opj_stream_set_skip_function:q,_opj_stream_set_user_data:K,_opj_stream_set_user_data_length:$,_opj_stream_set_write_function:ee,_opj_version:Ze,_opj_write_tile:function _opj_write_tile(e,t,i,n,r){return t|=0,n|=0,0!=(0|(i|=0))&0!=(0|(e|=0))&0!=(0|(r|=0))?0|l[e+68>>2]?0|(r=0):0|(r=0|$r[7&l[e+8>>2]](0|l[e+40>>2],t,i,n,r,0|e+44)):0|(r=0)},_rintf:Tr,_sbrk:Dr,dynCall_di:function dynCall_di(e,t){return t|=0,+Yr[3&(e|=0)](0|t)},dynCall_ii:function dynCall_ii(e,t){return t|=0,0|Xr[15&(e|=0)](0|t)},dynCall_iii:function dynCall_iii(e,t,i){return t|=0,i|=0,0|Qr[7&(e|=0)](0|t,0|i)},dynCall_iiii:function dynCall_iiii(e,t,i,n){return t|=0,i|=0,n|=0,0|Jr[63&(e|=0)](0|t,0|i,0|n)},dynCall_iiiii:function dynCall_iiiii(e,t,i,n,r){return t|=0,i|=0,n|=0,r|=0,0|qr[63&(e|=0)](0|t,0|i,0|n,0|r)},dynCall_iiiiii:function dynCall_iiiiii(e,t,i,n,r,o){return t|=0,i|=0,n|=0,r|=0,o|=0,0|Kr[3&(e|=0)](0|t,0|i,0|n,0|r,0|o)},dynCall_iiiiiii:function dynCall_iiiiiii(e,t,i,n,r,o,a){return t|=0,i|=0,n|=0,r|=0,o|=0,a|=0,0|$r[7&(e|=0)](0|t,0|i,0|n,0|r,0|o,0|a)},dynCall_iiiiiiii:function dynCall_iiiiiiii(e,t,i,n,r,o,a,s){return t|=0,i|=0,n|=0,r|=0,o|=0,a|=0,s|=0,0|eo[3&(e|=0)](0|t,0|i,0|n,0|r,0|o,0|a,0|s)},dynCall_iiiiiiiiiiii:function dynCall_iiiiiiiiiiii(e,t,i,n,r,o,a,s,l,c,h,u){return t|=0,i|=0,n|=0,r|=0,o|=0,a|=0,s|=0,l|=0,c|=0,h|=0,u|=0,0|to[3&(e|=0)](0|t,0|i,0|n,0|r,0|o,0|a,0|s,0|l,0|c,0|h,0|u)},dynCall_vi:function dynCall_vi(e,t){t|=0,io[7&(e|=0)](0|t)},dynCall_vii:function dynCall_vii(e,t,i){t|=0,i|=0,no[7&(e|=0)](0|t,0|i)},dynCall_viii:function dynCall_viii(e,t,i,n){t|=0,i|=0,n|=0,ro[15&(e|=0)](0|t,0|i,0|n)},dynCall_viiii:function dynCall_viiii(e,t,i,n,r){t|=0,i|=0,n|=0,r|=0,oo[3&(e|=0)](0|t,0|i,0|n,0|r)},establishStackSpace:function establishStackSpace(e,t){A=e|=0,0},getTempRet0:function getTempRet0(){return 0|k},runPostSets:function runPostSets(){},setTempRet0:function setTempRet0(e){k=e|=0},setThrew:function setThrew(e,t){e|=0,0,x||(x=e)},stackAlloc:function stackAlloc(e){var t;return t=A,A=-16&15+(A=0|A+(e|=0)),0|t},stackRestore:function stackRestore(e){A=e|=0},stackSave:function stackSave(){return 0|A}}}(o.asmGlobalArg,o.asmLibraryArg,E),Me=(o.___muldi3=Be.___muldi3,o.___udivdi3=Be.___udivdi3,o.___uremdi3=Be.___uremdi3,o._bitshift64Ashr=Be._bitshift64Ashr,o._bitshift64Lshr=Be._bitshift64Lshr,o._bitshift64Shl=Be._bitshift64Shl,o._emscripten_replace_memory=Be._emscripten_replace_memory),Pe=(o._free=Be._free,o._i64Add=Be._i64Add,o._i64Subtract=Be._i64Subtract,o._jp2_decode=Be._jp2_decode,o._jp2_encode=Be._jp2_encode,o._jp2_version=Be._jp2_version,o._llvm_bswap_i32=Be._llvm_bswap_i32,o._malloc=Be._malloc),Te=(o._memcpy=Be._memcpy,o._memset=Be._memset,o._opj_create_compress=Be._opj_create_compress,o._opj_create_decompress=Be._opj_create_decompress,o._opj_decode=Be._opj_decode,o._opj_decode_tile_data=Be._opj_decode_tile_data,o._opj_destroy_codec=Be._opj_destroy_codec,o._opj_destroy_cstr_index=Be._opj_destroy_cstr_index,o._opj_destroy_cstr_info=Be._opj_destroy_cstr_info,o._opj_dump_codec=Be._opj_dump_codec,o._opj_encode=Be._opj_encode,o._opj_end_compress=Be._opj_end_compress,o._opj_end_decompress=Be._opj_end_decompress,o._opj_get_cstr_index=Be._opj_get_cstr_index,o._opj_get_cstr_info=Be._opj_get_cstr_info,o._opj_get_decoded_tile=Be._opj_get_decoded_tile,o._opj_image_create=Be._opj_image_create,o._opj_image_destroy=Be._opj_image_destroy,o._opj_image_tile_create=Be._opj_image_tile_create,o._opj_read_header=Be._opj_read_header,o._opj_read_tile_header=Be._opj_read_tile_header,o._opj_set_MCT=Be._opj_set_MCT,o._opj_set_decode_area=Be._opj_set_decode_area,o._opj_set_decoded_resolution_factor=Be._opj_set_decoded_resolution_factor,o._opj_set_default_decoder_parameters=Be._opj_set_default_decoder_parameters,o._opj_set_default_encoder_parameters=Be._opj_set_default_encoder_parameters,o._opj_set_error_handler=Be._opj_set_error_handler,o._opj_set_info_handler=Be._opj_set_info_handler,o._opj_set_warning_handler=Be._opj_set_warning_handler,o._opj_setup_decoder=Be._opj_setup_decoder,o._opj_setup_encoder=Be._opj_setup_encoder,o._opj_start_compress=Be._opj_start_compress,o._opj_stream_create=Be._opj_stream_create,o._opj_stream_create_buffer_stream=Be._opj_stream_create_buffer_stream,o._opj_stream_create_default_file_stream=Be._opj_stream_create_default_file_stream,o._opj_stream_create_file_stream=Be._opj_stream_create_file_stream,o._opj_stream_default_create=Be._opj_stream_default_create,o._opj_stream_destroy=Be._opj_stream_destroy,o._opj_stream_set_read_function=Be._opj_stream_set_read_function,o._opj_stream_set_seek_function=Be._opj_stream_set_seek_function,o._opj_stream_set_skip_function=Be._opj_stream_set_skip_function,o._opj_stream_set_user_data=Be._opj_stream_set_user_data,o._opj_stream_set_user_data_length=Be._opj_stream_set_user_data_length,o._opj_stream_set_write_function=Be._opj_stream_set_write_function,o._opj_version=Be._opj_version,o._opj_write_tile=Be._opj_write_tile,o._rintf=Be._rintf,o._sbrk=Be._sbrk,o.establishStackSpace=Be.establishStackSpace,o.getTempRet0=Be.getTempRet0,o.runPostSets=Be.runPostSets,o.setTempRet0=Be.setTempRet0,o.setThrew=Be.setThrew,o.stackAlloc=Be.stackAlloc),De=o.stackRestore=Be.stackRestore,Re=o.stackSave=Be.stackSave;o.dynCall_di=Be.dynCall_di,o.dynCall_ii=Be.dynCall_ii,o.dynCall_iii=Be.dynCall_iii,o.dynCall_iiii=Be.dynCall_iiii,o.dynCall_iiiii=Be.dynCall_iiiii,o.dynCall_iiiiii=Be.dynCall_iiiiii,o.dynCall_iiiiiii=Be.dynCall_iiiiiii,o.dynCall_iiiiiiii=Be.dynCall_iiiiiiii,o.dynCall_iiiiiiiiiiii=Be.dynCall_iiiiiiiiiiii,o.dynCall_vi=Be.dynCall_vi,o.dynCall_vii=Be.dynCall_vii,o.dynCall_viii=Be.dynCall_viii,o.dynCall_viiii=Be.dynCall_viiii;if(o.asm=Be,o.ccall=function(e,t,i,n,r){var a=function(e){var t=o["_"+e];return y(t,"Cannot call unknown function "+e+", make sure it is exported"),t}(e),s=[],l=0;if(n)for(var c=0,h;c<n.length;c++){h=v[i[c]];h?(0===l&&(l=Re()),s[c]=h(n[c])):s[c]=n[c]}var u=a.apply(null,s);return"string"===t&&(u=k(u)),0!==l&&De(l),u},o.getValue=function(e,t,i){switch("*"===(t=t||"i8").charAt(t.length-1)&&(t="i32"),t){case"i1":case"i8":return C[e>>0];case"i16":return M[e>>1];case"i32":case"i64":return P[e>>2];case"float":return T[e>>2];case"double":return D[e>>3];default:ze("invalid type for getValue: "+t);}return null},o.writeArrayToMemory=re,de)if(_e(de)||("function"==typeof o.locateFile?de=o.locateFile(de):o.memoryInitializerPrefixURL&&(de=o.memoryInitializerPrefixURL+de)),u||f){var Ge=o.readBinary(de);B.set(Ge,8)}else{var Fe=function Fe(){o.readAsync(de,Oe,function(){throw"could not load memory initializer "+de})};he++,o.monitorRunDependencies&&o.monitorRunDependencies(he);var Oe=function Oe(e){e.byteLength&&(e=new Uint8Array(e)),B.set(e,8),o.memoryInitializerRequest&&delete o.memoryInitializerRequest.response,function(e){if(he--,o.monitorRunDependencies&&o.monitorRunDependencies(he),0==he&&(null!==ue&&(clearInterval(ue),ue=null),fe)){var t=fe;fe=null,t()}}()},Le=Ee(de);if(Le)Oe(Le.buffer);else if(o.memoryInitializerRequest){var Ze=function Ze(){var e=o.memoryInitializerRequest,t=e.response;if(200!==e.status&&0!==e.status){var i=Ee(o.memoryInitializerRequestURL);if(!i)return console.warn("a problem seems to have happened with Module.memoryInitializerRequest, status: "+e.status+", retrying "+de),void Fe();t=i.buffer}Oe(t)};o.memoryInitializerRequest.response?setTimeout(Ze,0):o.memoryInitializerRequest.addEventListener("load",Ze)}else Fe()}function He(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function Ne(e){function t(){o.calledRun||(o.calledRun=!0,b||(te||(te=!0,Q(q)),Q(K),o.onRuntimeInitialized&&o.onRuntimeInitialized(),function(){if(o.postRun)for("function"==typeof o.postRun&&(o.postRun=[o.postRun]);o.postRun.length;){ne(o.postRun.shift())}Q(ee)}()))}e=e||o.arguments,0<he||(function(){if(o.preRun)for("function"==typeof o.preRun&&(o.preRun=[o.preRun]);o.preRun.length;){ie(o.preRun.shift())}Q(J)}(),0<he||o.calledRun||(o.setStatus?(o.setStatus("Running..."),setTimeout(function(){setTimeout(function(){o.setStatus("")},1),t()},1)):t()))}function ze(e){throw o.onAbort&&o.onAbort(e),void 0!==e?(o.print(e),o.printErr(e),e=JSON.stringify(e)):e="",b=!0,"abort("+e+"). Build with -s ASSERTIONS=1 for more info."}if(o.then=function(e){if(o.calledRun)e(o);else{var t=o.onRuntimeInitialized;o.onRuntimeInitialized=function(){t&&t(),e(o)}}return o},He.prototype=new Error,He.prototype.constructor=He,fe=function e(){o.calledRun||Ne(),o.calledRun||(fe=e)},o.run=Ne,o.exit=function(e,i){i&&o.noExitRuntime&&0===e||(o.noExitRuntime||(b=!0,O=Ce,Q($),o.onExit&&o.onExit(e)),u&&t.exit(e),o.quit(e,new He(e)))},o.abort=ze,o.preInit)for("function"==typeof o.preInit&&(o.preInit=[o.preInit]);0<o.preInit.length;){o.preInit.pop()()}return o.noExitRuntime=!0,Ne(),e}}).call(this,i(62),i(141).Buffer)},function(e,t,i){"use strict";var n=i(1),r=function(){function e(e,t){for(var i=0,n;i<t.length;i++){n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o={0:{color:[0,0,0],opacity:0,label:"background"},1:{color:[255,0,0],opacity:1,label:"white matter"}},a=function(){function e(t){var i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:o;!function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,e),n.a.isString(t)?this._dom=document.getElementById(t):this._dom=t,this._segmentation=i,this.initCanvas(),this.paintCanvas()}return e.prototype.initCanvas=function(){this._canvasContainer=this.initCanvasContainer(this._dom),this._canvasBg=this.createCanvas(),this._canvasContainer.appendChild(this._canvasBg),this._canvas=this.createCanvas(),this._canvasContainer.appendChild(this._canvas)},e.prototype.initCanvasContainer=function(e){var t=e;return t.style.width="256 px",t.style.height="128 px",t.style.border="1px solid #F9F9F9",t},e.prototype.createCanvas=function(){var e=document.createElement("canvas");return e.height=128,e.width=256,e},e.prototype.paintCanvas=function(){var e=this._canvas.getContext("2d");for(var t in e.clearRect(0,0,this._canvas.width,this._canvas.height),e.globalCompositeOperation="source-over",e.lineWidth=1,this._segmentation){var i=t%this._canvas.width,n=_Mathfloor(t/this._canvas.width),r=void 0!==this._segmentation[t].opacity?this._segmentation[t].opacity:1,o=this._segmentation[t].color;e.fillStyle="rgba( "+_Mathround(o[0])+", "+_Mathround(o[1])+", "+_Mathround(o[2])+", "+r+")",e.fillRect(i,n,1,1)}},r(e,[{key:"texture",get:function get(){var e=new THREE.Texture(this._canvas);return e.mapping=THREE.UVMapping,e.wrapS=e.wrapT=THREE.ClampToEdgeWrapping,e.magFilter=e.minFilter=THREE.NearestFilter,e.premultiplyAlpha=!0,e.needsUpdate=!0,e}},{key:"segmentation",set:function set(e){this._segmentation=e,this.paintCanvas()},get:function get(){return this._segmentation}}]),e}();t.a=a},function(e,t,i){"use strict";var n=i(1),r=function(){function e(t,i){!function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,e),t&&this._isFunction(t.emit)?(n.a.isString(i)?this._dom=document.getElementById(i):this._dom=i,n.a.isElement(this._dom)?(this._emitter=t,this.initContainerDom(),this.initEventListenner(),this.loaded=0,this.totalFile=0):window.console.error("please give the id of container dom or directly a dom instance")):window.console.error("please give the this._emitter instance")}return e.prototype._isFunction=function(e){return"[object Function]"===Object.prototype.toString.call(e)},e.prototype.initEventListenner=function(){var e=this;this._emitter.on("load-start",function(t){var i=t.files.length;e.totalFile=i,e._domTotalFile.innerHTML=i}),this._emitter.on("fetch-start",function(t){var i=document.createElement("li"),n=document.createElement("div");n.innerHTML="file: "+t.file,n.style.color="#ffffff",i.append(n),i.className="fetch-file",i.id="file-"+t.file,i.style.marginBottom="7px",i.style.border="1px solid #ffffff;",i.style.width="60%";var r=document.createElement("div");r.id="file-fetch-"+t.file,r.style.width="0%",i.append(r),e._domProcessList.append(i)}),this._emitter.on("fetch-progress",function(e){var t="file-fetch-"+e.file,i=document.getElementById(t);i.style.width=100*(e.loaded/e.total)+"%",i.style.border="1px solid red"}),this._emitter.on("fetch-success",function(e){var t=document.getElementById("file-"+e.file),i=document.createElement("div");i.id="file-result-"+e.file,i.innerHTML="fetch-success",i.style.color="#ffffff",t.append(i)}),this._emitter.on("fetch-error",function(e){}),this._emitter.on("fetch-abort",function(e){}),this._emitter.on("fetch-end",function(e){}),this._emitter.on("fetch-timeout",function(e){}),this._emitter.on("parse-start",function(e){var t=document.getElementById("file-"+e.file),i=document.createElement("div");i.id="file-parse-"+e.file,i.style.width="0%",t.append(i)}),this._emitter.on("parsing",function(e){var t="file-parse-"+e.file,i=document.getElementById(t);i.style.width=100*(e.parsed/e.total)+"%",i.style.border="1px solid yellow"}),this._emitter.on("parse-success",function(t){e.loaded+=1,e._domCurrentFile.innerHTML=e.loaded,e._domCurrentProgress.style.width=100*(e.loaded/e.totalFile)+"%";var i=document.getElementById("file-"+t.file),n=document.createElement("div");n.id="file-result-"+t.file,n.innerHTML="parse-success",n.style.color="#ffffff",i.append(n)})},e.prototype.initContainerDom=function(){var e=document.createElement("div");e.innerHTML="\n      <div id=\"ami-progress-bar-container\" style=\"background-color: rgb(33, 33, 33); color: #ffffff;\">\n      <div>\n      <label for=\"progress-bar\" id=\"progress-label\" style=\"width: 60%; border: 1px solid #ffffff; text-align: center;\">\n      <span id=\"current-file-index\">0</span>\n      <span id=\"total-file\">0</span>\n      </label>\n      <div id=\"progress-bar\" style=\"width: 60%; border: 1px solid #ffffff; text-align: center;\">\n      <div id=\"current-progress\" style=\"border: 1px solid red; width: 0%;\"></div>\n      </div>\n      </div>\n      <ul id=\"process-list\" style=\"list-style-type: none; padding: 0; overflow-y: auto;\">\n      </ul>\n      </div>",this._dom.append(e),this._domCurrentFile=document.getElementById("current-file-index"),this._domTotalFile=document.getElementById("total-file"),this._domProcessList=document.getElementById("process-list"),this._domCurrentProgress=document.getElementById("current-progress")},e}();t.a=r},function(e,t,i){"use strict";var n=i(110),r=i(1),o=i(35),a=i(36),s=i(37),l=i(39),c=i(109),h=i(38),u=i(40),f=i(41),d=i(56),p=function(e){function t(){return function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=babelHelpers.typeof(t)&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+babelHelpers.typeof(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.parse=function(e){var t=this;return this.emit("parse-start",{file:e.url,time:new Date}),this._progressBar&&this._progressBar.update(0,100,"parse",e.url),new Promise(function(i,n){setTimeout(function(){i(new Promise(function(i,n){var r=e;if(Array.isArray(r)||(r=[r]),r.forEach(function(e){t._preprocess(e)}),1===r.length)r=r[0];else{var s=r.filter(t._filterByExtension.bind(null,"MHD")),l=r.filter(t._filterByExtension.bind(null,"RAW"));2===r.length&&1===s.length&&1===l.length&&(r.url=s[0].url,r.extension=s[0].extension,r.mhdBuffer=s[0].buffer,r.rawBuffer=l[0].buffer)}var c=t._parser(r.extension);c||(t.emit("parse-error",{file:e.url,time:new Date,error:r.filename+"can not be parsed."}),n(r.filename+" can not be parsed."));var h=null;try{h=new c(r,0)}catch(i){console.warn(i),t.emit("parse-error",{file:e.url,time:new Date,error:i}),n(i)}var u=new o.a;u.seriesInstanceUID=h.seriesInstanceUID(),u.transferSyntaxUID=h.transferSyntaxUID(),u.seriesDate=h.seriesDate(),u.seriesDescription=h.seriesDescription(),u.studyDate=h.studyDate(),u.studyDescription=h.studyDescription(),u.numberOfFrames=h.numberOfFrames(),u.numberOfFrames||(u.numberOfFrames=1),u.numberOfChannels=h.numberOfChannels(),u.modality=h.modality(),"SEG"===u.modality&&(u.segmentationType=h.segmentationType(),u.segmentationSegments=h.segmentationSegments()),u.patientID=h.patientID(),u.patientName=h.patientName(),u.patientAge=h.patientAge(),u.patientBirthdate=h.patientBirthdate(),u.patientSex=h.patientSex();var f=new a.a;f.numberOfChannels=h.numberOfChannels(),f.pixelRepresentation=h.pixelRepresentation(),f.pixelType=h.pixelType(),f.invert=h.invert(),f.spacingBetweenSlices=h.spacingBetweenSlices(),f.modality=u.modality,"SEG"===f.modality&&(f.segmentationType=u.segmentationType,f.segmentationSegments=u.segmentationSegments),u.stack.push(f),setTimeout(t.parseFrameClosure(u,f,e.url,0,h,i,n),0)}))},10)})},t.prototype.parseFrameClosure=function(e,t,i,n,r,o,a){var s=this;return function(){s.parseFrame(e,t,i,n,r,o,a)}},t.prototype.parseFrame=function(e,t,i,n,r,o,a){var l=new s.a;l.sopInstanceUID=r.sopInstanceUID(n),l.url=i,l.index=n,l.invert=t.invert,l.frameTime=r.frameTime(n),l.ultrasoundRegions=r.ultrasoundRegions(n),l.rows=r.rows(n),l.columns=r.columns(n),l.numberOfChannels=t.numberOfChannels,l.pixelPaddingValue=r.pixelPaddingValue(n),l.pixelRepresentation=t.pixelRepresentation,l.pixelType=t.pixelType,l.pixelData=r.extractPixelData(n),l.pixelSpacing=r.pixelSpacing(n),l.spacingBetweenSlices=r.spacingBetweenSlices(n),l.sliceThickness=r.sliceThickness(n),l.imageOrientation=r.imageOrientation(n),l.rightHanded=r.rightHanded(),t.rightHanded=l.rightHanded,null===l.imageOrientation&&(l.imageOrientation=[1,0,0,0,1,0]),l.imagePosition=r.imagePosition(n),l.dimensionIndexValues=r.dimensionIndexValues(n),l.bitsAllocated=r.bitsAllocated(n),l.instanceNumber=r.instanceNumber(n),l.windowCenter=r.windowCenter(n),l.windowWidth=r.windowWidth(n),l.rescaleSlope=r.rescaleSlope(n),l.rescaleIntercept=r.rescaleIntercept(n),l.minMax=r.minMaxPixelData(l.pixelData),"SEG"===e.modality&&(l.referencedSegmentNumber=r.referencedSegmentNumber(n)),t.frame.push(l),this._parsed=n+1,this._totalParsed=e.numberOfFrames,this._progressBar&&this._progressBar.update(this._parsed,this._totalParsed,"parse",i),this.emit("parsing",{file:i,total:this._totalParsed,parsed:this._parsed,time:new Date}),this._parsed===this._totalParsed?(this.emit("parse-success",{file:i,total:this._totalParsed,parsed:this._parsed,time:new Date}),o(e)):setTimeout(this.parseFrameClosure(e,t,i,this._parsed,r,o,a),0)},t.prototype._parser=function(e){var t=null;switch(e.toUpperCase()){case"NII":case"NII_":t=h.a;break;case"DCM":case"DIC":case"DICOM":case"IMA":case"":t=l.a;break;case"MHD":t=c.a;break;case"NRRD":t=u.a;break;case"MGH":case"MGZ":t=f.a;break;default:return console.warn("unsupported extension: "+e),!1;}return t},t.prototype._preprocess=function(e){var t=r.a.parseUrl(e.url);if(e.filename=t.filename,e.extension=t.extension,e.pathname=t.pathname,e.query=t.query,"gz"===e.extension?(e.gzcompressed=!0,e.extension=e.filename.split(".gz").shift().split(".").pop()):"mgz"===e.extension?(e.gzcompressed=!0,e.extension="mgh"):"zraw"===e.extension?(e.gzcompressed=!0,e.extension="raw"):e.gzcompressed=!1,e.gzcompressed){var i=d.inflate(e.buffer);e.buffer=i.buffer}},t.prototype._filterByExtension=function(e,t){return t.extension.toUpperCase()===e.toUpperCase()},t}(n.a);t.a=p},function(e,t,i){"use strict";e.exports=function(e,t,i,n){for(var r=0|65535&e,o=0|65535&e>>>16,a=0;0!==i;){i-=a=2e3<i?2e3:i;do{o=0|o+(r=0|r+t[n++])}while(--a);r%=65521,o%=65521}return 0|(r|o<<16)}},function(e,t,i){"use strict";var n=function(){for(var e,t=[],i=0;256>i;i++){e=i;for(var n=0;8>n;n++){e=1&e?3988292384^e>>>1:e>>>1}t[i]=e}return t}();e.exports=function(e,t,i,r){var o=n,a=r+i;e^=-1;for(var s=r;s<a;s++){e=e>>>8^o[255&(e^t[s])]}return-1^e}},function(e,t,i){"use strict";var n=i(10),r=!0,o=!0;try{_StringfromCharCode.apply(null,[0])}catch(e){r=!1}try{_StringfromCharCode.apply(null,new Uint8Array(1))}catch(e){o=!1}for(var a=new n.Buf8(256),s=0;256>s;s++){a[s]=252<=s?6:248<=s?5:240<=s?4:224<=s?3:192<=s?2:1}function l(e,t){if(65537>t&&(e.subarray&&o||!e.subarray&&r))return _StringfromCharCode.apply(null,n.shrinkBuf(e,t));for(var i="",a=0;a<t;a++){i+=_StringfromCharCode(e[a])}return i}a[254]=a[254]=1,t.string2buf=function(e){var t,i,r,o,a,s=e.length,l=0;for(o=0;o<s;o++){55296==(64512&(i=e.charCodeAt(o)))&&o+1<s&&56320==(64512&(r=e.charCodeAt(o+1)))&&(i=65536+(i-55296<<10)+(r-56320),o++),l+=128>i?1:2048>i?2:65536>i?3:4}for(t=new n.Buf8(l),a=0,o=0;a<l;o++){55296==(64512&(i=e.charCodeAt(o)))&&o+1<s&&56320==(64512&(r=e.charCodeAt(o+1)))&&(i=65536+(i-55296<<10)+(r-56320),o++),128>i?t[a++]=i:2048>i?(t[a++]=192|i>>>6,t[a++]=128|63&i):65536>i?(t[a++]=224|i>>>12,t[a++]=128|63&i>>>6,t[a++]=128|63&i):(t[a++]=240|i>>>18,t[a++]=128|63&i>>>12,t[a++]=128|63&i>>>6,t[a++]=128|63&i)}return t},t.buf2binstring=function(e){return l(e,e.length)},t.binstring2buf=function(e){for(var t=new n.Buf8(e.length),i=0,r=t.length;i<r;i++){t[i]=e.charCodeAt(i)}return t},t.buf2string=function(e,t){var i,n,r,o,s=t||e.length,c=Array(2*s);for(n=0,i=0;i<s;){if(128>(r=e[i++]))c[n++]=r;else if(4<(o=a[r]))c[n++]=65533,i+=o-1;else{for(r&=2===o?31:3===o?15:7;1<o&&i<s;){r=r<<6|63&e[i++],o--}1<o?c[n++]=65533:65536>r?c[n++]=r:(r-=65536,c[n++]=55296|1023&r>>10,c[n++]=56320|1023&r)}}return l(c,n)},t.utf8border=function(e,t){var i;for((t=t||e.length)>e.length&&(t=e.length),i=t-1;0<=i&&128==(192&e[i]);){i--}return 0>i?t:0===i?t:i+a[e[i]]>t?i:t}},function(e,t,i){"use strict";e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},function(e,t,i){"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(e,t,i){"use strict";e.exports=_Mathfloor},function(e,t,i){"use strict";e.exports=_Mathceil},function(e,t,i){"use strict";var n=n||{};n.Utils=n.Utils||i(61),n.NIFTI1=n.NIFTI1||function(){this.littleEndian=!1,this.dim_info=0,this.dims=[],this.intent_p1=0,this.intent_p2=0,this.intent_p3=0,this.intent_code=0,this.datatypeCode=0,this.numBitsPerVoxel=0,this.slice_start=0,this.slice_end=0,this.slice_code=0,this.pixDims=[],this.vox_offset=0,this.scl_slope=1,this.scl_inter=0,this.xyzt_units=0,this.cal_max=0,this.cal_min=0,this.slice_duration=0,this.toffset=0,this.description="",this.aux_file="",this.intent_name="",this.qform_code=0,this.sform_code=0,this.quatern_b=0,this.quatern_c=0,this.quatern_d=0,this.qoffset_x=0,this.qoffset_y=0,this.qoffset_z=0,this.affine=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]],this.magic=0,this.isHDR=!1,this.extensionFlag=[0,0,0,0],this.extensionSize=0,this.extensionCode=0},n.NIFTI1.TYPE_NONE=0,n.NIFTI1.TYPE_BINARY=1,n.NIFTI1.TYPE_UINT8=2,n.NIFTI1.TYPE_INT16=4,n.NIFTI1.TYPE_INT32=8,n.NIFTI1.TYPE_FLOAT32=16,n.NIFTI1.TYPE_COMPLEX64=32,n.NIFTI1.TYPE_FLOAT64=64,n.NIFTI1.TYPE_RGB24=128,n.NIFTI1.TYPE_INT8=256,n.NIFTI1.TYPE_UINT16=512,n.NIFTI1.TYPE_UINT32=768,n.NIFTI1.TYPE_INT64=1024,n.NIFTI1.TYPE_UINT64=1280,n.NIFTI1.TYPE_FLOAT128=1536,n.NIFTI1.TYPE_COMPLEX128=1792,n.NIFTI1.TYPE_COMPLEX256=2048,n.NIFTI1.XFORM_UNKNOWN=0,n.NIFTI1.XFORM_SCANNER_ANAT=1,n.NIFTI1.XFORM_ALIGNED_ANAT=2,n.NIFTI1.XFORM_TALAIRACH=3,n.NIFTI1.XFORM_MNI_152=4,n.NIFTI1.SPATIAL_UNITS_MASK=7,n.NIFTI1.TEMPORAL_UNITS_MASK=56,n.NIFTI1.UNITS_UNKNOWN=0,n.NIFTI1.UNITS_METER=1,n.NIFTI1.UNITS_MM=2,n.NIFTI1.UNITS_MICRON=3,n.NIFTI1.UNITS_SEC=8,n.NIFTI1.UNITS_MSEC=16,n.NIFTI1.UNITS_USEC=24,n.NIFTI1.UNITS_HZ=32,n.NIFTI1.UNITS_PPM=40,n.NIFTI1.UNITS_RADS=48,n.NIFTI1.MAGIC_COOKIE=348,n.NIFTI1.MAGIC_NUMBER_LOCATION=344,n.NIFTI1.MAGIC_NUMBER=[110,43,49],n.NIFTI1.MAGIC_NUMBER2=[110,105,49],n.NIFTI1.EXTENSION_HEADER_SIZE=8,n.NIFTI1.prototype.readHeader=function(e){var t,i,r,o,a=new DataView(e),s=n.Utils.getIntAt(a,0,this.littleEndian);if(s!==n.NIFTI1.MAGIC_COOKIE&&(this.littleEndian=!0,s=n.Utils.getIntAt(a,0,this.littleEndian)),s!==n.NIFTI1.MAGIC_COOKIE)throw new Error("This does not appear to be a NIFTI file!");for(this.dim_info=n.Utils.getByteAt(a,39),t=0;8>t;t+=1){o=40+2*t,this.dims[t]=n.Utils.getShortAt(a,o,this.littleEndian)}for(this.intent_p1=n.Utils.getFloatAt(a,56,this.littleEndian),this.intent_p2=n.Utils.getFloatAt(a,60,this.littleEndian),this.intent_p3=n.Utils.getFloatAt(a,64,this.littleEndian),this.intent_code=n.Utils.getShortAt(a,68,this.littleEndian),this.datatypeCode=n.Utils.getShortAt(a,70,this.littleEndian),this.numBitsPerVoxel=n.Utils.getShortAt(a,72,this.littleEndian),this.slice_start=n.Utils.getShortAt(a,74,this.littleEndian),t=0;8>t;t+=1){o=76+4*t,this.pixDims[t]=n.Utils.getFloatAt(a,o,this.littleEndian)}for(this.vox_offset=n.Utils.getFloatAt(a,108,this.littleEndian),this.scl_slope=n.Utils.getFloatAt(a,112,this.littleEndian),this.scl_inter=n.Utils.getFloatAt(a,116,this.littleEndian),this.slice_end=n.Utils.getShortAt(a,120,this.littleEndian),this.slice_code=n.Utils.getByteAt(a,122),this.xyzt_units=n.Utils.getByteAt(a,123),this.cal_max=n.Utils.getFloatAt(a,124,this.littleEndian),this.cal_min=n.Utils.getFloatAt(a,128,this.littleEndian),this.slice_duration=n.Utils.getFloatAt(a,132,this.littleEndian),this.toffset=n.Utils.getFloatAt(a,136,this.littleEndian),this.description=n.Utils.getStringAt(a,148,228),this.aux_file=n.Utils.getStringAt(a,228,252),this.qform_code=n.Utils.getShortAt(a,252,this.littleEndian),this.sform_code=n.Utils.getShortAt(a,254,this.littleEndian),this.quatern_b=n.Utils.getFloatAt(a,256,this.littleEndian),this.quatern_c=n.Utils.getFloatAt(a,260,this.littleEndian),this.quatern_d=n.Utils.getFloatAt(a,264,this.littleEndian),this.qoffset_x=n.Utils.getFloatAt(a,268,this.littleEndian),this.qoffset_y=n.Utils.getFloatAt(a,272,this.littleEndian),this.qoffset_z=n.Utils.getFloatAt(a,276,this.littleEndian),i=0;3>i;i+=1){for(r=0;4>r;r+=1){o=280+4*(4*i+r),this.affine[i][r]=n.Utils.getFloatAt(a,o,this.littleEndian)}}this.affine[3][0]=0,this.affine[3][1]=0,this.affine[3][2]=0,this.affine[3][3]=1,this.intent_name=n.Utils.getStringAt(a,328,344),this.magic=n.Utils.getStringAt(a,344,348),this.isHDR=this.magic===n.NIFTI1.MAGIC_NUMBER2,a.byteLength>n.NIFTI1.MAGIC_COOKIE&&(this.extensionFlag[0]=n.Utils.getByteAt(a,348),this.extensionFlag[1]=n.Utils.getByteAt(a,349),this.extensionFlag[2]=n.Utils.getByteAt(a,350),this.extensionFlag[3]=n.Utils.getByteAt(a,351),this.extensionFlag[0]&&(this.extensionSize=this.getExtensionSize(a),this.extensionCode=this.getExtensionCode(a)))},n.NIFTI1.prototype.toFormattedString=function(){var e=n.Utils.formatNumber,t="";return t+="Dim Info = "+this.dim_info+"\n",t+="Image Dimensions (1-8): "+this.dims[0]+", "+this.dims[1]+", "+this.dims[2]+", "+this.dims[3]+", "+this.dims[4]+", "+this.dims[5]+", "+this.dims[6]+", "+this.dims[7]+"\n",t+="Intent Parameters (1-3): "+this.intent_p1+", "+this.intent_p2+", "+this.intent_p3+"\n",t+="Intent Code = "+this.intent_code+"\n",t+="Datatype = "+this.datatypeCode+" ("+this.getDatatypeCodeString(this.datatypeCode)+")\n",t+="Bits Per Voxel = "+this.numBitsPerVoxel+"\n",t+="Slice Start = "+this.slice_start+"\n",t+="Voxel Dimensions (1-8): "+e(this.pixDims[0])+", "+e(this.pixDims[1])+", "+e(this.pixDims[2])+", "+e(this.pixDims[3])+", "+e(this.pixDims[4])+", "+e(this.pixDims[5])+", "+e(this.pixDims[6])+", "+e(this.pixDims[7])+"\n",t+="Image Offset = "+this.vox_offset+"\n",t+="Data Scale:  Slope = "+e(this.scl_slope)+"  Intercept = "+e(this.scl_inter)+"\n",t+="Slice End = "+this.slice_end+"\n",t+="Slice Code = "+this.slice_code+"\n",t+="Units Code = "+this.xyzt_units+" ("+this.getUnitsCodeString(n.NIFTI1.SPATIAL_UNITS_MASK&this.xyzt_units)+", "+this.getUnitsCodeString(n.NIFTI1.TEMPORAL_UNITS_MASK&this.xyzt_units)+")\n",t+="Display Range:  Max = "+e(this.cal_max)+"  Min = "+e(this.cal_min)+"\n",t+="Slice Duration = "+this.slice_duration+"\n",t+="Time Axis Shift = "+this.toffset+"\n",t+="Description: \""+this.description+"\"\n",t+="Auxiliary File: \""+this.aux_file+"\"\n",t+="Q-Form Code = "+this.qform_code+" ("+this.getTransformCodeString(this.qform_code)+")\n",t+="S-Form Code = "+this.sform_code+" ("+this.getTransformCodeString(this.sform_code)+")\n",t+="Quaternion Parameters:  b = "+e(this.quatern_b)+"  c = "+e(this.quatern_c)+"  d = "+e(this.quatern_d)+"\n",t+="Quaternion Offsets:  x = "+this.qoffset_x+"  y = "+this.qoffset_y+"  z = "+this.qoffset_z+"\n",t+="S-Form Parameters X: "+e(this.affine[0][0])+", "+e(this.affine[0][1])+", "+e(this.affine[0][2])+", "+e(this.affine[0][3])+"\n",t+="S-Form Parameters Y: "+e(this.affine[1][0])+", "+e(this.affine[1][1])+", "+e(this.affine[1][2])+", "+e(this.affine[1][3])+"\n",t+="S-Form Parameters Z: "+e(this.affine[2][0])+", "+e(this.affine[2][1])+", "+e(this.affine[2][2])+", "+e(this.affine[2][3])+"\n",t+="Intent Name: \""+this.intent_name+"\"\n",this.extensionFlag[0]&&(t+="Extension: Size = "+this.extensionSize+"  Code = "+this.extensionCode+"\n"),t},n.NIFTI1.prototype.getDatatypeCodeString=function(e){return e===n.NIFTI1.TYPE_UINT8?"1-Byte Unsigned Integer":e===n.NIFTI1.TYPE_INT16?"2-Byte Signed Integer":e===n.NIFTI1.TYPE_INT32?"4-Byte Signed Integer":e===n.NIFTI1.TYPE_FLOAT32?"4-Byte Float":e===n.NIFTI1.TYPE_FLOAT64?"8-Byte Float":e===n.NIFTI1.TYPE_RGB24?"RGB":e===n.NIFTI1.TYPE_INT8?"1-Byte Signed Integer":e===n.NIFTI1.TYPE_UINT16?"2-Byte Unsigned Integer":e===n.NIFTI1.TYPE_UINT32?"4-Byte Unsigned Integer":e===n.NIFTI1.TYPE_INT64?"8-Byte Signed Integer":e===n.NIFTI1.TYPE_UINT64?"8-Byte Unsigned Integer":"Unknown"},n.NIFTI1.prototype.getTransformCodeString=function(e){return e===n.NIFTI1.XFORM_SCANNER_ANAT?"Scanner":e===n.NIFTI1.XFORM_ALIGNED_ANAT?"Aligned":e===n.NIFTI1.XFORM_TALAIRACH?"Talairach":e===n.NIFTI1.XFORM_MNI_152?"MNI":"Unknown"},n.NIFTI1.prototype.getUnitsCodeString=function(e){return e===n.NIFTI1.UNITS_METER?"Meters":e===n.NIFTI1.UNITS_MM?"Millimeters":e===n.NIFTI1.UNITS_MICRON?"Microns":e===n.NIFTI1.UNITS_SEC?"Seconds":e===n.NIFTI1.UNITS_MSEC?"Milliseconds":e===n.NIFTI1.UNITS_USEC?"Microseconds":e===n.NIFTI1.UNITS_HZ?"Hz":e===n.NIFTI1.UNITS_PPM?"PPM":e===n.NIFTI1.UNITS_RADS?"Rads":"Unknown"},n.NIFTI1.prototype.getQformMat=function(){return this.convertNiftiQFormToNiftiSForm(this.quatern_b,this.quatern_c,this.quatern_d,this.qoffset_x,this.qoffset_y,this.qoffset_z,this.pixDims[1],this.pixDims[2],this.pixDims[3],this.pixDims[0])},n.NIFTI1.prototype.convertNiftiQFormToNiftiSForm=function(e,t,i,n,r,o,a,s,l,c){var h,u,f,d,p=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],_=e,m=t,b=i;return p[3][0]=p[3][1]=p[3][2]=0,p[3][3]=1,1e-7>(h=1-(_*_+m*m+b*b))?(_*=h=1/_Mathsqrt(_*_+m*m+b*b),m*=h,b*=h,h=0):h=_Mathsqrt(h),u=0<a?a:1,f=0<s?s:1,d=0<l?l:1,0>c&&(d=-d),p[0][0]=(h*h+_*_-m*m-b*b)*u,p[0][1]=2*(_*m-h*b)*f,p[0][2]=2*(_*b+h*m)*d,p[1][0]=2*(_*m+h*b)*u,p[1][1]=(h*h+m*m-_*_-b*b)*f,p[1][2]=2*(m*b-h*_)*d,p[2][0]=2*(_*b-h*m)*u,p[2][1]=2*(m*b+h*_)*f,p[2][2]=(h*h+b*b-m*m-_*_)*d,p[0][3]=n,p[1][3]=r,p[2][3]=o,p},n.NIFTI1.prototype.convertNiftiSFormToNEMA=function(e){var t,i,n,r,o,a,s,l,c,h,u,f,d,p,_,m,b,y,g,v,A,w,x,k,I,S,E,C,B,M,P,T,D;if(p=0,S=[[0,0,0],[0,0,0],[0,0,0]],E=[[0,0,0],[0,0,0],[0,0,0]],t=e[0][0],i=e[0][1],n=e[0][2],r=e[1][0],o=e[1][1],a=e[1][2],s=e[2][0],l=e[2][1],c=e[2][2],0===(h=_Mathsqrt(t*t+r*r+s*s)))return null;if(t/=h,r/=h,s/=h,0===(h=_Mathsqrt(i*i+o*o+l*l)))return null;if(h=t*(i/=h)+r*(o/=h)+s*(l/=h),1e-4<_Mathabs(h)){if(i-=h*t,o-=h*r,l-=h*s,0===(h=_Mathsqrt(i*i+o*o+l*l)))return null;i/=h,o/=h,l/=h}if(0===(h=_Mathsqrt(n*n+a*a+c*c))?(n=r*l-s*o,a=s*i-l*t,c=t*o-r*i):(n/=h,a/=h,c/=h),h=t*n+r*a+s*c,1e-4<_Mathabs(h)){if(n-=h*t,a-=h*r,c-=h*s,0===(h=_Mathsqrt(n*n+a*a+c*c)))return null;n/=h,a/=h,c/=h}if(h=i*n+o*a+l*c,1e-4<_Mathabs(h)){if(n-=h*i,a-=h*o,c-=h*l,0===(h=_Mathsqrt(n*n+a*a+c*c)))return null;n/=h,a/=h,c/=h}if(S[0][0]=t,S[0][1]=i,S[0][2]=n,S[1][0]=r,S[1][1]=o,S[1][2]=a,S[2][0]=s,S[2][1]=l,S[2][2]=c,0===(u=this.nifti_mat33_determ(S)))return null;for(I=-666,y=A=w=x=1,g=2,v=3,f=1;3>=f;f+=1){for(d=1;3>=d;d+=1){if(f!==d)for(p=1;3>=p;p+=1){if(f!==p&&d!==p)for(E[0][0]=E[0][1]=E[0][2]=E[1][0]=E[1][1]=E[1][2]=E[2][0]=E[2][1]=E[2][2]=0,_=-1;1>=_;_+=2){for(m=-1;1>=m;m+=2){for(b=-1;1>=b;b+=2){E[0][f-1]=_,E[1][d-1]=m,E[2][p-1]=b,0<this.nifti_mat33_determ(E)*u&&(h=(k=this.nifti_mat33_mul(E,S))[0][0]+k[1][1]+k[2][2])>I&&(I=h,y=f,g=d,v=p,A=_,w=m,x=b)}}}}}}switch(C=B=M=P=T=D=0,y*A){case 1:C="X",P="+";break;case-1:C="X",P="-";break;case 2:C="Y",P="+";break;case-2:C="Y",P="-";break;case 3:C="Z",P="+";break;case-3:C="Z",P="-";}switch(g*w){case 1:B="X",T="+";break;case-1:B="X",T="-";break;case 2:B="Y",T="+";break;case-2:B="Y",T="-";break;case 3:B="Z",T="+";break;case-3:B="Z",T="-";}switch(v*x){case 1:M="X",D="+";break;case-1:M="X",D="-";break;case 2:M="Y",D="+";break;case-2:M="Y",D="-";break;case 3:M="Z",D="+";break;case-3:M="Z",D="-";}return C+B+M+P+T+D},n.NIFTI1.prototype.nifti_mat33_mul=function(e,t){var i,n,r=[[0,0,0],[0,0,0],[0,0,0]];for(i=0;3>i;i+=1){for(n=0;3>n;n+=1){r[i][n]=e[i][0]*t[0][n]+e[i][1]*t[1][n]+e[i][2]*t[2][n]}}return r},n.NIFTI1.prototype.nifti_mat33_determ=function(e){var t,i,n,r,o,a,s,l,c;return t=e[0][0],i=e[0][1],n=e[0][2],r=e[1][0],o=e[1][1],a=e[1][2],s=e[2][0],l=e[2][1],t*o*(c=e[2][2])-t*l*a-r*i*c+r*l*n+s*i*a-s*o*n},n.NIFTI1.prototype.getExtensionLocation=function(){return n.NIFTI1.MAGIC_COOKIE+4},n.NIFTI1.prototype.getExtensionSize=function(e){return n.Utils.getIntAt(e,this.getExtensionLocation(),this.littleEndian)},n.NIFTI1.prototype.getExtensionCode=function(e){return n.Utils.getIntAt(e,this.getExtensionLocation()+4,this.littleEndian)},"undefined"!==typeof e&&e.exports&&(e.exports=n.NIFTI1)},function(e,t,i){"use strict";var n=n||{};n.lossless=n.lossless||{},n.lossless.ComponentSpec=n.lossless.ComponentSpec||function(){this.hSamp=0,this.quantTableSel=0,this.vSamp=0},"undefined"!==typeof e&&e.exports&&(e.exports=n.lossless.ComponentSpec)},function(e,t,i){"use strict";var n=n||{};n.lossless=n.lossless||{},n.lossless.DataStream=n.lossless.DataStream||i(11),n.lossless.Utils=n.lossless.Utils||i(26),n.lossless.HuffmanTable=n.lossless.HuffmanTable||function(){this.l=n.lossless.Utils.createArray(4,2,16),this.th=[],this.v=n.lossless.Utils.createArray(4,2,16,200),this.tc=n.lossless.Utils.createArray(4,2),this.tc[0][0]=0,this.tc[1][0]=0,this.tc[2][0]=0,this.tc[3][0]=0,this.tc[0][1]=0,this.tc[1][1]=0,this.tc[2][1]=0,this.tc[3][1]=0,this.th[0]=0,this.th[1]=0,this.th[2]=0,this.th[3]=0},n.lossless.HuffmanTable.MSB=2147483648,n.lossless.HuffmanTable.prototype.read=function(e,t){var i,n,r,o,a,s,l=0;for(i=e.get16(),l+=2;l<i;){if(l+=1,3<(r=15&(n=e.get8())))throw new Error("ERROR: Huffman table ID > 3");if(2<(o=n>>4))throw new Error("ERROR: Huffman table [Table class > 2 ]");for(this.th[r]=1,this.tc[r][o]=1,a=0;16>a;a+=1){this.l[r][o][a]=e.get8(),l+=1}for(a=0;16>a;a+=1){for(s=0;s<this.l[r][o][a];s+=1){if(l>i)throw new Error("ERROR: Huffman table format error [count>Lh]");this.v[r][o][a][s]=e.get8(),l+=1}}}if(l!==i)throw new Error("ERROR: Huffman table format error [count!=Lf]");for(a=0;4>a;a+=1){for(s=0;2>s;s+=1){0!==this.tc[a][s]&&this.buildHuffTable(t[a][s],this.l[a][s],this.v[a][s])}}return 1},n.lossless.HuffmanTable.prototype.buildHuffTable=function(e,t,i){var r,o,a,s,l;for(256,o=0,a=0;8>a;a+=1){for(s=0;s<t[a];s+=1){for(l=0;l<256>>a+1;l+=1){e[o]=i[a][s]|a+1<<8,o+=1}}}for(a=1;256>o;a+=1,o+=1){e[o]=a|n.lossless.HuffmanTable.MSB}for(r=1,o=0,a=8;16>a;a+=1){for(s=0;s<t[a];s+=1){for(l=0;l<256>>a-7;l+=1){e[256*r+o]=i[a][s]|a+1<<8,o+=1}if(256<=o){if(256<o)throw new Error("ERROR: Huffman table error(1)!");o=0,r+=1}}}},"undefined"!==typeof e&&e.exports&&(e.exports=n.lossless.HuffmanTable)},function(e,t,i){"use strict";var n=n||{};n.lossless=n.lossless||{},n.lossless.DataStream=n.lossless.DataStream||i(11),n.lossless.Utils=n.lossless.Utils||i(26),n.lossless.QuantizationTable=n.lossless.QuantizationTable||function(){this.precision=[],this.tq=[],this.quantTables=n.lossless.Utils.createArray(4,64),this.tq[0]=0,this.tq[1]=0,this.tq[2]=0,this.tq[3]=0},n.lossless.QuantizationTable.enhanceQuantizationTable=function(e,t){var i;for(i=0;8>i;i+=1){e[t[0+i]]*=90,e[t[32+i]]*=90,e[t[16+i]]*=118,e[t[48+i]]*=49,e[t[40+i]]*=71,e[t[8+i]]*=126,e[t[56+i]]*=25,e[t[24+i]]*=106}for(i=0;8>i;i+=1){e[t[0+8*i]]*=90,e[t[4+8*i]]*=90,e[t[2+8*i]]*=118,e[t[6+8*i]]*=49,e[t[5+8*i]]*=71,e[t[1+8*i]]*=126,e[t[7+8*i]]*=25,e[t[3+8*i]]*=106}for(i=0;64>i;i+=1){e[i]>>=6}},n.lossless.QuantizationTable.prototype.read=function(e,t){var i,r,o,a,s=0;for(i=e.get16(),s+=2;s<i;){if(s+=1,3<(o=15&(r=e.get8())))throw new Error("ERROR: Quantization table ID > 3");if(this.precision[o]=r>>4,0===this.precision[o])this.precision[o]=8;else{if(1!==this.precision[o])throw new Error("ERROR: Quantization table precision error");this.precision[o]=16}if(this.tq[o]=1,8===this.precision[o]){for(a=0;64>a;a+=1){if(s>i)throw new Error("ERROR: Quantization table format error");this.quantTables[o][a]=e.get8(),s+=1}n.lossless.QuantizationTable.enhanceQuantizationTable(this.quantTables[o],t)}else{for(a=0;64>a;a+=1){if(s>i)throw new Error("ERROR: Quantization table format error");this.quantTables[o][a]=e.get16(),s+=2}n.lossless.QuantizationTable.enhanceQuantizationTable(this.quantTables[o],t)}}if(s!==i)throw new Error("ERROR: Quantization table error [count!=Lq]");return 1},"undefined"!==typeof e&&e.exports&&(e.exports=n.lossless.QuantizationTable)},function(e,t,i){"use strict";var n=n||{};n.lossless=n.lossless||{},n.lossless.DataStream=n.lossless.DataStream||i(11),n.lossless.ScanComponent=n.lossless.ScanComponent||i(94),n.lossless.ScanHeader=n.lossless.ScanHeader||function(){this.ah=0,this.al=0,this.numComp=0,this.selection=0,this.spectralEnd=0,this.components=[]},n.lossless.ScanHeader.prototype.read=function(e){var t,i,r,o=0;for(t=e.get16(),o+=2,this.numComp=e.get8(),o+=1,i=0;i<this.numComp;i+=1){if(this.components[i]=new n.lossless.ScanComponent,o>t)throw new Error("ERROR: scan header format error");this.components[i].scanCompSel=e.get8(),o+=1,r=e.get8(),o+=1,this.components[i].dcTabSel=r>>4,this.components[i].acTabSel=15&r}if(this.selection=e.get8(),o+=1,this.spectralEnd=e.get8(),o+=1,r=e.get8(),this.ah=r>>4,this.al=15&r,(o+=1)!==t)throw new Error("ERROR: scan header format error [count!=Ns]");return 1},"undefined"!==typeof e&&e.exports&&(e.exports=n.lossless.ScanHeader)},function(e,t,i){"use strict";var n=n||{};n.lossless=n.lossless||{},n.lossless.ScanComponent=n.lossless.ScanComponent||function(){this.acTabSel=0,this.dcTabSel=0,this.scanCompSel=0},"undefined"!==typeof e&&e.exports&&(e.exports=n.lossless.ScanComponent)},function(e,t,i){"use strict";var n=n||{};n.lossless=n.lossless||{},n.lossless.ComponentSpec=n.lossless.ComponentSpec||i(90),n.lossless.DataStream=n.lossless.DataStream||i(11),n.lossless.FrameHeader=n.lossless.FrameHeader||function(){this.components=[],this.dimX=0,this.dimY=0,this.numComp=0,this.precision=0},n.lossless.FrameHeader.prototype.read=function(e){var t,i,r,o,a=0;for(t=e.get16(),a+=2,this.precision=e.get8(),a+=1,this.dimY=e.get16(),a+=2,this.dimX=e.get16(),a+=2,this.numComp=e.get8(),a+=1,i=1;i<=this.numComp;i+=1){if(a>t)throw new Error("ERROR: frame format error");if(r=e.get8(),(a+=1)>=t)throw new Error("ERROR: frame format error [c>=Lf]");o=e.get8(),a+=1,this.components[r]||(this.components[r]=new n.lossless.ComponentSpec),this.components[r].hSamp=o>>4,this.components[r].vSamp=15&o,this.components[r].quantTableSel=e.get8(),a+=1}if(a!==t)throw new Error("ERROR: frame format error [Lf!=count]");return 1},"undefined"!==typeof e&&e.exports&&(e.exports=n.lossless.FrameHeader)},function(e,t,i){"use strict";var n=i(112),r=function(){function e(e,t){for(var i=0,n;i<t.length;i++){n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"Freesurfer";!function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,e),this._presetID=t,this._presets=this.presetSegs()}return e.prototype.fetchPreset=function(e){return this._presets[e]},e.prototype.addPreset=function(e){this._presets.push(e)},e.prototype.presetsAvailable=function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0];var e=[],t=this._presets;for(var i in t){e.push(i)}return e},e.prototype.presetSegs=function(){return{Freesurfer:n.a}},r(e,[{key:"preset",set:function set(e){this._presetID=e},get:function get(){return this.fetchPreset(this._presetID)}}]),e}();t.a=o},function(e,t,i){"use strict";var n=i(113),r=function(){function e(){!function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.uniforms=function(){return{uTextureBackTest0:{type:"t",value:[],typeGLSL:"sampler2D"},uTextureBackTest1:{type:"t",value:[],typeGLSL:"sampler2D"},uOpacity0:{type:"f",value:1,typeGLSL:"float"},uOpacity1:{type:"f",value:1,typeGLSL:"float"},uType0:{type:"i",value:0,typeGLSL:"int"},uType1:{type:"i",value:1,typeGLSL:"int"},uTrackMouse:{type:"i",value:0,typeGLSL:"int"},uMouse:{type:"v2",value:new n.a,typeGLSL:"vec2"}}},e}();t.a=r},function(e,t,i){"use strict";var n=function(){function e(t){!function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,e),this._uniforms=t,this._functions={},this._main=""}return e.prototype.functions=function(){""===this._main&&this.main();var e="";for(var t in this._functions){e+=this._functions[t]+"\n"}return e},e.prototype.uniforms=function(){var e="";for(var t in this._uniforms){var i=this._uniforms[t];e+="uniform "+i.typeGLSL+" "+t,i&&i.length&&(e+="["+i.length+"]"),e+=";\n"}return e},e.prototype.main=function(){this._main="\nvoid main(void) {\n\n  vec2 texc = vec2(((vProjectedCoords.x / vProjectedCoords.w) + 1.0 ) / 2.0,\n                ((vProjectedCoords.y / vProjectedCoords.w) + 1.0 ) / 2.0 );\n\n  // just silence warning for\n  // vec4 dummy = vPos;\n\n  //The back position is the world space position stored in the texture.\n  vec4 baseColor0 = texture2D(uTextureBackTest0, texc);\n  vec4 baseColor1 = texture2D(uTextureBackTest1, texc);\n\n  if( uTrackMouse == 1 ){\n\n      if( vProjectedCoords.x < uMouse.x ){\n\n        gl_FragColor = baseColor0;\n\n      }\n      else{\n\n        gl_FragColor = mix( baseColor0, baseColor1, uOpacity1 );\n\n      }\n\n  }\n  else{\n\n    if( uType1 == 0 ){\n\n      //merge an image into\n      gl_FragColor = mix( baseColor0, baseColor1, uOpacity1 );\n\n    }\n    else{\n\n      float opacity = baseColor1.a;\n      gl_FragColor = mix( baseColor0, baseColor1, opacity * uOpacity1 );\n\n    }\n\n  }\n\n  return;\n}\n   "},e.prototype.compute=function(){return"\n// uniforms\n"+this.uniforms()+"\n\n// varying (should fetch it from vertex directly)\n// varying vec4      vPos;\nvarying vec4      vProjectedCoords;\n\n// tailored functions\n"+this.functions()+"\n\n// main loop\n"+this._main+"\n      "},e}();t.a=n},function(e,t,i){"use strict";var n=function(){function e(){!function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.prototype.compute=function(){return"\n// varying vec4 vPos;\nvarying vec4 vProjectedCoords;\n\n//\n// main\n//\nvoid main() {\n\n  vec4 vPos = modelMatrix * vec4(position, 1.0 );\n  vProjectedCoords =  projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0 );\n\n}\n        "},e}();t.a=n},function(e,t,i){"use strict";i.d(t,"a",function(){return o});var n=i(24),r=i(0);function o(e,t){this.center=void 0!==e?e:new r.a,this.radius=void 0!==t?t:0}Object.assign(o.prototype,{set:function set(e,t){return this.center.copy(e),this.radius=t,this},setFromPoints:function(){var e=new n.a;return function(t,i){var n=this.center;void 0!==i?n.copy(i):e.setFromPoints(t).getCenter(n);for(var r=0,o=0,a=t.length;o<a;o++){r=_Mathmax(r,n.distanceToSquared(t[o]))}return this.radius=_Mathsqrt(r),this}}(),clone:function clone(){return new this.constructor().copy(this)},copy:function copy(e){return this.center.copy(e.center),this.radius=e.radius,this},empty:function empty(){return 0>=this.radius},containsPoint:function containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function distanceToPoint(e){return e.distanceTo(this.center)-this.radius},intersectsSphere:function intersectsSphere(e){var t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t},intersectsBox:function intersectsBox(e){return e.intersectsSphere(this)},intersectsPlane:function intersectsPlane(e){return _Mathabs(e.distanceToPoint(this.center))<=this.radius},clampPoint:function clampPoint(e,t){var i=this.center.distanceToSquared(e);return void 0===t&&(console.warn("THREE.Sphere: .clampPoint() target is now required"),t=new r.a),t.copy(e),i>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t},getBoundingBox:function getBoundingBox(e){return void 0===e&&(console.warn("THREE.Sphere: .getBoundingBox() target is now required"),e=new n.a),e.set(this.center,this.center),e.expandByScalar(this.radius),e},applyMatrix4:function applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this},translate:function translate(e){return this.center.add(e),this},equals:function equals(e){return e.center.equals(this.center)&&e.radius===this.radius}})},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(102);function r(e,t,i,r){this.ray=new n.a(e,t),this.near=i||0,this.far=r||1/0,this.params={Mesh:{},Line:{},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function get(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})}function o(e,t){return e.distance-t.distance}function a(e,t,i,n){if(!1!==e.visible&&(e.raycast(t,i),!0===n))for(var r=e.children,o=0,s=r.length;o<s;o++){a(r[o],t,i,!0)}}Object.assign(r.prototype,{linePrecision:1,set:function set(e,t){this.ray.set(e,t)},setFromCamera:function setFromCamera(e,t){t&&t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize()):t&&t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld)):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function intersectObject(e,t,i){var n=i||[];return a(e,this,n,t),n.sort(o),n},intersectObjects:function intersectObjects(e,t,i){var n=i||[];if(!1===Array.isArray(e))return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),n;for(var r=0,s=e.length;r<s;r++){a(e[r],this,n,t)}return n.sort(o),n}})},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(0);function r(e,t){this.origin=void 0!==e?e:new n.a,this.direction=void 0!==t?t:new n.a}Object.assign(r.prototype,{set:function set(e,t){return this.origin.copy(e),this.direction.copy(t),this},clone:function clone(){return new this.constructor().copy(this)},copy:function copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this},at:function at(e,t){return void 0===t&&(console.warn("THREE.Ray: .at() target is now required"),t=new n.a),t.copy(this.direction).multiplyScalar(e).add(this.origin)},lookAt:function lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this},recast:function(){var e=new n.a;return function(t){return this.origin.copy(this.at(t,e)),this}}(),closestPointToPoint:function closestPointToPoint(e,t){void 0===t&&(console.warn("THREE.Ray: .closestPointToPoint() target is now required"),t=new n.a),t.subVectors(e,this.origin);var i=t.dot(this.direction);return 0>i?t.copy(this.origin):t.copy(this.direction).multiplyScalar(i).add(this.origin)},distanceToPoint:function distanceToPoint(e){return _Mathsqrt(this.distanceSqToPoint(e))},distanceSqToPoint:function(){var e=new n.a;return function(t){var i=e.subVectors(t,this.origin).dot(this.direction);return 0>i?this.origin.distanceToSquared(t):(e.copy(this.direction).multiplyScalar(i).add(this.origin),e.distanceToSquared(t))}}(),distanceSqToSegment:function(){var e=new n.a,t=new n.a,i=new n.a;return function(n,r,o,a){e.copy(n).add(r).multiplyScalar(.5),t.copy(r).sub(n).normalize(),i.copy(this.origin).sub(e);var s,l,c,h,u=.5*n.distanceTo(r),f=-this.direction.dot(t),d=i.dot(this.direction),p=-i.dot(t),_=i.lengthSq(),m=_Mathabs(1-f*f);if(0<m){if(l=f*d-p,h=u*m,0<=(s=f*p-d)){if(l>=-h){if(l<=h){var b=1/m;c=(s*=b)*(s+f*(l*=b)+2*d)+l*(f*s+l+2*p)+_}else l=u,c=-(s=_Mathmax(0,-(f*l+d)))*s+l*(l+2*p)+_;}else l=-u,c=-(s=_Mathmax(0,-(f*l+d)))*s+l*(l+2*p)+_;}else l<=-h?c=-(s=_Mathmax(0,-(-f*u+d)))*s+(l=0<s?-u:_Mathmin(_Mathmax(-u,-p),u))*(l+2*p)+_:l<=h?(s=0,c=(l=_Mathmin(_Mathmax(-u,-p),u))*(l+2*p)+_):c=-(s=_Mathmax(0,-(f*u+d)))*s+(l=0<s?u:_Mathmin(_Mathmax(-u,-p),u))*(l+2*p)+_;}else l=0<f?-u:u,c=-(s=_Mathmax(0,-(f*l+d)))*s+l*(l+2*p)+_;return o&&o.copy(this.direction).multiplyScalar(s).add(this.origin),a&&a.copy(t).multiplyScalar(l).add(e),c}}(),intersectSphere:function(){var e=new n.a;return function(t,i){e.subVectors(t.center,this.origin);var n=e.dot(this.direction),r=e.dot(e)-n*n,o=t.radius*t.radius;if(r>o)return null;var a=_Mathsqrt(o-r),s=n-a,l=n+a;return 0>s&&0>l?null:0>s?this.at(l,i):this.at(s,i)}}(),intersectsSphere:function intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius},distanceToPlane:function distanceToPlane(e){var t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;var i=-(this.origin.dot(e.normal)+e.constant)/t;return 0<=i?i:null},intersectPlane:function intersectPlane(e,t){var i=this.distanceToPlane(e);return null===i?null:this.at(i,t)},intersectsPlane:function intersectsPlane(e){var t=e.distanceToPoint(this.origin);return 0===t||0>e.normal.dot(this.direction)*t},intersectBox:function intersectBox(e,t){var i,n,r,o,a,s,l=1/this.direction.x,c=1/this.direction.y,h=1/this.direction.z,u=this.origin;return 0<=l?(i=(e.min.x-u.x)*l,n=(e.max.x-u.x)*l):(i=(e.max.x-u.x)*l,n=(e.min.x-u.x)*l),0<=c?(r=(e.min.y-u.y)*c,o=(e.max.y-u.y)*c):(r=(e.max.y-u.y)*c,o=(e.min.y-u.y)*c),i>o||r>n?null:((r>i||i!=i)&&(i=r),(o<n||n!=n)&&(n=o),0<=h?(a=(e.min.z-u.z)*h,s=(e.max.z-u.z)*h):(a=(e.max.z-u.z)*h,s=(e.min.z-u.z)*h),i>s||a>n?null:((a>i||i!=i)&&(i=a),(s<n||n!=n)&&(n=s),0>n?null:this.at(0<=i?i:n,t)))},intersectsBox:function(){var e=new n.a;return function(t){return null!==this.intersectBox(t,e)}}(),intersectTriangle:function(){var e=new n.a,t=new n.a,i=new n.a,r=new n.a;return function(n,o,a,s,l){t.subVectors(o,n),i.subVectors(a,n),r.crossVectors(t,i);var c,h=this.direction.dot(r);if(0<h){if(s)return null;c=1}else{if(!(0>h))return null;c=-1,h=-h}e.subVectors(this.origin,n);var u=c*this.direction.dot(i.crossVectors(e,i));if(0>u)return null;var f=c*this.direction.dot(t.cross(e));if(0>f)return null;if(u+f>h)return null;var d=-c*e.dot(r);return 0>d?null:this.at(d/h,l)}}(),applyMatrix4:function applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this},equals:function equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}})},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(0);function r(e,t,i){this.a=void 0!==e?e:new n.a,this.b=void 0!==t?t:new n.a,this.c=void 0!==i?i:new n.a}Object.assign(r,{getNormal:function(){var e=new n.a;return function(t,i,r,o){void 0===o&&(console.warn("THREE.Triangle: .getNormal() target is now required"),o=new n.a),o.subVectors(r,i),e.subVectors(t,i),o.cross(e);var a=o.lengthSq();return 0<a?o.multiplyScalar(1/_Mathsqrt(a)):o.set(0,0,0)}}(),getBarycoord:function(){var e=new n.a,t=new n.a,i=new n.a;return function(r,o,a,s,l){e.subVectors(s,o),t.subVectors(a,o),i.subVectors(r,o);var c=e.dot(e),h=e.dot(t),u=e.dot(i),f=t.dot(t),d=t.dot(i),p=c*f-h*h;if(void 0===l&&(console.warn("THREE.Triangle: .getBarycoord() target is now required"),l=new n.a),0===p)return l.set(-2,-1,-1);var _=1/p,m=(f*u-h*d)*_,b=(c*d-h*u)*_;return l.set(1-m-b,b,m)}}(),containsPoint:function(){var e=new n.a;return function(t,i,n,o){return r.getBarycoord(t,i,n,o,e),0<=e.x&&0<=e.y&&1>=e.x+e.y}}(),getUV:function(){var e=new n.a;return function(t,i,n,r,o,a,s,l){return this.getBarycoord(t,i,n,r,e),l.set(0,0),l.addScaledVector(o,e.x),l.addScaledVector(a,e.y),l.addScaledVector(s,e.z),l}}()}),Object.assign(r.prototype,{set:function set(e,t,i){return this.a.copy(e),this.b.copy(t),this.c.copy(i),this},setFromPointsAndIndices:function setFromPointsAndIndices(e,t,i,n){return this.a.copy(e[t]),this.b.copy(e[i]),this.c.copy(e[n]),this},clone:function clone(){return new this.constructor().copy(this)},copy:function copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this},getArea:function(){var e=new n.a,t=new n.a;return function(){return e.subVectors(this.c,this.b),t.subVectors(this.a,this.b),.5*e.cross(t).length()}}(),getMidpoint:function getMidpoint(e){return void 0===e&&(console.warn("THREE.Triangle: .getMidpoint() target is now required"),e=new n.a),e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},getNormal:function getNormal(e){return r.getNormal(this.a,this.b,this.c,e)},getPlane:function getPlane(e){return void 0===e&&(console.warn("THREE.Triangle: .getPlane() target is now required"),e=new n.a),e.setFromCoplanarPoints(this.a,this.b,this.c)},getBarycoord:function getBarycoord(e,t){return r.getBarycoord(e,this.a,this.b,this.c,t)},containsPoint:function containsPoint(e){return r.containsPoint(e,this.a,this.b,this.c)},getUV:function getUV(e,t,i,n,o){return r.getUV(e,this.a,this.b,this.c,t,i,n,o)},intersectsBox:function intersectsBox(e){return e.intersectsTriangle(this)},closestPointToPoint:function(){var e=new n.a,t=new n.a,i=new n.a,r=new n.a,o=new n.a,a=new n.a;return function(s,l){void 0===l&&(console.warn("THREE.Triangle: .closestPointToPoint() target is now required"),l=new n.a);var c,h,u=this.a,f=this.b,d=this.c;e.subVectors(f,u),t.subVectors(d,u),r.subVectors(s,u);var p=e.dot(r),_=t.dot(r);if(0>=p&&0>=_)return l.copy(u);o.subVectors(s,f);var m=e.dot(o),b=t.dot(o);if(0<=m&&b<=m)return l.copy(f);var y=p*b-m*_;if(0>=y&&0<=p&&0>=m)return c=p/(p-m),l.copy(u).addScaledVector(e,c);a.subVectors(s,d);var g=e.dot(a),v=t.dot(a);if(0<=v&&g<=v)return l.copy(d);var A=g*_-p*v;if(0>=A&&0<=_&&0>=v)return h=_/(_-v),l.copy(u).addScaledVector(t,h);var w=m*v-g*b;if(0>=w&&0<=b-m&&0<=g-v)return i.subVectors(d,f),h=(b-m)/(b-m+(g-v)),l.copy(f).addScaledVector(i,h);var x=1/(w+A+y);return c=A*x,h=y*x,l.copy(u).addScaledVector(e,c).addScaledVector(t,h)}}(),equals:function equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}})},function(e,t,i){"use strict";var n=function(e){function t(){!function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=babelHelpers.typeof(t)&&"function"!=typeof t?e:t}(this,e.call(this));return i.name="texture3d",i._dataCoordinates="dataCoordinates",i._dataValue="dataValue",i._offset="offset",i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+babelHelpers.typeof(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.api=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this._base,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this._dataCoordinates,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:this._dataValue,n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:this._offset;return this._base=e,this.compute(t,i,n)},t.prototype.compute=function(e,t,i){return this.computeDefinition(),this._base._functions[this._name]=this._definition,this._name+"("+e+", "+t+", "+i+");"},t.prototype.computeDefinition=function(){var e="\n      step( abs( textureIndexF - 0.0 ), 0.0 ) * texture2D(uTextureContainer[0], uv) +\n      step( abs( textureIndexF - 1.0 ), 0.0 ) * texture2D(uTextureContainer[1], uv) +\n      step( abs( textureIndexF - 2.0 ), 0.0 ) * texture2D(uTextureContainer[2], uv) +\n      step( abs( textureIndexF - 3.0 ), 0.0 ) * texture2D(uTextureContainer[3], uv) +\n      step( abs( textureIndexF - 4.0 ), 0.0 ) * texture2D(uTextureContainer[4], uv) +\n      step( abs( textureIndexF - 5.0 ), 0.0 ) * texture2D(uTextureContainer[5], uv) +\n      step( abs( textureIndexF - 6.0 ), 0.0 ) * texture2D(uTextureContainer[6], uv)";14===this._base._uniforms.uTextureContainer.length&&(e+=" +\n      step( abs( textureIndexF - 7.0 ), 0.0 ) * texture2D(uTextureContainer[7], uv) +\n      step( abs( textureIndexF - 8.0 ), 0.0 ) * texture2D(uTextureContainer[8], uv) +\n      step( abs( textureIndexF - 9.0 ), 0.0 ) * texture2D(uTextureContainer[9], uv) +\n      step( abs( textureIndexF - 10.0 ), 0.0 ) * texture2D(uTextureContainer[10], uv) +\n      step( abs( textureIndexF - 11.0 ), 0.0 ) * texture2D(uTextureContainer[11], uv) +\n      step( abs( textureIndexF - 12.0 ), 0.0 ) * texture2D(uTextureContainer[12], uv) +\n      step( abs( textureIndexF - 13.0 ), 0.0 ) * texture2D(uTextureContainer[13], uv)"),this._definition="\nvoid "+this._name+"(in ivec3 dataCoordinates, out vec4 dataValue, out int offset){\n  float textureSizeF = float(uTextureSize);\n  int voxelsPerTexture = uTextureSize*uTextureSize;\n\n  int index = dataCoordinates.x\n            + dataCoordinates.y * uDataDimensions.x\n            + dataCoordinates.z * uDataDimensions.y * uDataDimensions.x;\n  \n  // dividing an integer by an integer will give you an integer result, rounded down\n  // can not get float numbers to work :(\n  int packedIndex = index/uPackedPerPixel;\n  offset = index - uPackedPerPixel*packedIndex;\n\n  // Map data index to right sampler2D texture\n  int textureIndex = packedIndex/voxelsPerTexture;\n  int inTextureIndex = packedIndex - voxelsPerTexture*textureIndex;\n\n  // Get row and column in the texture\n  int rowIndex = inTextureIndex/uTextureSize;\n  float rowIndexF = float(rowIndex);\n  float colIndex = float(inTextureIndex - uTextureSize * rowIndex);\n\n  // Map row and column to uv\n  vec2 uv = vec2(0,0);\n  uv.x = (0.5 + colIndex) / textureSizeF;\n  uv.y = 1. - (0.5 + rowIndexF) / textureSizeF;\n\n  float textureIndexF = float(textureIndex);\n  dataValue = vec4(0.) + "+e+";\n}\n    "},t}(i(8).a);t.a=new n},function(e,t,i){"use strict";var n=function(e){function t(){!function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=babelHelpers.typeof(t)&&"function"!=typeof t?e:t}(this,e.call(this));return i.name="unpack",i._packedData="packedData",i._offset="offset",i._unpackedData="unpackedData",i._base._uniforms={uNumberOfChannels:{value:1},uBitsAllocated:{value:16},uPixelType:{value:0}},i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+babelHelpers.typeof(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.api=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this._base,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this._packedData,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:this._offset,n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:this._unpackedData;return this._base=e,this.compute(t,i,n)},t.prototype.compute=function(e,t,i){return this.computeDefinition(),this._base._functions[this._name]=this._definition,this._name+"("+e+", "+t+", "+i+");"},t.prototype.computeDefinition=function(){var e="";if(1===this._base._uniforms.uNumberOfChannels.value)switch(this._base._uniforms.uBitsAllocated.value){case 1:case 8:e=this.upack8();break;case 16:e=this.upack16();break;case 32:e=this.upack32();break;default:e=this.upackIdentity();}else e=this.upackIdentity();this._definition="\nvoid "+this._name+"(in vec4 packedData, in int offset, out vec4 unpackedData){\n\n"+e+"\n\n}  \n    "},t.prototype.upack8=function(){return this._base._functions.uInt8=this.uInt8(),"\nfloat floatedOffset = float(offset);\nfloat floatedOffsetSquared = floatedOffset * floatedOffset;\nuInt8(\n  step( floatedOffsetSquared , 0.0 ) * packedData.r +\n  step( floatedOffsetSquared - 2. * floatedOffset + 1., 0.0 ) * packedData.g +\n  step( floatedOffsetSquared - 2. * 2. *  floatedOffset + 4., 0.0 ) * packedData.b +\n  step( floatedOffsetSquared - 2. * 3. *  floatedOffset + 9., 0.0 ) * packedData.a\n  ,\n  unpackedData.x);\n    "},t.prototype.upack16=function(){return this._base._functions.uInt16=this.uInt16(),"\nfloat floatedOffset = float(offset);\nuInt16(\n  packedData.r * (1. - floatedOffset) + packedData.b * floatedOffset,\n  packedData.g * (1. - floatedOffset) + packedData.a * floatedOffset,\n  unpackedData.x);\n    "},t.prototype.upack32=function(){return 0===this._base._uniforms.uPixelType.value?(this._base._functions.uInt32=this.uInt32(),"\nuInt32(\n  packedData.r,\n  packedData.g,\n  packedData.b,\n  packedData.a,\n  unpackedData.x);\n      "):(this._base._functions.uFloat32=this.uFloat32(),"\nuFloat32(\n  packedData.r,\n  packedData.g,\n  packedData.b,\n  packedData.a,\n  unpackedData.x);\n      ")},t.prototype.upackIdentity=function(){return"\nunpackedData = packedData;\n      "},t.prototype.uInt8=function(){return"\nvoid uInt8(in float r, out float value){\n  value = r * 255.;\n}\n    "},t.prototype.uInt16=function(){return"\nvoid uInt16(in float r, in float a, out float value){\n  value = r * 255. + a * 255. * 256.;\n}\n    "},t.prototype.uInt32=function(){return"\nvoid uInt32(in float r, in float g, in float b, in float a, out float value){\n  value = r * 255. + g * 255. * 256. + b * 255. * 256. * 256. + a * 255. * 256. * 256. * 256.;\n  // value = r * 255. + g * 65025. + b * 16581375. + a * 4228250625.;\n}\n    "},t.prototype.uFloat32=function(){return"\nvoid uFloat32(in float r, in float g, in float b, in float a, out float value){\n\n  // create arrays containing bits for rgba values\n  // value between 0 and 255\n  value = r * 255.;\n  int bytemeR[8];\n  bytemeR[0] = int(floor(value / 128.));\n  value -= float(bytemeR[0] * 128);\n  bytemeR[1] = int(floor(value / 64.));\n  value -= float(bytemeR[1] * 64);\n  bytemeR[2] = int(floor(value / 32.));\n  value -= float(bytemeR[2] * 32);\n  bytemeR[3] = int(floor(value / 16.));\n  value -= float(bytemeR[3] * 16);\n  bytemeR[4] = int(floor(value / 8.));\n  value -= float(bytemeR[4] * 8);\n  bytemeR[5] = int(floor(value / 4.));\n  value -= float(bytemeR[5] * 4);\n  bytemeR[6] = int(floor(value / 2.));\n  value -= float(bytemeR[6] * 2);\n  bytemeR[7] = int(floor(value));\n\n  value = g * 255.;\n  int bytemeG[8];\n  bytemeG[0] = int(floor(value / 128.));\n  value -= float(bytemeG[0] * 128);\n  bytemeG[1] = int(floor(value / 64.));\n  value -= float(bytemeG[1] * 64);\n  bytemeG[2] = int(floor(value / 32.));\n  value -= float(bytemeG[2] * 32);\n  bytemeG[3] = int(floor(value / 16.));\n  value -= float(bytemeG[3] * 16);\n  bytemeG[4] = int(floor(value / 8.));\n  value -= float(bytemeG[4] * 8);\n  bytemeG[5] = int(floor(value / 4.));\n  value -= float(bytemeG[5] * 4);\n  bytemeG[6] = int(floor(value / 2.));\n  value -= float(bytemeG[6] * 2);\n  bytemeG[7] = int(floor(value));\n\n  value = b * 255.;\n  int bytemeB[8];\n  bytemeB[0] = int(floor(value / 128.));\n  value -= float(bytemeB[0] * 128);\n  bytemeB[1] = int(floor(value / 64.));\n  value -= float(bytemeB[1] * 64);\n  bytemeB[2] = int(floor(value / 32.));\n  value -= float(bytemeB[2] * 32);\n  bytemeB[3] = int(floor(value / 16.));\n  value -= float(bytemeB[3] * 16);\n  bytemeB[4] = int(floor(value / 8.));\n  value -= float(bytemeB[4] * 8);\n  bytemeB[5] = int(floor(value / 4.));\n  value -= float(bytemeB[5] * 4);\n  bytemeB[6] = int(floor(value / 2.));\n  value -= float(bytemeB[6] * 2);\n  bytemeB[7] = int(floor(value));\n\n  value = a * 255.;\n  int bytemeA[8];\n  bytemeA[0] = int(floor(value / 128.));\n  value -= float(bytemeA[0] * 128);\n  bytemeA[1] = int(floor(value / 64.));\n  value -= float(bytemeA[1] * 64);\n  bytemeA[2] = int(floor(value / 32.));\n  value -= float(bytemeA[2] * 32);\n  bytemeA[3] = int(floor(value / 16.));\n  value -= float(bytemeA[3] * 16);\n  bytemeA[4] = int(floor(value / 8.));\n  value -= float(bytemeA[4] * 8);\n  bytemeA[5] = int(floor(value / 4.));\n  value -= float(bytemeA[5] * 4);\n  bytemeA[6] = int(floor(value / 2.));\n  value -= float(bytemeA[6] * 2);\n  bytemeA[7] = int(floor(value));\n\n  // compute float32 value from bit arrays\n\n  // sign\n  int issigned = 1 - 2 * bytemeR[0];\n  //   issigned = int(pow(-1., float(bytemeR[0])));\n\n  // exponent\n  int exponent = 0;\n\n  exponent += bytemeR[1] * int(pow(2., 7.));\n  exponent += bytemeR[2] * int(pow(2., 6.));\n  exponent += bytemeR[3] * int(pow(2., 5.));\n  exponent += bytemeR[4] * int(pow(2., 4.));\n  exponent += bytemeR[5] * int(pow(2., 3.));\n  exponent += bytemeR[6] * int(pow(2., 2.));\n  exponent += bytemeR[7] * int(pow(2., 1.));\n\n  exponent += bytemeG[0];\n\n\n  // fraction\n  float fraction = 0.;\n\n  fraction = float(bytemeG[1]) * pow(2., -1.);\n  fraction += float(bytemeG[2]) * pow(2., -2.);\n  fraction += float(bytemeG[3]) * pow(2., -3.);\n  fraction += float(bytemeG[4]) * pow(2., -4.);\n  fraction += float(bytemeG[5]) * pow(2., -5.);\n  fraction += float(bytemeG[6]) * pow(2., -6.);\n  fraction += float(bytemeG[7]) * pow(2., -7.);\n\n  fraction += float(bytemeB[0]) * pow(2., -8.);\n  fraction += float(bytemeB[1]) * pow(2., -9.);\n  fraction += float(bytemeB[2]) * pow(2., -10.);\n  fraction += float(bytemeB[3]) * pow(2., -11.);\n  fraction += float(bytemeB[4]) * pow(2., -12.);\n  fraction += float(bytemeB[5]) * pow(2., -13.);\n  fraction += float(bytemeB[6]) * pow(2., -14.);\n  fraction += float(bytemeB[7]) * pow(2., -15.);\n\n  fraction += float(bytemeA[0]) * pow(2., -16.);\n  fraction += float(bytemeA[1]) * pow(2., -17.);\n  fraction += float(bytemeA[2]) * pow(2., -18.);\n  fraction += float(bytemeA[3]) * pow(2., -19.);\n  fraction += float(bytemeA[4]) * pow(2., -20.);\n  fraction += float(bytemeA[5]) * pow(2., -21.);\n  fraction += float(bytemeA[6]) * pow(2., -22.);\n  fraction += float(bytemeA[7]) * pow(2., -23.);\n\n  value = float(issigned) * pow( 2., float(exponent - 127)) * (1. + fraction);\n}\n    "},t}(i(8).a);t.a=new n},function(e,t,i){"use strict";var n=i(8),r=i(6),o=function(e){function t(){!function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=babelHelpers.typeof(t)&&"function"!=typeof t?e:t}(this,e.call(this));return i.name="interpolationTrilinear",i._currentVoxel="currentVoxel",i._dataValue="dataValue",i._gradient="gradient",i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+babelHelpers.typeof(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.api=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this._base,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this._currentVoxel,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:this._dataValue,n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:this._gradient;return this._base=e,this.compute(t,i,n)},t.prototype.compute=function(e,t,i){return this.computeDefinition(),this._base._functions[this._name]=this._definition,this._name+"("+e+", "+t+", "+i+");"},t.prototype.computeDefinition=function(){this._definition="\nvoid trilinearInterpolation(\n  in vec3 normalizedPosition,\n  out vec4 interpolatedValue,\n  in vec4 v000, in vec4 v100,\n  in vec4 v001, in vec4 v101,\n  in vec4 v010, in vec4 v110,\n  in vec4 v011, in vec4 v111) {\n  // https://en.wikipedia.org/wiki/Trilinear_interpolation\n  vec4 c00 = v000 * ( 1.0 - normalizedPosition.x ) + v100 * normalizedPosition.x;\n  vec4 c01 = v001 * ( 1.0 - normalizedPosition.x ) + v101 * normalizedPosition.x;\n  vec4 c10 = v010 * ( 1.0 - normalizedPosition.x ) + v110 * normalizedPosition.x;\n  vec4 c11 = v011 * ( 1.0 - normalizedPosition.x ) + v111 * normalizedPosition.x;\n\n  // c0 and c1\n  vec4 c0 = c00 * ( 1.0 - normalizedPosition.y) + c10 * normalizedPosition.y;\n  vec4 c1 = c01 * ( 1.0 - normalizedPosition.y) + c11 * normalizedPosition.y;\n\n  // c\n  vec4 c = c0 * ( 1.0 - normalizedPosition.z) + c1 * normalizedPosition.z;\n  interpolatedValue = c;\n}\n\nvoid "+this._name+"(in vec3 currentVoxel, out vec4 dataValue, out vec3 gradient){\n\n  vec3 lower_bound = floor(currentVoxel);\n  lower_bound = max(vec3(0.), lower_bound);\n  \n  vec3 higher_bound = lower_bound + vec3(1.);\n\n  vec3 normalizedPosition = (currentVoxel - lower_bound);\n  normalizedPosition =  max(vec3(0.), normalizedPosition);\n\n  vec4 interpolatedValue = vec4(0.);\n\n  //\n  // fetch values required for interpolation\n  //\n  vec4 v000 = vec4(0.0, 0.0, 0.0, 0.0);\n  vec3 c000 = vec3(lower_bound.x, lower_bound.y, lower_bound.z);\n  "+r.a.api(this._base,"c000","v000")+"\n\n  //\n  vec4 v100 = vec4(0.0, 0.0, 0.0, 0.0);\n  vec3 c100 = vec3(higher_bound.x, lower_bound.y, lower_bound.z);\n  "+r.a.api(this._base,"c100","v100")+"\n\n  //\n  vec4 v001 = vec4(0.0, 0.0, 0.0, 0.0);\n  vec3 c001 = vec3(lower_bound.x, lower_bound.y, higher_bound.z);\n  "+r.a.api(this._base,"c001","v001")+"\n\n  //\n  vec4 v101 = vec4(0.0, 0.0, 0.0, 0.0);\n  vec3 c101 = vec3(higher_bound.x, lower_bound.y, higher_bound.z);\n  "+r.a.api(this._base,"c101","v101")+"\n  \n  //\n  vec4 v010 = vec4(0.0, 0.0, 0.0, 0.0);\n  vec3 c010 = vec3(lower_bound.x, higher_bound.y, lower_bound.z);\n  "+r.a.api(this._base,"c010","v010")+"\n\n  vec4 v110 = vec4(0.0, 0.0, 0.0, 0.0);\n  vec3 c110 = vec3(higher_bound.x, higher_bound.y, lower_bound.z);\n  "+r.a.api(this._base,"c110","v110")+"\n\n  //\n  vec4 v011 = vec4(0.0, 0.0, 0.0, 0.0);\n  vec3 c011 = vec3(lower_bound.x, higher_bound.y, higher_bound.z);\n  "+r.a.api(this._base,"c011","v011")+"\n\n  vec4 v111 = vec4(0.0, 0.0, 0.0, 0.0);\n  vec3 c111 = vec3(higher_bound.x, higher_bound.y, higher_bound.z);\n  "+r.a.api(this._base,"c111","v111")+"\n\n  // compute interpolation at position\n  trilinearInterpolation(normalizedPosition, interpolatedValue ,v000, v100, v001, v101, v010,v110, v011,v111);\n  dataValue = interpolatedValue;\n\n  // That breaks shading in volume rendering\n  // if (gradient.x == 1.) { // skip gradient calculation for slice helper\n  //  return;\n  // }\n\n  // compute gradient\n  float gradientStep = 0.005;\n\n  // x axis\n  vec3 g100 = vec3(1., 0., 0.);\n  vec3 ng100 = normalizedPosition + g100 * gradientStep;\n  ng100.x = min(1., ng100.x);\n\n  vec4 vg100 = vec4(0.);\n  trilinearInterpolation(ng100, vg100 ,v000, v100, v001, v101, v010,v110, v011,v111);\n\n  vec3 go100 = -g100;\n  vec3 ngo100 = normalizedPosition + go100 * gradientStep;\n  ngo100.x = max(0., ngo100.x);\n\n  vec4 vgo100 = vec4(0.);\n  trilinearInterpolation(ngo100, vgo100 ,v000, v100, v001, v101, v010,v110, v011,v111);\n\n  gradient.x = (g100.x * vg100.x + go100.x * vgo100.x);\n\n  // y axis\n  vec3 g010 = vec3(0., 1., 0.);\n  vec3 ng010 = normalizedPosition + g010 * gradientStep;\n  ng010.y = min(1., ng010.y);\n\n  vec4 vg010 = vec4(0.);\n  trilinearInterpolation(ng010, vg010 ,v000, v100, v001, v101, v010,v110, v011,v111);\n\n  vec3 go010 = -g010;\n  vec3 ngo010 = normalizedPosition + go010 * gradientStep;\n  ngo010.y = max(0., ngo010.y);\n\n  vec4 vgo010 = vec4(0.);\n  trilinearInterpolation(ngo010, vgo010 ,v000, v100, v001, v101, v010,v110, v011,v111);\n\n  gradient.y = (g010.y * vg010.x + go010.y * vgo010.x);\n\n  // z axis\n  vec3 g001 = vec3(0., 0., 1.);\n  vec3 ng001 = normalizedPosition + g001 * gradientStep;\n  ng001.z = min(1., ng001.z);\n\n  vec4 vg001 = vec4(0.);\n  trilinearInterpolation(ng001, vg001 ,v000, v100, v001, v101, v010,v110, v011,v111);\n\n  vec3 go001 = -g001;\n  vec3 ngo001 = normalizedPosition + go001 * gradientStep;\n  ngo001.z = max(0., ngo001.z);\n\n  vec4 vgo001 = vec4(0.);\n  trilinearInterpolation(ngo001, vgo001 ,v000, v100, v001, v101, v010,v110, v011,v111);\n\n  gradient.z = (g001.z * vg001.x + go001.z * vgo001.x);\n\n  // normalize gradient\n  // +0.0001  instead of if?\n  float gradientMagnitude = length(gradient);\n  if (gradientMagnitude > 0.0) {\n    gradient = -(1. / gradientMagnitude) * gradient;\n  }\n}\n    "},t}(n.a);t.a=new o},function(e,t,i){"use strict";var n=function(e){function t(){!function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=babelHelpers.typeof(t)&&"function"!=typeof t?e:t}(this,e.call(this));return i.name="intersectBox",i._rayOrigin="rayOrigin",i._rayDirection="rayDirection",i._aabbMin="aabbMin",i._aabbMax="aabbMax",i._tNear="tNear",i._tFar="tFar",i._intersect="intersect",i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+babelHelpers.typeof(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.api=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this._base,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this._rayOrigin,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:this._rayDirection,n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:this._aabbMin,r=4<arguments.length&&void 0!==arguments[4]?arguments[4]:this._aabbMax,o=5<arguments.length&&void 0!==arguments[5]?arguments[5]:this._tNear,a=6<arguments.length&&void 0!==arguments[6]?arguments[6]:this._tFar,s=7<arguments.length&&void 0!==arguments[7]?arguments[7]:this._intersect;return this._base=e,this.compute(t,i,n,r,o,a,s)},t.prototype.compute=function(e,t,i,n,r,o,a){return this.computeDefinition(),this._base._functions[this._name]=this._definition,this._name+"("+e+", "+t+", "+i+", "+n+", "+r+", "+o+", "+a+");"},t.prototype.computeDefinition=function(){this._definition="\nvoid "+this._name+"(vec3 rayOrigin, vec3 rayDirection, vec3 boxMin, vec3 boxMax, out float tNear, out float tFar, out bool intersect){\n  // compute intersection of ray with all six bbox planes\n  vec3 invRay = vec3(1.) / rayDirection;\n  vec3 tBot = invRay * (boxMin - rayOrigin);\n  vec3 tTop = invRay * (boxMax - rayOrigin);\n  // re-order intersections to find smallest and largest on each axis\n  vec3 tMin = min(tTop, tBot);\n  vec3 tMax = max(tTop, tBot);\n  // find the largest tMin and the smallest tMax\n  float largest_tMin = max(max(tMin.x, tMin.y), max(tMin.x, tMin.z));\n  float smallest_tMax = min(min(tMax.x, tMax.y), min(tMax.x, tMax.z));\n  tNear = largest_tMin;\n  tFar = smallest_tMax;\n  intersect = smallest_tMax > largest_tMin;\n}\n\n    "},t}(i(8).a);t.a=new n},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n=function n(e,t){if(8===e.bitsAllocated)return e.planarConfiguration?function(e,t){for(var i=t,n=e.rows*e.columns,r=new ArrayBuffer(n*e.samplesPerPixel),o=new DataView(i.buffer,i.byteOffset),a=new Int8Array(i.buffer,i.byteOffset),s=new Int8Array(r),l=0,c=o.getInt32(0,!0),h=0;h<c;++h){l=h*n;var u=o.getInt32(4*(h+1),!0),f=o.getInt32(4*(h+2),!0);0===f&&(f=i.length);for(var d=n*c,p;u<f;){p=a[u++];if(0<=p&&127>=p)for(var _=0;_<p+1&&l<d;++_){s[l]=a[u++],l++}else if(-1>=p&&-127<=p)for(var m=a[u++],b=0;b<1-p&&l<d;++b){s[l]=m,l++}}}return e.pixelData=new Uint8Array(r),e}(e,t):function(e,t){for(var i=t,n=e.rows*e.columns,r=new ArrayBuffer(n*e.samplesPerPixel),o=new DataView(i.buffer,i.byteOffset),a=new Int8Array(i.buffer,i.byteOffset),s=new Int8Array(r),l=0,c=o.getInt32(0,!0),h=0;h<c;++h){l=h;var u=o.getInt32(4*(h+1),!0),f=o.getInt32(4*(h+2),!0);0===f&&(f=i.length);for(var d=n*c,p;u<f;){p=a[u++];if(0<=p&&127>=p)for(var _=0;_<p+1&&l<d;++_){s[l]=a[u++],l+=e.samplesPerPixel}else if(-1>=p&&-127<=p)for(var m=a[u++],b=0;b<1-p&&l<d;++b){s[l]=m,l+=e.samplesPerPixel}}}return e.pixelData=new Uint8Array(r),e}(e,t);if(16===e.bitsAllocated)return function(e,t){for(var i=t,n=e.rows*e.columns,r=new ArrayBuffer(2*(n*e.samplesPerPixel)),o=new DataView(i.buffer,i.byteOffset),a=new Int8Array(i.buffer,i.byteOffset),s=new Int8Array(r),l=o.getInt32(0,!0),c=0;c<l;++c){var h=0,u=0===c?1:0,f=o.getInt32(4*(c+1),!0),d=o.getInt32(4*(c+2),!0);for(0===d&&(d=i.length);f<d;){var p=a[f++];if(0<=p&&127>=p)for(var _=0;_<p+1&&h<n;++_){s[2*h+u]=a[f++],h++}else if(-1>=p&&-127<=p)for(var m=a[f++],b=0;b<1-p&&h<n;++b){s[2*h+u]=m,h++}}}return 0===e.pixelRepresentation?e.pixelData=new Uint16Array(r):e.pixelData=new Int16Array(r),e}(e,t);throw new Error("unsupported pixel format for RLE")}},function(e,t,i){"use strict";var n=i(9),r=i(0),o=function(e){function t(i,n){!function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=babelHelpers.typeof(t)&&"function"!=typeof t?e:t}(this,e.call(this));r._id=n,r._url=i.url,r._header={},r._buffer=null;try{new TextDecoder().decode(i.mhdBuffer).split("\n").forEach(function(e){var t=e.split("=");2===t.length&&(r._header[t[0].trim()]=t[1].trim())}),r._header.DimSize=r._header.DimSize.split(" "),r._header.ElementSpacing=r._header.ElementSpacing.split(" "),r._header.TransformMatrix=r._header.TransformMatrix.split(" "),r._header.Offset=r._header.Offset.split(" "),r._buffer=i.rawBuffer}catch(e){window.console.log("ooops... :(")}return r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+babelHelpers.typeof(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.rightHanded=function(){var e=this._header.AnatomicalOrientation;return this._rightHanded="RAS"===e||"RPI"===e||"LPS"===e||"LAI"===e,this._rightHanded},t.prototype.seriesInstanceUID=function(){return this._url},t.prototype.numberOfFrames=function(){return parseInt(this._header.DimSize[2],10)},t.prototype.sopInstanceUID=function(){return 0<arguments.length&&void 0!==arguments[0]?arguments[0]:0},t.prototype.rows=function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0];return parseInt(this._header.DimSize[1],10)},t.prototype.columns=function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0];return parseInt(this._header.DimSize[0],10)},t.prototype.pixelType=function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0];var e=0;return"MET_UFLOAT"!==this._header.ElementType&&"MET_FLOAT"!==this._header.ElementType||(e=1),e},t.prototype.bitsAllocated=function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0];var e=1;return"MET_UCHAR"===this._header.ElementType||"MET_CHAR"===this._header.ElementType?e=8:"MET_USHORT"===this._header.ElementType||"MET_SHORT"===this._header.ElementType?e=16:"MET_UINT"!==this._header.ElementType&&"MET_INT"!==this._header.ElementType&&"MET_UFLOAT"!==this._header.ElementType&&"MET_FLOAT"!==this._header.ElementType||(e=32),e},t.prototype.pixelSpacing=function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0];return[parseFloat(this._header.ElementSpacing[1],10),parseFloat(this._header.ElementSpacing[0],10),parseFloat(this._header.ElementSpacing[2],10)]},t.prototype.imageOrientation=function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0];var e=this._header.AnatomicalOrientation.match(/L/)?-1:1,t=this._header.AnatomicalOrientation.match(/P/)?-1:1,i=new r.a(parseFloat(this._header.TransformMatrix[0])*e,parseFloat(this._header.TransformMatrix[1])*t,parseFloat(this._header.TransformMatrix[2]));i.normalize();var n=new r.a(parseFloat(this._header.TransformMatrix[3])*e,parseFloat(this._header.TransformMatrix[4])*t,parseFloat(this._header.TransformMatrix[5]));return n.normalize(),[i.x,i.y,i.z,n.x,n.y,n.z]},t.prototype.imagePosition=function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0];return[parseFloat(this._header.Offset[0]),parseFloat(this._header.Offset[1]),parseFloat(this._header.Offset[2])]},t.prototype.extractPixelData=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;return this._decompressUncompressed(e)},t.prototype._decompressUncompressed=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=this._buffer,i=this.numberOfChannels(),n=this.rows(e)*this.columns(e)*i;this.rightHanded()||(e=this.numberOfFrames()-1-e);var r=e*n;return"MET_CHAR"===this._header.ElementType?new Int8Array(t,r,n):"MET_UCHAR"===this._header.ElementType?new Uint8Array(t,r,n):"MET_SHORT"===this._header.ElementType?(r*=2,new Int16Array(t,r,n)):"MET_USHORT"===this._header.ElementType?(r*=2,new Uint16Array(t,r,n)):"MET_INT"===this._header.ElementType?(r*=4,new Int32Array(t,r,n)):"MET_UINT"===this._header.ElementType?(r*=4,new Uint32Array(t,r,n)):"MET_FLOAT"===this._header.ElementType?(r*=4,new Float32Array(t,r,n)):void 0},t}(n.a);t.a=o},function(e,t,i){"use strict";var n=i(29),r=i(111),o=i.n(r),a=function(){function e(e,t){for(var i=0,n;i<t.length;i++){n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s=function(e){function t(){var i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:n.a;!function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=babelHelpers.typeof(t)&&"function"!=typeof t?e:t}(this,e.call(this));return o._loaded=-1,o._totalLoaded=-1,o._parsed=-1,o._totalParsed=-1,o._data=[],o._container=i,o._progressBar=null,o._container&&r&&(o._progressBar=new r(o._container)),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+babelHelpers.typeof(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.free=function(){this._data=[],this._container=null,this._progressBar&&(this._progressBar.free(),this._progressBar=null)},t.prototype.fetch=function(e,t){var i=this;return new Promise(function(n,r){var o=new XMLHttpRequest;o.open("GET",e),o.crossOrigin=!0,o.responseType="arraybuffer",o.onloadstart=function(t){i.emit("fetch-start",{file:e,time:new Date})},o.onload=function(t){if(200===o.status||0===o.status){i._loaded=t.loaded,i._totalLoaded=t.total,i._progressBar&&i._progressBar.update(i._loaded,i._totalLoaded,"load",e);var a=o.response,s={url:e,buffer:a};i.emit("fetch-success",{file:e,time:new Date,totalLoaded:t.total}),n(s)}else r(o.statusText)},o.onerror=function(){i.emit("fetch-error",{file:e,time:new Date}),r(o.statusText)},o.onabort=function(t){i.emit("fetch-abort",{file:e,time:new Date}),r(o.statusText||"Aborted")},o.ontimeout=function(){i.emit("fetch-timeout",{file:e,time:new Date}),r(o.statusText)},o.onprogress=function(t){i._loaded=t.loaded,i._totalLoaded=t.total,i.emit("fetch-progress",{file:e,total:t.total,loaded:t.loaded,time:new Date}),i._progressBar&&i._progressBar.update(i._loaded,i._totalLoaded,"load",e)},o.onloadend=function(t){i.emit("fetch-end",{file:e,time:new Date})},babelHelpers.instanceof(t,Map)&&t.set(e,o),o.send()})},t.prototype.parse=function(e){return new Promise(function(t,i){t(e)})},t.prototype.loadSequenceGroup=function(e,t){var i=this,n=[];return e.forEach(function(e){n.push(i.fetch(e,t))}),Promise.all(n).then(function(e){return i.parse(e)}).then(function(e){return i._data.push(e),e}).catch(function(e){"Aborted"!==e&&(window.console.log("oops... something went wrong..."),window.console.log(e))})},t.prototype.loadSequence=function(e,t){var i=this;return this.fetch(e,t).then(function(e){return i.parse(e)}).then(function(e){return i._data.push(e),e}).catch(function(e){"Aborted"!==e&&(window.console.log("oops... something went wrong..."),window.console.log(e))})},t.prototype.load=function(e,t){var i=this;Array.isArray(e)||(e=[e]),this._progressBar&&(this._progressBar.totalFiles=e.length,this._progressBar.requests=t),this.emit("load-start",{files:e,time:new Date});var n=[];return e.forEach(function(e){Array.isArray(e)?n.push(i.loadSequenceGroup(e,t)):n.push(i.loadSequence(e,t))}),Promise.all(n)},a(t,[{key:"data",set:function set(e){this._data=e},get:function get(){return this._data}}]),t}(o.a);t.a=s},function(e,t){function i(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function n(e){return"function"==typeof e}function r(e){return"object"==babelHelpers.typeof(e)&&null!==e}function o(e){return void 0===e}e.exports=i,i.EventEmitter=i,i.prototype._events=void 0,i.prototype._maxListeners=void 0,i.defaultMaxListeners=10,i.prototype.setMaxListeners=function(e){if(!function(e){return"number"==typeof e}(e)||0>e||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},i.prototype.emit=function(e){var t,i,a,s,l,c;if(this._events||(this._events={}),"error"===e&&(!this._events.error||r(this._events.error)&&!this._events.error.length)){if(babelHelpers.instanceof(t=arguments[1],Error))throw t;var h=new Error("Uncaught, unspecified \"error\" event. ("+t+")");throw h.context=t,h}if(o(i=this._events[e]))return!1;if(n(i))switch(arguments.length){case 1:i.call(this);break;case 2:i.call(this,arguments[1]);break;case 3:i.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),i.apply(this,s);}else if(r(i))for(s=Array.prototype.slice.call(arguments,1),a=(c=i.slice()).length,l=0;l<a;l++){c[l].apply(this,s)}return!0},i.prototype.addListener=function(e,t){var a;if(!n(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,n(t.listener)?t.listener:t),this._events[e]?r(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,r(this._events[e])&&!this._events[e].warned&&(a=o(this._maxListeners)?i.defaultMaxListeners:this._maxListeners)&&0<a&&this._events[e].length>a&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},i.prototype.on=i.prototype.addListener,i.prototype.once=function(e,t){if(!n(t))throw TypeError("listener must be a function");var i=!1;function r(){this.removeListener(e,r),i||(i=!0,t.apply(this,arguments))}return r.listener=t,this.on(e,r),this},i.prototype.removeListener=function(e,t){var i,o,a,s;if(!n(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(a=(i=this._events[e]).length,o=-1,i===t||n(i.listener)&&i.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(r(i)){for(s=a;0<s--;){if(i[s]===t||i[s].listener&&i[s].listener===t){o=s;break}}if(0>o)return this;1===i.length?(i.length=0,delete this._events[e]):i.splice(o,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},i.prototype.removeAllListeners=function(e){var t,i;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events){"removeListener"!==t&&this.removeAllListeners(t)}return this.removeAllListeners("removeListener"),this._events={},this}if(n(i=this._events[e]))this.removeListener(e,i);else if(i)for(;i.length;){this.removeListener(e,i[i.length-1])}return delete this._events[e],this},i.prototype.listeners=function(e){return this._events&&this._events[e]?n(this._events[e])?[this._events[e]]:this._events[e].slice():[]},i.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(n(t))return 1;if(t)return t.length}return 0},i.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t,i){"use strict";t.a={0:{color:[0,0,0],opacity:0,label:"Unknown"},1:{color:[70,130,180],opacity:1,label:"Left-Cerebral-Exterior"},2:{color:[245,245,245],opacity:1,label:"Left-Cerebral-White-Matter"},3:{color:[205,62,78],opacity:1,label:"Left-Cerebral-Cortex"},4:{color:[120,18,134],opacity:1,label:"Left-Lateral-Ventricle"},5:{color:[196,58,250],opacity:1,label:"Left-Inf-Lat-Vent"},6:{color:[0,148,0],opacity:1,label:"Left-Cerebellum-Exterior"},7:{color:[220,248,164],opacity:1,label:"Left-Cerebellum-White-Matter"},8:{color:[230,148,34],opacity:1,label:"Left-Cerebellum-Cortex"},9:{color:[0,118,14],opacity:1,label:"Left-Thalamus"},10:{color:[0,118,14],opacity:1,label:"Left-Thalamus-Proper"},11:{color:[122,186,220],opacity:1,label:"Left-Caudate"},12:{color:[236,13,176],opacity:1,label:"Left-Putamen"},13:{color:[12,48,255],opacity:1,label:"Left-Pallidum"},14:{color:[204,182,142],opacity:1,label:"3rd-Ventricle"},15:{color:[42,204,164],opacity:1,label:"4th-Ventricle"},16:{color:[119,159,176],opacity:1,label:"Brain-Stem"},17:{color:[220,216,20],opacity:1,label:"Left-Hippocampus"},18:{color:[103,255,255],opacity:1,label:"Left-Amygdala"},19:{color:[80,196,98],opacity:1,label:"Left-Insula"},20:{color:[60,58,210],opacity:1,label:"Left-Operculum"},21:{color:[60,58,210],opacity:1,label:"Line-1"},22:{color:[60,58,210],opacity:1,label:"Line-2"},23:{color:[60,58,210],opacity:1,label:"Line-3"},24:{color:[60,60,60],opacity:1,label:"CSF"},25:{color:[255,165,0],opacity:1,label:"Left-Lesion"},26:{color:[255,165,0],opacity:1,label:"Left-Accumbens-area"},27:{color:[0,255,127],opacity:1,label:"Left-Substancia-Nigra"},28:{color:[165,42,42],opacity:1,label:"Left-VentralDC"},29:{color:[135,206,235],opacity:1,label:"Left-undetermined"},30:{color:[160,32,240],opacity:1,label:"Left-vessel"},31:{color:[0,200,200],opacity:1,label:"Left-choroid-plexus"},32:{color:[100,50,100],opacity:1,label:"Left-F3orb"},33:{color:[135,50,74],opacity:1,label:"Left-lOg"},34:{color:[122,135,50],opacity:1,label:"Left-aOg"},35:{color:[51,50,135],opacity:1,label:"Left-mOg"},36:{color:[74,155,60],opacity:1,label:"Left-pOg"},37:{color:[120,62,43],opacity:1,label:"Left-Stellate"},38:{color:[74,155,60],opacity:1,label:"Left-Porg"},39:{color:[122,135,50],opacity:1,label:"Left-Aorg"},40:{color:[70,130,180],opacity:1,label:"Right-Cerebral-Exterior"},41:{color:[245,245,245],opacity:1,label:"Right-Cerebral-White-Matter"},42:{color:[205,62,78],opacity:1,label:"Right-Cerebral-Cortex"},43:{color:[120,18,134],opacity:1,label:"Right-Lateral-Ventricle"},44:{color:[196,58,250],opacity:1,label:"Right-Inf-Lat-Vent"},45:{color:[0,148,0],opacity:1,label:"Right-Cerebellum-Exterior"},46:{color:[220,248,164],opacity:1,label:"Right-Cerebellum-White-Matter"},47:{color:[230,148,34],opacity:1,label:"Right-Cerebellum-Cortex"},48:{color:[0,118,14],opacity:1,label:"Right-Thalamus"},49:{color:[0,118,14],opacity:1,label:"Right-Thalamus-Proper"},50:{color:[122,186,220],opacity:1,label:"Right-Caudate"},51:{color:[236,13,176],opacity:1,label:"Right-Putamen"},52:{color:[13,48,255],opacity:1,label:"Right-Pallidum"},53:{color:[220,216,20],opacity:1,label:"Right-Hippocampus"},54:{color:[103,255,255],opacity:1,label:"Right-Amygdala"},55:{color:[80,196,98],opacity:1,label:"Right-Insula"},56:{color:[60,58,210],opacity:1,label:"Right-Operculum"},57:{color:[255,165,0],opacity:1,label:"Right-Lesion"},58:{color:[255,165,0],opacity:1,label:"Right-Accumbens-area"},59:{color:[0,255,127],opacity:1,label:"Right-Substancia-Nigra"},60:{color:[165,42,42],opacity:1,label:"Right-VentralDC"},61:{color:[135,206,235],opacity:1,label:"Right-undetermined"},62:{color:[160,32,240],opacity:1,label:"Right-vessel"},63:{color:[0,200,221],opacity:1,label:"Right-choroid-plexus"},64:{color:[100,50,100],opacity:1,label:"Right-F3orb"},65:{color:[135,50,74],opacity:1,label:"Right-lOg"},66:{color:[122,135,50],opacity:1,label:"Right-aOg"},67:{color:[51,50,135],opacity:1,label:"Right-mOg"},68:{color:[74,155,60],opacity:1,label:"Right-pOg"},69:{color:[120,62,43],opacity:1,label:"Right-Stellate"},70:{color:[74,155,60],opacity:1,label:"Right-Porg"},71:{color:[122,135,50],opacity:1,label:"Right-Aorg"},72:{color:[120,190,150],opacity:1,label:"5th-Ventricle"},73:{color:[122,135,50],opacity:1,label:"Left-Interior"},74:{color:[122,135,50],opacity:1,label:"Right-Interior"},77:{color:[200,70,255],opacity:1,label:"WM-hypointensities"},78:{color:[255,148,10],opacity:1,label:"Left-WM-hypointensities"},79:{color:[255,148,10],opacity:1,label:"Right-WM-hypointensities"},80:{color:[164,108,226],opacity:1,label:"non-WM-hypointensities"},81:{color:[164,108,226],opacity:1,label:"Left-non-WM-hypointensities"},82:{color:[164,108,226],opacity:1,label:"Right-non-WM-hypointensities"},83:{color:[255,218,185],opacity:1,label:"Left-F1"},84:{color:[255,218,185],opacity:1,label:"Right-F1"},85:{color:[234,169,30],opacity:1,label:"Optic-Chiasm"},192:{color:[250,255,50],opacity:1,label:"Corpus_Callosum"},86:{color:[200,120,255],opacity:1,label:"Left_future_WMSA"},87:{color:[200,121,255],opacity:1,label:"Right_future_WMSA"},88:{color:[200,122,255],opacity:1,label:"future_WMSA"},96:{color:[205,10,125],opacity:1,label:"Left-Amygdala-Anterior"},97:{color:[205,10,125],opacity:1,label:"Right-Amygdala-Anterior"},98:{color:[160,32,240],opacity:1,label:"Dura"},100:{color:[124,140,178],opacity:1,label:"Left-wm-intensity-abnormality"},101:{color:[125,140,178],opacity:1,label:"Left-caudate-intensity-abnormality"},102:{color:[126,140,178],opacity:1,label:"Left-putamen-intensity-abnormality"},103:{color:[127,140,178],opacity:1,label:"Left-accumbens-intensity-abnormality"},104:{color:[124,141,178],opacity:1,label:"Left-pallidum-intensity-abnormality"},105:{color:[124,142,178],opacity:1,label:"Left-amygdala-intensity-abnormality"},106:{color:[124,143,178],opacity:1,label:"Left-hippocampus-intensity-abnormality"},107:{color:[124,144,178],opacity:1,label:"Left-thalamus-intensity-abnormality"},108:{color:[124,140,179],opacity:1,label:"Left-VDC-intensity-abnormality"},109:{color:[124,140,178],opacity:1,label:"Right-wm-intensity-abnormality"},110:{color:[125,140,178],opacity:1,label:"Right-caudate-intensity-abnormality"},111:{color:[126,140,178],opacity:1,label:"Right-putamen-intensity-abnormality"},112:{color:[127,140,178],opacity:1,label:"Right-accumbens-intensity-abnormality"},113:{color:[124,141,178],opacity:1,label:"Right-pallidum-intensity-abnormality"},114:{color:[124,142,178],opacity:1,label:"Right-amygdala-intensity-abnormality"},115:{color:[124,143,178],opacity:1,label:"Right-hippocampus-intensity-abnormality"},116:{color:[124,144,178],opacity:1,label:"Right-thalamus-intensity-abnormality"},117:{color:[124,140,179],opacity:1,label:"Right-VDC-intensity-abnormality"},118:{color:[255,20,147],opacity:1,label:"Epidermis"},119:{color:[205,179,139],opacity:1,label:"Conn-Tissue"},120:{color:[238,238,209],opacity:1,label:"SC-Fat-Muscle"},121:{color:[200,200,200],opacity:1,label:"Cranium"},122:{color:[74,255,74],opacity:1,label:"CSF-SA"},123:{color:[238,0,0],opacity:1,label:"Muscle"},124:{color:[0,0,139],opacity:1,label:"Ear"},125:{color:[173,255,47],opacity:1,label:"Adipose"},126:{color:[133,203,229],opacity:1,label:"Spinal-Cord"},127:{color:[26,237,57],opacity:1,label:"Soft-Tissue"},128:{color:[34,139,34],opacity:1,label:"Nerve"},129:{color:[30,144,255],opacity:1,label:"Bone"},130:{color:[147,19,173],opacity:1,label:"Air"},131:{color:[238,59,59],opacity:1,label:"Orbital-Fat"},132:{color:[221,39,200],opacity:1,label:"Tongue"},133:{color:[238,174,238],opacity:1,label:"Nasal-Structures"},134:{color:[255,0,0],opacity:1,label:"Globe"},135:{color:[72,61,139],opacity:1,label:"Teeth"},136:{color:[21,39,132],opacity:1,label:"Left-Caudate-Putamen"},137:{color:[21,39,132],opacity:1,label:"Right-Caudate-Putamen"},138:{color:[65,135,20],opacity:1,label:"Left-Claustrum"},139:{color:[65,135,20],opacity:1,label:"Right-Claustrum"},140:{color:[134,4,160],opacity:1,label:"Cornea"},142:{color:[221,226,68],opacity:1,label:"Diploe"},143:{color:[255,255,254],opacity:1,label:"Vitreous-Humor"},144:{color:[52,209,226],opacity:1,label:"Lens"},145:{color:[239,160,223],opacity:1,label:"Aqueous-Humor"},146:{color:[70,130,180],opacity:1,label:"Outer-Table"},147:{color:[70,130,181],opacity:1,label:"Inner-Table"},148:{color:[139,121,94],opacity:1,label:"Periosteum"},149:{color:[224,224,224],opacity:1,label:"Endosteum"},150:{color:[255,0,0],opacity:1,label:"R-C-S"},151:{color:[205,205,0],opacity:1,label:"Iris"},152:{color:[238,238,209],opacity:1,label:"SC-Adipose-Muscle"},153:{color:[139,121,94],opacity:1,label:"SC-Tissue"},154:{color:[238,59,59],opacity:1,label:"Orbital-Adipose"},155:{color:[238,59,59],opacity:1,label:"Left-IntCapsule-Ant"},156:{color:[238,59,59],opacity:1,label:"Right-IntCapsule-Ant"},157:{color:[62,10,205],opacity:1,label:"Left-IntCapsule-Pos"},158:{color:[62,10,205],opacity:1,label:"Right-IntCapsule-Pos"},159:{color:[0,118,14],opacity:1,label:"Left-Cerebral-WM-unmyelinated"},160:{color:[0,118,14],opacity:1,label:"Right-Cerebral-WM-unmyelinated"},161:{color:[220,216,21],opacity:1,label:"Left-Cerebral-WM-myelinated"},162:{color:[220,216,21],opacity:1,label:"Right-Cerebral-WM-myelinated"},163:{color:[122,186,220],opacity:1,label:"Left-Subcortical-Gray-Matter"},164:{color:[122,186,220],opacity:1,label:"Right-Subcortical-Gray-Matter"},165:{color:[120,120,120],opacity:1,label:"Skull"},166:{color:[14,48,255],opacity:1,label:"Posterior-fossa"},167:{color:[166,42,42],opacity:1,label:"Scalp"},168:{color:[121,18,134],opacity:1,label:"Hematoma"},169:{color:[236,13,127],opacity:1,label:"Left-Basal-Ganglia"},176:{color:[236,13,126],opacity:1,label:"Right-Basal-Ganglia"},170:{color:[119,159,176],opacity:1,label:"brainstem"},171:{color:[119,0,176],opacity:1,label:"DCG"},172:{color:[119,100,176],opacity:1,label:"Vermis"},173:{color:[242,104,76],opacity:1,label:"Midbrain"},174:{color:[206,195,58],opacity:1,label:"Pons"},175:{color:[119,159,176],opacity:1,label:"Medulla"},177:{color:[119,50,176],opacity:1,label:"Vermis-White-Matter"},178:{color:[142,182,0],opacity:1,label:"SCP"},179:{color:[19,100,176],opacity:1,label:"Floculus"},180:{color:[73,61,139],opacity:1,label:"Left-Cortical-Dysplasia"},181:{color:[73,62,139],opacity:1,label:"Right-Cortical-Dysplasia"},182:{color:[10,100,176],opacity:1,label:"CblumNodulus"},193:{color:[0,196,255],opacity:1,label:"Left-hippocampal_fissure"},194:{color:[255,164,164],opacity:1,label:"Left-CADG-head"},195:{color:[196,196,0],opacity:1,label:"Left-subiculum"},196:{color:[0,100,255],opacity:1,label:"Left-fimbria"},197:{color:[128,196,164],opacity:1,label:"Right-hippocampal_fissure"},198:{color:[0,126,75],opacity:1,label:"Right-CADG-head"},199:{color:[128,96,64],opacity:1,label:"Right-subiculum"},200:{color:[0,50,128],opacity:1,label:"Right-fimbria"},201:{color:[255,204,153],opacity:1,label:"alveus"},202:{color:[255,128,128],opacity:1,label:"perforant_pathway"},203:{color:[255,255,0],opacity:1,label:"parasubiculum"},204:{color:[64,0,64],opacity:1,label:"presubiculum"},205:{color:[0,0,255],opacity:1,label:"subiculum"},206:{color:[255,0,0],opacity:1,label:"CA1"},207:{color:[128,128,255],opacity:1,label:"CA2"},208:{color:[0,128,0],opacity:1,label:"CA3"},209:{color:[196,160,128],opacity:1,label:"CA4"},210:{color:[32,200,255],opacity:1,label:"GC-DG"},211:{color:[128,255,128],opacity:1,label:"HATA"},212:{color:[204,153,204],opacity:1,label:"fimbria"},213:{color:[121,17,136],opacity:1,label:"lateral_ventricle"},214:{color:[128,0,0],opacity:1,label:"molecular_layer_HP"},215:{color:[128,32,255],opacity:1,label:"hippocampal_fissure"},216:{color:[255,204,102],opacity:1,label:"entorhinal_cortex"},217:{color:[128,128,128],opacity:1,label:"molecular_layer_subiculum"},218:{color:[104,255,255],opacity:1,label:"Amygdala"},219:{color:[0,226,0],opacity:1,label:"Cerebral_White_Matter"},220:{color:[205,63,78],opacity:1,label:"Cerebral_Cortex"},221:{color:[197,58,250],opacity:1,label:"Inf_Lat_Vent"},222:{color:[33,150,250],opacity:1,label:"Perirhinal"},223:{color:[226,0,0],opacity:1,label:"Cerebral_White_Matter_Edge"},224:{color:[100,100,100],opacity:1,label:"Background"},225:{color:[197,150,250],opacity:1,label:"Ectorhinal"},226:{color:[170,170,255],opacity:1,label:"HP_tail"},250:{color:[255,0,0],opacity:1,label:"Fornix"},251:{color:[0,0,64],opacity:1,label:"CC_Posterior"},252:{color:[0,0,112],opacity:1,label:"CC_Mid_Posterior"},253:{color:[0,0,160],opacity:1,label:"CC_Central"},254:{color:[0,0,208],opacity:1,label:"CC_Mid_Anterior"},255:{color:[0,0,255],opacity:1,label:"CC_Anterior"},256:{color:[0,0,0],opacity:1,label:"Voxel-Unchanged"},257:{color:[60,60,60],opacity:1,label:"CSF-ExtraCerebral"},258:{color:[150,150,200],opacity:1,label:"Head-ExtraCerebral"},259:{color:[120,120,120],opacity:1,label:"SkullApprox"},260:{color:[119,159,176],opacity:1,label:"BoneOrAir"},261:{color:[120,18,134],opacity:1,label:"PossibleFluid"},262:{color:[119,159,176],opacity:1,label:"Sinus"},263:{color:[119,159,176],opacity:1,label:"Left-Eustachian"},264:{color:[119,159,176],opacity:1,label:"Right-Eustachian"},331:{color:[255,0,0],opacity:1,label:"Aorta"},332:{color:[255,80,0],opacity:1,label:"Left-Common-IliacA"},333:{color:[255,160,0],opacity:1,label:"Right-Common-IliacA"},334:{color:[255,255,0],opacity:1,label:"Left-External-IliacA"},335:{color:[0,255,0],opacity:1,label:"Right-External-IliacA"},336:{color:[255,0,160],opacity:1,label:"Left-Internal-IliacA"},337:{color:[255,0,255],opacity:1,label:"Right-Internal-IliacA"},338:{color:[255,50,80],opacity:1,label:"Left-Lateral-SacralA"},339:{color:[80,255,50],opacity:1,label:"Right-Lateral-SacralA"},340:{color:[160,255,50],opacity:1,label:"Left-ObturatorA"},341:{color:[160,200,255],opacity:1,label:"Right-ObturatorA"},342:{color:[0,255,160],opacity:1,label:"Left-Internal-PudendalA"},343:{color:[0,0,255],opacity:1,label:"Right-Internal-PudendalA"},344:{color:[80,50,255],opacity:1,label:"Left-UmbilicalA"},345:{color:[160,0,255],opacity:1,label:"Right-UmbilicalA"},346:{color:[255,210,0],opacity:1,label:"Left-Inf-RectalA"},347:{color:[0,160,255],opacity:1,label:"Right-Inf-RectalA"},348:{color:[255,200,80],opacity:1,label:"Left-Common-IliacV"},349:{color:[255,200,160],opacity:1,label:"Right-Common-IliacV"},350:{color:[255,80,200],opacity:1,label:"Left-External-IliacV"},351:{color:[255,160,200],opacity:1,label:"Right-External-IliacV"},352:{color:[30,255,80],opacity:1,label:"Left-Internal-IliacV"},353:{color:[80,200,255],opacity:1,label:"Right-Internal-IliacV"},354:{color:[80,255,200],opacity:1,label:"Left-ObturatorV"},355:{color:[195,255,200],opacity:1,label:"Right-ObturatorV"},356:{color:[120,200,20],opacity:1,label:"Left-Internal-PudendalV"},357:{color:[170,10,200],opacity:1,label:"Right-Internal-PudendalV"},358:{color:[20,130,180],opacity:1,label:"Pos-Lymph"},359:{color:[20,180,130],opacity:1,label:"Neg-Lymph"},400:{color:[206,62,78],opacity:1,label:"V1"},401:{color:[121,18,134],opacity:1,label:"V2"},402:{color:[199,58,250],opacity:1,label:"BA44"},403:{color:[1,148,0],opacity:1,label:"BA45"},404:{color:[221,248,164],opacity:1,label:"BA4a"},405:{color:[231,148,34],opacity:1,label:"BA4p"},406:{color:[1,118,14],opacity:1,label:"BA6"},407:{color:[120,118,14],opacity:1,label:"BA2"},408:{color:[123,186,221],opacity:1,label:"BA1_old"},409:{color:[238,13,177],opacity:1,label:"BAun2"},410:{color:[123,186,220],opacity:1,label:"BA1"},411:{color:[138,13,206],opacity:1,label:"BA2b"},412:{color:[238,130,176],opacity:1,label:"BA3a"},413:{color:[218,230,76],opacity:1,label:"BA3b"},414:{color:[38,213,176],opacity:1,label:"MT"},415:{color:[1,225,176],opacity:1,label:"AIPS_AIP_l"},416:{color:[1,225,176],opacity:1,label:"AIPS_AIP_r"},417:{color:[200,2,100],opacity:1,label:"AIPS_VIP_l"},418:{color:[200,2,100],opacity:1,label:"AIPS_VIP_r"},419:{color:[5,200,90],opacity:1,label:"IPL_PFcm_l"},420:{color:[5,200,90],opacity:1,label:"IPL_PFcm_r"},421:{color:[100,5,200],opacity:1,label:"IPL_PF_l"},422:{color:[25,255,100],opacity:1,label:"IPL_PFm_l"},423:{color:[25,255,100],opacity:1,label:"IPL_PFm_r"},424:{color:[230,7,100],opacity:1,label:"IPL_PFop_l"},425:{color:[230,7,100],opacity:1,label:"IPL_PFop_r"},426:{color:[100,5,200],opacity:1,label:"IPL_PF_r"},427:{color:[150,10,200],opacity:1,label:"IPL_PFt_l"},428:{color:[150,10,200],opacity:1,label:"IPL_PFt_r"},429:{color:[175,10,176],opacity:1,label:"IPL_PGa_l"},430:{color:[175,10,176],opacity:1,label:"IPL_PGa_r"},431:{color:[10,100,255],opacity:1,label:"IPL_PGp_l"},432:{color:[10,100,255],opacity:1,label:"IPL_PGp_r"},433:{color:[150,45,70],opacity:1,label:"Visual_V3d_l"},434:{color:[150,45,70],opacity:1,label:"Visual_V3d_r"},435:{color:[45,200,15],opacity:1,label:"Visual_V4_l"},436:{color:[45,200,15],opacity:1,label:"Visual_V4_r"},437:{color:[227,45,100],opacity:1,label:"Visual_V5_b"},438:{color:[227,45,100],opacity:1,label:"Visual_VP_l"},439:{color:[227,45,100],opacity:1,label:"Visual_VP_r"},498:{color:[143,188,143],opacity:1,label:"wmsa"},499:{color:[255,248,220],opacity:1,label:"other_wmsa"},500:{color:[17,85,136],opacity:1,label:"right_CA2_3"},501:{color:[119,187,102],opacity:1,label:"right_alveus"},502:{color:[204,68,34],opacity:1,label:"right_CA1"},503:{color:[204,0,255],opacity:1,label:"right_fimbria"},504:{color:[221,187,17],opacity:1,label:"right_presubiculum"},505:{color:[153,221,238],opacity:1,label:"right_hippocampal_fissure"},506:{color:[51,17,17],opacity:1,label:"right_CA4_DG"},507:{color:[0,119,85],opacity:1,label:"right_subiculum"},508:{color:[20,100,200],opacity:1,label:"right_fornix"},550:{color:[17,85,137],opacity:1,label:"left_CA2_3"},551:{color:[119,187,103],opacity:1,label:"left_alveus"},552:{color:[204,68,35],opacity:1,label:"left_CA1"},553:{color:[204,0,254],opacity:1,label:"left_fimbria"},554:{color:[221,187,16],opacity:1,label:"left_presubiculum"},555:{color:[153,221,239],opacity:1,label:"left_hippocampal_fissure"},556:{color:[51,17,18],opacity:1,label:"left_CA4_DG"},557:{color:[0,119,86],opacity:1,label:"left_subiculum"},558:{color:[20,100,201],opacity:1,label:"left_fornix"},600:{color:[254,254,254],opacity:1,label:"Tumor"},601:{color:[70,130,180],opacity:1,label:"Cbm_Left_I_IV"},602:{color:[245,245,245],opacity:1,label:"Cbm_Right_I_IV"},603:{color:[205,62,78],opacity:1,label:"Cbm_Left_V"},604:{color:[120,18,134],opacity:1,label:"Cbm_Right_V"},605:{color:[196,58,250],opacity:1,label:"Cbm_Left_VI"},606:{color:[0,148,0],opacity:1,label:"Cbm_Vermis_VI"},607:{color:[220,248,164],opacity:1,label:"Cbm_Right_VI"},608:{color:[230,148,34],opacity:1,label:"Cbm_Left_CrusI"},609:{color:[0,118,14],opacity:1,label:"Cbm_Vermis_CrusI"},610:{color:[0,118,14],opacity:1,label:"Cbm_Right_CrusI"},611:{color:[122,186,220],opacity:1,label:"Cbm_Left_CrusII"},612:{color:[236,13,176],opacity:1,label:"Cbm_Vermis_CrusII"},613:{color:[12,48,255],opacity:1,label:"Cbm_Right_CrusII"},614:{color:[204,182,142],opacity:1,label:"Cbm_Left_VIIb"},615:{color:[42,204,164],opacity:1,label:"Cbm_Vermis_VIIb"},616:{color:[119,159,176],opacity:1,label:"Cbm_Right_VIIb"},617:{color:[220,216,20],opacity:1,label:"Cbm_Left_VIIIa"},618:{color:[103,255,255],opacity:1,label:"Cbm_Vermis_VIIIa"},619:{color:[80,196,98],opacity:1,label:"Cbm_Right_VIIIa"},620:{color:[60,58,210],opacity:1,label:"Cbm_Left_VIIIb"},621:{color:[60,58,210],opacity:1,label:"Cbm_Vermis_VIIIb"},622:{color:[60,58,210],opacity:1,label:"Cbm_Right_VIIIb"},623:{color:[60,58,210],opacity:1,label:"Cbm_Left_IX"},624:{color:[60,60,60],opacity:1,label:"Cbm_Vermis_IX"},625:{color:[255,165,0],opacity:1,label:"Cbm_Right_IX"},626:{color:[255,165,0],opacity:1,label:"Cbm_Left_X"},627:{color:[0,255,127],opacity:1,label:"Cbm_Vermis_X"},628:{color:[165,42,42],opacity:1,label:"Cbm_Right_X"},640:{color:[204,0,0],opacity:1,label:"Cbm_Right_I_V_med"},641:{color:[255,0,0],opacity:1,label:"Cbm_Right_I_V_mid"},642:{color:[0,0,255],opacity:1,label:"Cbm_Right_VI_med"},643:{color:[30,144,255],opacity:1,label:"Cbm_Right_VI_mid"},644:{color:[100,212,237],opacity:1,label:"Cbm_Right_VI_lat"},645:{color:[218,165,32],opacity:1,label:"Cbm_Right_CrusI_med"},646:{color:[255,215,0],opacity:1,label:"Cbm_Right_CrusI_mid"},647:{color:[255,255,166],opacity:1,label:"Cbm_Right_CrusI_lat"},648:{color:[153,0,204],opacity:1,label:"Cbm_Right_CrusII_med"},649:{color:[153,141,209],opacity:1,label:"Cbm_Right_CrusII_mid"},650:{color:[204,204,255],opacity:1,label:"Cbm_Right_CrusII_lat"},651:{color:[31,212,194],opacity:1,label:"Cbm_Right_7med"},652:{color:[3,255,237],opacity:1,label:"Cbm_Right_7mid"},653:{color:[204,255,255],opacity:1,label:"Cbm_Right_7lat"},654:{color:[86,74,147],opacity:1,label:"Cbm_Right_8med"},655:{color:[114,114,190],opacity:1,label:"Cbm_Right_8mid"},656:{color:[184,178,255],opacity:1,label:"Cbm_Right_8lat"},657:{color:[126,138,37],opacity:1,label:"Cbm_Right_PUNs"},658:{color:[189,197,117],opacity:1,label:"Cbm_Right_TONs"},659:{color:[240,230,140],opacity:1,label:"Cbm_Right_FLOs"},660:{color:[204,0,0],opacity:1,label:"Cbm_Left_I_V_med"},661:{color:[255,0,0],opacity:1,label:"Cbm_Left_I_V_mid"},662:{color:[0,0,255],opacity:1,label:"Cbm_Left_VI_med"},663:{color:[30,144,255],opacity:1,label:"Cbm_Left_VI_mid"},664:{color:[100,212,237],opacity:1,label:"Cbm_Left_VI_lat"},665:{color:[218,165,32],opacity:1,label:"Cbm_Left_CrusI_med"},666:{color:[255,215,0],opacity:1,label:"Cbm_Left_CrusI_mid"},667:{color:[255,255,166],opacity:1,label:"Cbm_Left_CrusI_lat"},668:{color:[153,0,204],opacity:1,label:"Cbm_Left_CrusII_med"},669:{color:[153,141,209],opacity:1,label:"Cbm_Left_CrusII_mid"},670:{color:[204,204,255],opacity:1,label:"Cbm_Left_CrusII_lat"},671:{color:[31,212,194],opacity:1,label:"Cbm_Left_7med"},672:{color:[3,255,237],opacity:1,label:"Cbm_Left_7mid"},673:{color:[204,255,255],opacity:1,label:"Cbm_Left_7lat"},674:{color:[86,74,147],opacity:1,label:"Cbm_Left_8med"},675:{color:[114,114,190],opacity:1,label:"Cbm_Left_8mid"},676:{color:[184,178,255],opacity:1,label:"Cbm_Left_8lat"},677:{color:[126,138,37],opacity:1,label:"Cbm_Left_PUNs"},678:{color:[189,197,117],opacity:1,label:"Cbm_Left_TONs"},679:{color:[240,230,140],opacity:1,label:"Cbm_Left_FLOs"},690:{color:[122,135,50],opacity:1,label:"CbmWM_Gyri_Left"},691:{color:[122,135,50],opacity:1,label:"CbmWM_Gyri_Right"},701:{color:[120,18,134],opacity:1,label:"CSF-FSL-FAST"},702:{color:[205,62,78],opacity:1,label:"GrayMatter-FSL-FAST"},703:{color:[0,225,0],opacity:1,label:"WhiteMatter-FSL-FAST"},999:{color:[255,100,100],opacity:1,label:"SUSPICIOUS"},1e3:{color:[25,5,25],opacity:1,label:"ctx-lh-unknown"},1001:{color:[25,100,40],opacity:1,label:"ctx-lh-bankssts"},1002:{color:[125,100,160],opacity:1,label:"ctx-lh-caudalanteriorcingulate"},1003:{color:[100,25,0],opacity:1,label:"ctx-lh-caudalmiddlefrontal"},1004:{color:[120,70,50],opacity:1,label:"ctx-lh-corpuscallosum"},1005:{color:[220,20,100],opacity:1,label:"ctx-lh-cuneus"},1006:{color:[220,20,10],opacity:1,label:"ctx-lh-entorhinal"},1007:{color:[180,220,140],opacity:1,label:"ctx-lh-fusiform"},1008:{color:[220,60,220],opacity:1,label:"ctx-lh-inferiorparietal"},1009:{color:[180,40,120],opacity:1,label:"ctx-lh-inferiortemporal"},1010:{color:[140,20,140],opacity:1,label:"ctx-lh-isthmuscingulate"},1011:{color:[20,30,140],opacity:1,label:"ctx-lh-lateraloccipital"},1012:{color:[35,75,50],opacity:1,label:"ctx-lh-lateralorbitofrontal"},1013:{color:[225,140,140],opacity:1,label:"ctx-lh-lingual"},1014:{color:[200,35,75],opacity:1,label:"ctx-lh-medialorbitofrontal"},1015:{color:[160,100,50],opacity:1,label:"ctx-lh-middletemporal"},1016:{color:[20,220,60],opacity:1,label:"ctx-lh-parahippocampal"},1017:{color:[60,220,60],opacity:1,label:"ctx-lh-paracentral"},1018:{color:[220,180,140],opacity:1,label:"ctx-lh-parsopercularis"},1019:{color:[20,100,50],opacity:1,label:"ctx-lh-parsorbitalis"},1020:{color:[220,60,20],opacity:1,label:"ctx-lh-parstriangularis"},1021:{color:[120,100,60],opacity:1,label:"ctx-lh-pericalcarine"},1022:{color:[220,20,20],opacity:1,label:"ctx-lh-postcentral"},1023:{color:[220,180,220],opacity:1,label:"ctx-lh-posteriorcingulate"},1024:{color:[60,20,220],opacity:1,label:"ctx-lh-precentral"},1025:{color:[160,140,180],opacity:1,label:"ctx-lh-precuneus"},1026:{color:[80,20,140],opacity:1,label:"ctx-lh-rostralanteriorcingulate"},1027:{color:[75,50,125],opacity:1,label:"ctx-lh-rostralmiddlefrontal"},1028:{color:[20,220,160],opacity:1,label:"ctx-lh-superiorfrontal"},1029:{color:[20,180,140],opacity:1,label:"ctx-lh-superiorparietal"},1030:{color:[140,220,220],opacity:1,label:"ctx-lh-superiortemporal"},1031:{color:[80,160,20],opacity:1,label:"ctx-lh-supramarginal"},1032:{color:[100,0,100],opacity:1,label:"ctx-lh-frontalpole"},1033:{color:[70,70,70],opacity:1,label:"ctx-lh-temporalpole"},1034:{color:[150,150,200],opacity:1,label:"ctx-lh-transversetemporal"},1035:{color:[255,192,32],opacity:1,label:"ctx-lh-insula"},2e3:{color:[25,5,25],opacity:1,label:"ctx-rh-unknown"},2001:{color:[25,100,40],opacity:1,label:"ctx-rh-bankssts"},2002:{color:[125,100,160],opacity:1,label:"ctx-rh-caudalanteriorcingulate"},2003:{color:[100,25,0],opacity:1,label:"ctx-rh-caudalmiddlefrontal"},2004:{color:[120,70,50],opacity:1,label:"ctx-rh-corpuscallosum"},2005:{color:[220,20,100],opacity:1,label:"ctx-rh-cuneus"},2006:{color:[220,20,10],opacity:1,label:"ctx-rh-entorhinal"},2007:{color:[180,220,140],opacity:1,label:"ctx-rh-fusiform"},2008:{color:[220,60,220],opacity:1,label:"ctx-rh-inferiorparietal"},2009:{color:[180,40,120],opacity:1,label:"ctx-rh-inferiortemporal"},2010:{color:[140,20,140],opacity:1,label:"ctx-rh-isthmuscingulate"},2011:{color:[20,30,140],opacity:1,label:"ctx-rh-lateraloccipital"},2012:{color:[35,75,50],opacity:1,label:"ctx-rh-lateralorbitofrontal"},2013:{color:[225,140,140],opacity:1,label:"ctx-rh-lingual"},2014:{color:[200,35,75],opacity:1,label:"ctx-rh-medialorbitofrontal"},2015:{color:[160,100,50],opacity:1,label:"ctx-rh-middletemporal"},2016:{color:[20,220,60],opacity:1,label:"ctx-rh-parahippocampal"},2017:{color:[60,220,60],opacity:1,label:"ctx-rh-paracentral"},2018:{color:[220,180,140],opacity:1,label:"ctx-rh-parsopercularis"},2019:{color:[20,100,50],opacity:1,label:"ctx-rh-parsorbitalis"},2020:{color:[220,60,20],opacity:1,label:"ctx-rh-parstriangularis"},2021:{color:[120,100,60],opacity:1,label:"ctx-rh-pericalcarine"},2022:{color:[220,20,20],opacity:1,label:"ctx-rh-postcentral"},2023:{color:[220,180,220],opacity:1,label:"ctx-rh-posteriorcingulate"},2024:{color:[60,20,220],opacity:1,label:"ctx-rh-precentral"},2025:{color:[160,140,180],opacity:1,label:"ctx-rh-precuneus"},2026:{color:[80,20,140],opacity:1,label:"ctx-rh-rostralanteriorcingulate"},2027:{color:[75,50,125],opacity:1,label:"ctx-rh-rostralmiddlefrontal"},2028:{color:[20,220,160],opacity:1,label:"ctx-rh-superiorfrontal"},2029:{color:[20,180,140],opacity:1,label:"ctx-rh-superiorparietal"},2030:{color:[140,220,220],opacity:1,label:"ctx-rh-superiortemporal"},2031:{color:[80,160,20],opacity:1,label:"ctx-rh-supramarginal"},2032:{color:[100,0,100],opacity:1,label:"ctx-rh-frontalpole"},2033:{color:[70,70,70],opacity:1,label:"ctx-rh-temporalpole"},2034:{color:[150,150,200],opacity:1,label:"ctx-rh-transversetemporal"},2035:{color:[255,192,32],opacity:1,label:"ctx-rh-insula"},3e3:{color:[230,250,230],opacity:1,label:"wm-lh-unknown"},3001:{color:[230,155,215],opacity:1,label:"wm-lh-bankssts"},3002:{color:[130,155,95],opacity:1,label:"wm-lh-caudalanteriorcingulate"},3003:{color:[155,230,255],opacity:1,label:"wm-lh-caudalmiddlefrontal"},3004:{color:[135,185,205],opacity:1,label:"wm-lh-corpuscallosum"},3005:{color:[35,235,155],opacity:1,label:"wm-lh-cuneus"},3006:{color:[35,235,245],opacity:1,label:"wm-lh-entorhinal"},3007:{color:[75,35,115],opacity:1,label:"wm-lh-fusiform"},3008:{color:[35,195,35],opacity:1,label:"wm-lh-inferiorparietal"},3009:{color:[75,215,135],opacity:1,label:"wm-lh-inferiortemporal"},3010:{color:[115,235,115],opacity:1,label:"wm-lh-isthmuscingulate"},3011:{color:[235,225,115],opacity:1,label:"wm-lh-lateraloccipital"},3012:{color:[220,180,205],opacity:1,label:"wm-lh-lateralorbitofrontal"},3013:{color:[30,115,115],opacity:1,label:"wm-lh-lingual"},3014:{color:[55,220,180],opacity:1,label:"wm-lh-medialorbitofrontal"},3015:{color:[95,155,205],opacity:1,label:"wm-lh-middletemporal"},3016:{color:[235,35,195],opacity:1,label:"wm-lh-parahippocampal"},3017:{color:[195,35,195],opacity:1,label:"wm-lh-paracentral"},3018:{color:[35,75,115],opacity:1,label:"wm-lh-parsopercularis"},3019:{color:[235,155,205],opacity:1,label:"wm-lh-parsorbitalis"},3020:{color:[35,195,235],opacity:1,label:"wm-lh-parstriangularis"},3021:{color:[135,155,195],opacity:1,label:"wm-lh-pericalcarine"},3022:{color:[35,235,235],opacity:1,label:"wm-lh-postcentral"},3023:{color:[35,75,35],opacity:1,label:"wm-lh-posteriorcingulate"},3024:{color:[195,235,35],opacity:1,label:"wm-lh-precentral"},3025:{color:[95,115,75],opacity:1,label:"wm-lh-precuneus"},3026:{color:[175,235,115],opacity:1,label:"wm-lh-rostralanteriorcingulate"},3027:{color:[180,205,130],opacity:1,label:"wm-lh-rostralmiddlefrontal"},3028:{color:[235,35,95],opacity:1,label:"wm-lh-superiorfrontal"},3029:{color:[235,75,115],opacity:1,label:"wm-lh-superiorparietal"},3030:{color:[115,35,35],opacity:1,label:"wm-lh-superiortemporal"},3031:{color:[175,95,235],opacity:1,label:"wm-lh-supramarginal"},3032:{color:[155,255,155],opacity:1,label:"wm-lh-frontalpole"},3033:{color:[185,185,185],opacity:1,label:"wm-lh-temporalpole"},3034:{color:[105,105,55],opacity:1,label:"wm-lh-transversetemporal"},3035:{color:[20,220,160],opacity:1,label:"wm-lh-insula"},4e3:{color:[230,250,230],opacity:1,label:"wm-rh-unknown"},4001:{color:[230,155,215],opacity:1,label:"wm-rh-bankssts"},4002:{color:[130,155,95],opacity:1,label:"wm-rh-caudalanteriorcingulate"},4003:{color:[155,230,255],opacity:1,label:"wm-rh-caudalmiddlefrontal"},4004:{color:[135,185,205],opacity:1,label:"wm-rh-corpuscallosum"},4005:{color:[35,235,155],opacity:1,label:"wm-rh-cuneus"},4006:{color:[35,235,245],opacity:1,label:"wm-rh-entorhinal"},4007:{color:[75,35,115],opacity:1,label:"wm-rh-fusiform"},4008:{color:[35,195,35],opacity:1,label:"wm-rh-inferiorparietal"},4009:{color:[75,215,135],opacity:1,label:"wm-rh-inferiortemporal"},4010:{color:[115,235,115],opacity:1,label:"wm-rh-isthmuscingulate"},4011:{color:[235,225,115],opacity:1,label:"wm-rh-lateraloccipital"},4012:{color:[220,180,205],opacity:1,label:"wm-rh-lateralorbitofrontal"},4013:{color:[30,115,115],opacity:1,label:"wm-rh-lingual"},4014:{color:[55,220,180],opacity:1,label:"wm-rh-medialorbitofrontal"},4015:{color:[95,155,205],opacity:1,label:"wm-rh-middletemporal"},4016:{color:[235,35,195],opacity:1,label:"wm-rh-parahippocampal"},4017:{color:[195,35,195],opacity:1,label:"wm-rh-paracentral"},4018:{color:[35,75,115],opacity:1,label:"wm-rh-parsopercularis"},4019:{color:[235,155,205],opacity:1,label:"wm-rh-parsorbitalis"},4020:{color:[35,195,235],opacity:1,label:"wm-rh-parstriangularis"},4021:{color:[135,155,195],opacity:1,label:"wm-rh-pericalcarine"},4022:{color:[35,235,235],opacity:1,label:"wm-rh-postcentral"},4023:{color:[35,75,35],opacity:1,label:"wm-rh-posteriorcingulate"},4024:{color:[195,235,35],opacity:1,label:"wm-rh-precentral"},4025:{color:[95,115,75],opacity:1,label:"wm-rh-precuneus"},4026:{color:[175,235,115],opacity:1,label:"wm-rh-rostralanteriorcingulate"},4027:{color:[180,205,130],opacity:1,label:"wm-rh-rostralmiddlefrontal"},4028:{color:[235,35,95],opacity:1,label:"wm-rh-superiorfrontal"},4029:{color:[235,75,115],opacity:1,label:"wm-rh-superiorparietal"},4030:{color:[115,35,35],opacity:1,label:"wm-rh-superiortemporal"},4031:{color:[175,95,235],opacity:1,label:"wm-rh-supramarginal"},4032:{color:[155,255,155],opacity:1,label:"wm-rh-frontalpole"},4033:{color:[185,185,185],opacity:1,label:"wm-rh-temporalpole"},4034:{color:[105,105,55],opacity:1,label:"wm-rh-transversetemporal"},4035:{color:[20,220,160],opacity:1,label:"wm-rh-insula"},3201:{color:[235,35,95],opacity:1,label:"wm-lh-frontal-lobe"},3203:{color:[35,75,35],opacity:1,label:"wm-lh-cingulate-lobe"},3204:{color:[135,155,195],opacity:1,label:"wm-lh-occiptal-lobe"},3205:{color:[115,35,35],opacity:1,label:"wm-lh-temporal-lobe"},3206:{color:[35,195,35],opacity:1,label:"wm-lh-parietal-lobe"},3207:{color:[20,220,160],opacity:1,label:"wm-lh-insula-lobe"},4201:{color:[235,35,95],opacity:1,label:"wm-rh-frontal-lobe"},4203:{color:[35,75,35],opacity:1,label:"wm-rh-cingulate-lobe"},4204:{color:[135,155,195],opacity:1,label:"wm-rh-occiptal-lobe"},4205:{color:[115,35,35],opacity:1,label:"wm-rh-temporal-lobe"},4206:{color:[35,195,35],opacity:1,label:"wm-rh-parietal-lobe"},4207:{color:[20,220,160],opacity:1,label:"wm-rh-insula-lobe"},1100:{color:[0,0,0],opacity:1,label:"ctx-lh-Unknown"},1101:{color:[50,50,50],opacity:1,label:"ctx-lh-Corpus_callosum"},1102:{color:[180,20,30],opacity:1,label:"ctx-lh-G_and_S_Insula_ONLY_AVERAGE"},1103:{color:[60,25,25],opacity:1,label:"ctx-lh-G_cingulate-Isthmus"},1104:{color:[25,60,60],opacity:1,label:"ctx-lh-G_cingulate-Main_part"},1200:{color:[25,60,61],opacity:1,label:"ctx-lh-G_cingulate-caudal_ACC"},1201:{color:[25,90,60],opacity:1,label:"ctx-lh-G_cingulate-rostral_ACC"},1202:{color:[25,120,60],opacity:1,label:"ctx-lh-G_cingulate-posterior"},1205:{color:[25,150,60],opacity:1,label:"ctx-lh-S_cingulate-caudal_ACC"},1206:{color:[25,180,60],opacity:1,label:"ctx-lh-S_cingulate-rostral_ACC"},1207:{color:[25,210,60],opacity:1,label:"ctx-lh-S_cingulate-posterior"},1210:{color:[25,150,90],opacity:1,label:"ctx-lh-S_pericallosal-caudal"},1211:{color:[25,180,90],opacity:1,label:"ctx-lh-S_pericallosal-rostral"},1212:{color:[25,210,90],opacity:1,label:"ctx-lh-S_pericallosal-posterior"},1105:{color:[180,20,20],opacity:1,label:"ctx-lh-G_cuneus"},1106:{color:[220,20,100],opacity:1,label:"ctx-lh-G_frontal_inf-Opercular_part"},1107:{color:[140,60,60],opacity:1,label:"ctx-lh-G_frontal_inf-Orbital_part"},1108:{color:[180,220,140],opacity:1,label:"ctx-lh-G_frontal_inf-Triangular_part"},1109:{color:[140,100,180],opacity:1,label:"ctx-lh-G_frontal_middle"},1110:{color:[180,20,140],opacity:1,label:"ctx-lh-G_frontal_superior"},1111:{color:[140,20,140],opacity:1,label:"ctx-lh-G_frontomarginal"},1112:{color:[21,10,10],opacity:1,label:"ctx-lh-G_insular_long"},1113:{color:[225,140,140],opacity:1,label:"ctx-lh-G_insular_short"},1114:{color:[23,60,180],opacity:1,label:"ctx-lh-G_and_S_occipital_inferior"},1115:{color:[180,60,180],opacity:1,label:"ctx-lh-G_occipital_middle"},1116:{color:[20,220,60],opacity:1,label:"ctx-lh-G_occipital_superior"},1117:{color:[60,20,140],opacity:1,label:"ctx-lh-G_occipit-temp_lat-Or_fusiform"},1118:{color:[220,180,140],opacity:1,label:"ctx-lh-G_occipit-temp_med-Lingual_part"},1119:{color:[65,100,20],opacity:1,label:"ctx-lh-G_occipit-temp_med-Parahippocampal_part"},1120:{color:[220,60,20],opacity:1,label:"ctx-lh-G_orbital"},1121:{color:[60,100,60],opacity:1,label:"ctx-lh-G_paracentral"},1122:{color:[20,60,220],opacity:1,label:"ctx-lh-G_parietal_inferior-Angular_part"},1123:{color:[100,100,60],opacity:1,label:"ctx-lh-G_parietal_inferior-Supramarginal_part"},1124:{color:[220,180,220],opacity:1,label:"ctx-lh-G_parietal_superior"},1125:{color:[20,180,140],opacity:1,label:"ctx-lh-G_postcentral"},1126:{color:[60,140,180],opacity:1,label:"ctx-lh-G_precentral"},1127:{color:[25,20,140],opacity:1,label:"ctx-lh-G_precuneus"},1128:{color:[20,60,100],opacity:1,label:"ctx-lh-G_rectus"},1129:{color:[60,220,20],opacity:1,label:"ctx-lh-G_subcallosal"},1130:{color:[60,20,220],opacity:1,label:"ctx-lh-G_subcentral"},1131:{color:[220,220,100],opacity:1,label:"ctx-lh-G_temporal_inferior"},1132:{color:[180,60,60],opacity:1,label:"ctx-lh-G_temporal_middle"},1133:{color:[60,60,220],opacity:1,label:"ctx-lh-G_temp_sup-G_temp_transv_and_interm_S"},1134:{color:[220,60,220],opacity:1,label:"ctx-lh-G_temp_sup-Lateral_aspect"},1135:{color:[65,220,60],opacity:1,label:"ctx-lh-G_temp_sup-Planum_polare"},1136:{color:[25,140,20],opacity:1,label:"ctx-lh-G_temp_sup-Planum_tempolare"},1137:{color:[13,0,250],opacity:1,label:"ctx-lh-G_and_S_transverse_frontopolar"},1138:{color:[61,20,220],opacity:1,label:"ctx-lh-Lat_Fissure-ant_sgt-ramus_horizontal"},1139:{color:[61,20,60],opacity:1,label:"ctx-lh-Lat_Fissure-ant_sgt-ramus_vertical"},1140:{color:[61,60,100],opacity:1,label:"ctx-lh-Lat_Fissure-post_sgt"},1141:{color:[25,25,25],opacity:1,label:"ctx-lh-Medial_wall"},1142:{color:[140,20,60],opacity:1,label:"ctx-lh-Pole_occipital"},1143:{color:[220,180,20],opacity:1,label:"ctx-lh-Pole_temporal"},1144:{color:[63,180,180],opacity:1,label:"ctx-lh-S_calcarine"},1145:{color:[221,20,10],opacity:1,label:"ctx-lh-S_central"},1146:{color:[21,220,20],opacity:1,label:"ctx-lh-S_central_insula"},1147:{color:[183,100,20],opacity:1,label:"ctx-lh-S_cingulate-Main_part_and_Intracingulate"},1148:{color:[221,20,100],opacity:1,label:"ctx-lh-S_cingulate-Marginalis_part"},1149:{color:[221,60,140],opacity:1,label:"ctx-lh-S_circular_insula_anterior"},1150:{color:[221,20,220],opacity:1,label:"ctx-lh-S_circular_insula_inferior"},1151:{color:[61,220,220],opacity:1,label:"ctx-lh-S_circular_insula_superior"},1152:{color:[100,200,200],opacity:1,label:"ctx-lh-S_collateral_transverse_ant"},1153:{color:[10,200,200],opacity:1,label:"ctx-lh-S_collateral_transverse_post"},1154:{color:[221,220,20],opacity:1,label:"ctx-lh-S_frontal_inferior"},1155:{color:[141,20,100],opacity:1,label:"ctx-lh-S_frontal_middle"},1156:{color:[61,220,100],opacity:1,label:"ctx-lh-S_frontal_superior"},1157:{color:[21,220,60],opacity:1,label:"ctx-lh-S_frontomarginal"},1158:{color:[141,60,20],opacity:1,label:"ctx-lh-S_intermedius_primus-Jensen"},1159:{color:[143,20,220],opacity:1,label:"ctx-lh-S_intraparietal-and_Parietal_transverse"},1160:{color:[61,20,180],opacity:1,label:"ctx-lh-S_occipital_anterior"},1161:{color:[101,60,220],opacity:1,label:"ctx-lh-S_occipital_middle_and_Lunatus"},1162:{color:[21,20,140],opacity:1,label:"ctx-lh-S_occipital_superior_and_transversalis"},1163:{color:[221,140,20],opacity:1,label:"ctx-lh-S_occipito-temporal_lateral"},1164:{color:[141,100,220],opacity:1,label:"ctx-lh-S_occipito-temporal_medial_and_S_Lingual"},1165:{color:[101,20,20],opacity:1,label:"ctx-lh-S_orbital-H_shapped"},1166:{color:[221,100,20],opacity:1,label:"ctx-lh-S_orbital_lateral"},1167:{color:[181,200,20],opacity:1,label:"ctx-lh-S_orbital_medial-Or_olfactory"},1168:{color:[21,180,140],opacity:1,label:"ctx-lh-S_paracentral"},1169:{color:[101,100,180],opacity:1,label:"ctx-lh-S_parieto_occipital"},1170:{color:[181,220,20],opacity:1,label:"ctx-lh-S_pericallosal"},1171:{color:[21,140,200],opacity:1,label:"ctx-lh-S_postcentral"},1172:{color:[21,20,240],opacity:1,label:"ctx-lh-S_precentral-Inferior-part"},1173:{color:[21,20,200],opacity:1,label:"ctx-lh-S_precentral-Superior-part"},1174:{color:[61,180,60],opacity:1,label:"ctx-lh-S_subcentral_ant"},1175:{color:[61,180,250],opacity:1,label:"ctx-lh-S_subcentral_post"},1176:{color:[21,20,60],opacity:1,label:"ctx-lh-S_suborbital"},1177:{color:[101,60,60],opacity:1,label:"ctx-lh-S_subparietal"},1178:{color:[21,220,220],opacity:1,label:"ctx-lh-S_supracingulate"},1179:{color:[21,180,180],opacity:1,label:"ctx-lh-S_temporal_inferior"},1180:{color:[223,220,60],opacity:1,label:"ctx-lh-S_temporal_superior"},1181:{color:[221,60,60],opacity:1,label:"ctx-lh-S_temporal_transverse"},2100:{color:[0,0,0],opacity:1,label:"ctx-rh-Unknown"},2101:{color:[50,50,50],opacity:1,label:"ctx-rh-Corpus_callosum"},2102:{color:[180,20,30],opacity:1,label:"ctx-rh-G_and_S_Insula_ONLY_AVERAGE"},2103:{color:[60,25,25],opacity:1,label:"ctx-rh-G_cingulate-Isthmus"},2104:{color:[25,60,60],opacity:1,label:"ctx-rh-G_cingulate-Main_part"},2105:{color:[180,20,20],opacity:1,label:"ctx-rh-G_cuneus"},2106:{color:[220,20,100],opacity:1,label:"ctx-rh-G_frontal_inf-Opercular_part"},2107:{color:[140,60,60],opacity:1,label:"ctx-rh-G_frontal_inf-Orbital_part"},2108:{color:[180,220,140],opacity:1,label:"ctx-rh-G_frontal_inf-Triangular_part"},2109:{color:[140,100,180],opacity:1,label:"ctx-rh-G_frontal_middle"},2110:{color:[180,20,140],opacity:1,label:"ctx-rh-G_frontal_superior"},2111:{color:[140,20,140],opacity:1,label:"ctx-rh-G_frontomarginal"},2112:{color:[21,10,10],opacity:1,label:"ctx-rh-G_insular_long"},2113:{color:[225,140,140],opacity:1,label:"ctx-rh-G_insular_short"},2114:{color:[23,60,180],opacity:1,label:"ctx-rh-G_and_S_occipital_inferior"},2115:{color:[180,60,180],opacity:1,label:"ctx-rh-G_occipital_middle"},2116:{color:[20,220,60],opacity:1,label:"ctx-rh-G_occipital_superior"},2117:{color:[60,20,140],opacity:1,label:"ctx-rh-G_occipit-temp_lat-Or_fusiform"},2118:{color:[220,180,140],opacity:1,label:"ctx-rh-G_occipit-temp_med-Lingual_part"},2119:{color:[65,100,20],opacity:1,label:"ctx-rh-G_occipit-temp_med-Parahippocampal_part"},2120:{color:[220,60,20],opacity:1,label:"ctx-rh-G_orbital"},2121:{color:[60,100,60],opacity:1,label:"ctx-rh-G_paracentral"},2122:{color:[20,60,220],opacity:1,label:"ctx-rh-G_parietal_inferior-Angular_part"},2123:{color:[100,100,60],opacity:1,label:"ctx-rh-G_parietal_inferior-Supramarginal_part"},2124:{color:[220,180,220],opacity:1,label:"ctx-rh-G_parietal_superior"},2125:{color:[20,180,140],opacity:1,label:"ctx-rh-G_postcentral"},2126:{color:[60,140,180],opacity:1,label:"ctx-rh-G_precentral"},2127:{color:[25,20,140],opacity:1,label:"ctx-rh-G_precuneus"},2128:{color:[20,60,100],opacity:1,label:"ctx-rh-G_rectus"},2129:{color:[60,220,20],opacity:1,label:"ctx-rh-G_subcallosal"},2130:{color:[60,20,220],opacity:1,label:"ctx-rh-G_subcentral"},2131:{color:[220,220,100],opacity:1,label:"ctx-rh-G_temporal_inferior"},2132:{color:[180,60,60],opacity:1,label:"ctx-rh-G_temporal_middle"},2133:{color:[60,60,220],opacity:1,label:"ctx-rh-G_temp_sup-G_temp_transv_and_interm_S"},2134:{color:[220,60,220],opacity:1,label:"ctx-rh-G_temp_sup-Lateral_aspect"},2135:{color:[65,220,60],opacity:1,label:"ctx-rh-G_temp_sup-Planum_polare"},2136:{color:[25,140,20],opacity:1,label:"ctx-rh-G_temp_sup-Planum_tempolare"},2137:{color:[13,0,250],opacity:1,label:"ctx-rh-G_and_S_transverse_frontopolar"},2138:{color:[61,20,220],opacity:1,label:"ctx-rh-Lat_Fissure-ant_sgt-ramus_horizontal"},2139:{color:[61,20,60],opacity:1,label:"ctx-rh-Lat_Fissure-ant_sgt-ramus_vertical"},2140:{color:[61,60,100],opacity:1,label:"ctx-rh-Lat_Fissure-post_sgt"},2141:{color:[25,25,25],opacity:1,label:"ctx-rh-Medial_wall"},2142:{color:[140,20,60],opacity:1,label:"ctx-rh-Pole_occipital"},2143:{color:[220,180,20],opacity:1,label:"ctx-rh-Pole_temporal"},2144:{color:[63,180,180],opacity:1,label:"ctx-rh-S_calcarine"},2145:{color:[221,20,10],opacity:1,label:"ctx-rh-S_central"},2146:{color:[21,220,20],opacity:1,label:"ctx-rh-S_central_insula"},2147:{color:[183,100,20],opacity:1,label:"ctx-rh-S_cingulate-Main_part_and_Intracingulate"},2148:{color:[221,20,100],opacity:1,label:"ctx-rh-S_cingulate-Marginalis_part"},2149:{color:[221,60,140],opacity:1,label:"ctx-rh-S_circular_insula_anterior"},2150:{color:[221,20,220],opacity:1,label:"ctx-rh-S_circular_insula_inferior"},2151:{color:[61,220,220],opacity:1,label:"ctx-rh-S_circular_insula_superior"},2152:{color:[100,200,200],opacity:1,label:"ctx-rh-S_collateral_transverse_ant"},2153:{color:[10,200,200],opacity:1,label:"ctx-rh-S_collateral_transverse_post"},2154:{color:[221,220,20],opacity:1,label:"ctx-rh-S_frontal_inferior"},2155:{color:[141,20,100],opacity:1,label:"ctx-rh-S_frontal_middle"},2156:{color:[61,220,100],opacity:1,label:"ctx-rh-S_frontal_superior"},2157:{color:[21,220,60],opacity:1,label:"ctx-rh-S_frontomarginal"},2158:{color:[141,60,20],opacity:1,label:"ctx-rh-S_intermedius_primus-Jensen"},2159:{color:[143,20,220],opacity:1,label:"ctx-rh-S_intraparietal-and_Parietal_transverse"},2160:{color:[61,20,180],opacity:1,label:"ctx-rh-S_occipital_anterior"},2161:{color:[101,60,220],opacity:1,label:"ctx-rh-S_occipital_middle_and_Lunatus"},2162:{color:[21,20,140],opacity:1,label:"ctx-rh-S_occipital_superior_and_transversalis"},2163:{color:[221,140,20],opacity:1,label:"ctx-rh-S_occipito-temporal_lateral"},2164:{color:[141,100,220],opacity:1,label:"ctx-rh-S_occipito-temporal_medial_and_S_Lingual"},2165:{color:[101,20,20],opacity:1,label:"ctx-rh-S_orbital-H_shapped"},2166:{color:[221,100,20],opacity:1,label:"ctx-rh-S_orbital_lateral"},2167:{color:[181,200,20],opacity:1,label:"ctx-rh-S_orbital_medial-Or_olfactory"},2168:{color:[21,180,140],opacity:1,label:"ctx-rh-S_paracentral"},2169:{color:[101,100,180],opacity:1,label:"ctx-rh-S_parieto_occipital"},2170:{color:[181,220,20],opacity:1,label:"ctx-rh-S_pericallosal"},2171:{color:[21,140,200],opacity:1,label:"ctx-rh-S_postcentral"},2172:{color:[21,20,240],opacity:1,label:"ctx-rh-S_precentral-Inferior-part"},2173:{color:[21,20,200],opacity:1,label:"ctx-rh-S_precentral-Superior-part"},2174:{color:[61,180,60],opacity:1,label:"ctx-rh-S_subcentral_ant"},2175:{color:[61,180,250],opacity:1,label:"ctx-rh-S_subcentral_post"},2176:{color:[21,20,60],opacity:1,label:"ctx-rh-S_suborbital"},2177:{color:[101,60,60],opacity:1,label:"ctx-rh-S_subparietal"},2178:{color:[21,220,220],opacity:1,label:"ctx-rh-S_supracingulate"},2179:{color:[21,180,180],opacity:1,label:"ctx-rh-S_temporal_inferior"},2180:{color:[223,220,60],opacity:1,label:"ctx-rh-S_temporal_superior"},2181:{color:[221,60,60],opacity:1,label:"ctx-rh-S_temporal_transverse"},2200:{color:[25,60,61],opacity:1,label:"ctx-rh-G_cingulate-caudal_ACC"},2201:{color:[25,90,60],opacity:1,label:"ctx-rh-G_cingulate-rostral_ACC"},2202:{color:[25,120,60],opacity:1,label:"ctx-rh-G_cingulate-posterior"},2205:{color:[25,150,60],opacity:1,label:"ctx-rh-S_cingulate-caudal_ACC"},2206:{color:[25,180,60],opacity:1,label:"ctx-rh-S_cingulate-rostral_ACC"},2207:{color:[25,210,60],opacity:1,label:"ctx-rh-S_cingulate-posterior"},2210:{color:[25,150,90],opacity:1,label:"ctx-rh-S_pericallosal-caudal"},2211:{color:[25,180,90],opacity:1,label:"ctx-rh-S_pericallosal-rostral"},2212:{color:[25,210,90],opacity:1,label:"ctx-rh-S_pericallosal-posterior"},3100:{color:[0,0,0],opacity:1,label:"wm-lh-Unknown"},3101:{color:[50,50,50],opacity:1,label:"wm-lh-Corpus_callosum"},3102:{color:[180,20,30],opacity:1,label:"wm-lh-G_and_S_Insula_ONLY_AVERAGE"},3103:{color:[60,25,25],opacity:1,label:"wm-lh-G_cingulate-Isthmus"},3104:{color:[25,60,60],opacity:1,label:"wm-lh-G_cingulate-Main_part"},3105:{color:[180,20,20],opacity:1,label:"wm-lh-G_cuneus"},3106:{color:[220,20,100],opacity:1,label:"wm-lh-G_frontal_inf-Opercular_part"},3107:{color:[140,60,60],opacity:1,label:"wm-lh-G_frontal_inf-Orbital_part"},3108:{color:[180,220,140],opacity:1,label:"wm-lh-G_frontal_inf-Triangular_part"},3109:{color:[140,100,180],opacity:1,label:"wm-lh-G_frontal_middle"},3110:{color:[180,20,140],opacity:1,label:"wm-lh-G_frontal_superior"},3111:{color:[140,20,140],opacity:1,label:"wm-lh-G_frontomarginal"},3112:{color:[21,10,10],opacity:1,label:"wm-lh-G_insular_long"},3113:{color:[225,140,140],opacity:1,label:"wm-lh-G_insular_short"},3114:{color:[23,60,180],opacity:1,label:"wm-lh-G_and_S_occipital_inferior"},3115:{color:[180,60,180],opacity:1,label:"wm-lh-G_occipital_middle"},3116:{color:[20,220,60],opacity:1,label:"wm-lh-G_occipital_superior"},3117:{color:[60,20,140],opacity:1,label:"wm-lh-G_occipit-temp_lat-Or_fusiform"},3118:{color:[220,180,140],opacity:1,label:"wm-lh-G_occipit-temp_med-Lingual_part"},3119:{color:[65,100,20],opacity:1,label:"wm-lh-G_occipit-temp_med-Parahippocampal_part"},3120:{color:[220,60,20],opacity:1,label:"wm-lh-G_orbital"},3121:{color:[60,100,60],opacity:1,label:"wm-lh-G_paracentral"},3122:{color:[20,60,220],opacity:1,label:"wm-lh-G_parietal_inferior-Angular_part"},3123:{color:[100,100,60],opacity:1,label:"wm-lh-G_parietal_inferior-Supramarginal_part"},3124:{color:[220,180,220],opacity:1,label:"wm-lh-G_parietal_superior"},3125:{color:[20,180,140],opacity:1,label:"wm-lh-G_postcentral"},3126:{color:[60,140,180],opacity:1,label:"wm-lh-G_precentral"},3127:{color:[25,20,140],opacity:1,label:"wm-lh-G_precuneus"},3128:{color:[20,60,100],opacity:1,label:"wm-lh-G_rectus"},3129:{color:[60,220,20],opacity:1,label:"wm-lh-G_subcallosal"},3130:{color:[60,20,220],opacity:1,label:"wm-lh-G_subcentral"},3131:{color:[220,220,100],opacity:1,label:"wm-lh-G_temporal_inferior"},3132:{color:[180,60,60],opacity:1,label:"wm-lh-G_temporal_middle"},3133:{color:[60,60,220],opacity:1,label:"wm-lh-G_temp_sup-G_temp_transv_and_interm_S"},3134:{color:[220,60,220],opacity:1,label:"wm-lh-G_temp_sup-Lateral_aspect"},3135:{color:[65,220,60],opacity:1,label:"wm-lh-G_temp_sup-Planum_polare"},3136:{color:[25,140,20],opacity:1,label:"wm-lh-G_temp_sup-Planum_tempolare"},3137:{color:[13,0,250],opacity:1,label:"wm-lh-G_and_S_transverse_frontopolar"},3138:{color:[61,20,220],opacity:1,label:"wm-lh-Lat_Fissure-ant_sgt-ramus_horizontal"},3139:{color:[61,20,60],opacity:1,label:"wm-lh-Lat_Fissure-ant_sgt-ramus_vertical"},3140:{color:[61,60,100],opacity:1,label:"wm-lh-Lat_Fissure-post_sgt"},3141:{color:[25,25,25],opacity:1,label:"wm-lh-Medial_wall"},3142:{color:[140,20,60],opacity:1,label:"wm-lh-Pole_occipital"},3143:{color:[220,180,20],opacity:1,label:"wm-lh-Pole_temporal"},3144:{color:[63,180,180],opacity:1,label:"wm-lh-S_calcarine"},3145:{color:[221,20,10],opacity:1,label:"wm-lh-S_central"},3146:{color:[21,220,20],opacity:1,label:"wm-lh-S_central_insula"},3147:{color:[183,100,20],opacity:1,label:"wm-lh-S_cingulate-Main_part_and_Intracingulate"},3148:{color:[221,20,100],opacity:1,label:"wm-lh-S_cingulate-Marginalis_part"},3149:{color:[221,60,140],opacity:1,label:"wm-lh-S_circular_insula_anterior"},3150:{color:[221,20,220],opacity:1,label:"wm-lh-S_circular_insula_inferior"},3151:{color:[61,220,220],opacity:1,label:"wm-lh-S_circular_insula_superior"},3152:{color:[100,200,200],opacity:1,label:"wm-lh-S_collateral_transverse_ant"},3153:{color:[10,200,200],opacity:1,label:"wm-lh-S_collateral_transverse_post"},3154:{color:[221,220,20],opacity:1,label:"wm-lh-S_frontal_inferior"},3155:{color:[141,20,100],opacity:1,label:"wm-lh-S_frontal_middle"},3156:{color:[61,220,100],opacity:1,label:"wm-lh-S_frontal_superior"},3157:{color:[21,220,60],opacity:1,label:"wm-lh-S_frontomarginal"},3158:{color:[141,60,20],opacity:1,label:"wm-lh-S_intermedius_primus-Jensen"},3159:{color:[143,20,220],opacity:1,label:"wm-lh-S_intraparietal-and_Parietal_transverse"},3160:{color:[61,20,180],opacity:1,label:"wm-lh-S_occipital_anterior"},3161:{color:[101,60,220],opacity:1,label:"wm-lh-S_occipital_middle_and_Lunatus"},3162:{color:[21,20,140],opacity:1,label:"wm-lh-S_occipital_superior_and_transversalis"},3163:{color:[221,140,20],opacity:1,label:"wm-lh-S_occipito-temporal_lateral"},3164:{color:[141,100,220],opacity:1,label:"wm-lh-S_occipito-temporal_medial_and_S_Lingual"},3165:{color:[101,20,20],opacity:1,label:"wm-lh-S_orbital-H_shapped"},3166:{color:[221,100,20],opacity:1,label:"wm-lh-S_orbital_lateral"},3167:{color:[181,200,20],opacity:1,label:"wm-lh-S_orbital_medial-Or_olfactory"},3168:{color:[21,180,140],opacity:1,label:"wm-lh-S_paracentral"},3169:{color:[101,100,180],opacity:1,label:"wm-lh-S_parieto_occipital"},3170:{color:[181,220,20],opacity:1,label:"wm-lh-S_pericallosal"},3171:{color:[21,140,200],opacity:1,label:"wm-lh-S_postcentral"},3172:{color:[21,20,240],opacity:1,label:"wm-lh-S_precentral-Inferior-part"},3173:{color:[21,20,200],opacity:1,label:"wm-lh-S_precentral-Superior-part"},3174:{color:[61,180,60],opacity:1,label:"wm-lh-S_subcentral_ant"},3175:{color:[61,180,250],opacity:1,label:"wm-lh-S_subcentral_post"},3176:{color:[21,20,60],opacity:1,label:"wm-lh-S_suborbital"},3177:{color:[101,60,60],opacity:1,label:"wm-lh-S_subparietal"},3178:{color:[21,220,220],opacity:1,label:"wm-lh-S_supracingulate"},3179:{color:[21,180,180],opacity:1,label:"wm-lh-S_temporal_inferior"},3180:{color:[223,220,60],opacity:1,label:"wm-lh-S_temporal_superior"},3181:{color:[221,60,60],opacity:1,label:"wm-lh-S_temporal_transverse"},4100:{color:[0,0,0],opacity:1,label:"wm-rh-Unknown"},4101:{color:[50,50,50],opacity:1,label:"wm-rh-Corpus_callosum"},4102:{color:[180,20,30],opacity:1,label:"wm-rh-G_and_S_Insula_ONLY_AVERAGE"},4103:{color:[60,25,25],opacity:1,label:"wm-rh-G_cingulate-Isthmus"},4104:{color:[25,60,60],opacity:1,label:"wm-rh-G_cingulate-Main_part"},4105:{color:[180,20,20],opacity:1,label:"wm-rh-G_cuneus"},4106:{color:[220,20,100],opacity:1,label:"wm-rh-G_frontal_inf-Opercular_part"},4107:{color:[140,60,60],opacity:1,label:"wm-rh-G_frontal_inf-Orbital_part"},4108:{color:[180,220,140],opacity:1,label:"wm-rh-G_frontal_inf-Triangular_part"},4109:{color:[140,100,180],opacity:1,label:"wm-rh-G_frontal_middle"},4110:{color:[180,20,140],opacity:1,label:"wm-rh-G_frontal_superior"},4111:{color:[140,20,140],opacity:1,label:"wm-rh-G_frontomarginal"},4112:{color:[21,10,10],opacity:1,label:"wm-rh-G_insular_long"},4113:{color:[225,140,140],opacity:1,label:"wm-rh-G_insular_short"},4114:{color:[23,60,180],opacity:1,label:"wm-rh-G_and_S_occipital_inferior"},4115:{color:[180,60,180],opacity:1,label:"wm-rh-G_occipital_middle"},4116:{color:[20,220,60],opacity:1,label:"wm-rh-G_occipital_superior"},4117:{color:[60,20,140],opacity:1,label:"wm-rh-G_occipit-temp_lat-Or_fusiform"},4118:{color:[220,180,140],opacity:1,label:"wm-rh-G_occipit-temp_med-Lingual_part"},4119:{color:[65,100,20],opacity:1,label:"wm-rh-G_occipit-temp_med-Parahippocampal_part"},4120:{color:[220,60,20],opacity:1,label:"wm-rh-G_orbital"},4121:{color:[60,100,60],opacity:1,label:"wm-rh-G_paracentral"},4122:{color:[20,60,220],opacity:1,label:"wm-rh-G_parietal_inferior-Angular_part"},4123:{color:[100,100,60],opacity:1,label:"wm-rh-G_parietal_inferior-Supramarginal_part"},4124:{color:[220,180,220],opacity:1,label:"wm-rh-G_parietal_superior"},4125:{color:[20,180,140],opacity:1,label:"wm-rh-G_postcentral"},4126:{color:[60,140,180],opacity:1,label:"wm-rh-G_precentral"},4127:{color:[25,20,140],opacity:1,label:"wm-rh-G_precuneus"},4128:{color:[20,60,100],opacity:1,label:"wm-rh-G_rectus"},4129:{color:[60,220,20],opacity:1,label:"wm-rh-G_subcallosal"},4130:{color:[60,20,220],opacity:1,label:"wm-rh-G_subcentral"},4131:{color:[220,220,100],opacity:1,label:"wm-rh-G_temporal_inferior"},4132:{color:[180,60,60],opacity:1,label:"wm-rh-G_temporal_middle"},4133:{color:[60,60,220],opacity:1,label:"wm-rh-G_temp_sup-G_temp_transv_and_interm_S"},4134:{color:[220,60,220],opacity:1,label:"wm-rh-G_temp_sup-Lateral_aspect"},4135:{color:[65,220,60],opacity:1,label:"wm-rh-G_temp_sup-Planum_polare"},4136:{color:[25,140,20],opacity:1,label:"wm-rh-G_temp_sup-Planum_tempolare"},4137:{color:[13,0,250],opacity:1,label:"wm-rh-G_and_S_transverse_frontopolar"},4138:{color:[61,20,220],opacity:1,label:"wm-rh-Lat_Fissure-ant_sgt-ramus_horizontal"},4139:{color:[61,20,60],opacity:1,label:"wm-rh-Lat_Fissure-ant_sgt-ramus_vertical"},4140:{color:[61,60,100],opacity:1,label:"wm-rh-Lat_Fissure-post_sgt"},4141:{color:[25,25,25],opacity:1,label:"wm-rh-Medial_wall"},4142:{color:[140,20,60],opacity:1,label:"wm-rh-Pole_occipital"},4143:{color:[220,180,20],opacity:1,label:"wm-rh-Pole_temporal"},4144:{color:[63,180,180],opacity:1,label:"wm-rh-S_calcarine"},4145:{color:[221,20,10],opacity:1,label:"wm-rh-S_central"},4146:{color:[21,220,20],opacity:1,label:"wm-rh-S_central_insula"},4147:{color:[183,100,20],opacity:1,label:"wm-rh-S_cingulate-Main_part_and_Intracingulate"},4148:{color:[221,20,100],opacity:1,label:"wm-rh-S_cingulate-Marginalis_part"},4149:{color:[221,60,140],opacity:1,label:"wm-rh-S_circular_insula_anterior"},4150:{color:[221,20,220],opacity:1,label:"wm-rh-S_circular_insula_inferior"},4151:{color:[61,220,220],opacity:1,label:"wm-rh-S_circular_insula_superior"},4152:{color:[100,200,200],opacity:1,label:"wm-rh-S_collateral_transverse_ant"},4153:{color:[10,200,200],opacity:1,label:"wm-rh-S_collateral_transverse_post"},4154:{color:[221,220,20],opacity:1,label:"wm-rh-S_frontal_inferior"},4155:{color:[141,20,100],opacity:1,label:"wm-rh-S_frontal_middle"},4156:{color:[61,220,100],opacity:1,label:"wm-rh-S_frontal_superior"},4157:{color:[21,220,60],opacity:1,label:"wm-rh-S_frontomarginal"},4158:{color:[141,60,20],opacity:1,label:"wm-rh-S_intermedius_primus-Jensen"},4159:{color:[143,20,220],opacity:1,label:"wm-rh-S_intraparietal-and_Parietal_transverse"},4160:{color:[61,20,180],opacity:1,label:"wm-rh-S_occipital_anterior"},4161:{color:[101,60,220],opacity:1,label:"wm-rh-S_occipital_middle_and_Lunatus"},4162:{color:[21,20,140],opacity:1,label:"wm-rh-S_occipital_superior_and_transversalis"},4163:{color:[221,140,20],opacity:1,label:"wm-rh-S_occipito-temporal_lateral"},4164:{color:[141,100,220],opacity:1,label:"wm-rh-S_occipito-temporal_medial_and_S_Lingual"},4165:{color:[101,20,20],opacity:1,label:"wm-rh-S_orbital-H_shapped"},4166:{color:[221,100,20],opacity:1,label:"wm-rh-S_orbital_lateral"},4167:{color:[181,200,20],opacity:1,label:"wm-rh-S_orbital_medial-Or_olfactory"},4168:{color:[21,180,140],opacity:1,label:"wm-rh-S_paracentral"},4169:{color:[101,100,180],opacity:1,label:"wm-rh-S_parieto_occipital"},4170:{color:[181,220,20],opacity:1,label:"wm-rh-S_pericallosal"},4171:{color:[21,140,200],opacity:1,label:"wm-rh-S_postcentral"},4172:{color:[21,20,240],opacity:1,label:"wm-rh-S_precentral-Inferior-part"},4173:{color:[21,20,200],opacity:1,label:"wm-rh-S_precentral-Superior-part"},4174:{color:[61,180,60],opacity:1,label:"wm-rh-S_subcentral_ant"},4175:{color:[61,180,250],opacity:1,label:"wm-rh-S_subcentral_post"},4176:{color:[21,20,60],opacity:1,label:"wm-rh-S_suborbital"},4177:{color:[101,60,60],opacity:1,label:"wm-rh-S_subparietal"},4178:{color:[21,220,220],opacity:1,label:"wm-rh-S_supracingulate"},4179:{color:[21,180,180],opacity:1,label:"wm-rh-S_temporal_inferior"},4180:{color:[223,220,60],opacity:1,label:"wm-rh-S_temporal_superior"},4181:{color:[221,60,60],opacity:1,label:"wm-rh-S_temporal_transverse"},5001:{color:[20,30,40],opacity:1,label:"Left-UnsegmentedWhiteMatter"},5002:{color:[20,30,40],opacity:1,label:"Right-UnsegmentedWhiteMatter"},5100:{color:[204,102,102],opacity:1,label:"fmajor"},5101:{color:[204,102,102],opacity:1,label:"fminor"},5102:{color:[255,255,102],opacity:1,label:"lh.atr"},5103:{color:[153,204,0],opacity:1,label:"lh.cab"},5104:{color:[0,153,153],opacity:1,label:"lh.ccg"},5105:{color:[204,153,255],opacity:1,label:"lh.cst"},5106:{color:[255,153,51],opacity:1,label:"lh.ilf"},5107:{color:[204,204,204],opacity:1,label:"lh.slfp"},5108:{color:[153,255,255],opacity:1,label:"lh.slft"},5109:{color:[102,153,255],opacity:1,label:"lh.unc"},5110:{color:[255,255,102],opacity:1,label:"rh.atr"},5111:{color:[153,204,0],opacity:1,label:"rh.cab"},5112:{color:[0,153,153],opacity:1,label:"rh.ccg"},5113:{color:[204,153,255],opacity:1,label:"rh.cst"},5114:{color:[255,153,51],opacity:1,label:"rh.ilf"},5115:{color:[204,204,204],opacity:1,label:"rh.slfp"},5116:{color:[153,255,255],opacity:1,label:"rh.slft"},5117:{color:[102,153,255],opacity:1,label:"rh.unc"},5200:{color:[204,102,102],opacity:1,label:"CC-ForcepsMajor"},5201:{color:[204,102,102],opacity:1,label:"CC-ForcepsMinor"},5202:{color:[255,255,102],opacity:1,label:"LAntThalRadiation"},5203:{color:[153,204,0],opacity:1,label:"LCingulumAngBundle"},5204:{color:[0,153,153],opacity:1,label:"LCingulumCingGyrus"},5205:{color:[204,153,255],opacity:1,label:"LCorticospinalTract"},5206:{color:[255,153,51],opacity:1,label:"LInfLongFas"},5207:{color:[204,204,204],opacity:1,label:"LSupLongFasParietal"},5208:{color:[153,255,255],opacity:1,label:"LSupLongFasTemporal"},5209:{color:[102,153,255],opacity:1,label:"LUncinateFas"},5210:{color:[255,255,102],opacity:1,label:"RAntThalRadiation"},5211:{color:[153,204,0],opacity:1,label:"RCingulumAngBundle"},5212:{color:[0,153,153],opacity:1,label:"RCingulumCingGyrus"},5213:{color:[204,153,255],opacity:1,label:"RCorticospinalTract"},5214:{color:[255,153,51],opacity:1,label:"RInfLongFas"},5215:{color:[204,204,204],opacity:1,label:"RSupLongFasParietal"},5216:{color:[153,255,255],opacity:1,label:"RSupLongFasTemporal"},5217:{color:[102,153,255],opacity:1,label:"RUncinateFas"},6e3:{color:[0,255,0],opacity:1,label:"CST-orig"},6001:{color:[255,255,0],opacity:1,label:"CST-hammer"},6002:{color:[0,255,255],opacity:1,label:"CST-CVS"},6003:{color:[0,0,255],opacity:1,label:"CST-flirt"},6010:{color:[236,16,231],opacity:1,label:"Left-SLF1"},6020:{color:[237,18,232],opacity:1,label:"Right-SLF1"},6030:{color:[236,13,227],opacity:1,label:"Left-SLF3"},6040:{color:[236,17,228],opacity:1,label:"Right-SLF3"},6050:{color:[1,255,1],opacity:1,label:"Left-CST"},6060:{color:[2,255,1],opacity:1,label:"Right-CST"},6070:{color:[236,14,230],opacity:1,label:"Left-SLF2"},6080:{color:[237,14,230],opacity:1,label:"Right-SLF2"},7001:{color:[72,132,181],opacity:1,label:"Lateral-nucleus"},7002:{color:[243,243,243],opacity:1,label:"Basolateral-nucleus"},7003:{color:[207,63,79],opacity:1,label:"Basal-nucleus"},7004:{color:[121,20,135],opacity:1,label:"Centromedial-nucleus"},7005:{color:[197,60,248],opacity:1,label:"Central-nucleus"},7006:{color:[2,149,2],opacity:1,label:"Medial-nucleus"},7007:{color:[221,249,166],opacity:1,label:"Cortical-nucleus"},7008:{color:[232,146,35],opacity:1,label:"Accessory-Basal-nucleus"},7009:{color:[20,60,120],opacity:1,label:"Corticoamygdaloid-transitio"},7010:{color:[250,250,0],opacity:1,label:"Anterior-amygdaloid-area-AAA"},7011:{color:[122,187,222],opacity:1,label:"Fusion-amygdala-HP-FAH"},7012:{color:[237,12,177],opacity:1,label:"Hippocampal-amygdala-transition-HATA"},7013:{color:[10,49,255],opacity:1,label:"Endopiriform-nucleus"},7014:{color:[205,184,144],opacity:1,label:"Lateral-nucleus-olfactory-tract"},7015:{color:[45,205,165],opacity:1,label:"Paralaminar-nucleus"},7016:{color:[117,160,175],opacity:1,label:"Intercalated-nucleus"},7017:{color:[221,217,21],opacity:1,label:"Prepiriform-cortex"},7018:{color:[20,60,120],opacity:1,label:"Periamygdaloid-cortex"},7019:{color:[141,21,100],opacity:1,label:"Envelope-Amygdala"},7020:{color:[225,140,141],opacity:1,label:"Extranuclear-Amydala"},7100:{color:[42,201,168],opacity:1,label:"Brainstem-inferior-colliculus"},7101:{color:[168,104,162],opacity:1,label:"Brainstem-cochlear-nucleus"},8001:{color:[74,130,181],opacity:1,label:"Thalamus-Anterior"},8002:{color:[242,241,240],opacity:1,label:"Thalamus-Ventral-anterior"},8003:{color:[206,65,78],opacity:1,label:"Thalamus-Lateral-dorsal"},8004:{color:[120,21,133],opacity:1,label:"Thalamus-Lateral-posterior"},8005:{color:[195,61,246],opacity:1,label:"Thalamus-Ventral-lateral"},8006:{color:[3,147,6],opacity:1,label:"Thalamus-Ventral-posterior-medial"},8007:{color:[220,251,163],opacity:1,label:"Thalamus-Ventral-posterior-lateral"},8008:{color:[232,146,33],opacity:1,label:"Thalamus-intralaminar"},8009:{color:[4,114,14],opacity:1,label:"Thalamus-centromedian"},8010:{color:[121,184,220],opacity:1,label:"Thalamus-mediodorsal"},8011:{color:[235,11,175],opacity:1,label:"Thalamus-medial"},8012:{color:[12,46,250],opacity:1,label:"Thalamus-pulvinar"},8013:{color:[203,182,143],opacity:1,label:"Thalamus-lateral-geniculate"},8014:{color:[42,204,167],opacity:1,label:"Thalamus-medial-geniculate"},9e3:{color:[50,100,30],opacity:1,label:"ctx-lh-prefrontal"},9001:{color:[30,100,45],opacity:1,label:"ctx-lh-primary-motor"},9002:{color:[130,100,165],opacity:1,label:"ctx-lh-premotor"},9003:{color:[105,25,5],opacity:1,label:"ctx-lh-temporal"},9004:{color:[125,70,55],opacity:1,label:"ctx-lh-posterior-parietal"},9005:{color:[225,20,105],opacity:1,label:"ctx-lh-prim-sec-somatosensory"},9006:{color:[225,20,15],opacity:1,label:"ctx-lh-occipital"},9500:{color:[50,200,30],opacity:1,label:"ctx-rh-prefrontal"},9501:{color:[30,150,45],opacity:1,label:"ctx-rh-primary-motor"},9502:{color:[130,150,165],opacity:1,label:"ctx-rh-premotor"},9503:{color:[105,75,5],opacity:1,label:"ctx-rh-temporal"},9504:{color:[125,120,55],opacity:1,label:"ctx-rh-posterior-parietal"},9505:{color:[225,70,105],opacity:1,label:"ctx-rh-prim-sec-somatosensory"},9506:{color:[225,70,15],opacity:1,label:"ctx-rh-occipital"},11100:{color:[0,0,0],opacity:1,label:"ctx_lh_Unknown"},11101:{color:[23,220,60],opacity:1,label:"ctx_lh_G_and_S_frontomargin"},11102:{color:[23,60,180],opacity:1,label:"ctx_lh_G_and_S_occipital_inf"},11103:{color:[63,100,60],opacity:1,label:"ctx_lh_G_and_S_paracentral"},11104:{color:[63,20,220],opacity:1,label:"ctx_lh_G_and_S_subcentral"},11105:{color:[13,0,250],opacity:1,label:"ctx_lh_G_and_S_transv_frontopol"},11106:{color:[26,60,0],opacity:1,label:"ctx_lh_G_and_S_cingul-Ant"},11107:{color:[26,60,75],opacity:1,label:"ctx_lh_G_and_S_cingul-Mid-Ant"},11108:{color:[26,60,150],opacity:1,label:"ctx_lh_G_and_S_cingul-Mid-Post"},11109:{color:[25,60,250],opacity:1,label:"ctx_lh_G_cingul-Post-dorsal"},11110:{color:[60,25,25],opacity:1,label:"ctx_lh_G_cingul-Post-ventral"},11111:{color:[180,20,20],opacity:1,label:"ctx_lh_G_cuneus"},11112:{color:[220,20,100],opacity:1,label:"ctx_lh_G_front_inf-Opercular"},11113:{color:[140,60,60],opacity:1,label:"ctx_lh_G_front_inf-Orbital"},11114:{color:[180,220,140],opacity:1,label:"ctx_lh_G_front_inf-Triangul"},11115:{color:[140,100,180],opacity:1,label:"ctx_lh_G_front_middle"},11116:{color:[180,20,140],opacity:1,label:"ctx_lh_G_front_sup"},11117:{color:[23,10,10],opacity:1,label:"ctx_lh_G_Ins_lg_and_S_cent_ins"},11118:{color:[225,140,140],opacity:1,label:"ctx_lh_G_insular_short"},11119:{color:[180,60,180],opacity:1,label:"ctx_lh_G_occipital_middle"},11120:{color:[20,220,60],opacity:1,label:"ctx_lh_G_occipital_sup"},11121:{color:[60,20,140],opacity:1,label:"ctx_lh_G_oc-temp_lat-fusifor"},11122:{color:[220,180,140],opacity:1,label:"ctx_lh_G_oc-temp_med-Lingual"},11123:{color:[65,100,20],opacity:1,label:"ctx_lh_G_oc-temp_med-Parahip"},11124:{color:[220,60,20],opacity:1,label:"ctx_lh_G_orbital"},11125:{color:[20,60,220],opacity:1,label:"ctx_lh_G_pariet_inf-Angular"},11126:{color:[100,100,60],opacity:1,label:"ctx_lh_G_pariet_inf-Supramar"},11127:{color:[220,180,220],opacity:1,label:"ctx_lh_G_parietal_sup"},11128:{color:[20,180,140],opacity:1,label:"ctx_lh_G_postcentral"},11129:{color:[60,140,180],opacity:1,label:"ctx_lh_G_precentral"},11130:{color:[25,20,140],opacity:1,label:"ctx_lh_G_precuneus"},11131:{color:[20,60,100],opacity:1,label:"ctx_lh_G_rectus"},11132:{color:[60,220,20],opacity:1,label:"ctx_lh_G_subcallosal"},11133:{color:[60,60,220],opacity:1,label:"ctx_lh_G_temp_sup-G_T_transv"},11134:{color:[220,60,220],opacity:1,label:"ctx_lh_G_temp_sup-Lateral"},11135:{color:[65,220,60],opacity:1,label:"ctx_lh_G_temp_sup-Plan_polar"},11136:{color:[25,140,20],opacity:1,label:"ctx_lh_G_temp_sup-Plan_tempo"},11137:{color:[220,220,100],opacity:1,label:"ctx_lh_G_temporal_inf"},11138:{color:[180,60,60],opacity:1,label:"ctx_lh_G_temporal_middle"},11139:{color:[61,20,220],opacity:1,label:"ctx_lh_Lat_Fis-ant-Horizont"},11140:{color:[61,20,60],opacity:1,label:"ctx_lh_Lat_Fis-ant-Vertical"},11141:{color:[61,60,100],opacity:1,label:"ctx_lh_Lat_Fis-post"},11142:{color:[25,25,25],opacity:1,label:"ctx_lh_Medial_wall"},11143:{color:[140,20,60],opacity:1,label:"ctx_lh_Pole_occipital"},11144:{color:[220,180,20],opacity:1,label:"ctx_lh_Pole_temporal"},11145:{color:[63,180,180],opacity:1,label:"ctx_lh_S_calcarine"},11146:{color:[221,20,10],opacity:1,label:"ctx_lh_S_central"},11147:{color:[221,20,100],opacity:1,label:"ctx_lh_S_cingul-Marginalis"},11148:{color:[221,60,140],opacity:1,label:"ctx_lh_S_circular_insula_ant"},11149:{color:[221,20,220],opacity:1,label:"ctx_lh_S_circular_insula_inf"},11150:{color:[61,220,220],opacity:1,label:"ctx_lh_S_circular_insula_sup"},11151:{color:[100,200,200],opacity:1,label:"ctx_lh_S_collat_transv_ant"},11152:{color:[10,200,200],opacity:1,label:"ctx_lh_S_collat_transv_post"},11153:{color:[221,220,20],opacity:1,label:"ctx_lh_S_front_inf"},11154:{color:[141,20,100],opacity:1,label:"ctx_lh_S_front_middle"},11155:{color:[61,220,100],opacity:1,label:"ctx_lh_S_front_sup"},11156:{color:[141,60,20],opacity:1,label:"ctx_lh_S_interm_prim-Jensen"},11157:{color:[143,20,220],opacity:1,label:"ctx_lh_S_intrapariet_and_P_trans"},11158:{color:[101,60,220],opacity:1,label:"ctx_lh_S_oc_middle_and_Lunatus"},11159:{color:[21,20,140],opacity:1,label:"ctx_lh_S_oc_sup_and_transversal"},11160:{color:[61,20,180],opacity:1,label:"ctx_lh_S_occipital_ant"},11161:{color:[221,140,20],opacity:1,label:"ctx_lh_S_oc-temp_lat"},11162:{color:[141,100,220],opacity:1,label:"ctx_lh_S_oc-temp_med_and_Lingual"},11163:{color:[221,100,20],opacity:1,label:"ctx_lh_S_orbital_lateral"},11164:{color:[181,200,20],opacity:1,label:"ctx_lh_S_orbital_med-olfact"},11165:{color:[101,20,20],opacity:1,label:"ctx_lh_S_orbital-H_Shaped"},11166:{color:[101,100,180],opacity:1,label:"ctx_lh_S_parieto_occipital"},11167:{color:[181,220,20],opacity:1,label:"ctx_lh_S_pericallosal"},11168:{color:[21,140,200],opacity:1,label:"ctx_lh_S_postcentral"},11169:{color:[21,20,240],opacity:1,label:"ctx_lh_S_precentral-inf-part"},11170:{color:[21,20,200],opacity:1,label:"ctx_lh_S_precentral-sup-part"},11171:{color:[21,20,60],opacity:1,label:"ctx_lh_S_suborbital"},11172:{color:[101,60,60],opacity:1,label:"ctx_lh_S_subparietal"},11173:{color:[21,180,180],opacity:1,label:"ctx_lh_S_temporal_inf"},11174:{color:[223,220,60],opacity:1,label:"ctx_lh_S_temporal_sup"},11175:{color:[221,60,60],opacity:1,label:"ctx_lh_S_temporal_transverse"},12100:{color:[0,0,0],opacity:1,label:"ctx_rh_Unknown"},12101:{color:[23,220,60],opacity:1,label:"ctx_rh_G_and_S_frontomargin"},12102:{color:[23,60,180],opacity:1,label:"ctx_rh_G_and_S_occipital_inf"},12103:{color:[63,100,60],opacity:1,label:"ctx_rh_G_and_S_paracentral"},12104:{color:[63,20,220],opacity:1,label:"ctx_rh_G_and_S_subcentral"},12105:{color:[13,0,250],opacity:1,label:"ctx_rh_G_and_S_transv_frontopol"},12106:{color:[26,60,0],opacity:1,label:"ctx_rh_G_and_S_cingul-Ant"},12107:{color:[26,60,75],opacity:1,label:"ctx_rh_G_and_S_cingul-Mid-Ant"},12108:{color:[26,60,150],opacity:1,label:"ctx_rh_G_and_S_cingul-Mid-Post"},12109:{color:[25,60,250],opacity:1,label:"ctx_rh_G_cingul-Post-dorsal"},12110:{color:[60,25,25],opacity:1,label:"ctx_rh_G_cingul-Post-ventral"},12111:{color:[180,20,20],opacity:1,label:"ctx_rh_G_cuneus"},12112:{color:[220,20,100],opacity:1,label:"ctx_rh_G_front_inf-Opercular"},12113:{color:[140,60,60],opacity:1,label:"ctx_rh_G_front_inf-Orbital"},12114:{color:[180,220,140],opacity:1,label:"ctx_rh_G_front_inf-Triangul"},12115:{color:[140,100,180],opacity:1,label:"ctx_rh_G_front_middle"},12116:{color:[180,20,140],opacity:1,label:"ctx_rh_G_front_sup"},12117:{color:[23,10,10],opacity:1,label:"ctx_rh_G_Ins_lg_and_S_cent_ins"},12118:{color:[225,140,140],opacity:1,label:"ctx_rh_G_insular_short"},12119:{color:[180,60,180],opacity:1,label:"ctx_rh_G_occipital_middle"},12120:{color:[20,220,60],opacity:1,label:"ctx_rh_G_occipital_sup"},12121:{color:[60,20,140],opacity:1,label:"ctx_rh_G_oc-temp_lat-fusifor"},12122:{color:[220,180,140],opacity:1,label:"ctx_rh_G_oc-temp_med-Lingual"},12123:{color:[65,100,20],opacity:1,label:"ctx_rh_G_oc-temp_med-Parahip"},12124:{color:[220,60,20],opacity:1,label:"ctx_rh_G_orbital"},12125:{color:[20,60,220],opacity:1,label:"ctx_rh_G_pariet_inf-Angular"},12126:{color:[100,100,60],opacity:1,label:"ctx_rh_G_pariet_inf-Supramar"},12127:{color:[220,180,220],opacity:1,label:"ctx_rh_G_parietal_sup"},12128:{color:[20,180,140],opacity:1,label:"ctx_rh_G_postcentral"},12129:{color:[60,140,180],opacity:1,label:"ctx_rh_G_precentral"},12130:{color:[25,20,140],opacity:1,label:"ctx_rh_G_precuneus"},12131:{color:[20,60,100],opacity:1,label:"ctx_rh_G_rectus"},12132:{color:[60,220,20],opacity:1,label:"ctx_rh_G_subcallosal"},12133:{color:[60,60,220],opacity:1,label:"ctx_rh_G_temp_sup-G_T_transv"},12134:{color:[220,60,220],opacity:1,label:"ctx_rh_G_temp_sup-Lateral"},12135:{color:[65,220,60],opacity:1,label:"ctx_rh_G_temp_sup-Plan_polar"},12136:{color:[25,140,20],opacity:1,label:"ctx_rh_G_temp_sup-Plan_tempo"},12137:{color:[220,220,100],opacity:1,label:"ctx_rh_G_temporal_inf"},12138:{color:[180,60,60],opacity:1,label:"ctx_rh_G_temporal_middle"},12139:{color:[61,20,220],opacity:1,label:"ctx_rh_Lat_Fis-ant-Horizont"},12140:{color:[61,20,60],opacity:1,label:"ctx_rh_Lat_Fis-ant-Vertical"},12141:{color:[61,60,100],opacity:1,label:"ctx_rh_Lat_Fis-post"},12142:{color:[25,25,25],opacity:1,label:"ctx_rh_Medial_wall"},12143:{color:[140,20,60],opacity:1,label:"ctx_rh_Pole_occipital"},12144:{color:[220,180,20],opacity:1,label:"ctx_rh_Pole_temporal"},12145:{color:[63,180,180],opacity:1,label:"ctx_rh_S_calcarine"},12146:{color:[221,20,10],opacity:1,label:"ctx_rh_S_central"},12147:{color:[221,20,100],opacity:1,label:"ctx_rh_S_cingul-Marginalis"},12148:{color:[221,60,140],opacity:1,label:"ctx_rh_S_circular_insula_ant"},12149:{color:[221,20,220],opacity:1,label:"ctx_rh_S_circular_insula_inf"},12150:{color:[61,220,220],opacity:1,label:"ctx_rh_S_circular_insula_sup"},12151:{color:[100,200,200],opacity:1,label:"ctx_rh_S_collat_transv_ant"},12152:{color:[10,200,200],opacity:1,label:"ctx_rh_S_collat_transv_post"},12153:{color:[221,220,20],opacity:1,label:"ctx_rh_S_front_inf"},12154:{color:[141,20,100],opacity:1,label:"ctx_rh_S_front_middle"},12155:{color:[61,220,100],opacity:1,label:"ctx_rh_S_front_sup"},12156:{color:[141,60,20],opacity:1,label:"ctx_rh_S_interm_prim-Jensen"},12157:{color:[143,20,220],opacity:1,label:"ctx_rh_S_intrapariet_and_P_trans"},12158:{color:[101,60,220],opacity:1,label:"ctx_rh_S_oc_middle_and_Lunatus"},12159:{color:[21,20,140],opacity:1,label:"ctx_rh_S_oc_sup_and_transversal"},12160:{color:[61,20,180],opacity:1,label:"ctx_rh_S_occipital_ant"},12161:{color:[221,140,20],opacity:1,label:"ctx_rh_S_oc-temp_lat"},12162:{color:[141,100,220],opacity:1,label:"ctx_rh_S_oc-temp_med_and_Lingual"},12163:{color:[221,100,20],opacity:1,label:"ctx_rh_S_orbital_lateral"},12164:{color:[181,200,20],opacity:1,label:"ctx_rh_S_orbital_med-olfact"},12165:{color:[101,20,20],opacity:1,label:"ctx_rh_S_orbital-H_Shaped"},12166:{color:[101,100,180],opacity:1,label:"ctx_rh_S_parieto_occipital"},12167:{color:[181,220,20],opacity:1,label:"ctx_rh_S_pericallosal"},12168:{color:[21,140,200],opacity:1,label:"ctx_rh_S_postcentral"},12169:{color:[21,20,240],opacity:1,label:"ctx_rh_S_precentral-inf-part"},12170:{color:[21,20,200],opacity:1,label:"ctx_rh_S_precentral-sup-part"},12171:{color:[21,20,60],opacity:1,label:"ctx_rh_S_suborbital"},12172:{color:[101,60,60],opacity:1,label:"ctx_rh_S_subparietal"},12173:{color:[21,180,180],opacity:1,label:"ctx_rh_S_temporal_inf"},12174:{color:[223,220,60],opacity:1,label:"ctx_rh_S_temporal_sup"},12175:{color:[221,60,60],opacity:1,label:"ctx_rh_S_temporal_transverse"},13100:{color:[0,0,0],opacity:1,label:"wm_lh_Unknown"},13101:{color:[23,220,60],opacity:1,label:"wm_lh_G_and_S_frontomargin"},13102:{color:[23,60,180],opacity:1,label:"wm_lh_G_and_S_occipital_inf"},13103:{color:[63,100,60],opacity:1,label:"wm_lh_G_and_S_paracentral"},13104:{color:[63,20,220],opacity:1,label:"wm_lh_G_and_S_subcentral"},13105:{color:[13,0,250],opacity:1,label:"wm_lh_G_and_S_transv_frontopol"},13106:{color:[26,60,0],opacity:1,label:"wm_lh_G_and_S_cingul-Ant"},13107:{color:[26,60,75],opacity:1,label:"wm_lh_G_and_S_cingul-Mid-Ant"},13108:{color:[26,60,150],opacity:1,label:"wm_lh_G_and_S_cingul-Mid-Post"},13109:{color:[25,60,250],opacity:1,label:"wm_lh_G_cingul-Post-dorsal"},13110:{color:[60,25,25],opacity:1,label:"wm_lh_G_cingul-Post-ventral"},13111:{color:[180,20,20],opacity:1,label:"wm_lh_G_cuneus"},13112:{color:[220,20,100],opacity:1,label:"wm_lh_G_front_inf-Opercular"},13113:{color:[140,60,60],opacity:1,label:"wm_lh_G_front_inf-Orbital"},13114:{color:[180,220,140],opacity:1,label:"wm_lh_G_front_inf-Triangul"},13115:{color:[140,100,180],opacity:1,label:"wm_lh_G_front_middle"},13116:{color:[180,20,140],opacity:1,label:"wm_lh_G_front_sup"},13117:{color:[23,10,10],opacity:1,label:"wm_lh_G_Ins_lg_and_S_cent_ins"},13118:{color:[225,140,140],opacity:1,label:"wm_lh_G_insular_short"},13119:{color:[180,60,180],opacity:1,label:"wm_lh_G_occipital_middle"},13120:{color:[20,220,60],opacity:1,label:"wm_lh_G_occipital_sup"},13121:{color:[60,20,140],opacity:1,label:"wm_lh_G_oc-temp_lat-fusifor"},13122:{color:[220,180,140],opacity:1,label:"wm_lh_G_oc-temp_med-Lingual"},13123:{color:[65,100,20],opacity:1,label:"wm_lh_G_oc-temp_med-Parahip"},13124:{color:[220,60,20],opacity:1,label:"wm_lh_G_orbital"},13125:{color:[20,60,220],opacity:1,label:"wm_lh_G_pariet_inf-Angular"},13126:{color:[100,100,60],opacity:1,label:"wm_lh_G_pariet_inf-Supramar"},13127:{color:[220,180,220],opacity:1,label:"wm_lh_G_parietal_sup"},13128:{color:[20,180,140],opacity:1,label:"wm_lh_G_postcentral"},13129:{color:[60,140,180],opacity:1,label:"wm_lh_G_precentral"},13130:{color:[25,20,140],opacity:1,label:"wm_lh_G_precuneus"},13131:{color:[20,60,100],opacity:1,label:"wm_lh_G_rectus"},13132:{color:[60,220,20],opacity:1,label:"wm_lh_G_subcallosal"},13133:{color:[60,60,220],opacity:1,label:"wm_lh_G_temp_sup-G_T_transv"},13134:{color:[220,60,220],opacity:1,label:"wm_lh_G_temp_sup-Lateral"},13135:{color:[65,220,60],opacity:1,label:"wm_lh_G_temp_sup-Plan_polar"},13136:{color:[25,140,20],opacity:1,label:"wm_lh_G_temp_sup-Plan_tempo"},13137:{color:[220,220,100],opacity:1,label:"wm_lh_G_temporal_inf"},13138:{color:[180,60,60],opacity:1,label:"wm_lh_G_temporal_middle"},13139:{color:[61,20,220],opacity:1,label:"wm_lh_Lat_Fis-ant-Horizont"},13140:{color:[61,20,60],opacity:1,label:"wm_lh_Lat_Fis-ant-Vertical"},13141:{color:[61,60,100],opacity:1,label:"wm_lh_Lat_Fis-post"},13142:{color:[25,25,25],opacity:1,label:"wm_lh_Medial_wall"},13143:{color:[140,20,60],opacity:1,label:"wm_lh_Pole_occipital"},13144:{color:[220,180,20],opacity:1,label:"wm_lh_Pole_temporal"},13145:{color:[63,180,180],opacity:1,label:"wm_lh_S_calcarine"},13146:{color:[221,20,10],opacity:1,label:"wm_lh_S_central"},13147:{color:[221,20,100],opacity:1,label:"wm_lh_S_cingul-Marginalis"},13148:{color:[221,60,140],opacity:1,label:"wm_lh_S_circular_insula_ant"},13149:{color:[221,20,220],opacity:1,label:"wm_lh_S_circular_insula_inf"},13150:{color:[61,220,220],opacity:1,label:"wm_lh_S_circular_insula_sup"},13151:{color:[100,200,200],opacity:1,label:"wm_lh_S_collat_transv_ant"},13152:{color:[10,200,200],opacity:1,label:"wm_lh_S_collat_transv_post"},13153:{color:[221,220,20],opacity:1,label:"wm_lh_S_front_inf"},13154:{color:[141,20,100],opacity:1,label:"wm_lh_S_front_middle"},13155:{color:[61,220,100],opacity:1,label:"wm_lh_S_front_sup"},13156:{color:[141,60,20],opacity:1,label:"wm_lh_S_interm_prim-Jensen"},13157:{color:[143,20,220],opacity:1,label:"wm_lh_S_intrapariet_and_P_trans"},13158:{color:[101,60,220],opacity:1,label:"wm_lh_S_oc_middle_and_Lunatus"},13159:{color:[21,20,140],opacity:1,label:"wm_lh_S_oc_sup_and_transversal"},13160:{color:[61,20,180],opacity:1,label:"wm_lh_S_occipital_ant"},13161:{color:[221,140,20],opacity:1,label:"wm_lh_S_oc-temp_lat"},13162:{color:[141,100,220],opacity:1,label:"wm_lh_S_oc-temp_med_and_Lingual"},13163:{color:[221,100,20],opacity:1,label:"wm_lh_S_orbital_lateral"},13164:{color:[181,200,20],opacity:1,label:"wm_lh_S_orbital_med-olfact"},13165:{color:[101,20,20],opacity:1,label:"wm_lh_S_orbital-H_Shaped"},13166:{color:[101,100,180],opacity:1,label:"wm_lh_S_parieto_occipital"},13167:{color:[181,220,20],opacity:1,label:"wm_lh_S_pericallosal"},13168:{color:[21,140,200],opacity:1,label:"wm_lh_S_postcentral"},13169:{color:[21,20,240],opacity:1,label:"wm_lh_S_precentral-inf-part"},13170:{color:[21,20,200],opacity:1,label:"wm_lh_S_precentral-sup-part"},13171:{color:[21,20,60],opacity:1,label:"wm_lh_S_suborbital"},13172:{color:[101,60,60],opacity:1,label:"wm_lh_S_subparietal"},13173:{color:[21,180,180],opacity:1,label:"wm_lh_S_temporal_inf"},13174:{color:[223,220,60],opacity:1,label:"wm_lh_S_temporal_sup"},13175:{color:[221,60,60],opacity:1,label:"wm_lh_S_temporal_transverse"},14100:{color:[0,0,0],opacity:1,label:"wm_rh_Unknown"},14101:{color:[23,220,60],opacity:1,label:"wm_rh_G_and_S_frontomargin"},14102:{color:[23,60,180],opacity:1,label:"wm_rh_G_and_S_occipital_inf"},14103:{color:[63,100,60],opacity:1,label:"wm_rh_G_and_S_paracentral"},14104:{color:[63,20,220],opacity:1,label:"wm_rh_G_and_S_subcentral"},14105:{color:[13,0,250],opacity:1,label:"wm_rh_G_and_S_transv_frontopol"},14106:{color:[26,60,0],opacity:1,label:"wm_rh_G_and_S_cingul-Ant"},14107:{color:[26,60,75],opacity:1,label:"wm_rh_G_and_S_cingul-Mid-Ant"},14108:{color:[26,60,150],opacity:1,label:"wm_rh_G_and_S_cingul-Mid-Post"},14109:{color:[25,60,250],opacity:1,label:"wm_rh_G_cingul-Post-dorsal"},14110:{color:[60,25,25],opacity:1,label:"wm_rh_G_cingul-Post-ventral"},14111:{color:[180,20,20],opacity:1,label:"wm_rh_G_cuneus"},14112:{color:[220,20,100],opacity:1,label:"wm_rh_G_front_inf-Opercular"},14113:{color:[140,60,60],opacity:1,label:"wm_rh_G_front_inf-Orbital"},14114:{color:[180,220,140],opacity:1,label:"wm_rh_G_front_inf-Triangul"},14115:{color:[140,100,180],opacity:1,label:"wm_rh_G_front_middle"},14116:{color:[180,20,140],opacity:1,label:"wm_rh_G_front_sup"},14117:{color:[23,10,10],opacity:1,label:"wm_rh_G_Ins_lg_and_S_cent_ins"},14118:{color:[225,140,140],opacity:1,label:"wm_rh_G_insular_short"},14119:{color:[180,60,180],opacity:1,label:"wm_rh_G_occipital_middle"},14120:{color:[20,220,60],opacity:1,label:"wm_rh_G_occipital_sup"},14121:{color:[60,20,140],opacity:1,label:"wm_rh_G_oc-temp_lat-fusifor"},14122:{color:[220,180,140],opacity:1,label:"wm_rh_G_oc-temp_med-Lingual"},14123:{color:[65,100,20],opacity:1,label:"wm_rh_G_oc-temp_med-Parahip"},14124:{color:[220,60,20],opacity:1,label:"wm_rh_G_orbital"},14125:{color:[20,60,220],opacity:1,label:"wm_rh_G_pariet_inf-Angular"},14126:{color:[100,100,60],opacity:1,label:"wm_rh_G_pariet_inf-Supramar"},14127:{color:[220,180,220],opacity:1,label:"wm_rh_G_parietal_sup"},14128:{color:[20,180,140],opacity:1,label:"wm_rh_G_postcentral"},14129:{color:[60,140,180],opacity:1,label:"wm_rh_G_precentral"},14130:{color:[25,20,140],opacity:1,label:"wm_rh_G_precuneus"},14131:{color:[20,60,100],opacity:1,label:"wm_rh_G_rectus"},14132:{color:[60,220,20],opacity:1,label:"wm_rh_G_subcallosal"},14133:{color:[60,60,220],opacity:1,label:"wm_rh_G_temp_sup-G_T_transv"},14134:{color:[220,60,220],opacity:1,label:"wm_rh_G_temp_sup-Lateral"},14135:{color:[65,220,60],opacity:1,label:"wm_rh_G_temp_sup-Plan_polar"},14136:{color:[25,140,20],opacity:1,label:"wm_rh_G_temp_sup-Plan_tempo"},14137:{color:[220,220,100],opacity:1,label:"wm_rh_G_temporal_inf"},14138:{color:[180,60,60],opacity:1,label:"wm_rh_G_temporal_middle"},14139:{color:[61,20,220],opacity:1,label:"wm_rh_Lat_Fis-ant-Horizont"},14140:{color:[61,20,60],opacity:1,label:"wm_rh_Lat_Fis-ant-Vertical"},14141:{color:[61,60,100],opacity:1,label:"wm_rh_Lat_Fis-post"},14142:{color:[25,25,25],opacity:1,label:"wm_rh_Medial_wall"},14143:{color:[140,20,60],opacity:1,label:"wm_rh_Pole_occipital"},14144:{color:[220,180,20],opacity:1,label:"wm_rh_Pole_temporal"},14145:{color:[63,180,180],opacity:1,label:"wm_rh_S_calcarine"},14146:{color:[221,20,10],opacity:1,label:"wm_rh_S_central"},14147:{color:[221,20,100],opacity:1,label:"wm_rh_S_cingul-Marginalis"},14148:{color:[221,60,140],opacity:1,label:"wm_rh_S_circular_insula_ant"},14149:{color:[221,20,220],opacity:1,label:"wm_rh_S_circular_insula_inf"},14150:{color:[61,220,220],opacity:1,label:"wm_rh_S_circular_insula_sup"},14151:{color:[100,200,200],opacity:1,label:"wm_rh_S_collat_transv_ant"},14152:{color:[10,200,200],opacity:1,label:"wm_rh_S_collat_transv_post"},14153:{color:[221,220,20],opacity:1,label:"wm_rh_S_front_inf"},14154:{color:[141,20,100],opacity:1,label:"wm_rh_S_front_middle"},14155:{color:[61,220,100],opacity:1,label:"wm_rh_S_front_sup"},14156:{color:[141,60,20],opacity:1,label:"wm_rh_S_interm_prim-Jensen"},14157:{color:[143,20,220],opacity:1,label:"wm_rh_S_intrapariet_and_P_trans"},14158:{color:[101,60,220],opacity:1,label:"wm_rh_S_oc_middle_and_Lunatus"},14159:{color:[21,20,140],opacity:1,label:"wm_rh_S_oc_sup_and_transversal"},14160:{color:[61,20,180],opacity:1,label:"wm_rh_S_occipital_ant"},14161:{color:[221,140,20],opacity:1,label:"wm_rh_S_oc-temp_lat"},14162:{color:[141,100,220],opacity:1,label:"wm_rh_S_oc-temp_med_and_Lingual"},14163:{color:[221,100,20],opacity:1,label:"wm_rh_S_orbital_lateral"},14164:{color:[181,200,20],opacity:1,label:"wm_rh_S_orbital_med-olfact"},14165:{color:[101,20,20],opacity:1,label:"wm_rh_S_orbital-H_Shaped"},14166:{color:[101,100,180],opacity:1,label:"wm_rh_S_parieto_occipital"},14167:{color:[181,220,20],opacity:1,label:"wm_rh_S_pericallosal"},14168:{color:[21,140,200],opacity:1,label:"wm_rh_S_postcentral"},14169:{color:[21,20,240],opacity:1,label:"wm_rh_S_precentral-inf-part"},14170:{color:[21,20,200],opacity:1,label:"wm_rh_S_precentral-sup-part"},14171:{color:[21,20,60],opacity:1,label:"wm_rh_S_suborbital"},14172:{color:[101,60,60],opacity:1,label:"wm_rh_S_subparietal"},14173:{color:[21,180,180],opacity:1,label:"wm_rh_S_temporal_inf"},14174:{color:[223,220,60],opacity:1,label:"wm_rh_S_temporal_sup"},14175:{color:[221,60,60],opacity:1,label:"wm_rh_S_temporal_transverse"}}},function(e,t,i){"use strict";function n(e,t){this.x=e||0,this.y=t||0}i.d(t,"a",function(){return n}),Object.defineProperties(n.prototype,{width:{get:function get(){return this.x},set:function set(e){this.x=e}},height:{get:function get(){return this.y},set:function set(e){this.y=e}}}),Object.assign(n.prototype,{isVector2:!0,set:function set(e,t){return this.x=e,this.y=t,this},setScalar:function setScalar(e){return this.x=e,this.y=e,this},setX:function setX(e){return this.x=e,this},setY:function setY(e){return this.y=e,this},setComponent:function setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e);}return this},getComponent:function getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e);}},clone:function clone(){return new this.constructor(this.x,this.y)},copy:function copy(e){return this.x=e.x,this.y=e.y,this},add:function add(e,t){return void 0!==t?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this)},addScalar:function addScalar(e){return this.x+=e,this.y+=e,this},addVectors:function addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this},addScaledVector:function addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this},sub:function sub(e,t){return void 0!==t?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this)},subScalar:function subScalar(e){return this.x-=e,this.y-=e,this},subVectors:function subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this},multiply:function multiply(e){return this.x*=e.x,this.y*=e.y,this},multiplyScalar:function multiplyScalar(e){return this.x*=e,this.y*=e,this},divide:function divide(e){return this.x/=e.x,this.y/=e.y,this},divideScalar:function divideScalar(e){return this.multiplyScalar(1/e)},applyMatrix3:function applyMatrix3(e){var t=this.x,i=this.y,n=e.elements;return this.x=n[0]*t+n[3]*i+n[6],this.y=n[1]*t+n[4]*i+n[7],this},min:function min(e){return this.x=_Mathmin(this.x,e.x),this.y=_Mathmin(this.y,e.y),this},max:function max(e){return this.x=_Mathmax(this.x,e.x),this.y=_Mathmax(this.y,e.y),this},clamp:function clamp(e,t){return this.x=_Mathmax(e.x,_Mathmin(t.x,this.x)),this.y=_Mathmax(e.y,_Mathmin(t.y,this.y)),this},clampScalar:function(){var e=new n,t=new n;return function(i,n){return e.set(i,i),t.set(n,n),this.clamp(e,t)}}(),clampLength:function clampLength(e,t){var i=this.length();return this.divideScalar(i||1).multiplyScalar(_Mathmax(e,_Mathmin(t,i)))},floor:function floor(){return this.x=_Mathfloor(this.x),this.y=_Mathfloor(this.y),this},ceil:function ceil(){return this.x=_Mathceil(this.x),this.y=_Mathceil(this.y),this},round:function round(){return this.x=_Mathround(this.x),this.y=_Mathround(this.y),this},roundToZero:function roundToZero(){return this.x=0>this.x?_Mathceil(this.x):_Mathfloor(this.x),this.y=0>this.y?_Mathceil(this.y):_Mathfloor(this.y),this},negate:function negate(){return this.x=-this.x,this.y=-this.y,this},dot:function dot(e){return this.x*e.x+this.y*e.y},cross:function cross(e){return this.x*e.y-this.y*e.x},lengthSq:function lengthSq(){return this.x*this.x+this.y*this.y},length:function length(){return _Mathsqrt(this.x*this.x+this.y*this.y)},manhattanLength:function manhattanLength(){return _Mathabs(this.x)+_Mathabs(this.y)},normalize:function normalize(){return this.divideScalar(this.length()||1)},angle:function angle(){var e=_Mathatan(this.y,this.x);return 0>e&&(e+=2*_MathPI),e},distanceTo:function distanceTo(e){return _Mathsqrt(this.distanceToSquared(e))},distanceToSquared:function distanceToSquared(e){var t=this.x-e.x,i=this.y-e.y;return t*t+i*i},manhattanDistanceTo:function manhattanDistanceTo(e){return _Mathabs(this.x-e.x)+_Mathabs(this.y-e.y)},setLength:function setLength(e){return this.normalize().multiplyScalar(e)},lerp:function lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this},lerpVectors:function lerpVectors(e,t,i){return this.subVectors(t,e).multiplyScalar(i).add(e)},equals:function equals(e){return e.x===this.x&&e.y===this.y},fromArray:function fromArray(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this},toArray:function toArray(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e},fromBufferAttribute:function fromBufferAttribute(e,t,i){return void 0!==i&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this},rotateAround:function rotateAround(e,t){var i=_Mathcos(t),n=_Mathsin(t),r=this.x-e.x,o=this.y-e.y;return this.x=r*i-o*n+e.x,this.y=r*n+o*i+e.y,this}})},function(e,t,i){e.exports=i(115)},function(e,t,i){"use strict";function n(e){for(var i in e){t.hasOwnProperty(i)||(t[i]=e[i])}}Object.defineProperty(t,"__esModule",{value:!0}),n(i(116)),n(i(117)),n(i(118)),n(i(119)),n(i(120)),n(i(121)),n(i(157)),n(i(158)),n(i(159)),n(i(160)),n(i(161));var r=i(162).version,o=i(163).version;window.console.log("ami "+r+" (three "+o+")")},function(e,t,i){"use strict";i.r(t);var n=i(47);i.d(t,"OrthographicCamera",function(){return n.b}),i.d(t,"orthographicCameraFactory",function(){return n.a})},function(e,t,i){"use strict";i.r(t);var n=i(48);i.d(t,"TrackballControl",function(){return n.a}),i.d(t,"trackballControlFactory",function(){return n.b});var r=i(49);i.d(t,"TrackballOrthoControl",function(){return r.a}),i.d(t,"trackballOrthoControlFactory",function(){return r.b})},function(e,t,i){"use strict";i.r(t);var n=i(18);i.d(t,"ColorsCore",function(){return n.a});var r=i(7);i.d(t,"IntersectionsCore",function(){return r.a});var o=i(5);i.d(t,"ValidatorsCore",function(){return o.a});var a=i(1);i.d(t,"UtilsCore",function(){return a.a})},function(e,t,i){"use strict";i.r(t);var n=i(14);i.d(t,"SliceGeometry",function(){return n.a}),i.d(t,"sliceGeometryFactory",function(){return n.b});var r=i(50);i.d(t,"VoxelGeometry",function(){return r.a}),i.d(t,"voxelGeometryFactory",function(){return r.b})},function(e,t,i){"use strict";i.r(t);var n=i(15);i.d(t,"BorderHelper",function(){return n.a}),i.d(t,"borderHelperFactory",function(){return n.b});var r=i(16);i.d(t,"BoundingBoxHelper",function(){return r.a}),i.d(t,"boundingBoxHelperFactory",function(){return r.b});var o=i(51);i.d(t,"ContourHelper",function(){return o.a}),i.d(t,"contourHelperFactory",function(){return o.b});var a=i(52);i.d(t,"LocalizerHelper",function(){return a.a}),i.d(t,"localizerHelperFactory",function(){return a.b});var s=i(53);i.d(t,"LutHelper",function(){return s.a}),i.d(t,"lutHelperFactory",function(){return s.b});var l=i(79);i.d(t,"SegmentationLutHelper",function(){return l.a});var c=i(29);i.d(t,"ProgressBarHelper",function(){return c.a});var h=i(80);i.d(t,"ProgressBarEventBasedHelper",function(){return h.a});var u=i(17);i.d(t,"SliceHelper",function(){return u.a}),i.d(t,"sliceHelperFactory",function(){return u.b});var f=i(54);i.d(t,"StackHelper",function(){return f.a}),i.d(t,"stackHelperFactory",function(){return f.b});var d=i(55);i.d(t,"VolumeRenderingHelper",function(){return d.a}),i.d(t,"VolumeRenderingHelperFactory",function(){return d.b})},function(e,t,i){"use strict";i.r(t);var n=i(81);i.d(t,"VolumeLoader",function(){return n.a})},function(e,t,i){"use strict";var n=i(123),r=i(10),o=i(84),a=i(57),s=i(85),l=Object.prototype.toString,c=0,h=-1,u=0,f=8;function d(e){if(!babelHelpers.instanceof(this,d))return new d(e);this.options=r.assign({level:h,method:f,chunkSize:16384,windowBits:15,memLevel:8,strategy:u,to:""},e||{});var t=this.options;t.raw&&0<t.windowBits?t.windowBits=-t.windowBits:t.gzip&&0<t.windowBits&&16>t.windowBits&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var i=n.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(i!==c)throw new Error(a[i]);if(t.header&&n.deflateSetHeader(this.strm,t.header),t.dictionary){var p;if(p="string"==typeof t.dictionary?o.string2buf(t.dictionary):"[object ArrayBuffer]"===l.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(i=n.deflateSetDictionary(this.strm,p))!==c)throw new Error(a[i]);this._dict_set=!0}}function p(e,t){var i=new d(t);if(i.push(e,!0),i.err)throw i.msg;return i.result}d.prototype.push=function(e,t){var i,a,s=this.strm,h=this.options.chunkSize;if(this.ended)return!1;a=t===~~t?t:!0===t?4:0,"string"==typeof e?s.input=o.string2buf(e):"[object ArrayBuffer]"===l.call(e)?s.input=new Uint8Array(e):s.input=e,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new r.Buf8(h),s.next_out=0,s.avail_out=h),1!==(i=n.deflate(s,a))&&i!==c)return this.onEnd(i),this.ended=!0,!1;0!==s.avail_out&&(0!==s.avail_in||4!==a&&2!==a)||("string"===this.options.to?this.onData(o.buf2binstring(r.shrinkBuf(s.output,s.next_out))):this.onData(r.shrinkBuf(s.output,s.next_out)))}while((0<s.avail_in||0===s.avail_out)&&1!==i);return 4===a?(i=n.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===c):2!==a||(this.onEnd(c),s.avail_out=0,!0)},d.prototype.onData=function(e){this.chunks.push(e)},d.prototype.onEnd=function(e){e===c&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=r.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Deflate=d,t.deflate=p,t.deflateRaw=function(e,t){return(t=t||{}).raw=!0,p(e,t)},t.gzip=function(e,t){return(t=t||{}).gzip=!0,p(e,t)}},function(e,t,i){"use strict";var n,r=i(10),o=i(124),a=i(82),s=i(83),l=i(57),c=0,h=1,u=3,f=4,d=5,p=0,_=1,m=-2,b=-3,y=-5,g=-1,v=1,A=2,w=3,x=4,k=0,I=2,S=8,E=9,C=15,B=8,M=286,P=30,T=19,D=2*M+1,R=15,G=3,O=258,F=O+G+1,L=32,Z=42,H=69,N=73,z=91,V=103,U=113,j=666,W=1,Y=2,X=3,Q=4,J=3;function q(e,t){return e.msg=l[t],t}function K(e){return(e<<1)-(4<e?9:0)}function $(e){for(var t=e.length;0<=--t;){e[t]=0}}function ee(e){var t=e.state,i=t.pending;i>e.avail_out&&(i=e.avail_out),0!==i&&(r.arraySet(e.output,t.pending_buf,t.pending_out,i,e.next_out),e.next_out+=i,t.pending_out+=i,e.total_out+=i,e.avail_out-=i,t.pending-=i,0===t.pending&&(t.pending_out=0))}function te(e,t){o._tr_flush_block(e,0<=e.block_start?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,ee(e.strm)}function ie(e,t){e.pending_buf[e.pending++]=t}function ne(e,t){e.pending_buf[e.pending++]=255&t>>>8,e.pending_buf[e.pending++]=255&t}function re(e,t,i,n){var o=e.avail_in;return o>n&&(o=n),0===o?0:(e.avail_in-=o,r.arraySet(t,e.input,e.next_in,o,i),1===e.state.wrap?e.adler=a(e.adler,t,o,i):2===e.state.wrap&&(e.adler=s(e.adler,t,o,i)),e.next_in+=o,e.total_in+=o,o)}function oe(e,t){var i,n,r=e.max_chain_length,o=e.strstart,a=e.prev_length,s=e.nice_match,l=e.strstart>e.w_size-F?e.strstart-(e.w_size-F):0,c=e.window,h=e.w_mask,u=e.prev,f=e.strstart+O,d=c[o+a-1],p=c[o+a];e.prev_length>=e.good_match&&(r>>=2),s>e.lookahead&&(s=e.lookahead);do{if(c[(i=t)+a]===p&&c[i+a-1]===d&&c[i]===c[o]&&c[++i]===c[o+1]){o+=2,i++;do{}while(c[++o]===c[++i]&&c[++o]===c[++i]&&c[++o]===c[++i]&&c[++o]===c[++i]&&c[++o]===c[++i]&&c[++o]===c[++i]&&c[++o]===c[++i]&&c[++o]===c[++i]&&o<f);if(n=O-(f-o),o=f-O,n>a){if(e.match_start=t,a=n,n>=s)break;d=c[o+a-1],p=c[o+a]}}}while((t=u[t&h])>l&&0!=--r);return a<=e.lookahead?a:e.lookahead}function ae(e){var t,i,n,o,a,s=e.w_size;do{if(o=e.window_size-e.lookahead-e.strstart,e.strstart>=s+(s-F)){r.arraySet(e.window,e.window,s,s,0),e.match_start-=s,e.strstart-=s,e.block_start-=s,t=i=e.hash_size;do{n=e.head[--t],e.head[t]=n>=s?n-s:0}while(--i);t=i=s;do{n=e.prev[--t],e.prev[t]=n>=s?n-s:0}while(--i);o+=s}if(0===e.strm.avail_in)break;if(i=re(e.strm,e.window,e.strstart+e.lookahead,o),e.lookahead+=i,e.lookahead+e.insert>=G)for(a=e.strstart-e.insert,e.ins_h=e.window[a],e.ins_h=(e.ins_h<<e.hash_shift^e.window[a+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[a+G-1])&e.hash_mask,e.prev[a&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=a,a++,e.insert--,!(e.lookahead+e.insert<G));){;}}while(e.lookahead<F&&0!==e.strm.avail_in)}function se(e,t){for(var i,n;;){if(e.lookahead<F){if(ae(e),e.lookahead<F&&t===c)return W;if(0===e.lookahead)break}if(i=0,e.lookahead>=G&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+G-1])&e.hash_mask,i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==i&&e.strstart-i<=e.w_size-F&&(e.match_length=oe(e,i)),e.match_length>=G){if(n=o._tr_tally(e,e.strstart-e.match_start,e.match_length-G),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=G){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+G-1])&e.hash_mask,i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;}else n=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(te(e,!1),0===e.strm.avail_out))return W}return e.insert=e.strstart<G-1?e.strstart:G-1,t===f?(te(e,!0),0===e.strm.avail_out?X:Q):e.last_lit&&(te(e,!1),0===e.strm.avail_out)?W:Y}function le(e,t){for(var i,n,r;;){if(e.lookahead<F){if(ae(e),e.lookahead<F&&t===c)return W;if(0===e.lookahead)break}if(i=0,e.lookahead>=G&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+G-1])&e.hash_mask,i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=G-1,0!==i&&e.prev_length<e.max_lazy_match&&e.strstart-i<=e.w_size-F&&(e.match_length=oe(e,i),5>=e.match_length&&(e.strategy===v||e.match_length===G&&4096<e.strstart-e.match_start)&&(e.match_length=G-1)),e.prev_length>=G&&e.match_length<=e.prev_length){r=e.strstart+e.lookahead-G,n=o._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-G),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=r&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+G-1])&e.hash_mask,i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=G-1,e.strstart++,n&&(te(e,!1),0===e.strm.avail_out))return W}else if(e.match_available){if((n=o._tr_tally(e,0,e.window[e.strstart-1]))&&te(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return W}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=o._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<G-1?e.strstart:G-1,t===f?(te(e,!0),0===e.strm.avail_out?X:Q):e.last_lit&&(te(e,!1),0===e.strm.avail_out)?W:Y}function ce(e,t,i,n,r){this.good_length=e,this.max_lazy=t,this.nice_length=i,this.max_chain=n,this.func=r}function he(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=I,(t=e.state).pending=0,t.pending_out=0,0>t.wrap&&(t.wrap=-t.wrap),t.status=t.wrap?Z:U,e.adler=2===t.wrap?0:1,t.last_flush=c,o._tr_init(t),p):q(e,m)}function ue(e){var t=he(e);return t===p&&function(e){e.window_size=2*e.w_size,$(e.head),e.max_lazy_match=n[e.level].max_lazy,e.good_match=n[e.level].good_length,e.nice_match=n[e.level].nice_length,e.max_chain_length=n[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=G-1,e.match_available=0,e.ins_h=0}(e.state),t}function fe(e,t,i,n,o,a){if(!e)return m;var s=1;if(t===g&&(t=6),0>n?(s=0,n=-n):15<n&&(s=2,n-=16),1>o||o>E||i!==S||8>n||15<n||0>t||9<t||0>a||a>x)return q(e,m);8===n&&(n=9);var l=new function(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=S,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new r.Buf16(2*D),this.dyn_dtree=new r.Buf16(2*(2*P+1)),this.bl_tree=new r.Buf16(2*(2*T+1)),$(this.dyn_ltree),$(this.dyn_dtree),$(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new r.Buf16(R+1),this.heap=new r.Buf16(2*M+1),$(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new r.Buf16(2*M+1),$(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0};return e.state=l,l.strm=e,l.wrap=s,l.gzhead=null,l.w_bits=n,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=o+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+G-1)/G),l.window=new r.Buf8(2*l.w_size),l.head=new r.Buf16(l.hash_size),l.prev=new r.Buf16(l.w_size),l.lit_bufsize=1<<o+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new r.Buf8(l.pending_buf_size),l.d_buf=l.lit_bufsize>>1,l.l_buf=3*l.lit_bufsize,l.level=t,l.strategy=a,l.method=i,ue(e)}n=[new ce(0,0,0,0,function(e,t){var i=65535;for(i>e.pending_buf_size-5&&(i=e.pending_buf_size-5);;){if(1>=e.lookahead){if(ae(e),0===e.lookahead&&t===c)return W;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var n=e.block_start+i;if((0===e.strstart||e.strstart>=n)&&(e.lookahead=e.strstart-n,e.strstart=n,te(e,!1),0===e.strm.avail_out))return W;if(e.strstart-e.block_start>=e.w_size-F&&(te(e,!1),0===e.strm.avail_out))return W}return e.insert=0,t===f?(te(e,!0),0===e.strm.avail_out?X:Q):(e.strstart>e.block_start&&(te(e,!1),e.strm.avail_out),W)}),new ce(4,4,8,4,se),new ce(4,5,16,8,se),new ce(4,6,32,32,se),new ce(4,4,16,16,le),new ce(8,16,32,32,le),new ce(8,16,128,128,le),new ce(8,32,128,256,le),new ce(32,128,258,1024,le),new ce(32,258,258,4096,le)],t.deflateInit=function(e,t){return fe(e,t,S,C,B,k)},t.deflateInit2=fe,t.deflateReset=ue,t.deflateResetKeep=he,t.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?m:(e.state.gzhead=t,p):m},t.deflate=function(e,t){var i,r,a,l;if(!e||!e.state||t>d||0>t)return e?q(e,m):m;if(r=e.state,!e.output||!e.input&&0!==e.avail_in||r.status===j&&t!==f)return q(e,0===e.avail_out?y:m);if(r.strm=e,i=r.last_flush,r.last_flush=t,r.status===Z)if(2===r.wrap)e.adler=0,ie(r,31),ie(r,139),ie(r,8),r.gzhead?(ie(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),ie(r,255&r.gzhead.time),ie(r,255&r.gzhead.time>>8),ie(r,255&r.gzhead.time>>16),ie(r,255&r.gzhead.time>>24),ie(r,9===r.level?2:r.strategy>=A||2>r.level?4:0),ie(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(ie(r,255&r.gzhead.extra.length),ie(r,255&r.gzhead.extra.length>>8)),r.gzhead.hcrc&&(e.adler=s(e.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=H):(ie(r,0),ie(r,0),ie(r,0),ie(r,0),ie(r,0),ie(r,9===r.level?2:r.strategy>=A||2>r.level?4:0),ie(r,J),r.status=U);else{var b=S+(r.w_bits-8<<4)<<8;b|=(r.strategy>=A||2>r.level?0:6>r.level?1:6===r.level?2:3)<<6,0!==r.strstart&&(b|=L),b+=31-b%31,r.status=U,ne(r,b),0!==r.strstart&&(ne(r,e.adler>>>16),ne(r,65535&e.adler)),e.adler=1}if(r.status===H)if(r.gzhead.extra){for(a=r.pending;r.gzindex<(65535&r.gzhead.extra.length)&&(r.pending!==r.pending_buf_size||(r.gzhead.hcrc&&r.pending>a&&(e.adler=s(e.adler,r.pending_buf,r.pending-a,a)),ee(e),a=r.pending,r.pending!==r.pending_buf_size));){ie(r,255&r.gzhead.extra[r.gzindex]),r.gzindex++}r.gzhead.hcrc&&r.pending>a&&(e.adler=s(e.adler,r.pending_buf,r.pending-a,a)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=N)}else r.status=N;if(r.status===N)if(r.gzhead.name){a=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>a&&(e.adler=s(e.adler,r.pending_buf,r.pending-a,a)),ee(e),a=r.pending,r.pending===r.pending_buf_size)){l=1;break}l=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,ie(r,l)}while(0!==l);r.gzhead.hcrc&&r.pending>a&&(e.adler=s(e.adler,r.pending_buf,r.pending-a,a)),0===l&&(r.gzindex=0,r.status=z)}else r.status=z;if(r.status===z)if(r.gzhead.comment){a=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>a&&(e.adler=s(e.adler,r.pending_buf,r.pending-a,a)),ee(e),a=r.pending,r.pending===r.pending_buf_size)){l=1;break}l=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,ie(r,l)}while(0!==l);r.gzhead.hcrc&&r.pending>a&&(e.adler=s(e.adler,r.pending_buf,r.pending-a,a)),0===l&&(r.status=V)}else r.status=V;if(r.status===V&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&ee(e),r.pending+2<=r.pending_buf_size&&(ie(r,255&e.adler),ie(r,255&e.adler>>8),e.adler=0,r.status=U)):r.status=U),0!==r.pending){if(ee(e),0===e.avail_out)return r.last_flush=-1,p}else if(0===e.avail_in&&K(t)<=K(i)&&t!==f)return q(e,y);if(r.status===j&&0!==e.avail_in)return q(e,y);if(0!==e.avail_in||0!==r.lookahead||t!==c&&r.status!==j){var g=r.strategy===A?function(e,t){for(var i;;){if(0===e.lookahead&&(ae(e),0===e.lookahead)){if(t===c)return W;break}if(e.match_length=0,i=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,i&&(te(e,!1),0===e.strm.avail_out))return W}return e.insert=0,t===f?(te(e,!0),0===e.strm.avail_out?X:Q):e.last_lit&&(te(e,!1),0===e.strm.avail_out)?W:Y}(r,t):r.strategy===w?function(e,t){for(var i,n,r,a,s=e.window;;){if(e.lookahead<=O){if(ae(e),e.lookahead<=O&&t===c)return W;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=G&&0<e.strstart&&(n=s[r=e.strstart-1])===s[++r]&&n===s[++r]&&n===s[++r]){a=e.strstart+O;do{}while(n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&r<a);e.match_length=O-(a-r),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=G?(i=o._tr_tally(e,1,e.match_length-G),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(i=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),i&&(te(e,!1),0===e.strm.avail_out))return W}return e.insert=0,t===f?(te(e,!0),0===e.strm.avail_out?X:Q):e.last_lit&&(te(e,!1),0===e.strm.avail_out)?W:Y}(r,t):n[r.level].func(r,t);if(g!==X&&g!==Q||(r.status=j),g===W||g===X)return 0===e.avail_out&&(r.last_flush=-1),p;if(g===Y&&(t===h?o._tr_align(r):t!==d&&(o._tr_stored_block(r,0,0,!1),t===u&&($(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),ee(e),0===e.avail_out))return r.last_flush=-1,p}return t!==f?p:0>=r.wrap?_:(2===r.wrap?(ie(r,255&e.adler),ie(r,255&e.adler>>8),ie(r,255&e.adler>>16),ie(r,255&e.adler>>24),ie(r,255&e.total_in),ie(r,255&e.total_in>>8),ie(r,255&e.total_in>>16),ie(r,255&e.total_in>>24)):(ne(r,e.adler>>>16),ne(r,65535&e.adler)),ee(e),0<r.wrap&&(r.wrap=-r.wrap),0!==r.pending?p:_)},t.deflateEnd=function(e){var t;return e&&e.state?(t=e.state.status)!==Z&&t!==H&&t!==N&&t!==z&&t!==V&&t!==U&&t!==j?q(e,m):(e.state=null,t===U?q(e,b):p):m},t.deflateSetDictionary=function(e,t){var i,n,o,s,l,c,h,u,f=t.length;if(!e||!e.state)return m;if(2===(s=(i=e.state).wrap)||1===s&&i.status!==Z||i.lookahead)return m;for(1===s&&(e.adler=a(e.adler,t,f,0)),i.wrap=0,f>=i.w_size&&(0===s&&($(i.head),i.strstart=0,i.block_start=0,i.insert=0),u=new r.Buf8(i.w_size),r.arraySet(u,t,f-i.w_size,i.w_size,0),t=u,f=i.w_size),l=e.avail_in,c=e.next_in,h=e.input,e.avail_in=f,e.next_in=0,e.input=t,ae(i);i.lookahead>=G;){n=i.strstart,o=i.lookahead-(G-1);do{i.ins_h=(i.ins_h<<i.hash_shift^i.window[n+G-1])&i.hash_mask,i.prev[n&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=n,n++}while(--o);i.strstart=n,i.lookahead=G-1,ae(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=G-1,i.match_available=0,e.next_in=c,e.input=h,e.avail_in=l,i.wrap=s,p},t.deflateInfo="pako deflate (from Nodeca project)"},function(e,t,i){"use strict";var n=i(10),r=4,o=0,a=1,s=2;function l(e){for(var t=e.length;0<=--t;){e[t]=0}}var c=0,h=1,u=2,f=29,d=256,p=d+1+f,_=30,m=19,b=2*p+1,y=15,g=16,v=7,A=256,w=16,x=17,k=18,I=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],S=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],E=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],C=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],B=Array(2*(p+2));l(B);var M=Array(2*_);l(M);var P=Array(512);l(P);var T=Array(256);l(T);var D=Array(f);l(D);var R,G,O,F=Array(_);function L(e,t,i,n,r){this.static_tree=e,this.extra_bits=t,this.extra_base=i,this.elems=n,this.max_length=r,this.has_stree=e&&e.length}function Z(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function H(e){return 256>e?P[e]:P[256+(e>>>7)]}function N(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=255&t>>>8}function z(e,t,i){e.bi_valid>g-i?(e.bi_buf|=65535&t<<e.bi_valid,N(e,e.bi_buf),e.bi_buf=t>>g-e.bi_valid,e.bi_valid+=i-g):(e.bi_buf|=65535&t<<e.bi_valid,e.bi_valid+=i)}function V(e,t,i){z(e,i[2*t],i[2*t+1])}function U(e,t){var i=0;do{i|=1&e,e>>>=1,i<<=1}while(0<--t);return i>>>1}function j(e,t,i){var n,r,o=Array(y+1),a=0;for(n=1;n<=y;n++){o[n]=a=a+i[n-1]<<1}for(r=0;r<=t;r++){var s=e[2*r+1];0!==s&&(e[2*r]=U(o[s]++,s))}}function W(e){var t;for(t=0;t<p;t++){e.dyn_ltree[2*t]=0}for(t=0;t<_;t++){e.dyn_dtree[2*t]=0}for(t=0;t<m;t++){e.bl_tree[2*t]=0}e.dyn_ltree[2*A]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function Y(e){8<e.bi_valid?N(e,e.bi_buf):0<e.bi_valid&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function X(e,t,i,n){var r=2*t,o=2*i;return e[r]<e[o]||e[r]===e[o]&&n[t]<=n[i]}function Q(e,t,i){for(var n=e.heap[i],r=i<<1;r<=e.heap_len&&(r<e.heap_len&&X(t,e.heap[r+1],e.heap[r],e.depth)&&r++,!X(t,n,e.heap[r],e.depth));){e.heap[i]=e.heap[r],i=r,r<<=1}e.heap[i]=n}function J(e,t,i){var n,r,o,a,s=0;if(0!==e.last_lit)do{n=e.pending_buf[e.d_buf+2*s]<<8|e.pending_buf[e.d_buf+2*s+1],r=e.pending_buf[e.l_buf+s],s++,0===n?V(e,r,t):(V(e,(o=T[r])+d+1,t),0!==(a=I[o])&&z(e,r-=D[o],a),V(e,o=H(--n),i),0!==(a=S[o])&&z(e,n-=F[o],a))}while(s<e.last_lit);V(e,A,t)}function q(e,t){var i,n,r,o=t.dyn_tree,a=t.stat_desc.static_tree,s=t.stat_desc.has_stree,l=t.stat_desc.elems,c=-1;for(e.heap_len=0,e.heap_max=b,i=0;i<l;i++){0!==o[2*i]?(e.heap[++e.heap_len]=c=i,e.depth[i]=0):o[2*i+1]=0}for(;2>e.heap_len;){o[2*(r=e.heap[++e.heap_len]=2>c?++c:0)]=1,e.depth[r]=0,e.opt_len--,s&&(e.static_len-=a[2*r+1])}for(t.max_code=c,i=e.heap_len>>1;1<=i;i--){Q(e,o,i)}r=l;do{i=e.heap[1],e.heap[1]=e.heap[e.heap_len--],Q(e,o,1),n=e.heap[1],e.heap[--e.heap_max]=i,e.heap[--e.heap_max]=n,o[2*r]=o[2*i]+o[2*n],e.depth[r]=(e.depth[i]>=e.depth[n]?e.depth[i]:e.depth[n])+1,o[2*i+1]=o[2*n+1]=r,e.heap[1]=r++,Q(e,o,1)}while(2<=e.heap_len);e.heap[--e.heap_max]=e.heap[1],function(e,t){var i,n,r,o,a,s,l=t.dyn_tree,c=t.max_code,h=t.stat_desc.static_tree,u=t.stat_desc.has_stree,f=t.stat_desc.extra_bits,d=t.stat_desc.extra_base,p=t.stat_desc.max_length,_=0;for(o=0;o<=y;o++){e.bl_count[o]=0}for(l[2*e.heap[e.heap_max]+1]=0,i=e.heap_max+1;i<b;i++){(o=l[2*l[2*(n=e.heap[i])+1]+1]+1)>p&&(o=p,_++),l[2*n+1]=o,n>c||(e.bl_count[o]++,a=0,n>=d&&(a=f[n-d]),s=l[2*n],e.opt_len+=s*(o+a),u&&(e.static_len+=s*(h[2*n+1]+a)))}if(0!==_){do{for(o=p-1;0===e.bl_count[o];){o--}e.bl_count[o]--,e.bl_count[o+1]+=2,e.bl_count[p]--,_-=2}while(0<_);for(o=p;0!==o;o--){for(n=e.bl_count[o];0!==n;){(r=e.heap[--i])>c||(l[2*r+1]!==o&&(e.opt_len+=(o-l[2*r+1])*l[2*r],l[2*r+1]=o),n--)}}}}(e,t),j(o,c,e.bl_count)}function K(e,t,i){var n,r,o=-1,a=t[1],s=0,l=7,c=4;for(0===a&&(l=138,c=3),t[2*(i+1)+1]=65535,n=0;n<=i;n++){r=a,a=t[2*(n+1)+1],++s<l&&r===a||(s<c?e.bl_tree[2*r]+=s:0!==r?(r!==o&&e.bl_tree[2*r]++,e.bl_tree[2*w]++):10>=s?e.bl_tree[2*x]++:e.bl_tree[2*k]++,s=0,o=r,0===a?(l=138,c=3):r===a?(l=6,c=3):(l=7,c=4))}}function $(e,t,i){var n,r,o=-1,a=t[1],s=0,l=7,c=4;for(0===a&&(l=138,c=3),n=0;n<=i;n++){if(r=a,a=t[2*(n+1)+1],!(++s<l&&r===a)){if(s<c)do{V(e,r,e.bl_tree)}while(0!=--s);else 0!==r?(r!==o&&(V(e,r,e.bl_tree),s--),V(e,w,e.bl_tree),z(e,s-3,2)):10>=s?(V(e,x,e.bl_tree),z(e,s-3,3)):(V(e,k,e.bl_tree),z(e,s-11,7));s=0,o=r,0===a?(l=138,c=3):r===a?(l=6,c=3):(l=7,c=4)}}}l(F);var ee=!1;function te(e,t,i,r){z(e,(c<<1)+(r?1:0),3),function(e,t,i,r){Y(e),r&&(N(e,i),N(e,~i)),n.arraySet(e.pending_buf,e.window,t,i,e.pending),e.pending+=i}(e,t,i,!0)}t._tr_init=function(e){ee||(function(){var e,t,i,n,r,o=Array(y+1);for(i=0,n=0;n<f-1;n++){for(D[n]=i,e=0;e<1<<I[n];e++){T[i++]=n}}for(T[i-1]=n,r=0,n=0;16>n;n++){for(F[n]=r,e=0;e<1<<S[n];e++){P[r++]=n}}for(r>>=7;n<_;n++){for(F[n]=r<<7,e=0;e<1<<S[n]-7;e++){P[256+r++]=n}}for(t=0;t<=y;t++){o[t]=0}for(e=0;143>=e;){B[2*e+1]=8,e++,o[8]++}for(;255>=e;){B[2*e+1]=9,e++,o[9]++}for(;279>=e;){B[2*e+1]=7,e++,o[7]++}for(;287>=e;){B[2*e+1]=8,e++,o[8]++}for(j(B,p+1,o),e=0;e<_;e++){M[2*e+1]=5,M[2*e]=U(e,5)}R=new L(B,I,d+1,p,y),G=new L(M,S,0,_,y),O=new L([],E,0,m,v)}(),ee=!0),e.l_desc=new Z(e.dyn_ltree,R),e.d_desc=new Z(e.dyn_dtree,G),e.bl_desc=new Z(e.bl_tree,O),e.bi_buf=0,e.bi_valid=0,W(e)},t._tr_stored_block=te,t._tr_flush_block=function(e,t,i,n){var l,c,f=0;0<e.level?(e.strm.data_type===s&&(e.strm.data_type=function(e){var t,i=4093624447;for(t=0;31>=t;t++,i>>>=1){if(1&i&&0!==e.dyn_ltree[2*t])return o}if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return a;for(t=32;t<d;t++){if(0!==e.dyn_ltree[2*t])return a}return o}(e)),q(e,e.l_desc),q(e,e.d_desc),f=function(e){var t;for(K(e,e.dyn_ltree,e.l_desc.max_code),K(e,e.dyn_dtree,e.d_desc.max_code),q(e,e.bl_desc),t=m-1;3<=t&&0===e.bl_tree[2*C[t]+1];t--){;}return e.opt_len+=3*(t+1)+5+5+4,t}(e),l=e.opt_len+3+7>>>3,(c=e.static_len+3+7>>>3)<=l&&(l=c)):l=c=i+5,i+4<=l&&-1!==t?te(e,t,i,n):e.strategy===r||c===l?(z(e,(h<<1)+(n?1:0),3),J(e,B,M)):(z(e,(u<<1)+(n?1:0),3),function(e,t,i,n){var r;for(z(e,t-257,5),z(e,i-1,5),z(e,n-4,4),r=0;r<n;r++){z(e,e.bl_tree[2*C[r]+1],3)}$(e,e.dyn_ltree,t-1),$(e,e.dyn_dtree,i-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,f+1),J(e,e.dyn_ltree,e.dyn_dtree)),W(e),n&&Y(e)},t._tr_tally=function(e,t,i){return e.pending_buf[e.d_buf+2*e.last_lit]=255&t>>>8,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&i,e.last_lit++,0===t?e.dyn_ltree[2*i]++:(e.matches++,t--,e.dyn_ltree[2*(T[i]+d+1)]++,e.dyn_dtree[2*H(t)]++),e.last_lit===e.lit_bufsize-1},t._tr_align=function(e){z(e,h<<1,3),V(e,A,B),function(e){16===e.bi_valid?(N(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):8<=e.bi_valid&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},function(e,t,i){"use strict";var n=i(126),r=i(10),o=i(84),a=i(86),s=i(57),l=i(85),c=i(129),h=Object.prototype.toString;function u(e){if(!babelHelpers.instanceof(this,u))return new u(e);this.options=r.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&0<=t.windowBits&&16>t.windowBits&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(0<=t.windowBits&&16>t.windowBits)||e&&e.windowBits||(t.windowBits+=32),15<t.windowBits&&48>t.windowBits&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var i=n.inflateInit2(this.strm,t.windowBits);if(i!==a.Z_OK)throw new Error(s[i]);this.header=new c,n.inflateGetHeader(this.strm,this.header)}function f(e,t){var i=new u(t);if(i.push(e,!0),i.err)throw i.msg;return i.result}u.prototype.push=function(e,t){var i,s,l,c,u,f,d=this.strm,p=this.options.chunkSize,_=this.options.dictionary,m=!1;if(this.ended)return!1;s=t===~~t?t:!0===t?a.Z_FINISH:a.Z_NO_FLUSH,"string"==typeof e?d.input=o.binstring2buf(e):"[object ArrayBuffer]"===h.call(e)?d.input=new Uint8Array(e):d.input=e,d.next_in=0,d.avail_in=d.input.length;do{if(0===d.avail_out&&(d.output=new r.Buf8(p),d.next_out=0,d.avail_out=p),(i=n.inflate(d,a.Z_NO_FLUSH))===a.Z_NEED_DICT&&_&&(f="string"==typeof _?o.string2buf(_):"[object ArrayBuffer]"===h.call(_)?new Uint8Array(_):_,i=n.inflateSetDictionary(this.strm,f)),i===a.Z_BUF_ERROR&&!0===m&&(i=a.Z_OK,m=!1),i!==a.Z_STREAM_END&&i!==a.Z_OK)return this.onEnd(i),this.ended=!0,!1;d.next_out&&(0!==d.avail_out&&i!==a.Z_STREAM_END&&(0!==d.avail_in||s!==a.Z_FINISH&&s!==a.Z_SYNC_FLUSH)||("string"===this.options.to?(l=o.utf8border(d.output,d.next_out),c=d.next_out-l,u=o.buf2string(d.output,l),d.next_out=c,d.avail_out=p-c,c&&r.arraySet(d.output,d.output,l,c,0),this.onData(u)):this.onData(r.shrinkBuf(d.output,d.next_out)))),0===d.avail_in&&0===d.avail_out&&(m=!0)}while((0<d.avail_in||0===d.avail_out)&&i!==a.Z_STREAM_END);return i===a.Z_STREAM_END&&(s=a.Z_FINISH),s===a.Z_FINISH?(i=n.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===a.Z_OK):s!==a.Z_SYNC_FLUSH||(this.onEnd(a.Z_OK),d.avail_out=0,!0)},u.prototype.onData=function(e){this.chunks.push(e)},u.prototype.onEnd=function(e){e===a.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=r.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Inflate=u,t.inflate=f,t.inflateRaw=function(e,t){return(t=t||{}).raw=!0,f(e,t)},t.ungzip=f},function(e,t,i){"use strict";var n=i(10),r=i(82),o=i(83),a=i(127),s=i(128),l=0,c=1,h=2,u=4,f=5,d=6,p=0,_=1,m=2,b=-2,y=-3,g=-4,v=-5,A=8,w=1,x=2,k=3,I=4,S=5,E=6,C=7,B=8,M=9,P=10,T=11,D=12,R=13,G=14,O=15,F=16,L=17,Z=18,H=19,N=20,z=21,V=22,U=23,j=24,W=25,Y=26,X=27,Q=28,J=29,q=30,K=31,$=32,ee=852,te=592,ie=15;function ne(e){return(255&e>>>24)+(65280&e>>>8)+((65280&e)<<8)+((255&e)<<24)}function re(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=w,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new n.Buf32(ee),t.distcode=t.distdyn=new n.Buf32(te),t.sane=1,t.back=-1,p):b}function oe(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,re(e)):b}function ae(e,t){var i,n;return e&&e.state?(n=e.state,0>t?(i=0,t=-t):(i=1+(t>>4),48>t&&(t&=15)),t&&(8>t||15<t)?b:(null!==n.window&&n.wbits!==t&&(n.window=null),n.wrap=i,n.wbits=t,oe(e))):b}function se(e,t){var i,r;return e?(r=new function(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new n.Buf16(320),this.work=new n.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0},e.state=r,r.window=null,(i=ae(e,t))!==p&&(e.state=null),i):b}var le,ce,he=!0;function ue(e){if(he){var t;for(le=new n.Buf32(512),ce=new n.Buf32(32),t=0;144>t;){e.lens[t++]=8}for(;256>t;){e.lens[t++]=9}for(;280>t;){e.lens[t++]=7}for(;288>t;){e.lens[t++]=8}for(s(c,e.lens,0,288,le,0,e.work,{bits:9}),t=0;32>t;){e.lens[t++]=5}s(h,e.lens,0,32,ce,0,e.work,{bits:5}),he=!1}e.lencode=le,e.lenbits=9,e.distcode=ce,e.distbits=5}function fe(e,t,i,r){var o,a=e.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new n.Buf8(a.wsize)),r>=a.wsize?(n.arraySet(a.window,t,i-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):((o=a.wsize-a.wnext)>r&&(o=r),n.arraySet(a.window,t,i-r,o,a.wnext),(r-=o)?(n.arraySet(a.window,t,i-r,r,0),a.wnext=r,a.whave=a.wsize):(a.wnext+=o,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=o))),0}t.inflateReset=oe,t.inflateReset2=ae,t.inflateResetKeep=re,t.inflateInit=function(e){return se(e,ie)},t.inflateInit2=se,t.inflate=function(e,t){var i,ee,te,ie,re,oe,ae,se,le,ce,he,de,pe,_e,me,be,ye,ge,ve,Ae,we,xe,ke,Ie,Se=0,Ee=new n.Buf8(4),Ce=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return b;(i=e.state).mode===D&&(i.mode=R),re=e.next_out,te=e.output,ae=e.avail_out,ie=e.next_in,ee=e.input,oe=e.avail_in,se=i.hold,le=i.bits,ce=oe,he=ae,xe=p;e:for(;;){switch(i.mode){case w:if(0===i.wrap){i.mode=R;break}for(;16>le;){if(0===oe)break e;oe--,se+=ee[ie++]<<le,le+=8}if(2&i.wrap&&35615===se){i.check=0,Ee[0]=255&se,Ee[1]=255&se>>>8,i.check=o(i.check,Ee,2,0),se=0,le=0,i.mode=x;break}if(i.flags=0,i.head&&(i.head.done=!1),!(1&i.wrap)||(((255&se)<<8)+(se>>8))%31){e.msg="incorrect header check",i.mode=q;break}if((15&se)!==A){e.msg="unknown compression method",i.mode=q;break}if(le-=4,we=8+(15&(se>>>=4)),0===i.wbits)i.wbits=we;else if(we>i.wbits){e.msg="invalid window size",i.mode=q;break}i.dmax=1<<we,e.adler=i.check=1,i.mode=512&se?P:D,se=0,le=0;break;case x:for(;16>le;){if(0===oe)break e;oe--,se+=ee[ie++]<<le,le+=8}if(i.flags=se,(255&i.flags)!==A){e.msg="unknown compression method",i.mode=q;break}if(57344&i.flags){e.msg="unknown header flags set",i.mode=q;break}i.head&&(i.head.text=1&se>>8),512&i.flags&&(Ee[0]=255&se,Ee[1]=255&se>>>8,i.check=o(i.check,Ee,2,0)),se=0,le=0,i.mode=k;case k:for(;32>le;){if(0===oe)break e;oe--,se+=ee[ie++]<<le,le+=8}i.head&&(i.head.time=se),512&i.flags&&(Ee[0]=255&se,Ee[1]=255&se>>>8,Ee[2]=255&se>>>16,Ee[3]=255&se>>>24,i.check=o(i.check,Ee,4,0)),se=0,le=0,i.mode=I;case I:for(;16>le;){if(0===oe)break e;oe--,se+=ee[ie++]<<le,le+=8}i.head&&(i.head.xflags=255&se,i.head.os=se>>8),512&i.flags&&(Ee[0]=255&se,Ee[1]=255&se>>>8,i.check=o(i.check,Ee,2,0)),se=0,le=0,i.mode=S;case S:if(1024&i.flags){for(;16>le;){if(0===oe)break e;oe--,se+=ee[ie++]<<le,le+=8}i.length=se,i.head&&(i.head.extra_len=se),512&i.flags&&(Ee[0]=255&se,Ee[1]=255&se>>>8,i.check=o(i.check,Ee,2,0)),se=0,le=0}else i.head&&(i.head.extra=null);i.mode=E;case E:if(1024&i.flags&&((de=i.length)>oe&&(de=oe),de&&(i.head&&(we=i.head.extra_len-i.length,i.head.extra||(i.head.extra=Array(i.head.extra_len)),n.arraySet(i.head.extra,ee,ie,de,we)),512&i.flags&&(i.check=o(i.check,ee,de,ie)),oe-=de,ie+=de,i.length-=de),i.length))break e;i.length=0,i.mode=C;case C:if(2048&i.flags){if(0===oe)break e;de=0;do{we=ee[ie+de++],i.head&&we&&65536>i.length&&(i.head.name+=_StringfromCharCode(we))}while(we&&de<oe);if(512&i.flags&&(i.check=o(i.check,ee,de,ie)),oe-=de,ie+=de,we)break e}else i.head&&(i.head.name=null);i.length=0,i.mode=B;case B:if(4096&i.flags){if(0===oe)break e;de=0;do{we=ee[ie+de++],i.head&&we&&65536>i.length&&(i.head.comment+=_StringfromCharCode(we))}while(we&&de<oe);if(512&i.flags&&(i.check=o(i.check,ee,de,ie)),oe-=de,ie+=de,we)break e}else i.head&&(i.head.comment=null);i.mode=M;case M:if(512&i.flags){for(;16>le;){if(0===oe)break e;oe--,se+=ee[ie++]<<le,le+=8}if(se!==(65535&i.check)){e.msg="header crc mismatch",i.mode=q;break}se=0,le=0}i.head&&(i.head.hcrc=1&i.flags>>9,i.head.done=!0),e.adler=i.check=0,i.mode=D;break;case P:for(;32>le;){if(0===oe)break e;oe--,se+=ee[ie++]<<le,le+=8}e.adler=i.check=ne(se),se=0,le=0,i.mode=T;case T:if(0===i.havedict)return e.next_out=re,e.avail_out=ae,e.next_in=ie,e.avail_in=oe,i.hold=se,i.bits=le,m;e.adler=i.check=1,i.mode=D;case D:if(t===f||t===d)break e;case R:if(i.last){se>>>=7&le,le-=7&le,i.mode=X;break}for(;3>le;){if(0===oe)break e;oe--,se+=ee[ie++]<<le,le+=8}switch(i.last=1&se,le-=1,3&(se>>>=1)){case 0:i.mode=G;break;case 1:if(ue(i),i.mode=N,t===d){se>>>=2,le-=2;break e}break;case 2:i.mode=L;break;case 3:e.msg="invalid block type",i.mode=q;}se>>>=2,le-=2;break;case G:for(se>>>=7&le,le-=7&le;32>le;){if(0===oe)break e;oe--,se+=ee[ie++]<<le,le+=8}if((65535&se)!=(65535^se>>>16)){e.msg="invalid stored block lengths",i.mode=q;break}if(i.length=65535&se,se=0,le=0,i.mode=O,t===d)break e;case O:i.mode=F;case F:if(de=i.length){if(de>oe&&(de=oe),de>ae&&(de=ae),0===de)break e;n.arraySet(te,ee,ie,de,re),oe-=de,ie+=de,ae-=de,re+=de,i.length-=de;break}i.mode=D;break;case L:for(;14>le;){if(0===oe)break e;oe--,se+=ee[ie++]<<le,le+=8}if(i.nlen=257+(31&se),se>>>=5,le-=5,i.ndist=1+(31&se),se>>>=5,le-=5,i.ncode=4+(15&se),se>>>=4,le-=4,286<i.nlen||30<i.ndist){e.msg="too many length or distance symbols",i.mode=q;break}i.have=0,i.mode=Z;case Z:for(;i.have<i.ncode;){for(;3>le;){if(0===oe)break e;oe--,se+=ee[ie++]<<le,le+=8}i.lens[Ce[i.have++]]=7&se,se>>>=3,le-=3}for(;19>i.have;){i.lens[Ce[i.have++]]=0}if(i.lencode=i.lendyn,i.lenbits=7,ke={bits:i.lenbits},xe=s(l,i.lens,0,19,i.lencode,0,i.work,ke),i.lenbits=ke.bits,xe){e.msg="invalid code lengths set",i.mode=q;break}i.have=0,i.mode=H;case H:for(;i.have<i.nlen+i.ndist;){for(;be=255&(Se=i.lencode[se&(1<<i.lenbits)-1])>>>16,ye=65535&Se,!((me=Se>>>24)<=le);){if(0===oe)break e;oe--,se+=ee[ie++]<<le,le+=8}if(16>ye)se>>>=me,le-=me,i.lens[i.have++]=ye;else{if(16===ye){for(Ie=me+2;le<Ie;){if(0===oe)break e;oe--,se+=ee[ie++]<<le,le+=8}if(se>>>=me,le-=me,0===i.have){e.msg="invalid bit length repeat",i.mode=q;break}we=i.lens[i.have-1],de=3+(3&se),se>>>=2,le-=2}else if(17===ye){for(Ie=me+3;le<Ie;){if(0===oe)break e;oe--,se+=ee[ie++]<<le,le+=8}le-=me,we=0,de=3+(7&(se>>>=me)),se>>>=3,le-=3}else{for(Ie=me+7;le<Ie;){if(0===oe)break e;oe--,se+=ee[ie++]<<le,le+=8}le-=me,we=0,de=11+(127&(se>>>=me)),se>>>=7,le-=7}if(i.have+de>i.nlen+i.ndist){e.msg="invalid bit length repeat",i.mode=q;break}for(;de--;){i.lens[i.have++]=we}}}if(i.mode===q)break;if(0===i.lens[256]){e.msg="invalid code -- missing end-of-block",i.mode=q;break}if(i.lenbits=9,ke={bits:i.lenbits},xe=s(c,i.lens,0,i.nlen,i.lencode,0,i.work,ke),i.lenbits=ke.bits,xe){e.msg="invalid literal/lengths set",i.mode=q;break}if(i.distbits=6,i.distcode=i.distdyn,ke={bits:i.distbits},xe=s(h,i.lens,i.nlen,i.ndist,i.distcode,0,i.work,ke),i.distbits=ke.bits,xe){e.msg="invalid distances set",i.mode=q;break}if(i.mode=N,t===d)break e;case N:i.mode=z;case z:if(6<=oe&&258<=ae){e.next_out=re,e.avail_out=ae,e.next_in=ie,e.avail_in=oe,i.hold=se,i.bits=le,a(e,he),re=e.next_out,te=e.output,ae=e.avail_out,ie=e.next_in,ee=e.input,oe=e.avail_in,se=i.hold,le=i.bits,i.mode===D&&(i.back=-1);break}for(i.back=0;be=255&(Se=i.lencode[se&(1<<i.lenbits)-1])>>>16,ye=65535&Se,!((me=Se>>>24)<=le);){if(0===oe)break e;oe--,se+=ee[ie++]<<le,le+=8}if(be&&0==(240&be)){for(ge=me,ve=be,Ae=ye;be=255&(Se=i.lencode[Ae+((se&(1<<ge+ve)-1)>>ge)])>>>16,ye=65535&Se,!(ge+(me=Se>>>24)<=le);){if(0===oe)break e;oe--,se+=ee[ie++]<<le,le+=8}se>>>=ge,le-=ge,i.back+=ge}if(se>>>=me,le-=me,i.back+=me,i.length=ye,0===be){i.mode=Y;break}if(32&be){i.back=-1,i.mode=D;break}if(64&be){e.msg="invalid literal/length code",i.mode=q;break}i.extra=15&be,i.mode=V;case V:if(i.extra){for(Ie=i.extra;le<Ie;){if(0===oe)break e;oe--,se+=ee[ie++]<<le,le+=8}i.length+=se&(1<<i.extra)-1,se>>>=i.extra,le-=i.extra,i.back+=i.extra}i.was=i.length,i.mode=U;case U:for(;be=255&(Se=i.distcode[se&(1<<i.distbits)-1])>>>16,ye=65535&Se,!((me=Se>>>24)<=le);){if(0===oe)break e;oe--,se+=ee[ie++]<<le,le+=8}if(0==(240&be)){for(ge=me,ve=be,Ae=ye;be=255&(Se=i.distcode[Ae+((se&(1<<ge+ve)-1)>>ge)])>>>16,ye=65535&Se,!(ge+(me=Se>>>24)<=le);){if(0===oe)break e;oe--,se+=ee[ie++]<<le,le+=8}se>>>=ge,le-=ge,i.back+=ge}if(se>>>=me,le-=me,i.back+=me,64&be){e.msg="invalid distance code",i.mode=q;break}i.offset=ye,i.extra=15&be,i.mode=j;case j:if(i.extra){for(Ie=i.extra;le<Ie;){if(0===oe)break e;oe--,se+=ee[ie++]<<le,le+=8}i.offset+=se&(1<<i.extra)-1,se>>>=i.extra,le-=i.extra,i.back+=i.extra}if(i.offset>i.dmax){e.msg="invalid distance too far back",i.mode=q;break}i.mode=W;case W:if(0===ae)break e;if(de=he-ae,i.offset>de){if((de=i.offset-de)>i.whave&&i.sane){e.msg="invalid distance too far back",i.mode=q;break}de>i.wnext?(de-=i.wnext,pe=i.wsize-de):pe=i.wnext-de,de>i.length&&(de=i.length),_e=i.window}else _e=te,pe=re-i.offset,de=i.length;de>ae&&(de=ae),ae-=de,i.length-=de;do{te[re++]=_e[pe++]}while(--de);0===i.length&&(i.mode=z);break;case Y:if(0===ae)break e;te[re++]=i.length,ae--,i.mode=z;break;case X:if(i.wrap){for(;32>le;){if(0===oe)break e;oe--,se|=ee[ie++]<<le,le+=8}if(he-=ae,e.total_out+=he,i.total+=he,he&&(e.adler=i.check=i.flags?o(i.check,te,he,re-he):r(i.check,te,he,re-he)),he=ae,(i.flags?se:ne(se))!==i.check){e.msg="incorrect data check",i.mode=q;break}se=0,le=0}i.mode=Q;case Q:if(i.wrap&&i.flags){for(;32>le;){if(0===oe)break e;oe--,se+=ee[ie++]<<le,le+=8}if(se!==(4294967295&i.total)){e.msg="incorrect length check",i.mode=q;break}se=0,le=0}i.mode=J;case J:xe=_;break e;case q:xe=y;break e;case K:return g;case $:default:return b;}}return e.next_out=re,e.avail_out=ae,e.next_in=ie,e.avail_in=oe,i.hold=se,i.bits=le,(i.wsize||he!==e.avail_out&&i.mode<q&&(i.mode<X||t!==u))&&fe(e,e.output,e.next_out,he-e.avail_out)?(i.mode=K,g):(ce-=e.avail_in,he-=e.avail_out,e.total_in+=ce,e.total_out+=he,i.total+=he,i.wrap&&he&&(e.adler=i.check=i.flags?o(i.check,te,he,e.next_out-he):r(i.check,te,he,e.next_out-he)),e.data_type=i.bits+(i.last?64:0)+(i.mode===D?128:0)+(i.mode===N||i.mode===O?256:0),(0===ce&&0===he||t===u)&&xe===p&&(xe=v),xe)},t.inflateEnd=function(e){if(!e||!e.state)return b;var t=e.state;return t.window&&(t.window=null),e.state=null,p},t.inflateGetHeader=function(e,t){var i;return e&&e.state?0==(2&(i=e.state).wrap)?b:(i.head=t,t.done=!1,p):b},t.inflateSetDictionary=function(e,t){var i,n=t.length;return e&&e.state?0!==(i=e.state).wrap&&i.mode!==T?b:i.mode===T&&r(1,t,n,0)!==i.check?y:fe(e,t,n,n)?(i.mode=K,g):(i.havedict=1,p):b},t.inflateInfo="pako inflate (from Nodeca project)"},function(e,t,i){"use strict";e.exports=function(e,t){var i,n,r,o,a,s,l,c,h,u,f,d,p,_,m,b,y,g,v,A,w,x,k,I,S;i=e.state,n=e.next_in,I=e.input,r=n+(e.avail_in-5),o=e.next_out,S=e.output,a=o-(t-e.avail_out),s=o+(e.avail_out-257),l=i.dmax,c=i.wsize,h=i.whave,u=i.wnext,f=i.window,d=i.hold,p=i.bits,_=i.lencode,m=i.distcode,b=(1<<i.lenbits)-1,y=(1<<i.distbits)-1;e:do{15>p&&(d+=I[n++]<<p,p+=8,d+=I[n++]<<p,p+=8),g=_[d&b];t:for(;;){if(d>>>=v=g>>>24,p-=v,0===(v=255&g>>>16))S[o++]=65535&g;else{if(!(16&v)){if(0==(64&v)){g=_[(65535&g)+(d&(1<<v)-1)];continue t}if(32&v){i.mode=12;break e}e.msg="invalid literal/length code",i.mode=30;break e}A=65535&g,(v&=15)&&(p<v&&(d+=I[n++]<<p,p+=8),A+=d&(1<<v)-1,d>>>=v,p-=v),15>p&&(d+=I[n++]<<p,p+=8,d+=I[n++]<<p,p+=8),g=m[d&y];i:for(;;){if(d>>>=v=g>>>24,p-=v,!(16&(v=255&g>>>16))){if(0==(64&v)){g=m[(65535&g)+(d&(1<<v)-1)];continue i}e.msg="invalid distance code",i.mode=30;break e}if(w=65535&g,p<(v&=15)&&(d+=I[n++]<<p,(p+=8)<v&&(d+=I[n++]<<p,p+=8)),(w+=d&(1<<v)-1)>l){e.msg="invalid distance too far back",i.mode=30;break e}if(d>>>=v,p-=v,w>(v=o-a)){if((v=w-v)>h&&i.sane){e.msg="invalid distance too far back",i.mode=30;break e}if(x=0,k=f,0===u){if(x+=c-v,v<A){A-=v;do{S[o++]=f[x++]}while(--v);x=o-w,k=S}}else if(u<v){if(x+=c+u-v,(v-=u)<A){A-=v;do{S[o++]=f[x++]}while(--v);if(x=0,u<A){A-=v=u;do{S[o++]=f[x++]}while(--v);x=o-w,k=S}}}else if(x+=u-v,v<A){A-=v;do{S[o++]=f[x++]}while(--v);x=o-w,k=S}for(;2<A;){S[o++]=k[x++],S[o++]=k[x++],S[o++]=k[x++],A-=3}A&&(S[o++]=k[x++],1<A&&(S[o++]=k[x++]))}else{x=o-w;do{S[o++]=S[x++],S[o++]=S[x++],S[o++]=S[x++],A-=3}while(2<A);A&&(S[o++]=S[x++],1<A&&(S[o++]=S[x++]))}break}}break}}while(n<r&&o<s);n-=A=p>>3,d&=(1<<(p-=A<<3))-1,e.next_in=n,e.next_out=o,e.avail_in=n<r?r-n+5:5-(n-r),e.avail_out=o<s?s-o+257:257-(o-s),i.hold=d,i.bits=p}},function(e,t,i){"use strict";var n=i(10),r=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(e,t,i,l,c,h,u,f){var d,p,_,m,b,y,g,v,A,w=f.bits,x=0,k=0,I=0,S=0,E=0,C=0,B=0,M=0,P=0,T=0,D=null,R=0,G=new n.Buf16(16),O=new n.Buf16(16),F=null,L=0;for(x=0;15>=x;x++){G[x]=0}for(k=0;k<l;k++){G[t[i+k]]++}for(E=w,S=15;1<=S&&0===G[S];S--){;}if(E>S&&(E=S),0===S)return c[h++]=20971520,c[h++]=20971520,f.bits=1,0;for(I=1;I<S&&0===G[I];I++){;}for(E<I&&(E=I),M=1,x=1;15>=x;x++){if(M<<=1,0>(M-=G[x]))return-1}if(0<M&&(0===e||1!==S))return-1;for(O[1]=0,x=1;15>x;x++){O[x+1]=O[x]+G[x]}for(k=0;k<l;k++){0!==t[i+k]&&(u[O[t[i+k]]++]=k)}if(0===e?(D=F=u,y=19):1===e?(D=r,R-=257,F=o,L-=257,y=256):(D=a,F=s,y=-1),T=0,k=0,x=I,b=h,C=E,B=0,_=-1,m=(P=1<<E)-1,1===e&&852<P||2===e&&592<P)return 1;for(;;){0,g=x-B,u[k]<y?(v=0,A=u[k]):u[k]>y?(v=F[L+u[k]],A=D[R+u[k]]):(v=96,A=0),d=1<<x-B,I=p=1<<C;do{c[b+(T>>B)+(p-=d)]=0|(g<<24|v<<16|A)}while(0!==p);for(d=1<<x-1;T&d;){d>>=1}if(0!==d?(T&=d-1,T+=d):T=0,k++,0==--G[x]){if(x===S)break;x=t[i+u[k]]}if(x>E&&(T&m)!==_){for(0===B&&(B=E),b+=I,M=1<<(C=x-B);C+B<S&&!(0>=(M-=G[C+B]));){C++,M<<=1}if(P+=1<<C,1===e&&852<P||2===e&&592<P)return 1;c[_=T&m]=0|(E<<24|C<<16|b-h)}}return 0!==T&&(c[b+T]=0|(x-B<<24|64<<16)),f.bits=E,0}},function(e,t,i){"use strict";e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},function(e,t,i){"use strict";var n=i(131),r=i(132),o=i(133),a=i(87),s=i(134),l=i(137),c=i(60),h=i(138),u=i(139),f=127;e.exports=function(e){var t,i,d,p,_,m,b;if(i=0>e||1/e===r?"1":"0",e===n||e===r)return i+(p=c("1",8))+(d=c("0",23));if(e!=e)return i+(p=c("1",8))+(d="1"+c("0",22));if(0===e)return i+(p=c("0",8))+(d=c("0",23));if(m=(e=o(e))-(_=a(e)),_=h(_),m=u(m),_)p=_.length-1;else{for(b=0;b<m.length;b++){if("1"===m[b]){t=b+1;break}}p=-t}return d=_+m,0>p?(p<=-f&&(t=f-1),d=d.substring(t)):d=d.substring(1),p=h(p+f),i+(p=l(p,8,"0"))+(d=s(d,23,"0").substring(0,23))}},function(e,t,i){"use strict";var n=new Float32Array(1);new Uint32Array(n.buffer)[0]=2139095040,e.exports=n[0]},function(e,t,i){"use strict";var n=new Float32Array(1);new Uint32Array(n.buffer)[0]=4286578688,e.exports=n[0]},function(e,t,i){"use strict";e.exports=function(e){return 0>e?-e:0===e?0:e}},function(e,t,i){"use strict";var n=i(58),r=i(59),o=i(88),a=i(60),s=9007199254740991;e.exports=function(e,t,i){var l,c;if(!n(e))throw new TypeError("invalid input argument. First argument must be a string. Value: `"+e+"`.");if(!r(t))throw new TypeError("invalid input argument. Second argument must be a nonnegative integer. Value: `"+t+"`.");if(2<arguments.length){if(!n(c=i))throw new TypeError("invalid input argument. Third argument must be a string. Value: `"+c+"`.");if(0===c.length)throw new RangeError("invalid input argument. Pad string must not be an empty string.")}else c=" ";if(t>s)throw new RangeError("invalid input argument. Output string length exceeds maximum allowed string length.");return 0>=(l=(t-e.length)/c.length)?e:(l=o(l),e+a(c,l))}},function(e,t,i){"use strict";var n=i(136);e.exports=function(e){return n(e)&&0==e%1}},function(e,t,i){"use strict";e.exports=function(e){return("number"==typeof e||"[object Number]"===Object.prototype.toString.call(e))&&e.valueOf()==e.valueOf()}},function(e,t,i){"use strict";var n=i(58),r=i(59),o=i(88),a=i(60),s=9007199254740991;e.exports=function(e,t,i){var l,c;if(!n(e))throw new TypeError("invalid input argument. First argument must be a string. Value: `"+e+"`.");if(!r(t))throw new TypeError("invalid input argument. Second argument must be a nonnegative integer. Value: `"+t+"`.");if(2<arguments.length){if(!n(c=i))throw new TypeError("invalid input argument. Third argument must be a string. Value: `"+c+"`.");if(0===c.length)throw new RangeError("invalid input argument. Pad string must not be an empty string.")}else c=" ";if(t>s)throw new RangeError("invalid input argument. Output string length exceeds maximum allowed string length.");return 0>=(l=(t-e.length)/c.length)?e:(l=o(l),a(c,l)+e)}},function(e,t,i){"use strict";var n=i(87);e.exports=function(e){for(var t,i="";0<e;){i=(t=e/2)===(e=n(t))?"0"+i:"1"+i}return i}},function(e,t,i){"use strict";var n=149,r=24;e.exports=function(e){var t,i,o,a;if(t="",0===e)return t;for(a=n,o=0;o<n&&(1<=(i=2*e)?(e=i-1,t+="1",a===n&&(a=o)):(e=i,t+="0"),!(1===i||o-a>r));o++){;}return t}},function(e,t,i){"use strict";var n=n||{};n.Utils=n.Utils||i(61),n.NIFTI1=n.NIFTI1||i(89),n.NIFTI2=n.NIFTI2||function(){this.littleEndian=!1,this.dim_info=0,this.dims=[],this.intent_p1=0,this.intent_p2=0,this.intent_p3=0,this.intent_code=0,this.datatypeCode=0,this.numBitsPerVoxel=0,this.slice_start=0,this.slice_end=0,this.slice_code=0,this.pixDims=[],this.vox_offset=0,this.scl_slope=1,this.scl_inter=0,this.xyzt_units=0,this.cal_max=0,this.cal_min=0,this.slice_duration=0,this.toffset=0,this.description="",this.aux_file="",this.intent_name="",this.qform_code=0,this.sform_code=0,this.quatern_b=0,this.quatern_c=0,this.quatern_d=0,this.qoffset_x=0,this.qoffset_y=0,this.qoffset_z=0,this.affine=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]],this.magic=0,this.extensionFlag=[0,0,0,0]},n.NIFTI2.MAGIC_COOKIE=540,n.NIFTI2.MAGIC_NUMBER_LOCATION=4,n.NIFTI2.MAGIC_NUMBER=[110,43,50,0,13,10,26,10],n.NIFTI2.prototype.readHeader=function(e){var t,i,r,o,a=new DataView(e),s=n.Utils.getIntAt(a,0,this.littleEndian);if(s!==n.NIFTI2.MAGIC_COOKIE&&(this.littleEndian=!0,s=n.Utils.getIntAt(a,0,this.littleEndian)),s!==n.NIFTI2.MAGIC_COOKIE)throw new Error("This does not appear to be a NIFTI file!");for(this.datatypeCode=n.Utils.getShortAt(a,12,this.littleEndian),this.numBitsPerVoxel=n.Utils.getShortAt(a,14,this.littleEndian),t=0;8>t;t+=1){o=16+8*t,this.dims[t]=n.Utils.getLongAt(a,o,this.littleEndian)}for(this.intent_p1=n.Utils.getDoubleAt(a,80,this.littleEndian),this.intent_p2=n.Utils.getDoubleAt(a,88,this.littleEndian),this.intent_p3=n.Utils.getDoubleAt(a,96,this.littleEndian),t=0;8>t;t+=1){o=104+8*t,this.pixDims[t]=n.Utils.getDoubleAt(a,o,this.littleEndian)}for(this.vox_offset=n.Utils.getLongAt(a,168,this.littleEndian),this.scl_slope=n.Utils.getDoubleAt(a,176,this.littleEndian),this.scl_inter=n.Utils.getDoubleAt(a,184,this.littleEndian),this.cal_max=n.Utils.getDoubleAt(a,192,this.littleEndian),this.cal_min=n.Utils.getDoubleAt(a,200,this.littleEndian),this.slice_duration=n.Utils.getDoubleAt(a,208,this.littleEndian),this.toffset=n.Utils.getDoubleAt(a,216,this.littleEndian),this.slice_start=n.Utils.getLongAt(a,224,this.littleEndian),this.slice_end=n.Utils.getLongAt(a,232,this.littleEndian),this.description=n.Utils.getStringAt(a,240,320),this.aux_file=n.Utils.getStringAt(a,320,344),this.qform_code=n.Utils.getIntAt(a,344,this.littleEndian),this.sform_code=n.Utils.getIntAt(a,348,this.littleEndian),this.quatern_b=n.Utils.getDoubleAt(a,352,this.littleEndian),this.quatern_c=n.Utils.getDoubleAt(a,360,this.littleEndian),this.quatern_d=n.Utils.getDoubleAt(a,368,this.littleEndian),this.qoffset_x=n.Utils.getDoubleAt(a,376,this.littleEndian),this.qoffset_y=n.Utils.getDoubleAt(a,384,this.littleEndian),this.qoffset_z=n.Utils.getDoubleAt(a,392,this.littleEndian),i=0;3>i;i+=1){for(r=0;4>r;r+=1){o=400+8*(4*i+r),this.affine[i][r]=n.Utils.getDoubleAt(a,o,this.littleEndian)}}this.affine[3][0]=0,this.affine[3][1]=0,this.affine[3][2]=0,this.affine[3][3]=1,this.slice_code=n.Utils.getIntAt(a,496,this.littleEndian),this.xyzt_units=n.Utils.getIntAt(a,500,this.littleEndian),this.intent_code=n.Utils.getIntAt(a,504,this.littleEndian),this.intent_name=n.Utils.getStringAt(a,508,524),this.dim_info=n.Utils.getByteAt(a,524),a.byteLength>n.NIFTI2.MAGIC_COOKIE&&(this.extensionFlag[0]=n.Utils.getByteAt(a,540),this.extensionFlag[1]=n.Utils.getByteAt(a,541),this.extensionFlag[2]=n.Utils.getByteAt(a,542),this.extensionFlag[3]=n.Utils.getByteAt(a,543),this.extensionFlag[0]&&(this.extensionSize=this.getExtensionSize(a),this.extensionCode=this.getExtensionCode(a)))},n.NIFTI2.prototype.toFormattedString=function(){var e=n.Utils.formatNumber,t="";return t+="Datatype = "+ +this.datatypeCode+" ("+this.getDatatypeCodeString(this.datatypeCode)+")\n",t+="Bits Per Voxel =  = "+this.numBitsPerVoxel+"\n",t+="Image Dimensions (1-8): "+this.dims[0]+", "+this.dims[1]+", "+this.dims[2]+", "+this.dims[3]+", "+this.dims[4]+", "+this.dims[5]+", "+this.dims[6]+", "+this.dims[7]+"\n",t+="Intent Parameters (1-3): "+this.intent_p1+", "+this.intent_p2+", "+this.intent_p3+"\n",t+="Voxel Dimensions (1-8): "+e(this.pixDims[0])+", "+e(this.pixDims[1])+", "+e(this.pixDims[2])+", "+e(this.pixDims[3])+", "+e(this.pixDims[4])+", "+e(this.pixDims[5])+", "+e(this.pixDims[6])+", "+e(this.pixDims[7])+"\n",t+="Image Offset = "+this.vox_offset+"\n",t+="Data Scale:  Slope = "+e(this.scl_slope)+"  Intercept = "+e(this.scl_inter)+"\n",t+="Display Range:  Max = "+e(this.cal_max)+"  Min = "+e(this.cal_min)+"\n",t+="Slice Duration = "+this.slice_duration+"\n",t+="Time Axis Shift = "+this.toffset+"\n",t+="Slice Start = "+this.slice_start+"\n",t+="Slice End = "+this.slice_end+"\n",t+="Description: \""+this.description+"\"\n",t+="Auxiliary File: \""+this.aux_file+"\"\n",t+="Q-Form Code = "+this.qform_code+" ("+this.getTransformCodeString(this.qform_code)+")\n",t+="S-Form Code = "+this.sform_code+" ("+this.getTransformCodeString(this.sform_code)+")\n",t+="Quaternion Parameters:  b = "+e(this.quatern_b)+"  c = "+e(this.quatern_c)+"  d = "+e(this.quatern_d)+"\n",t+="Quaternion Offsets:  x = "+this.qoffset_x+"  y = "+this.qoffset_y+"  z = "+this.qoffset_z+"\n",t+="S-Form Parameters X: "+e(this.affine[0][0])+", "+e(this.affine[0][1])+", "+e(this.affine[0][2])+", "+e(this.affine[0][3])+"\n",t+="S-Form Parameters Y: "+e(this.affine[1][0])+", "+e(this.affine[1][1])+", "+e(this.affine[1][2])+", "+e(this.affine[1][3])+"\n",t+="S-Form Parameters Z: "+e(this.affine[2][0])+", "+e(this.affine[2][1])+", "+e(this.affine[2][2])+", "+e(this.affine[2][3])+"\n",t+="Slice Code = "+this.slice_code+"\n",t+="Units Code = "+this.xyzt_units+" ("+this.getUnitsCodeString(n.NIFTI1.SPATIAL_UNITS_MASK&this.xyzt_units)+", "+this.getUnitsCodeString(n.NIFTI1.TEMPORAL_UNITS_MASK&this.xyzt_units)+")\n",t+="Intent Code = "+this.intent_code+"\n",t+="Intent Name: \""+this.intent_name+"\"\n",t+="Dim Info = "+this.dim_info+"\n"},n.NIFTI2.prototype.getExtensionLocation=function(){return n.NIFTI2.MAGIC_COOKIE+4},n.NIFTI2.prototype.getExtensionSize=n.NIFTI1.prototype.getExtensionSize,n.NIFTI2.prototype.getExtensionCode=n.NIFTI1.prototype.getExtensionCode,n.NIFTI2.prototype.getDatatypeCodeString=n.NIFTI1.prototype.getDatatypeCodeString,n.NIFTI2.prototype.getTransformCodeString=n.NIFTI1.prototype.getTransformCodeString,n.NIFTI2.prototype.getUnitsCodeString=n.NIFTI1.prototype.getUnitsCodeString,n.NIFTI2.prototype.getQformMat=n.NIFTI1.prototype.getQformMat,n.NIFTI2.prototype.convertNiftiQFormToNiftiSForm=n.NIFTI1.prototype.convertNiftiQFormToNiftiSForm,n.NIFTI2.prototype.convertNiftiSFormToNEMA=n.NIFTI1.prototype.convertNiftiSFormToNEMA,n.NIFTI2.prototype.nifti_mat33_mul=n.NIFTI1.prototype.nifti_mat33_mul,n.NIFTI2.prototype.nifti_mat33_determ=n.NIFTI1.prototype.nifti_mat33_determ,"undefined"!==typeof e&&e.exports&&(e.exports=n.NIFTI2)},function(e,t,i){"use strict";(function(e){var n=i(142),r=i(143),o=i(144);function a(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=l.prototype:(null===e&&(e=new l(t)),e.length=t),e}function l(e,t,i){if(!(l.TYPED_ARRAY_SUPPORT||babelHelpers.instanceof(this,l)))return new l(e,t,i);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return u(this,e)}return c(this,e,t,i)}function c(e,t,i,n){if("number"==typeof t)throw new TypeError("\"value\" argument must not be a number");return"undefined"!=typeof ArrayBuffer&&babelHelpers.instanceof(t,ArrayBuffer)?function(e,t,i,n){if(t.byteLength,0>i||t.byteLength<i)throw new RangeError("'offset' is out of bounds");if(t.byteLength<i+(n||0))throw new RangeError("'length' is out of bounds");t=void 0===i&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,i):new Uint8Array(t,i,n);l.TYPED_ARRAY_SUPPORT?(e=t).__proto__=l.prototype:e=f(e,t);return e}(e,t,i,n):"string"==typeof t?function(e,t,i){"string"==typeof i&&""!==i||(i="utf8");if(!l.isEncoding(i))throw new TypeError("\"encoding\" must be a valid string encoding");var n=0|p(t,i),r=(e=s(e,n)).write(t,i);r!==n&&(e=e.slice(0,r));return e}(e,t,i):function(e,t){if(l.isBuffer(t)){var i=0|d(t.length);return 0===(e=s(e,i)).length?e:(t.copy(e,0,0,i),e)}if(t){if("undefined"!=typeof ArrayBuffer&&babelHelpers.instanceof(t.buffer,ArrayBuffer)||"length"in t)return"number"!=typeof t.length||function(e){return e!=e}(t.length)?s(e,0):f(e,t);if("Buffer"===t.type&&o(t.data))return f(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function h(e){if("number"!=typeof e)throw new TypeError("\"size\" argument must be a number");if(0>e)throw new RangeError("\"size\" argument must not be negative")}function u(e,t){if(h(t),e=s(e,0>t?0:0|d(t)),!l.TYPED_ARRAY_SUPPORT)for(var i=0;i<t;++i){e[i]=0}return e}function f(e,t){var i=0>t.length?0:0|d(t.length);e=s(e,i);for(var n=0;n<i;n+=1){e[n]=255&t[n]}return e}function d(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function p(e,t){if(l.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||babelHelpers.instanceof(e,ArrayBuffer)))return e.byteLength;"string"!=typeof e&&(e=""+e);var i=e.length;if(0===i)return 0;for(var n=!1;;){switch(t){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":case void 0:return H(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return N(e).length;default:if(n)return H(e).length;t=(""+t).toLowerCase(),n=!0;}}}function _(e,t,i){var n=e[t];e[t]=e[i],e[i]=n}function m(e,t,i,n,r){if(0===e.length)return-1;if("string"==typeof i?(n=i,i=0):2147483647<i?i=2147483647:-2147483648>i&&(i=-2147483648),i=+i,isNaN(i)&&(i=r?0:e.length-1),0>i&&(i=e.length+i),i>=e.length){if(r)return-1;i=e.length-1}else if(0>i){if(!r)return-1;i=0}if("string"==typeof t&&(t=l.from(t,n)),l.isBuffer(t))return 0===t.length?-1:b(e,t,i,n,r);if("number"==typeof t)return t&=255,l.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(e,t,i):Uint8Array.prototype.lastIndexOf.call(e,t,i):b(e,[t],i,n,r);throw new TypeError("val must be string, number or Buffer")}function b(e,t,i,n,r){var o,a=1,s=e.length,l=t.length;if(void 0!==n&&("ucs2"===(n=(n+"").toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(2>e.length||2>t.length)return-1;a=2,s/=2,l/=2,i/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(r){var h=-1;for(o=i;o<s;o++){if(c(e,o)===c(t,-1===h?0:o-h)){if(-1===h&&(h=o),o-h+1===l)return h*a}else-1!==h&&(o-=o-h),h=-1}}else for(i+l>s&&(i=s-l),o=i;0<=o;o--){for(var u=!0,f=0;f<l;f++){if(c(e,o+f)!==c(t,f)){u=!1;break}}if(u)return o}return-1}function y(e,t,i,n){i=+i||0;var r=e.length-i;n?(n=+n)>r&&(n=r):n=r;var o=t.length;if(0!=o%2)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var a=0,s;a<n;++a){s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[i+a]=s}return a}function g(e,t,i,n){return z(H(t,e.length-i),e,i,n)}function v(e,t,i,n){return z(function(e){for(var t=[],i=0;i<e.length;++i){t.push(255&e.charCodeAt(i))}return t}(t),e,i,n)}function A(e,t,i,n){return v(e,t,i,n)}function w(e,t,i,n){return z(N(t),e,i,n)}function x(e,t,i,n){return z(function(e,t){for(var i,n,r,o=[],a=0;a<e.length&&!(0>(t-=2));++a){i=e.charCodeAt(a),n=i>>8,r=i%256,o.push(r),o.push(n)}return o}(t,e.length-i),e,i,n)}function k(e,t,i){return 0===t&&i===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,i))}function I(e,t,i){i=_Mathmin(e.length,i);for(var n=[],r=t;r<i;){var o,a,s,l,c=e[r],h=null,u=239<c?4:223<c?3:191<c?2:1;if(r+u<=i)switch(u){case 1:128>c&&(h=c);break;case 2:128==(192&(o=e[r+1]))&&127<(l=(31&c)<<6|63&o)&&(h=l);break;case 3:o=e[r+1],a=e[r+2],128==(192&o)&&128==(192&a)&&2047<(l=(15&c)<<12|(63&o)<<6|63&a)&&(55296>l||57343<l)&&(h=l);break;case 4:o=e[r+1],a=e[r+2],s=e[r+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&65535<(l=(15&c)<<18|(63&o)<<12|(63&a)<<6|63&s)&&1114112>l&&(h=l);}null===h?(h=65533,u=1):65535<h&&(h-=65536,n.push(55296|1023&h>>>10),h=56320|1023&h),n.push(h),r+=u}return function(e){var t=e.length;if(t<=S)return _StringfromCharCode.apply(String,e);var i="",n=0;for(;n<t;){i+=_StringfromCharCode.apply(String,e.slice(n,n+=S))}return i}(n)}t.Buffer=l,t.SlowBuffer=function(e){+e!=e&&(e=0);return l.alloc(+e)},t.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function foo(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=a(),l.poolSize=8192,l._augment=function(e){return e.__proto__=l.prototype,e},l.from=function(e,t,i){return c(null,e,t,i)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(e,t,i){return function(e,t,i,n){return h(t),0>=t?s(e,t):void 0!==i?"string"==typeof n?s(e,t).fill(i,n):s(e,t).fill(i):s(e,t)}(null,e,t,i)},l.allocUnsafe=function(e){return u(null,e)},l.allocUnsafeSlow=function(e){return u(null,e)},l.isBuffer=function(e){return!(null==e||!e._isBuffer)},l.compare=function(e,t){if(!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var i=e.length,n=t.length,r=0,o=_Mathmin(i,n);r<o;++r){if(e[r]!==t[r]){i=e[r],n=t[r];break}}return i<n?-1:n<i?1:0},l.isEncoding=function(e){switch((e+"").toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1;}},l.concat=function(e,t){if(!o(e))throw new TypeError("\"list\" argument must be an Array of Buffers");if(0===e.length)return l.alloc(0);var i;if(void 0===t)for(t=0,i=0;i<e.length;++i){t+=e[i].length}var n=l.allocUnsafe(t),r=0;for(i=0;i<e.length;++i){var a=e[i];if(!l.isBuffer(a))throw new TypeError("\"list\" argument must be an Array of Buffers");a.copy(n,r),r+=a.length}return n},l.byteLength=p,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var e=this.length;if(0!=e%2)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2){_(this,t,t+1)}return this},l.prototype.swap32=function(){var e=this.length;if(0!=e%4)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4){_(this,t,t+3),_(this,t+1,t+2)}return this},l.prototype.swap64=function(){var e=this.length;if(0!=e%8)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8){_(this,t,t+7),_(this,t+1,t+6),_(this,t+2,t+5),_(this,t+3,t+4)}return this},l.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?I(this,0,e):function(e,t,i){var n=!1;if((void 0===t||0>t)&&(t=0),t>this.length)return"";if((void 0===i||i>this.length)&&(i=this.length),0>=i)return"";if((i>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;){switch(e){case"hex":return B(this,t,i);case"utf8":case"utf-8":return I(this,t,i);case"ascii":return E(this,t,i);case"latin1":case"binary":return C(this,t,i);case"base64":return k(this,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,t,i);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0;}}}.apply(this,arguments)},l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){var e="",i=t.INSPECT_MAX_BYTES;return 0<this.length&&(e=this.toString("hex",0,i).match(/.{2}/g).join(" "),this.length>i&&(e+=" ... ")),"<Buffer "+e+">"},l.prototype.compare=function(e,t,i,n,r){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===i&&(i=e?e.length:0),void 0===n&&(n=0),void 0===r&&(r=this.length),0>t||i>e.length||0>n||r>this.length)throw new RangeError("out of range index");if(n>=r&&t>=i)return 0;if(n>=r)return-1;if(t>=i)return 1;if(t>>>=0,i>>>=0,n>>>=0,r>>>=0,this===e)return 0;for(var o=r-n,a=i-t,s=_Mathmin(o,a),c=this.slice(n,r),h=e.slice(t,i),u=0;u<s;++u){if(c[u]!==h[u]){o=c[u],a=h[u];break}}return o<a?-1:a<o?1:0},l.prototype.includes=function(e,t,i){return-1!==this.indexOf(e,t,i)},l.prototype.indexOf=function(e,t,i){return m(this,e,t,i,!0)},l.prototype.lastIndexOf=function(e,t,i){return m(this,e,t,i,!1)},l.prototype.write=function(e,t,i,n){if(void 0===t)n="utf8",i=this.length,t=0;else if(void 0===i&&"string"==typeof t)n=t,i=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(i)?(i|=0,void 0===n&&(n="utf8")):(n=i,i=void 0)}var r=this.length-t;if((void 0===i||i>r)&&(i=r),0<e.length&&(0>i||0>t)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;){switch(n){case"hex":return y(this,e,t,i);case"utf8":case"utf-8":return g(this,e,t,i);case"ascii":return v(this,e,t,i);case"latin1":case"binary":return A(this,e,t,i);case"base64":return w(this,e,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,e,t,i);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0;}}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var S=4096;function E(e,t,i){var n="";i=_Mathmin(e.length,i);for(var r=t;r<i;++r){n+=_StringfromCharCode(127&e[r])}return n}function C(e,t,i){var n="";i=_Mathmin(e.length,i);for(var r=t;r<i;++r){n+=_StringfromCharCode(e[r])}return n}function B(e,t,i){var n=e.length;(!t||0>t)&&(t=0),(!i||0>i||i>n)&&(i=n);for(var r="",o=t;o<i;++o){r+=Z(e[o])}return r}function M(e,t,i){for(var n=e.slice(t,i),r="",o=0;o<n.length;o+=2){r+=_StringfromCharCode(n[o]+256*n[o+1])}return r}function P(e,t,i){if(0!=e%1||0>e)throw new RangeError("offset is not uint");if(e+t>i)throw new RangeError("Trying to access beyond buffer length")}function T(e,t,i,n,r,o){if(!l.isBuffer(e))throw new TypeError("\"buffer\" argument must be a Buffer instance");if(t>r||t<o)throw new RangeError("\"value\" argument is out of bounds");if(i+n>e.length)throw new RangeError("Index out of range")}function D(e,t,i,n){0>t&&(t=65535+t+1);for(var r=0,o=_Mathmin(e.length-i,2);r<o;++r){e[i+r]=(t&255<<8*(n?r:1-r))>>>8*(n?r:1-r)}}function R(e,t,i,n){0>t&&(t=4294967295+t+1);for(var r=0,o=_Mathmin(e.length-i,4);r<o;++r){e[i+r]=255&t>>>8*(n?r:3-r)}}function G(e,t,i,n,r,o){if(i+n>e.length)throw new RangeError("Index out of range");if(0>i)throw new RangeError("Index out of range")}function O(e,t,i,n,o){return o||G(e,0,i,4),r.write(e,t,i,n,23,4),i+4}function F(e,t,i,n,o){return o||G(e,0,i,8),r.write(e,t,i,n,52,8),i+8}l.prototype.slice=function(e,t){var i,n=this.length;if(e=~~e,t=void 0===t?n:~~t,0>e?0>(e+=n)&&(e=0):e>n&&(e=n),0>t?0>(t+=n)&&(t=0):t>n&&(t=n),t<e&&(t=e),l.TYPED_ARRAY_SUPPORT)(i=this.subarray(e,t)).__proto__=l.prototype;else{var r=t-e;i=new l(r,void 0);for(var o=0;o<r;++o){i[o]=this[o+e]}}return i},l.prototype.readUIntLE=function(e,t,i){e|=0,t|=0,i||P(e,t,this.length);for(var n=this[e],r=1,o=0;++o<t&&(r*=256);){n+=this[e+o]*r}return n},l.prototype.readUIntBE=function(e,t,i){e|=0,t|=0,i||P(e,t,this.length);for(var n=this[e+--t],r=1;0<t&&(r*=256);){n+=this[e+--t]*r}return n},l.prototype.readUInt8=function(e,t){return t||P(e,1,this.length),this[e]},l.prototype.readUInt16LE=function(e,t){return t||P(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUInt16BE=function(e,t){return t||P(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUInt32LE=function(e,t){return t||P(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUInt32BE=function(e,t){return t||P(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readIntLE=function(e,t,i){e|=0,t|=0,i||P(e,t,this.length);for(var n=this[e],r=1,o=0;++o<t&&(r*=256);){n+=this[e+o]*r}return n>=(r*=128)&&(n-=_Mathpow(2,8*t)),n},l.prototype.readIntBE=function(e,t,i){e|=0,t|=0,i||P(e,t,this.length);for(var n=t,r=1,o=this[e+--n];0<n&&(r*=256);){o+=this[e+--n]*r}return o>=(r*=128)&&(o-=_Mathpow(2,8*t)),o},l.prototype.readInt8=function(e,t){return t||P(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){t||P(e,2,this.length);var i=this[e]|this[e+1]<<8;return 32768&i?4294901760|i:i},l.prototype.readInt16BE=function(e,t){t||P(e,2,this.length);var i=this[e+1]|this[e]<<8;return 32768&i?4294901760|i:i},l.prototype.readInt32LE=function(e,t){return t||P(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return t||P(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readFloatLE=function(e,t){return t||P(e,4,this.length),r.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return t||P(e,4,this.length),r.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return t||P(e,8,this.length),r.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return t||P(e,8,this.length),r.read(this,e,!1,52,8)},l.prototype.writeUIntLE=function(e,t,i,n){(e=+e,t|=0,i|=0,n)||T(this,e,t,i,_Mathpow(2,8*i)-1,0);var r=1,o=0;for(this[t]=255&e;++o<i&&(r*=256);){this[t+o]=255&e/r}return t+i},l.prototype.writeUIntBE=function(e,t,i,n){(e=+e,t|=0,i|=0,n)||T(this,e,t,i,_Mathpow(2,8*i)-1,0);var r=i-1,o=1;for(this[t+r]=255&e;0<=--r&&(o*=256);){this[t+r]=255&e/o}return t+i},l.prototype.writeUInt8=function(e,t,i){return e=+e,t|=0,i||T(this,e,t,1,255,0),l.TYPED_ARRAY_SUPPORT||(e=_Mathfloor(e)),this[t]=255&e,t+1},l.prototype.writeUInt16LE=function(e,t,i){return e=+e,t|=0,i||T(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):D(this,e,t,!0),t+2},l.prototype.writeUInt16BE=function(e,t,i){return e=+e,t|=0,i||T(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):D(this,e,t,!1),t+2},l.prototype.writeUInt32LE=function(e,t,i){return e=+e,t|=0,i||T(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):R(this,e,t,!0),t+4},l.prototype.writeUInt32BE=function(e,t,i){return e=+e,t|=0,i||T(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):R(this,e,t,!1),t+4},l.prototype.writeIntLE=function(e,t,i,n){if(e=+e,t|=0,!n){var r=_Mathpow(2,8*i-1);T(this,e,t,i,r-1,-r)}var o=0,a=1,s=0;for(this[t]=255&e;++o<i&&(a*=256);){0>e&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=255&(e/a>>0)-s}return t+i},l.prototype.writeIntBE=function(e,t,i,n){if(e=+e,t|=0,!n){var r=_Mathpow(2,8*i-1);T(this,e,t,i,r-1,-r)}var o=i-1,a=1,s=0;for(this[t+o]=255&e;0<=--o&&(a*=256);){0>e&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=255&(e/a>>0)-s}return t+i},l.prototype.writeInt8=function(e,t,i){return e=+e,t|=0,i||T(this,e,t,1,127,-128),l.TYPED_ARRAY_SUPPORT||(e=_Mathfloor(e)),0>e&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,i){return e=+e,t|=0,i||T(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):D(this,e,t,!0),t+2},l.prototype.writeInt16BE=function(e,t,i){return e=+e,t|=0,i||T(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):D(this,e,t,!1),t+2},l.prototype.writeInt32LE=function(e,t,i){return e=+e,t|=0,i||T(this,e,t,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):R(this,e,t,!0),t+4},l.prototype.writeInt32BE=function(e,t,i){return e=+e,t|=0,i||T(this,e,t,4,2147483647,-2147483648),0>e&&(e=4294967295+e+1),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):R(this,e,t,!1),t+4},l.prototype.writeFloatLE=function(e,t,i){return O(this,e,t,!0,i)},l.prototype.writeFloatBE=function(e,t,i){return O(this,e,t,!1,i)},l.prototype.writeDoubleLE=function(e,t,i){return F(this,e,t,!0,i)},l.prototype.writeDoubleBE=function(e,t,i){return F(this,e,t,!1,i)},l.prototype.copy=function(e,t,i,n){if(i||(i=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),0<n&&n<i&&(n=i),n===i)return 0;if(0===e.length||0===this.length)return 0;if(0>t)throw new RangeError("targetStart out of bounds");if(0>i||i>=this.length)throw new RangeError("sourceStart out of bounds");if(0>n)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-i&&(n=e.length-t+i);var r,o=n-i;if(this===e&&i<t&&t<n)for(r=o-1;0<=r;--r){e[r+t]=this[r+i]}else if(1e3>o||!l.TYPED_ARRAY_SUPPORT)for(r=0;r<o;++r){e[r+t]=this[r+i]}else Uint8Array.prototype.set.call(e,this.subarray(i,i+o),t);return o},l.prototype.fill=function(e,t,i,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,i=this.length):"string"==typeof i&&(n=i,i=this.length),1===e.length){var r=e.charCodeAt(0);256>r&&(e=r)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!l.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(0>t||this.length<t||this.length<i)throw new RangeError("Out of range index");if(i<=t)return this;var o;if(t>>>=0,i=void 0===i?this.length:i>>>0,e||(e=0),"number"==typeof e)for(o=t;o<i;++o){this[o]=e}else{var a=l.isBuffer(e)?e:H(new l(e,n).toString()),s=a.length;for(o=0;o<i-t;++o){this[o+t]=a[o%s]}}return this};var L=/[^+\/0-9A-Za-z-_]/g;function Z(e){return 16>e?"0"+e.toString(16):e.toString(16)}function H(e,t){var i;t=t||1/0;for(var n=e.length,r=null,o=[],a=0;a<n;++a){if(55295<(i=e.charCodeAt(a))&&57344>i){if(!r){if(56319<i){-1<(t-=3)&&o.push(239,191,189);continue}if(a+1===n){-1<(t-=3)&&o.push(239,191,189);continue}r=i;continue}if(56320>i){-1<(t-=3)&&o.push(239,191,189),r=i;continue}i=65536+(r-55296<<10|i-56320)}else r&&-1<(t-=3)&&o.push(239,191,189);if(r=null,128>i){if(0>(t-=1))break;o.push(i)}else if(2048>i){if(0>(t-=2))break;o.push(192|i>>6,128|63&i)}else if(65536>i){if(0>(t-=3))break;o.push(224|i>>12,128|63&i>>6,128|63&i)}else{if(!(1114112>i))throw new Error("Invalid code point");if(0>(t-=4))break;o.push(240|i>>18,128|63&i>>12,128|63&i>>6,128|63&i)}}return o}function N(e){return n.toByteArray(function(e){if(2>(e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(L,"")).length)return"";for(;0!=e.length%4;){e+="="}return e}(e))}function z(e,t,i,n){for(var r=0;r<n&&!(r+i>=t.length||r>=e.length);++r){t[r+i]=e[r]}return r}}).call(this,i(63))},function(e,t,i){"use strict";t.byteLength=function(e){var t=c(e),i=t[0],n=t[1];return 3*(i+n)/4-n},t.toByteArray=function(e){for(var t,i=c(e),n=i[0],a=i[1],s=new o(function(e,t,i){return 3*(t+i)/4-i}(0,n,a)),l=0,h=0<a?n-4:n,u=0;u<h;u+=4){t=r[e.charCodeAt(u)]<<18|r[e.charCodeAt(u+1)]<<12|r[e.charCodeAt(u+2)]<<6|r[e.charCodeAt(u+3)],s[l++]=255&t>>16,s[l++]=255&t>>8,s[l++]=255&t}2===a&&(t=r[e.charCodeAt(u)]<<2|r[e.charCodeAt(u+1)]>>4,s[l++]=255&t);1===a&&(t=r[e.charCodeAt(u)]<<10|r[e.charCodeAt(u+1)]<<4|r[e.charCodeAt(u+2)]>>2,s[l++]=255&t>>8,s[l++]=255&t);return s},t.fromByteArray=function(e){for(var t,i=e.length,r=i%3,o=[],a=0,s=i-r;a<s;a+=16383){o.push(u(e,a,a+16383>s?s:a+16383))}1===r?(t=e[i-1],o.push(n[t>>2]+n[63&t<<4]+"==")):2===r&&(t=(e[i-2]<<8)+e[i-1],o.push(n[t>>10]+n[63&t>>4]+n[63&t<<2]+"="));return o.join("")};for(var n=[],r=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,l=a.length;s<l;++s){n[s]=a[s],r[a.charCodeAt(s)]=s}function c(e){var t=e.length;if(0<t%4)throw new Error("Invalid string. Length must be a multiple of 4");var i=e.indexOf("=");return-1===i&&(i=t),[i,i===t?0:4-i%4]}function h(e){return n[63&e>>18]+n[63&e>>12]+n[63&e>>6]+n[63&e]}function u(e,t,i){for(var n,r=[],o=t;o<i;o+=3){n=(16711680&e[o]<<16)+(65280&e[o+1]<<8)+(255&e[o+2]),r.push(h(n))}return r.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,i,n,r){var o,a,s=8*r-n-1,l=(1<<s)-1,c=l>>1,h=-7,u=i?r-1:0,f=i?-1:1,d=e[t+u];for(u+=f,o=d&(1<<-h)-1,d>>=-h,h+=s;0<h;o=256*o+e[t+u],u+=f,h-=8){;}for(a=o&(1<<-h)-1,o>>=-h,h+=n;0<h;a=256*a+e[t+u],u+=f,h-=8){;}if(0===o)o=1-c;else{if(o===l)return a?NaN:1/0*(d?-1:1);a+=_Mathpow(2,n),o-=c}return(d?-1:1)*a*_Mathpow(2,o-n)},t.write=function(e,t,i,n,r,o){var a,s,l,c=8*o-r-1,h=(1<<c)-1,u=h>>1,f=23===r?5.960464477539063e-8-6.617444900424222e-24:0,d=n?0:o-1,p=n?1:-1,_=0>t||0===t&&0>1/t?1:0;for(t=_Mathabs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=h):(a=_Mathfloor(_Mathlog(t)/_MathLN),1>t*(l=_Mathpow(2,-a))&&(a--,l*=2),2<=(t+=1<=a+u?f/l:f*_Mathpow(2,1-u))*l&&(a++,l/=2),a+u>=h?(s=0,a=h):1<=a+u?(s=(t*l-1)*_Mathpow(2,r),a+=u):(s=t*_Mathpow(2,u-1)*_Mathpow(2,r),a=0));8<=r;e[i+d]=255&s,d+=p,s/=256,r-=8){;}for(a=a<<r|s,c+=r;0<c;e[i+d]=255&a,d+=p,a/=256,c-=8){;}e[i+d-p]|=128*_}},function(e,t){var i={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==i.call(e)}},function(e,t){},function(e,t,i){(function(e){function i(e,t){for(var i=0,n=e.length-1,r;0<=n;n--){r=e[n];"."===r?e.splice(n,1):".."===r?(e.splice(n,1),i++):i&&(e.splice(n,1),i--)}if(t)for(;i--;i){e.unshift("..")}return e}var n=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,r=function r(e){return n.exec(e).slice(1)};function o(e,t){if(e.filter)return e.filter(t);for(var i=[],n=0;n<e.length;n++){t(e[n],n,e)&&i.push(e[n])}return i}t.resolve=function(){for(var t="",n=!1,r=arguments.length-1,a;-1<=r&&!n;r--){a=0<=r?arguments[r]:e.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(t=a+"/"+t,n="/"===a.charAt(0))}return t=i(o(t.split("/"),function(e){return!!e}),!n).join("/"),(n?"/":"")+t||"."},t.normalize=function(e){var n=t.isAbsolute(e),r="/"===a(e,-1);return(e=i(o(e.split("/"),function(e){return!!e}),!n).join("/"))||n||(e="."),e&&r&&(e+="/"),(n?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(o(e,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},t.relative=function(e,i){function n(e){for(var t=0;t<e.length&&""===e[t];t++){;}for(var i=e.length-1;0<=i&&""===e[i];i--){;}return t>i?[]:e.slice(t,i-t+1)}e=t.resolve(e).substr(1),i=t.resolve(i).substr(1);for(var r=n(e.split("/")),o=n(i.split("/")),a=_Mathmin(r.length,o.length),s=a,l=0;l<a;l++){if(r[l]!==o[l]){s=l;break}}var c=[];for(l=s;l<r.length;l++){c.push("..")}return(c=c.concat(o.slice(s))).join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){var t=r(e),i=t[0],n=t[1];return i||n?(n&&(n=n.substr(0,n.length-1)),i+n):"."},t.basename=function(e,t){var i=r(e)[2];return t&&i.substr(-1*t.length)===t&&(i=i.substr(0,i.length-t.length)),i},t.extname=function(e){return r(e)[3]};var a="b"==="ab".substr(-1)?function(e,t,i){return e.substr(t,i)}:function(e,t,i){return 0>t&&(t=e.length+t),e.substr(t,i)}}).call(this,i(62))},function(e,t,i){e.exports=function(e){var t={};function i(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},i.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=79)}([function(e,t){var i;i=function(){return this}();try{i=i||Function("return this")()||(0,eval)("this")}catch(e){"object"==("undefined"===typeof window?"undefined":babelHelpers.typeof(window))&&(i=window)}e.exports=i},function(e,t,i){"use strict";(function(e){var n=i(73),r=i(72),o=i(38);function a(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=l.prototype:(null===e&&(e=new l(t)),e.length=t),e}function l(e,t,i){if(!(l.TYPED_ARRAY_SUPPORT||babelHelpers.instanceof(this,l)))return new l(e,t,i);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return u(this,e)}return c(this,e,t,i)}function c(e,t,i,n){if("number"==typeof t)throw new TypeError("\"value\" argument must not be a number");return"undefined"!=typeof ArrayBuffer&&babelHelpers.instanceof(t,ArrayBuffer)?function(e,t,i,n){if(t.byteLength,0>i||t.byteLength<i)throw new RangeError("'offset' is out of bounds");if(t.byteLength<i+(n||0))throw new RangeError("'length' is out of bounds");return t=void 0===i&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,i):new Uint8Array(t,i,n),l.TYPED_ARRAY_SUPPORT?(e=t).__proto__=l.prototype:e=f(e,t),e}(e,t,i,n):"string"==typeof t?function(e,t,i){if("string"==typeof i&&""!==i||(i="utf8"),!l.isEncoding(i))throw new TypeError("\"encoding\" must be a valid string encoding");var n=0|p(t,i),r=(e=s(e,n)).write(t,i);return r!==n&&(e=e.slice(0,r)),e}(e,t,i):function(e,t){if(l.isBuffer(t)){var i=0|d(t.length);return 0===(e=s(e,i)).length?e:(t.copy(e,0,0,i),e)}if(t){if("undefined"!=typeof ArrayBuffer&&babelHelpers.instanceof(t.buffer,ArrayBuffer)||"length"in t)return"number"!=typeof t.length||(n=t.length)!=n?s(e,0):f(e,t);if("Buffer"===t.type&&o(t.data))return f(e,t.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function h(e){if("number"!=typeof e)throw new TypeError("\"size\" argument must be a number");if(0>e)throw new RangeError("\"size\" argument must not be negative")}function u(e,t){if(h(t),e=s(e,0>t?0:0|d(t)),!l.TYPED_ARRAY_SUPPORT)for(var i=0;i<t;++i){e[i]=0}return e}function f(e,t){var i=0>t.length?0:0|d(t.length);e=s(e,i);for(var n=0;n<i;n+=1){e[n]=255&t[n]}return e}function d(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function p(e,t){if(l.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||babelHelpers.instanceof(e,ArrayBuffer)))return e.byteLength;"string"!=typeof e&&(e=""+e);var i=e.length;if(0===i)return 0;for(var n=!1;;){switch(t){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":case void 0:return H(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return N(e).length;default:if(n)return H(e).length;t=(""+t).toLowerCase(),n=!0;}}}function _(e,t,i){var n=e[t];e[t]=e[i],e[i]=n}function m(e,t,i,n,r){if(0===e.length)return-1;if("string"==typeof i?(n=i,i=0):2147483647<i?i=2147483647:-2147483648>i&&(i=-2147483648),i=+i,isNaN(i)&&(i=r?0:e.length-1),0>i&&(i=e.length+i),i>=e.length){if(r)return-1;i=e.length-1}else if(0>i){if(!r)return-1;i=0}if("string"==typeof t&&(t=l.from(t,n)),l.isBuffer(t))return 0===t.length?-1:b(e,t,i,n,r);if("number"==typeof t)return t&=255,l.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(e,t,i):Uint8Array.prototype.lastIndexOf.call(e,t,i):b(e,[t],i,n,r);throw new TypeError("val must be string, number or Buffer")}function b(e,t,i,n,r){var o,a=1,s=e.length,l=t.length;if(void 0!==n&&("ucs2"===(n=(n+"").toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(2>e.length||2>t.length)return-1;a=2,s/=2,l/=2,i/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(r){var h=-1;for(o=i;o<s;o++){if(c(e,o)===c(t,-1===h?0:o-h)){if(-1===h&&(h=o),o-h+1===l)return h*a}else-1!==h&&(o-=o-h),h=-1}}else for(i+l>s&&(i=s-l),o=i;0<=o;o--){for(var u=!0,f=0;f<l;f++){if(c(e,o+f)!==c(t,f)){u=!1;break}}if(u)return o}return-1}function y(e,t,i,n){i=+i||0;var r=e.length-i;n?(n=+n)>r&&(n=r):n=r;var o=t.length;if(0!=o%2)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var a=0,s;a<n;++a){s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[i+a]=s}return a}function g(e,t,i,n){return z(H(t,e.length-i),e,i,n)}function v(e,t,i,n){return z(function(e){for(var t=[],i=0;i<e.length;++i){t.push(255&e.charCodeAt(i))}return t}(t),e,i,n)}function A(e,t,i,n){return v(e,t,i,n)}function w(e,t,i,n){return z(N(t),e,i,n)}function x(e,t,i,n){return z(function(e,t){for(var i,n,r,o=[],a=0;a<e.length&&!(0>(t-=2));++a){i=e.charCodeAt(a),n=i>>8,r=i%256,o.push(r),o.push(n)}return o}(t,e.length-i),e,i,n)}function k(e,t,i){return 0===t&&i===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,i))}function I(e,t,i){i=_Mathmin(e.length,i);for(var n=[],r=t;r<i;){var o,a,s,l,c=e[r],h=null,u=239<c?4:223<c?3:191<c?2:1;if(r+u<=i)switch(u){case 1:128>c&&(h=c);break;case 2:128==(192&(o=e[r+1]))&&127<(l=(31&c)<<6|63&o)&&(h=l);break;case 3:o=e[r+1],a=e[r+2],128==(192&o)&&128==(192&a)&&2047<(l=(15&c)<<12|(63&o)<<6|63&a)&&(55296>l||57343<l)&&(h=l);break;case 4:o=e[r+1],a=e[r+2],s=e[r+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&65535<(l=(15&c)<<18|(63&o)<<12|(63&a)<<6|63&s)&&1114112>l&&(h=l);}null===h?(h=65533,u=1):65535<h&&(h-=65536,n.push(55296|1023&h>>>10),h=56320|1023&h),n.push(h),r+=u}return function(e){var t=e.length;if(t<=S)return _StringfromCharCode.apply(String,e);for(var i="",n=0;n<t;){i+=_StringfromCharCode.apply(String,e.slice(n,n+=S))}return i}(n)}t.Buffer=l,t.SlowBuffer=function(e){return+e!=e&&(e=0),l.alloc(+e)},t.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function foo(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=a(),l.poolSize=8192,l._augment=function(e){return e.__proto__=l.prototype,e},l.from=function(e,t,i){return c(null,e,t,i)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(e,t,i){return function(e,t,i,n){return h(t),0>=t?s(e,t):void 0!==i?"string"==typeof n?s(e,t).fill(i,n):s(e,t).fill(i):s(e,t)}(null,e,t,i)},l.allocUnsafe=function(e){return u(null,e)},l.allocUnsafeSlow=function(e){return u(null,e)},l.isBuffer=function(e){return!(null==e||!e._isBuffer)},l.compare=function(e,t){if(!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var i=e.length,n=t.length,r=0,o=_Mathmin(i,n);r<o;++r){if(e[r]!==t[r]){i=e[r],n=t[r];break}}return i<n?-1:n<i?1:0},l.isEncoding=function(e){switch((e+"").toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1;}},l.concat=function(e,t){if(!o(e))throw new TypeError("\"list\" argument must be an Array of Buffers");if(0===e.length)return l.alloc(0);var i;if(void 0===t)for(t=0,i=0;i<e.length;++i){t+=e[i].length}var n=l.allocUnsafe(t),r=0;for(i=0;i<e.length;++i){var a=e[i];if(!l.isBuffer(a))throw new TypeError("\"list\" argument must be an Array of Buffers");a.copy(n,r),r+=a.length}return n},l.byteLength=p,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var e=this.length;if(0!=e%2)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2){_(this,t,t+1)}return this},l.prototype.swap32=function(){var e=this.length;if(0!=e%4)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4){_(this,t,t+3),_(this,t+1,t+2)}return this},l.prototype.swap64=function(){var e=this.length;if(0!=e%8)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8){_(this,t,t+7),_(this,t+1,t+6),_(this,t+2,t+5),_(this,t+3,t+4)}return this},l.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?I(this,0,e):function(e,t,i){var n=!1;if((void 0===t||0>t)&&(t=0),t>this.length)return"";if((void 0===i||i>this.length)&&(i=this.length),0>=i)return"";if((i>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;){switch(e){case"hex":return B(this,t,i);case"utf8":case"utf-8":return I(this,t,i);case"ascii":return E(this,t,i);case"latin1":case"binary":return C(this,t,i);case"base64":return k(this,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,t,i);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0;}}}.apply(this,arguments)},l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){var e="",i=t.INSPECT_MAX_BYTES;return 0<this.length&&(e=this.toString("hex",0,i).match(/.{2}/g).join(" "),this.length>i&&(e+=" ... ")),"<Buffer "+e+">"},l.prototype.compare=function(e,t,i,n,r){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===i&&(i=e?e.length:0),void 0===n&&(n=0),void 0===r&&(r=this.length),0>t||i>e.length||0>n||r>this.length)throw new RangeError("out of range index");if(n>=r&&t>=i)return 0;if(n>=r)return-1;if(t>=i)return 1;if(t>>>=0,i>>>=0,n>>>=0,r>>>=0,this===e)return 0;for(var o=r-n,a=i-t,s=_Mathmin(o,a),c=this.slice(n,r),h=e.slice(t,i),u=0;u<s;++u){if(c[u]!==h[u]){o=c[u],a=h[u];break}}return o<a?-1:a<o?1:0},l.prototype.includes=function(e,t,i){return-1!==this.indexOf(e,t,i)},l.prototype.indexOf=function(e,t,i){return m(this,e,t,i,!0)},l.prototype.lastIndexOf=function(e,t,i){return m(this,e,t,i,!1)},l.prototype.write=function(e,t,i,n){if(void 0===t)n="utf8",i=this.length,t=0;else if(void 0===i&&"string"==typeof t)n=t,i=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(i)?(i|=0,void 0===n&&(n="utf8")):(n=i,i=void 0)}var r=this.length-t;if((void 0===i||i>r)&&(i=r),0<e.length&&(0>i||0>t)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;){switch(n){case"hex":return y(this,e,t,i);case"utf8":case"utf-8":return g(this,e,t,i);case"ascii":return v(this,e,t,i);case"latin1":case"binary":return A(this,e,t,i);case"base64":return w(this,e,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,e,t,i);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0;}}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var S=4096;function E(e,t,i){var n="";i=_Mathmin(e.length,i);for(var r=t;r<i;++r){n+=_StringfromCharCode(127&e[r])}return n}function C(e,t,i){var n="";i=_Mathmin(e.length,i);for(var r=t;r<i;++r){n+=_StringfromCharCode(e[r])}return n}function B(e,t,i){var n=e.length;(!t||0>t)&&(t=0),(!i||0>i||i>n)&&(i=n);for(var r="",o=t;o<i;++o){r+=Z(e[o])}return r}function M(e,t,i){for(var n=e.slice(t,i),r="",o=0;o<n.length;o+=2){r+=_StringfromCharCode(n[o]+256*n[o+1])}return r}function P(e,t,i){if(0!=e%1||0>e)throw new RangeError("offset is not uint");if(e+t>i)throw new RangeError("Trying to access beyond buffer length")}function T(e,t,i,n,r,o){if(!l.isBuffer(e))throw new TypeError("\"buffer\" argument must be a Buffer instance");if(t>r||t<o)throw new RangeError("\"value\" argument is out of bounds");if(i+n>e.length)throw new RangeError("Index out of range")}function D(e,t,i,n){0>t&&(t=65535+t+1);for(var r=0,o=_Mathmin(e.length-i,2);r<o;++r){e[i+r]=(t&255<<8*(n?r:1-r))>>>8*(n?r:1-r)}}function R(e,t,i,n){0>t&&(t=4294967295+t+1);for(var r=0,o=_Mathmin(e.length-i,4);r<o;++r){e[i+r]=255&t>>>8*(n?r:3-r)}}function G(e,t,i,n,r,o){if(i+n>e.length)throw new RangeError("Index out of range");if(0>i)throw new RangeError("Index out of range")}function O(e,t,i,n,o){return o||G(e,0,i,4),r.write(e,t,i,n,23,4),i+4}function F(e,t,i,n,o){return o||G(e,0,i,8),r.write(e,t,i,n,52,8),i+8}l.prototype.slice=function(e,t){var i,n=this.length;if(e=~~e,t=void 0===t?n:~~t,0>e?0>(e+=n)&&(e=0):e>n&&(e=n),0>t?0>(t+=n)&&(t=0):t>n&&(t=n),t<e&&(t=e),l.TYPED_ARRAY_SUPPORT)(i=this.subarray(e,t)).__proto__=l.prototype;else{var r=t-e;i=new l(r,void 0);for(var o=0;o<r;++o){i[o]=this[o+e]}}return i},l.prototype.readUIntLE=function(e,t,i){e|=0,t|=0,i||P(e,t,this.length);for(var n=this[e],r=1,o=0;++o<t&&(r*=256);){n+=this[e+o]*r}return n},l.prototype.readUIntBE=function(e,t,i){e|=0,t|=0,i||P(e,t,this.length);for(var n=this[e+--t],r=1;0<t&&(r*=256);){n+=this[e+--t]*r}return n},l.prototype.readUInt8=function(e,t){return t||P(e,1,this.length),this[e]},l.prototype.readUInt16LE=function(e,t){return t||P(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUInt16BE=function(e,t){return t||P(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUInt32LE=function(e,t){return t||P(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUInt32BE=function(e,t){return t||P(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readIntLE=function(e,t,i){e|=0,t|=0,i||P(e,t,this.length);for(var n=this[e],r=1,o=0;++o<t&&(r*=256);){n+=this[e+o]*r}return n>=(r*=128)&&(n-=_Mathpow(2,8*t)),n},l.prototype.readIntBE=function(e,t,i){e|=0,t|=0,i||P(e,t,this.length);for(var n=t,r=1,o=this[e+--n];0<n&&(r*=256);){o+=this[e+--n]*r}return o>=(r*=128)&&(o-=_Mathpow(2,8*t)),o},l.prototype.readInt8=function(e,t){return t||P(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){t||P(e,2,this.length);var i=this[e]|this[e+1]<<8;return 32768&i?4294901760|i:i},l.prototype.readInt16BE=function(e,t){t||P(e,2,this.length);var i=this[e+1]|this[e]<<8;return 32768&i?4294901760|i:i},l.prototype.readInt32LE=function(e,t){return t||P(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return t||P(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readFloatLE=function(e,t){return t||P(e,4,this.length),r.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return t||P(e,4,this.length),r.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return t||P(e,8,this.length),r.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return t||P(e,8,this.length),r.read(this,e,!1,52,8)},l.prototype.writeUIntLE=function(e,t,i,n){e=+e,t|=0,i|=0,n||T(this,e,t,i,_Mathpow(2,8*i)-1,0);var r=1,o=0;for(this[t]=255&e;++o<i&&(r*=256);){this[t+o]=255&e/r}return t+i},l.prototype.writeUIntBE=function(e,t,i,n){e=+e,t|=0,i|=0,n||T(this,e,t,i,_Mathpow(2,8*i)-1,0);var r=i-1,o=1;for(this[t+r]=255&e;0<=--r&&(o*=256);){this[t+r]=255&e/o}return t+i},l.prototype.writeUInt8=function(e,t,i){return e=+e,t|=0,i||T(this,e,t,1,255,0),l.TYPED_ARRAY_SUPPORT||(e=_Mathfloor(e)),this[t]=255&e,t+1},l.prototype.writeUInt16LE=function(e,t,i){return e=+e,t|=0,i||T(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):D(this,e,t,!0),t+2},l.prototype.writeUInt16BE=function(e,t,i){return e=+e,t|=0,i||T(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):D(this,e,t,!1),t+2},l.prototype.writeUInt32LE=function(e,t,i){return e=+e,t|=0,i||T(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):R(this,e,t,!0),t+4},l.prototype.writeUInt32BE=function(e,t,i){return e=+e,t|=0,i||T(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):R(this,e,t,!1),t+4},l.prototype.writeIntLE=function(e,t,i,n){if(e=+e,t|=0,!n){var r=_Mathpow(2,8*i-1);T(this,e,t,i,r-1,-r)}var o=0,a=1,s=0;for(this[t]=255&e;++o<i&&(a*=256);){0>e&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=255&(e/a>>0)-s}return t+i},l.prototype.writeIntBE=function(e,t,i,n){if(e=+e,t|=0,!n){var r=_Mathpow(2,8*i-1);T(this,e,t,i,r-1,-r)}var o=i-1,a=1,s=0;for(this[t+o]=255&e;0<=--o&&(a*=256);){0>e&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=255&(e/a>>0)-s}return t+i},l.prototype.writeInt8=function(e,t,i){return e=+e,t|=0,i||T(this,e,t,1,127,-128),l.TYPED_ARRAY_SUPPORT||(e=_Mathfloor(e)),0>e&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,i){return e=+e,t|=0,i||T(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):D(this,e,t,!0),t+2},l.prototype.writeInt16BE=function(e,t,i){return e=+e,t|=0,i||T(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):D(this,e,t,!1),t+2},l.prototype.writeInt32LE=function(e,t,i){return e=+e,t|=0,i||T(this,e,t,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):R(this,e,t,!0),t+4},l.prototype.writeInt32BE=function(e,t,i){return e=+e,t|=0,i||T(this,e,t,4,2147483647,-2147483648),0>e&&(e=4294967295+e+1),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):R(this,e,t,!1),t+4},l.prototype.writeFloatLE=function(e,t,i){return O(this,e,t,!0,i)},l.prototype.writeFloatBE=function(e,t,i){return O(this,e,t,!1,i)},l.prototype.writeDoubleLE=function(e,t,i){return F(this,e,t,!0,i)},l.prototype.writeDoubleBE=function(e,t,i){return F(this,e,t,!1,i)},l.prototype.copy=function(e,t,i,n){if(i||(i=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),0<n&&n<i&&(n=i),n===i)return 0;if(0===e.length||0===this.length)return 0;if(0>t)throw new RangeError("targetStart out of bounds");if(0>i||i>=this.length)throw new RangeError("sourceStart out of bounds");if(0>n)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-i&&(n=e.length-t+i);var r,o=n-i;if(this===e&&i<t&&t<n)for(r=o-1;0<=r;--r){e[r+t]=this[r+i]}else if(1e3>o||!l.TYPED_ARRAY_SUPPORT)for(r=0;r<o;++r){e[r+t]=this[r+i]}else Uint8Array.prototype.set.call(e,this.subarray(i,i+o),t);return o},l.prototype.fill=function(e,t,i,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,i=this.length):"string"==typeof i&&(n=i,i=this.length),1===e.length){var r=e.charCodeAt(0);256>r&&(e=r)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!l.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(0>t||this.length<t||this.length<i)throw new RangeError("Out of range index");if(i<=t)return this;var o;if(t>>>=0,i=void 0===i?this.length:i>>>0,e||(e=0),"number"==typeof e)for(o=t;o<i;++o){this[o]=e}else{var a=l.isBuffer(e)?e:H(new l(e,n).toString()),s=a.length;for(o=0;o<i-t;++o){this[o+t]=a[o%s]}}return this};var L=/[^+\/0-9A-Za-z-_]/g;function Z(e){return 16>e?"0"+e.toString(16):e.toString(16)}function H(e,t){var i;t=t||1/0;for(var n=e.length,r=null,o=[],a=0;a<n;++a){if(55295<(i=e.charCodeAt(a))&&57344>i){if(!r){if(56319<i){-1<(t-=3)&&o.push(239,191,189);continue}if(a+1===n){-1<(t-=3)&&o.push(239,191,189);continue}r=i;continue}if(56320>i){-1<(t-=3)&&o.push(239,191,189),r=i;continue}i=65536+(r-55296<<10|i-56320)}else r&&-1<(t-=3)&&o.push(239,191,189);if(r=null,128>i){if(0>(t-=1))break;o.push(i)}else if(2048>i){if(0>(t-=2))break;o.push(192|i>>6,128|63&i)}else if(65536>i){if(0>(t-=3))break;o.push(224|i>>12,128|63&i>>6,128|63&i)}else{if(!(1114112>i))throw new Error("Invalid code point");if(0>(t-=4))break;o.push(240|i>>18,128|63&i>>12,128|63&i>>6,128|63&i)}}return o}function N(e){return n.toByteArray(function(e){if(2>(e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(L,"")).length)return"";for(;0!=e.length%4;){e+="="}return e}(e))}function z(e,t,i,n){for(var r=0;r<n&&!(r+i>=t.length||r>=e.length);++r){t[r+i]=e[r]}return r}}).call(this,i(0))},function(e,t,i){"use strict";var n=i(10),r=Object.keys||function(e){var t=[];for(var i in e){t.push(i)}return t};e.exports=u;var o=i(6);o.inherits=i(5);var a=i(35),s=i(18);o.inherits(u,a);for(var l=r(s.prototype),c=0,h;c<l.length;c++){h=l[c];u.prototype[h]||(u.prototype[h]=s.prototype[h])}function u(e){if(!babelHelpers.instanceof(this,u))return new u(e);a.call(this,e),s.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",f)}function f(){this.allowHalfOpen||this._writableState.ended||n.nextTick(d,this)}function d(e){e.end()}Object.defineProperty(u.prototype,"destroyed",{get:function get(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function set(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),u.prototype._destroy=function(e,t){this.push(null),this.end(),n.nextTick(t,e)}},function(e,t){var i,n,r=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(i===setTimeout)return setTimeout(e,0);if((i===o||!i)&&setTimeout)return i=setTimeout,setTimeout(e,0);try{return i(e,0)}catch(t){try{return i.call(null,e,0)}catch(t){return i.call(this,e,0)}}}!function(){try{i="function"==typeof setTimeout?setTimeout:o}catch(e){i=o}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(e){n=a}}();var l,c=[],h=!1,u=-1;function f(){h&&l&&(h=!1,l.length?c=l.concat(c):u=-1,c.length&&d())}function d(){if(!h){var e=s(f);h=!0;for(var t=c.length;t;){for(l=c,c=[];++u<t;){l&&l[u].run()}u=-1,t=c.length}l=null,h=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function _(){}r.nextTick=function(e){var t=Array(arguments.length-1);if(1<arguments.length)for(var i=1;i<arguments.length;i++){t[i-1]=arguments[i]}c.push(new p(e,t)),1!==c.length||h||s(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=_,r.addListener=_,r.once=_,r.off=_,r.removeListener=_,r.removeAllListeners=_,r.emit=_,r.prependListener=_,r.prependOnceListener=_,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(void 0===e)throw"dicomParser.readTag: missing required parameter 'byteStream'";var t=256*(256*e.readUint16()),i=e.readUint16();return"x"+("00000000"+(t+i).toString(16)).substr(-8)}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var i=function i(){};i.prototype=t.prototype,e.prototype=new i,e.prototype.constructor=e}},function(e,t,i){(function(e){function i(e){return Object.prototype.toString.call(e)}t.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===i(e)},t.isBoolean=function(e){return"boolean"==typeof e},t.isNull=function(e){return null===e},t.isNullOrUndefined=function(e){return null==e},t.isNumber=function(e){return"number"==typeof e},t.isString=function(e){return"string"==typeof e},t.isSymbol=function(e){return"symbol"==babelHelpers.typeof(e)},t.isUndefined=function(e){return void 0===e},t.isRegExp=function(e){return"[object RegExp]"===i(e)},t.isObject=function(e){return"object"==babelHelpers.typeof(e)&&null!==e},t.isDate=function(e){return"[object Date]"===i(e)},t.isError=function(e){return"[object Error]"===i(e)||babelHelpers.instanceof(e,Error)},t.isFunction=function(e){return"function"==typeof e},t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==babelHelpers.typeof(e)||void 0===e},t.isBuffer=e.isBuffer}).call(this,i(1).Buffer)},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0,n;i<t.length;i++){n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=i(14);function o(e,t){return void 0!==e.parser?e.parser:t}var a=function(){function e(t,i,n){!function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,e),this.byteArrayParser=t,this.byteArray=i,this.elements=n}return n(e,[{key:"uint16",value:function value(e,t){var i=this.elements[e];if(t=void 0!==t?t:0,i&&0!==i.length)return o(i,this.byteArrayParser).readUint16(this.byteArray,i.dataOffset+2*t)}},{key:"int16",value:function value(e,t){var i=this.elements[e];if(t=void 0!==t?t:0,i&&0!==i.length)return o(i,this.byteArrayParser).readInt16(this.byteArray,i.dataOffset+2*t)}},{key:"uint32",value:function value(e,t){var i=this.elements[e];if(t=void 0!==t?t:0,i&&0!==i.length)return o(i,this.byteArrayParser).readUint32(this.byteArray,i.dataOffset+4*t)}},{key:"int32",value:function value(e,t){var i=this.elements[e];if(t=void 0!==t?t:0,i&&0!==i.length)return o(i,this.byteArrayParser).readInt32(this.byteArray,i.dataOffset+4*t)}},{key:"float",value:function value(e,t){var i=this.elements[e];if(t=void 0!==t?t:0,i&&0!==i.length)return o(i,this.byteArrayParser).readFloat(this.byteArray,i.dataOffset+4*t)}},{key:"double",value:function value(e,t){var i=this.elements[e];if(t=void 0!==t?t:0,i&&0!==i.length)return o(i,this.byteArrayParser).readDouble(this.byteArray,i.dataOffset+8*t)}},{key:"numStringValues",value:function value(e){var t=this.elements[e];if(t&&0<t.length){var i=(0,r.readFixedString)(this.byteArray,t.dataOffset,t.length).match(/\\/g);return null===i?1:i.length+1}}},{key:"string",value:function value(e,t){var i=this.elements[e];if(i&&0<i.length){var n=(0,r.readFixedString)(this.byteArray,i.dataOffset,i.length);return 0<=t?n.split("\\")[t].trim():n.trim()}}},{key:"text",value:function value(e,t){var i=this.elements[e];if(i&&0<i.length){var n=(0,r.readFixedString)(this.byteArray,i.dataOffset,i.length);return 0<=t?n.split("\\")[t].replace(/ +$/,""):n.replace(/ +$/,"")}}},{key:"floatString",value:function value(e,t){var i=this.elements[e];if(i&&0<i.length){t=void 0!==t?t:0;var n=this.string(e,t);if(void 0!==n)return parseFloat(n)}}},{key:"intString",value:function value(e,t){var i=this.elements[e];if(i&&0<i.length){t=void 0!==t?t:0;var n=this.string(e,t);if(void 0!==n)return parseInt(n)}}},{key:"attributeTag",value:function value(e){var t=this.elements[e];if(t&&4===t.length){var i=o(t,this.byteArrayParser).readUint16,n=this.byteArray,r=t.dataOffset;return"x"+("00000000"+(256*(256*i(n,r))+i(n,r+2)).toString(16)).substr(-8)}}}]),e}();t.default=a},function(e,t,i){"use strict";var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1),i;t.length;){i=t.shift();if(i){if("object"!=babelHelpers.typeof(i))throw new TypeError(i+"must be non-object");for(var n in i){r(i,n)&&(e[n]=i[n])}}}return e},t.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var o={arraySet:function arraySet(e,t,i,n,r){if(t.subarray&&e.subarray)e.set(t.subarray(i,i+n),r);else for(var o=0;o<n;o++){e[r+o]=t[i+o]}},flattenChunks:function flattenChunks(e){var t,i,n,r,o,a;for(n=0,t=0,i=e.length;t<i;t++){n+=e[t].length}for(a=new Uint8Array(n),r=0,t=0,i=e.length;t<i;t++){o=e[t],a.set(o,r),r+=o.length}return a}},a={arraySet:function arraySet(e,t,i,n,r){for(var o=0;o<n;o++){e[r+o]=t[i+o]}},flattenChunks:function flattenChunks(e){return[].concat.apply([],e)}};t.setTyped=function(e){e?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,o)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,a))},t.setTyped(n)},function(e,t,i){var n=i(1),r=n.Buffer;function o(e,t){for(var i in e){t[i]=e[i]}}function a(e,t,i){return r(e,t,i)}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?e.exports=n:(o(n,t),t.Buffer=a),o(r,a),a.from=function(e,t,i){if("number"==typeof e)throw new TypeError("Argument must not be a number");return r(e,t,i)},a.alloc=function(e,t,i){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=r(e);return void 0!==t?"string"==typeof i?n.fill(t,i):n.fill(t):n.fill(0),n},a.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},function(e,t,i){"use strict";(function(t){!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?e.exports={nextTick:function nextTick(e,i,n,r){if("function"!=typeof e)throw new TypeError("\"callback\" argument must be a function");var o,a,s=arguments.length;switch(s){case 0:case 1:return t.nextTick(e);case 2:return t.nextTick(function(){e.call(null,i)});case 3:return t.nextTick(function(){e.call(null,i,n)});case 4:return t.nextTick(function(){e.call(null,i,n,r)});default:for(o=Array(s-1),a=0;a<o.length;){o[a++]=arguments[a]}return t.nextTick(function(){e.apply(null,o)});}}}:e.exports=t}).call(this,i(3))},function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(t,i,n){if(void 0!==e&&babelHelpers.instanceof(t,e))return t.slice(i,i+n);if(babelHelpers.instanceof(t,Uint8Array))return new Uint8Array(t.buffer,t.byteOffset+i,n);throw"dicomParser.from: unknown type for byteArray"}}).call(this,i(1).Buffer)},function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n,r=function(){function e(e,t){for(var i=0,n;i<t.length;i++){n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=i(11),a=(n=o)&&n.__esModule?n:{default:n},s=i(14),l=function(){function t(i,n,r){if(function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,t),void 0===i)throw"dicomParser.ByteStream: missing required parameter 'byteArrayParser'";if(void 0===n)throw"dicomParser.ByteStream: missing required parameter 'byteArray'";if(0==babelHelpers.instanceof(n,Uint8Array)&&0==babelHelpers.instanceof(n,e))throw"dicomParser.ByteStream: parameter byteArray is not of type Uint8Array or Buffer";if(0>r)throw"dicomParser.ByteStream: parameter 'position' cannot be less than 0";if(r>=n.length)throw"dicomParser.ByteStream: parameter 'position' cannot be greater than or equal to 'byteArray' length";this.byteArrayParser=i,this.byteArray=n,this.position=r||0,this.warnings=[]}return r(t,[{key:"seek",value:function value(e){if(0>this.position+e)throw"dicomParser.ByteStream.prototype.seek: cannot seek to position < 0";this.position+=e}},{key:"readByteStream",value:function value(e){if(this.position+e>this.byteArray.length)throw"dicomParser.ByteStream.prototype.readByteStream: readByteStream - buffer overread";var i=(0,a.default)(this.byteArray,this.position,e);return this.position+=e,new t(this.byteArrayParser,i)}},{key:"readUint16",value:function value(){var e=this.byteArrayParser.readUint16(this.byteArray,this.position);return this.position+=2,e}},{key:"readUint32",value:function value(){var e=this.byteArrayParser.readUint32(this.byteArray,this.position);return this.position+=4,e}},{key:"readFixedString",value:function value(e){var t=(0,s.readFixedString)(this.byteArray,this.position,e);return this.position+=e,t}}]),t}();t.default=l}).call(this,i(1).Buffer)},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(void 0===e)throw"dicomParser.readSequenceItem: missing required parameter 'byteStream'";var t={tag:(0,o.default)(e),length:e.readUint32(),dataOffset:e.position};if("xfffee000"!==t.tag)throw"dicomParser.readSequenceItem: item tag (FFFE,E000) not found at offset "+e.position;return t};var n,r=i(4),o=(n=r)&&n.__esModule?n:{default:n}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.readFixedString=function(e,t,i){if(0>i)throw"dicomParser.readFixedString - length cannot be less than 0";if(t+i>e.length)throw"dicomParser.readFixedString: attempt to read past end of buffer";for(var n,r="",o=0;o<i;o++){if(0===(n=e[t+o]))return t+=i,r;r+=_StringfromCharCode(n)}return r}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,i){if(void 0===e)throw"dicomParser.readDicomElementExplicit: missing required parameter 'byteStream'";var l={tag:(0,a.default)(e),vr:e.readFixedString(2)};return 2===c(l.vr)?(l.length=e.readUint16(),l.dataOffset=e.position):(e.seek(2),l.length=e.readUint32(),l.dataOffset=e.position),4294967295===l.length&&(l.hadUndefinedLength=!0),l.tag===i?l:"SQ"===l.vr?((0,s.default)(e,l,t),l):4294967295===l.length?"x7fe00010"===l.tag?((0,n.default)(e,l,t),l):"UN"===l.vr?((0,r.default)(e,l),l):((0,o.default)(e,l),l):(e.seek(l.length),l)};var n=l(i(42)),r=l(i(41)),o=l(i(24)),a=l(i(4)),s=l(i(40));function l(e){return e&&e.__esModule?e:{default:e}}var c=function c(e){return"OB"===e||"OW"===e||"SQ"===e||"OF"===e||"UT"===e||"UN"===e?4:2}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseDicomDataSetExplicit=function(e,t,i){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};if(i=void 0===i?t.byteArray.length:i,void 0===t)throw"dicomParser.parseDicomDataSetExplicit: missing required parameter 'byteStream'";if(i<t.position||i>t.byteArray.length)throw"dicomParser.parseDicomDataSetExplicit: invalid value for parameter 'maxP osition'";for(var o=e.elements,a;t.position<i;){a=(0,n.default)(t,e.warnings,r.untilTag);if(o[a.tag]=a,a.tag===r.untilTag)return}if(t.position>i)throw"dicomParser:parseDicomDataSetExplicit: buffer overrun"},t.parseDicomDataSetImplicit=function(e,t,i){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};if(i=void 0===i?e.byteArray.length:i,void 0===t)throw"dicomParser.parseDicomDataSetImplicit: missing required parameter 'byteStream'";if(i<t.position||i>t.byteArray.length)throw"dicomParser.parseDicomDataSetImplicit: invalid value for parameter 'maxPosition'";for(var o=e.elements,a;t.position<i;){a=(0,r.default)(t,n.untilTag,n.vrCallback);if(o[a.tag]=a,a.tag===n.untilTag)return}};var n=o(i(15)),r=o(i(23));function o(e){return e&&e.__esModule?e:{default:e}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,i,s,c){if(s=s||1,c=c||t.fragments,void 0===e)throw"dicomParser.readEncapsulatedPixelDataFromFragments: missing required parameter 'dataSet'";if(void 0===t)throw"dicomParser.readEncapsulatedPixelDataFromFragments: missing required parameter 'pixelDataElement'";if(void 0===i)throw"dicomParser.readEncapsulatedPixelDataFromFragments: missing required parameter 'startFragmentIndex'";if(void 0===s)throw"dicomParser.readEncapsulatedPixelDataFromFragments: missing required parameter 'numFragments'";if("x7fe00010"!==t.tag)throw"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'pixelDataElement' refers to non pixel data tag (expected tag = x7fe00010";if(!0!==t.encapsulatedPixelData)throw"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data";if(!0!==t.hadUndefinedLength)throw"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data";if(void 0===t.basicOffsetTable)throw"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data";if(void 0===t.fragments)throw"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data";if(0>=t.fragments.length)throw"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data";if(0>i)throw"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'startFragmentIndex' must be >= 0";if(i>=t.fragments.length)throw"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'startFragmentIndex' must be < number of fragments";if(1>s)throw"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'numFragments' must be > 0";if(i+s>t.fragments.length)throw"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'startFragment' + 'numFragments' < number of fragments";var h=new r.default(e.byteArrayParser,e.byteArray,t.dataOffset),u=(0,o.default)(h);if("xfffee000"!==u.tag)throw"dicomParser.readEncapsulatedPixelData: missing basic offset table xfffee000";h.seek(u.length);var f=h.position;if(1===s)return(0,a.default)(h.byteArray,f+c[i].offset+8,c[i].length);for(var d=l(c,i,s),p=(0,n.default)(h.byteArray,d),_=0,m=i;m<i+s;m++){for(var b=f+c[m].offset+8,y=0;y<c[m].length;y++){p[_++]=h.byteArray[b++]}}return p};var n=s(i(22)),r=s(i(12)),o=s(i(13)),a=s(i(11));function s(e){return e&&e.__esModule?e:{default:e}}var l=function l(e,t,i){for(var n=0,r=t;r<t+i;r++){n+=e[r].length}return n}},function(e,t,i){"use strict";(function(t,n,r){var o=i(10);function a(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,i){var n=e.entry;for(e.entry=null;n;){var r=n.callback;t.pendingcb--,r(void 0),n=n.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}e.exports=y;var s,l=!t.browser&&-1<["v0.10","v0.9."].indexOf(t.version.slice(0,5))?n:o.nextTick;y.WritableState=b;var c=i(6);c.inherits=i(5);var h,u={deprecate:i(61)},f=i(34),d=i(9).Buffer,p=r.Uint8Array||function(){},_=i(33);function m(){}function b(e,t){s=s||i(2),e=e||{};var n=babelHelpers.instanceof(t,s);this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var r=e.highWaterMark,c=e.writableHighWaterMark,h=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:n&&(c||0===c)?c:h,this.highWaterMark=_Mathfloor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var u=!1===e.decodeStrings;this.decodeStrings=!u,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var i=e._writableState,n=i.sync,r=i.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(i),t)!function(e,t,i,n,r){--t.pendingcb,i?(o.nextTick(r,n),o.nextTick(k,e,t),e._writableState.errorEmitted=!0,e.emit("error",n)):(r(n),e._writableState.errorEmitted=!0,e.emit("error",n),k(e,t))}(e,i,n,t,r);else{var a=w(i);a||i.corked||i.bufferProcessing||!i.bufferedRequest||A(e,i),n?l(v,e,i,a,r):v(e,i,a,r)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}function y(e){if(s=s||i(2),!(h.call(y,this)||babelHelpers.instanceof(this,s)))return new y(e);this._writableState=new b(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),f.call(this)}function g(e,t,i,n,r,o,a){t.writelen=n,t.writecb=a,t.writing=!0,t.sync=!0,i?e._writev(r,t.onwrite):e._write(r,o,t.onwrite),t.sync=!1}function v(e,t,i,n){i||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),k(e,t)}function A(e,t){t.bufferProcessing=!0;var i=t.bufferedRequest;if(e._writev&&i&&i.next){var n=t.bufferedRequestCount,r=Array(n),o=t.corkedRequestsFree;o.entry=i;for(var s=0,l=!0;i;){r[s]=i,i.isBuf||(l=!1),i=i.next,s+=1}r.allBuffers=l,g(e,t,!0,t.length,r,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new a(t),t.bufferedRequestCount=0}else{for(;i;){var c=i.chunk,h=i.encoding,u=i.callback;if(g(e,t,!1,t.objectMode?1:c.length,c,h,u),i=i.next,t.bufferedRequestCount--,t.writing)break}null===i&&(t.lastBufferedRequest=null)}t.bufferedRequest=i,t.bufferProcessing=!1}function w(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function x(e,t){e._final(function(i){t.pendingcb--,i&&e.emit("error",i),t.prefinished=!0,e.emit("prefinish"),k(e,t)})}function k(e,t){var i=w(t);return i&&(function(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,o.nextTick(x,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),i}c.inherits(y,f),b.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;){t.push(e),e=e.next}return t},function(){try{Object.defineProperty(b.prototype,"buffer",{get:u.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(h=Function.prototype[Symbol.hasInstance],Object.defineProperty(y,Symbol.hasInstance,{value:function value(e){return!!h.call(this,e)||this===y&&e&&babelHelpers.instanceof(e._writableState,b)}})):h=function h(e){return babelHelpers.instanceof(e,this)},y.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},y.prototype.write=function(e,t,i){var n,r=this._writableState,a=!1,s=!r.objectMode&&(n=e,d.isBuffer(n)||babelHelpers.instanceof(n,p));return s&&!d.isBuffer(e)&&(e=function(e){return d.from(e)}(e)),"function"==typeof t&&(i=t,t=null),s?t="buffer":t||(t=r.defaultEncoding),"function"!=typeof i&&(i=m),r.ended?function(e,t){var i=new Error("write after end");e.emit("error",i),o.nextTick(t,i)}(this,i):(s||function(e,t,i,n){var r=!0,a=!1;return null===i?a=new TypeError("May not write null values to stream"):"string"==typeof i||void 0===i||t.objectMode||(a=new TypeError("Invalid non-string/buffer chunk")),a&&(e.emit("error",a),o.nextTick(n,a),r=!1),r}(this,r,e,i))&&(r.pendingcb++,a=function(e,t,i,n,r,o){if(!i){var a=function(e,t,i){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=d.from(t,i)),t}(t,n,r);n!==a&&(i=!0,r="buffer",n=a)}var s=t.objectMode?1:n.length;t.length+=s;var l=t.length<t.highWaterMark;if(l||(t.needDrain=!0),t.writing||t.corked){var c=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:r,isBuf:i,callback:o,next:null},c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else g(e,t,!1,s,n,r,o);return l}(this,r,s,e,t,i)),a},y.prototype.cork=function(){this._writableState.corked++},y.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||A(this,e))},y.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(-1<["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},y.prototype._write=function(e,t,i){i(new Error("_write() is not implemented"))},y.prototype._writev=null,y.prototype.end=function(e,t,i){var n=this._writableState;"function"==typeof e?(i=e,e=null,t=null):"function"==typeof t&&(i=t,t=null),null!==e&&void 0!==e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||n.finished||function(e,t,i){t.ending=!0,k(e,t),i&&(t.finished?o.nextTick(i):e.once("finish",i)),t.ended=!0,e.writable=!1}(this,n,i)},Object.defineProperty(y.prototype,"destroyed",{get:function get(){return void 0!==this._writableState&&this._writableState.destroyed},set:function set(e){this._writableState&&(this._writableState.destroyed=e)}}),y.prototype.destroy=_.destroy,y.prototype._undestroy=_.undestroy,y.prototype._destroy=function(e,t){this.end(),t(e)}}).call(this,i(3),i(63).setImmediate,i(0))},function(e,t,i){(t=e.exports=i(35)).Stream=t,t.Readable=t,t.Writable=i(18),t.Duplex=i(2),t.Transform=i(31),t.PassThrough=i(60)},function(e,t){function i(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function n(e){return"function"==typeof e}function r(e){return"object"==babelHelpers.typeof(e)&&null!==e}function o(e){return void 0===e}e.exports=i,i.EventEmitter=i,i.prototype._events=void 0,i.prototype._maxListeners=void 0,i.defaultMaxListeners=10,i.prototype.setMaxListeners=function(e){if("number"!=typeof e||0>e||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},i.prototype.emit=function(e){var t,i,a,s,l,c;if(this._events||(this._events={}),"error"===e&&(!this._events.error||r(this._events.error)&&!this._events.error.length)){if(babelHelpers.instanceof(t=arguments[1],Error))throw t;var h=new Error("Uncaught, unspecified \"error\" event. ("+t+")");throw h.context=t,h}if(o(i=this._events[e]))return!1;if(n(i))switch(arguments.length){case 1:i.call(this);break;case 2:i.call(this,arguments[1]);break;case 3:i.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),i.apply(this,s);}else if(r(i))for(s=Array.prototype.slice.call(arguments,1),a=(c=i.slice()).length,l=0;l<a;l++){c[l].apply(this,s)}return!0},i.prototype.addListener=function(e,t){var a;if(!n(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,n(t.listener)?t.listener:t),this._events[e]?r(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,r(this._events[e])&&!this._events[e].warned&&(a=o(this._maxListeners)?i.defaultMaxListeners:this._maxListeners)&&0<a&&this._events[e].length>a&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},i.prototype.on=i.prototype.addListener,i.prototype.once=function(e,t){if(!n(t))throw TypeError("listener must be a function");var i=!1;function r(){this.removeListener(e,r),i||(i=!0,t.apply(this,arguments))}return r.listener=t,this.on(e,r),this},i.prototype.removeListener=function(e,t){var i,o,a,s;if(!n(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(a=(i=this._events[e]).length,o=-1,i===t||n(i.listener)&&i.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(r(i)){for(s=a;0<s--;){if(i[s]===t||i[s].listener&&i[s].listener===t){o=s;break}}if(0>o)return this;1===i.length?(i.length=0,delete this._events[e]):i.splice(o,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},i.prototype.removeAllListeners=function(e){var t,i;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events){"removeListener"!==t&&this.removeAllListeners(t)}return this.removeAllListeners("removeListener"),this._events={},this}if(n(i=this._events[e]))this.removeListener(e,i);else if(i)for(;i.length;){this.removeListener(e,i[i.length-1])}return delete this._events[e],this},i.prototype.listeners=function(e){return this._events&&this._events[e]?n(this._events[e])?[this._events[e]]:this._events[e].slice():[]},i.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(n(t))return 1;if(t)return t.length}return 0},i.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={readUint16:function readUint16(e,t){if(0>t)throw"littleEndianByteArrayParser.readUint16: position cannot be less than 0";if(t+2>e.length)throw"littleEndianByteArrayParser.readUint16: attempt to read past end of buffer";return e[t]+256*e[t+1]},readInt16:function readInt16(e,t){if(0>t)throw"littleEndianByteArrayParser.readInt16: position cannot be less than 0";if(t+2>e.length)throw"littleEndianByteArrayParser.readInt16: attempt to read past end of buffer";var i=e[t]+(e[t+1]<<8);return 32768&i&&(i=i-65535-1),i},readUint32:function readUint32(e,t){if(0>t)throw"littleEndianByteArrayParser.readUint32: position cannot be less than 0";if(t+4>e.length)throw"littleEndianByteArrayParser.readUint32: attempt to read past end of buffer";return e[t]+256*e[t+1]+256*(256*e[t+2])+256*(256*(256*e[t+3]))},readInt32:function readInt32(e,t){if(0>t)throw"littleEndianByteArrayParser.readInt32: position cannot be less than 0";if(t+4>e.length)throw"littleEndianByteArrayParser.readInt32: attempt to read past end of buffer";return e[t]+(e[t+1]<<8)+(e[t+2]<<16)+(e[t+3]<<24)},readFloat:function readFloat(e,t){if(0>t)throw"littleEndianByteArrayParser.readFloat: position cannot be less than 0";if(t+4>e.length)throw"littleEndianByteArrayParser.readFloat: attempt to read past end of buffer";var i=new Uint8Array(4);return i[0]=e[t],i[1]=e[t+1],i[2]=e[t+2],i[3]=e[t+3],new Float32Array(i.buffer)[0]},readDouble:function readDouble(e,t){if(0>t)throw"littleEndianByteArrayParser.readDouble: position cannot be less than 0";if(t+8>e.length)throw"littleEndianByteArrayParser.readDouble: attempt to read past end of buffer";var i=new Uint8Array(8);return i[0]=e[t],i[1]=e[t+1],i[2]=e[t+2],i[3]=e[t+3],i[4]=e[t+4],i[5]=e[t+5],i[6]=e[t+6],i[7]=e[t+7],new Float64Array(i.buffer)[0]}}},function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(t,i){if(void 0!==e&&babelHelpers.instanceof(t,e))return e.alloc(i);if(babelHelpers.instanceof(t,Uint8Array))return new Uint8Array(i);throw"dicomParser.alloc: unknown type for byteArray"}}).call(this,i(1).Buffer)},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,i){if(void 0===e)throw"dicomParser.readDicomElementImplicit: missing required parameter 'byteStream'";var a={tag:(0,o.default)(e),length:e.readUint32(),dataOffset:e.position};return 4294967295===a.length&&(a.hadUndefinedLength=!0),a.tag===t?a:s(a,e,i)?((0,r.default)(e,a),a):a.hadUndefinedLength?((0,n.default)(e,a),a):(e.seek(a.length),a)};var n=a(i(24)),r=a(i(39)),o=a(i(4));function a(e){return e&&e.__esModule?e:{default:e}}var s=function s(e,t,i){if(void 0!==i)return"SQ"===i(e.tag);if(t.position+4<=t.byteArray.length){var n=(0,o.default)(t);return t.seek(-4),"xfffee000"===n||"xfffee0dd"===n}return t.warnings.push("eof encountered before finding sequence item tag or sequence delimiter tag in peeking to determine VR"),!1}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(void 0===e)throw"dicomParser.readDicomElementImplicit: missing required parameter 'byteStream'";for(var i=e.byteArray.length-8,n;e.position<=i;){n=e.readUint16();if(65534===n){var r=e.readUint16();if(57357===r){var o=e.readUint32();return 0!==o&&e.warnings("encountered non zero length following item delimiter at position "+(e.position-4)+" while reading element of undefined length with tag "+t.tag),void(t.length=e.position-t.dataOffset)}}}t.length=e.byteArray.length-t.dataOffset,e.seek(e.byteArray.length-e.position)}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={AE:!0,AS:!0,AT:!1,CS:!0,DA:!0,DS:!0,DT:!0,FL:!1,FD:!1,IS:!0,LO:!0,LT:!0,OB:!1,OD:!1,OF:!1,OW:!1,PN:!0,SH:!0,SL:!1,SQ:!1,SS:!1,ST:!0,TM:!0,UI:!0,UL:!1,UN:void 0,UR:!0,US:!1,UT:!0};t.isStringVr=function(e){return n[e]},t.isPrivateTag=function(e){return 1==parseInt(e[4],10)%2},t.parsePN=function(e){if(void 0!==e){var t=e.split("^");return{familyName:t[0],givenName:t[1],middleName:t[2],prefix:t[3],suffix:t[4]}}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,i,n,r){if(n=n||t.basicOffsetTable,r=r||t.fragments,void 0===e)throw"dicomParser.readEncapsulatedImageFrame: missing required parameter 'dataSet'";if(void 0===t)throw"dicomParser.readEncapsulatedImageFrame: missing required parameter 'pixelDataElement'";if(void 0===i)throw"dicomParser.readEncapsulatedImageFrame: missing required parameter 'frameIndex'";if(void 0===n)throw"dicomParser.readEncapsulatedImageFrame: parameter 'pixelDataElement' does not have basicOffsetTable";if("x7fe00010"!==t.tag)throw"dicomParser.readEncapsulatedImageFrame: parameter 'pixelDataElement' refers to non pixel data tag (expected tag = x7fe00010)";if(!0!==t.encapsulatedPixelData)throw"dicomParser.readEncapsulatedImageFrame: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data";if(!0!==t.hadUndefinedLength)throw"dicomParser.readEncapsulatedImageFrame: parameter 'pixelDataElement' refers to pixel data element that does not have undefined length";if(void 0===t.fragments)throw"dicomParser.readEncapsulatedImageFrame: parameter 'pixelDataElement' refers to pixel data element that does not have fragments";if(0===n.length)throw"dicomParser.readEncapsulatedImageFrame: basicOffsetTable has zero entries";if(0>i)throw"dicomParser.readEncapsulatedImageFrame: parameter 'frameIndex' must be >= 0";if(i>=n.length)throw"dicomParser.readEncapsulatedImageFrame: parameter 'frameIndex' must be < basicOffsetTable.length";var l=n[i],c=a(r,l);if(void 0===c)throw"dicomParser.readEncapsulatedImageFrame: unable to find fragment that matches basic offset table entry";var h=s(i,n,r,c);return(0,o.default)(e,t,c,h,r)};var n,r=i(17),o=(n=r)&&n.__esModule?n:{default:n},a=function a(e,t){for(var i=0;i<e.length;i++){if(e[i].offset===t)return i}},s=function s(e,t,i,n){if(e===t.length-1)return i.length-n;for(var r=t[e+1],o=n+1;o<i.length;o++){if(i[o].offset===r)return o-n}throw"dicomParser.calculateNumberOfFragmentsForFrame: could not find fragment with offset matching basic offset table"}},function(e,t,i){"use strict";var n=function(){for(var e,t=[],i=0;256>i;i++){e=i;for(var n=0;8>n;n++){e=1&e?3988292384^e>>>1:e>>>1}t[i]=e}return t}();e.exports=function(e,t,i,r){var o=n,a=r+i;e^=-1;for(var s=r;s<a;s++){e=e>>>8^o[255&(e^t[s])]}return-1^e}},function(e,t,i){"use strict";e.exports=function(e,t,i,n){for(var r=0|65535&e,o=0|65535&e>>>16,a=0;0!==i;){i-=a=2e3<i?2e3:i;do{o=0|o+(r=0|r+t[n++])}while(--a);r%=65521,o%=65521}return 0|(r|o<<16)}},function(e,t,i){(function(e,n){var r=/%[sdj%]/g;t.format=function(e){if(!b(e)){for(var t=[],i=0;i<arguments.length;i++){t.push(s(arguments[i]))}return t.join(" ")}i=1;for(var n=arguments,o=n.length,a=(e+"").replace(r,function(e){if("%%"===e)return"%";if(i>=o)return e;switch(e){case"%s":return n[i++]+"";case"%d":return+n[i++];case"%j":try{return JSON.stringify(n[i++])}catch(e){return"[Circular]"}default:return e;}}),l=n[i];i<o;l=n[++i]){_(l)||!v(l)?a+=" "+l:a+=" "+s(l)}return a},t.deprecate=function(i,r){if(y(e.process))return function(){return t.deprecate(i,r).apply(this,arguments)};if(!0===n.noDeprecation)return i;var o=!1;return function(){if(!o){if(n.throwDeprecation)throw new Error(r);n.traceDeprecation?console.trace(r):console.error(r),o=!0}return i.apply(this,arguments)}};var o,a={};function s(e,i){var n={seen:[],stylize:c};return 3<=arguments.length&&(n.depth=arguments[2]),4<=arguments.length&&(n.colors=arguments[3]),p(i)?n.showHidden=i:i&&t._extend(n,i),y(n.showHidden)&&(n.showHidden=!1),y(n.depth)&&(n.depth=2),y(n.colors)&&(n.colors=!1),y(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=l),h(n,e,n.depth)}function l(e,t){var i=s.styles[t];return i?"\x1B["+s.colors[i][0]+"m"+e+"\x1B["+s.colors[i][1]+"m":e}function c(e,t){return e}function h(e,i,n){if(e.customInspect&&i&&x(i.inspect)&&i.inspect!==t.inspect&&(!i.constructor||i.constructor.prototype!==i)){var r=i.inspect(n,e);return b(r)||(r=h(e,r,n)),r}var o=function(e,t){if(y(t))return e.stylize("undefined","undefined");if(b(t)){var i="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,"\"")+"'";return e.stylize(i,"string")}return m(t)?e.stylize(""+t,"number"):p(t)?e.stylize(""+t,"boolean"):_(t)?e.stylize("null","null"):void 0}(e,i);if(o)return o;var a=Object.keys(i),s=function(e){var t={};return e.forEach(function(e,i){t[e]=!0}),t}(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(i)),w(i)&&(0<=a.indexOf("message")||0<=a.indexOf("description")))return u(i);if(0===a.length){if(x(i)){var l=i.name?": "+i.name:"";return e.stylize("[Function"+l+"]","special")}if(g(i))return e.stylize(RegExp.prototype.toString.call(i),"regexp");if(A(i))return e.stylize(Date.prototype.toString.call(i),"date");if(w(i))return u(i)}var c,v="",k=!1,I=["{","}"];return d(i)&&(k=!0,I=["[","]"]),x(i)&&(v=" [Function"+(i.name?": "+i.name:"")+"]"),g(i)&&(v=" "+RegExp.prototype.toString.call(i)),A(i)&&(v=" "+Date.prototype.toUTCString.call(i)),w(i)&&(v=" "+u(i)),0!==a.length||k&&0!=i.length?0>n?g(i)?e.stylize(RegExp.prototype.toString.call(i),"regexp"):e.stylize("[Object]","special"):(e.seen.push(i),c=k?function(e,t,i,n,r){for(var o=[],a=0,s=t.length;a<s;++a){E(t,a+"")?o.push(f(e,t,i,n,a+"",!0)):o.push("")}return r.forEach(function(r){r.match(/^\d+$/)||o.push(f(e,t,i,n,r,!0))}),o}(e,i,n,s,a):a.map(function(t){return f(e,i,n,s,t,k)}),e.seen.pop(),function(e,t,i){return 60<e.reduce(function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)?i[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+i[1]:i[0]+t+" "+e.join(", ")+" "+i[1]}(c,v,I)):I[0]+v+I[1]}function u(e){return"["+Error.prototype.toString.call(e)+"]"}function f(e,t,i,n,r,o){var a,s,l;if((l=Object.getOwnPropertyDescriptor(t,r)||{value:t[r]}).get?s=l.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):l.set&&(s=e.stylize("[Setter]","special")),E(n,r)||(a="["+r+"]"),s||(0>e.seen.indexOf(l.value)?-1<(s=_(i)?h(e,l.value,null):h(e,l.value,i-1)).indexOf("\n")&&(s=o?s.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+s.split("\n").map(function(e){return"   "+e}).join("\n")):s=e.stylize("[Circular]","special")),y(a)){if(o&&r.match(/^\d+$/))return s;(a=JSON.stringify(""+r)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,"\"").replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function d(e){return Array.isArray(e)}function p(e){return"boolean"==typeof e}function _(e){return null===e}function m(e){return"number"==typeof e}function b(e){return"string"==typeof e}function y(e){return void 0===e}function g(e){return v(e)&&"[object RegExp]"===k(e)}function v(e){return"object"==babelHelpers.typeof(e)&&null!==e}function A(e){return v(e)&&"[object Date]"===k(e)}function w(e){return v(e)&&("[object Error]"===k(e)||babelHelpers.instanceof(e,Error))}function x(e){return"function"==typeof e}function k(e){return Object.prototype.toString.call(e)}function I(e){return 10>e?"0"+e.toString(10):e.toString(10)}t.debuglog=function(e){if(y(o)&&(o=n.env.NODE_DEBUG||""),e=e.toUpperCase(),!a[e])if(new RegExp("\\b"+e+"\\b","i").test(o)){var i=n.pid;a[e]=function(){var n=t.format.apply(t,arguments);console.error("%s %d: %s",e,i,n)}}else a[e]=function(){};return a[e]},t.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=d,t.isBoolean=p,t.isNull=_,t.isNullOrUndefined=function(e){return null==e},t.isNumber=m,t.isString=b,t.isSymbol=function(e){return"symbol"==babelHelpers.typeof(e)},t.isUndefined=y,t.isRegExp=g,t.isObject=v,t.isDate=A,t.isError=w,t.isFunction=x,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==babelHelpers.typeof(e)||void 0===e},t.isBuffer=i(54);var S=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function E(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){var e,i;console.log("%s - %s",(e=new Date,i=[I(e.getHours()),I(e.getMinutes()),I(e.getSeconds())].join(":"),[e.getDate(),S[e.getMonth()],i].join(" ")),t.format.apply(t,arguments))},t.inherits=i(53),t._extend=function(e,t){if(!t||!v(t))return e;for(var i=Object.keys(t),n=i.length;n--;){e[i[n]]=t[i[n]]}return e}}).call(this,i(0),i(3))},function(e,t,i){"use strict";(function(t){function n(e,t){if(e===t)return 0;for(var i=e.length,n=t.length,r=0,o=_Mathmin(i,n);r<o;++r){if(e[r]!==t[r]){i=e[r],n=t[r];break}}return i<n?-1:n<i?1:0}function r(e){return t.Buffer&&"function"==typeof t.Buffer.isBuffer?t.Buffer.isBuffer(e):!(null==e||!e._isBuffer)}var o=i(29),a=Object.prototype.hasOwnProperty,s=Array.prototype.slice,l="foo"===function(){}.name;function c(e){return Object.prototype.toString.call(e)}function h(e){return!r(e)&&"function"==typeof t.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):!!e&&(babelHelpers.instanceof(e,DataView)||!!(e.buffer&&babelHelpers.instanceof(e.buffer,ArrayBuffer))))}var u=e.exports=b,f=/\s*function\s+([^\(\s]*)\s*/;function d(e){if(o.isFunction(e)){if(l)return e.name;var t=e.toString().match(f);return t&&t[1]}}function p(e,t){return"string"==typeof e?e.length<t?e:e.slice(0,t):e}function _(e){if(l||!o.isFunction(e))return o.inspect(e);var t=d(e);return"[Function"+(t?": "+t:"")+"]"}function m(e,t,i,n,r){throw new u.AssertionError({message:i,actual:e,expected:t,operator:n,stackStartFunction:r})}function b(e,t){e||m(e,!0,t,"==",u.ok)}function y(e,t,i,a){if(e===t)return!0;if(r(e)&&r(t))return 0===n(e,t);if(o.isDate(e)&&o.isDate(t))return e.getTime()===t.getTime();if(o.isRegExp(e)&&o.isRegExp(t))return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(null!==e&&"object"==babelHelpers.typeof(e)||null!==t&&"object"==babelHelpers.typeof(t)){if(h(e)&&h(t)&&c(e)===c(t)&&!(babelHelpers.instanceof(e,Float32Array)||babelHelpers.instanceof(e,Float64Array)))return 0===n(new Uint8Array(e.buffer),new Uint8Array(t.buffer));if(r(e)!==r(t))return!1;var l=(a=a||{actual:[],expected:[]}).actual.indexOf(e);return-1!==l&&l===a.expected.indexOf(t)||(a.actual.push(e),a.expected.push(t),function(e,t,i,n){if(null===e||void 0===e||null===t||void 0===t)return!1;if(o.isPrimitive(e)||o.isPrimitive(t))return e===t;if(i&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;var r=g(e),a=g(t);if(r&&!a||!r&&a)return!1;if(r)return e=s.call(e),t=s.call(t),y(e,t,i);var l,c,h=w(e),u=w(t);if(h.length!==u.length)return!1;for(h.sort(),u.sort(),c=h.length-1;0<=c;c--){if(h[c]!==u[c])return!1}for(c=h.length-1;0<=c;c--){if(l=h[c],!y(e[l],t[l],i,n))return!1}return!0}(e,t,i,a))}return i?e===t:e==t}function g(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function v(e,t){if(!e||!t)return!1;if("[object RegExp]"==Object.prototype.toString.call(t))return t.test(e);try{if(babelHelpers.instanceof(e,t))return!0}catch(e){}return!Error.isPrototypeOf(t)&&!0===t.call({},e)}function A(e,t,i,n){var r;if("function"!=typeof t)throw new TypeError("\"block\" argument must be a function");"string"==typeof i&&(n=i,i=null),r=function(e){var t;try{e()}catch(e){t=e}return t}(t),n=(i&&i.name?" ("+i.name+").":".")+(n?" "+n:"."),e&&!r&&m(r,i,"Missing expected exception"+n);var a="string"==typeof n,s=!e&&o.isError(r),l=!e&&r&&!i;if((s&&a&&v(r,i)||l)&&m(r,i,"Got unwanted exception"+n),e&&r&&i&&!v(r,i)||!e&&r)throw r}u.AssertionError=function(e){var t;this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=p(_((t=this).actual),128)+" "+t.operator+" "+p(_(t.expected),128),this.generatedMessage=!0);var i=e.stackStartFunction||m;if(Error.captureStackTrace)Error.captureStackTrace(this,i);else{var n=new Error;if(n.stack){var r=n.stack,o=d(i),a=r.indexOf("\n"+o);if(0<=a){var s=r.indexOf("\n",a+1);r=r.substring(s+1)}this.stack=r}}},o.inherits(u.AssertionError,Error),u.fail=m,u.ok=b,u.equal=function(e,t,i){e!=t&&m(e,t,i,"==",u.equal)},u.notEqual=function(e,t,i){e==t&&m(e,t,i,"!=",u.notEqual)},u.deepEqual=function(e,t,i){y(e,t,!1)||m(e,t,i,"deepEqual",u.deepEqual)},u.deepStrictEqual=function(e,t,i){y(e,t,!0)||m(e,t,i,"deepStrictEqual",u.deepStrictEqual)},u.notDeepEqual=function(e,t,i){y(e,t,!1)&&m(e,t,i,"notDeepEqual",u.notDeepEqual)},u.notDeepStrictEqual=function e(t,i,n){y(t,i,!0)&&m(t,i,n,"notDeepStrictEqual",e)},u.strictEqual=function(e,t,i){e!==t&&m(e,t,i,"===",u.strictEqual)},u.notStrictEqual=function(e,t,i){e===t&&m(e,t,i,"!==",u.notStrictEqual)},u.throws=function(e,t,i){A(!0,e,t,i)},u.doesNotThrow=function(e,t,i){A(!1,e,t,i)},u.ifError=function(e){if(e)throw e};var w=Object.keys||function(e){var t=[];for(var i in e){a.call(e,i)&&t.push(i)}return t}}).call(this,i(0))},function(e,t,i){"use strict";e.exports=o;var n=i(2),r=i(6);function o(e){if(!babelHelpers.instanceof(this,o))return new o(e);n.call(this,e),this._transformState={afterTransform:function(e,t){var i=this._transformState;i.transforming=!1;var n=i.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));i.writechunk=null,i.writecb=null,null!=t&&this.push(t),n(e);var r=this._readableState;r.reading=!1,(r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",a)}function a(){var e=this;"function"==typeof this._flush?this._flush(function(t,i){s(e,t,i)}):s(this,null,null)}function s(e,t,i){if(t)return e.emit("error",t);if(null!=i&&e.push(i),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}r.inherits=i(5),r.inherits(o,n),o.prototype.push=function(e,t){return this._transformState.needTransform=!1,n.prototype.push.call(this,e,t)},o.prototype._transform=function(e,t,i){throw new Error("_transform() is not implemented")},o.prototype._write=function(e,t,i){var n=this._transformState;if(n.writecb=i,n.writechunk=e,n.writeencoding=t,!n.transforming){var r=this._readableState;(n.needTransform||r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}},o.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},o.prototype._destroy=function(e,t){var i=this;n.prototype._destroy.call(this,e,function(e){t(e),i.emit("close")})}},function(e,t,i){"use strict";var n=i(9).Buffer,r=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1;}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;){switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0;}}}(e);if("string"!=typeof t&&(n.isEncoding===r||!r(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=l,this.end=c,t=4;break;case"utf8":this.fillLast=s,t=4;break;case"base64":this.text=h,this.end=u,t=3;break;default:return this.write=f,void(this.end=d);}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function a(e){return 127>=e?0:6==e>>5?2:14==e>>4?3:30==e>>3?4:-1}function s(e){var t=this.lastTotal-this.lastNeed,i=function(e,t,i){if(128!=(192&t[0]))return e.lastNeed=0,"\uFFFD".repeat(i);if(1<e.lastNeed&&1<t.length){if(128!=(192&t[1]))return e.lastNeed=1,"\uFFFD".repeat(i+1);if(2<e.lastNeed&&2<t.length&&128!=(192&t[2]))return e.lastNeed=2,"\uFFFD".repeat(i+2)}}(this,e,t);return void 0!==i?i:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function l(e,t){if(0==(e.length-t)%2){var i=e.toString("utf16le",t);if(i){var n=i.charCodeAt(i.length-1);if(55296<=n&&56319>=n)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],i.slice(0,-1)}return i}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function c(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var i=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,i)}return t}function h(e,t){var i=(e.length-t)%3;return 0===i?e.toString("base64",t):(this.lastNeed=3-i,this.lastTotal=3,1===i?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-i))}function u(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function f(e){return e.toString(this.encoding)}function d(e){return e&&e.length?this.write(e):""}t.StringDecoder=o,o.prototype.write=function(e){if(0===e.length)return"";var t,i;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";i=this.lastNeed,this.lastNeed=0}else i=0;return i<e.length?t?t+this.text(e,i):this.text(e,i):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"\uFFFD".repeat(this.lastTotal-this.lastNeed):t},o.prototype.text=function(e,t){var i=function(e,t,i){var n=t.length-1;if(n<i)return 0;var r=a(t[n]);return 0<=r?(0<r&&(e.lastNeed=r-1),r):--n<i?0:0<=(r=a(t[n]))?(0<r&&(e.lastNeed=r-2),r):--n<i?0:0<=(r=a(t[n]))?(0<r&&(2===r?r=0:e.lastNeed=r-3),r):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=i;var n=e.length-(i-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},function(e,t,i){"use strict";var n=i(10);function r(e,t){e.emit("error",t)}e.exports={destroy:function destroy(e,t){var i=this,o=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return o||a?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||n.nextTick(r,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!t&&e?(n.nextTick(r,i,e),i._writableState&&(i._writableState.errorEmitted=!0)):t&&t(e)}),this)},undestroy:function undestroy(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(e,t,i){e.exports=i(20).EventEmitter},function(e,t,i){"use strict";(function(t,n){var r=i(10);e.exports=g;var o,a=i(38);g.ReadableState=y,i(20).EventEmitter;var s=function s(e,t){return e.listeners(t).length},l=i(34),c=i(9).Buffer,h=t.Uint8Array||function(){},u=i(6);u.inherits=i(5);var f=i(66),d;d=f&&f.debuglog?f.debuglog("stream"):function(){};var p,_=i(65),m=i(33);u.inherits(g,l);var b=["error","close","destroy","pause","resume"];function y(e,t){o=o||i(2),e=e||{};var n=babelHelpers.instanceof(t,o);this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var r=e.highWaterMark,a=e.readableHighWaterMark,s=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:n&&(a||0===a)?a:s,this.highWaterMark=_Mathfloor(this.highWaterMark),this.buffer=new _,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(p||(p=i(32).StringDecoder),this.decoder=new p(e.encoding),this.encoding=e.encoding)}function g(e){if(o=o||i(2),!babelHelpers.instanceof(this,g))return new g(e);this._readableState=new y(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),l.call(this)}function v(e,t,i,n,r){var o,a=e._readableState;return null===t?(a.reading=!1,function(e,t){if(!t.ended){if(t.decoder){var i=t.decoder.end();i&&i.length&&(t.buffer.push(i),t.length+=t.objectMode?1:i.length)}t.ended=!0,k(e)}}(e,a)):(r||(o=function(e,t){var i,n;return n=t,c.isBuffer(n)||babelHelpers.instanceof(n,h)||"string"==typeof t||void 0===t||e.objectMode||(i=new TypeError("Invalid non-string/buffer chunk")),i}(a,t)),o?e.emit("error",o):a.objectMode||t&&0<t.length?("string"==typeof t||a.objectMode||Object.getPrototypeOf(t)===c.prototype||(t=function(e){return c.from(e)}(t)),n?a.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):A(e,a,t,!0):a.ended?e.emit("error",new Error("stream.push() after EOF")):(a.reading=!1,a.decoder&&!i?(t=a.decoder.write(t),a.objectMode||0!==t.length?A(e,a,t,!1):S(e,a)):A(e,a,t,!1))):n||(a.reading=!1)),function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(a)}function A(e,t,i,n){t.flowing&&0===t.length&&!t.sync?(e.emit("data",i),e.read(0)):(t.length+=t.objectMode?1:i.length,n?t.buffer.unshift(i):t.buffer.push(i),t.needReadable&&k(e)),S(e,t)}Object.defineProperty(g.prototype,"destroyed",{get:function get(){return void 0!==this._readableState&&this._readableState.destroyed},set:function set(e){this._readableState&&(this._readableState.destroyed=e)}}),g.prototype.destroy=m.destroy,g.prototype._undestroy=m.undestroy,g.prototype._destroy=function(e,t){this.push(null),t(e)},g.prototype.push=function(e,t){var i,n=this._readableState;return n.objectMode?i=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=c.from(e,t),t=""),i=!0),v(this,e,t,!1,i)},g.prototype.unshift=function(e){return v(this,e,null,!0,!1)},g.prototype.isPaused=function(){return!1===this._readableState.flowing},g.prototype.setEncoding=function(e){return p||(p=i(32).StringDecoder),this._readableState.decoder=new p(e),this._readableState.encoding=e,this};var w=8388608;function x(e,t){return 0>=e||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=w?e=w:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function k(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(d("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?r.nextTick(I,e):I(e))}function I(e){d("emit readable"),e.emit("readable"),M(e)}function S(e,t){t.readingMore||(t.readingMore=!0,r.nextTick(E,e,t))}function E(e,t){for(var i=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(d("maybeReadMore read 0"),e.read(0),i!==t.length);){i=t.length}t.readingMore=!1}function C(e){d("readable nexttick read 0"),e.read(0)}function B(e,t){t.reading||(d("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),M(e),t.flowing&&!t.reading&&e.read(0)}function M(e){var t=e._readableState;for(d("flow",t.flowing);t.flowing&&null!==e.read();){;}}function P(e,t){return 0===t.length?null:(t.objectMode?i=t.buffer.shift():!e||e>=t.length?(i=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):i=function(e,t,i){var n;return e<t.head.data.length?(n=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):n=e===t.head.data.length?t.shift():i?function(e,t){var i=t.head,n=1,r=i.data;for(e-=r.length;i=i.next;){var o=i.data,a=e>o.length?o.length:e;if(a===o.length?r+=o:r+=o.slice(0,e),0==(e-=a)){a===o.length?(++n,i.next?t.head=i.next:t.head=t.tail=null):(t.head=i,i.data=o.slice(a));break}++n}return t.length-=n,r}(e,t):function(e,t){var i=c.allocUnsafe(e),n=t.head,r=1;for(n.data.copy(i),e-=n.data.length;n=n.next;){var o=n.data,a=e>o.length?o.length:e;if(o.copy(i,i.length-e,0,a),0==(e-=a)){a===o.length?(++r,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=o.slice(a));break}++r}return t.length-=r,i}(e,t),n}(e,t.buffer,t.decoder),i);var i}function T(e){var t=e._readableState;if(0<t.length)throw new Error("\"endReadable()\" called on non-empty stream");t.endEmitted||(t.ended=!0,r.nextTick(D,t,e))}function D(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function R(e,t){for(var i=0,n=e.length;i<n;i++){if(e[i]===t)return i}return-1}g.prototype.read=function(e){d("read",e),e=parseInt(e,10);var t=this._readableState,i=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return d("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?T(this):k(this),null;if(0===(e=x(e,t))&&t.ended)return 0===t.length&&T(this),null;var n,r=t.needReadable;return d("need readable",r),(0===t.length||t.length-e<t.highWaterMark)&&d("length less than watermark",r=!0),t.ended||t.reading?d("reading or ended",r=!1):r&&(d("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=x(i,t))),null===(n=0<e?P(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),i!==e&&t.ended&&T(this)),null!==n&&this.emit("data",n),n},g.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},g.prototype.pipe=function(e,t){var i=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=e;break;case 1:o.pipes=[o.pipes,e];break;default:o.pipes.push(e);}o.pipesCount+=1,d("pipe count=%d opts=%j",o.pipesCount,t);var l=t&&!1===t.end||e===n.stdout||e===n.stderr?y:c;function c(){d("onend"),e.end()}o.endEmitted?r.nextTick(l):i.once("end",l),e.on("unpipe",function t(n,r){d("onunpipe"),n===i&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,d("cleanup"),e.removeListener("close",m),e.removeListener("finish",b),e.removeListener("drain",h),e.removeListener("error",_),e.removeListener("unpipe",t),i.removeListener("end",c),i.removeListener("end",y),i.removeListener("data",p),u=!0,!o.awaitDrain||e._writableState&&!e._writableState.needDrain||h())});var h=function(e){return function(){var t=e._readableState;d("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&s(e,"data")&&(t.flowing=!0,M(e))}}(i);e.on("drain",h);var u=!1,f=!1;function p(t){d("ondata"),f=!1,!1!==e.write(t)||f||((1===o.pipesCount&&o.pipes===e||1<o.pipesCount&&-1!==R(o.pipes,e))&&!u&&(d("false write response, pause",i._readableState.awaitDrain),i._readableState.awaitDrain++,f=!0),i.pause())}function _(t){d("onerror",t),y(),e.removeListener("error",_),0===s(e,"error")&&e.emit("error",t)}function m(){e.removeListener("finish",b),y()}function b(){d("onfinish"),e.removeListener("close",m),y()}function y(){d("unpipe"),i.unpipe(e)}return i.on("data",p),function(e,t,i){if("function"==typeof e.prependListener)return e.prependListener(t,i);e._events&&e._events[t]?a(e._events[t])?e._events[t].unshift(i):e._events[t]=[i,e._events[t]]:e.on(t,i)}(e,"error",_),e.once("close",m),e.once("finish",b),e.emit("pipe",i),o.flowing||(d("pipe resume"),i.resume()),e},g.prototype.unpipe=function(e){var t=this._readableState,i={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,i),this);if(!e){var n=t.pipes,r=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<r;o++){n[o].emit("unpipe",this,i)}return this}var a=R(t.pipes,e);return-1===a?this:(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,i),this)},g.prototype.on=function(e,t){var i=l.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var n=this._readableState;n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&k(this):r.nextTick(C,this))}return i},g.prototype.addListener=g.prototype.on,g.prototype.resume=function(){var e=this._readableState;return e.flowing||(d("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,r.nextTick(B,e,t))}(this,e)),this},g.prototype.pause=function(){return d("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(d("pause"),this._readableState.flowing=!1,this.emit("pause")),this},g.prototype.wrap=function(e){var t=this,i=this._readableState,n=!1;for(var r in e.on("end",function(){if(d("wrapped end"),i.decoder&&!i.ended){var e=i.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(r){d("wrapped data"),i.decoder&&(r=i.decoder.write(r)),(!i.objectMode||null!==r&&void 0!==r)&&(i.objectMode||r&&r.length)&&(t.push(r)||(n=!0,e.pause()))}),e){void 0===this[r]&&"function"==typeof e[r]&&(this[r]=function(t){return function(){return e[t].apply(e,arguments)}}(r))}for(var o=0;o<b.length;o++){e.on(b[o],this.emit.bind(this,b[o]))}return this._read=function(t){d("wrapped _read",t),n&&(n=!1,e.resume())},this},g._fromList=P}).call(this,i(0),i(3))},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(void 0===e)throw"dicomParser.readPart10Header: missing required parameter 'byteArray'";var i=new n.default(o.default,e);return function(){!function(){if(i.seek(128),"DICM"!==i.readFixedString(4))throw"dicomParser.readPart10Header: DICM prefix not found at location 132 - this is not a valid DICOM P10 file."}();for(var e=[],t={};i.position<i.byteArray.length;){var n=i.position,s=(0,a.default)(i,e);if("x0002ffff"<s.tag){i.position=n;break}s.parser=o.default,t[s.tag]=s}var l=new r.default(i.byteArrayParser,i.byteArray,t);return l.warnings=i.warnings,l.position=i.position,l}()};var n=s(i(12)),r=s(i(7)),o=s(i(21)),a=s(i(15));function s(e){return e&&e.__esModule?e:{default:e}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={readUint16:function readUint16(e,t){if(0>t)throw"bigEndianByteArrayParser.readUint16: position cannot be less than 0";if(t+2>e.length)throw"bigEndianByteArrayParser.readUint16: attempt to read past end of buffer";return(e[t]<<8)+e[t+1]},readInt16:function readInt16(e,t){if(0>t)throw"bigEndianByteArrayParser.readInt16: position cannot be less than 0";if(t+2>e.length)throw"bigEndianByteArrayParser.readInt16: attempt to read past end of buffer";var i=(e[t]<<8)+e[t+1];return 32768&i&&(i=i-65535-1),i},readUint32:function readUint32(e,t){if(0>t)throw"bigEndianByteArrayParser.readUint32: position cannot be less than 0";if(t+4>e.length)throw"bigEndianByteArrayParser.readUint32: attempt to read past end of buffer";return 256*(256*(256*e[t]+e[t+1])+e[t+2])+e[t+3]},readInt32:function readInt32(e,t){if(0>t)throw"bigEndianByteArrayParser.readInt32: position cannot be less than 0";if(t+4>e.length)throw"bigEndianByteArrayParser.readInt32: attempt to read past end of buffer";return(e[t]<<24)+(e[t+1]<<16)+(e[t+2]<<8)+e[t+3]},readFloat:function readFloat(e,t){if(0>t)throw"bigEndianByteArrayParser.readFloat: position cannot be less than 0";if(t+4>e.length)throw"bigEndianByteArrayParser.readFloat: attempt to read past end of buffer";var i=new Uint8Array(4);return i[3]=e[t],i[2]=e[t+1],i[1]=e[t+2],i[0]=e[t+3],new Float32Array(i.buffer)[0]},readDouble:function readDouble(e,t){if(0>t)throw"bigEndianByteArrayParser.readDouble: position cannot be less than 0";if(t+8>e.length)throw"bigEndianByteArrayParser.readDouble: attempt to read past end of buffer";var i=new Uint8Array(8);return i[7]=e[t],i[6]=e[t+1],i[5]=e[t+2],i[4]=e[t+3],i[3]=e[t+4],i[2]=e[t+5],i[1]=e[t+6],i[0]=e[t+7],new Float64Array(i.buffer)[0]}}},function(e,t){var i={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==i.call(e)}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,i){if(void 0===e)throw"dicomParser.readSequenceItemsImplicit: missing required parameter 'byteStream'";if(void 0===t)throw"dicomParser.readSequenceItemsImplicit: missing required parameter 'element'";t.items=[],4294967295===t.length?function(e,t,i){for(;e.position+4<=e.byteArray.length;){var n=(0,a.default)(e);if(e.seek(-4),"xfffee0dd"===n)return t.length=e.position-t.dataOffset,e.seek(8),t;var r=c(e,i);t.items.push(r)}e.warnings.push("eof encountered before finding sequence delimiter in sequence of undefined length"),t.length=e.byteArray.length-t.dataOffset}(e,t,i):function(e,t,i){for(var n=t.dataOffset+t.length,r;e.position<n;){r=c(e,i);t.items.push(r)}}(e,t,i)};var n=l(i(7)),r=l(i(23)),o=l(i(13)),a=l(i(4)),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e){Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t.default=e,t}(i(16));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){var i=(0,o.default)(e);return 4294967295===i.length?(i.hadUndefinedLength=!0,i.dataSet=function(e,t){for(var i={},o;e.position<e.byteArray.length;){o=(0,r.default)(e,void 0,t);if(i[o.tag]=o,"xfffee00d"===o.tag)return new n.default(e.byteArrayParser,e.byteArray,i)}return e.warnings.push("eof encountered before finding sequence item delimiter in sequence item of undefined length"),new n.default(e.byteArrayParser,e.byteArray,i)}(e,t),i.length=e.position-i.dataOffset):(i.dataSet=new n.default(e.byteArrayParser,e.byteArray,{}),s.parseDicomDataSetImplicit(i.dataSet,e,e.position+i.length,{vrCallback:t})),i}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,i){if(void 0===e)throw"dicomParser.readSequenceItemsExplicit: missing required parameter 'byteStream'";if(void 0===t)throw"dicomParser.readSequenceItemsExplicit: missing required parameter 'element'";t.items=[],4294967295===t.length?function(e,t,i){for(;e.position+4<=e.byteArray.length;){var n=(0,a.default)(e);if(e.seek(-4),"xfffee0dd"===n)return t.length=e.position-t.dataOffset,e.seek(8),t;var r=c(e,i);t.items.push(r)}i.push("eof encountered before finding sequence delimitation tag while reading sequence of undefined length"),t.length=e.position-t.dataOffset}(e,t,i):function(e,t,i){for(var n=t.dataOffset+t.length,r;e.position<n;){r=c(e,i);t.items.push(r)}}(e,t,i)};var n=l(i(7)),r=l(i(15)),o=l(i(13)),a=l(i(4)),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e){Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t.default=e,t}(i(16));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){var i=(0,o.default)(e);return 4294967295===i.length?(i.hadUndefinedLength=!0,i.dataSet=function(e,t){for(var i={},o;e.position<e.byteArray.length;){o=(0,r.default)(e,t);if(i[o.tag]=o,"xfffee00d"===o.tag)return new n.default(e.byteArrayParser,e.byteArray,i)}return t.push("eof encountered before finding item delimiter tag while reading sequence item of undefined length"),new n.default(e.byteArrayParser,e.byteArray,i)}(e,t),i.length=e.position-i.dataOffset):(i.dataSet=new n.default(e.byteArrayParser,e.byteArray,{}),s.parseDicomDataSetExplicit(i.dataSet,e,e.position+i.length)),i}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(void 0===e)throw"dicomParser.findAndSetUNElementLength: missing required parameter 'byteStream'";for(var i=e.byteArray.length-8,n;e.position<=i;){n=e.readUint16();if(65534===n){var r=e.readUint16();if(57565===r){var o=e.readUint32();return 0!==o&&e.warnings("encountered non zero length following item delimiter at position "+(e.position-4)+" while reading element of undefined length with tag "+t.tag),void(t.length=e.position-t.dataOffset)}}}t.length=e.byteArray.length-t.dataOffset,e.seek(e.byteArray.length-e.position)}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,i){if(void 0===e)throw"dicomParser.findEndOfEncapsulatedElement: missing required parameter 'byteStream'";if(void 0===t)throw"dicomParser.findEndOfEncapsulatedElement: missing required parameter 'element'";if(t.encapsulatedPixelData=!0,t.basicOffsetTable=[],t.fragments=[],"xfffee000"!==(0,o.default)(e))throw"dicomParser.findEndOfEncapsulatedElement: basic offset table not found";for(var n=e.readUint32()/4,r=0,a;r<n;r++){a=e.readUint32();t.basicOffsetTable.push(a)}for(var s=e.position;e.position<e.byteArray.length;){var l=(0,o.default)(e),c=e.readUint32();if("xfffee0dd"===l)return e.seek(c),void(t.length=e.position-t.dataOffset);if("xfffee000"!==l)return i&&i.push("unexpected tag "+l+" while searching for end of pixel data element with undefined length"),c>e.byteArray.length-e.position&&(c=e.byteArray.length-e.position),t.fragments.push({offset:e.position-s-8,position:e.position,length:c}),e.seek(c),void(t.length=e.position-t.dataOffset);t.fragments.push({offset:e.position-s-8,position:e.position,length:c}),e.seek(c)}i&&i.push("pixel data element "+t.tag+" missing sequence delimiter tag xfffee0dd")};var n,r=i(4),o=(n=r)&&n.__esModule?n:{default:n}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(void 0===e||void 0===t)throw"dicomParser.explicitElementToString: missing required parameters";if(void 0===t.vr)throw"dicomParser.explicitElementToString: cannot convert implicit element to string";var i,r=t.vr,o=t.tag;function a(t,i){for(var n="",r=0;r<t;r++){0!==r&&(n+="/"),n+=i.call(e,o,r).toString()}return n}if(!0===n.isStringVr(r))i=e.string(o);else{if("AT"===r){var s=e.uint32(o);if(void 0===s)return;return 0>s&&(s=4294967295+s+1),"x"+s.toString(16).toUpperCase()}"US"===r?i=a(t.length/2,e.uint16):"SS"===r?i=a(t.length/2,e.int16):"UL"===r?i=a(t.length/4,e.uint32):"SL"===r?i=a(t.length/4,e.int32):"FD"===r?i=a(t.length/8,e.double):"FL"===r&&(i=a(t.length/4,e.float))}return i};var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e){Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t.default=e,t}(i(25))},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,i){if(a||(a=!0,console&&console.log&&console.log("WARNING: dicomParser.readEncapsulatedPixelData() has been deprecated")),void 0===e)throw"dicomParser.readEncapsulatedPixelData: missing required parameter 'dataSet'";if(void 0===t)throw"dicomParser.readEncapsulatedPixelData: missing required parameter 'element'";if(void 0===i)throw"dicomParser.readEncapsulatedPixelData: missing required parameter 'frame'";if("x7fe00010"!==t.tag)throw"dicomParser.readEncapsulatedPixelData: parameter 'element' refers to non pixel data tag (expected tag = x7fe00010)";if(!0!==t.encapsulatedPixelData)throw"dicomParser.readEncapsulatedPixelData: parameter 'element' refers to pixel data element that does not have encapsulated pixel data";if(!0!==t.hadUndefinedLength)throw"dicomParser.readEncapsulatedPixelData: parameter 'element' refers to pixel data element that does not have encapsulated pixel data";if(void 0===t.basicOffsetTable)throw"dicomParser.readEncapsulatedPixelData: parameter 'element' refers to pixel data element that does not have encapsulated pixel data";if(void 0===t.fragments)throw"dicomParser.readEncapsulatedPixelData: parameter 'element' refers to pixel data element that does not have encapsulated pixel data";if(0>i)throw"dicomParser.readEncapsulatedPixelData: parameter 'frame' must be >= 0";return 0!==t.basicOffsetTable.length?(0,n.default)(e,t,i):(0,r.default)(e,t,0,t.fragments.length)};var n=o(i(26)),r=o(i(17));function o(e){return e&&e.__esModule?e:{default:e}}var a=!1},function(e,t,i){"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(e,t,i){"use strict";var n=i(8),r=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(e,t,i,l,c,h,u,f){var d,p,_,m,b,y,g,v,A,w=f.bits,x=0,k=0,I=0,S=0,E=0,C=0,B=0,M=0,P=0,T=0,D=null,R=0,G=new n.Buf16(16),O=new n.Buf16(16),F=null,L=0;for(x=0;15>=x;x++){G[x]=0}for(k=0;k<l;k++){G[t[i+k]]++}for(E=w,S=15;1<=S&&0===G[S];S--){;}if(E>S&&(E=S),0===S)return c[h++]=20971520,c[h++]=20971520,f.bits=1,0;for(I=1;I<S&&0===G[I];I++){;}for(E<I&&(E=I),M=1,x=1;15>=x;x++){if(M<<=1,0>(M-=G[x]))return-1}if(0<M&&(0===e||1!==S))return-1;for(O[1]=0,x=1;15>x;x++){O[x+1]=O[x]+G[x]}for(k=0;k<l;k++){0!==t[i+k]&&(u[O[t[i+k]]++]=k)}if(0===e?(D=F=u,y=19):1===e?(D=r,R-=257,F=o,L-=257,y=256):(D=a,F=s,y=-1),T=0,k=0,x=I,b=h,C=E,B=0,_=-1,m=(P=1<<E)-1,1===e&&852<P||2===e&&592<P)return 1;for(;;){g=x-B,u[k]<y?(v=0,A=u[k]):u[k]>y?(v=F[L+u[k]],A=D[R+u[k]]):(v=96,A=0),d=1<<x-B,I=p=1<<C;do{c[b+(T>>B)+(p-=d)]=0|(g<<24|v<<16|A)}while(0!==p);for(d=1<<x-1;T&d;){d>>=1}if(0!==d?(T&=d-1,T+=d):T=0,k++,0==--G[x]){if(x===S)break;x=t[i+u[k]]}if(x>E&&(T&m)!==_){for(0===B&&(B=E),b+=I,M=1<<(C=x-B);C+B<S&&!(0>=(M-=G[C+B]));){C++,M<<=1}if(P+=1<<C,1===e&&852<P||2===e&&592<P)return 1;c[_=T&m]=0|(E<<24|C<<16|b-h)}}return 0!==T&&(c[b+T]=0|(x-B<<24|64<<16)),f.bits=E,0}},function(e,t,i){"use strict";e.exports=function(e,t){var i,n,r,o,a,s,l,c,h,u,f,d,p,_,m,b,y,g,v,A,w,x,k,I,S;i=e.state,n=e.next_in,I=e.input,r=n+(e.avail_in-5),o=e.next_out,S=e.output,a=o-(t-e.avail_out),s=o+(e.avail_out-257),l=i.dmax,c=i.wsize,h=i.whave,u=i.wnext,f=i.window,d=i.hold,p=i.bits,_=i.lencode,m=i.distcode,b=(1<<i.lenbits)-1,y=(1<<i.distbits)-1;e:do{15>p&&(d+=I[n++]<<p,p+=8,d+=I[n++]<<p,p+=8),g=_[d&b];t:for(;;){if(d>>>=v=g>>>24,p-=v,0==(v=255&g>>>16))S[o++]=65535&g;else{if(!(16&v)){if(0==(64&v)){g=_[(65535&g)+(d&(1<<v)-1)];continue t}if(32&v){i.mode=12;break e}e.msg="invalid literal/length code",i.mode=30;break e}A=65535&g,(v&=15)&&(p<v&&(d+=I[n++]<<p,p+=8),A+=d&(1<<v)-1,d>>>=v,p-=v),15>p&&(d+=I[n++]<<p,p+=8,d+=I[n++]<<p,p+=8),g=m[d&y];i:for(;;){if(d>>>=v=g>>>24,p-=v,!(16&(v=255&g>>>16))){if(0==(64&v)){g=m[(65535&g)+(d&(1<<v)-1)];continue i}e.msg="invalid distance code",i.mode=30;break e}if(w=65535&g,p<(v&=15)&&(d+=I[n++]<<p,(p+=8)<v&&(d+=I[n++]<<p,p+=8)),(w+=d&(1<<v)-1)>l){e.msg="invalid distance too far back",i.mode=30;break e}if(d>>>=v,p-=v,w>(v=o-a)){if((v=w-v)>h&&i.sane){e.msg="invalid distance too far back",i.mode=30;break e}if(x=0,k=f,0===u){if(x+=c-v,v<A){A-=v;do{S[o++]=f[x++]}while(--v);x=o-w,k=S}}else if(u<v){if(x+=c+u-v,(v-=u)<A){A-=v;do{S[o++]=f[x++]}while(--v);if(x=0,u<A){A-=v=u;do{S[o++]=f[x++]}while(--v);x=o-w,k=S}}}else if(x+=u-v,v<A){A-=v;do{S[o++]=f[x++]}while(--v);x=o-w,k=S}for(;2<A;){S[o++]=k[x++],S[o++]=k[x++],S[o++]=k[x++],A-=3}A&&(S[o++]=k[x++],1<A&&(S[o++]=k[x++]))}else{x=o-w;do{S[o++]=S[x++],S[o++]=S[x++],S[o++]=S[x++],A-=3}while(2<A);A&&(S[o++]=S[x++],1<A&&(S[o++]=S[x++]))}break}}break}}while(n<r&&o<s);n-=A=p>>3,d&=(1<<(p-=A<<3))-1,e.next_in=n,e.next_out=o,e.avail_in=n<r?r-n+5:5-(n-r),e.avail_out=o<s?s-o+257:257-(o-s),i.hold=d,i.bits=p}},function(e,t,i){"use strict";var n=i(8),r=i(28),o=i(27),a=i(47),s=i(46),l=1,c=2,h=0,u=-2,f=1,d=12,p=30,_=852,m=592;function b(e){return(255&e>>>24)+(65280&e>>>8)+((65280&e)<<8)+((255&e)<<24)}function y(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=f,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new n.Buf32(_),t.distcode=t.distdyn=new n.Buf32(m),t.sane=1,t.back=-1,h):u}function g(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,y(e)):u}function v(e,t){var i,n;return e&&e.state?(n=e.state,0>t?(i=0,t=-t):(i=1+(t>>4),48>t&&(t&=15)),t&&(8>t||15<t)?u:(null!==n.window&&n.wbits!==t&&(n.window=null),n.wrap=i,n.wbits=t,g(e))):u}function A(e,t){var i,r;return e?(r=new function(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new n.Buf16(320),this.work=new n.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0},e.state=r,r.window=null,(i=v(e,t))!==h&&(e.state=null),i):u}var w,x,k=!0;function I(e){if(k){var t;for(w=new n.Buf32(512),x=new n.Buf32(32),t=0;144>t;){e.lens[t++]=8}for(;256>t;){e.lens[t++]=9}for(;280>t;){e.lens[t++]=7}for(;288>t;){e.lens[t++]=8}for(s(l,e.lens,0,288,w,0,e.work,{bits:9}),t=0;32>t;){e.lens[t++]=5}s(c,e.lens,0,32,x,0,e.work,{bits:5}),k=!1}e.lencode=w,e.lenbits=9,e.distcode=x,e.distbits=5}function S(e,t,i,r){var o,a=e.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new n.Buf8(a.wsize)),r>=a.wsize?(n.arraySet(a.window,t,i-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):((o=a.wsize-a.wnext)>r&&(o=r),n.arraySet(a.window,t,i-r,o,a.wnext),(r-=o)?(n.arraySet(a.window,t,i-r,r,0),a.wnext=r,a.whave=a.wsize):(a.wnext+=o,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=o))),0}t.inflateReset=g,t.inflateReset2=v,t.inflateResetKeep=y,t.inflateInit=function(e){return A(e,15)},t.inflateInit2=A,t.inflate=function(e,t){var i,_,m,y,g,v,A,w,x,k,E,C,B,M,P,T,D,R,G,O,F,L,Z,H,N=0,z=new n.Buf8(4),V=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return u;(i=e.state).mode===d&&(i.mode=13),g=e.next_out,m=e.output,A=e.avail_out,y=e.next_in,_=e.input,v=e.avail_in,w=i.hold,x=i.bits,k=v,E=A,L=h;e:for(;;){switch(i.mode){case f:if(0===i.wrap){i.mode=13;break}for(;16>x;){if(0===v)break e;v--,w+=_[y++]<<x,x+=8}if(2&i.wrap&&35615===w){i.check=0,z[0]=255&w,z[1]=255&w>>>8,i.check=o(i.check,z,2,0),w=0,x=0,i.mode=2;break}if(i.flags=0,i.head&&(i.head.done=!1),!(1&i.wrap)||(((255&w)<<8)+(w>>8))%31){e.msg="incorrect header check",i.mode=p;break}if(8!=(15&w)){e.msg="unknown compression method",i.mode=p;break}if(x-=4,F=8+(15&(w>>>=4)),0===i.wbits)i.wbits=F;else if(F>i.wbits){e.msg="invalid window size",i.mode=p;break}i.dmax=1<<F,e.adler=i.check=1,i.mode=512&w?10:d,w=0,x=0;break;case 2:for(;16>x;){if(0===v)break e;v--,w+=_[y++]<<x,x+=8}if(i.flags=w,8!=(255&i.flags)){e.msg="unknown compression method",i.mode=p;break}if(57344&i.flags){e.msg="unknown header flags set",i.mode=p;break}i.head&&(i.head.text=1&w>>8),512&i.flags&&(z[0]=255&w,z[1]=255&w>>>8,i.check=o(i.check,z,2,0)),w=0,x=0,i.mode=3;case 3:for(;32>x;){if(0===v)break e;v--,w+=_[y++]<<x,x+=8}i.head&&(i.head.time=w),512&i.flags&&(z[0]=255&w,z[1]=255&w>>>8,z[2]=255&w>>>16,z[3]=255&w>>>24,i.check=o(i.check,z,4,0)),w=0,x=0,i.mode=4;case 4:for(;16>x;){if(0===v)break e;v--,w+=_[y++]<<x,x+=8}i.head&&(i.head.xflags=255&w,i.head.os=w>>8),512&i.flags&&(z[0]=255&w,z[1]=255&w>>>8,i.check=o(i.check,z,2,0)),w=0,x=0,i.mode=5;case 5:if(1024&i.flags){for(;16>x;){if(0===v)break e;v--,w+=_[y++]<<x,x+=8}i.length=w,i.head&&(i.head.extra_len=w),512&i.flags&&(z[0]=255&w,z[1]=255&w>>>8,i.check=o(i.check,z,2,0)),w=0,x=0}else i.head&&(i.head.extra=null);i.mode=6;case 6:if(1024&i.flags&&((C=i.length)>v&&(C=v),C&&(i.head&&(F=i.head.extra_len-i.length,i.head.extra||(i.head.extra=Array(i.head.extra_len)),n.arraySet(i.head.extra,_,y,C,F)),512&i.flags&&(i.check=o(i.check,_,C,y)),v-=C,y+=C,i.length-=C),i.length))break e;i.length=0,i.mode=7;case 7:if(2048&i.flags){if(0===v)break e;C=0;do{F=_[y+C++],i.head&&F&&65536>i.length&&(i.head.name+=_StringfromCharCode(F))}while(F&&C<v);if(512&i.flags&&(i.check=o(i.check,_,C,y)),v-=C,y+=C,F)break e}else i.head&&(i.head.name=null);i.length=0,i.mode=8;case 8:if(4096&i.flags){if(0===v)break e;C=0;do{F=_[y+C++],i.head&&F&&65536>i.length&&(i.head.comment+=_StringfromCharCode(F))}while(F&&C<v);if(512&i.flags&&(i.check=o(i.check,_,C,y)),v-=C,y+=C,F)break e}else i.head&&(i.head.comment=null);i.mode=9;case 9:if(512&i.flags){for(;16>x;){if(0===v)break e;v--,w+=_[y++]<<x,x+=8}if(w!==(65535&i.check)){e.msg="header crc mismatch",i.mode=p;break}w=0,x=0}i.head&&(i.head.hcrc=1&i.flags>>9,i.head.done=!0),e.adler=i.check=0,i.mode=d;break;case 10:for(;32>x;){if(0===v)break e;v--,w+=_[y++]<<x,x+=8}e.adler=i.check=b(w),w=0,x=0,i.mode=11;case 11:if(0===i.havedict)return e.next_out=g,e.avail_out=A,e.next_in=y,e.avail_in=v,i.hold=w,i.bits=x,2;e.adler=i.check=1,i.mode=d;case d:if(5===t||6===t)break e;case 13:if(i.last){w>>>=7&x,x-=7&x,i.mode=27;break}for(;3>x;){if(0===v)break e;v--,w+=_[y++]<<x,x+=8}switch(i.last=1&w,x-=1,3&(w>>>=1)){case 0:i.mode=14;break;case 1:if(I(i),i.mode=20,6===t){w>>>=2,x-=2;break e}break;case 2:i.mode=17;break;case 3:e.msg="invalid block type",i.mode=p;}w>>>=2,x-=2;break;case 14:for(w>>>=7&x,x-=7&x;32>x;){if(0===v)break e;v--,w+=_[y++]<<x,x+=8}if((65535&w)!=(65535^w>>>16)){e.msg="invalid stored block lengths",i.mode=p;break}if(i.length=65535&w,w=0,x=0,i.mode=15,6===t)break e;case 15:i.mode=16;case 16:if(C=i.length){if(C>v&&(C=v),C>A&&(C=A),0===C)break e;n.arraySet(m,_,y,C,g),v-=C,y+=C,A-=C,g+=C,i.length-=C;break}i.mode=d;break;case 17:for(;14>x;){if(0===v)break e;v--,w+=_[y++]<<x,x+=8}if(i.nlen=257+(31&w),w>>>=5,x-=5,i.ndist=1+(31&w),w>>>=5,x-=5,i.ncode=4+(15&w),w>>>=4,x-=4,286<i.nlen||30<i.ndist){e.msg="too many length or distance symbols",i.mode=p;break}i.have=0,i.mode=18;case 18:for(;i.have<i.ncode;){for(;3>x;){if(0===v)break e;v--,w+=_[y++]<<x,x+=8}i.lens[V[i.have++]]=7&w,w>>>=3,x-=3}for(;19>i.have;){i.lens[V[i.have++]]=0}if(i.lencode=i.lendyn,i.lenbits=7,Z={bits:i.lenbits},L=s(0,i.lens,0,19,i.lencode,0,i.work,Z),i.lenbits=Z.bits,L){e.msg="invalid code lengths set",i.mode=p;break}i.have=0,i.mode=19;case 19:for(;i.have<i.nlen+i.ndist;){for(;T=255&(N=i.lencode[w&(1<<i.lenbits)-1])>>>16,D=65535&N,!((P=N>>>24)<=x);){if(0===v)break e;v--,w+=_[y++]<<x,x+=8}if(16>D)w>>>=P,x-=P,i.lens[i.have++]=D;else{if(16===D){for(H=P+2;x<H;){if(0===v)break e;v--,w+=_[y++]<<x,x+=8}if(w>>>=P,x-=P,0===i.have){e.msg="invalid bit length repeat",i.mode=p;break}F=i.lens[i.have-1],C=3+(3&w),w>>>=2,x-=2}else if(17===D){for(H=P+3;x<H;){if(0===v)break e;v--,w+=_[y++]<<x,x+=8}x-=P,F=0,C=3+(7&(w>>>=P)),w>>>=3,x-=3}else{for(H=P+7;x<H;){if(0===v)break e;v--,w+=_[y++]<<x,x+=8}x-=P,F=0,C=11+(127&(w>>>=P)),w>>>=7,x-=7}if(i.have+C>i.nlen+i.ndist){e.msg="invalid bit length repeat",i.mode=p;break}for(;C--;){i.lens[i.have++]=F}}}if(i.mode===p)break;if(0===i.lens[256]){e.msg="invalid code -- missing end-of-block",i.mode=p;break}if(i.lenbits=9,Z={bits:i.lenbits},L=s(l,i.lens,0,i.nlen,i.lencode,0,i.work,Z),i.lenbits=Z.bits,L){e.msg="invalid literal/lengths set",i.mode=p;break}if(i.distbits=6,i.distcode=i.distdyn,Z={bits:i.distbits},L=s(c,i.lens,i.nlen,i.ndist,i.distcode,0,i.work,Z),i.distbits=Z.bits,L){e.msg="invalid distances set",i.mode=p;break}if(i.mode=20,6===t)break e;case 20:i.mode=21;case 21:if(6<=v&&258<=A){e.next_out=g,e.avail_out=A,e.next_in=y,e.avail_in=v,i.hold=w,i.bits=x,a(e,E),g=e.next_out,m=e.output,A=e.avail_out,y=e.next_in,_=e.input,v=e.avail_in,w=i.hold,x=i.bits,i.mode===d&&(i.back=-1);break}for(i.back=0;T=255&(N=i.lencode[w&(1<<i.lenbits)-1])>>>16,D=65535&N,!((P=N>>>24)<=x);){if(0===v)break e;v--,w+=_[y++]<<x,x+=8}if(T&&0==(240&T)){for(R=P,G=T,O=D;T=255&(N=i.lencode[O+((w&(1<<R+G)-1)>>R)])>>>16,D=65535&N,!(R+(P=N>>>24)<=x);){if(0===v)break e;v--,w+=_[y++]<<x,x+=8}w>>>=R,x-=R,i.back+=R}if(w>>>=P,x-=P,i.back+=P,i.length=D,0===T){i.mode=26;break}if(32&T){i.back=-1,i.mode=d;break}if(64&T){e.msg="invalid literal/length code",i.mode=p;break}i.extra=15&T,i.mode=22;case 22:if(i.extra){for(H=i.extra;x<H;){if(0===v)break e;v--,w+=_[y++]<<x,x+=8}i.length+=w&(1<<i.extra)-1,w>>>=i.extra,x-=i.extra,i.back+=i.extra}i.was=i.length,i.mode=23;case 23:for(;T=255&(N=i.distcode[w&(1<<i.distbits)-1])>>>16,D=65535&N,!((P=N>>>24)<=x);){if(0===v)break e;v--,w+=_[y++]<<x,x+=8}if(0==(240&T)){for(R=P,G=T,O=D;T=255&(N=i.distcode[O+((w&(1<<R+G)-1)>>R)])>>>16,D=65535&N,!(R+(P=N>>>24)<=x);){if(0===v)break e;v--,w+=_[y++]<<x,x+=8}w>>>=R,x-=R,i.back+=R}if(w>>>=P,x-=P,i.back+=P,64&T){e.msg="invalid distance code",i.mode=p;break}i.offset=D,i.extra=15&T,i.mode=24;case 24:if(i.extra){for(H=i.extra;x<H;){if(0===v)break e;v--,w+=_[y++]<<x,x+=8}i.offset+=w&(1<<i.extra)-1,w>>>=i.extra,x-=i.extra,i.back+=i.extra}if(i.offset>i.dmax){e.msg="invalid distance too far back",i.mode=p;break}i.mode=25;case 25:if(0===A)break e;if(C=E-A,i.offset>C){if((C=i.offset-C)>i.whave&&i.sane){e.msg="invalid distance too far back",i.mode=p;break}C>i.wnext?(C-=i.wnext,B=i.wsize-C):B=i.wnext-C,C>i.length&&(C=i.length),M=i.window}else M=m,B=g-i.offset,C=i.length;C>A&&(C=A),A-=C,i.length-=C;do{m[g++]=M[B++]}while(--C);0===i.length&&(i.mode=21);break;case 26:if(0===A)break e;m[g++]=i.length,A--,i.mode=21;break;case 27:if(i.wrap){for(;32>x;){if(0===v)break e;v--,w|=_[y++]<<x,x+=8}if(E-=A,e.total_out+=E,i.total+=E,E&&(e.adler=i.check=i.flags?o(i.check,m,E,g-E):r(i.check,m,E,g-E)),E=A,(i.flags?w:b(w))!==i.check){e.msg="incorrect data check",i.mode=p;break}w=0,x=0}i.mode=28;case 28:if(i.wrap&&i.flags){for(;32>x;){if(0===v)break e;v--,w+=_[y++]<<x,x+=8}if(w!==(4294967295&i.total)){e.msg="incorrect length check",i.mode=p;break}w=0,x=0}i.mode=29;case 29:L=1;break e;case p:L=-3;break e;case 31:return-4;case 32:default:return u;}}return e.next_out=g,e.avail_out=A,e.next_in=y,e.avail_in=v,i.hold=w,i.bits=x,(i.wsize||E!==e.avail_out&&i.mode<p&&(27>i.mode||4!==t))&&S(e,e.output,e.next_out,E-e.avail_out)?(i.mode=31,-4):(k-=e.avail_in,E-=e.avail_out,e.total_in+=k,e.total_out+=E,i.total+=E,i.wrap&&E&&(e.adler=i.check=i.flags?o(i.check,m,E,e.next_out-E):r(i.check,m,E,e.next_out-E)),e.data_type=i.bits+(i.last?64:0)+(i.mode===d?128:0)+(20===i.mode||15===i.mode?256:0),(0===k&&0===E||4===t)&&L===h&&(L=-5),L)},t.inflateEnd=function(e){if(!e||!e.state)return u;var t=e.state;return t.window&&(t.window=null),e.state=null,h},t.inflateGetHeader=function(e,t){var i;return e&&e.state?0==(2&(i=e.state).wrap)?u:(i.head=t,t.done=!1,h):u},t.inflateSetDictionary=function(e,t){var i,n=t.length;return e&&e.state?0!==(i=e.state).wrap&&11!==i.mode?u:11===i.mode&&r(1,t,n,0)!==i.check?-3:S(e,t,n,n)?(i.mode=31,-4):(i.havedict=1,h):u},t.inflateInfo="pako inflate (from Nodeca project)"},function(e,t,i){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(e,t,i){"use strict";var n=i(8);function r(e){for(var t=e.length;0<=--t;){e[t]=0}}var o=0,a=256,s=a+1+29,l=30,c=19,h=2*s+1,u=15,f=16,d=256,p=16,_=17,m=18,b=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],y=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],g=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],v=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],A=Array(2*(s+2));r(A);var w=Array(2*l);r(w);var x=Array(512);r(x);var k=Array(256);r(k);var I=Array(29);r(I);var S,E,C,B=Array(l);function M(e,t,i,n,r){this.static_tree=e,this.extra_bits=t,this.extra_base=i,this.elems=n,this.max_length=r,this.has_stree=e&&e.length}function P(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function T(e){return 256>e?x[e]:x[256+(e>>>7)]}function D(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=255&t>>>8}function R(e,t,i){e.bi_valid>f-i?(e.bi_buf|=65535&t<<e.bi_valid,D(e,e.bi_buf),e.bi_buf=t>>f-e.bi_valid,e.bi_valid+=i-f):(e.bi_buf|=65535&t<<e.bi_valid,e.bi_valid+=i)}function G(e,t,i){R(e,i[2*t],i[2*t+1])}function O(e,t){var i=0;do{i|=1&e,e>>>=1,i<<=1}while(0<--t);return i>>>1}function F(e,t,i){var n,r,o=Array(u+1),a=0;for(n=1;n<=u;n++){o[n]=a=a+i[n-1]<<1}for(r=0;r<=t;r++){var s=e[2*r+1];0!==s&&(e[2*r]=O(o[s]++,s))}}function L(e){var t;for(t=0;t<s;t++){e.dyn_ltree[2*t]=0}for(t=0;t<l;t++){e.dyn_dtree[2*t]=0}for(t=0;t<c;t++){e.bl_tree[2*t]=0}e.dyn_ltree[2*d]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function Z(e){8<e.bi_valid?D(e,e.bi_buf):0<e.bi_valid&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function H(e,t,i,n){var r=2*t,o=2*i;return e[r]<e[o]||e[r]===e[o]&&n[t]<=n[i]}function N(e,t,i){for(var n=e.heap[i],r=i<<1;r<=e.heap_len&&(r<e.heap_len&&H(t,e.heap[r+1],e.heap[r],e.depth)&&r++,!H(t,n,e.heap[r],e.depth));){e.heap[i]=e.heap[r],i=r,r<<=1}e.heap[i]=n}function z(e,t,i){var n,r,o,s,l=0;if(0!==e.last_lit)do{n=e.pending_buf[e.d_buf+2*l]<<8|e.pending_buf[e.d_buf+2*l+1],r=e.pending_buf[e.l_buf+l],l++,0===n?G(e,r,t):(G(e,(o=k[r])+a+1,t),0!==(s=b[o])&&R(e,r-=I[o],s),G(e,o=T(--n),i),0!==(s=y[o])&&R(e,n-=B[o],s))}while(l<e.last_lit);G(e,d,t)}function V(e,t){var i,n,r,o=t.dyn_tree,a=t.stat_desc.static_tree,s=t.stat_desc.has_stree,l=t.stat_desc.elems,c=-1;for(e.heap_len=0,e.heap_max=h,i=0;i<l;i++){0!==o[2*i]?(e.heap[++e.heap_len]=c=i,e.depth[i]=0):o[2*i+1]=0}for(;2>e.heap_len;){o[2*(r=e.heap[++e.heap_len]=2>c?++c:0)]=1,e.depth[r]=0,e.opt_len--,s&&(e.static_len-=a[2*r+1])}for(t.max_code=c,i=e.heap_len>>1;1<=i;i--){N(e,o,i)}r=l;do{i=e.heap[1],e.heap[1]=e.heap[e.heap_len--],N(e,o,1),n=e.heap[1],e.heap[--e.heap_max]=i,e.heap[--e.heap_max]=n,o[2*r]=o[2*i]+o[2*n],e.depth[r]=(e.depth[i]>=e.depth[n]?e.depth[i]:e.depth[n])+1,o[2*i+1]=o[2*n+1]=r,e.heap[1]=r++,N(e,o,1)}while(2<=e.heap_len);e.heap[--e.heap_max]=e.heap[1],function(e,t){var i,n,r,o,a,s,l=t.dyn_tree,c=t.max_code,f=t.stat_desc.static_tree,d=t.stat_desc.has_stree,p=t.stat_desc.extra_bits,_=t.stat_desc.extra_base,m=t.stat_desc.max_length,b=0;for(o=0;o<=u;o++){e.bl_count[o]=0}for(l[2*e.heap[e.heap_max]+1]=0,i=e.heap_max+1;i<h;i++){(o=l[2*l[2*(n=e.heap[i])+1]+1]+1)>m&&(o=m,b++),l[2*n+1]=o,n>c||(e.bl_count[o]++,a=0,n>=_&&(a=p[n-_]),s=l[2*n],e.opt_len+=s*(o+a),d&&(e.static_len+=s*(f[2*n+1]+a)))}if(0!==b){do{for(o=m-1;0===e.bl_count[o];){o--}e.bl_count[o]--,e.bl_count[o+1]+=2,e.bl_count[m]--,b-=2}while(0<b);for(o=m;0!==o;o--){for(n=e.bl_count[o];0!==n;){(r=e.heap[--i])>c||(l[2*r+1]!==o&&(e.opt_len+=(o-l[2*r+1])*l[2*r],l[2*r+1]=o),n--)}}}}(e,t),F(o,c,e.bl_count)}function U(e,t,i){var n,r,o=-1,a=t[1],s=0,l=7,c=4;for(0===a&&(l=138,c=3),t[2*(i+1)+1]=65535,n=0;n<=i;n++){r=a,a=t[2*(n+1)+1],++s<l&&r===a||(s<c?e.bl_tree[2*r]+=s:0!==r?(r!==o&&e.bl_tree[2*r]++,e.bl_tree[2*p]++):10>=s?e.bl_tree[2*_]++:e.bl_tree[2*m]++,s=0,o=r,0===a?(l=138,c=3):r===a?(l=6,c=3):(l=7,c=4))}}function j(e,t,i){var n,r,o=-1,a=t[1],s=0,l=7,c=4;for(0===a&&(l=138,c=3),n=0;n<=i;n++){if(r=a,a=t[2*(n+1)+1],!(++s<l&&r===a)){if(s<c)do{G(e,r,e.bl_tree)}while(0!=--s);else 0!==r?(r!==o&&(G(e,r,e.bl_tree),s--),G(e,p,e.bl_tree),R(e,s-3,2)):10>=s?(G(e,_,e.bl_tree),R(e,s-3,3)):(G(e,m,e.bl_tree),R(e,s-11,7));s=0,o=r,0===a?(l=138,c=3):r===a?(l=6,c=3):(l=7,c=4)}}}r(B);var W=!1;function Y(e,t,i,r){R(e,(o<<1)+(r?1:0),3),function(e,t,i,r){Z(e),D(e,i),D(e,~i),n.arraySet(e.pending_buf,e.window,t,i,e.pending),e.pending+=i}(e,t,i)}t._tr_init=function(e){W||(function(){var e,t,i,n,r,o=Array(u+1);for(i=0,n=0;28>n;n++){for(I[n]=i,e=0;e<1<<b[n];e++){k[i++]=n}}for(k[i-1]=n,r=0,n=0;16>n;n++){for(B[n]=r,e=0;e<1<<y[n];e++){x[r++]=n}}for(r>>=7;n<l;n++){for(B[n]=r<<7,e=0;e<1<<y[n]-7;e++){x[256+r++]=n}}for(t=0;t<=u;t++){o[t]=0}for(e=0;143>=e;){A[2*e+1]=8,e++,o[8]++}for(;255>=e;){A[2*e+1]=9,e++,o[9]++}for(;279>=e;){A[2*e+1]=7,e++,o[7]++}for(;287>=e;){A[2*e+1]=8,e++,o[8]++}for(F(A,s+1,o),e=0;e<l;e++){w[2*e+1]=5,w[2*e]=O(e,5)}S=new M(A,b,a+1,s,u),E=new M(w,y,0,l,u),C=new M([],g,0,c,7)}(),W=!0),e.l_desc=new P(e.dyn_ltree,S),e.d_desc=new P(e.dyn_dtree,E),e.bl_desc=new P(e.bl_tree,C),e.bi_buf=0,e.bi_valid=0,L(e)},t._tr_stored_block=Y,t._tr_flush_block=function(e,t,i,n){var r,o,s=0;0<e.level?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,i=4093624447;for(t=0;31>=t;t++,i>>>=1){if(1&i&&0!==e.dyn_ltree[2*t])return 0}if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<a;t++){if(0!==e.dyn_ltree[2*t])return 1}return 0}(e)),V(e,e.l_desc),V(e,e.d_desc),s=function(e){var t;for(U(e,e.dyn_ltree,e.l_desc.max_code),U(e,e.dyn_dtree,e.d_desc.max_code),V(e,e.bl_desc),t=c-1;3<=t&&0===e.bl_tree[2*v[t]+1];t--){;}return e.opt_len+=3*(t+1)+5+5+4,t}(e),r=e.opt_len+3+7>>>3,(o=e.static_len+3+7>>>3)<=r&&(r=o)):r=o=i+5,i+4<=r&&-1!==t?Y(e,t,i,n):4===e.strategy||o===r?(R(e,2+(n?1:0),3),z(e,A,w)):(R(e,4+(n?1:0),3),function(e,t,i,n){var r;for(R(e,t-257,5),R(e,i-1,5),R(e,n-4,4),r=0;r<n;r++){R(e,e.bl_tree[2*v[r]+1],3)}j(e,e.dyn_ltree,t-1),j(e,e.dyn_dtree,i-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,s+1),z(e,e.dyn_ltree,e.dyn_dtree)),L(e),n&&Z(e)},t._tr_tally=function(e,t,i){return e.pending_buf[e.d_buf+2*e.last_lit]=255&t>>>8,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&i,e.last_lit++,0===t?e.dyn_ltree[2*i]++:(e.matches++,t--,e.dyn_ltree[2*(k[i]+a+1)]++,e.dyn_dtree[2*T(t)]++),e.last_lit===e.lit_bufsize-1},t._tr_align=function(e){R(e,2,3),G(e,d,A),function(e){16===e.bi_valid?(D(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):8<=e.bi_valid&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},function(e,t,i){"use strict";var n,r=i(8),o=i(50),a=i(28),s=i(27),l=i(49),c=0,h=4,u=0,f=-2,d=-1,p=1,_=4,m=2,b=8,y=9,g=286,v=30,A=19,w=2*g+1,x=15,k=3,I=258,S=I+k+1,E=42,C=103,B=113,M=666,P=1,T=2,D=3,R=4;function G(e,t){return e.msg=l[t],t}function O(e){return(e<<1)-(4<e?9:0)}function F(e){for(var t=e.length;0<=--t;){e[t]=0}}function L(e){var t=e.state,i=t.pending;i>e.avail_out&&(i=e.avail_out),0!==i&&(r.arraySet(e.output,t.pending_buf,t.pending_out,i,e.next_out),e.next_out+=i,t.pending_out+=i,e.total_out+=i,e.avail_out-=i,t.pending-=i,0===t.pending&&(t.pending_out=0))}function Z(e,t){o._tr_flush_block(e,0<=e.block_start?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,L(e.strm)}function H(e,t){e.pending_buf[e.pending++]=t}function N(e,t){e.pending_buf[e.pending++]=255&t>>>8,e.pending_buf[e.pending++]=255&t}function z(e,t){var i,n,r=e.max_chain_length,o=e.strstart,a=e.prev_length,s=e.nice_match,l=e.strstart>e.w_size-S?e.strstart-(e.w_size-S):0,c=e.window,h=e.w_mask,u=e.prev,f=e.strstart+I,d=c[o+a-1],p=c[o+a];e.prev_length>=e.good_match&&(r>>=2),s>e.lookahead&&(s=e.lookahead);do{if(c[(i=t)+a]===p&&c[i+a-1]===d&&c[i]===c[o]&&c[++i]===c[o+1]){o+=2,i++;do{}while(c[++o]===c[++i]&&c[++o]===c[++i]&&c[++o]===c[++i]&&c[++o]===c[++i]&&c[++o]===c[++i]&&c[++o]===c[++i]&&c[++o]===c[++i]&&c[++o]===c[++i]&&o<f);if(n=I-(f-o),o=f-I,n>a){if(e.match_start=t,a=n,n>=s)break;d=c[o+a-1],p=c[o+a]}}}while((t=u[t&h])>l&&0!=--r);return a<=e.lookahead?a:e.lookahead}function V(e){var t,i,n,o,l,c,h,u,f,d,p=e.w_size;do{if(o=e.window_size-e.lookahead-e.strstart,e.strstart>=p+(p-S)){r.arraySet(e.window,e.window,p,p,0),e.match_start-=p,e.strstart-=p,e.block_start-=p,t=i=e.hash_size;do{n=e.head[--t],e.head[t]=n>=p?n-p:0}while(--i);t=i=p;do{n=e.prev[--t],e.prev[t]=n>=p?n-p:0}while(--i);o+=p}if(0===e.strm.avail_in)break;if(c=e.strm,h=e.window,u=e.strstart+e.lookahead,f=o,d=void 0,(d=c.avail_in)>f&&(d=f),i=0===d?0:(c.avail_in-=d,r.arraySet(h,c.input,c.next_in,d,u),1===c.state.wrap?c.adler=a(c.adler,h,d,u):2===c.state.wrap&&(c.adler=s(c.adler,h,d,u)),c.next_in+=d,c.total_in+=d,d),e.lookahead+=i,e.lookahead+e.insert>=k)for(l=e.strstart-e.insert,e.ins_h=e.window[l],e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+k-1])&e.hash_mask,e.prev[l&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=l,l++,e.insert--,!(e.lookahead+e.insert<k));){;}}while(e.lookahead<S&&0!==e.strm.avail_in)}function U(e,t){for(var i,n;;){if(e.lookahead<S){if(V(e),e.lookahead<S&&t===c)return P;if(0===e.lookahead)break}if(i=0,e.lookahead>=k&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+k-1])&e.hash_mask,i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==i&&e.strstart-i<=e.w_size-S&&(e.match_length=z(e,i)),e.match_length>=k){if(n=o._tr_tally(e,e.strstart-e.match_start,e.match_length-k),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=k){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+k-1])&e.hash_mask,i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;}else n=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(Z(e,!1),0===e.strm.avail_out))return P}return e.insert=e.strstart<k-1?e.strstart:k-1,t===h?(Z(e,!0),0===e.strm.avail_out?D:R):e.last_lit&&(Z(e,!1),0===e.strm.avail_out)?P:T}function j(e,t){for(var i,n,r;;){if(e.lookahead<S){if(V(e),e.lookahead<S&&t===c)return P;if(0===e.lookahead)break}if(i=0,e.lookahead>=k&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+k-1])&e.hash_mask,i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=k-1,0!==i&&e.prev_length<e.max_lazy_match&&e.strstart-i<=e.w_size-S&&(e.match_length=z(e,i),5>=e.match_length&&(e.strategy===p||e.match_length===k&&4096<e.strstart-e.match_start)&&(e.match_length=k-1)),e.prev_length>=k&&e.match_length<=e.prev_length){r=e.strstart+e.lookahead-k,n=o._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-k),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=r&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+k-1])&e.hash_mask,i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=k-1,e.strstart++,n&&(Z(e,!1),0===e.strm.avail_out))return P}else if(e.match_available){if((n=o._tr_tally(e,0,e.window[e.strstart-1]))&&Z(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return P}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=o._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<k-1?e.strstart:k-1,t===h?(Z(e,!0),0===e.strm.avail_out?D:R):e.last_lit&&(Z(e,!1),0===e.strm.avail_out)?P:T}function W(e,t,i,n,r){this.good_length=e,this.max_lazy=t,this.nice_length=i,this.max_chain=n,this.func=r}function Y(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=m,(t=e.state).pending=0,t.pending_out=0,0>t.wrap&&(t.wrap=-t.wrap),t.status=t.wrap?E:B,e.adler=2===t.wrap?0:1,t.last_flush=c,o._tr_init(t),u):G(e,f)}function X(e){var t,i=Y(e);return i===u&&((t=e.state).window_size=2*t.w_size,F(t.head),t.max_lazy_match=n[t.level].max_lazy,t.good_match=n[t.level].good_length,t.nice_match=n[t.level].nice_length,t.max_chain_length=n[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=k-1,t.match_available=0,t.ins_h=0),i}function Q(e,t,i,n,o,a){if(!e)return f;var s=1;if(t===d&&(t=6),0>n?(s=0,n=-n):15<n&&(s=2,n-=16),1>o||o>y||i!==b||8>n||15<n||0>t||9<t||0>a||a>_)return G(e,f);8===n&&(n=9);var l=new function(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=b,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new r.Buf16(2*w),this.dyn_dtree=new r.Buf16(2*(2*v+1)),this.bl_tree=new r.Buf16(2*(2*A+1)),F(this.dyn_ltree),F(this.dyn_dtree),F(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new r.Buf16(x+1),this.heap=new r.Buf16(2*g+1),F(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new r.Buf16(2*g+1),F(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0};return e.state=l,l.strm=e,l.wrap=s,l.gzhead=null,l.w_bits=n,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=o+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+k-1)/k),l.window=new r.Buf8(2*l.w_size),l.head=new r.Buf16(l.hash_size),l.prev=new r.Buf16(l.w_size),l.lit_bufsize=1<<o+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new r.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=t,l.strategy=a,l.method=i,X(e)}n=[new W(0,0,0,0,function(e,t){var i=65535;for(i>e.pending_buf_size-5&&(i=e.pending_buf_size-5);;){if(1>=e.lookahead){if(V(e),0===e.lookahead&&t===c)return P;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var n=e.block_start+i;if((0===e.strstart||e.strstart>=n)&&(e.lookahead=e.strstart-n,e.strstart=n,Z(e,!1),0===e.strm.avail_out))return P;if(e.strstart-e.block_start>=e.w_size-S&&(Z(e,!1),0===e.strm.avail_out))return P}return e.insert=0,t===h?(Z(e,!0),0===e.strm.avail_out?D:R):(e.strstart>e.block_start&&(Z(e,!1),e.strm.avail_out),P)}),new W(4,4,8,4,U),new W(4,5,16,8,U),new W(4,6,32,32,U),new W(4,4,16,16,j),new W(8,16,32,32,j),new W(8,16,128,128,j),new W(8,32,128,256,j),new W(32,128,258,1024,j),new W(32,258,258,4096,j)],t.deflateInit=function(e,t){return Q(e,t,b,15,8,0)},t.deflateInit2=Q,t.deflateReset=X,t.deflateResetKeep=Y,t.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?f:(e.state.gzhead=t,u):f},t.deflate=function(e,t){var i,r,a,l;if(!e||!e.state||5<t||0>t)return e?G(e,f):f;if(r=e.state,!e.output||!e.input&&0!==e.avail_in||r.status===M&&t!==h)return G(e,0===e.avail_out?-5:f);if(r.strm=e,i=r.last_flush,r.last_flush=t,r.status===E)if(2===r.wrap)e.adler=0,H(r,31),H(r,139),H(r,8),r.gzhead?(H(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),H(r,255&r.gzhead.time),H(r,255&r.gzhead.time>>8),H(r,255&r.gzhead.time>>16),H(r,255&r.gzhead.time>>24),H(r,9===r.level?2:2<=r.strategy||2>r.level?4:0),H(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(H(r,255&r.gzhead.extra.length),H(r,255&r.gzhead.extra.length>>8)),r.gzhead.hcrc&&(e.adler=s(e.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=69):(H(r,0),H(r,0),H(r,0),H(r,0),H(r,0),H(r,9===r.level?2:2<=r.strategy||2>r.level?4:0),H(r,3),r.status=B);else{var d=b+(r.w_bits-8<<4)<<8;d|=(2<=r.strategy||2>r.level?0:6>r.level?1:6===r.level?2:3)<<6,0!==r.strstart&&(d|=32),d+=31-d%31,r.status=B,N(r,d),0!==r.strstart&&(N(r,e.adler>>>16),N(r,65535&e.adler)),e.adler=1}if(69===r.status)if(r.gzhead.extra){for(a=r.pending;r.gzindex<(65535&r.gzhead.extra.length)&&(r.pending!==r.pending_buf_size||(r.gzhead.hcrc&&r.pending>a&&(e.adler=s(e.adler,r.pending_buf,r.pending-a,a)),L(e),a=r.pending,r.pending!==r.pending_buf_size));){H(r,255&r.gzhead.extra[r.gzindex]),r.gzindex++}r.gzhead.hcrc&&r.pending>a&&(e.adler=s(e.adler,r.pending_buf,r.pending-a,a)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=73)}else r.status=73;if(73===r.status)if(r.gzhead.name){a=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>a&&(e.adler=s(e.adler,r.pending_buf,r.pending-a,a)),L(e),a=r.pending,r.pending===r.pending_buf_size)){l=1;break}l=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,H(r,l)}while(0!==l);r.gzhead.hcrc&&r.pending>a&&(e.adler=s(e.adler,r.pending_buf,r.pending-a,a)),0===l&&(r.gzindex=0,r.status=91)}else r.status=91;if(91===r.status)if(r.gzhead.comment){a=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>a&&(e.adler=s(e.adler,r.pending_buf,r.pending-a,a)),L(e),a=r.pending,r.pending===r.pending_buf_size)){l=1;break}l=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,H(r,l)}while(0!==l);r.gzhead.hcrc&&r.pending>a&&(e.adler=s(e.adler,r.pending_buf,r.pending-a,a)),0===l&&(r.status=C)}else r.status=C;if(r.status===C&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&L(e),r.pending+2<=r.pending_buf_size&&(H(r,255&e.adler),H(r,255&e.adler>>8),e.adler=0,r.status=B)):r.status=B),0!==r.pending){if(L(e),0===e.avail_out)return r.last_flush=-1,u}else if(0===e.avail_in&&O(t)<=O(i)&&t!==h)return G(e,-5);if(r.status===M&&0!==e.avail_in)return G(e,-5);if(0!==e.avail_in||0!==r.lookahead||t!==c&&r.status!==M){var p=2===r.strategy?function(e,t){for(var i;;){if(0===e.lookahead&&(V(e),0===e.lookahead)){if(t===c)return P;break}if(e.match_length=0,i=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,i&&(Z(e,!1),0===e.strm.avail_out))return P}return e.insert=0,t===h?(Z(e,!0),0===e.strm.avail_out?D:R):e.last_lit&&(Z(e,!1),0===e.strm.avail_out)?P:T}(r,t):3===r.strategy?function(e,t){for(var i,n,r,a,s=e.window;;){if(e.lookahead<=I){if(V(e),e.lookahead<=I&&t===c)return P;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=k&&0<e.strstart&&(n=s[r=e.strstart-1])===s[++r]&&n===s[++r]&&n===s[++r]){a=e.strstart+I;do{}while(n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&r<a);e.match_length=I-(a-r),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=k?(i=o._tr_tally(e,1,e.match_length-k),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(i=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),i&&(Z(e,!1),0===e.strm.avail_out))return P}return e.insert=0,t===h?(Z(e,!0),0===e.strm.avail_out?D:R):e.last_lit&&(Z(e,!1),0===e.strm.avail_out)?P:T}(r,t):n[r.level].func(r,t);if(p!==D&&p!==R||(r.status=M),p===P||p===D)return 0===e.avail_out&&(r.last_flush=-1),u;if(p===T&&(1===t?o._tr_align(r):5!==t&&(o._tr_stored_block(r,0,0,!1),3===t&&(F(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),L(e),0===e.avail_out))return r.last_flush=-1,u}return t!==h?u:0>=r.wrap?1:(2===r.wrap?(H(r,255&e.adler),H(r,255&e.adler>>8),H(r,255&e.adler>>16),H(r,255&e.adler>>24),H(r,255&e.total_in),H(r,255&e.total_in>>8),H(r,255&e.total_in>>16),H(r,255&e.total_in>>24)):(N(r,e.adler>>>16),N(r,65535&e.adler)),L(e),0<r.wrap&&(r.wrap=-r.wrap),0!==r.pending?u:1)},t.deflateEnd=function(e){var t;return e&&e.state?(t=e.state.status)!==E&&69!==t&&73!==t&&91!==t&&t!==C&&t!==B&&t!==M?G(e,f):(e.state=null,t===B?G(e,-3):u):f},t.deflateSetDictionary=function(e,t){var i,n,o,s,l,c,h,d,p=t.length;if(!e||!e.state)return f;if(2===(s=(i=e.state).wrap)||1===s&&i.status!==E||i.lookahead)return f;for(1===s&&(e.adler=a(e.adler,t,p,0)),i.wrap=0,p>=i.w_size&&(0===s&&(F(i.head),i.strstart=0,i.block_start=0,i.insert=0),d=new r.Buf8(i.w_size),r.arraySet(d,t,p-i.w_size,i.w_size,0),t=d,p=i.w_size),l=e.avail_in,c=e.next_in,h=e.input,e.avail_in=p,e.next_in=0,e.input=t,V(i);i.lookahead>=k;){n=i.strstart,o=i.lookahead-(k-1);do{i.ins_h=(i.ins_h<<i.hash_shift^i.window[n+k-1])&i.hash_mask,i.prev[n&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=n,n++}while(--o);i.strstart=n,i.lookahead=k-1,V(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=k-1,i.match_available=0,e.next_in=c,e.input=h,e.avail_in=l,i.wrap=s,u},t.deflateInfo="pako deflate (from Nodeca project)"},function(e,t,i){"use strict";e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var i=function i(){};i.prototype=t.prototype,e.prototype=new i,e.prototype.constructor=e}},function(e,t){e.exports=function(e){return e&&"object"==babelHelpers.typeof(e)&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},function(e,t,i){"use strict";(function(e,n){var r=i(30),o=i(52),a=i(51),s=i(48),l=i(45);for(var c in l){t[c]=l[c]}function h(e){if("number"!=typeof e||e<t.DEFLATE||e>t.UNZIP)throw new TypeError("Bad argument");this.dictionary=null,this.err=0,this.flush=0,this.init_done=!1,this.level=0,this.memLevel=0,this.mode=e,this.strategy=0,this.windowBits=0,this.write_in_progress=!1,this.pending_close=!1,this.gzip_id_bytes_read=0}t.NONE=0,t.DEFLATE=1,t.INFLATE=2,t.GZIP=3,t.GUNZIP=4,t.DEFLATERAW=5,t.INFLATERAW=6,t.UNZIP=7,h.prototype.close=function(){this.write_in_progress?this.pending_close=!0:(this.pending_close=!1,r(this.init_done,"close before init"),r(this.mode<=t.UNZIP),this.mode===t.DEFLATE||this.mode===t.GZIP||this.mode===t.DEFLATERAW?a.deflateEnd(this.strm):this.mode!==t.INFLATE&&this.mode!==t.GUNZIP&&this.mode!==t.INFLATERAW&&this.mode!==t.UNZIP||s.inflateEnd(this.strm),this.mode=t.NONE,this.dictionary=null)},h.prototype.write=function(e,t,i,n,r,o,a){return this._write(!0,e,t,i,n,r,o,a)},h.prototype.writeSync=function(e,t,i,n,r,o,a){return this._write(!1,e,t,i,n,r,o,a)},h.prototype._write=function(i,o,a,s,l,c,h,u){if(r.equal(arguments.length,8),r(this.init_done,"write before init"),r(this.mode!==t.NONE,"already finalized"),r.equal(!1,this.write_in_progress,"write already in progress"),r.equal(!1,this.pending_close,"close is pending"),this.write_in_progress=!0,r.equal(!1,void 0===o,"must provide flush value"),this.write_in_progress=!0,o!==t.Z_NO_FLUSH&&o!==t.Z_PARTIAL_FLUSH&&o!==t.Z_SYNC_FLUSH&&o!==t.Z_FULL_FLUSH&&o!==t.Z_FINISH&&o!==t.Z_BLOCK)throw new Error("Invalid flush value");if(null==a&&(a=e.alloc(0),l=0,s=0),this.strm.avail_in=l,this.strm.input=a,this.strm.next_in=s,this.strm.avail_out=u,this.strm.output=c,this.strm.next_out=h,this.flush=o,!i)return this._process(),this._checkError()?this._afterSync():void 0;var f=this;return n.nextTick(function(){f._process(),f._after()}),this},h.prototype._afterSync=function(){var e=this.strm.avail_out,t=this.strm.avail_in;return this.write_in_progress=!1,[t,e]},h.prototype._process=function(){var e=null;switch(this.mode){case t.DEFLATE:case t.GZIP:case t.DEFLATERAW:this.err=a.deflate(this.strm,this.flush);break;case t.UNZIP:switch(0<this.strm.avail_in&&(e=this.strm.next_in),this.gzip_id_bytes_read){case 0:if(null===e)break;if(31!==this.strm.input[e]){this.mode=t.INFLATE;break}if(this.gzip_id_bytes_read=1,e++,1===this.strm.avail_in)break;case 1:if(null===e)break;139===this.strm.input[e]?(this.gzip_id_bytes_read=2,this.mode=t.GUNZIP):this.mode=t.INFLATE;break;default:throw new Error("invalid number of gzip magic number bytes read");}case t.INFLATE:case t.GUNZIP:case t.INFLATERAW:for(this.err=s.inflate(this.strm,this.flush),this.err===t.Z_NEED_DICT&&this.dictionary&&(this.err=s.inflateSetDictionary(this.strm,this.dictionary),this.err===t.Z_OK?this.err=s.inflate(this.strm,this.flush):this.err===t.Z_DATA_ERROR&&(this.err=t.Z_NEED_DICT));0<this.strm.avail_in&&this.mode===t.GUNZIP&&this.err===t.Z_STREAM_END&&0!==this.strm.next_in[0];){this.reset(),this.err=s.inflate(this.strm,this.flush)}break;default:throw new Error("Unknown mode "+this.mode);}},h.prototype._checkError=function(){switch(this.err){case t.Z_OK:case t.Z_BUF_ERROR:if(0!==this.strm.avail_out&&this.flush===t.Z_FINISH)return this._error("unexpected end of file"),!1;break;case t.Z_STREAM_END:break;case t.Z_NEED_DICT:return null==this.dictionary?this._error("Missing dictionary"):this._error("Bad dictionary"),!1;default:return this._error("Zlib error"),!1;}return!0},h.prototype._after=function(){if(this._checkError()){var e=this.strm.avail_out,t=this.strm.avail_in;this.write_in_progress=!1,this.callback(t,e),this.pending_close&&this.close()}},h.prototype._error=function(e){this.strm.msg&&(e=this.strm.msg),this.onerror(e,this.err),this.write_in_progress=!1,this.pending_close&&this.close()},h.prototype.init=function(e,i,n,o,a){r(4===arguments.length||5===arguments.length,"init(windowBits, level, memLevel, strategy, [dictionary])"),r(8<=e&&15>=e,"invalid windowBits"),r(-1<=i&&9>=i,"invalid compression level"),r(1<=n&&9>=n,"invalid memlevel"),r(o===t.Z_FILTERED||o===t.Z_HUFFMAN_ONLY||o===t.Z_RLE||o===t.Z_FIXED||o===t.Z_DEFAULT_STRATEGY,"invalid strategy"),this._init(i,e,n,o,a),this._setDictionary()},h.prototype.params=function(){throw new Error("deflateParams Not supported")},h.prototype.reset=function(){this._reset(),this._setDictionary()},h.prototype._init=function(e,i,n,r,l){switch(this.level=e,this.windowBits=i,this.memLevel=n,this.strategy=r,this.flush=t.Z_NO_FLUSH,this.err=t.Z_OK,this.mode!==t.GZIP&&this.mode!==t.GUNZIP||(this.windowBits+=16),this.mode===t.UNZIP&&(this.windowBits+=32),this.mode!==t.DEFLATERAW&&this.mode!==t.INFLATERAW||(this.windowBits=-1*this.windowBits),this.strm=new o,this.mode){case t.DEFLATE:case t.GZIP:case t.DEFLATERAW:this.err=a.deflateInit2(this.strm,this.level,t.Z_DEFLATED,this.windowBits,this.memLevel,this.strategy);break;case t.INFLATE:case t.GUNZIP:case t.INFLATERAW:case t.UNZIP:this.err=s.inflateInit2(this.strm,this.windowBits);break;default:throw new Error("Unknown mode "+this.mode);}this.err!==t.Z_OK&&this._error("Init error"),this.dictionary=l,this.write_in_progress=!1,this.init_done=!0},h.prototype._setDictionary=function(){if(null!=this.dictionary){switch(this.err=t.Z_OK,this.mode){case t.DEFLATE:case t.DEFLATERAW:this.err=a.deflateSetDictionary(this.strm,this.dictionary);}this.err!==t.Z_OK&&this._error("Failed to set dictionary")}},h.prototype._reset=function(){switch(this.err=t.Z_OK,this.mode){case t.DEFLATE:case t.DEFLATERAW:case t.GZIP:this.err=a.deflateReset(this.strm);break;case t.INFLATE:case t.INFLATERAW:case t.GUNZIP:this.err=s.inflateReset(this.strm);}this.err!==t.Z_OK&&this._error("Failed to reset stream")},t.Zlib=h}).call(this,i(1).Buffer,i(3))},function(e,t,i){e.exports=i(19).PassThrough},function(e,t,i){e.exports=i(19).Transform},function(e,t,i){e.exports=i(2)},function(e,t,i){e.exports=i(18)},function(e,t,i){"use strict";e.exports=o;var n=i(31),r=i(6);function o(e){if(!babelHelpers.instanceof(this,o))return new o(e);n.call(this,e)}r.inherits=i(5),r.inherits(o,n),o.prototype._transform=function(e,t,i){i(null,e)}},function(e,t,i){(function(t){function i(e){try{if(!t.localStorage)return!1}catch(e){return!1}var i=t.localStorage[e];return null!=i&&"true"===(i+"").toLowerCase()}e.exports=function(e,t){if(i("noDeprecation"))return e;var n=!1;return function(){if(!n){if(i("throwDeprecation"))throw new Error(t);i("traceDeprecation")?console.trace(t):console.warn(t),n=!0}return e.apply(this,arguments)}}}).call(this,i(0))},function(e,t,i){(function(e,t){!function(e,i){"use strict";if(!e.setImmediate){var n,r,o,a,s,l=1,c={},h=!1,u=e.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(e);f=f&&f.setTimeout?f:e,"[object process]"==={}.toString.call(e.process)?n=function n(e){t.nextTick(function(){p(e)})}:function(){if(e.postMessage&&!e.importScripts){var t=!0,i=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=i,t}}()?(a="setImmediate$"+Math.random()+"$",s=function s(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(a)&&p(+t.data.slice(a.length))},e.addEventListener?e.addEventListener("message",s,!1):e.attachEvent("onmessage",s),n=function n(t){e.postMessage(a+t,"*")}):e.MessageChannel?((o=new MessageChannel).port1.onmessage=function(e){p(e.data)},n=function n(e){o.port2.postMessage(e)}):u&&"onreadystatechange"in u.createElement("script")?(r=u.documentElement,n=function n(e){var t=u.createElement("script");t.onreadystatechange=function(){p(e),t.onreadystatechange=null,r.removeChild(t),t=null},r.appendChild(t)}):n=function n(e){setTimeout(p,0,e)},f.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=Array(arguments.length-1),i=0;i<t.length;i++){t[i]=arguments[i+1]}var r={callback:e,args:t};return c[l]=r,n(l),l++},f.clearImmediate=d}function d(e){delete c[e]}function p(e){if(h)setTimeout(p,0,e);else{var t=c[e];if(t){h=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(i,n);}}(t)}finally{d(e),h=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,i(0),i(3))},function(e,t,i){(function(e){var n=Function.prototype.apply;function r(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new r(n.call(setTimeout,window,arguments),clearTimeout)},t.setInterval=function(){return new r(n.call(setInterval,window,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(window,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;0<=t&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},i(62),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,i(0))},function(e,t){},function(e,t,i){"use strict";var n=i(9).Buffer,r=i(64);e.exports=function(){function e(){!function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};0<this.length?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,i=""+t.data;t=t.next;){i+=e+t.data}return i},e.prototype.concat=function(e){if(0===this.length)return n.alloc(0);if(1===this.length)return this.head.data;for(var t,i,r,o=n.allocUnsafe(e>>>0),a=this.head,s=0;a;){t=a.data,i=o,r=s,t.copy(i,r),s+=a.data.length,a=a.next}return o},e}(),r&&r.inspect&&r.inspect.custom&&(e.exports.prototype[r.inspect.custom]=function(){var e=r.inspect({length:this.length});return this.constructor.name+" "+e})},function(e,t){},function(e,t,i){e.exports=r;var n=i(20).EventEmitter;function r(){n.call(this)}i(5)(r,n),r.Readable=i(19),r.Writable=i(59),r.Duplex=i(58),r.Transform=i(57),r.PassThrough=i(56),r.Stream=r,r.prototype.pipe=function(e,t){var i=this;function r(t){e.writable&&!1===e.write(t)&&i.pause&&i.pause()}function o(){i.readable&&i.resume&&i.resume()}i.on("data",r),e.on("drain",o),e._isStdio||t&&!1===t.end||(i.on("end",s),i.on("close",l));var a=!1;function s(){a||(a=!0,e.end())}function l(){a||(a=!0,"function"==typeof e.destroy&&e.destroy())}function c(e){if(h(),0===n.listenerCount(this,"error"))throw e}function h(){i.removeListener("data",r),e.removeListener("drain",o),i.removeListener("end",s),i.removeListener("close",l),i.removeListener("error",c),e.removeListener("error",c),i.removeListener("end",h),i.removeListener("close",h),e.removeListener("close",h)}return i.on("error",c),e.on("error",c),i.on("end",h),i.on("close",h),e.on("close",h),e.emit("pipe",i),e}},function(e,t,i){"use strict";(function(e){var n=i(1).Buffer,r=i(67).Transform,o=i(55),a=i(29),s=i(30).ok,l=i(1).kMaxLength,c="Cannot create final Buffer. It would be larger than 0x"+l.toString(16)+" bytes";o.Z_MIN_WINDOWBITS=8,o.Z_MAX_WINDOWBITS=15,o.Z_DEFAULT_WINDOWBITS=15,o.Z_MIN_CHUNK=64,o.Z_MAX_CHUNK=1/0,o.Z_DEFAULT_CHUNK=16384,o.Z_MIN_MEMLEVEL=1,o.Z_MAX_MEMLEVEL=9,o.Z_DEFAULT_MEMLEVEL=8,o.Z_MIN_LEVEL=-1,o.Z_MAX_LEVEL=9,o.Z_DEFAULT_LEVEL=o.Z_DEFAULT_COMPRESSION;for(var h=Object.keys(o),u=0,f;u<h.length;u++){f=h[u];f.match(/^Z/)&&Object.defineProperty(t,f,{enumerable:!0,value:o[f],writable:!1})}for(var d={Z_OK:o.Z_OK,Z_STREAM_END:o.Z_STREAM_END,Z_NEED_DICT:o.Z_NEED_DICT,Z_ERRNO:o.Z_ERRNO,Z_STREAM_ERROR:o.Z_STREAM_ERROR,Z_DATA_ERROR:o.Z_DATA_ERROR,Z_MEM_ERROR:o.Z_MEM_ERROR,Z_BUF_ERROR:o.Z_BUF_ERROR,Z_VERSION_ERROR:o.Z_VERSION_ERROR},p=Object.keys(d),_=0,m;_<p.length;_++){m=p[_];d[d[m]]=m}function b(e,t,i){var r=[],o=0;function a(){for(var t;null!==(t=e.read());){r.push(t),o+=t.length}e.once("readable",a)}function s(){var t,a=null;o>=l?a=new RangeError(c):t=n.concat(r,o),r=[],e.close(),i(a,t)}e.on("error",function(t){e.removeListener("end",s),e.removeListener("readable",a),i(t)}),e.on("end",s),e.end(t),a()}function y(e,t){if("string"==typeof t&&(t=n.from(t)),!n.isBuffer(t))throw new TypeError("Not a string or buffer");var i=e._finishFlushFlag;return e._processChunk(t,i)}function g(e){if(!babelHelpers.instanceof(this,g))return new g(e);E.call(this,e,o.DEFLATE)}function v(e){if(!babelHelpers.instanceof(this,v))return new v(e);E.call(this,e,o.INFLATE)}function A(e){if(!babelHelpers.instanceof(this,A))return new A(e);E.call(this,e,o.GZIP)}function w(e){if(!babelHelpers.instanceof(this,w))return new w(e);E.call(this,e,o.GUNZIP)}function x(e){if(!babelHelpers.instanceof(this,x))return new x(e);E.call(this,e,o.DEFLATERAW)}function k(e){if(!babelHelpers.instanceof(this,k))return new k(e);E.call(this,e,o.INFLATERAW)}function I(e){if(!babelHelpers.instanceof(this,I))return new I(e);E.call(this,e,o.UNZIP)}function S(e){return e===o.Z_NO_FLUSH||e===o.Z_PARTIAL_FLUSH||e===o.Z_SYNC_FLUSH||e===o.Z_FULL_FLUSH||e===o.Z_FINISH||e===o.Z_BLOCK}function E(e,i){var a=this;if(this._opts=e=e||{},this._chunkSize=e.chunkSize||t.Z_DEFAULT_CHUNK,r.call(this,e),e.flush&&!S(e.flush))throw new Error("Invalid flush flag: "+e.flush);if(e.finishFlush&&!S(e.finishFlush))throw new Error("Invalid flush flag: "+e.finishFlush);if(this._flushFlag=e.flush||o.Z_NO_FLUSH,this._finishFlushFlag=void 0!==e.finishFlush?e.finishFlush:o.Z_FINISH,e.chunkSize&&(e.chunkSize<t.Z_MIN_CHUNK||e.chunkSize>t.Z_MAX_CHUNK))throw new Error("Invalid chunk size: "+e.chunkSize);if(e.windowBits&&(e.windowBits<t.Z_MIN_WINDOWBITS||e.windowBits>t.Z_MAX_WINDOWBITS))throw new Error("Invalid windowBits: "+e.windowBits);if(e.level&&(e.level<t.Z_MIN_LEVEL||e.level>t.Z_MAX_LEVEL))throw new Error("Invalid compression level: "+e.level);if(e.memLevel&&(e.memLevel<t.Z_MIN_MEMLEVEL||e.memLevel>t.Z_MAX_MEMLEVEL))throw new Error("Invalid memLevel: "+e.memLevel);if(e.strategy&&e.strategy!=t.Z_FILTERED&&e.strategy!=t.Z_HUFFMAN_ONLY&&e.strategy!=t.Z_RLE&&e.strategy!=t.Z_FIXED&&e.strategy!=t.Z_DEFAULT_STRATEGY)throw new Error("Invalid strategy: "+e.strategy);if(e.dictionary&&!n.isBuffer(e.dictionary))throw new Error("Invalid dictionary: it should be a Buffer instance");this._handle=new o.Zlib(i);var s=this;this._hadError=!1,this._handle.onerror=function(e,i){C(s),s._hadError=!0;var n=new Error(e);n.errno=i,n.code=t.codes[i],s.emit("error",n)};var l=t.Z_DEFAULT_COMPRESSION;"number"==typeof e.level&&(l=e.level);var c=t.Z_DEFAULT_STRATEGY;"number"==typeof e.strategy&&(c=e.strategy),this._handle.init(e.windowBits||t.Z_DEFAULT_WINDOWBITS,l,e.memLevel||t.Z_DEFAULT_MEMLEVEL,c,e.dictionary),this._buffer=n.allocUnsafe(this._chunkSize),this._offset=0,this._level=l,this._strategy=c,this.once("end",this.close),Object.defineProperty(this,"_closed",{get:function get(){return!a._handle},configurable:!0,enumerable:!0})}function C(t,i){i&&e.nextTick(i),t._handle&&(t._handle.close(),t._handle=null)}function B(e){e.emit("close")}Object.defineProperty(t,"codes",{enumerable:!0,value:Object.freeze(d),writable:!1}),t.Deflate=g,t.Inflate=v,t.Gzip=A,t.Gunzip=w,t.DeflateRaw=x,t.InflateRaw=k,t.Unzip=I,t.createDeflate=function(e){return new g(e)},t.createInflate=function(e){return new v(e)},t.createDeflateRaw=function(e){return new x(e)},t.createInflateRaw=function(e){return new k(e)},t.createGzip=function(e){return new A(e)},t.createGunzip=function(e){return new w(e)},t.createUnzip=function(e){return new I(e)},t.deflate=function(e,t,i){return"function"==typeof t&&(i=t,t={}),b(new g(t),e,i)},t.deflateSync=function(e,t){return y(new g(t),e)},t.gzip=function(e,t,i){return"function"==typeof t&&(i=t,t={}),b(new A(t),e,i)},t.gzipSync=function(e,t){return y(new A(t),e)},t.deflateRaw=function(e,t,i){return"function"==typeof t&&(i=t,t={}),b(new x(t),e,i)},t.deflateRawSync=function(e,t){return y(new x(t),e)},t.unzip=function(e,t,i){return"function"==typeof t&&(i=t,t={}),b(new I(t),e,i)},t.unzipSync=function(e,t){return y(new I(t),e)},t.inflate=function(e,t,i){return"function"==typeof t&&(i=t,t={}),b(new v(t),e,i)},t.inflateSync=function(e,t){return y(new v(t),e)},t.gunzip=function(e,t,i){return"function"==typeof t&&(i=t,t={}),b(new w(t),e,i)},t.gunzipSync=function(e,t){return y(new w(t),e)},t.inflateRaw=function(e,t,i){return"function"==typeof t&&(i=t,t={}),b(new k(t),e,i)},t.inflateRawSync=function(e,t){return y(new k(t),e)},a.inherits(E,r),E.prototype.params=function(i,n,r){if(i<t.Z_MIN_LEVEL||i>t.Z_MAX_LEVEL)throw new RangeError("Invalid compression level: "+i);if(n!=t.Z_FILTERED&&n!=t.Z_HUFFMAN_ONLY&&n!=t.Z_RLE&&n!=t.Z_FIXED&&n!=t.Z_DEFAULT_STRATEGY)throw new TypeError("Invalid strategy: "+n);if(this._level!==i||this._strategy!==n){var a=this;this.flush(o.Z_SYNC_FLUSH,function(){s(a._handle,"zlib binding closed"),a._handle.params(i,n),a._hadError||(a._level=i,a._strategy=n,r&&r())})}else e.nextTick(r)},E.prototype.reset=function(){return s(this._handle,"zlib binding closed"),this._handle.reset()},E.prototype._flush=function(e){this._transform(n.alloc(0),"",e)},E.prototype.flush=function(t,i){var r=this,a=this._writableState;"function"!=typeof t&&(void 0!==t||i)||(i=t,t=o.Z_FULL_FLUSH),a.ended?i&&e.nextTick(i):a.ending?i&&this.once("end",i):a.needDrain?i&&this.once("drain",function(){return r.flush(t,i)}):(this._flushFlag=t,this.write(n.alloc(0),"",i))},E.prototype.close=function(t){C(this,t),e.nextTick(B,this)},E.prototype._transform=function(e,t,i){var r,a=this._writableState,s=(a.ending||a.ended)&&(!e||a.length===e.length);return null===e||n.isBuffer(e)?this._handle?(s?r=this._finishFlushFlag:(r=this._flushFlag,e.length>=a.length&&(this._flushFlag=this._opts.flush||o.Z_NO_FLUSH)),void this._processChunk(e,r,i)):i(new Error("zlib binding closed")):i(new Error("invalid input"))},E.prototype._processChunk=function(e,t,i){var r=e&&e.length,o=this._chunkSize-this._offset,a=0,h=this,u="function"==typeof i;if(!u){var f,d=[],p=0;this.on("error",function(e){f=e}),s(this._handle,"zlib binding closed");do{var _=this._handle.writeSync(t,e,a,r,this._buffer,this._offset,o)}while(!this._hadError&&y(_[0],_[1]));if(this._hadError)throw f;if(p>=l)throw C(this),new RangeError(c);var m=n.concat(d,p);return C(this),m}s(this._handle,"zlib binding closed");var b=this._handle.write(t,e,a,r,this._buffer,this._offset,o);function y(l,c){if(this&&(this.buffer=null,this.callback=null),!h._hadError){var f=o-c;if(s(0<=f,"have should not go down"),0<f){var _=h._buffer.slice(h._offset,h._offset+f);h._offset+=f,u?h.push(_):(d.push(_),p+=_.length)}if((0===c||h._offset>=h._chunkSize)&&(o=h._chunkSize,h._offset=0,h._buffer=n.allocUnsafe(h._chunkSize)),0===c){if(a+=r-l,r=l,!u)return!0;var m=h._handle.write(t,e,a,r,h._buffer,h._offset,h._chunkSize);return m.callback=y,void(m.buffer=e)}if(!u)return!1;i()}}b.buffer=e,b.callback=y},a.inherits(g,E),a.inherits(v,E),a.inherits(A,E),a.inherits(w,E),a.inherits(x,E),a.inherits(k,E),a.inherits(I,E)}).call(this,i(3))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function get(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function get(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(t,f){if(void 0===t)throw"dicomParser.parseDicom: missing required parameter 'byteArray'";return d=(0,l.default)(t,f),p=function(l){var d=function(e){if(void 0===e.elements.x00020010)throw"dicomParser.parseDicom: missing required meta header attribute 0002,0010";var i=e.elements.x00020010;return h.readFixedString(t,i.dataOffset,i.length)}(l),p=function(e){return"1.2.840.10008.1.2"!==e}(d),_=function(a,l){if("1.2.840.10008.1.2.1.99"===a){if(f&&f.inflater){var h=f.inflater(t,l);return new o.default(s.default,h,0)}if(void 0!==e&&this.module!==e){var u=i(68),d=(0,c.default)(t,l,t.length-l),p=u.inflateRawSync(d),_=(0,n.default)(t,p.length+l);return t.copy(_,0,0,l),p.copy(_,l),new o.default(s.default,_,0)}if("undefined"!=typeof pako){var m=t.slice(l),b=pako.inflateRaw(m),y=(0,n.default)(t,b.length+l);return y.set(t.slice(0,l),0),y.set(b,l),new o.default(s.default,y,0)}throw"dicomParser.parseDicom: no inflater available to handle deflate transfer syntax"}return"1.2.840.10008.1.2.2"===a?new o.default(r.default,t,l):new o.default(s.default,t,l)}(d,l.position),m=new a.default(_.byteArrayParser,_.byteArray,{});m.warnings=_.warnings;try{p?u.parseDicomDataSetExplicit(m,_,_.byteArray.length,f):u.parseDicomDataSetImplicit(m,_,_.byteArray.length,f)}catch(e){var b={exception:e,dataSet:m};throw b}return m}(d),function(e,t){for(var i in e.elements){e.elements.hasOwnProperty(i)&&(t.elements[i]=e.elements[i])}return void 0!==e.warnings&&(t.warnings=e.warnings.concat(t.warnings)),t}(d,p);var d,p};var n=d(i(22)),r=d(i(37)),o=d(i(12)),a=d(i(7)),s=d(i(21)),l=d(i(36)),c=d(i(11)),h=f(i(14)),u=f(i(16));function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e){Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t.default=e,t}function d(e){return e&&e.__esModule?e:{default:e}}}).call(this,i(69)(e))},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default="1.8.1"},function(e,t){t.read=function(e,t,i,n,r){var o,a,s=8*r-n-1,l=(1<<s)-1,c=l>>1,h=-7,u=i?r-1:0,f=i?-1:1,d=e[t+u];for(u+=f,o=d&(1<<-h)-1,d>>=-h,h+=s;0<h;o=256*o+e[t+u],u+=f,h-=8){;}for(a=o&(1<<-h)-1,o>>=-h,h+=n;0<h;a=256*a+e[t+u],u+=f,h-=8){;}if(0===o)o=1-c;else{if(o===l)return a?NaN:1/0*(d?-1:1);a+=_Mathpow(2,n),o-=c}return(d?-1:1)*a*_Mathpow(2,o-n)},t.write=function(e,t,i,n,r,o){var a,s,l,c=8*o-r-1,h=(1<<c)-1,u=h>>1,f=23===r?5.960464477539063e-8-6.617444900424222e-24:0,d=n?0:o-1,p=n?1:-1,_=0>t||0===t&&0>1/t?1:0;for(t=_Mathabs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=h):(a=_Mathfloor(_Mathlog(t)/_MathLN),1>t*(l=_Mathpow(2,-a))&&(a--,l*=2),2<=(t+=1<=a+u?f/l:f*_Mathpow(2,1-u))*l&&(a++,l/=2),a+u>=h?(s=0,a=h):1<=a+u?(s=(t*l-1)*_Mathpow(2,r),a+=u):(s=t*_Mathpow(2,u-1)*_Mathpow(2,r),a=0));8<=r;e[i+d]=255&s,d+=p,s/=256,r-=8){;}for(a=a<<r|s,c+=r;0<c;e[i+d]=255&a,d+=p,a/=256,c-=8){;}e[i+d-p]|=128*_}},function(e,t,i){"use strict";t.byteLength=function(e){return 3*e.length/4-c(e)},t.toByteArray=function(e){var t,i,n,a,s,l=e.length;a=c(e),s=new o(3*l/4-a),i=0<a?l-4:l;var h=0;for(t=0;t<i;t+=4){n=r[e.charCodeAt(t)]<<18|r[e.charCodeAt(t+1)]<<12|r[e.charCodeAt(t+2)]<<6|r[e.charCodeAt(t+3)],s[h++]=255&n>>16,s[h++]=255&n>>8,s[h++]=255&n}return 2===a?(n=r[e.charCodeAt(t)]<<2|r[e.charCodeAt(t+1)]>>4,s[h++]=255&n):1===a&&(n=r[e.charCodeAt(t)]<<10|r[e.charCodeAt(t+1)]<<4|r[e.charCodeAt(t+2)]>>2,s[h++]=255&n>>8,s[h++]=255&n),s},t.fromByteArray=function(e){for(var t,i=e.length,r=i%3,o="",a=[],s=0,l=i-r;s<l;s+=16383){a.push(h(e,s,s+16383>l?l:s+16383))}return 1===r?(t=e[i-1],o+=n[t>>2],o+=n[63&t<<4],o+="=="):2===r&&(t=(e[i-2]<<8)+e[i-1],o+=n[t>>10],o+=n[63&t>>4],o+=n[63&t<<2],o+="="),a.push(o),a.join("")};for(var n=[],r=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,l=a.length;s<l;++s){n[s]=a[s],r[a.charCodeAt(s)]=s}function c(e){var t=e.length;if(0<t%4)throw new Error("Invalid string. Length must be a multiple of 4");return"="===e[t-2]?2:"="===e[t-1]?1:0}function h(e,t,i){for(var r,o,a=[],s=t;s<i;s+=3){r=(16711680&e[s]<<16)+(65280&e[s+1]<<8)+(255&e[s+2]),a.push(n[63&(o=r)>>18]+n[63&o>>12]+n[63&o>>6]+n[63&o])}return a.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},function(e,t,i){"use strict";function n(e,t){return 255===e.byteArray[t]&&217===e.byteArray[t+1]}function r(e,t,i){var r=t.fragments[i];return!(!n(e,r.position+r.length-2)&&!n(e,r.position+r.length-3))}function o(e,t,i){for(var n=i;n<t.fragments.length;n++){if(r(e,t,n))return n}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,i){if(void 0===e)throw"dicomParser.createJPEGBasicOffsetTable: missing required parameter dataSet";if(void 0===t)throw"dicomParser.createJPEGBasicOffsetTable: missing required parameter pixelDataElement";if("x7fe00010"!==t.tag)throw"dicomParser.createJPEGBasicOffsetTable: parameter 'pixelDataElement' refers to non pixel data tag (expected tag = x7fe00010'";if(!0!==t.encapsulatedPixelData)throw"dicomParser.createJPEGBasicOffsetTable: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data";if(!0!==t.hadUndefinedLength)throw"dicomParser.createJPEGBasicOffsetTable: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data";if(void 0===t.basicOffsetTable)throw"dicomParser.createJPEGBasicOffsetTable: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data";if(void 0===t.fragments)throw"dicomParser.createJPEGBasicOffsetTable: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data";if(0>=t.fragments.length)throw"dicomParser.createJPEGBasicOffsetTable: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data";if(i&&0>=i.length)throw"dicomParser.createJPEGBasicOffsetTable: parameter 'fragments' must not be zero length";i=i||t.fragments;for(var n=[],r=0;;){n.push(t.fragments[r].offset);var a=o(e,t,r);if(void 0===a||a===t.fragments.length-1)return n;r=a+1}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t,i){if(void 0===t)throw"dicomParser.explicitDataSetToJS: missing required parameter dataSet";i=i||{omitPrivateAttibutes:!0,maxElementLength:128};var n={};for(var r in t.elements){var s=t.elements[r];if(!0!==i.omitPrivateAttibutes||!a.isPrivateTag(r))if(s.items){for(var l=[],c=0;c<s.items.length;c++){l.push(e(s.items[c].dataSet,i))}n[r]=l}else{var h;h=void 0,s.length<i.maxElementLength&&(h=(0,o.default)(t,s)),n[r]=void 0!==h?h:{dataOffset:s.dataOffset,length:s.length}}}return n};var n,r=i(43),o=(n=r)&&n.__esModule?n:{default:n},a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e){Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t.default=e,t}(i(25))},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(e&&8===e.length){var i=parseInt(e.substring(0,4),10),n=parseInt(e.substring(4,6),10),r=parseInt(e.substring(6,8),10);if(t&&!0!==function(e,t,i){return!isNaN(i)&&0<t&&12>=t&&0<e&&e<=function(e,t){switch(e){case 2:return 0==t%4&&t%100||0==t%400?29:28;case 9:case 4:case 6:case 11:return 30;default:return 31;}}(t,i)}(r,n,i))throw"invalid DA '"+e+"'";return{year:i,month:n,day:r}}if(t)throw"invalid DA '"+e+"'"}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(2<=e.length){var i=parseInt(e.substring(0,2),10),n=4<=e.length?parseInt(e.substring(2,4),10):void 0,r=6<=e.length?parseInt(e.substring(4,6),10):void 0,o=8<=e.length?parseInt(e.substring(7,13),10):void 0;if(t&&(isNaN(i)||void 0!==n&&isNaN(n)||void 0!==r&&isNaN(r)||void 0!==o&&isNaN(o)||0>i||23<i||n&&(0>n||59<n)||r&&(0>r||59<r)||o&&(0>o||999999<o)))throw"invalid TM '"+e+"'";return{hours:i,minutes:n,seconds:r,fractionalSeconds:o}}if(t)throw"invalid TM '"+e+"'"}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(25);Object.keys(n).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function get(){return n[e]}})});var r=i(77);Object.defineProperty(t,"parseTM",{enumerable:!0,get:function get(){return c(r).default}});var o=i(76);Object.defineProperty(t,"parseDA",{enumerable:!0,get:function get(){return c(o).default}});var a=i(43);Object.defineProperty(t,"explicitElementToString",{enumerable:!0,get:function get(){return c(a).default}});var s=i(75);Object.defineProperty(t,"explicitDataSetToJS",{enumerable:!0,get:function get(){return c(s).default}});var l=i(74);function c(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"createJPEGBasicOffsetTable",{enumerable:!0,get:function get(){return c(l).default}})},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(78);Object.keys(n).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function get(){return n[e]}})});var r=i(16);Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function get(){return r[e]}})});var o=i(14);Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function get(){return o[e]}})});var a=i(22);Object.defineProperty(t,"alloc",{enumerable:!0,get:function get(){return E(a).default}});var s=i(71);Object.defineProperty(t,"version",{enumerable:!0,get:function get(){return E(s).default}});var l=i(37);Object.defineProperty(t,"bigEndianByteArrayParser",{enumerable:!0,get:function get(){return E(l).default}});var c=i(12);Object.defineProperty(t,"ByteStream",{enumerable:!0,get:function get(){return E(c).default}});var h=i(11);Object.defineProperty(t,"sharedCopy",{enumerable:!0,get:function get(){return E(h).default}});var u=i(7);Object.defineProperty(t,"DataSet",{enumerable:!0,get:function get(){return E(u).default}});var f=i(41);Object.defineProperty(t,"findAndSetUNElementLength",{enumerable:!0,get:function get(){return E(f).default}});var d=i(42);Object.defineProperty(t,"findEndOfEncapsulatedElement",{enumerable:!0,get:function get(){return E(d).default}});var p=i(24);Object.defineProperty(t,"findItemDelimitationItemAndSetElementLength",{enumerable:!0,get:function get(){return E(p).default}});var _=i(21);Object.defineProperty(t,"littleEndianByteArrayParser",{enumerable:!0,get:function get(){return E(_).default}});var m=i(70);Object.defineProperty(t,"parseDicom",{enumerable:!0,get:function get(){return E(m).default}});var b=i(15);Object.defineProperty(t,"readDicomElementExplicit",{enumerable:!0,get:function get(){return E(b).default}});var y=i(23);Object.defineProperty(t,"readDicomElementImplicit",{enumerable:!0,get:function get(){return E(y).default}});var g=i(26);Object.defineProperty(t,"readEncapsulatedImageFrame",{enumerable:!0,get:function get(){return E(g).default}});var v=i(44);Object.defineProperty(t,"readEncapsulatedPixelData",{enumerable:!0,get:function get(){return E(v).default}});var A=i(17);Object.defineProperty(t,"readEncapsulatedPixelDataFromFragments",{enumerable:!0,get:function get(){return E(A).default}});var w=i(36);Object.defineProperty(t,"readPart10Header",{enumerable:!0,get:function get(){return E(w).default}});var x=i(40);Object.defineProperty(t,"readSequenceItemsExplicit",{enumerable:!0,get:function get(){return E(x).default}});var k=i(39);Object.defineProperty(t,"readSequenceItemsImplicit",{enumerable:!0,get:function get(){return E(k).default}});var I=i(13);Object.defineProperty(t,"readSequenceItem",{enumerable:!0,get:function get(){return E(I).default}});var S=i(4);function E(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"readTag",{enumerable:!0,get:function get(){return E(S).default}})}])},function(e,t,i){"use strict";var n=n||{};n.lossless=n.lossless||{},n.lossless.ComponentSpec=n.lossless.ComponentSpec||i(90),n.lossless.DataStream=n.lossless.DataStream||i(11),n.lossless.Decoder=n.lossless.Decoder||i(149),n.lossless.FrameHeader=n.lossless.FrameHeader||i(95),n.lossless.HuffmanTable=n.lossless.HuffmanTable||i(91),n.lossless.QuantizationTable=n.lossless.QuantizationTable||i(92),n.lossless.ScanComponent=n.lossless.ScanComponent||i(94),n.lossless.ScanHeader=n.lossless.ScanHeader||i(93),n.lossless.Utils=n.lossless.Utils||i(26),"undefined"!==typeof e&&e.exports&&(e.exports=n)},function(e,t,i){"use strict";var n=n||{};n.lossless=n.lossless||{},n.lossless.DataStream=n.lossless.DataStream||i(11),n.lossless.HuffmanTable=n.lossless.HuffmanTable||i(91),n.lossless.QuantizationTable=n.lossless.QuantizationTable||i(92),n.lossless.ScanHeader=n.lossless.ScanHeader||i(93),n.lossless.FrameHeader=n.lossless.FrameHeader||i(95),n.lossless.Utils=n.lossless.Utils||i(26),n.lossless.Decoder=n.lossless.Decoder||function(e,t){this.buffer=e,this.frame=new n.lossless.FrameHeader,this.huffTable=new n.lossless.HuffmanTable,this.quantTable=new n.lossless.QuantizationTable,this.scan=new n.lossless.ScanHeader,this.DU=n.lossless.Utils.createArray(10,4,64),this.HuffTab=n.lossless.Utils.createArray(4,2,12800),this.IDCT_Source=[],this.nBlock=[],this.acTab=n.lossless.Utils.createArray(10,1),this.dcTab=n.lossless.Utils.createArray(10,1),this.qTab=n.lossless.Utils.createArray(10,1),this.marker=0,this.markerIndex=0,this.numComp=0,this.restartInterval=0,this.selection=0,this.xDim=0,this.yDim=0,this.xLoc=0,this.yLoc=0,this.numBytes=0,this.outputData=null,this.restarting=!1,this.mask=0,void 0!==t&&(this.numBytes=t)},n.lossless.Decoder.IDCT_P=[0,5,40,16,45,2,7,42,21,56,8,61,18,47,1,4,41,23,58,13,32,24,37,10,63,17,44,3,6,43,20,57,15,34,29,48,53,26,39,9,60,19,46,22,59,12,33,31,50,55,25,36,11,62,14,35,28,49,52,27,38,30,51,54],n.lossless.Decoder.TABLE=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],n.lossless.Decoder.MAX_HUFFMAN_SUBTREE=50,n.lossless.Decoder.MSB=2147483648,n.lossless.Decoder.RESTART_MARKER_BEGIN=65488,n.lossless.Decoder.RESTART_MARKER_END=65495,n.lossless.Decoder.prototype.decompress=function(e,t,i){return this.decode(e,t,i).buffer},n.lossless.Decoder.prototype.decode=function(e,t,i,r){var o,a,s,l,c=0,h=[],u=[],f=[];if(void 0!==e&&(this.buffer=e),void 0!==r&&(this.numBytes=r),this.stream=new n.lossless.DataStream(this.buffer,t,i),this.buffer=null,this.xLoc=0,this.yLoc=0,65496!==(o=this.stream.get16()))throw new Error("Not a JPEG file");for(o=this.stream.get16();4092!=o>>4||65476===o;){switch(o){case 65476:this.huffTable.read(this.stream,this.HuffTab);break;case 65484:throw new Error("Program doesn't support arithmetic coding. (format throw new IOException)");case 65499:this.quantTable.read(this.stream,n.lossless.Decoder.TABLE);break;case 65501:this.restartInterval=this.readNumber();break;case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:this.readApp();break;case 65534:this.readComment();break;default:if(255!=o>>8)throw new Error("ERROR: format throw new IOException! (decode)");}o=this.stream.get16()}if(65472>o||65479<o)throw new Error("ERROR: could not handle arithmetic code!");this.frame.read(this.stream),o=this.stream.get16();do{for(;65498!==o;){switch(o){case 65476:this.huffTable.read(this.stream,this.HuffTab);break;case 65484:throw new Error("Program doesn't support arithmetic coding. (format throw new IOException)");case 65499:this.quantTable.read(this.stream,n.lossless.Decoder.TABLE);break;case 65501:this.restartInterval=this.readNumber();break;case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:this.readApp();break;case 65534:this.readComment();break;default:if(255!=o>>8)throw new Error("ERROR: format throw new IOException! (Parser.decode)");}o=this.stream.get16()}switch(this.precision=this.frame.precision,this.components=this.frame.components,this.numBytes||(this.numBytes=parseInt(_Mathceil(this.precision/8))),1==this.numBytes?this.mask=255:this.mask=65535,this.scan.read(this.stream),this.numComp=this.scan.numComp,this.selection=this.scan.selection,1===this.numBytes?3===this.numComp?(this.getter=this.getValueRGB,this.setter=this.setValueRGB,this.output=this.outputRGB):(this.getter=this.getValue8,this.setter=this.setValue8,this.output=this.outputSingle):(this.getter=this.getValue16,this.setter=this.setValue16,this.output=this.outputSingle),this.selection){case 2:this.selector=this.select2;break;case 3:this.selector=this.select3;break;case 4:this.selector=this.select4;break;case 5:this.selector=this.select5;break;case 6:this.selector=this.select6;break;case 7:this.selector=this.select7;break;default:this.selector=this.select1;}for(this.scanComps=this.scan.components,this.quantTables=this.quantTable.quantTables,a=0;a<this.numComp;a+=1){s=this.scanComps[a].scanCompSel,this.qTab[a]=this.quantTables[this.components[s].quantTableSel],this.nBlock[a]=this.components[s].vSamp*this.components[s].hSamp,this.dcTab[a]=this.HuffTab[this.scanComps[a].dcTabSel][0],this.acTab[a]=this.HuffTab[this.scanComps[a].acTabSel][1]}for(this.xDim=this.frame.dimX,this.yDim=this.frame.dimY,this.outputData=new DataView(new ArrayBuffer(this.xDim*this.yDim*this.numBytes*this.numComp)),c+=1;;){for(u[0]=0,f[0]=0,a=0;10>a;a+=1){h[a]=1<<this.precision-1}if(0===this.restartInterval){for(o=this.decodeUnit(h,u,f);0===o&&this.xLoc<this.xDim&&this.yLoc<this.yDim;){this.output(h),o=this.decodeUnit(h,u,f)}break}for(l=0;l<this.restartInterval&&(this.restarting=0==l,o=this.decodeUnit(h,u,f),this.output(h),0===o);l+=1){;}if(0===o&&(0!==this.markerIndex?(o=65280|this.marker,this.markerIndex=0):o=this.stream.get16()),!(o>=n.lossless.Decoder.RESTART_MARKER_BEGIN&&o<=n.lossless.Decoder.RESTART_MARKER_END))break}65500===o&&1===c&&(this.readNumber(),o=this.stream.get16())}while(65497!==o&&this.xLoc<this.xDim&&this.yLoc<this.yDim&&0===c);return this.outputData},n.lossless.Decoder.prototype.decodeUnit=function(e,t,i){return 1==this.numComp?this.decodeSingle(e,t,i):3==this.numComp?this.decodeRGB(e,t,i):-1},n.lossless.Decoder.prototype.select1=function(e){return this.getPreviousX(e)},n.lossless.Decoder.prototype.select2=function(e){return this.getPreviousY(e)},n.lossless.Decoder.prototype.select3=function(e){return this.getPreviousXY(e)},n.lossless.Decoder.prototype.select4=function(e){return this.getPreviousX(e)+this.getPreviousY(e)-this.getPreviousXY(e)},n.lossless.Decoder.prototype.select5=function(e){return this.getPreviousX(e)+(this.getPreviousY(e)-this.getPreviousXY(e)>>1)},n.lossless.Decoder.prototype.select6=function(e){return this.getPreviousY(e)+(this.getPreviousX(e)-this.getPreviousXY(e)>>1)},n.lossless.Decoder.prototype.select7=function(e){return(this.getPreviousX(e)+this.getPreviousY(e))/2},n.lossless.Decoder.prototype.decodeRGB=function(e,t,i){var r,o,a,s,l,c,h,u;for(e[0]=this.selector(0),e[1]=this.selector(1),e[2]=this.selector(2),l=0;l<this.numComp;l+=1){for(s=this.qTab[l],o=this.acTab[l],a=this.dcTab[l],c=0;c<this.nBlock[l];c+=1){for(h=0;h<this.IDCT_Source.length;h+=1){this.IDCT_Source[h]=0}if(65280<=(r=this.getHuffmanValue(a,t,i)))return r;for(e[l]=this.IDCT_Source[0]=e[l]+this.getn(i,r,t,i),this.IDCT_Source[0]*=s[0],u=1;64>u;u+=1){if(65280<=(r=this.getHuffmanValue(o,t,i)))return r;if(u+=r>>4,0==(15&r)){if(0==r>>4)break}else this.IDCT_Source[n.lossless.Decoder.IDCT_P[u]]=this.getn(i,15&r,t,i)*s[u]}}}return 0},n.lossless.Decoder.prototype.decodeSingle=function(e,t,i){var r,o,a,s;for(this.restarting?(this.restarting=!1,e[0]=1<<this.frame.precision-1):e[0]=this.selector(),o=0;o<this.nBlock[0];o+=1){if(65280<=(r=this.getHuffmanValue(this.dcTab[0],t,i)))return r;if((s=(a=this.getn(e,r,t,i))>>8)>=n.lossless.Decoder.RESTART_MARKER_BEGIN&&s<=n.lossless.Decoder.RESTART_MARKER_END)return s;e[0]+=a}return 0},n.lossless.Decoder.prototype.getHuffmanValue=function(e,t,i){var r,o;if(65535,8>i[0]?(t[0]<<=8,255===(o=this.stream.get8())&&(this.marker=this.stream.get8(),0!==this.marker&&(this.markerIndex=9)),t[0]|=o):i[0]-=8,0!=((r=e[t[0]>>i[0]])&n.lossless.Decoder.MSB)){if(0!==this.markerIndex)return this.markerIndex=0,65280|this.marker;t[0]&=65535>>16-i[0],t[0]<<=8,255===(o=this.stream.get8())&&(this.marker=this.stream.get8(),0!==this.marker&&(this.markerIndex=9)),t[0]|=o,r=e[256*(255&r)+(t[0]>>i[0])],i[0]+=8}if(i[0]+=8-(r>>8),0>i[0])throw new Error("index="+i[0]+" temp="+t[0]+" code="+r+" in HuffmanValue()");return i[0]<this.markerIndex?(this.markerIndex=0,65280|this.marker):(t[0]&=65535>>16-i[0],255&r)},n.lossless.Decoder.prototype.getn=function(e,t,i,n){var r,o;if(1,-1,65535,0===t)return 0;if(16===t)return 0<=e[0]?-32768:32768;if(n[0]-=t,0<=n[0]){if(n[0]<this.markerIndex&&!this.isLastPixel())return this.markerIndex=0,(65280|this.marker)<<8;r=i[0]>>n[0],i[0]&=65535>>16-n[0]}else{if(i[0]<<=8,255===(o=this.stream.get8())&&(this.marker=this.stream.get8(),0!==this.marker&&(this.markerIndex=9)),i[0]|=o,n[0]+=8,0>n[0]){if(0!==this.markerIndex)return this.markerIndex=0,(65280|this.marker)<<8;i[0]<<=8,255===(o=this.stream.get8())&&(this.marker=this.stream.get8(),0!==this.marker&&(this.markerIndex=9)),i[0]|=o,n[0]+=8}if(0>n[0])throw new Error("index="+n[0]+" in getn()");if(n[0]<this.markerIndex)return this.markerIndex=0,(65280|this.marker)<<8;r=i[0]>>n[0],i[0]&=65535>>16-n[0]}return r<1<<t-1&&(r+=1+(-1<<t)),r},n.lossless.Decoder.prototype.getPreviousX=function(e){return 0<this.xLoc?this.getter(this.yLoc*this.xDim+this.xLoc-1,e):0<this.yLoc?this.getPreviousY(e):1<<this.frame.precision-1},n.lossless.Decoder.prototype.getPreviousXY=function(e){return 0<this.xLoc&&0<this.yLoc?this.getter((this.yLoc-1)*this.xDim+this.xLoc-1,e):this.getPreviousY(e)},n.lossless.Decoder.prototype.getPreviousY=function(e){return 0<this.yLoc?this.getter((this.yLoc-1)*this.xDim+this.xLoc,e):this.getPreviousX(e)},n.lossless.Decoder.prototype.isLastPixel=function(){return this.xLoc===this.xDim-1&&this.yLoc===this.yDim-1},n.lossless.Decoder.prototype.outputSingle=function(e){this.xLoc<this.xDim&&this.yLoc<this.yDim&&(this.setter(this.yLoc*this.xDim+this.xLoc,this.mask&e[0]),this.xLoc+=1,this.xLoc>=this.xDim&&(this.yLoc+=1,this.xLoc=0))},n.lossless.Decoder.prototype.outputRGB=function(e){var t=this.yLoc*this.xDim+this.xLoc;this.xLoc<this.xDim&&this.yLoc<this.yDim&&(this.setter(t,e[0],0),this.setter(t,e[1],1),this.setter(t,e[2],2),this.xLoc+=1,this.xLoc>=this.xDim&&(this.yLoc+=1,this.xLoc=0))},n.lossless.Decoder.prototype.setValue16=function(e,t){this.outputData.setInt16(2*e,t,!0)},n.lossless.Decoder.prototype.getValue16=function(e){return this.outputData.getInt16(2*e,!0)},n.lossless.Decoder.prototype.setValue8=function(e,t){this.outputData.setInt8(e,t)},n.lossless.Decoder.prototype.getValue8=function(e){return this.outputData.getInt8(e)},n.lossless.Decoder.prototype.setValueRGB=function(e,t,i){this.outputData.setUint8(3*e+i,t)},n.lossless.Decoder.prototype.getValueRGB=function(e,t){return this.outputData.getUint8(3*e+t)},n.lossless.Decoder.prototype.readApp=function(){var e=0,t=this.stream.get16();for(e+=2;e<t;){this.stream.get8(),e+=1}return t},n.lossless.Decoder.prototype.readComment=function(){var e,t="",i=0;for(e=this.stream.get16(),i+=2;i<e;){t+=this.stream.get8(),i+=1}return t},n.lossless.Decoder.prototype.readNumber=function(){if(4!==this.stream.get16())throw new Error("ERROR: Define number format throw new IOException [Ld!=4]");return this.stream.get16()},"undefined"!==typeof e&&e.exports&&(e.exports=n.lossless.Decoder)},function(e,t){var i={Unkown:0,Grayscale:1,AdobeRGB:2,RGB:3,CYMK:4},n=function(){"use strict";var e=new Int32Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),t=4017,n=799,r=3406,o=2276,a=1567,s=3784,l=5793,c=2896;function h(){}function u(e,t){for(var i,n,r=0,o=[],a=16;0<a&&!e[a-1];){a--}o.push({children:[],index:0});var s,l=o[0];for(i=0;i<a;i++){for(n=0;n<e[i];n++){for((l=o.pop()).children[l.index]=t[r];0<l.index;){l=o.pop()}for(l.index++,o.push(l);o.length<=i;){o.push(s={children:[],index:0}),l.children[l.index]=s.children,l=s}r++}i+1<a&&(o.push(s={children:[],index:0}),l.children[l.index]=s.children,l=s)}return o[0].children}function f(e,t,i){return 64*((e.blocksPerLine+1)*t+i)}function d(t,i,n,r,o,a,s,l,c){n.precision,n.samplesPerLine,n.scanLines;var h=n.mcusPerLine,u=n.progressive,d=(n.maxH,n.maxV,i),p=0,_=0;function m(){if(0<_)return 1&p>>--_;if(255==(p=t[i++])){var e=t[i++];if(e)throw"unexpected marker: "+(p<<8|e).toString(16)}return _=7,p>>>7}function b(e){for(var t,i=e;null!==(t=m());){if("number"==typeof(i=i[t]))return i;if("object"!=babelHelpers.typeof(i))throw"invalid huffman sequence"}return null}function y(e){for(var t=0,i;0<e;){i=m();if(null===i)return;t=t<<1|i,e--}return t}function g(e){var t=y(e);return t>=1<<e-1?t:t+(-1<<e)+1}var v=0,A,w=0;function x(e,t,i,n,r){var o=i%h;t(e,f(e,(0|i/h)*e.v+n,o*e.h+r))}function k(e,t,i){t(e,f(e,0|i/e.blocksPerLine,i%e.blocksPerLine))}var I,S,E,C,B,M,P=r.length;M=u?0===a?0===l?function(e,t){var i=b(e.huffmanTableDC),n=0===i?0:g(i)<<c;e.blockData[t]=e.pred+=n}:function(e,t){e.blockData[t]|=m()<<c}:0===l?function(t,i){if(0<v)v--;else for(var n=a,r=s;n<=r;){var o=b(t.huffmanTableAC),l=15&o,h=o>>4;if(0!==l){var u=e[n+=h];t.blockData[i+u]=g(l)*(1<<c),n++}else{if(15>h){v=y(h)+(1<<h)-1;break}n+=16}}}:function(t,i){for(var n=a,r=s,o=0,l;n<=r;){l=e[n];switch(w){case 0:var h=b(t.huffmanTableAC),u=15&h;if(o=h>>4,0===u)15>o?(v=y(o)+(1<<o),w=4):(o=16,w=1);else{if(1!==u)throw"invalid ACn encoding";A=g(u),w=o?2:3}continue;case 1:case 2:t.blockData[i+l]?t.blockData[i+l]+=m()<<c:0==--o&&(w=2==w?3:0);break;case 3:t.blockData[i+l]?t.blockData[i+l]+=m()<<c:(t.blockData[i+l]=A<<c,w=0);break;case 4:t.blockData[i+l]&&(t.blockData[i+l]+=m()<<c);}n++}4===w&&0==--v&&(w=0)}:function(t,i){var n=b(t.huffmanTableDC),r=0===n?0:g(n);t.blockData[i]=t.pred+=r;for(var o=1;64>o;){var a=b(t.huffmanTableAC),s=15&a,l=a>>4;if(0!==s){var c=e[o+=l];t.blockData[i+c]=g(s),o++}else{if(15>l)break;o+=16}}};var T,D,R,G,O=0;for(D=1==P?r[0].blocksPerLine*r[0].blocksPerColumn:h*n.mcusPerColumn,o||(o=D);O<D;){for(S=0;S<P;S++){r[S].pred=0}if(v=0,1==P)for(I=r[0],B=0;B<o;B++){k(I,M,O),O++}else for(B=0;B<o;B++){for(S=0;S<P;S++){for(R=(I=r[S]).h,G=I.v,E=0;E<G;E++){for(C=0;C<R;C++){x(I,M,O,E,C)}}}O++}if(_=0,65280>=(T=t[i]<<8|t[i+1]))throw"marker was not found";if(!(65488<=T&&65495>=T))break;i+=2}return i-d}function p(e,i,h){var u,f,d,p,_,m,b,y,g,v,A=e.quantizationTable;for(v=0;64>v;v++){h[v]=e.blockData[i+v]*A[v]}for(v=0;8>v;++v){var w=8*v;0!==h[1+w]||0!==h[2+w]||0!==h[3+w]||0!==h[4+w]||0!==h[5+w]||0!==h[6+w]||0!==h[7+w]?(u=l*h[0+w]+128>>8,f=l*h[4+w]+128>>8,d=h[2+w],p=h[6+w],_=c*(h[1+w]-h[7+w])+128>>8,y=c*(h[1+w]+h[7+w])+128>>8,m=h[3+w]<<4,b=h[5+w]<<4,g=u-f+1>>1,u=u+f+1>>1,f=g,g=d*s+p*a+128>>8,d=d*a-p*s+128>>8,p=g,g=_-b+1>>1,_=_+b+1>>1,b=g,g=y+m+1>>1,m=y-m+1>>1,y=g,g=u-p+1>>1,u=u+p+1>>1,p=g,g=f-d+1>>1,f=f+d+1>>1,d=g,g=_*o+y*r+2048>>12,_=_*r-y*o+2048>>12,y=g,g=m*n+b*t+2048>>12,m=m*t-b*n+2048>>12,b=g,h[0+w]=u+y,h[7+w]=u-y,h[1+w]=f+b,h[6+w]=f-b,h[2+w]=d+m,h[5+w]=d-m,h[3+w]=p+_,h[4+w]=p-_):(g=l*h[0+w]+512>>10,h[0+w]=g,h[1+w]=g,h[2+w]=g,h[3+w]=g,h[4+w]=g,h[5+w]=g,h[6+w]=g,h[7+w]=g)}for(v=0;8>v;++v){var x=v;0!==h[8+x]||0!==h[16+x]||0!==h[24+x]||0!==h[32+x]||0!==h[40+x]||0!==h[48+x]||0!==h[56+x]?(u=l*h[0+x]+2048>>12,f=l*h[32+x]+2048>>12,d=h[16+x],p=h[48+x],_=c*(h[8+x]-h[56+x])+2048>>12,y=c*(h[8+x]+h[56+x])+2048>>12,m=h[24+x],b=h[40+x],g=u-f+1>>1,u=u+f+1>>1,f=g,g=d*s+p*a+2048>>12,d=d*a-p*s+2048>>12,p=g,g=_-b+1>>1,_=_+b+1>>1,b=g,g=y+m+1>>1,m=y-m+1>>1,y=g,g=u-p+1>>1,u=u+p+1>>1,p=g,g=f-d+1>>1,f=f+d+1>>1,d=g,g=_*o+y*r+2048>>12,_=_*r-y*o+2048>>12,y=g,g=m*n+b*t+2048>>12,m=m*t-b*n+2048>>12,b=g,h[0+x]=u+y,h[56+x]=u-y,h[8+x]=f+b,h[48+x]=f-b,h[16+x]=d+m,h[40+x]=d-m,h[24+x]=p+_,h[32+x]=p-_):(g=l*h[v+0]+8192>>14,h[0+x]=g,h[8+x]=g,h[16+x]=g,h[24+x]=g,h[32+x]=g,h[40+x]=g,h[48+x]=g,h[56+x]=g)}for(v=0;64>v;++v){var k=i+v,I=h[v];I=I<=-2056/e.bitConversion?0:I>=2024/e.bitConversion?255/e.bitConversion:I+2056/e.bitConversion>>4,e.blockData[k]=I}}function _(e,t){for(var i=t.blocksPerLine,n=t.blocksPerColumn,r=new Int32Array(64),o=0;o<n;o++){for(var a=0;a<i;a++){p(t,f(t,o,a),r)}}return t.blockData}function m(e){return 0>=e?0:255<=e?255:0|e}return h.prototype={load:function load(e){var t=function(e){this.parse(e),this.onload&&this.onload()}.bind(this);if(-1<e.indexOf("data:")){for(var i=e.indexOf("base64,")+7,n=atob(e.substring(i)),r=new Uint8Array(n.length),o=n.length-1;0<=o;o--){r[o]=n.charCodeAt(o)}t(n)}else{var a=new XMLHttpRequest;a.open("GET",e,!0),a.responseType="arraybuffer",a.onload=function(){var e=new Uint8Array(a.response);t(e)}.bind(this),a.send(null)}},parse:function parse(t){function n(){var e=t[l]<<8|t[l+1];return l+=2,e}function r(){var e=n(),i=t.subarray(l,l+e-2);return l+=i.length,i}function o(e){for(var t=_Mathceil(e.samplesPerLine/8/e.maxH),i=_Mathceil(e.scanLines/8/e.maxV),n=0;n<e.components.length;n++){j=e.components[n];var r=_Mathceil(_Mathceil(e.samplesPerLine/8)*j.h/e.maxH),o=_Mathceil(_Mathceil(e.scanLines/8)*j.v/e.maxV),a=t*j.h,s=64*(i*j.v)*(a+1);j.blockData=new Int16Array(s),j.blocksPerLine=r,j.blocksPerColumn=o}e.mcusPerLine=t,e.mcusPerColumn=i}var a,s,l=0,c=(t.length,null),h=null,f=[],p=[],m=[],b=n();if(65496!=b)throw"SOI not found";for(b=n();65497!=b;){var y,g;switch(b){case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var v=r();65504===b&&74===v[0]&&70===v[1]&&73===v[2]&&70===v[3]&&0===v[4]&&(c={version:{major:v[5],minor:v[6]},densityUnits:v[7],xDensity:v[8]<<8|v[9],yDensity:v[10]<<8|v[11],thumbWidth:v[12],thumbHeight:v[13],thumbData:v.subarray(14,14+3*v[12]*v[13])}),65518===b&&65===v[0]&&100===v[1]&&111===v[2]&&98===v[3]&&101===v[4]&&0===v[5]&&(h={version:v[6],flags0:v[7]<<8|v[8],flags1:v[9]<<8|v[10],transformCode:v[11]});break;case 65499:for(var A=n()+l-2;l<A;){var w=t[l++],x=new Int32Array(64);if(0==w>>4)for(y=0;64>y;y++){x[e[y]]=t[l++]}else{if(1!=w>>4)throw"DQT: invalid table spec";for(y=0;64>y;y++){x[e[y]]=n()}}f[15&w]=x}break;case 65472:case 65473:case 65474:if(a)throw"Only single frame JPEGs supported";n(),(a={}).extended=65473===b,a.progressive=65474===b,a.precision=t[l++],a.scanLines=n(),a.samplesPerLine=n(),a.components=[],a.componentIds={};var k,I=t[l++],S=0,E=0;for(U=0;U<I;U++){k=t[l];var C=t[l+1]>>4,B=15&t[l+1];S<C&&(S=C),E<B&&(E=B);var M=t[l+2];g=a.components.push({h:C,v:B,quantizationTable:f[M],quantizationTableId:M,bitConversion:255/((1<<a.precision)-1)}),a.componentIds[k]=g-1,l+=3}a.maxH=S,a.maxV=E,o(a);break;case 65476:var P=n();for(U=2;U<P;){var T=t[l++],D=new Uint8Array(16),R=0;for(y=0;16>y;y++,l++){R+=D[y]=t[l]}var G=new Uint8Array(R);for(y=0;y<R;y++,l++){G[y]=t[l]}U+=17+R,(0==T>>4?m:p)[15&T]=u(D,G)}break;case 65501:n(),s=n();break;case 65498:n();var O=t[l++],F=[];for(U=0;U<O;U++){var L=a.componentIds[t[l++]];j=a.components[L];var Z=t[l++];j.huffmanTableDC=m[Z>>4],j.huffmanTableAC=p[15&Z],F.push(j)}var H=t[l++],N=t[l++],z=t[l++],V=d(t,l,a,F,s,H,N,z>>4,15&z);l+=V;break;default:if(255==t[l-3]&&192<=t[l-2]&&254>=t[l-2]){l-=3;break}throw"unknown JPEG marker "+b.toString(16);}b=n()}switch(this.width=a.samplesPerLine,this.height=a.scanLines,this.jfif=c,this.adobe=h,this.components=[],a.components.length){case 1:this.colorspace=i.Grayscale;break;case 3:this.adobe?this.colorspace=i.AdobeRGB:this.colorspace=i.RGB;break;case 4:this.colorspace=i.CYMK;break;default:this.colorspace=i.Unknown;}for(var U=0;U<a.components.length;U++){var j;(j=a.components[U]).quantizationTable||null===j.quantizationTableId||(j.quantizationTable=f[j.quantizationTableId]),this.components.push({output:_(0,j),scaleX:j.h/a.maxH,scaleY:j.v/a.maxV,blocksPerLine:j.blocksPerLine,blocksPerColumn:j.blocksPerColumn,bitConversion:j.bitConversion})}},getData16:function getData16(e,t){if(1!==this.components.length)throw"Unsupported color mode";var i,n,r,o,a,s,l=this.width/e,c=this.height/t,h=0,u=this.components.length,d=new Uint16Array(e*t*u),p=new Uint16Array(8*((this.components[0].blocksPerLine<<3)*this.components[0].blocksPerColumn));for(s=0;s<u;s++){for(var _,m,b,y=(i=this.components[s]).blocksPerLine,g=i.blocksPerColumn,v=y<<3,A=0,w=0;w<g;w++){for(var x=w<<3,k=0;k<y;k++){var I=f(i,w,k),S=(h=0,k<<3);for(_=0;8>_;_++){A=(x+_)*v;for(m=0;8>m;m++){p[A+S+m]=i.output[I+h++]}}}}for(n=i.scaleX*l,r=i.scaleY*c,h=s,a=0;a<t;a++){for(o=0;o<e;o++){b=(0|a*r)*v+(0|o*n),d[h]=p[b],h+=u}}}return d},getData:function getData(e,t){var i,n,r,o,a,s,l,c,h,u,d,p,_,b,y,g=this.width/e,v=this.height/t,A=0,w=this.components.length,x=e*t*w,k=new Uint8Array(x),I=new Uint8Array(8*((this.components[0].blocksPerLine<<3)*this.components[0].blocksPerColumn));for(s=0;s<w;s++){for(var S,E,C,B=(i=this.components[s]).blocksPerLine,M=i.blocksPerColumn,P=B<<3,T=0,D=0;D<M;D++){for(var R=D<<3,G=0;G<B;G++){var O=f(i,D,G),F=(A=0,G<<3);for(S=0;8>S;S++){T=(R+S)*P;for(E=0;8>E;E++){I[T+F+E]=i.output[O+A++]*i.bitConversion}}}}for(n=i.scaleX*g,r=i.scaleY*v,A=s,a=0;a<t;a++){for(o=0;o<e;o++){C=(0|a*r)*P+(0|o*n),k[A]=I[C],A+=w}}}switch(w){case 1:case 2:break;case 3:if(y=!0,this.adobe&&this.adobe.transformCode?y=!0:void 0!==this.colorTransform&&(y=!!this.colorTransform),y)for(s=0;s<x;s+=w){l=k[s],c=k[s+1],p=m(l-179.456+1.402*(h=k[s+2])),_=m(l+135.459-.344*c-.714*h),b=m(l-226.816+1.772*c),k[s]=p,k[s+1]=_,k[s+2]=b}break;case 4:if(!this.adobe)throw"Unsupported color mode (4 components)";if(y=!1,this.adobe&&this.adobe.transformCode?y=!0:void 0!==this.colorTransform&&(y=!!this.colorTransform),y)for(s=0;s<x;s+=w){l=k[s],c=k[s+1],u=m(434.456-l-1.402*(h=k[s+2])),d=m(119.541-l+.344*c+.714*h),l=m(481.816-l-1.772*c),k[s]=u,k[s+1]=d,k[s+2]=l}break;default:throw"Unsupported color mode";}return k}},h}();"undefined"!==typeof e&&e.exports&&(e.exports=n)},function(e,t,i){"use strict";var n=function(){var e={LL:0,LH:1,HL:1,HH:2};function t(){this.failOnCorruptedImage=!1}function i(e,t){e.x0=_Mathceil(t.XOsiz/e.XRsiz),e.x1=_Mathceil(t.Xsiz/e.XRsiz),e.y0=_Mathceil(t.YOsiz/e.YRsiz),e.y1=_Mathceil(t.Ysiz/e.YRsiz),e.width=e.x1-e.x0,e.height=e.y1-e.y0}function n(e,t){for(var i,n=e.SIZ,r=[],o=_Mathceil((n.Xsiz-n.XTOsiz)/n.XTsiz),a=_Mathceil((n.Ysiz-n.YTOsiz)/n.YTsiz),s=0;s<a;s++){for(var l=0;l<o;l++){(i={}).tx0=_Mathmax(n.XTOsiz+l*n.XTsiz,n.XOsiz),i.ty0=_Mathmax(n.YTOsiz+s*n.YTsiz,n.YOsiz),i.tx1=_Mathmin(n.XTOsiz+(l+1)*n.XTsiz,n.Xsiz),i.ty1=_Mathmin(n.YTOsiz+(s+1)*n.YTsiz,n.Ysiz),i.width=i.tx1-i.tx0,i.height=i.ty1-i.ty0,i.components=[],r.push(i)}}e.tiles=r;for(var c=0,h=n.Csiz;c<h;c++){for(var u=t[c],f=0,d=r.length,p;f<d;f++){p={};i=r[f],p.tcx0=_Mathceil(i.tx0/u.XRsiz),p.tcy0=_Mathceil(i.ty0/u.YRsiz),p.tcx1=_Mathceil(i.tx1/u.XRsiz),p.tcy1=_Mathceil(i.ty1/u.YRsiz),p.width=p.tcx1-p.tcx0,p.height=p.tcy1-p.tcy0,i.components[c]=p}}}function o(e,t,i){var n=t.codingStyleParameters,r={};return n.entropyCoderWithCustomPrecincts?(r.PPx=n.precinctsSizes[i].PPx,r.PPy=n.precinctsSizes[i].PPy):(r.PPx=15,r.PPy=15),r.xcb_=0<i?_Mathmin(n.xcb,r.PPx-1):_Mathmin(n.xcb,r.PPx),r.ycb_=0<i?_Mathmin(n.ycb,r.PPy-1):_Mathmin(n.ycb,r.PPy),r}function l(e,t,i){var n=1<<i.PPx,r=1<<i.PPy,o=0===t.resLevel,a=1<<i.PPx+(o?0:-1),s=1<<i.PPy+(o?0:-1),l=t.trx1>t.trx0?_Mathceil(t.trx1/n)-_Mathfloor(t.trx0/n):0,c=t.try1>t.try0?_Mathceil(t.try1/r)-_Mathfloor(t.try0/r):0,h=l*c;t.precinctParameters={precinctWidth:n,precinctHeight:r,numprecinctswide:l,numprecinctshigh:c,numprecincts:h,precinctWidthInSubband:a,precinctHeightInSubband:s}}function c(e,t,i){var n,r,o,a,s=i.xcb_,l=i.ycb_,c=1<<s,h=1<<l,u=t.tbx0>>s,f=t.tby0>>l,d=t.tbx1+c-1>>s,p=t.tby1+h-1>>l,_=t.resolution.precinctParameters,m=[],b=[];for(r=f;r<p;r++){for(n=u;n<d;n++){if((o={cbx:n,cby:r,tbx0:c*n,tby0:h*r,tbx1:c*(n+1),tby1:h*(r+1)}).tbx0_=_Mathmax(t.tbx0,o.tbx0),o.tby0_=_Mathmax(t.tby0,o.tby0),o.tbx1_=_Mathmin(t.tbx1,o.tbx1),o.tby1_=_Mathmin(t.tby1,o.tby1),a=_Mathfloor((o.tbx0_-t.tbx0)/_.precinctWidthInSubband)+_Mathfloor((o.tby0_-t.tby0)/_.precinctHeightInSubband)*_.numprecinctswide,o.precinctNumber=a,o.subbandType=t.type,o.Lblock=3,!(o.tbx1_<=o.tbx0_||o.tby1_<=o.tby0_)){m.push(o);var y=b[a];void 0!==y?(n<y.cbxMin?y.cbxMin=n:n>y.cbxMax&&(y.cbxMax=n),r<y.cbyMin?y.cbxMin=r:r>y.cbyMax&&(y.cbyMax=r)):b[a]=y={cbxMin:n,cbyMin:r,cbxMax:n,cbyMax:r},o.precinct=y}}}t.codeblockParameters={codeblockWidth:s,codeblockHeight:l,numcodeblockwide:d-u+1,numcodeblockhigh:p-f+1},t.codeblocks=m,t.precincts=b}function h(e,t,i){for(var n=[],r=e.subbands,o=0,a=r.length;o<a;o++){for(var s=r[o].codeblocks,l=0,c=s.length,h;l<c;l++){h=s[l];h.precinctNumber===t&&n.push(h)}}return{layerNumber:i,codeblocks:n}}function u(e,t,i,n,r){var o=e*n.minWidth,a=t*n.minHeight;if(0!=o%i.width||0!=a%i.height)return null;var s=a/i.width*r.precinctParameters.numprecinctswide;return o/i.height+s}function f(e){for(var _NumberMAX_VALUE=Number.MAX_VALUE,t=e.components.length,i=_NumberMAX_VALUE,n=_NumberMAX_VALUE,r=0,o=0,a=Array(t),s=0;s<t;s++){for(var l=e.components[s],c=l.codingStyleParameters.decompositionLevelsCount,h=Array(c+1),u=_NumberMAX_VALUE,f=_NumberMAX_VALUE,d=0,p=0,_=1,m=c;0<=m;--m){var b=l.resolutions[m],y=_*b.precinctParameters.precinctWidth,g=_*b.precinctParameters.precinctHeight;u=_Mathmin(u,y),f=_Mathmin(f,g),d=_Mathmax(d,b.precinctParameters.numprecinctswide),p=_Mathmax(p,b.precinctParameters.numprecinctshigh),h[m]={width:y,height:g},_<<=1}i=_Mathmin(i,u),n=_Mathmin(n,f),r=_Mathmax(r,d),o=_Mathmax(o,p),a[s]={resolutions:h,minWidth:u,minHeight:f,maxNumWide:d,maxNumHigh:p}}return{components:a,minWidth:i,minHeight:n,maxNumWide:r,maxNumHigh:o}}function d(e){for(var t=e.SIZ,i=e.currentTile.index,n=e.tiles[i],r=t.Csiz,a=0;a<r;a++){for(var s=n.components[a],d=s.codingStyleParameters.decompositionLevelsCount,p=[],_=[],m=0;m<=d;m++){var b,y=o(0,s,m),g={},v=1<<d-m;if(g.trx0=_Mathceil(s.tcx0/v),g.try0=_Mathceil(s.tcy0/v),g.trx1=_Mathceil(s.tcx1/v),g.try1=_Mathceil(s.tcy1/v),g.resLevel=m,l(0,g,y),p.push(g),0===m)(b={}).type="LL",b.tbx0=_Mathceil(s.tcx0/v),b.tby0=_Mathceil(s.tcy0/v),b.tbx1=_Mathceil(s.tcx1/v),b.tby1=_Mathceil(s.tcy1/v),b.resolution=g,c(0,b,y),_.push(b),g.subbands=[b];else{var A=1<<d-m+1,w=[];(b={}).type="HL",b.tbx0=_Mathceil(s.tcx0/A-.5),b.tby0=_Mathceil(s.tcy0/A),b.tbx1=_Mathceil(s.tcx1/A-.5),b.tby1=_Mathceil(s.tcy1/A),b.resolution=g,c(0,b,y),_.push(b),w.push(b),(b={}).type="LH",b.tbx0=_Mathceil(s.tcx0/A),b.tby0=_Mathceil(s.tcy0/A-.5),b.tbx1=_Mathceil(s.tcx1/A),b.tby1=_Mathceil(s.tcy1/A-.5),b.resolution=g,c(0,b,y),_.push(b),w.push(b),(b={}).type="HH",b.tbx0=_Mathceil(s.tcx0/A-.5),b.tby0=_Mathceil(s.tcy0/A-.5),b.tbx1=_Mathceil(s.tcx1/A-.5),b.tby1=_Mathceil(s.tcy1/A-.5),b.resolution=g,c(0,b,y),_.push(b),w.push(b),g.subbands=w}}s.resolutions=p,s.subbands=_}var x=n.codingStyleDefaultParameters.progressionOrder;switch(x){case 0:n.packetsIterator=new function(e){for(var t=e.SIZ,i=e.currentTile.index,n=e.tiles[i],r=n.codingStyleDefaultParameters.layersCount,o=t.Csiz,a=0,s=0;s<o;s++){a=_Mathmax(a,n.components[s].codingStyleParameters.decompositionLevelsCount)}var l=0,c=0,u=0,f=0;this.nextPacket=function(){for(;l<r;l++){for(;c<=a;c++){for(;u<o;u++){var e=n.components[u];if(!(c>e.codingStyleParameters.decompositionLevelsCount)){for(var t=e.resolutions[c],i=t.precinctParameters.numprecincts,s;f<i;){s=h(t,f,l);return f++,s}f=0}}u=0}c=0}}}(e);break;case 1:n.packetsIterator=new function(e){for(var t=e.SIZ,i=e.currentTile.index,n=e.tiles[i],r=n.codingStyleDefaultParameters.layersCount,o=t.Csiz,a=0,s=0;s<o;s++){a=_Mathmax(a,n.components[s].codingStyleParameters.decompositionLevelsCount)}var l=0,c=0,u=0,f=0;this.nextPacket=function(){for(;l<=a;l++){for(;c<r;c++){for(;u<o;u++){var e=n.components[u];if(!(l>e.codingStyleParameters.decompositionLevelsCount)){for(var t=e.resolutions[l],i=t.precinctParameters.numprecincts,s;f<i;){s=h(t,f,c);return f++,s}f=0}}u=0}c=0}}}(e);break;case 2:n.packetsIterator=new function(e){var t,i,n,r,o=e.SIZ,a=e.currentTile.index,s=e.tiles[a],l=s.codingStyleDefaultParameters.layersCount,c=o.Csiz,u=0;for(n=0;n<c;n++){var f=s.components[n];u=_Mathmax(u,f.codingStyleParameters.decompositionLevelsCount)}var d=new Int32Array(u+1);for(i=0;i<=u;++i){var p=0;for(n=0;n<c;++n){var _=s.components[n].resolutions;i<_.length&&(p=_Mathmax(p,_[i].precinctParameters.numprecincts))}d[i]=p}t=0,i=0,n=0,r=0,this.nextPacket=function(){for(;i<=u;i++){for(;r<d[i];r++){for(;n<c;n++){var e=s.components[n];if(!(i>e.codingStyleParameters.decompositionLevelsCount)){var o=e.resolutions[i],a=o.precinctParameters.numprecincts;if(!(r>=a)){for(;t<l;){var f=h(o,r,t);return t++,f}t=0}}}n=0}r=0}}}(e);break;case 3:n.packetsIterator=new function(e){var t=e.SIZ,i=e.currentTile.index,n=e.tiles[i],r=n.codingStyleDefaultParameters.layersCount,o=t.Csiz,a=f(n),s=a,l=0,c=0,d=0,p=0,_=0;this.nextPacket=function(){for(;_<s.maxNumHigh;_++){for(;p<s.maxNumWide;p++){for(;d<o;d++){for(var e=n.components[d],t=e.codingStyleParameters.decompositionLevelsCount;c<=t;c++){var i=e.resolutions[c],f=a.components[d].resolutions[c],m=u(p,_,f,s,i);if(null!==m){for(;l<r;){var b=h(i,m,l);return l++,b}l=0}}c=0}d=0}p=0}}}(e);break;case 4:n.packetsIterator=new function(e){var t=e.SIZ,i=e.currentTile.index,n=e.tiles[i],r=n.codingStyleDefaultParameters.layersCount,o=t.Csiz,a=f(n),s=0,l=0,c=0,d=0,p=0;this.nextPacket=function(){for(;c<o;++c){for(var e=n.components[c],t=a.components[c],i=e.codingStyleParameters.decompositionLevelsCount;p<t.maxNumHigh;p++){for(;d<t.maxNumWide;d++){for(;l<=i;l++){var f=e.resolutions[l],_=t.resolutions[l],m=u(d,p,_,t,f);if(null!==m){for(;s<r;){var b=h(f,m,s);return s++,b}s=0}}l=0}d=0}p=0}}}(e);break;default:throw new Error("JPX Error: Unsupported progression order "+x);}}function b(e,t,i,n){var r,o=0,a=0,s=!1;function l(e){for(;a<e;){if(i+o>=t.length)throw new Error("Unexpected EOF");var n=t[i+o];o++,s?(r=r<<7|n,a+=7,s=!1):(r=r<<8|n,a+=8),255===n&&(s=!0)}return r>>>(a-=e)&(1<<e)-1}function c(e){return 255===t[i+o-1]&&t[i+o]===e?(h(1),!0):255===t[i+o]&&t[i+o+1]===e&&(h(2),!0)}function h(e){o+=e}function u(){a=0,s&&(o++,s=!1)}function f(){if(0===l(1))return 1;if(0===l(1))return 2;var e=l(2);return 3>e?e+3:31>(e=l(5))?e+6:(e=l(7))+37}for(var d=e.currentTile.index,_=e.tiles[d],m=e.COD.sopMarkerUsed,b=e.COD.ephMarkerUsed,y=_.packetsIterator;o<n;){try{u(),m&&c(145)&&h(4);var g=y.nextPacket();if(void 0===g)return;if(!l(1))continue;for(var v,x=g.layerNumber,k=[],I=0,S=g.codeblocks.length;I<S;I++){var E=(v=g.codeblocks[I]).precinct,C=v.cbx-E.cbxMin,B=v.cby-E.cbyMin,M=!1,P=!1;if(void 0!==v.included)M=!!l(1);else{var T,D;if(void 0!==(E=v.precinct).inclusionTree)T=E.inclusionTree;else{var R=E.cbxMax-E.cbxMin+1,G=E.cbyMax-E.cbyMin+1;T=new w(R,G),D=new A(R,G),E.inclusionTree=T,E.zeroBitPlanesTree=D}for(T.reset(C,B,x);;){if(o>=t.length)return;if(T.isAboveThreshold())break;if(T.isKnown())T.nextLevel();else if(l(1)){if(T.setKnown(),T.isLeaf()){v.included=!0,M=P=!0;break}T.nextLevel()}else T.incrementValue()}}if(M){if(P){for((D=E.zeroBitPlanesTree).reset(C,B);;){if(o>=t.length)return;if(l(1)){if(!D.nextLevel())break}else D.incrementValue()}v.zeroBitPlanes=D.value}for(var O=f();l(1);){v.Lblock++}var F=p(O),L=l((O<1<<F?F-1:F)+v.Lblock);k.push({codeblock:v,codingpasses:O,dataLength:L})}}for(u(),b&&c(146);0<k.length;){var Z=k.shift();void 0===(v=Z.codeblock).data&&(v.data=[]),v.data.push({data:t,start:i+o,end:i+o+Z.dataLength,codingpasses:Z.codingpasses}),o+=Z.dataLength}}catch(e){return}}return o}function y(e,t,i,n,o,a,s,l){for(var c=n.tbx0,h=n.tby0,u=n.tbx1-n.tbx0,f=n.codeblocks,d="H"===n.type.charAt(0)?1:0,p="H"===n.type.charAt(1)?t:0,_=0,m=f.length;_<m;++_){var b=f[_],y=b.tbx1_-b.tbx0_,g=b.tby1_-b.tby0_;if(0!==y&&0!==g&&void 0!==b.data){var v,A;v=new x(y,g,b.subbandType,b.zeroBitPlanes,a),A=2;var w,k,I,S=b.data,E=0,C=0;for(w=0,k=S.length;w<k;w++){E+=(I=S[w]).end-I.start,C+=I.codingpasses}var B=new Int16Array(E),M=0;for(w=0,k=S.length;w<k;w++){var P=(I=S[w]).data.subarray(I.start,I.end);B.set(P,M),M+=P.length}var T=new r(B,0,E);for(v.setDecoder(T),w=0;w<C;w++){switch(A){case 0:v.runSignificancePropogationPass();break;case 1:v.runMagnitudeRefinementPass();break;case 2:v.runCleanupPass(),l&&v.checkSegmentationSymbol();}A=(A+1)%3}var D,R,G,O=b.tbx0_-c+(b.tby0_-h)*u,F=v.coefficentsSign,L=v.coefficentsMagnitude,Z=v.bitsDecoded,H=s?0:.5;M=0;var N="LL"!==n.type;for(w=0;w<g;w++){var z=2*(0|O/u)*(t-u)+d+p;for(D=0;D<y;D++){if(0!==(R=L[M])){R=(R+H)*o,0!==F[M]&&(R=-R),G=Z[M];var V=N?z+(O<<1):O;e[V]=s&&G>=a?R:R*(1<<a-G)}O++,M++}O+=u-y}}}}function g(t,i,n){for(var r=i.components[n],o=r.codingStyleParameters,a=r.quantizationParameters,s=o.decompositionLevelsCount,l=a.SPqcds,c=a.scalarExpounded,h=a.guardBits,u=o.segmentationSymbolUsed,f=t.components[n].precision,d=o.reversibleTransformation,p=d?new S:new I,_=[],m=0,b=0;b<=s;b++){for(var g=r.resolutions[b],v=g.trx1-g.trx0,A=g.try1-g.try0,w=new Float32Array(v*A),x=0,k=g.subbands.length;x<k;x++){var E,C;c?(E=l[m].mu,C=l[m].epsilon,m++):(E=l[0].mu,C=l[0].epsilon+(0<b?1-b:0));var B=g.subbands[x],M=e[B.type];y(w,v,0,B,d?1:_Mathpow(2,f+M-C)*(1+E/2048),h+C-1,d,u)}_.push({width:v,height:A,items:w})}var P=p.calculate(_,r.tcx0,r.tcy0);return{left:r.tcx0,top:r.tcy0,width:P.width,height:P.height,items:P.items}}function v(e,t){for(var i=e.SIZ.Csiz,n=e.tiles[t],r=0;r<i;r++){var o=n.components[r],a=void 0!==e.currentTile.QCC[r]?e.currentTile.QCC[r]:e.currentTile.QCD;o.quantizationParameters=a;var s=void 0!==e.currentTile.COC[r]?e.currentTile.COC[r]:e.currentTile.COD;o.codingStyleParameters=s}n.codingStyleDefaultParameters=e.currentTile.COD}t.prototype={parse:function parse(e){if(65359!==_(e,0))for(var t=0,i=e.length;t<i;){var n=8,r=m(e,t),o=m(e,t+4);if(t+=n,1===r&&(r=4294967296*m(e,t)+m(e,t+4),t+=8,n+=8),0===r&&(r=i-t+n),r<n)throw new Error("JPX Error: Invalid box field size");var l=r-n,c=!0;switch(o){case 1785737832:c=!1;break;case 1668246642:var h=e[t];e[t+1],e[t+2];if(1===h){var u=m(e,t+3);switch(u){case 16:case 17:case 18:break;default:s("Unknown colorspace "+u);}}else 2===h&&a("ICC profile not supported");break;case 1785737827:this.parseCodestream(e,t,t+l);break;case 1783636e3:218793738!==m(e,t)&&s("Invalid JP2 signature");break;case 1783634458:case 1718909296:case 1920099697:case 1919251232:case 1768449138:break;default:s("Unsupported header type "+o+" ("+_StringfromCharCode(255&o>>24,255&o>>16,255&o>>8,255&o)+")");}c&&(t+=l)}else this.parseCodestream(e,0,e.length)},parseImageProperties:function parseImageProperties(e){for(var t=e.getByte();0<=t;){if(65361===(t<<8|(t=e.getByte()))){e.skip(4);var i=e.getInt32()>>>0,n=e.getInt32()>>>0,r=e.getInt32()>>>0,o=e.getInt32()>>>0;e.skip(16);var a=e.getUint16();return this.width=i-r,this.height=n-o,this.componentsCount=a,void(this.bitsPerComponent=8)}}throw new Error("JPX Error: No size marker found in JPX stream")},parseCodestream:function parseCodestream(e,t,r){var o={};try{for(var a=!1,l=t,c;l+1<r;){c=_(e,l);l+=2;var h,u,f,p,y,A,w=0;switch(c){case 65359:o.mainHeader=!0;break;case 65497:break;case 65361:w=_(e,l);var x={};x.Xsiz=m(e,l+4),x.Ysiz=m(e,l+8),x.XOsiz=m(e,l+12),x.YOsiz=m(e,l+16),x.XTsiz=m(e,l+20),x.YTsiz=m(e,l+24),x.XTOsiz=m(e,l+28),x.YTOsiz=m(e,l+32);var k=_(e,l+36);x.Csiz=k;var I=[];h=l+38;for(var S=0,E;S<k;S++){E={precision:1+(127&e[h]),isSigned:!!(128&e[h]),XRsiz:e[h+1],YRsiz:e[h+1]};i(E,x),I.push(E)}o.SIZ=x,o.components=I,n(o,I),o.QCC=[],o.COC=[];break;case 65372:w=_(e,l);var C={};switch(h=l+2,31&(u=e[h++])){case 0:p=8,y=!0;break;case 1:p=16,y=!1;break;case 2:p=16,y=!0;break;default:throw new Error("JPX Error: Invalid SQcd value "+u);}for(C.noQuantization=8===p,C.scalarExpounded=y,C.guardBits=u>>5,f=[];h<w+l;){var B={};8===p?(B.epsilon=e[h++]>>3,B.mu=0):(B.epsilon=e[h]>>3,B.mu=(7&e[h])<<8|e[h+1],h+=2),f.push(B)}C.SPqcds=f,o.mainHeader?o.QCD=C:(o.currentTile.QCD=C,o.currentTile.QCC=[]);break;case 65373:w=_(e,l);var M,P={};switch(h=l+2,257>o.SIZ.Csiz?M=e[h++]:(M=_(e,h),h+=2),31&(u=e[h++])){case 0:p=8,y=!0;break;case 1:p=16,y=!1;break;case 2:p=16,y=!0;break;default:throw new Error("JPX Error: Invalid SQcd value "+u);}for(P.noQuantization=8===p,P.scalarExpounded=y,P.guardBits=u>>5,f=[];h<w+l;){B={},8===p?(B.epsilon=e[h++]>>3,B.mu=0):(B.epsilon=e[h]>>3,B.mu=(7&e[h])<<8|e[h+1],h+=2),f.push(B)}P.SPqcds=f,o.mainHeader?o.QCC[M]=P:o.currentTile.QCC[M]=P;break;case 65362:w=_(e,l);var T={};h=l+2;var D=e[h++];T.entropyCoderWithCustomPrecincts=!!(1&D),T.sopMarkerUsed=!!(2&D),T.ephMarkerUsed=!!(4&D),T.progressionOrder=e[h++],T.layersCount=_(e,h),h+=2,T.multipleComponentTransform=e[h++],T.decompositionLevelsCount=e[h++],T.xcb=2+(15&e[h++]),T.ycb=2+(15&e[h++]);var R=e[h++];if(T.selectiveArithmeticCodingBypass=!!(1&R),T.resetContextProbabilities=!!(2&R),T.terminationOnEachCodingPass=!!(4&R),T.verticalyStripe=!!(8&R),T.predictableTermination=!!(16&R),T.segmentationSymbolUsed=!!(32&R),T.reversibleTransformation=e[h++],T.entropyCoderWithCustomPrecincts){for(var G=[],O;h<w+l;){O=e[h++];G.push({PPx:15&O,PPy:O>>4})}T.precinctsSizes=G}var F=[];if(T.selectiveArithmeticCodingBypass&&F.push("selectiveArithmeticCodingBypass"),T.resetContextProbabilities&&F.push("resetContextProbabilities"),T.terminationOnEachCodingPass&&F.push("terminationOnEachCodingPass"),T.verticalyStripe&&F.push("verticalyStripe"),T.predictableTermination&&F.push("predictableTermination"),0<F.length)throw a=!0,new Error("JPX Error: Unsupported COD options ("+F.join(", ")+")");o.mainHeader?o.COD=T:(o.currentTile.COD=T,o.currentTile.COC=[]);break;case 65424:w=_(e,l),(A={}).index=_(e,l+2),A.length=m(e,l+4),A.dataEnd=A.length+l-2,A.partIndex=e[l+8],A.partsCount=e[l+9],o.mainHeader=!1,0===A.partIndex&&(A.COD=o.COD,A.COC=o.COC.slice(0),A.QCD=o.QCD,A.QCC=o.QCC.slice(0)),o.currentTile=A;break;case 65427:0===(A=o.currentTile).partIndex&&(v(o,A.index),d(o)),b(o,e,l,w=A.dataEnd-l);break;case 65365:case 65367:case 65368:case 65380:w=_(e,l);break;case 65363:throw new Error("JPX Error: Codestream code 0xFF53 (COC) is not implemented");default:throw new Error("JPX Error: Unknown codestream code: "+c.toString(16));}l+=w}}catch(e){if(a||this.failOnCorruptedImage)throw e;s("Trying to recover from "+e.message)}this.tiles=function(e){for(var t=e.SIZ,i=e.components,n=t.Csiz,r=[],o=0,a=e.tiles.length;o<a;o++){var s,l=e.tiles[o],c=[];for(s=0;s<n;s++){c[s]=g(e,l,s)}var h=c[0],u=i[0].isSigned;if(u)var f=new Int16Array(h.items.length*n);else var f=new Uint16Array(h.items.length*n);var d,p,_,m,b,y,v,A,w,x,k,I,S,E,C,B={left:h.left,top:h.top,width:h.width,height:h.height,items:f},M=0;if(l.codingStyleDefaultParameters.multipleComponentTransform){var P=4===n,T=c[0].items,D=c[1].items,R=c[2].items,G=P?c[3].items:null;d=i[0].precision-8,p=.5+(128<<d),m=-(b=.5*(_=255*(1<<d)));var O=l.components[0],F=n-3;if(v=T.length,O.codingStyleParameters.reversibleTransformation)for(y=0;y<v;y++,M+=F){A=T[y]+p,w=D[y],x=R[y],k=(I=A-(x+w>>2))+x,S=I+w,f[M++]=0>=k?0:k>=_?255:k>>d,f[M++]=0>=I?0:I>=_?255:I>>d,f[M++]=0>=S?0:S>=_?255:S>>d}else for(y=0;y<v;y++,M+=F){A=T[y]+p,w=D[y],x=R[y],k=A+1.402*x,I=A-.34413*w-.71414*x,S=A+1.772*w,f[M++]=0>=k?0:k>=_?255:k>>d,f[M++]=0>=I?0:I>=_?255:I>>d,f[M++]=0>=S?0:S>=_?255:S>>d}if(P)for(y=0,M=3;y<v;y++,M+=4){E=G[y],f[M]=E<=m?0:E>=b?255:E+p>>d}}else for(s=0;s<n;s++){if(8===i[s].precision){var L=c[s].items;for(d=i[s].precision-8,p=.5+(128<<d),m=-(_=127.5*(1<<d)),M=s,y=0,v=L.length;y<v;y++){C=L[y],f[M]=C<=m?0:C>=_?255:C+p>>d,M+=n}}else{var u=i[s].isSigned,L=c[s].items;if(u)for(M=s,y=0,v=L.length;y<v;y++){f[M]=L[y],M+=n}else{d=i[s].precision-8,p=.5+(128<<d);var Z=_Mathpow(2,i[s].precision)-1;for(M=s,y=0,v=L.length;y<v;y++){C=L[y],f[M]=_Mathmax(_Mathmin(C+p,Z),0),M+=n}}}}r.push(B)}return r}(o),this.width=o.SIZ.Xsiz-o.SIZ.XOsiz,this.height=o.SIZ.Ysiz-o.SIZ.YOsiz,this.componentsCount=o.SIZ.Csiz}};var A=function(){function e(e,t){var i=p(_Mathmax(e,t))+1;this.levels=[];for(var n=0,r;n<i;n++){r={width:e,height:t,items:[]};this.levels.push(r),e=_Mathceil(e/2),t=_Mathceil(t/2)}}return e.prototype={reset:function reset(e,t){for(var i,n=0,r=0,o;n<this.levels.length;){o=e+t*(i=this.levels[n]).width;if(void 0!==i.items[o]){r=i.items[o];break}i.index=o,e>>=1,t>>=1,n++}n--,(i=this.levels[n]).items[i.index]=r,this.currentLevel=n,delete this.value},incrementValue:function incrementValue(){var e=this.levels[this.currentLevel];e.items[e.index]++},nextLevel:function nextLevel(){var e=this.currentLevel,t=this.levels[e],i=t.items[t.index];return 0>--e?(this.value=i,!1):(this.currentLevel=e,(t=this.levels[e]).items[t.index]=i,!0)}},e}(),w=function(){function e(e,t){var i=p(_Mathmax(e,t))+1;this.levels=[];for(var n=0;n<i;n++){for(var r=new Uint8Array(e*t),o=new Uint8Array(e*t),a=0,s=r.length;a<s;a++){r[a]=0,o[a]=0}var l={width:e,height:t,items:r,status:o};this.levels.push(l),e=_Mathceil(e/2),t=_Mathceil(t/2)}}return e.prototype={reset:function reset(e,t,i){this.currentStopValue=i;for(var n=0;n<this.levels.length;){var r=this.levels[n],o=e+t*r.width;r.index=o,e>>=1,t>>=1,n++}this.currentLevel=this.levels.length-1,this.minValue=this.levels[this.currentLevel].items[0]},incrementValue:function incrementValue(){var e=this.levels[this.currentLevel];e.items[e.index]=e.items[e.index]+1,e.items[e.index]>this.minValue&&(this.minValue=e.items[e.index])},nextLevel:function nextLevel(){var e=this.currentLevel;if(0>--e)return!1;this.currentLevel=e;var t=this.levels[e];return t.items[t.index]<this.minValue?t.items[t.index]=this.minValue:t.items[t.index]>this.minValue&&(this.minValue=t.items[t.index]),!0},isLeaf:function isLeaf(){return 0===this.currentLevel},isAboveThreshold:function isAboveThreshold(){var e=this.currentLevel,t=this.levels[e];return t.items[t.index]>this.currentStopValue},isKnown:function isKnown(){var e=this.currentLevel,t=this.levels[e];return 0<t.status[t.index]},setKnown:function setKnown(){var e=this.currentLevel,t=this.levels[e];t.status[t.index]=1}},e}(),x=function(){var e=new Uint8Array([0,5,8,0,3,7,8,0,4,7,8,0,0,0,0,0,1,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8]),t=new Uint8Array([0,3,4,0,5,7,7,0,8,8,8,0,0,0,0,0,1,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8]),i=new Uint8Array([0,1,2,0,1,2,2,0,2,2,2,0,0,0,0,0,3,4,5,0,4,5,5,0,5,5,5,0,0,0,0,0,6,7,7,0,7,7,7,0,7,7,7,0,0,0,0,0,8,8,8,0,8,8,8,0,8,8,8,0,0,0,0,0,8,8,8,0,8,8,8,0,8,8,8]);function n(n,r,o,a,s){this.width=n,this.height=r,this.contextLabelTable="HH"===o?i:"HL"===o?t:e;var l=n*r;this.neighborsSignificance=new Uint8Array(l),this.coefficentsSign=new Uint8Array(l),this.coefficentsMagnitude=14<s?new Uint32Array(l):6<s?new Uint16Array(l):new Uint8Array(l),this.processingFlags=new Uint8Array(l);var c=new Uint8Array(l);if(0!==a)for(var h=0;h<l;h++){c[h]=a}this.bitsDecoded=c,this.reset()}return n.prototype={setDecoder:function setDecoder(e){this.decoder=e},reset:function reset(){this.contexts=new Int8Array(19),this.contexts[0]=8,this.contexts[17]=92,this.contexts[18]=6},setNeighborsSignificance:function setNeighborsSignificance(e,t,i){var n,r=this.neighborsSignificance,o=this.width,a=this.height,s=0<t,l=t+1<o;0<e&&(n=i-o,s&&(r[n-1]+=16),l&&(r[n+1]+=16),r[n]+=4),e+1<a&&(n=i+o,s&&(r[n-1]+=16),l&&(r[n+1]+=16),r[n]+=4),s&&(r[i-1]+=1),l&&(r[i+1]+=1),r[i]|=128},runSignificancePropogationPass:function runSignificancePropogationPass(){for(var e=this.decoder,t=this.width,i=this.height,n=this.coefficentsMagnitude,r=this.coefficentsSign,o=this.neighborsSignificance,a=this.processingFlags,s=this.contexts,l=this.contextLabelTable,c=this.bitsDecoded,h=0;h<i;h+=4){for(var u=0;u<t;u++){for(var f=h*t+u,d=0,p;4>d;d++,f+=t){p=h+d;if(p>=i)break;if(a[f]&=-2,!n[f]&&o[f]){var _=l[o[f]];if(e.readBit(s,_)){var m=this.decodeSignBit(p,u,f);r[f]=m,n[f]=1,this.setNeighborsSignificance(p,u,f),a[f]|=2}c[f]++,a[f]|=1}}}}},decodeSignBit:function decodeSignBit(e,t,i){var n,r,o,a,s,l,c=this.width,h=this.height,u=this.coefficentsMagnitude,f=this.coefficentsSign;a=0<t&&0!==u[i-1],t+1<c&&0!==u[i+1]?(o=f[i+1],n=a?1-o-(r=f[i-1]):1-o-o):n=a?1-(r=f[i-1])-r:0;var d=3*n;return a=0<e&&0!==u[i-c],e+1<h&&0!==u[i+c]?(o=f[i+c],n=a?1-o-(r=f[i-c])+d:1-o-o+d):n=a?1-(r=f[i-c])-r+d:d,0<=n?(s=9+n,l=this.decoder.readBit(this.contexts,s)):(s=9-n,l=1^this.decoder.readBit(this.contexts,s)),l},runMagnitudeRefinementPass:function runMagnitudeRefinementPass(){for(var e,t=this.decoder,i=this.width,n=this.height,r=this.coefficentsMagnitude,o=this.neighborsSignificance,a=this.contexts,s=this.bitsDecoded,l=this.processingFlags,c=i*n,h=4*i,u=0;u<c;u=e){e=_Mathmin(c,u+h);for(var f=0;f<i;f++){for(var d=u+f;d<e;d+=i){if(r[d]&&0==(1&l[d])){var p=16;if(0!=(2&l[d]))l[d]^=2,p=0===(127&o[d])?15:14;var _=t.readBit(a,p);r[d]=r[d]<<1|_,s[d]++,l[d]|=1}}}}},runCleanupPass:function runCleanupPass(){for(var e,t=this.decoder,i=this.width,n=this.height,r=this.neighborsSignificance,o=this.coefficentsMagnitude,a=this.coefficentsSign,s=this.contexts,l=this.contextLabelTable,c=this.bitsDecoded,h=this.processingFlags,u=i,f=2*i,d=3*i,p=0;p<n;p=e){e=_Mathmin(p+4,n);for(var _=p*i,m=p+3<n,b=0;b<i;b++){var y,g=_+b,v=0,A=g,w=p;if(m&&0===h[g]&&0===h[g+u]&&0===h[g+f]&&0===h[g+d]&&0===r[g]&&0===r[g+u]&&0===r[g+f]&&0===r[g+d]){if(!t.readBit(s,18)){c[g]++,c[g+u]++,c[g+f]++,c[g+d]++;continue}0!==(v=t.readBit(s,17)<<1|t.readBit(s,17))&&(w=p+v,A+=v*i),y=this.decodeSignBit(w,b,A),a[A]=y,o[A]=1,this.setNeighborsSignificance(w,b,A),h[A]|=2,A=g;for(var x=p;x<=w;x++,A+=i){c[A]++}v++}for(w=p+v;w<e;w++,A+=i){if(!o[A]&&0==(1&h[A])){var k=l[r[A]];1===t.readBit(s,k)&&(y=this.decodeSignBit(w,b,A),a[A]=y,o[A]=1,this.setNeighborsSignificance(w,b,A),h[A]|=2),c[A]++}}}}},checkSegmentationSymbol:function checkSegmentationSymbol(){var e=this.decoder,t=this.contexts;if(10!==(e.readBit(t,17)<<3|e.readBit(t,17)<<2|e.readBit(t,17)<<1|e.readBit(t,17)))throw new Error("JPX Error: Invalid segmentation symbol")}},n}(),k=function(){function e(){}return e.prototype.calculate=function(e,t,i){for(var n=e[0],r=1,o=e.length;r<o;r++){n=this.iterate(n,e[r],t,i)}return n},e.prototype.extend=function(e,t,i){var n=t-1,r=t+1,o=t+i-2,a=t+i;e[n--]=e[r++],e[a++]=e[o--],e[n--]=e[r++],e[a++]=e[o--],e[n--]=e[r++],e[a++]=e[o--],e[n]=e[r],e[a]=e[o]},e.prototype.iterate=function(e,t,i,n){var r,o,a,s,l,c,h=e.width,u=e.height,f=e.items,d=t.width,p=t.height,_=t.items;for(a=0,r=0;r<u;r++){for(s=2*r*d,o=0;o<h;o++,a++,s+=2){_[s]=f[a]}}f=e.items=null;var m=new Float32Array(d+8);if(1===d){if(0!=(1&i))for(c=0,a=0;c<p;c++,a+=d){_[a]*=.5}}else for(c=0,a=0;c<p;c++,a+=d){m.set(_.subarray(a,a+d),4),this.extend(m,4,d),this.filter(m,4,d),_.set(m.subarray(4,4+d),a)}var b=16,y=[];for(r=0;r<b;r++){y.push(new Float32Array(p+8))}var g,v=0;if(e=4+p,1===p){if(0!=(1&n))for(l=0;l<d;l++){_[l]*=.5}}else for(l=0;l<d;l++){if(0===v){for(b=_Mathmin(d-l,b),a=l,s=4;s<e;a+=d,s++){for(g=0;g<b;g++){y[g][s]=_[a+g]}}v=b}var A=y[--v];if(this.extend(A,4,p),this.filter(A,4,p),0===v)for(a=l-b+1,s=4;s<e;a+=d,s++){for(g=0;g<b;g++){_[a+g]=y[g][s]}}}return{width:d,height:p,items:_}},e}(),I=function(){function e(){k.call(this)}return e.prototype=Object.create(k.prototype),e.prototype.filter=function(e,t,i){var n,r,o,a,s=i>>1,l=-1.586134342059924,c=-.052980118572961,h=.882911075530934,u=.443506852043971,f=1.230174104914001;for(n=(t|=0)-3,r=s+4;r--;n+=2){e[n]*=.8128930661159609}for(o=u*e[(n=t-2)-1],r=s+3;r--&&(a=u*e[n+1],e[n]=f*e[n]-o-a,r--);n+=2){o=u*e[(n+=2)+1],e[n]=f*e[n]-o-a}for(o=h*e[(n=t-1)-1],r=s+2;r--&&(a=h*e[n+1],e[n]-=o+a,r--);n+=2){o=h*e[(n+=2)+1],e[n]-=o+a}for(o=c*e[(n=t)-1],r=s+1;r--&&(a=c*e[n+1],e[n]-=o+a,r--);n+=2){o=c*e[(n+=2)+1],e[n]-=o+a}if(0!==s)for(o=l*e[(n=t+1)-1],r=s;r--&&(a=l*e[n+1],e[n]-=o+a,r--);n+=2){o=l*e[(n+=2)+1],e[n]-=o+a}},e}(),S=function(){function e(){k.call(this)}return e.prototype=Object.create(k.prototype),e.prototype.filter=function(e,t,i){var n,r,o=i>>1;for(n=t|=0,r=o+1;r--;n+=2){e[n]-=e[n-1]+e[n+1]+2>>2}for(n=t+1,r=o;r--;n+=2){e[n]+=e[n-1]+e[n+1]>>1}},e}();return t}(),r=function(){var e=[{qe:22017,nmps:1,nlps:1,switchFlag:1},{qe:13313,nmps:2,nlps:6,switchFlag:0},{qe:6145,nmps:3,nlps:9,switchFlag:0},{qe:2753,nmps:4,nlps:12,switchFlag:0},{qe:1313,nmps:5,nlps:29,switchFlag:0},{qe:545,nmps:38,nlps:33,switchFlag:0},{qe:22017,nmps:7,nlps:6,switchFlag:1},{qe:21505,nmps:8,nlps:14,switchFlag:0},{qe:18433,nmps:9,nlps:14,switchFlag:0},{qe:14337,nmps:10,nlps:14,switchFlag:0},{qe:12289,nmps:11,nlps:17,switchFlag:0},{qe:9217,nmps:12,nlps:18,switchFlag:0},{qe:7169,nmps:13,nlps:20,switchFlag:0},{qe:5633,nmps:29,nlps:21,switchFlag:0},{qe:22017,nmps:15,nlps:14,switchFlag:1},{qe:21505,nmps:16,nlps:14,switchFlag:0},{qe:20737,nmps:17,nlps:15,switchFlag:0},{qe:18433,nmps:18,nlps:16,switchFlag:0},{qe:14337,nmps:19,nlps:17,switchFlag:0},{qe:13313,nmps:20,nlps:18,switchFlag:0},{qe:12289,nmps:21,nlps:19,switchFlag:0},{qe:10241,nmps:22,nlps:19,switchFlag:0},{qe:9217,nmps:23,nlps:20,switchFlag:0},{qe:8705,nmps:24,nlps:21,switchFlag:0},{qe:7169,nmps:25,nlps:22,switchFlag:0},{qe:6145,nmps:26,nlps:23,switchFlag:0},{qe:5633,nmps:27,nlps:24,switchFlag:0},{qe:5121,nmps:28,nlps:25,switchFlag:0},{qe:4609,nmps:29,nlps:26,switchFlag:0},{qe:4353,nmps:30,nlps:27,switchFlag:0},{qe:2753,nmps:31,nlps:28,switchFlag:0},{qe:2497,nmps:32,nlps:29,switchFlag:0},{qe:2209,nmps:33,nlps:30,switchFlag:0},{qe:1313,nmps:34,nlps:31,switchFlag:0},{qe:1089,nmps:35,nlps:32,switchFlag:0},{qe:673,nmps:36,nlps:33,switchFlag:0},{qe:545,nmps:37,nlps:34,switchFlag:0},{qe:321,nmps:38,nlps:35,switchFlag:0},{qe:273,nmps:39,nlps:36,switchFlag:0},{qe:133,nmps:40,nlps:37,switchFlag:0},{qe:73,nmps:41,nlps:38,switchFlag:0},{qe:37,nmps:42,nlps:39,switchFlag:0},{qe:21,nmps:43,nlps:40,switchFlag:0},{qe:9,nmps:44,nlps:41,switchFlag:0},{qe:5,nmps:45,nlps:42,switchFlag:0},{qe:1,nmps:45,nlps:43,switchFlag:0},{qe:22017,nmps:46,nlps:46,switchFlag:0}];function t(e,t,i){this.data=e,this.bp=t,this.dataEnd=i,this.chigh=e[t],this.clow=0,this.byteIn(),this.chigh=65535&this.chigh<<7|127&this.clow>>9,this.clow=65535&this.clow<<7,this.ct-=7,this.a=32768}return t.prototype={byteIn:function byteIn(){var e=this.data,t=this.bp;255===e[t]?143<e[t+1]?(this.clow+=65280,this.ct=8):(t++,this.clow+=e[t]<<9,this.ct=7,this.bp=t):(t++,this.clow+=t<this.dataEnd?e[t]<<8:65280,this.ct=8,this.bp=t);65535<this.clow&&(this.chigh+=this.clow>>16,this.clow&=65535)},readBit:function readBit(t,i){var n,r=t[i]>>1,o=1&t[i],a=e[r],s=a.qe,l=this.a-s;if(this.chigh<s)l<s?(l=s,n=o,r=a.nmps):(l=s,n=1^o,1===a.switchFlag&&(o=n),r=a.nlps);else{if(this.chigh-=s,0!=(32768&l))return this.a=l,o;l<s?(n=1^o,1===a.switchFlag&&(o=n),r=a.nlps):(n=o,r=a.nmps)}do{0===this.ct&&this.byteIn(),l<<=1,this.chigh=65535&this.chigh<<1|1&this.clow>>15,this.clow=65535&this.clow<<1,this.ct--}while(0==(32768&l));return this.a=l,t[i]=r<<1|o,n}},t}(),o="undefined"==typeof window?this:window;o.PDFJS||(o.PDFJS={}),o.PDFJS.pdfBug=!1,PDFJS.VERBOSITY_LEVELS={errors:0,warnings:1,infos:5};PDFJS.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};function a(e){PDFJS.verbosity>=PDFJS.VERBOSITY_LEVELS.infos&&console.log("Info: "+e)}function s(e){PDFJS.verbosity>=PDFJS.VERBOSITY_LEVELS.warnings&&console.log("Warning: "+e)}PDFJS.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",smask:"smask",shadingPattern:"shadingPattern",font:"font"},PDFJS.UnsupportedManager=function(){var e=[];return{listen:function listen(t){e.push(t)},notify:function notify(t){s("Unsupported feature \""+t+"\"");for(var i=0,n=e.length;i<n;i++){e[i](t)}}}}();function l(e,t,i){return Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!1}),i}PDFJS.isValidUrl=function(e,t){if(!e)return!1;var i=/^[a-z][a-z0-9+\-.]*(?=:)/i.exec(e);if(!i)return t;switch(i=i[0].toLowerCase()){case"http":case"https":case"ftp":case"mailto":case"tel":return!0;default:return!1;}},PDFJS.shadow=l;PDFJS.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};var c=function(){function e(e,t){this.name="PasswordException",this.message=e,this.code=t}return e.prototype=new Error,e.constructor=e,e}();PDFJS.PasswordException=c;var h=function(){function e(e,t){this.name="UnknownErrorException",this.message=e,this.details=t}return e.prototype=new Error,e.constructor=e,e}();PDFJS.UnknownErrorException=h;var u=function(){function e(e){this.name="InvalidPDFException",this.message=e}return e.prototype=new Error,e.constructor=e,e}();PDFJS.InvalidPDFException=u;var f=function(){function e(e){this.name="MissingPDFException",this.message=e}return e.prototype=new Error,e.constructor=e,e}();PDFJS.MissingPDFException=f;var d=function(){function e(e,t){this.name="UnexpectedResponseException",this.message=e,this.status=t}return e.prototype=new Error,e.constructor=e,e}();PDFJS.UnexpectedResponseException=d;(function(){function e(e){this.message=e}e.prototype=new Error,e.prototype.name="NotImplementedException",e.constructor=e})(),function(){function e(e,t){this.begin=e,this.end=t,this.message="Missing data ["+e+", "+t+")"}e.prototype=new Error,e.prototype.name="MissingDataException",e.constructor=e}(),function(){function e(e){this.message=e}e.prototype=new Error,e.prototype.name="XRefParseException",e.constructor=e}();function p(e){for(var t=1,i=0;e>t;){t<<=1,i++}return i}function _(e,t){return e[t]<<8|e[t+1]}function m(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}Object.defineProperty(PDFJS,"isLittleEndian",{configurable:!0,get:function get(){return l(PDFJS,"isLittleEndian",function(){var e=new Uint8Array(2);return e[0]=1,1===new Uint16Array(e.buffer)[0]}())}}),Object.defineProperty(PDFJS,"hasCanvasTypedArrays",{configurable:!0,get:function get(){return l(PDFJS,"hasCanvasTypedArrays",function(){var e=document.createElement("canvas");return e.width=e.height=1,void 0!==e.getContext("2d").createImageData(1,1).data.buffer}())}});!function(){function e(n,r){this.buffer=n,this.byteLength=n.length,this.length=void 0===r?this.byteLength>>2:r,function(n){for(;t<n;){Object.defineProperty(e.prototype,t,i(t)),t++}}(this.length)}e.prototype=Object.create(null);var t=0;function i(e){return{get:function get(){var t=this.buffer,i=e<<2;return(t[i]|t[i+1]<<8|t[i+2]<<16|t[i+3]<<24)>>>0},set:function set(t){var i=this.buffer,n=e<<2;i[n]=255&t,i[n+1]=255&t>>8,i[n+2]=255&t>>16,i[n+3]=255&t>>>24}}}}();var b=PDFJS.Util=function(){function e(){}var t=["rgb(",0,",",0,",",0,")"];return e.makeCssRgb=function(e,i,n){return t[1]=e,t[3]=i,t[5]=n,t.join("")},e.transform=function(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]},e.applyTransform=function(e,t){return[e[0]*t[0]+e[1]*t[2]+t[4],e[0]*t[1]+e[1]*t[3]+t[5]]},e.applyInverseTransform=function(e,t){var i=t[0]*t[3]-t[1]*t[2];return[(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/i,(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/i]},e.getAxialAlignedBoundingBox=function(t,i){var n=e.applyTransform(t,i),r=e.applyTransform(t.slice(2,4),i),o=e.applyTransform([t[0],t[3]],i),a=e.applyTransform([t[2],t[1]],i);return[_Mathmin(n[0],r[0],o[0],a[0]),_Mathmin(n[1],r[1],o[1],a[1]),_Mathmax(n[0],r[0],o[0],a[0]),_Mathmax(n[1],r[1],o[1],a[1])]},e.inverseTransform=function(e){var t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]},e.apply3dTransform=function(e,t){return[e[0]*t[0]+e[1]*t[1]+e[2]*t[2],e[3]*t[0]+e[4]*t[1]+e[5]*t[2],e[6]*t[0]+e[7]*t[1]+e[8]*t[2]]},e.singularValueDecompose2dScale=function(e){var t=[e[0],e[2],e[1],e[3]],i=e[0]*t[0]+e[1]*t[2],n=e[0]*t[1]+e[1]*t[3],r=e[2]*t[0]+e[3]*t[2],o=e[2]*t[1]+e[3]*t[3],a=(i+o)/2,s=_Mathsqrt((i+o)*(i+o)-4*(i*o-r*n))/2,l=a+s||1,c=a-s||1;return[_Mathsqrt(l),_Mathsqrt(c)]},e.normalizeRect=function(e){var t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t},e.intersect=function(t,i){function n(e,t){return e-t}var r=[t[0],t[2],i[0],i[2]].sort(n),o=[t[1],t[3],i[1],i[3]].sort(n),a=[];return t=e.normalizeRect(t),i=e.normalizeRect(i),(r[0]===t[0]&&r[1]===i[0]||r[0]===i[0]&&r[1]===t[0])&&(a[0]=r[1],a[2]=r[2],(o[0]===t[1]&&o[1]===i[1]||o[0]===i[1]&&o[1]===t[1])&&(a[1]=o[1],a[3]=o[2],a))},e.sign=function(e){return 0>e?-1:1},e.appendToArray=function(e,t){Array.prototype.push.apply(e,t)},e.prependToArray=function(e,t){Array.prototype.unshift.apply(e,t)},e.extendObj=function(e,t){for(var i in t){e[i]=t[i]}},e.getInheritableProperty=function(e,t){for(;e&&!e.has(t);){e=e.get("Parent")}return e?e.get(t):null},e.inherit=function(e,t,i){for(var n in e.prototype=Object.create(t.prototype),e.prototype.constructor=e,i){e.prototype[n]=i[n]}},e.loadScript=function(e,t){var i=document.createElement("script"),n=!1;i.setAttribute("src",e),t&&(i.onload=function(){n||t(),n=!0}),document.getElementsByTagName("head")[0].appendChild(i)},e}();PDFJS.PageViewport=function(){function e(e,t,i,n,r,o){this.viewBox=e,this.scale=t,this.rotation=i,this.offsetX=n,this.offsetY=r;var a,s,l,c,h,u,f,d,p=(e[2]+e[0])/2,_=(e[3]+e[1])/2;switch(i=0>(i%=360)?i+360:i){case 180:a=-1,s=0,l=0,c=1;break;case 90:a=0,s=1,l=1,c=0;break;case 270:a=0,s=-1,l=-1,c=0;break;default:a=1,s=0,l=0,c=-1;}o&&(l=-l,c=-c),0===a?(h=_Mathabs(_-e[1])*t+n,u=_Mathabs(p-e[0])*t+r,f=_Mathabs(e[3]-e[1])*t,d=_Mathabs(e[2]-e[0])*t):(h=_Mathabs(p-e[0])*t+n,u=_Mathabs(_-e[1])*t+r,f=_Mathabs(e[2]-e[0])*t,d=_Mathabs(e[3]-e[1])*t),this.transform=[a*t,s*t,l*t,c*t,h-a*t*p-l*t*_,u-s*t*p-c*t*_],this.width=f,this.height=d,this.fontScale=t}return e.prototype={clone:function clone(t){var i="scale"in(t=t||{})?t.scale:this.scale,n="rotation"in t?t.rotation:this.rotation;return new e(this.viewBox.slice(),i,n,this.offsetX,this.offsetY,t.dontFlip)},convertToViewportPoint:function convertToViewportPoint(e,t){return b.applyTransform([e,t],this.transform)},convertToViewportRectangle:function convertToViewportRectangle(e){var t=b.applyTransform([e[0],e[1]],this.transform),i=b.applyTransform([e[2],e[3]],this.transform);return[t[0],t[1],i[0],i[1]]},convertToPdfPoint:function convertToPdfPoint(e,t){return b.applyInverseTransform([e,t],this.transform)}},e}();function y(){var e={};return e.promise=new Promise(function(t,i){e.resolve=t,e.reject=i}),e}PDFJS.createPromiseCapability=y,function(){if(o.Promise)return"function"!=typeof o.Promise.all&&(o.Promise.all=function(e){var t,i,n=0,r=[],a=new o.Promise(function(e,n){t=e,i=n});return e.forEach(function(e,o){n++,e.then(function(e){r[o]=e,0===--n&&t(r)},i)}),0===n&&t(r),a}),"function"!=typeof o.Promise.resolve&&(o.Promise.resolve=function(e){return new o.Promise(function(t){t(e)})}),"function"!=typeof o.Promise.reject&&(o.Promise.reject=function(e){return new o.Promise(function(t,i){i(e)})}),void("function"!=typeof o.Promise.prototype.catch&&(o.Promise.prototype.catch=function(e){return o.Promise.prototype.then(void 0,e)}));var e=0,t=2,i={handlers:[],running:!1,unhandledRejections:[],pendingRejectionCheck:!1,scheduleHandlers:function scheduleHandlers(t){t._status!==e&&(this.handlers=this.handlers.concat(t._handlers),t._handlers=[],this.running||(this.running=!0,setTimeout(this.runHandlers.bind(this),0)))},runHandlers:function runHandlers(){for(var e=Date.now()+1;0<this.handlers.length;){var i=this.handlers.shift(),n=i.thisPromise._status,r=i.thisPromise._value;try{1===n?"function"==typeof i.onResolve&&(r=i.onResolve(r)):"function"==typeof i.onReject&&(r=i.onReject(r),n=1,i.thisPromise._unhandledRejection&&this.removeUnhandeledRejection(i.thisPromise))}catch(e){n=t,r=e}if(i.nextPromise._updateStatus(n,r),Date.now()>=e)break}0<this.handlers.length?setTimeout(this.runHandlers.bind(this),0):this.running=!1},addUnhandledRejection:function addUnhandledRejection(e){this.unhandledRejections.push({promise:e,time:Date.now()}),this.scheduleRejectionCheck()},removeUnhandeledRejection:function removeUnhandeledRejection(e){e._unhandledRejection=!1;for(var t=0;t<this.unhandledRejections.length;t++){this.unhandledRejections[t].promise===e&&(this.unhandledRejections.splice(t),t--)}},scheduleRejectionCheck:function scheduleRejectionCheck(){this.pendingRejectionCheck||(this.pendingRejectionCheck=!0,setTimeout(function(){this.pendingRejectionCheck=!1;for(var e=Date.now(),t=0;t<this.unhandledRejections.length;t++){if(500<e-this.unhandledRejections[t].time){var i=this.unhandledRejections[t].promise._value,n="Unhandled rejection: "+i;i.stack&&(n+="\n"+i.stack),s(n),this.unhandledRejections.splice(t),t--}}this.unhandledRejections.length&&this.scheduleRejectionCheck()}.bind(this),500))}};function n(t){this._status=e,this._handlers=[];try{t.call(this,this._resolve.bind(this),this._reject.bind(this))}catch(e){this._reject(e)}}n.all=function(e){var i,r,o=new n(function(e,t){i=e,r=t}),a=e.length,s=[];if(0===a)return i(s),o;function l(e){o._status!==t&&(s=[],r(e))}for(var c=0,h=e.length;c<h;++c){var u=e[c],f=function(e){return function(n){o._status!==t&&(s[e]=n,0===--a&&i(s))}}(c);n.isPromise(u)?u.then(f,l):f(u)}return o},n.isPromise=function(e){return e&&"function"==typeof e.then},n.resolve=function(e){return new n(function(t){t(e)})},n.reject=function(e){return new n(function(t,i){i(e)})},n.prototype={_status:null,_value:null,_handlers:null,_unhandledRejection:null,_updateStatus:function _updateStatus(e,r){1!==this._status&&this._status!==t&&(1===e&&n.isPromise(r)?r.then(this._updateStatus.bind(this,1),this._updateStatus.bind(this,t)):(this._status=e,this._value=r,e===t&&0===this._handlers.length&&(this._unhandledRejection=!0,i.addUnhandledRejection(this)),i.scheduleHandlers(this)))},_resolve:function _resolve(e){this._updateStatus(1,e)},_reject:function _reject(e){this._updateStatus(t,e)},then:function then(e,t){var r=new n(function(e,t){this.resolve=e,this.reject=t});return this._handlers.push({thisPromise:this,onResolve:e,onReject:t,nextPromise:r}),i.scheduleHandlers(this),r},catch:function _catch(e){return this.then(void 0,e)}},o.Promise=n}();!function(){function e(e,t,i){for(;e.length<i;){e+=t}return e}function t(){this.started={},this.times=[],this.enabled=!0}t.prototype={time:function time(e){this.enabled&&(e in this.started&&s("Timer is already running for "+e),this.started[e]=Date.now())},timeEnd:function timeEnd(e){this.enabled&&(e in this.started||s("Timer has not been started for "+e),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e])},toString:function toString(){var t,i,n=this.times,r="",o=0;for(t=0,i=n.length;t<i;++t){var a=n[t].name;a.length>o&&(o=a.length)}for(t=0,i=n.length;t<i;++t){var s=n[t],l=s.end-s.start;r+=e(s.name," ",o)+" "+l+"ms\n"}return r}}}();PDFJS.createBlob=function(e,t){if("undefined"!=typeof Blob)return new Blob([e],{type:t});var i=new MozBlobBuilder;return i.append(e),i.getBlob(t)},PDFJS.createObjectURL=function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";return function(t,i){if(!PDFJS.disableCreateObjectURL&&"undefined"!=typeof URL&&URL.createObjectURL){var n=PDFJS.createBlob(t,i);return URL.createObjectURL(n)}for(var r="data:"+i+";base64,",o=0,a=t.length;o<a;o+=3){var s=255&t[o],l=255&t[o+1],c=255&t[o+2];r+=e[s>>2]+e[(3&s)<<4|l>>4]+e[o+1<a?(15&l)<<2|c>>6:64]+e[o+2<a?63&c:64]}return r}}(),"undefined"!==typeof e&&e.exports&&(e.exports=n)},function(e,t,i){"use strict";var n=i(153),r=/[ \f\t\v]*\r?\n/,o=/^NRRD\d{4}$/,a=/^([^:]*)(:[ =])(.*)$/,s=/^LIST(?: (\d+))?$/;function l(e){return e.replace("\\","\\\\").replace("\n","\\n")}function c(e){return e.split("\\\\").map(function(e){return e.replace("\\n","\n")}).join("\\")}function h(e,t,i,r){var o,a=function(e){return e in d?d[e]:e}(e);switch(e){case"data":case"buffer":case"keys":case"version":break;case"content":case"number":case"sampleUnits":case"space":o=a+": "+t;break;case"blockSize":case"lineSkip":case"byteSkip":case"dimension":case"spaceDimension":n("number"==typeof t||babelHelpers.instanceof(t,Number),"Field "+e+" should at least contain a number!"),o=a+": "+t;break;case"min":case"max":case"oldMin":case"oldMax":n("number"==typeof t||babelHelpers.instanceof(t,Number),"Field "+e+" should contain a number!"),o=a+": "+t;break;case"spaceOrigin":n(t.length===r,"Field "+e+" should be a list with length equal to the space dimension!"),t.forEach(function(t){n("number"==typeof t||babelHelpers.instanceof(t,Number),"Field "+e+" should be a list of numbers!")}),o=a+": ("+t.join(",")+")";break;case"labels":case"units":case"spaceUnits":n(void 0!==t.length&&t.length==i,"Field "+e+" should be a list with length equal to the dimension!"),t.forEach(function(t){n("string"==typeof t||babelHelpers.instanceof(t,String),"Field "+e+" should be a list of numbers!")}),o=a+": "+t.map(g).join(" ");break;case"sizes":n(void 0!==t.length&&t.length==i,"Field "+e+" should be a list with length equal to the dimension!"),t.forEach(function(t){n("number"==typeof t||babelHelpers.instanceof(t,Number),"Field "+e+" should be a list of numbers!")}),o=a+": "+t.join(" ");break;case"spacings":case"thicknesses":case"axisMins":case"axisMaxs":n(void 0!==t.length&&t.length==i,"Field "+e+" should be a list with length equal to the dimension!"),t.forEach(function(t){n("number"==typeof t||babelHelpers.instanceof(t,Number),"Field "+e+" should be a list of numbers!")}),o=a+": "+t.join(" ");break;case"spaceDirections":n(void 0!==t.length&&t.length===i,"Field "+e+" should be a list with length equal to the dimension!"),t.forEach(function(t){n(null===t||void 0!==t.length&&t.length===r,"The elements of field "+e+" should be lists with length equal to the space dimension!"),null!==t&&t.forEach(function(t){n("number"==typeof t||babelHelpers.instanceof(t,Number),"The elements of field "+e+" should be lists of numbers!")})}),o=a+": "+t.map(function(e){return null===e?"none":"("+e.join(",")+")"}).join(" ");break;case"measurementFrame":n(void 0!==t.length&&t.length===r,"Field "+e+" should be a list with length equal to the space dimension!"),t.forEach(function(t){n(null===t||void 0!==t.length&&t.length===r,"The elements of field "+e+" should be lists with length equal to the space dimension!"),null!==t&&t.forEach(function(t){n("number"==typeof t||babelHelpers.instanceof(t,Number),"The elements of field "+e+" should be lists of numbers!")})}),o=a+": "+t.map(function(e){return null===e?"none":"("+e.join(",")+")"}).join(" ");break;case"type":case"encoding":case"endian":n("string"==typeof t||babelHelpers.instanceof(t,String),"Field "+e+" should contain a string!"),o=a+": "+t;break;case"dataFile":t.length||t.files&&"subdim"in t||(o=a+": "+function(e){if("string"==typeof e||babelHelpers.instanceof(e,String))return e;if("format"in e&&"min"in e&&"max"in e&&"step"in e)return"subdim"in e?e.format+" "+e.min+" "+e.max+" "+e.step+" "+e.subdim:e.format+" "+e.min+" "+e.max+" "+e.step;throw new Error("Unrecognized data file format!")}(t));break;case"centers":case"kinds":n(void 0!==t.length&&t.length==i,"Field "+e+" should be a list with length equal to the dimension!"),o=a+": "+t.map(B).join(" ");break;default:console.warn("Unrecognized NRRD field: "+e+", skipping.");}return o}function u(e,t){switch(e){case"content":case"number":case"sampleUnits":break;case"dimension":case"blockSize":case"lineSkip":case"byteSkip":case"spaceDimension":t=_(t);break;case"min":case"max":case"oldMin":case"oldMax":t=m(t);break;case"spaceOrigin":t=b(t);break;case"labels":case"units":case"spaceUnits":t=A(t,y);break;case"sizes":t=A(t,_);break;case"spacings":case"thicknesses":case"axisMins":case"axisMaxs":t=A(t,m);break;case"spaceDirections":case"measurementFrame":t=A(t,b);break;case"type":t=w(t);break;case"encoding":t=x(t);break;case"endian":t=k(t);break;case"dataFile":t=function(e){var t=I.exec(e);return t?5==t.length&&t[4]?{format:e.substring(0,t.index),min:_(t[1]),max:_(t[2]),step:_(t[3]),subdim:_(t[4])}:{format:e.substring(0,t.index),min:_(t[1]),max:_(t[2]),step:_(t[3])}:e}(t);break;case"centers":t=A(t,S);break;case"kinds":t=A(t,C);break;case"space":t=function(e){switch(e.toLowerCase()){case"right-anterior-superior":case"ras":return"right-anterior-superior";case"left-anterior-superior":case"las":return"left-anterior-superior";case"left-posterior-superior":case"lps":return"left-posterior-superior";case"right-anterior-superior-time":case"rast":return"right-anterior-superior-time";case"left-anterior-superior-time":case"last":return"left-anterior-superior-time";case"left-posterior-superior-time":case"lpst":return"left-posterior-superior-time";case"scanner-xyz":return"scanner-xyz";case"scanner-xyz-time":return"scanner-xyz-time";case"3d-right-handed":return"3D-right-handed";case"3d-left-handed":return"3D-left-handed";case"3d-right-handed-time":return"3D-right-handed-time";case"3d-left-handed-time":return"3D-left-handed-time";default:return console.warn("Unrecognized space: "+e),e;}}(t);break;default:console.warn("Unrecognized NRRD field: "+e);}return t}e.exports.serialize=function(e){var t,i,n,r,o,a,s,c,u,f,d=1,p={},_=[];for(r in e){p[r]=e[r]}if(void 0===p.sizes)throw new Error("Sizes missing from NRRD file!");if(void 0===p.dimension&&(p.dimension=p.sizes.length),babelHelpers.instanceof(p.data,Int8Array)?o="int8":babelHelpers.instanceof(p.data,Uint8Array)?o="uint8":babelHelpers.instanceof(p.data,Int16Array)?o="int16":babelHelpers.instanceof(p.data,Uint16Array)?o="uint16":babelHelpers.instanceof(p.data,Int32Array)?o="int32":babelHelpers.instanceof(p.data,Uint32Array)?o="uint32":babelHelpers.instanceof(p.data,Float32Array)?o="float":babelHelpers.instanceof(p.data,Float64Array)&&(o="double"),void 0===p.type&&void 0!==o)p.type=o;else{if(void 0===p.type)throw new Error("Type of data is not given and cannot be inferred!");("string"==typeof p.type||babelHelpers.instanceof(p.type,String))&&(p.type=w(p.type))}void 0===p.encoding?p.encoding="raw":("string"==typeof p.encoding||babelHelpers.instanceof(p.encoding,String))&&(p.encoding=x(p.encoding)),p.data&&"block"!=p.type&&"int8"!=p.type&&"uint8"!=p.type&&"ascii"!=p.encoding?p.endian=M:"block"==p.type||"int8"==p.type||"uint8"==p.type||"ascii"==p.encoding?p.endian=void 0:("string"==typeof p.endian||babelHelpers.instanceof(p.endian,String))&&(p.endian=k(p.endian));var m;if(void 0!==p.spaceDimension)m=p.spaceDimension;else if(void 0!==p.space)switch(p.space){case"right-anterior-superior":case"RAS":m=3;break;case"left-anterior-superior":case"LAS":m=3;break;case"left-posterior-superior":case"LPS":m=3;break;case"right-anterior-superior-time":case"RAST":m=4;break;case"left-anterior-superior-time":case"LAST":m=4;break;case"left-posterior-superior-time":case"LPST":m=4;break;case"scanner-xyz":m=3;break;case"scanner-xyz-time":m=4;break;case"3D-right-handed":case"3D-left-handed":m=3;break;case"3D-right-handed-time":case"3D-left-handed-time":m=4;break;default:console.warn("Unrecognized space: "+p.space);}for(D(p),t=0;t<p.sizes.length;t++){if(0>=p.sizes[t])throw new Error("Sizes should be a list of positive (>0) integers!");d*=p.sizes[t]}if(p.data){if(p.data.length<d)throw new Error("Missing data to serialize!")}else if(p.buffer){if("raw"==p.encoding&&(a="block"==p.type&&void 0!==p.blockSize?p.blockSize:T(p.type),p.buffer.byteLength<d*a))throw new Error("Missing data to serialize!")}else if(!p.dataFile)throw new Error("Will not serialize an empty NRRD file!");if(p.data)switch(p.encoding){case"raw":s=p.type==o&&p.endian==M?p.data.buffer.slice(p.data.byteOffset,p.data.byteOffset+p.data.byteLength):p.endian==M?(s=R(p.data,p.type)).buffer.slice(s.byteOffset,s.byteOffset+s.byteLength):function(e,t,i){var n,r,o,a=T(t),s=new ArrayBuffer(e.length*a);switch(i){case"big":r=!1;break;case"little":r=!0;break;default:return void console.warn("Unsupported endianness in NRRD file: "+i);}switch(o=new DataView(s),t){case"int8":for(n=0;n<e.length;n++){o.setInt8(n,e[n],r)}return s;case"uint8":for(n=0;n<e.length;n++){o.setUint8(n,e[n],r)}return s;case"int16":for(n=0;n<e.length;n++){o.setInt16(2*n,e[n],r)}return s;case"uint16":for(n=0;n<e.length;n++){o.setUint16(2*n,e[n],r)}return s;case"int32":for(n=0;n<e.length;n++){o.setInt32(4*n,e[n],r)}return s;case"uint32":for(n=0;n<e.length;n++){o.setUint32(4*n,e[n],r)}return s;case"float":for(n=0;n<e.length;n++){o.setFloat32(4*n,e[n],r)}return s;case"double":for(n=0;n<e.length;n++){o.setFloat64(8*n,e[n],r)}return s;default:return void console.warn("Cannot serialize NRRD type: "+t+".");}}(p.data,p.type,p.endian);break;case"ascii":s=p.type==o?G(p.data):G(R(p.data,p.type));break;default:throw new Error("Unsupported NRRD encoding: "+p.encoding);}else p.buffer&&(s=p.buffer);_.push("NRRD0005"),_.push("# Generated by nrrd-js");var b=["dimension","spaceDimension","space"];for(t=0;t<b.length;t++){void 0!==p[r=b[t]]&&void 0!==(u=h(r,p[r],p.dimension,m))&&_.push(u)}for(r in p){void 0!==p[r]&&(0<=b.indexOf(r)||void 0!==(u=h(r,p[r],p.dimension,m))&&_.push(u))}if(p.keys)for(r in p.keys){if(0<=r.indexOf(":="))throw new Error("The combination ':=' is not allowed in an NRRD key!");_.push(r+":="+l(p[r]))}if(p.dataFile&&p.dataFile.length?(_.push("data file: LIST"),Array.prototype.push.apply(_,p.dataFile)):p.dataFile&&p.dataFile.files&&"subdim"in p.dataFile&&(_.push("data file: LIST "+p.dataFile.subdim),Array.prototype.push.apply(_,p.dataFile.files)),!s||"dataFile"in p)for(_.push(""),f=_.join("\n"),i=new ArrayBuffer(f.length),n=new Uint8Array(i),t=0;t<f.length;t++){n[t]=f.charCodeAt(t)}else{for(_.push(""),_.push(""),f=_.join("\n"),i=new ArrayBuffer(f.length+s.byteLength),n=new Uint8Array(i),t=0;t<f.length;t++){n[t]=f.charCodeAt(t)}c=new Uint8Array(s),n.set(c,f.length)}return i},e.exports.parse=function(e){var t,i,n,l,h,f,d={data:void 0,buffer:void 0,keys:{},version:void 0},b=new Uint8Array(e);for(b.buffer!==e&&(e=b.buffer),t=2;t<b.length;){if(10==b[t]){if(10==b[t-1]||13==b[t-1]&&10==b[t-2]){n=t+1;break}t++}else 13==b[t]?t++:t+=2}if(void 0===n?i=_StringfromCharCode.apply(null,b):(i=_StringfromCharCode.apply(null,b.subarray(0,n)),d.buffer=e.slice(n)),l=(l=i.split(r)).filter(function(e){return 0<e.length&&"#"!=e[0]}),!o.test(l[0]))throw new Error("File is not an NRRD file!");for(d.version=parseInt(l[0].substring(4,8),10),5<d.version&&console.warn("Reading an unsupported version of the NRRD format; things may go haywire."),t=1;t<l.length;t++){if(h=a.exec(l[t])){if(": "==h[2])h[1]=p(h[1]),"dataFile"==h[1]&&(f=s.exec(h[3]))?(2==f.length&&f[1]?d[h[1]]={files:l.slice(t+1),subdim:_(f[1])}:d[h[1]]=l.slice(t+1),l.length=t):d[h[1]]=u(h[1],h[3]);else{if(":="!=h[2])throw new Error("Logic error in NRRD parser.");d.keys[h[1]]=c(h[3])}}else console.warn("Unrecognized line in NRRD header: "+l[t])}if(D(d),"dataFile"in d)console.warn("No support for external data yet!");else switch(d.encoding){case"raw":d.data=function(e,t,i,n){var r,o,a,s=1;for(r=0;r<i.length;r++){if(0>=i[r])throw new Error("Sizes should be a list of positive (>0) integers!");s*=i[r]}if("block"==t)return e.slice(0,s*n.blockSize);if("int8"==t||"uint8"==t||n.endian==M)switch(t){case"int8":return l(1),new Int8Array(e.slice(0,s));case"uint8":return l(1),new Uint8Array(e.slice(0,s));case"int16":return l(2),new Int16Array(e.slice(0,2*s));case"uint16":return l(2),new Uint16Array(e.slice(0,2*s));case"int32":return l(4),new Int32Array(e.slice(0,4*s));case"uint32":return l(4),new Uint32Array(e.slice(0,4*s));case"float":return l(4),new Float32Array(e.slice(0,4*s));case"double":return l(8),new Float64Array(e.slice(0,8*s));default:return void console.warn("Unsupported NRRD type: "+t+", returning raw buffer.");}else{switch(n.endian){case"big":!1;break;case"little":!0;break;default:return void console.warn("Unsupported endianness in NRRD file: "+n.endian);}switch(a=new DataView(e),t){case"int8":for(o=new Int8Array(s),r=0;r<s;r++){o[r]=a.getInt8(r)}return o;case"uint8":for(o=new Uint8Array(s),r=0;r<s;r++){o[r]=a.getUint8(r)}return o;case"int16":for(o=new Int16Array(s),r=0;r<s;r++){o[r]=a.getInt16(2*r)}return o;case"uint16":for(o=new Uint16Array(s),r=0;r<s;r++){o[r]=a.getUint16(2*r)}return o;case"int32":for(o=new Int32Array(s),r=0;r<s;r++){o[r]=a.getInt32(4*r)}return o;case"uint32":for(o=new Uint32Array(s),r=0;r<s;r++){o[r]=a.getUint32(4*r)}return o;case"float":for(o=new Float32Array(s),r=0;r<s;r++){o[r]=a.getFloat32(4*r)}return o;case"double":for(o=new Float64Array(s),r=0;r<s;r++){o[r]=a.getFloat64(8*r)}return o;default:return void console.warn("Unsupported NRRD type: "+t+", returning raw buffer.");}}function l(t){if(e.byteLength<s*t)throw new Error("NRRD file does not contain enough data!")}}(d.buffer,d.type,d.sizes,{endian:d.endian,blockSize:d.blockSize});break;case"ascii":d.data=function(e,t,i){var n,r,o,a,s=1;for(n=0;n<i.length;n++){if(0>=i[n])throw new Error("Sizes should be a list of positive (>0) integers!");s*=i[n]}if(r=new Uint8Array(e),o=_StringfromCharCode.apply(null,r),(a=o.split(P)).length<s)throw new Error("Not enough data in NRRD file!");a.length>s&&(""===a[0]&&(a=a.slice(1)),a=a.slice(0,s));switch(t){case"int8":return new Int8Array(a.map(_));case"uint8":return new Uint8Array(a.map(_));case"int16":return new Int16Array(a.map(_));case"uint16":return new Uint16Array(a.map(_));case"int32":return new Int32Array(a.map(_));case"uint32":return new Uint32Array(a.map(_));case"float":return new Float32Array(a.map(m));case"double":return new Float64Array(a.map(m));default:return void console.warn("Unsupported NRRD type: "+t+".");}}(d.buffer,d.type,d.sizes);break;default:console.warn("Unsupported NRRD encoding: "+d.encoding);}return d};var f={"block size":"blockSize",blocksize:"blockSize","old min":"oldMin",oldmin:"oldMin","old max":"oldMax",oldmax:"oldMax","data file":"dataFile",datafile:"dataFile","line skip":"lineSkip",lineskip:"lineSkip","byte skip":"byteSkip",byteskip:"byteSkip","sample units":"sampleUnits",sampleunits:"sampleUnits","axis mins":"axisMins","axis maxs":"axisMaxs",centers:"centers",centerings:"centers","space dimension":"spaceDimension","space units":"spaceUnits","space origin":"spaceOrigin","space directions":"spaceDirections","measurement frame":"measurementFrame"},d=function(){var e,t={};for(e in f){t[f[e]]=e}return t}();function p(e){return(e=e.toLowerCase())in f?f[e]:e}function _(e){var t=parseInt(e,10);if(_NumberisNaN(t))throw new Error("Malformed NRRD integer: "+e);return t}function m(e){if(0<=(e=e.toLowerCase()).indexOf("nan"))return NaN;if(0<=e.indexOf("-inf"))return-1/0;if(0<=e.indexOf("inf"))return 1/0;var t=parseFloat(e);if(_NumberisNaN(t))throw new Error("Malformed NRRD float: "+e);return t}function b(e){if("none"==e)return null;if(2>e.length||"("!==e[0]||")"!==e[e.length-1])throw new Error("Malformed NRRD vector: "+e);return e.slice(1,-1).split(",").map(m)}function y(e){if(2>length||"\""!=e[0]||"\""!=e[e.length-1])throw new Error("Invalid NRRD quoted string: "+e);return e.slice(1,-1).replace("\\\"","\"")}function g(e){return"\""+e.replace("\"","\\\"")+"\""}var v=/[ \t]+/;function A(e,t){return e.split(v).map(t)}function w(e){switch(e.toLowerCase()){case"signed char":case"int8":case"int8_t":return"int8";case"uchar":case"unsigned char":case"uint8":case"uint8_t":return"uint8";case"short":case"short int":case"signed short":case"signed short int":case"int16":case"int16_t":return"int16";case"ushort":case"unsigned short":case"unsigned short int":case"uint16":case"uint16_t":return"uint16";case"int":case"signed int":case"int32":case"int32_t":return"int32";case"uint":case"unsigned int":case"uint32":case"uint32_t":return"uint32";case"longlong":case"long long":case"long long int":case"signed long long":case"signed long long int":case"int64":case"int64_t":return"int64";case"ulonglong":case"unsigned long long":case"unsigned long long int":case"uint64":case"uint64_t":return"uint64";case"float":return"float";case"double":return"double";case"block":return"block";default:return console.warn("Unrecognized NRRD type: "+e),e;}}function x(e){switch(e.toLowerCase()){case"raw":return"raw";case"txt":case"text":case"ascii":return"ascii";case"hex":return"hex";case"gz":case"gzip":return"gzip";case"bz2":case"bzip2":return"bzip2";default:return console.warn("Unrecognized NRRD encoding: "+e),e;}}function k(e){switch(e.toLowerCase()){case"little":return"little";case"big":return"big";default:return console.warn("Unrecognized NRRD endianness: "+e),e;}}var I=/ (-?\d+) (-?\d+) (-?\d+)(?: (\d+))?$/;function S(e){switch(e.toLowerCase()){case"cell":return"cell";case"node":return"node";case"???":case"none":return null;default:return console.warn("Unrecognized NRRD center: "+e),e;}}var E={domain:"domain",space:"space",time:"time",list:"list",point:"point",vector:"vector","covariant-vector":"covariant-vector",normal:"normal",stub:"stub",scalar:"scalar",complex:"complex","2-vector":"2-vector","3-color":"3-color","rgb-color":"RGB-color","hsv-color":"HSV-color","xyz-color":"XYZ-color","4-color":"4-color","rgba-color":"RGBA-color","3-vector":"3-vector","3-gradient":"3-gradient","3-normal":"3-normal","4-vector":"4-vector",quaternion:"quaternion","2d-symmetric-matrix":"2D-symmetric-matrix","2d-masked-symmetric-matrix":"2D-masked-symmetric-matrix","2d-matrix":"2D-matrix","2d-masked-matrix":"2D-masked-matrix","3d-symmetric-matrix":"3D-symmetric-matrix","3d-masked-symmetric-matrix":"3D-masked-symmetric-matrix","3d-matrix":"3D-matrix","3d-masked-matrix":"3D-masked-matrix","???":null,none:null};function C(e){var t=e.toLowerCase();return t in E?E[t]:(console.warn("Unrecognized NRRD kind: "+e),e)}function B(e){return null===e?"???":e}var M=function(){var e=new ArrayBuffer(4),t=new Uint32Array(e),i=new Uint8Array(e);return t[0]=16909060,1==i[0]&&2==i[1]&&3==i[2]&&4==i[3]?"big":4==i[0]&&3==i[1]&&2==i[2]&&1==i[3]?"little":void console.warn("Unrecognized system endianness!")}(),P=/[ \t\n\r\v\f]+/;function T(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":return 4;case"int64":case"uint64":return 8;case"float":return 4;case"double":return 8;default:throw new Error("Do not know the size of NRRD type: "+e);}}function D(e){if(void 0===e.dimension)throw new Error("Dimension missing from NRRD file!");if(void 0===e.type)throw new Error("Type missing from NRRD file!");if(void 0===e.encoding)throw new Error("Encoding missing from NRRD file!");if(void 0===e.sizes)throw new Error("Sizes missing from NRRD file!");if("block"!=e.type&&"int8"!=e.type&&"uint8"!=e.type&&"ascii"!=e.encoding&&void 0===e.endian)throw new Error("Endianness missing from NRRD file!");if("block"==e.type&&void 0===e.blockSize)throw new Error("Missing block size in NRRD file!");if(0===e.dimension)throw new Error("Zero-dimensional NRRD file?");if(e.dimension!=e.sizes.length)throw new Error("Length of 'sizes' is different from 'dimension' in an NRRD file!");if(e.spacings&&e.dimension!=e.spacings.length)throw new Error("Length of 'spacings' is different from 'dimension' in an NRRD file!");if(e.thicknesses&&e.dimension!=e.thicknesses.length)throw new Error("Length of 'thicknesses' is different from 'dimension' in an NRRD file!");if(e.axisMins&&e.dimension!=e.axisMins.length)throw new Error("Length of 'axis mins' is different from 'dimension' in an NRRD file!");if(e.axisMaxs&&e.dimension!=e.axisMaxs.length)throw new Error("Length of 'axis maxs' is different from 'dimension' in an NRRD file!");if(e.centers&&e.dimension!=e.centers.length)throw new Error("Length of 'centers' is different from 'dimension' in an NRRD file!");if(e.labels&&e.dimension!=e.labels.length)throw new Error("Length of 'labels' is different from 'dimension' in an NRRD file!");if(e.units&&e.dimension!=e.units.length)throw new Error("Length of 'units' is different from 'dimension' in an NRRD file!");if(e.kinds&&e.dimension!=e.kinds.length)throw new Error("Length of 'kinds' is different from 'dimension' in an NRRD file!");if(!(void 0!==e.data&&0!==e.data.length||void 0!==e.buffer&&0!==e.buffer.byteLength||void 0!==e.dataFile))throw new Error("NRRD file has neither inline or external data!")}function R(e,t){switch(t){case"int8":return new Int8Array(e);case"uint8":return new Uint8Array(e);case"int16":return new Int16Array(e);case"uint16":return new Uint16Array(e);case"int32":return new Int32Array(e);case"uint32":return new Uint32Array(e);case"float":return new Float32Array(e);case"double":return new Float64Array(e);default:throw new Error("Cannot cast to NRRD type: "+t);}}function G(e){var t,i,n,r,o=Array(e.length);for(t=0;t<e.length;t++){o[t]=""+e[t]}for(i=o.join(" "),n=new ArrayBuffer(i.length),r=new Uint8Array(n),t=0;t<r.length;t++){r[t]=i.charCodeAt(t)}return n}},function(e,t,i){"use strict";(function(t){function n(e,t){if(e===t)return 0;for(var i=e.length,n=t.length,r=0,o=_Mathmin(i,n);r<o;++r){if(e[r]!==t[r]){i=e[r],n=t[r];break}}return i<n?-1:n<i?1:0}function r(e){return t.Buffer&&"function"==typeof t.Buffer.isBuffer?t.Buffer.isBuffer(e):!(null==e||!e._isBuffer)}var o=i(154),a=Object.prototype.hasOwnProperty,s=Array.prototype.slice,l="foo"===function(){}.name;function c(e){return Object.prototype.toString.call(e)}function h(e){return!r(e)&&"function"==typeof t.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):!!e&&(babelHelpers.instanceof(e,DataView)||!!(e.buffer&&babelHelpers.instanceof(e.buffer,ArrayBuffer))))}var u=e.exports=b,f=/\s*function\s+([^\(\s]*)\s*/;function d(e){if(o.isFunction(e)){if(l)return e.name;var t=e.toString().match(f);return t&&t[1]}}function p(e,t){return"string"==typeof e?e.length<t?e:e.slice(0,t):e}function _(e){if(l||!o.isFunction(e))return o.inspect(e);var t=d(e);return"[Function"+(t?": "+t:"")+"]"}function m(e,t,i,n,r){throw new u.AssertionError({message:i,actual:e,expected:t,operator:n,stackStartFunction:r})}function b(e,t){e||m(e,!0,t,"==",u.ok)}function y(e,t,i,a){if(e===t)return!0;if(r(e)&&r(t))return 0===n(e,t);if(o.isDate(e)&&o.isDate(t))return e.getTime()===t.getTime();if(o.isRegExp(e)&&o.isRegExp(t))return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(null!==e&&"object"==babelHelpers.typeof(e)||null!==t&&"object"==babelHelpers.typeof(t)){if(h(e)&&h(t)&&c(e)===c(t)&&!(babelHelpers.instanceof(e,Float32Array)||babelHelpers.instanceof(e,Float64Array)))return 0===n(new Uint8Array(e.buffer),new Uint8Array(t.buffer));if(r(e)!==r(t))return!1;var l=(a=a||{actual:[],expected:[]}).actual.indexOf(e);return-1!==l&&l===a.expected.indexOf(t)||(a.actual.push(e),a.expected.push(t),function(e,t,i,n){if(null===e||void 0===e||null===t||void 0===t)return!1;if(o.isPrimitive(e)||o.isPrimitive(t))return e===t;if(i&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;var r=g(e),a=g(t);if(r&&!a||!r&&a)return!1;if(r)return e=s.call(e),t=s.call(t),y(e,t,i);var l,c,h=w(e),u=w(t);if(h.length!==u.length)return!1;for(h.sort(),u.sort(),c=h.length-1;0<=c;c--){if(h[c]!==u[c])return!1}for(c=h.length-1;0<=c;c--){if(l=h[c],!y(e[l],t[l],i,n))return!1}return!0}(e,t,i,a))}return i?e===t:e==t}function g(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function v(e,t){if(!e||!t)return!1;if("[object RegExp]"==Object.prototype.toString.call(t))return t.test(e);try{if(babelHelpers.instanceof(e,t))return!0}catch(e){}return!Error.isPrototypeOf(t)&&!0===t.call({},e)}function A(e,t,i,n){var r;if("function"!=typeof t)throw new TypeError("\"block\" argument must be a function");"string"==typeof i&&(n=i,i=null),r=function(e){var t;try{e()}catch(e){t=e}return t}(t),n=(i&&i.name?" ("+i.name+").":".")+(n?" "+n:"."),e&&!r&&m(r,i,"Missing expected exception"+n);var a="string"==typeof n,s=!e&&o.isError(r),l=!e&&r&&!i;if((s&&a&&v(r,i)||l)&&m(r,i,"Got unwanted exception"+n),e&&r&&i&&!v(r,i)||!e&&r)throw r}u.AssertionError=function(e){this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=function(e){return p(_(e.actual),128)+" "+e.operator+" "+p(_(e.expected),128)}(this),this.generatedMessage=!0);var t=e.stackStartFunction||m;if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{var i=new Error;if(i.stack){var n=i.stack,r=d(t),o=n.indexOf("\n"+r);if(0<=o){var a=n.indexOf("\n",o+1);n=n.substring(a+1)}this.stack=n}}},o.inherits(u.AssertionError,Error),u.fail=m,u.ok=b,u.equal=function(e,t,i){e!=t&&m(e,t,i,"==",u.equal)},u.notEqual=function(e,t,i){e==t&&m(e,t,i,"!=",u.notEqual)},u.deepEqual=function(e,t,i){y(e,t,!1)||m(e,t,i,"deepEqual",u.deepEqual)},u.deepStrictEqual=function(e,t,i){y(e,t,!0)||m(e,t,i,"deepStrictEqual",u.deepStrictEqual)},u.notDeepEqual=function(e,t,i){y(e,t,!1)&&m(e,t,i,"notDeepEqual",u.notDeepEqual)},u.notDeepStrictEqual=function e(t,i,n){y(t,i,!0)&&m(t,i,n,"notDeepStrictEqual",e)},u.strictEqual=function(e,t,i){e!==t&&m(e,t,i,"===",u.strictEqual)},u.notStrictEqual=function(e,t,i){e===t&&m(e,t,i,"!==",u.notStrictEqual)},u.throws=function(e,t,i){A(!0,e,t,i)},u.doesNotThrow=function(e,t,i){A(!1,e,t,i)},u.ifError=function(e){if(e)throw e};var w=Object.keys||function(e){var t=[];for(var i in e){a.call(e,i)&&t.push(i)}return t}}).call(this,i(63))},function(e,t,i){(function(e,n){var r=/%[sdj%]/g;t.format=function(e){if(!b(e)){for(var t=[],i=0;i<arguments.length;i++){t.push(s(arguments[i]))}return t.join(" ")}i=1;for(var n=arguments,o=n.length,a=(e+"").replace(r,function(e){if("%%"===e)return"%";if(i>=o)return e;switch(e){case"%s":return n[i++]+"";case"%d":return+n[i++];case"%j":try{return JSON.stringify(n[i++])}catch(e){return"[Circular]"}default:return e;}}),l=n[i];i<o;l=n[++i]){_(l)||!v(l)?a+=" "+l:a+=" "+s(l)}return a},t.deprecate=function(i,r){if(y(e.process))return function(){return t.deprecate(i,r).apply(this,arguments)};if(!0===n.noDeprecation)return i;var o=!1;return function(){if(!o){if(n.throwDeprecation)throw new Error(r);n.traceDeprecation?console.trace(r):console.error(r),o=!0}return i.apply(this,arguments)}};var o,a={};function s(e,i){var n={seen:[],stylize:c};return 3<=arguments.length&&(n.depth=arguments[2]),4<=arguments.length&&(n.colors=arguments[3]),p(i)?n.showHidden=i:i&&t._extend(n,i),y(n.showHidden)&&(n.showHidden=!1),y(n.depth)&&(n.depth=2),y(n.colors)&&(n.colors=!1),y(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=l),h(n,e,n.depth)}function l(e,t){var i=s.styles[t];return i?"\x1B["+s.colors[i][0]+"m"+e+"\x1B["+s.colors[i][1]+"m":e}function c(e,t){return e}function h(e,i,n){if(e.customInspect&&i&&x(i.inspect)&&i.inspect!==t.inspect&&(!i.constructor||i.constructor.prototype!==i)){var r=i.inspect(n,e);return b(r)||(r=h(e,r,n)),r}var o=function(e,t){if(y(t))return e.stylize("undefined","undefined");if(b(t)){var i="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,"\"")+"'";return e.stylize(i,"string")}if(m(t))return e.stylize(""+t,"number");if(p(t))return e.stylize(""+t,"boolean");if(_(t))return e.stylize("null","null")}(e,i);if(o)return o;var a=Object.keys(i),s=function(e){var t={};return e.forEach(function(e,i){t[e]=!0}),t}(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(i)),w(i)&&(0<=a.indexOf("message")||0<=a.indexOf("description")))return u(i);if(0===a.length){if(x(i)){var l=i.name?": "+i.name:"";return e.stylize("[Function"+l+"]","special")}if(g(i))return e.stylize(RegExp.prototype.toString.call(i),"regexp");if(A(i))return e.stylize(Date.prototype.toString.call(i),"date");if(w(i))return u(i)}var c,v="",k=!1,I=["{","}"];(d(i)&&(k=!0,I=["[","]"]),x(i))&&(v=" [Function"+(i.name?": "+i.name:"")+"]");return g(i)&&(v=" "+RegExp.prototype.toString.call(i)),A(i)&&(v=" "+Date.prototype.toUTCString.call(i)),w(i)&&(v=" "+u(i)),0!==a.length||k&&0!=i.length?0>n?g(i)?e.stylize(RegExp.prototype.toString.call(i),"regexp"):e.stylize("[Object]","special"):(e.seen.push(i),c=k?function(e,t,i,n,r){for(var o=[],a=0,s=t.length;a<s;++a){E(t,a+"")?o.push(f(e,t,i,n,a+"",!0)):o.push("")}return r.forEach(function(r){r.match(/^\d+$/)||o.push(f(e,t,i,n,r,!0))}),o}(e,i,n,s,a):a.map(function(t){return f(e,i,n,s,t,k)}),e.seen.pop(),function(e,t,i){if(60<e.reduce(function(e,t){return 0,0<=t.indexOf("\n")&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0))return i[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+i[1];return i[0]+t+" "+e.join(", ")+" "+i[1]}(c,v,I)):I[0]+v+I[1]}function u(e){return"["+Error.prototype.toString.call(e)+"]"}function f(e,t,i,n,r,o){var a,s,l;if((l=Object.getOwnPropertyDescriptor(t,r)||{value:t[r]}).get?s=l.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):l.set&&(s=e.stylize("[Setter]","special")),E(n,r)||(a="["+r+"]"),s||(0>e.seen.indexOf(l.value)?-1<(s=_(i)?h(e,l.value,null):h(e,l.value,i-1)).indexOf("\n")&&(s=o?s.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+s.split("\n").map(function(e){return"   "+e}).join("\n")):s=e.stylize("[Circular]","special")),y(a)){if(o&&r.match(/^\d+$/))return s;(a=JSON.stringify(""+r)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,"\"").replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function d(e){return Array.isArray(e)}function p(e){return"boolean"==typeof e}function _(e){return null===e}function m(e){return"number"==typeof e}function b(e){return"string"==typeof e}function y(e){return void 0===e}function g(e){return v(e)&&"[object RegExp]"===k(e)}function v(e){return"object"==babelHelpers.typeof(e)&&null!==e}function A(e){return v(e)&&"[object Date]"===k(e)}function w(e){return v(e)&&("[object Error]"===k(e)||babelHelpers.instanceof(e,Error))}function x(e){return"function"==typeof e}function k(e){return Object.prototype.toString.call(e)}function I(e){return 10>e?"0"+e.toString(10):e.toString(10)}t.debuglog=function(e){if(y(o)&&(o=n.env.NODE_DEBUG||""),e=e.toUpperCase(),!a[e])if(new RegExp("\\b"+e+"\\b","i").test(o)){var i=n.pid;a[e]=function(){var n=t.format.apply(t,arguments);console.error("%s %d: %s",e,i,n)}}else a[e]=function(){};return a[e]},t.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=d,t.isBoolean=p,t.isNull=_,t.isNullOrUndefined=function(e){return null==e},t.isNumber=m,t.isString=b,t.isSymbol=function(e){return"symbol"==babelHelpers.typeof(e)},t.isUndefined=y,t.isRegExp=g,t.isObject=v,t.isDate=A,t.isError=w,t.isFunction=x,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==babelHelpers.typeof(e)||void 0===e},t.isBuffer=i(155);var S=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function E(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){console.log("%s - %s",function(){var e=new Date,t=[I(e.getHours()),I(e.getMinutes()),I(e.getSeconds())].join(":");return[e.getDate(),S[e.getMonth()],t].join(" ")}(),t.format.apply(t,arguments))},t.inherits=i(156),t._extend=function(e,t){if(!t||!v(t))return e;for(var i=Object.keys(t),n=i.length;n--;){e[i[n]]=t[i[n]]}return e}}).call(this,i(63),i(62))},function(e,t){e.exports=function(e){return e&&"object"==babelHelpers.typeof(e)&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var i=function i(){};i.prototype=t.prototype,e.prototype=new i,e.prototype.constructor=e}},function(e,t,i){"use strict";i.r(t);var n=i(37);i.d(t,"FrameModel",function(){return n.a});var r=i(36);i.d(t,"StackModel",function(){return r.a});var o=i(35);i.d(t,"SeriesModel",function(){return o.a});var a=i(42);i.d(t,"VoxelModel",function(){return a.a})},function(e,t,i){"use strict";i.r(t);var n=i(39);i.d(t,"DicomParser",function(){return n.a});var r=i(41);i.d(t,"MghParser",function(){return r.a});var o=i(38);i.d(t,"NiftiParser",function(){return o.a});var a=i(40);i.d(t,"NrrdParser",function(){return a.a})},function(e,t,i){"use strict";i.r(t);var n=i(96);i.d(t,"SegmentationPreset",function(){return n.a})},function(e,t,i){"use strict";i.r(t);var n=i(27);i.d(t,"ContourUniformShader",function(){return n.a});var r=i(19);i.d(t,"ContourFragmentShader",function(){return r.a});var o=i(20);i.d(t,"ContourVertexShader",function(){return o.a});var a=i(32);i.d(t,"DataUniformShader",function(){return a.a});var s=i(30);i.d(t,"DataFragmentShader",function(){return s.a});var l=i(31);i.d(t,"DataVertexShader",function(){return l.a});var c=i(23);i.d(t,"VRUniformShader",function(){return c.a});var h=i(33);i.d(t,"VRFragmentShader",function(){return h.a});var u=i(34);i.d(t,"VRVertexShader",function(){return u.a});var f=i(97);i.d(t,"LayerUniformShader",function(){return f.a});var d=i(98);i.d(t,"LayerFragmentShader",function(){return d.a});var p=i(99);i.d(t,"LayerVertexShader",function(){return p.a});var _=i(28);i.d(t,"LocalizerUniformShader",function(){return _.a});var m=i(21);i.d(t,"LocalizerFragmentShader",function(){return m.a});var b=i(22);i.d(t,"LocalizerVertexShader",function(){return b.a})},function(e,t,i){"use strict";i.r(t);var n=i(43);i.d(t,"WidgetsCss",function(){return n.a});var r=i(64);i.d(t,"AngleWidget",function(){return r.a}),i.d(t,"angleWidgetFactory",function(){return r.b});var o=i(65);i.d(t,"AnnotationWidget",function(){return o.a}),i.d(t,"annotationWidgetFactory",function(){return o.b});var a=i(66);i.d(t,"BiRulerWidget",function(){return a.a}),i.d(t,"birulerWidgetFactory",function(){return a.b});var s=i(67);i.d(t,"CrossRulerWidget",function(){return s.a}),i.d(t,"crossrulerWidgetFactory",function(){return s.b});var l=i(68);i.d(t,"EllipseWidget",function(){return l.a}),i.d(t,"ellipseWidgetFactory",function(){return l.b});var c=i(69);i.d(t,"FreehandWidget",function(){return c.a}),i.d(t,"freehandWidgetFactory",function(){return c.b});var h=i(2);i.d(t,"HandleWidget",function(){return h.a}),i.d(t,"handleWidgetFactory",function(){return h.b});var u=i(70);i.d(t,"PeakVelocityWidget",function(){return u.a}),i.d(t,"peakVelocityWidgetFactory",function(){return u.b});var f=i(71);i.d(t,"PressureHalfTimeWidget",function(){return f.a}),i.d(t,"pressureHalfTimeWidgetFactory",function(){return f.b});var d=i(72);i.d(t,"PolygonWidget",function(){return d.a}),i.d(t,"polygonWidgetFactory",function(){return d.b});var p=i(73);i.d(t,"RectangleWidget",function(){return p.a}),i.d(t,"rectangleWidgetFactory",function(){return p.b});var _=i(74);i.d(t,"RulerWidget",function(){return _.a}),i.d(t,"rulerWidgetFactory",function(){return _.b});var m=i(75);i.d(t,"VelocityTimeIntegralWidget",function(){return m.a}),i.d(t,"velocityTimeIntegralWidgetFactory",function(){return m.b});var b=i(76);i.d(t,"VoxelProbeWidget",function(){return b.a}),i.d(t,"voxelprobeWidgetFactory",function(){return b.b})},function(e){e.exports={name:"ami.js",version:"0.26.0",main:"build/ami.js",keywords:["ami","ami.js","three.js","webgl","dicom","nifti","awesome","medical","imaging","xtk","nrrd","vtk","stl","trk"],author:{name:"Nicolas Rannou",email:"nicolas@eunate.ch",url:"https://eunate.ch"},license:"Apache-2.0",repository:{type:"git",url:"https://fnndsc.github.io/ami"},config:{gaKey:"UA-39303022-3",babel:"--module-bind js=babel-loader --colors --display-error-details"},"lint-staged":{"{{src/**,examples/**, lessons/**}/,}.{js,jsx,json,css,ts,tsx}":["prettier --write","git add"]},prettier:{printWidth:100,singleQuote:!0,trailingComma:"es5",overrides:[{files:"*.css",options:{useTabs:!1,tabWidth:2}}]},sideEffects:!1,dependencies:{"OpenJPEG.js":"joedrago/openjpeg#master","dicom-parser":"1.8.1","image-JPEG2000":"ReflexionMed/image-JPEG2000#master","jpeg-lossless-decoder-js":"1.2.3","math-float32-to-binary-string":"^1.0.0","nifti-reader-js":"v0.5.3","nrrd-js":"^0.2.1",pako:"1.0.1",three:"latest"},scripts:{precommit:"lint-staged","tslint-check":"tslint-config-prettier-check ./tslint.json","check-codestyle":"prettier-check 'src/**/*.{js,jsx,json,css,ts,tsx}'","fix-all-code-style":"prettier --write '{{src/**,examples/**, lessons/**}/,}*.{js,jsx,json,css,ts,tsx}'","build:ami":"webpack --config webpack.config.build.js","build:ami:prod":"cross-env NODE_ENV=production yarn build:ami","build:clean":"rimraf -rf build/*","build:clean:hot":"rimraf -rf build/*.hot-update.*","dev:ami":"webpack --config webpack.config.build.js --hot --watch --colors","dist:ami":"yarn build:clean && yarn build:ami && yarn build:ami:prod && yarn doc","dist:examples":"node ./scripts/buildDist.js && node ./scripts/router.js examples deploy","dist:clean":"rimraf -rf dist/*","analyze:ami":"cross-env NODE_WEBPACK_ANALYZE=true yarn build:ami","analyze:ami:prod":"cross-env NODE_WEBPACK_ANALYZE=true yarn build:ami:prod",clean:"yarn build:clean && yarn dist:clean",example:"node ./scripts/router.js examples","gen:index:examples":"node ./scripts/genIndexFiles.js examples","gen:index:examples:ga":"cross-env NODE_GA=true node ./scripts/genIndexFiles.js examples",test:"karma start",testExamples:"yarn dist:clean && yarn dist:examples",doc:"jsdoc -p -r -R README.md -c jsdoc.json -d dist/doc src",ami:"yarn dist:ami && yarn test",deploy:"yarn dist:clean && yarn build:clean && yarn dist:ami && yarn dist:examples && gh-pages -d dist"},devDependencies:{"@types/node":"^10.11.3","babel-cli":"latest","babel-core":"^6.26.0","babel-loader":"^7.1.2","babel-preset-env":"^1.6.0","babel-runtime":"^6.26.0","compression-webpack-plugin":"^1.0.1","cross-env":"^3.2.3","gh-pages":"^1.2.0",husky:"^1.1.3","jasmine-core":"^2.99.1",jsdoc:"jsdoc3/jsdoc#master",karma:"^2.0.5","karma-chrome-launcher":"^2.2.0","karma-jasmine":"^1.1.2","karma-sinon":"^1.0.5","karma-spec-reporter":"^0.0.32","karma-webpack":"3.0.0","lint-staged":"^8.0.4","live-server":"^1.1.0","node-pre-gyp":"^0.10.0",prettier:"^1.15.1","prettier-check":"^2.0.0",puppeteer:"^1.6.1",rimraf:"^2.6.1","rollup-plugin-node-builtins":"^2.1.2",shelljs:"^0.8.2",sinon:"^2.0.0","ts-loader":"^5.2.1",tslint:"^5.11.0","tslint-config-prettier":"^1.15.0","tslint-loader":"^3.6.0",typescript:"^3.1.1","uglifyjs-webpack-plugin":"^1.2.7",webpack:"^4.16.3","webpack-bundle-analyzer":"^2.9.0","webpack-cli":"^3.1.0","webpack-dev-server":"^3.1.5","webpack-watch-livereload-plugin":"^0.0.1"},engines:{node:">=6.9.0"}}},function(e){e.exports={name:"three",version:"0.99.0",description:"JavaScript 3D library",main:"build/three.js",repository:"mrdoob/three.js","jsnext:main":"build/three.module.js",module:"build/three.module.js",files:["package.json","LICENSE","README.md","build/three.js","build/three.min.js","build/three.module.js","src","examples/js","examples/fonts"],directories:{doc:"docs",example:"examples",test:"test"},eslintConfig:{extends:"mdcs",plugins:["html"]},scripts:{build:"rollup -c","build-test":"rollup -c test/rollup.unit.config.js","build-closure":"rollup -c && java -jar node_modules/google-closure-compiler-java/compiler.jar --warning_level=VERBOSE --jscomp_off=globalThis --jscomp_off=checkTypes --externs utils/build/externs.js --language_in=ECMASCRIPT5_STRICT --js build/three.js --js_output_file build/three.min.js",dev:"concurrently --names \"ROLLUP,HTTP\" -c \"bgBlue.bold,bgGreen.bold\" \"rollup -c -w -m inline\" \"http-server -c-1 -p 8080\"","dev-test":"concurrently --names \"ROLLUP,ROLLUPTEST,HTTP\" -c \"bgBlue.bold,bgRed.bold,bgGreen.bold\" \"rollup -c -w -m inline\" \"rollup -c test/rollup.unit.config.js -w -m inline\" \"http-server -p 8080\"",start:"npm run dev",lint:"eslint src",test:"npm run build-test && qunit test/unit/three.source.unit.js",travis:"npm run lint && npm test",editor:"electron ./editor/main.js"},keywords:["three","three.js","3d","webgl"],author:"mrdoob",license:"MIT",bugs:{url:"https://github.com/mrdoob/three.js/issues"},homepage:"https://threejs.org/",devDependencies:{concurrently:"^4.0.1",electron:"^3.0.8",eslint:"^5.9.0","eslint-config-mdcs":"^4.2.3","eslint-plugin-html":"^5.0.0","google-closure-compiler":"20181028.0.1","http-server":"^0.11.1",qunit:"^2.8.0",rollup:"^0.67.1"},jspm:{files:["package.json","LICENSE","README.md","build/three.js","build/three.min.js","build/three.module.js"],directories:{}}}}])});</script><dom-module id="ami-renderer-annotations" assetpath="../bower_components/wc-viewer-2d/"><template><style>:host{display:block;position:relative;}#overlay{left:0;right:0;top:0;bottom:0;position:absolute;width:100%;height:100%;overflow:hidden;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;pointer-events:none;}#overlay > div{z-index:1;position:absolute;padding:2px 10px;}.direction{font-size:16px;text-transform:uppercase;color:var(--primary-text-color);}.information{font-size:14px;-webkit-box-sizing:border-box;box-sizing:border-box;max-width:50%;color:var(--secondary-text-color);}.information > div{-o-text-overflow:ellipsis;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;}.top{top:0;text-align:center;}.bottom{bottom:0;text-align:center;}.left{left:0;text-align:left;}.right{right:0;text-align:right;}.patientname{margin-right:16px;}#lutColorCanvas{transform-origin:left center;transform:rotate(-90deg) translate(-50%, 0);margin-left:10px;height:10px;overflow:hidden;}</style><div id="overlay"><div hidden$="[[_partialAnnotations(annotations)]]" id="top" class="top direction"></div><div hidden$="[[_partialAnnotations(annotations)]]" id="bottom" class="bottom direction"></div><div hidden$="[[_partialAnnotations(annotations)]]" id="left" class="left direction"><div id="lutColorCanvas"></div></div><div hidden$="[[_partialAnnotations(annotations)]]" id="right" class="right direction"></div><div hidden$="[[_partialAnnotations(annotations)]]" id="topLeft" class="top left information"><div>Image Size: [[sizeX]] x [[sizeY]]</div><div>WW: [[windowWidth]] WL: [[windowCenter]]</div><div>I: [[mouseI]] J: [[mouseJ]] K: [[mouseK]] Val: [[mouseValue]]</div></div><div hidden$="[[_fullAnnotations(annotations)]]" id="topRight" class="top right information"><div class="patientname">[[patientName]]</div><div>[[patientId]] (age: [[patientAge]], dob: [[patientBirthdate]])</div><div>[[studyDescription]]</div><div>[[seriesDescription]]</div></div><div hidden$="[[_partialAnnotations(annotations)]]" id="bottomLeft" class="bottom left information"><div>Im: [[index]]/[[maxIndex]]</div></div><div hidden$="[[_fullAnnotations(annotations)]]" id="bottomRight" class="bottom right information"><div>Study Date:<moment-element datetime="[[studyDate]]" output-format="MMM DD[,] YYYY"></moment-element></div></div></div></template><script>var AMIRendererAnnotations=function(_Polymer$Element){babelHelpers.inherits(AMIRendererAnnotations,_Polymer$Element);function AMIRendererAnnotations(){babelHelpers.classCallCheck(this,AMIRendererAnnotations);return babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(AMIRendererAnnotations).apply(this,arguments))}babelHelpers.createClass(AMIRendererAnnotations,[{key:"_partialAnnotations",value:function _partialAnnotations(annotations){return 1>annotations}},{key:"_fullAnnotations",value:function _fullAnnotations(annotations){return 2>annotations}},{key:"_windowWidthChanged",value:function _windowWidthChanged(windowWidth){if(windowWidth===void 0){return}this.windowWidth=parseFloat(windowWidth.toFixed(2))}},{key:"_windowCenterChanged",value:function _windowCenterChanged(windowCenter){if(windowCenter===void 0){return}this.windowCenter=parseFloat(windowCenter.toFixed(2))}},{key:"lutColorCanvas",value:function lutColorCanvas(canvas){this.$.lutColorCanvas.appendChild(canvas)}}],[{key:"is",get:function get(){return"ami-renderer-annotations"}},{key:"properties",get:function get(){return{annotations:{type:Number,value:2},index:{type:Number},maxIndex:{type:Number,notify:!0},patientId:{type:String},patientName:{type:String},patientAge:{type:String},patientBirthdate:{type:String},studyDate:{type:String},studyDescription:{type:String},seriesDescription:{type:String},sizeX:{type:Number},sizeY:{type:Number},mouseI:{type:Number},mouseJ:{type:Number},mouseK:{type:Number},mouseValue:{type:Number},windowWidth:{type:Number,observer:"_windowWidthChanged"},windowCenter:{type:Number,observer:"_windowCenterChanged"}}}}]);return AMIRendererAnnotations}(Polymer.Element);window.customElements.define(AMIRendererAnnotations.is,AMIRendererAnnotations);</script></dom-module><dom-module id="ami-renderer" assetpath="../bower_components/wc-viewer-2d/"><template><style>:host{display:block;position:relative;}#container{left:0;right:0;top:0;bottom:0;position:absolute;overflow:hidden;}#overlay{left:0;right:0;top:0;bottom:0;position:absolute;width:100%;height:100%;overflow:hidden;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;pointer-events:none;}</style><div id="lut"></div><ami-renderer-annotations id="overlay" annotations="[[annotations]]" index="[[stackIndex]]" max-index="[[stackMaxIndex]]" mouse-i="[[mouseI]]" mouse-j="[[mouseJ]]" mouse-k="[[mouseK]]" mouse-value="[[mouseValue]]" patient-id="[[patientId]]" patient-name="[[patientName]]" patient-age="[[patientAge]]" patient-birthdate="[[patientBirthdate]]" size-x="[[sizeX]]" size-y="[[sizeY]]" study-date="[[studyDate]]" study-description="[[studyDescription]]" series-description="[[seriesDescription]]" window-center="[[windowCenter]]" window-width="[[windowWidth]]"></ami-renderer-annotations><div id="container"></div></template><script>var AMIRenderer=function(_Polymer$Element){var _Mathfloor=Math.floor;babelHelpers.inherits(AMIRenderer,_Polymer$Element);babelHelpers.createClass(AMIRenderer,null,[{key:"is",get:function get(){return"ami-renderer"}},{key:"properties",get:function get(){return{animationFrameID:{type:Number,value:-1},stackHelper:{type:Object,value:{}},stackScene:{type:Object,value:{},observer:"_stackSceneChanged"},localizerScene:{type:Object,value:{},observer:"_localizerSceneChanged"},activate:{type:Boolean,notify:!0},cursor:{type:Object,notify:!0,observer:"_cursorChanged"},stackIndex:{type:Number,notify:!0,observer:"_stackIndexChanged"},stackMaxIndex:{type:Number,notify:!0},sizeX:{type:Number},sizeY:{type:Number},mouseI:{type:Number},mouseJ:{type:Number},mouseK:{type:Number},mouseValue:{type:Number},annotations:{type:Number},colorLut:{type:String,value:"",observer:"_colorLutChanged"},orientation:{type:String,observer:"_orientationChanged"},patientId:{type:String},patientName:{type:String},patientAge:{type:String},patientBirthdate:{type:String},studyDate:{type:String},studyDescription:{type:String},seriesDescription:{type:String},controlKeyDown:{type:Boolean,value:!1},shihtKeyDown:{type:Boolean,value:!1},dragX:{type:Number,value:null},dragY:{type:Number,value:null},windowCenter:{type:Number,notify:!0,observer:"_windowCenterChanged"},windowLevel:{type:String,notify:!0},windowWidth:{type:Number,notify:!0,observer:"_windowWidthChanged"}}}}]);function AMIRenderer(){var _this;babelHelpers.classCallCheck(this,AMIRenderer);_this=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(AMIRenderer).call(this));_this._onMouseMoveBound=_this._onMouseMove.bind(babelHelpers.assertThisInitialized(babelHelpers.assertThisInitialized(_this)));_this._onKeyPressedBound=_this._onKeyPressed.bind(babelHelpers.assertThisInitialized(babelHelpers.assertThisInitialized(_this)));_this._onScrollBound=_this._onScroll.bind(babelHelpers.assertThisInitialized(babelHelpers.assertThisInitialized(_this)));return _this}babelHelpers.createClass(AMIRenderer,[{key:"disconnectedCallback",value:function disconnectedCallback(){babelHelpers.get(babelHelpers.getPrototypeOf(AMIRenderer.prototype),"disconnectedCallback",this).call(this);this._container.removeEventListener("mousemove",this._onMouseMoveBound);window.removeEventListener("keydown",this._onKeyPressedBound);window.removeEventListener("keyup",this._onKeyPressedBound);this._controls.removeEventListener("OnScroll",this._onScrollBound)}},{key:"ready",value:function ready(){babelHelpers.get(babelHelpers.getPrototypeOf(AMIRenderer.prototype),"ready",this).call(this);this._initViewer()}},{key:"_initViewer",value:function _initViewer(){this._container=this.$.container;this._slice=null;this._scene=null;this._clipPlane=null;this._changed=!0;this.stackHelper=null;this._initScene();this._initCamera();this._initControls();this._initLutColor();this._initRenderer();this._container.addEventListener("mousemove",this._onMouseMoveBound);window.addEventListener("keydown",this._onKeyPressedBound);window.addEventListener("keyup",this._onKeyPressedBound);this._controls.addEventListener("OnScroll",this._onScrollBound)}},{key:"_initScene",value:function _initScene(){this._scene=new THREE.Scene}},{key:"_initCamera",value:function _initCamera(){this._camera=new AMI.OrthographicCamera(this._container.clientWidth/-2,this._container.clientWidth/2,this._container.clientHeight/-2,this._container.clientHeight/2,1,1e3)}},{key:"_initControls",value:function _initControls(){var _this2=this;this._controls=new AMI.TrackballOrthoControl(this._camera,this._container);this._controls.staticMoving=!0;this._controls.noRotate=!0;this._controls.target.set(0,0,0);this._camera.controls=this._controls;this._controls.addEventListener("start",function(){_this2.activate=!0});this._controls.addEventListener("change",function(){_this2._changed=!0})}},{key:"_initLutColor",value:function _initLutColor(){this._lutColor=new AMI.LutHelper(this.$.lut,"default","linear",[[0,0,0,0],[1,1,1,1]],[[0,1],[1,1]]);this._lutColor.luts=AMI.LutHelper.presetLuts()}},{key:"_initRenderer",value:function _initRenderer(){this._renderer=new THREE.WebGLRenderer({antialias:!0});this._renderer.autoClear=!1;this._renderer.localClippingEnabled=!0;this._renderer.setSize(this._container.clientWidth,this._container.clientHeight);this._container.appendChild(this._renderer.domElement)}},{key:"_animate",value:function _animate(){var _this3=this;this._controls.update();this.animationFrameID=requestAnimationFrame(function(){return _this3._animate()});if(this._changed){this._renderer.clear();this._renderer.render(this._scene,this._camera);if(this.localizerScene){this._renderer.render(this.localizerScene,this._camera)}this._changed=!1}}},{key:"startRenderingLoop",value:function startRenderingLoop(){if(-1===this.animationFrameID){this._animate()}}},{key:"stopRenderingLoop",value:function stopRenderingLoop(){window.cancelAnimationFrame(this.animationFrameID);this.animationFrameID=-1}},{key:"resize",value:function resize(){var width=this._container.clientWidth,height=this._container.clientHeight,canvas={width:width,height:height};this._camera.canvas=canvas;this._camera.fitBox(2,1);if(this.stackHelper&&this.stackHelper.slice){this.stackHelper.slice.canvasWidth=width;this.stackHelper.slice.canvasHeight=height}if(this.localizerHelper&&this.localizerHelper.referencePlane){this.localizerHelper.canvasWidth=width;this.localizerHelper.canvasHeight=height}this._renderer.setSize(width,height);this._changed=!0}},{key:"_onScroll",value:function _onScroll(event){if(0<event.delta){if(this.stackHelper.index>=this.stackHelper.orientationMaxIndex){return!1}this.stackHelper.index+=1}else{if(0>=this.stackHelper.index){return!1}this.stackHelper.index-=1}this.stackIndex=this.stackHelper.index;this._changed=!0}},{key:"_onMouseMove",value:function _onMouseMove(event){var _Mathabs=Math.abs,rect=this._container.getBoundingClientRect(),x=(event.clientX-rect.left)/rect.width,y=(event.clientY-rect.top)/rect.height,mouse={x:2*x-1,y:-(2*y)+1},raycaster=new THREE.Raycaster;raycaster.setFromCamera(mouse,this._camera);var intersects=raycaster.intersectObject(this.stackHelper.slice,!0);if(0<intersects.length){var stack=this.stackHelper.stack,ijk=AMI.UtilsCore.worldToData(stack.lps2IJK,intersects[0].point);this.mouseI=ijk.x;this.mouseJ=ijk.y;this.mouseK=ijk.z;this.mouseValue=AMI.UtilsCore.getPixelData(this.stackHelper.stack,ijk);if(this.shiftKeyDown){this.set("cursor",intersects[0].point)}if(this.controlKeyDown){this.windowLevel="Manual";var _stack=this.stackHelper.stack;if(null===this.dragX){this.dragX=event.clientX;this.dragY=event.clientY}var threshold=15,dynamicRange=_stack.minMax[1]-_stack.minMax[0];dynamicRange/=this._container.clientWidth;if(_Mathabs(event.clientX-this.dragX)>threshold){var width=this.windowWidth+dynamicRange*(event.clientX-this.dragX);if(1>width){width=1}this.windowWidth=width;this.dragX=event.clientX}if(_Mathabs(event.clientY-this.dragY)>threshold){this.windowCenter-=dynamicRange*(event.clientY-this.dragY);this.dragY=event.clientY}}}}},{key:"_windowWidthChanged",value:function _windowWidthChanged(){this.stackHelper.slice.windowWidth=this.windowWidth;this._changed=!0}},{key:"_windowCenterChanged",value:function _windowCenterChanged(){this.stackHelper.slice.windowCenter=this.windowCenter;this._changed=!0}},{key:"_cursorChanged",value:function _cursorChanged(cursor){if(this.stackHelper&&this.stackHelper.stack){var stackHelper=this.stackHelper,stack=stackHelper.stack,ijk=AMI.UtilsCore.worldToData(stack.lps2IJK,cursor);this.mouseI=ijk.x;this.mouseJ=ijk.y;this.mouseK=ijk.z;this.mouseValue=AMI.UtilsCore.getPixelData(this.stackHelper.stack,ijk);var stackOrientation=stackHelper.orientation,indexOrientation=(stackOrientation+2)%3;if(this.stackIndex!==ijk.getComponent(indexOrientation)&&0<=ijk.getComponent(indexOrientation)){this.stackIndex=ijk.getComponent(indexOrientation)}}}},{key:"_onKeyPressed",value:function _onKeyPressed(event){this.controlKeyDown=event.ctrlKey;this.shiftKeyDown=event.shiftKey;if(!this.controlKeyDown){this.dragX=null;this.dragY=null}}},{key:"_stackSceneChanged",value:function _stackSceneChanged(stackScene){if(stackScene===void 0||null===stackScene||!stackScene.children){return}this._scene=stackScene;this.stackHelper=this._scene.children[0];this.update()}},{key:"_localizerSceneChanged",value:function _localizerSceneChanged(localizerScene){if(localizerScene===void 0||null===localizerScene||!localizerScene.children){return}this.localizerHelper=localizerScene.children[0]}},{key:"update",value:function update(){if(this.stackHelper){var stack=this.stackHelper.stack;this.stackHelper.slice.canvasWidth=this._container.clientWidth;this.stackHelper.slice.canvasHeight=this._container.clientHeight;var worldbb=stack.worldBoundingBox(),lpsDims=new THREE.Vector3((worldbb[1]-worldbb[0])/2,(worldbb[3]-worldbb[2])/2,(worldbb[5]-worldbb[4])/2),box={center:stack.worldCenter().clone(),halfDimensions:new THREE.Vector3(lpsDims.x+10,lpsDims.y+10,lpsDims.z+10)},canvas={width:this._container.clientWidth,height:this._container.clientHeight};this._camera.directions=[stack.xCosine,stack.yCosine,stack.zCosine];this._camera.box=box;this._camera.canvas=canvas;this._camera.orientation=this.orientation.toLowerCase();this._camera.update();this._camera.fitBox(2,1);this.stackHelper.orientation=this._camera.stackOrientation;this.stackHelper.index=_Mathfloor(this.stackHelper.orientationMaxIndex/2);this.set("stackMaxIndex",this.stackHelper.orientationMaxIndex);this.set("stackIndex",this.stackHelper.index);var stackDimensions=this.stackHelper.stack.dimensionsIJK;this.sizeX=stackDimensions.getComponent(this.stackHelper.orientation%3);this.sizeY=stackDimensions.getComponent((this.stackHelper.orientation+1)%3)}}},{key:"_stackIndexChanged",value:function _stackIndexChanged(value){if(this.stackHelper&&this.stackHelper.stack){this.stackHelper.index=value;this._sceneChanged()}}},{key:"_orientationChanged",value:function _orientationChanged(orientation){if(orientation===void 0||""===orientation){return}if(this.stackHelper&&this.stackHelper.stack){this._camera.orientation=orientation.toLowerCase();this._camera.update();this._camera.fitBox(2,1);this.stackHelper.orientation=this._camera.stackOrientation;this.stackHelper.index=_Mathfloor(this.stackHelper.orientationMaxIndex/2);this.set("stackMaxIndex",this.stackHelper.orientationMaxIndex);this.set("stackIndex",this.stackHelper.index);var stackDimensions=this.stackHelper.stack.dimensionsIJK;this.sizeX=stackDimensions.getComponent(this.stackHelper.orientation%3);this.sizeY=stackDimensions.getComponent((this.stackHelper.orientation+1)%3);this._changed=!0}}},{key:"_colorLutChanged",value:function _colorLutChanged(colorLut){if(!this._lutColor||""===colorLut||!this.stackHelper||!this.stackHelper.stack){return}var normalizedLut=colorLut.toLowerCase().replace(/\s/g,"_");this._lutColor.lut=normalizedLut;this.stackHelper.slice.lut=normalizedLut;this.stackHelper.slice.lutTexture=this._lutColor.texture;this.lutColorCanvas=this._lutColor._canvas;this.$.overlay.lutColorCanvas(this.lutColorCanvas);this._sceneChanged()}},{key:"_sceneChanged",value:function _sceneChanged(){this._changed=!0}}]);return AMIRenderer}(Polymer.Element);window.customElements.define(AMIRenderer.is,AMIRenderer);</script></dom-module><dom-module id="wc-viewer-2d" assetpath="../bower_components/wc-viewer-2d/"><template><style>:host{display:block;}.container{height:100%;width:100%;display:flex;}.container > div{position:absolute;top:0;bottom:0;left:0;right:0;background-color:rgba(0, 0, 0, .2);display:flex;justify-content:center;align-items:center;color:#ffffff;overflow:hidden;}.renderer-container{flex-direction:column;border:2px solid rgba(0, 0, 0, 0);}.renderer-container{flex-direction:column;border:2px solid rgba(0, 0, 0, 0);}.toolbar{width:100%;display:flex !important;flex-direction:column;width:100%;display:flex !important;position:absolute;bottom:0;left:0;right:0;background-color:rgba(0, 0, 0, .7);padding-top:6px;z-index:2;height:40px;}.toolbar-controls{display:flex;align-items:center;}.spacer{flex:1;}.linked{position:absolute;top:0;border:2px solid var(--accent-color);z-index:2;background-color:rgba(255, 255, 255, 0.2);border-radius:50%;display:flex;align-items:center;}.type{position:absolute;top:0;right:0;z-index:2;background-color:rgba(0, 0, 0, 0);display:flex;align-items:center;}.type.patient{color:var(--patient-primary-color);}.type.normative{color:var(--normative-primary-color);}paper-icon-button{background-color:rgba(0, 0, 0, 0);}.renderer{flex:1;width:100%;background-color:darkgray;position:relative;}ami-renderer{position:absolute;top:0;bottom:0;left:0;right:0;}.overlay{z-index:2;}.overlay.drag{background-color:rgba(0, 0, 0, 0.8);z-index:3;}.overlay.opaque{background-color:var(--dark-primary-color);}.drag > div{padding:45px;border:5px dashed var(--accent-color);}paper-slider{width:100%;flex:1;background-color:transparent;--paper-slider-container-color:#424242;--paper-slider-activate-color:#424242;--paper-slider-knob-color:var(--accent-color);margin:0;margin-top:-20px;margin-bottom:-10px;}paper-menu-button{padding:0;}.iron-selected{color:var(--accent-color);}[hidden]{display:none !important;}</style><chips-api id="API" api="ultron"></chips-api><div class="container" on-mouseenter="_showControls" on-mouseleave="_hideControls"><div hidden$="[[!empty]]" class="overlay">&lt; empty /&gt;</div><div hidden$="[[!drag]]" class="overlay drag"><div>Drop data!</div></div><div hidden$="[[!loading]]" class="overlay opaque">Loading images ([[imagesLoaded]]/[[imagesTotal]])</div><div hidden$="[[!loaded]]" class$="renderer-container {{_isLinked(linked)}}"><div class="renderer"><ami-renderer id="renderer" activate="{{activate}}" annotations="[[annotations]]" cursor="{{cursor}}" orientation="[[orientation]]" color-lut="{{colorLut}}" stack-scene="[[stackScene]]" localizer-scene="[[localizerScene]]" stack-index="{{index}}" stack-max-index="{{indexMax}}" window-center="{{windowCenter}}" window-level="{{windowLevel}}" window-width="{{windowWidth}}"></ami-renderer></div><div hidden$="{{!linked}}" class="linked"><paper-icon-button icon="icons:link" on-tap="_toggleLinked"></paper-icon-button></div><div class$="type {{type}}"><iron-icon icon$="{{_iconType(type)}}"></iron-icon></div><div hidden$="{{!showControls}}" class="toolbar" on-tap="_activateViewer"><paper-slider value="{{index}}" immediate-value="{{index}}" snaps="" min="[[indexMin]]" max="[[indexMax]]"></paper-slider><div class="toolbar-controls"><paper-icon-button icon$="{{_playIcon(play)}}" on-tap="_togglePlay"></paper-icon-button>[[index]] / [[indexMax]]<div class="spacer"></div><paper-menu-button vertical-align="bottom"><paper-icon-button icon="av:subtitles" slot="dropdown-trigger" alt="menu"></paper-icon-button><paper-listbox slot="dropdown-content" selected="{{annotations}}"><paper-item>none</paper-item><paper-item>basic</paper-item><paper-item>full</paper-item></paper-listbox></paper-menu-button><paper-icon-button class$="{{_isLinked(linked)}}" icon="icons:link" on-tap="_toggleLinked"></paper-icon-button><paper-icon-button icon$="{{_fullscreenIcon(fullscreen)}}" on-tap="_toggleFullscren"></paper-icon-button><paper-icon-button icon="icons:clear" on-tap="_clear"></paper-icon-button></div></div></div></div></template><script>var WcViewer2d=function(_Polymer$GestureEvent){var _Mathround=Math.round;babelHelpers.inherits(WcViewer2d,_Polymer$GestureEvent);babelHelpers.createClass(WcViewer2d,null,[{key:"is",get:function get(){return"wc-viewer-2d"}},{key:"properties",get:function get(){return{active:{type:Boolean,value:!1},empty:{type:Boolean,value:!1,observer:"_emptyChanged"},drag:{type:Boolean,value:!1,observer:"_dragChanged"},loading:{type:Boolean,value:!1,observer:"_loadingChanged"},loaded:{type:Boolean,value:!1,observer:"_loadedChanged"},activate:{type:Boolean,value:!1,observer:"_activateChanged"},fullscreen:{type:Boolean,value:!1,observer:"_fullscreenChanged"},play:{type:Boolean,value:!1},annotations:{type:Number,value:2},orientation:{type:String,value:"default",observer:"_orientationChanged"},colorLut:{type:String},index:{type:Number,value:0,observer:"_indexChanged"},indexMin:{type:Number,value:0},indexMax:{type:Number,value:0},indexReference:{type:Number,value:0},images:{type:Array,value:[],observer:"_imagesChanged"},offsetSync:{type:Number,value:0,notify:!0,observer:"_offsetSyncChanged"},linked:{type:Boolean,value:!1,observer:"_linkedChanged"},imagesTotal:{type:Number},imagesLoaded:{type:Number},imagesParsed:{type:Number},stackScene:{type:Object},stackHelper:{type:Object},windowCenter:{type:Number,notify:!0},windowLevel:{type:String,notify:!0,observer:"_windowLevelChanged"},windowWidth:{type:Number,notify:!0},cursor:{type:Object,value:{x:0,y:0,z:0},notify:!0,observer:"_cursorChanged"},minMax:{type:Array,notify:!0},histogram:{type:Array,notify:!0},localizer:{type:Object,notify:!0},localizer0:{type:Object,notify:!0,observer:"_localizerChanged"},localizer1:{type:Object,notify:!0,observer:"_localizerChanged"},localizer2:{type:Object,notify:!0,observer:"_localizerChanged"},localizerVisible:{type:Boolean,value:!1,observer:"_localizerChanged"},showControls:{type:Boolean,value:!1},type:{type:String,value:""},api:{type:Object,value:{}}}}}]);function WcViewer2d(){babelHelpers.classCallCheck(this,WcViewer2d);return babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(WcViewer2d).call(this))}babelHelpers.createClass(WcViewer2d,[{key:"_emptyChanged",value:function _emptyChanged(empty){}},{key:"_dragChanged",value:function _dragChanged(drag){}},{key:"_loadingChanged",value:function _loadingChanged(loading){}},{key:"_loadedChanged",value:function _loadedChanged(loaded){}},{key:"_fullscreenChanged",value:function _fullscreenChanged(fullscreen){}},{key:"_fullscreenIcon",value:function _fullscreenIcon(fullscreen){return fullscreen?"icons:fullscreen-exit":"icons:fullscreen"}},{key:"_toggleFullscren",value:function _toggleFullscren(){if(!this.fullscreen){this._enterFullscreen()}else{this._exitFullscreen()}this.fullscreen=!this.fullscreen}},{key:"_enterFullscreen",value:function _enterFullscreen(){var enterFullscreen=new CustomEvent("enter-fullscreen",{detail:{}});this.dispatchEvent(enterFullscreen)}},{key:"_exitFullscreen",value:function _exitFullscreen(){var exitFullscreen=new CustomEvent("exit-fullscreen",{detail:{}});this.dispatchEvent(exitFullscreen)}},{key:"_playIcon",value:function _playIcon(play){return play?"av:pause":"av:play-arrow"}},{key:"_togglePlay",value:function _togglePlay(){if(!this.play){this._startPlay()}else{this._stopPlay()}this.play=!this.play}},{key:"_startPlay",value:function _startPlay(){var _this=this;this.playInterval=setInterval(function(){_this.index=(_this.index+1)%(_this.indexMax+1)},200)}},{key:"_stopPlay",value:function _stopPlay(){clearInterval(this.playInterval)}},{key:"_activateViewer",value:function _activateViewer(){this.activate=!0}},{key:"_activateChanged",value:function _activateChanged(activate){if(activate){var activateRenderer=new CustomEvent("activate",{detail:{}});window.console.log("activate changed");this.dispatchEvent(activateRenderer);this.activate=!1}}},{key:"_clear",value:function _clear(event){event.preventDefault();event.stopPropagation();this._activateChanged(!0);this.images=[];var deactivate=new CustomEvent("deactivate",{});this.dispatchEvent(deactivate);this.$.renderer.stopRenderingLoop();this.localizer=new THREE.Vector4;this.localizerScene.remove(this.localizerHelper);this.localizerScene=null;this.localizerHelper.dispose();this.localizerHelper=null;this.stackScene.remove(this.stackHelper);this.stackScene=null;this.stackHelper.dispose();this.stackHelper=null}},{key:"_imagesChanged",value:function _imagesChanged(){var _this2=this;if(0===this.images.length){this.empty=!0;this.drag=!1;this.loaded=!1;this.loading=!1;return}this.loading=!0;return this._loadUrls(this.images).then(function(series){var mergedSeries=series[0].mergeSeries(series),firstSeries=mergedSeries[0];return firstSeries}).then(function(series){_this2.empty=!1;_this2.loading=!1;_this2.loaded=!0;var stack=series.stack[0],helper=new AMI.StackHelper(stack),scene=new THREE.Scene;scene.add(helper);_this2.stackScene=scene;_this2.stackHelper=helper;_this2.stackHelper.bbox.visible=!1;_this2.stackHelper.border.visible=!1;_this2.stackHelper.slice.intensityAuto=!1;_this2.stackHelper.slice.borderColor=15277667;_this2.stackHelper.slice._uniforms.uBorderWidth.value=1;_this2.stackHelper.slice._uniforms.uBorderDashLength.value=4;_this2.localizer=helper.slice.cartesianEquation();_this2.localizerHelper=new AMI.LocalizerHelper(stack,_this2.stackHelper.slice.geometry,_this2.localizer);_this2.localizerHelper.plane1=new THREE.Vector4;_this2.localizerHelper.plane2=new THREE.Vector4;_this2.localizerHelper.plane3=new THREE.Vector4;_this2.localizerHelper.color1=new THREE.Vector3;_this2.localizerHelper.color2=new THREE.Vector3;_this2.localizerHelper.color3=new THREE.Vector3;var localizerScene=new THREE.Scene;localizerScene.add(_this2.localizerHelper);_this2.localizerScene=localizerScene;_this2.windowCenter=_this2.stackHelper.stack.windowCenter;_this2.windowWidth=_this2.stackHelper.stack.windowWidth;_this2.minMax=_this2.stackHelper.stack.minMax;for(var histogram=Array(_Mathround(1+_this2.minMax[1]-_this2.minMax[0])),slope=_this2.stackHelper.stack.rescaleSlope,intercept=_this2.stackHelper.stack.rescaleIntercept,i=0,frame;i<_this2.stackHelper.stack.frame.length;i++){frame=_this2.stackHelper.stack.frame[i];for(var j=0,value;j<frame.pixelData.length;j++){value=_Mathround(AMI.UtilsCore.rescaleSlopeIntercept(frame.pixelData[j],slope,intercept));if(histogram[value]===void 0){histogram[value]=0}histogram[value]+=1}}_this2.set("histogram",histogram);_this2.$.renderer.resize();_this2.$.renderer.startRenderingLoop();_this2.$.renderer.patientID=series.patientID;_this2.$.renderer.patientName=series.patientName;_this2.$.renderer.patientAge=series.patientAge;_this2.$.renderer.patientBirthdate=series.patientBirthdate;_this2.$.renderer.studyDate=series.studyDate;_this2.$.renderer.studyDescription=series.studyDescription;_this2.$.renderer.seriesDescription=series.seriesDescription;_this2._activateChanged(!0)})}},{key:"_windowLevelChanged",value:function _windowLevelChanged(){if("Default"===this.windowLevel&&this.stackHelper){this.windowCenter=this.stackHelper.stack.windowCenter;this.windowWidth=this.stackHelper.stack.windowWidth}}},{key:"_fetchUrl",value:function _fetchUrl(url){var dataAPI={auth:{type:"token",token:this.api.token}};this.$.API.apiRoot=this.api.apiRoot;this.$.API.handleAs="arraybuffer";return this.$.API.request("GET",url,dataAPI).then(function(response){return response})}},{key:"_loadUrl",value:function _loadUrl(url){var _this3=this,loader=new AMI.VolumeLoader,fetcher=null;if(!this.api.apiRoot){fetcher=fetch(url).then(function(response){return response.arrayBuffer()})}else{fetcher=this._fetchUrl(url)}return fetcher.then(function(arrayBuffer){_this3.imagesLoaded+=1;return loader.parse({url:url,buffer:arrayBuffer}).then(function(response){_this3.imagesParsed+=1;return response})}).catch(function(error){window.console.log("oops... something went wrong...");window.console.log(error)})}},{key:"_loadUrls",value:function _loadUrls(urls){var _this4=this;this.imagesTotal=urls.length;this.imagesLoaded=0;this.imagesParsed=0;var loadSequences=[];urls.forEach(function(url){loadSequences.push(_this4._loadUrl(url))});return Promise.all(loadSequences)}},{key:"resize",value:function resize(){if(this.$){this.$.renderer.resize()}}},{key:"_cursorChanged",value:function _cursorChanged(cursor){}},{key:"_localizerChanged",value:function _localizerChanged(){if(this.localizerHelper===void 0||null===this.localizerHelper){return}var referenceNormal=new THREE.Vector3(this.localizerHelper.referencePlane.x,this.localizerHelper.referencePlane.y,this.localizerHelper.referencePlane.z);if(this.localizer0!==void 0&&null!==this.localizer0){var l0Normal=new THREE.Vector3(this.localizer0.x,this.localizer0.y,this.localizer0.z);l0Normal.cross(referenceNormal);if(.01<l0Normal.length()){this.localizerHelper.plane1=this.localizer0;this.localizerHelper.color1=new THREE.Color(65280)}else{this.localizerHelper.plane1=l0Normal}}if(this.localizer1!==void 0&&null!==this.localizer1){var l1Normal=new THREE.Vector3(this.localizer1.x,this.localizer1.y,this.localizer1.z);l1Normal.cross(referenceNormal);if(.01<l1Normal.length()){this.localizerHelper.plane2=this.localizer1;this.localizerHelper.color2=new THREE.Color(65280)}else{this.localizerHelper.plane2=l1Normal}}if(this.localizer2!==void 0&&null!==this.localizer2){var l2Normal=new THREE.Vector3(this.localizer2.x,this.localizer2.y,this.localizer2.z);l2Normal.cross(referenceNormal);if(.01<l2Normal.length()){this.localizerHelper.plane3=this.localizer2;this.localizerHelper.color3=new THREE.Color(65280)}else{this.localizerHelper.plane3=l2Normal}}this.localizerHelper.visible=!this.showControls&&this.localizerVisible;this.$.renderer._sceneChanged()}},{key:"_orientationChanged",value:function _orientationChanged(){this._updateLocalizer();this._localizerChanged()}},{key:"_indexChanged",value:function _indexChanged(value,oldValue){this._updateLocalizer();if(this.linked&&(this.active||this.play)){this.offsetSync=this._indexToOffset(this.indexReference-value)}}},{key:"_offsetToIndex",value:function _offsetToIndex(offset){var index=0,orientation=this.stackHelper.orientation,spacing=this.stackHelper.stack._spacing.getComponent((orientation+2)%3);index=_Mathround(offset/spacing);var newIndex=this.indexReference-index;if(0>newIndex){newIndex=0}else if(newIndex>this.indexMax){newIndex=this.indexMax}return newIndex}},{key:"_indexToOffset",value:function _indexToOffset(index){var offset=0,orientation=this.stackHelper.orientation,spacing=this.stackHelper.stack._spacing.getComponent((orientation+2)%3);offset=index*spacing;return offset}},{key:"_updateLocalizer",value:function _updateLocalizer(){if(this.stackHelper===void 0||null===this.stackHelper){return}this.localizerHelper.referencePlane=this.stackHelper.slice.cartesianEquation();this.localizerHelper.geometry=this.stackHelper.slice.geometry;this.localizer=this.localizerHelper.referencePlane;this.$.renderer._sceneChanged()}},{key:"_offsetSyncChanged",value:function _offsetSyncChanged(offset){if(this.linked){this.index=this._offsetToIndex(offset)}}},{key:"_toggleLinked",value:function _toggleLinked(){this.linked=!this.linked}},{key:"_isLinked",value:function _isLinked(linked){return linked?"iron-selected":""}},{key:"_showControls",value:function _showControls(){this.showControls=!0;this._localizerChanged()}},{key:"_hideControls",value:function _hideControls(){this.showControls=!1;this._localizerChanged()}},{key:"_linkedChanged",value:function _linkedChanged(linked){if(linked){this.indexReference=this.index}}},{key:"_indexPropagate",value:function _indexPropagate(event){if("immediate-value-changed"===event.type){if(this.linked&&(this.active||this.play)){this.offsetSync=this._indexToOffset(this.indexReference-event.detail.value)}}}},{key:"_iconType",value:function _iconType(type){if("patient"===type){return"social:person"}else if("normative"===type){return"social:school"}else{return"icons:code"}}}]);return WcViewer2d}(Polymer.GestureEventListeners(Polymer.Element));window.customElements.define(WcViewer2d.is,WcViewer2d);</script></dom-module><dom-module id="rev-panel" assetpath="elements/"><template><style>:host{display:flex;}.container, .content, .content ::slotted(*){flex:1;display:flex;flex-direction:column;min-height:0;}.small{width:152px;}.large{width:256px;}[hidden]{display:none !important;}</style><div hidden$="[[!isOpen]]" class$="container {{size}}"><app-toolbar><div main-title=""><slot name="title"></slot></div><slot name="title-actions"></slot><paper-icon-button icon="icons:close" on-tap="_toggleOpen"></paper-icon-button></app-toolbar><div class="content"><slot name="content" class="content"></slot></div></div><div hidden$="[[isOpen]]"><paper-icon-button icon="icons:add" on-tap="_toggleOpen"></paper-icon-button></div></template><script>var RevPanel=function(_Polymer$Element){babelHelpers.inherits(RevPanel,_Polymer$Element);function RevPanel(){babelHelpers.classCallCheck(this,RevPanel);return babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(RevPanel).apply(this,arguments))}babelHelpers.createClass(RevPanel,[{key:"_toggleOpen",value:function _toggleOpen(){this.set("isOpen",!this.isOpen)}}],[{key:"is",get:function get(){return"rev-panel"}},{key:"properties",get:function get(){return{size:{type:String,value:"small",observer:"_sizeChanged"},side:{type:String,value:"left",observer:"_sideChanged"},isOpen:{type:Boolean,value:!0,notify:!0}}}}]);return RevPanel}(Polymer.Element);window.customElements.define(RevPanel.is,RevPanel);</script></dom-module><script>window.Vaadin=window.Vaadin||{};Vaadin.ThemableMixin=function(superClass){return function(_superClass){babelHelpers.inherits(VaadinThemableMixin,_superClass);function VaadinThemableMixin(){babelHelpers.classCallCheck(this,VaadinThemableMixin);return babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(VaadinThemableMixin).apply(this,arguments))}babelHelpers.createClass(VaadinThemableMixin,null,[{key:"finalize",value:function finalize(){var _this=this;babelHelpers.get(babelHelpers.getPrototypeOf(VaadinThemableMixin),"finalize",this).call(this);var template=this.prototype._template,hasOwnTemplate=this.template&&this.template.parentElement&&this.template.parentElement.id===this.is,inheritedTemplate=Object.getPrototypeOf(this.prototype)._template;if(inheritedTemplate&&!hasOwnTemplate){Array.from(inheritedTemplate.content.querySelectorAll("style[include]")).forEach(function(s){_this._includeStyle(s.getAttribute("include"),template)})}this._includeMatchingThemes(template)}},{key:"_includeMatchingThemes",value:function _includeMatchingThemes(template){var _this2=this,domModule=Polymer.DomModule,modules=domModule.prototype.modules,hasThemes=!1,defaultModuleName=this.is+"-default-theme";Object.keys(modules).forEach(function(moduleName){if(moduleName!==defaultModuleName){var themeFor=modules[moduleName].getAttribute("theme-for");if(themeFor){themeFor.split(" ").forEach(function(themeForToken){if(new RegExp("^"+themeForToken.split("*").join(".*")+"$").test(_this2.is)){hasThemes=!0;_this2._includeStyle(moduleName,template)}})}}});if(!hasThemes&&modules[defaultModuleName]){this._includeStyle(defaultModuleName,template)}}},{key:"_includeStyle",value:function _includeStyle(moduleName,template){if(template&&!template.content.querySelector("style[include=".concat(moduleName,"]"))){var styleEl=document.createElement("style");styleEl.setAttribute("include",moduleName);template.content.appendChild(styleEl)}}}]);return VaadinThemableMixin}(superClass)};</script><dom-module id="vaadin-split-layout-default-theme" theme-for="vaadin-split-layout" assetpath="../bower_components/vaadin-split-layout/"><template><style>[part="splitter"]{background:#ccc;}[part="handle"]::after{content:"";display:block;width:2px;height:24px;margin:8px auto;background:#fff;}:host([vertical]) [part="handle"]::after{transform:rotate(90deg);}</style></template></dom-module><dom-module id="vaadin-split-layout" assetpath="../bower_components/vaadin-split-layout/"><template><style>:host{display:flex;overflow:hidden !important;transform:translateZ(0);}:host([vertical]){flex-direction:column;}:host ::slotted(*){flex:1 1 auto;overflow:auto;}[part="splitter"]{flex:none;position:relative;z-index:1;overflow:visible;min-width:8px;min-height:8px;}:host(:not([vertical])) > [part="splitter"]{cursor:ew-resize;}:host([vertical]) > [part="splitter"]{cursor:ns-resize;}[part="handle"]{width:40px;height:40px;position:absolute;top:50%;left:50%;transform:translate3d(-50%, -50%, 0);}</style><slot id="primary" name="primary"></slot><div part="splitter" id="splitter" on-track="_onHandleTrack" on-down="_preventDefault"><div part="handle"></div></div><slot id="secondary" name="secondary"></slot></template><script>if(!Polymer.Element){throw new Error("Unexpected Polymer version ".concat(Polymer.version," is used, expected v2.0.0 or later."))}{var SplitLayoutElement=function(_Vaadin$ThemableMixin){babelHelpers.inherits(SplitLayoutElement,_Vaadin$ThemableMixin);function SplitLayoutElement(){babelHelpers.classCallCheck(this,SplitLayoutElement);return babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(SplitLayoutElement).apply(this,arguments))}babelHelpers.createClass(SplitLayoutElement,[{key:"ready",value:function ready(){babelHelpers.get(babelHelpers.getPrototypeOf(SplitLayoutElement.prototype),"ready",this).call(this);new Polymer.FlattenedNodesObserver(this,this._processChildren)}},{key:"_processChildren",value:function _processChildren(){var _this=this;this.getEffectiveChildren().forEach(function(child,i){if(0===i){_this._primaryChild=child;child.setAttribute("slot","primary")}else if(1==i){_this._secondaryChild=child;child.setAttribute("slot","secondary")}else{child.removeAttribute("slot")}})}},{key:"_setFlexBasis",value:function _setFlexBasis(element,flexBasis,containerSize){flexBasis=Math.max(0,Math.min(flexBasis,containerSize));if(0===flexBasis){flexBasis=1e-6}element.style.flex="1 1 "+flexBasis+"px"}},{key:"_onHandleTrack",value:function _onHandleTrack(event){if(!this._primaryChild||!this._secondaryChild){return}var size=this.vertical?"height":"width";if("start"===event.detail.state){this._startSize={container:this.getBoundingClientRect()[size]-this.$.splitter.getBoundingClientRect()[size],primary:this._primaryChild.getBoundingClientRect()[size],secondary:this._secondaryChild.getBoundingClientRect()[size]};this._previousPrimaryPointerEvents=this._primaryChild.style.pointerEvents;this._previousSecondaryPointerEvents=this._secondaryChild.style.pointerEvents;this._primaryChild.style.pointerEvents="none";this._secondaryChild.style.pointerEvents="none";return}var distance=this.vertical?event.detail.dy:event.detail.dx;this._setFlexBasis(this._primaryChild,this._startSize.primary+distance,this._startSize.container);this._setFlexBasis(this._secondaryChild,this._startSize.secondary-distance,this._startSize.container);this.notifyResize();if("end"===event.detail.state){delete this._startSize;this._primaryChild.style.pointerEvents=this._previousPrimaryPointerEvents;this._secondaryChild.style.pointerEvents=this._previousSecondaryPointerEvents}}},{key:"_preventDefault",value:function _preventDefault(event){event.preventDefault()}}],[{key:"is",get:function get(){return"vaadin-split-layout"}},{key:"properties",get:function get(){return{vertical:{type:Boolean,reflectToAttribute:!0,value:!1},_previousPrimaryPointerEvents:String,_previousSecondaryPointerEvents:String}}}]);return SplitLayoutElement}(Vaadin.ThemableMixin(Polymer.mixinBehaviors([Polymer.IronResizableBehavior],Polymer.Element)));customElements.define(SplitLayoutElement.is,SplitLayoutElement);window.Vaadin=window.Vaadin||{};Vaadin.SplitLayoutElement=SplitLayoutElement}</script></dom-module><dom-module id="vaadin-split-layout-styles" theme-for="vaadin-split-layout" assetpath="elements/"><template><style>[part~="splitter"]{min-width:1px;min-height:1px;background:var(--dark-theme-divider-color);border:solid 5px transparent;background-clip:content-box;fill:none;}[part~="handle"]::after{content:"";}</style></template></dom-module><dom-module id="rev-layout-manager" assetpath="elements/"><template><style>:host{}#lfs, #l0, vaadin-split-layout{height:100%;display:flex;}#lfs, #l0{}.container{}.slotter{position:relative;min-width:150px;min-height:150px;}#lfs, #l0{}#lfs > div, #l0 > div{flex:1 1 auto;overflow:auto;}#l5 > div{flex:.7;}.viewer{border:1px solid rgba(0, 0, 0, 0);}.active{border:1px solid var(--accent-color);}[hidden]{display:none !important;}</style><div hidden=""><slot id="s0" name="s0"></slot><slot id="s1" name="s1"></slot><slot id="s2" name="s2"></slot><slot id="s3" name="s3"></slot><slot id="s4" name="s4"></slot><slot id="s5" name="s5"></slot></div><div id="lfs" hidden$="[[_hideFullscreen(fullscreen)]]" class="container"><div class="vfs slotter viewer"></div></div><div id="l0" hidden$="[[_hideLayout(0, layout, fullscreen)]]" class="container"><div class$="v0 slotter viewer [[_active(0, active)]]"></div></div><vaadin-split-layout id="l1" hidden$="[[_hideLayout(1, layout, fullscreen)]]" class="container"><div class$="v0 slotter viewer [[_active(0, active)]]"></div><div class$="v1 slotter viewer [[_active(1, active)]]"></div></vaadin-split-layout><vaadin-split-layout id="l2" hidden$="[[_hideLayout(2, layout, fullscreen)]]" class="container"><div class$="v0 slotter viewer [[_active(0, active)]]"></div><vaadin-split-layout vertical="" class="slotter"><div class$="v1 slotter viewer [[_active(1, active)]]"></div><div class$="v2 slotter viewer [[_active(2, active)]]"></div></vaadin-split-layout></vaadin-split-layout><vaadin-split-layout id="l3" hidden$="[[_hideLayout(3, layout, fullscreen)]]" class="container"><vaadin-split-layout vertical="" class="slotter"><div class$="v0 slotter viewer [[_active(0, active)]]"></div><div class$="v1 slotter viewer [[_active(1, active)]]"></div></vaadin-split-layout><vaadin-split-layout vertical="" class="slotter"><div class$="v2 slotter viewer [[_active(2, active)]]"></div><div class$="v3 slotter viewer [[_active(3, active)]]"></div></vaadin-split-layout></vaadin-split-layout><vaadin-split-layout id="l4" hidden$="[[_hideLayout(4, layout, fullscreen)]]" class="container"><vaadin-split-layout vertical="" class="slotter"><div class$="v0 slotter viewer [[_active(0, active)]]"></div><div class$="v1 slotter viewer [[_active(1, active)]]"></div></vaadin-split-layout><vaadin-split-layout><vaadin-split-layout vertical="" class="slotter"><div class$="v2 slotter viewer [[_active(2, active)]]"></div><div class$="v3 slotter viewer [[_active(3, active)]]"></div></vaadin-split-layout><vaadin-split-layout vertical="" class="slotter"><div class$="v4 slotter viewer [[_active(4, active)]]"></div><div class$="v5 slotter viewer [[_active(5, active)]]"></div></vaadin-split-layout></vaadin-split-layout></vaadin-split-layout><vaadin-split-layout id="l5" hidden$="[[_hideLayout(5, layout, fullscreen)]]" class="container"><div class$="v0 slotter viewer [[_active(0, active)]]"></div><vaadin-split-layout class="slotter"><div class$="v1 slotter viewer [[_active(1, active)]]"></div><div class$="v2 slotter viewer [[_active(2, active)]]"></div></vaadin-split-layout></vaadin-split-layout></template><script>var RevLayoutManager=function(_Polymer$Element){babelHelpers.inherits(RevLayoutManager,_Polymer$Element);function RevLayoutManager(){babelHelpers.classCallCheck(this,RevLayoutManager);return babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(RevLayoutManager).apply(this,arguments))}babelHelpers.createClass(RevLayoutManager,[{key:"_layoutChanged",value:function _layoutChanged(layout){if(0<=this.fullscreen){return}for(var layoutElement=this.$["l".concat(layout)],i=0;6>i;i++){this._setChild(layoutElement,i,i)}}},{key:"_setChild",value:function _setChild(layoutElement,viewerId,slotId){var viewer=layoutElement.querySelector(".v".concat(viewerId)),slot=this.$["s".concat(slotId)];if(viewer){while(viewer.firstChild){viewer.removeChild(viewer.firstChild)}viewer.appendChild(slot)}}},{key:"_hideLayout",value:function _hideLayout(currentLayout,activeLayout,fullscreen){return 0<=fullscreen||currentLayout!==activeLayout}},{key:"_hideFullscreen",value:function _hideFullscreen(fullscreen){return-1===fullscreen}},{key:"_fullscreenChanged",value:function _fullscreenChanged(fullscreen){if(-1===fullscreen){this._layoutChanged(this.layout)}else{var layoutElement=this.$.lfs;this._setChild(layoutElement,"fs",fullscreen)}}},{key:"_active",value:function _active(current,target){return+current===+target?"active":""}},{key:"_activeChanged",value:function _activeChanged(){console.log(this.active)}}],[{key:"is",get:function get(){return"rev-layout-manager"}},{key:"properties",get:function get(){return{active:{type:Number,value:-1,observer:"_activeChanged"},layout:{type:Number,value:0,observer:"_layoutChanged"},fullscreen:{type:Number,value:-1,observer:"_fullscreenChanged"}}}}]);return RevLayoutManager}(Polymer.Element);window.customElements.define(RevLayoutManager.is,RevLayoutManager);</script></dom-module><script>!function(a,b){var _Mathmax=Math.max,_Mathmin=Math.min,c={},d={},e={},f=null;!function(a,b){var _Mathabs=Math.abs;function c(a){if("number"==typeof a)return a;var b={};for(var c in a){b[c]=a[c]}return b}function d(){this._delay=0,this._endDelay=0,this._fill="none",this._iterationStart=0,this._iterations=1,this._duration=0,this._playbackRate=1,this._direction="normal",this._easing="linear",this._easingFunction=x}function e(){return a.isDeprecated("Invalid timing inputs","2016-03-02","TypeError exceptions will be thrown instead.",!0)}function f(b,c,e){var f=new d;return c&&(f.fill="both",f.duration="auto"),"number"!=typeof b||isNaN(b)?void 0!==b&&Object.getOwnPropertyNames(b).forEach(function(c){if("auto"!=b[c]){if(("number"==typeof f[c]||"duration"==c)&&("number"!=typeof b[c]||isNaN(b[c])))return;if("fill"==c&&-1==v.indexOf(b[c]))return;if("direction"==c&&-1==w.indexOf(b[c]))return;if("playbackRate"==c&&1!==b[c]&&a.isDeprecated("AnimationEffectTiming.playbackRate","2014-11-28","Use Animation.playbackRate instead."))return;f[c]=b[c]}}):f.duration=b,f}function g(a){return"number"==typeof a&&(a=isNaN(a)?{duration:0}:{duration:a}),a}function h(b,c){return b=a.numericTimingToObject(b),f(b,c)}function i(a,b,c,d){return 0>a||1<a||0>c||1<c?x:function(e){function f(a,b,c){return 3*a*(1-c)*(1-c)*c+3*b*(1-c)*c*c+c*c*c}if(0>=e){var g=0;return 0<a?g=b/a:!b&&0<c&&(g=d/c),g*e}if(1<=e){var h=0;return 1>c?h=(d-1)/(c-1):1==c&&1>a&&(h=(b-1)/(a-1)),1+h*(e-1)}for(var i=0,j=1;i<j;){var k=(i+j)/2,l=f(a,c,k);if(1e-5>_Mathabs(e-l))return f(b,d,k);l<e?i=k:j=k}return f(b,d,k)}}function j(a,b){return function(c){if(1<=c)return 1;var d=1/a;return(c+=b*d)-c%d}}function k(a){C||(C=document.createElement("div").style),C.animationTimingFunction="",C.animationTimingFunction=a;var b=C.animationTimingFunction;if(""==b&&e())throw new TypeError(a+" is not a valid value for easing");return b}function l(a){if("linear"==a)return x;var b=E.exec(a);if(b)return i.apply(this,b.slice(1).map(Number));var c=F.exec(a);return c?j(+c[1],{start:y,middle:z,end:A}[c[2]]):B[a]||x}function m(a){return _Mathabs(n(a)/a.playbackRate)}function n(a){return 0===a.duration||0===a.iterations?0:a.duration*a.iterations}function o(a,b,c){if(null==b)return G;var d=c.delay+a+c.endDelay;return b<_Mathmin(c.delay,d)?H:b>=_Mathmin(c.delay+a,d)?I:J}function p(a,b,c,d,e){switch(d){case H:return"backwards"==b||"both"==b?0:null;case J:return c-e;case I:return"forwards"==b||"both"==b?a:null;case G:return null;}}function q(a,b,c,d,e){var f=e;return 0===a?b!==H&&(f+=c):f+=d/a,f}function r(a,b,c,d,e,f){var g=a===1/0?b%1:a%1;return 0!==g||c!==I||0===d||0===e&&0!==f||(g=1),g}function s(a,b,c,d){var _Mathfloor=Math.floor;return a===I&&b===1/0?1/0:1===c?_Mathfloor(d)-1:_Mathfloor(d)}function t(a,b,c){var d=a;if("normal"!==a&&"reverse"!==a){var e=b;"alternate-reverse"===a&&(e+=1),d="normal",e!==1/0&&0!=e%2&&(d="reverse")}return"normal"===d?c:1-c}function u(a,b,c){var d=o(a,b,c),e=p(a,c.fill,b,d,c.delay);if(null===e)return null;var f=q(c.duration,d,c.iterations,e,c.iterationStart),g=r(f,c.iterationStart,d,c.iterations,e,c.duration),h=s(d,c.iterations,g,f),i=t(c.direction,h,g);return c._easingFunction(i)}var v="backwards|forwards|both|none".split("|"),w="reverse|alternate|alternate-reverse".split("|"),x=function x(a){return a};d.prototype={_setMember:function _setMember(b,c){this["_"+b]=c,this._effect&&(this._effect._timingInput[b]=c,this._effect._timing=a.normalizeTimingInput(this._effect._timingInput),this._effect.activeDuration=a.calculateActiveDuration(this._effect._timing),this._effect._animation&&this._effect._animation._rebuildUnderlyingAnimation())},get playbackRate(){return this._playbackRate},set delay(a){this._setMember("delay",a)},get delay(){return this._delay},set endDelay(a){this._setMember("endDelay",a)},get endDelay(){return this._endDelay},set fill(a){this._setMember("fill",a)},get fill(){return this._fill},set iterationStart(a){if((isNaN(a)||0>a)&&e())throw new TypeError("iterationStart must be a non-negative number, received: "+timing.iterationStart);this._setMember("iterationStart",a)},get iterationStart(){return this._iterationStart},set duration(a){if("auto"!=a&&(isNaN(a)||0>a)&&e())throw new TypeError("duration must be non-negative or auto, received: "+a);this._setMember("duration",a)},get duration(){return this._duration},set direction(a){this._setMember("direction",a)},get direction(){return this._direction},set easing(a){this._easingFunction=l(k(a)),this._setMember("easing",a)},get easing(){return this._easing},set iterations(a){if((isNaN(a)||0>a)&&e())throw new TypeError("iterations must be non-negative, received: "+a);this._setMember("iterations",a)},get iterations(){return this._iterations}};var y=1,z=.5,A=0,B={ease:i(.25,.1,.25,1),"ease-in":i(.42,0,1,1),"ease-out":i(0,0,.58,1),"ease-in-out":i(.42,0,.58,1),"step-start":j(1,y),"step-middle":j(1,z),"step-end":j(1,A)},C=null,D="\\s*(-?\\d+\\.?\\d*|-?\\.\\d+)\\s*",E=/cubic-bezier\(\s*(-?\d+\.?\d*|-?\.\d+)\s*,\s*(-?\d+\.?\d*|-?\.\d+)\s*,\s*(-?\d+\.?\d*|-?\.\d+)\s*,\s*(-?\d+\.?\d*|-?\.\d+)\s*\)/,F=/steps\(\s*(\d+)\s*,\s*(start|middle|end)\s*\)/,G=0,H=1,I=2,J=3;a.cloneTimingInput=c,a.makeTiming=f,a.numericTimingToObject=g,a.normalizeTimingInput=h,a.calculateActiveDuration=m,a.calculateIterationProgress=u,a.calculatePhase=o,a.normalizeEasing=k,a.parseEasingFunction=l}(c),function(a,b){function c(a,b){return a in k?k[a][b]||b:b}function d(a){return"display"===a||0===a.lastIndexOf("animation",0)||0===a.lastIndexOf("transition",0)}function e(a,b,e){if(!d(a)){var f=h[a];if(f){i.style[a]=b;for(var g in f){var j=f[g],k=i.style[j];e[j]=c(j,k)}}else e[a]=c(a,b)}}function f(a){var b=[];for(var c in a){if(!(c in["easing","offset","composite"])){var d=a[c];Array.isArray(d)||(d=[d]);for(var e,f=d.length,g=0;g<f;g++){e={},e.offset="offset"in a?a.offset:1==f?1:g/(f-1),"easing"in a&&(e.easing=a.easing),"composite"in a&&(e.composite=a.composite),e[c]=d[g],b.push(e)}}}return b.sort(function(a,b){return a.offset-b.offset}),b}function g(b){function c(){var a=d.length;null==d[a-1].offset&&(d[a-1].offset=1),1<a&&null==d[0].offset&&(d[0].offset=0);for(var b=0,c=d[0].offset,e=1,f;e<a;e++){f=d[e].offset;if(null!=f){for(var g=1;g<e-b;g++){d[b+g].offset=c+(f-c)*g/(e-b)}b=e,c=f}}}if(null==b)return[];window.Symbol&&Symbol.iterator&&Array.prototype.from&&b[Symbol.iterator]&&(b=Array.from(b)),Array.isArray(b)||(b=f(b));for(var d=b.map(function(b){var c={};for(var d in b){var f=b[d];if("offset"==d){if(null!=f){if(f=+f,!isFinite(f))throw new TypeError("Keyframe offsets must be numbers.");if(0>f||1<f)throw new TypeError("Keyframe offsets must be between 0 and 1.")}}else if("composite"==d){if("add"==f||"accumulate"==f)throw{type:DOMException.NOT_SUPPORTED_ERR,name:"NotSupportedError",message:"add compositing is not supported"};if("replace"!=f)throw new TypeError("Invalid composite mode "+f+".")}else f="easing"==d?a.normalizeEasing(f):""+f;e(d,f,c)}return void 0==c.offset&&(c.offset=null),void 0==c.easing&&(c.easing="linear"),c}),g=!0,h=-1/0,i=0,j;i<d.length;i++){j=d[i].offset;if(null!=j){if(j<h)throw new TypeError("Keyframes are not loosely sorted by offset. Sort or specify offsets.");h=j}else g=!1}return d=d.filter(function(a){return 0<=a.offset&&1>=a.offset}),g||c(),d}var h={background:["backgroundImage","backgroundPosition","backgroundSize","backgroundRepeat","backgroundAttachment","backgroundOrigin","backgroundClip","backgroundColor"],border:["borderTopColor","borderTopStyle","borderTopWidth","borderRightColor","borderRightStyle","borderRightWidth","borderBottomColor","borderBottomStyle","borderBottomWidth","borderLeftColor","borderLeftStyle","borderLeftWidth"],borderBottom:["borderBottomWidth","borderBottomStyle","borderBottomColor"],borderColor:["borderTopColor","borderRightColor","borderBottomColor","borderLeftColor"],borderLeft:["borderLeftWidth","borderLeftStyle","borderLeftColor"],borderRadius:["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],borderRight:["borderRightWidth","borderRightStyle","borderRightColor"],borderTop:["borderTopWidth","borderTopStyle","borderTopColor"],borderWidth:["borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth"],flex:["flexGrow","flexShrink","flexBasis"],font:["fontFamily","fontSize","fontStyle","fontVariant","fontWeight","lineHeight"],margin:["marginTop","marginRight","marginBottom","marginLeft"],outline:["outlineColor","outlineStyle","outlineWidth"],padding:["paddingTop","paddingRight","paddingBottom","paddingLeft"]},i=document.createElementNS("http://www.w3.org/1999/xhtml","div"),j={thin:"1px",medium:"3px",thick:"5px"},k={borderBottomWidth:j,borderLeftWidth:j,borderRightWidth:j,borderTopWidth:j,fontSize:{"xx-small":"60%","x-small":"75%",small:"89%",medium:"100%",large:"120%","x-large":"150%","xx-large":"200%"},fontWeight:{normal:"400",bold:"700"},outlineWidth:j,textShadow:{none:"0px 0px 0px transparent"},boxShadow:{none:"0px 0px 0px 0px transparent"}};a.convertToArrayForm=f,a.normalizeKeyframes=g}(c),function(a){var b={};a.isDeprecated=function(a,c,d,e){var f=e?"are":"is",g=new Date,h=new Date(c);return h.setMonth(h.getMonth()+3),!(g<h&&(a in b||console.warn("Web Animations: "+a+" "+f+" deprecated and will stop working on "+h.toDateString()+". "+d),b[a]=!0,1))},a.deprecated=function(b,c,d,e){var f=e?"are":"is";if(a.isDeprecated(b,c,d,e))throw new Error(b+" "+f+" no longer supported. "+d)}}(c),function(){var _Mathround=Math.round;if(document.documentElement.animate){var a=document.documentElement.animate([],0),b=!0;if(a&&(b=!1,"play|currentTime|pause|reverse|playbackRate|cancel|finish|startTime|playState".split("|").forEach(function(c){void 0===a[c]&&(b=!0)})),!b)return}!function(a,b,c){function d(a){for(var b={},c=0;c<a.length;c++){for(var d in a[c]){if("offset"!=d&&"easing"!=d&&"composite"!=d){var e={offset:a[c].offset,easing:a[c].easing,value:a[c][d]};b[d]=b[d]||[],b[d].push(e)}}}for(var f in b){var g=b[f];if(0!=g[0].offset||1!=g[g.length-1].offset)throw{type:DOMException.NOT_SUPPORTED_ERR,name:"NotSupportedError",message:"Partial keyframes are not supported"}}return b}function e(c){var d=[];for(var e in c){for(var f=c[e],g=0;g<f.length-1;g++){var h=g,i=g+1,j=f[h].offset,k=f[i].offset,l=j,m=k;0==g&&(l=-1/0,0==k&&(i=h)),g==f.length-2&&(m=1/0,1==j&&(h=i)),d.push({applyFrom:l,applyTo:m,startOffset:f[h].offset,endOffset:f[i].offset,easingFunction:a.parseEasingFunction(f[h].easing),property:e,interpolation:b.propertyInterpolation(e,f[h].value,f[i].value)})}}return d.sort(function(a,b){return a.startOffset-b.startOffset}),d}b.convertEffectInput=function(c){var f=a.normalizeKeyframes(c),g=d(f),h=e(g);return function(a,c){if(null!=c)h.filter(function(a){return c>=a.applyFrom&&c<a.applyTo}).forEach(function(d){var e=c-d.startOffset,f=d.endOffset-d.startOffset,g=0==f?0:d.easingFunction(e/f);b.apply(a,d.property,d.interpolation(g))});else for(var d in g){"offset"!=d&&"easing"!=d&&"composite"!=d&&b.clear(a,d)}}}}(c,d),function(a,b,c){function d(a){return a.replace(/-(.)/g,function(a,b){return b.toUpperCase()})}function e(a,b,c){h[c]=h[c]||[],h[c].push([a,b])}function f(a,b,c){for(var f=0;f<c.length;f++){e(a,b,d(c[f]))}}function g(c,e,f){var g=c;/-/.test(c)&&!a.isDeprecated("Hyphenated property names","2016-03-22","Use camelCase instead.",!0)&&(g=d(c)),"initial"!=e&&"initial"!=f||("initial"==e&&(e=i[g]),"initial"==f&&(f=i[g]));for(var j=e==f?[]:h[g],k=0;j&&k<j.length;k++){var l=j[k][0](e),m=j[k][0](f);if(void 0!==l&&void 0!==m){var n=j[k][1](l,m);if(n){var o=b.Interpolation.apply(null,n);return function(a){return 0==a?e:1==a?f:o(a)}}}}return b.Interpolation(!1,!0,function(a){return a?f:e})}var h={};b.addPropertiesHandler=f;var i={backgroundColor:"transparent",backgroundPosition:"0% 0%",borderBottomColor:"currentColor",borderBottomLeftRadius:"0px",borderBottomRightRadius:"0px",borderBottomWidth:"3px",borderLeftColor:"currentColor",borderLeftWidth:"3px",borderRightColor:"currentColor",borderRightWidth:"3px",borderSpacing:"2px",borderTopColor:"currentColor",borderTopLeftRadius:"0px",borderTopRightRadius:"0px",borderTopWidth:"3px",bottom:"auto",clip:"rect(0px, 0px, 0px, 0px)",color:"black",fontSize:"100%",fontWeight:"400",height:"auto",left:"auto",letterSpacing:"normal",lineHeight:"120%",marginBottom:"0px",marginLeft:"0px",marginRight:"0px",marginTop:"0px",maxHeight:"none",maxWidth:"none",minHeight:"0px",minWidth:"0px",opacity:"1.0",outlineColor:"invert",outlineOffset:"0px",outlineWidth:"3px",paddingBottom:"0px",paddingLeft:"0px",paddingRight:"0px",paddingTop:"0px",right:"auto",strokeDasharray:"none",strokeDashoffset:"0px",textIndent:"0px",textShadow:"0px 0px 0px transparent",top:"auto",transform:"",verticalAlign:"0px",visibility:"visible",width:"auto",wordSpacing:"normal",zIndex:"auto"};b.propertyInterpolation=g}(c,d),function(a,b,c){function d(b){var c=a.calculateActiveDuration(b),d=function d(_d){return a.calculateIterationProgress(c,_d,b)};return d._totalDuration=b.delay+c+b.endDelay,d}b.KeyframeEffect=function(c,e,f,g){var h,i=d(a.normalizeTimingInput(f)),j=b.convertEffectInput(e),k=function k(){j(c,h)};return k._update=function(a){return null!==(h=i(a))},k._clear=function(){j(c,null)},k._hasSameTarget=function(a){return c===a},k._target=c,k._totalDuration=i._totalDuration,k._id=g,k}}(c,d),function(a,b){a.apply=function(b,c,d){b.style[a.propertyName(c)]=d},a.clear=function(b,c){b.style[a.propertyName(c)]=""}}(d),function(a){window.Element.prototype.animate=function(b,c){var d="";return c&&c.id&&(d=c.id),a.timeline._play(a.KeyframeEffect(this,b,c,d))}}(d),function(a,b){function c(a,b,d){if("number"==typeof a&&"number"==typeof b)return a*(1-d)+b*d;if("boolean"==typeof a&&"boolean"==typeof b)return .5>d?a:b;if(a.length==b.length){for(var e=[],f=0;f<a.length;f++){e.push(c(a[f],b[f],d))}return e}throw"Mismatched interpolation arguments "+a+":"+b}a.Interpolation=function(a,b,d){return function(e){return d(c(a,b,e))}}}(d),function(a,b,c){a.sequenceNumber=0;var d=function d(a,b,c){this.target=a,this.currentTime=b,this.timelineTime=c,this.type="finish",this.bubbles=!1,this.cancelable=!1,this.currentTarget=a,this.defaultPrevented=!1,this.eventPhase=Event.AT_TARGET,this.timeStamp=Date.now()};b.Animation=function(b){this.id="",b&&b._id&&(this.id=b._id),this._sequenceNumber=a.sequenceNumber++,this._currentTime=0,this._startTime=null,this._paused=!1,this._playbackRate=1,this._inTimeline=!0,this._finishedFlag=!0,this.onfinish=null,this._finishHandlers=[],this._effect=b,this._inEffect=this._effect._update(0),this._idle=!0,this._currentTimePending=!1},b.Animation.prototype={_ensureAlive:function _ensureAlive(){0>this.playbackRate&&0===this.currentTime?this._inEffect=this._effect._update(-1):this._inEffect=this._effect._update(this.currentTime),this._inTimeline||!this._inEffect&&this._finishedFlag||(this._inTimeline=!0,b.timeline._animations.push(this))},_tickCurrentTime:function _tickCurrentTime(a,b){a!=this._currentTime&&(this._currentTime=a,this._isFinished&&!b&&(this._currentTime=0<this._playbackRate?this._totalDuration:0),this._ensureAlive())},get currentTime(){return this._idle||this._currentTimePending?null:this._currentTime},set currentTime(a){a=+a,isNaN(a)||(b.restart(),this._paused||null==this._startTime||(this._startTime=this._timeline.currentTime-a/this._playbackRate),this._currentTimePending=!1,this._currentTime!=a&&(this._idle&&(this._idle=!1,this._paused=!0),this._tickCurrentTime(a,!0),b.applyDirtiedAnimation(this)))},get startTime(){return this._startTime},set startTime(a){a=+a,isNaN(a)||this._paused||this._idle||(this._startTime=a,this._tickCurrentTime((this._timeline.currentTime-this._startTime)*this.playbackRate),b.applyDirtiedAnimation(this))},get playbackRate(){return this._playbackRate},set playbackRate(a){if(a!=this._playbackRate){var c=this.currentTime;this._playbackRate=a,this._startTime=null,"paused"!=this.playState&&"idle"!=this.playState&&(this._finishedFlag=!1,this._idle=!1,this._ensureAlive(),b.applyDirtiedAnimation(this)),null!=c&&(this.currentTime=c)}},get _isFinished(){return!this._idle&&(0<this._playbackRate&&this._currentTime>=this._totalDuration||0>this._playbackRate&&0>=this._currentTime)},get _totalDuration(){return this._effect._totalDuration},get playState(){return this._idle?"idle":null==this._startTime&&!this._paused&&0!=this.playbackRate||this._currentTimePending?"pending":this._paused?"paused":this._isFinished?"finished":"running"},_rewind:function _rewind(){if(0<=this._playbackRate)this._currentTime=0;else{if(!(this._totalDuration<1/0))throw new DOMException("Unable to rewind negative playback rate animation with infinite duration","InvalidStateError");this._currentTime=this._totalDuration}},play:function play(){this._paused=!1,(this._isFinished||this._idle)&&(this._rewind(),this._startTime=null),this._finishedFlag=!1,this._idle=!1,this._ensureAlive(),b.applyDirtiedAnimation(this)},pause:function pause(){this._isFinished||this._paused||this._idle?this._idle&&(this._rewind(),this._idle=!1):this._currentTimePending=!0,this._startTime=null,this._paused=!0},finish:function finish(){this._idle||(this.currentTime=0<this._playbackRate?this._totalDuration:0,this._startTime=this._totalDuration-this.currentTime,this._currentTimePending=!1,b.applyDirtiedAnimation(this))},cancel:function cancel(){this._inEffect&&(this._inEffect=!1,this._idle=!0,this._paused=!1,this._isFinished=!0,this._finishedFlag=!0,this._currentTime=0,this._startTime=null,this._effect._update(null),b.applyDirtiedAnimation(this))},reverse:function reverse(){this.playbackRate*=-1,this.play()},addEventListener:function addEventListener(a,b){"function"==typeof b&&"finish"==a&&this._finishHandlers.push(b)},removeEventListener:function removeEventListener(a,b){if("finish"==a){var c=this._finishHandlers.indexOf(b);0<=c&&this._finishHandlers.splice(c,1)}},_fireEvents:function _fireEvents(a){if(this._isFinished){if(!this._finishedFlag){var b=new d(this,this._currentTime,a),c=this._finishHandlers.concat(this.onfinish?[this.onfinish]:[]);setTimeout(function(){c.forEach(function(a){a.call(b.target,b)})},0),this._finishedFlag=!0}}else this._finishedFlag=!1},_tick:function _tick(a,b){this._idle||this._paused||(null==this._startTime?b&&(this.startTime=a-this._currentTime/this.playbackRate):this._isFinished||this._tickCurrentTime((a-this._startTime)*this.playbackRate)),b&&(this._currentTimePending=!1,this._fireEvents(a))},get _needsTick(){return this.playState in{pending:1,running:1}||!this._finishedFlag},_targetAnimations:function _targetAnimations(){var a=this._effect._target;return a._activeAnimations||(a._activeAnimations=[]),a._activeAnimations},_markTarget:function _markTarget(){var a=this._targetAnimations();-1===a.indexOf(this)&&a.push(this)},_unmarkTarget:function _unmarkTarget(){var a=this._targetAnimations(),b=a.indexOf(this);-1!==b&&a.splice(b,1)}}}(c,d),function(a,b,c){function d(a){var b=j;j=[],a<q.currentTime&&(a=q.currentTime),q._animations.sort(e),q._animations=h(a,!0,q._animations)[0],b.forEach(function(b){b[1](a)}),g(),l=void 0}function e(a,b){return a._sequenceNumber-b._sequenceNumber}function f(){this._animations=[],this.currentTime=window.performance&&performance.now?performance.now():0}function g(){o.forEach(function(a){a()}),o.length=0}function h(a,c,d){p=!0,n=!1,b.timeline.currentTime=a,m=!1;var e=[],f=[],g=[],h=[];return d.forEach(function(b){b._tick(a,c),b._inEffect?(f.push(b._effect),b._markTarget()):(e.push(b._effect),b._unmarkTarget()),b._needsTick&&(m=!0);var d=b._inEffect||b._needsTick;b._inTimeline=d,d?g.push(b):h.push(b)}),o.push.apply(o,e),o.push.apply(o,f),m&&requestAnimationFrame(function(){}),p=!1,[g,h]}var i=window.requestAnimationFrame,j=[],k=0;window.requestAnimationFrame=function(a){var b=k++;return 0==j.length&&i(d),j.push([b,a]),b},window.cancelAnimationFrame=function(a){j.forEach(function(b){b[0]==a&&(b[1]=function(){})})},f.prototype={_play:function _play(c){c._timing=a.normalizeTimingInput(c.timing);var d=new b.Animation(c);return d._idle=!1,d._timeline=this,this._animations.push(d),b.restart(),b.applyDirtiedAnimation(d),d}};var l=void 0,m=!1,n=!1;b.restart=function(){return m||(m=!0,requestAnimationFrame(function(){}),n=!0),n},b.applyDirtiedAnimation=function(a){if(!p){a._markTarget();var c=a._targetAnimations();c.sort(e),h(b.timeline.currentTime,!1,c.slice())[1].forEach(function(a){var b=q._animations.indexOf(a);-1!==b&&q._animations.splice(b,1)}),g()}};var o=[],p=!1,q=new f;b.timeline=q}(c,d),function(a){function b(a,b){var c=a.exec(b);if(c)return c=a.ignoreCase?c[0].toLowerCase():c[0],[c,b.substr(c.length)]}function c(a,b){b=b.replace(/^\s*/,"");var c=a(b);if(c)return[c[0],c[1].replace(/^\s*/,"")]}function d(a,d,e){a=c.bind(null,a);for(var f=[],g;;){g=a(e);if(!g)return[f,e];if(f.push(g[0]),e=g[1],!(g=b(d,e))||""==g[1])return[f,e];e=g[1]}}function e(a,b){for(var c=0,d=0;d<b.length&&(!/\s|,/.test(b[d])||0!=c);d++){if("("==b[d])c++;else if(")"==b[d]&&(c--,0==c&&d++,0>=c))break}var e=a(b.substr(0,d));return void 0==e?void 0:[e,b.substr(d)]}function f(a,b){for(var c=a,d=b;c&&d;){c>d?c%=d:d%=c}return c=a*b/(c+d)}function g(a){return function(b){var c=a(b);return c&&(c[0]=void 0),c}}function h(a,b){return function(c){return a(c)||[b,c]}}function i(b,c){for(var d=[],e=0,f;e<b.length;e++){f=a.consumeTrimmed(b[e],c);if(!f||""==f[0])return;void 0!==f[0]&&d.push(f[0]),c=f[1]}if(""==c)return d}function j(a,b,c,d,e){for(var g=[],h=[],i=[],j=f(d.length,e.length),k=0,l;k<j;k++){l=b(d[k%d.length],e[k%e.length]);if(!l)return;g.push(l[0]),h.push(l[1]),i.push(l[2])}return[g,h,function(b){var d=b.map(function(a,b){return i[b](a)}).join(c);return a?a(d):d}]}function k(a,b,c){for(var d=[],e=[],f=[],g=0,h=0;h<c.length;h++){if("function"==typeof c[h]){var i=c[h](a[g],b[g++]);d.push(i[0]),e.push(i[1]),f.push(i[2])}else!function(a){d.push(!1),e.push(!1),f.push(function(){return c[a]})}(h)}return[d,e,function(a){for(var b="",c=0;c<a.length;c++){b+=f[c](a[c])}return b}]}a.consumeToken=b,a.consumeTrimmed=c,a.consumeRepeated=d,a.consumeParenthesised=e,a.ignore=g,a.optional=h,a.consumeList=i,a.mergeNestedRepeated=j.bind(null,null),a.mergeWrappedNestedRepeated=j,a.mergeList=k}(d),function(a){function b(b){function c(b){var c=a.consumeToken(/^inset/i,b);if(c)return d.inset=!0,c;var c=a.consumeLengthOrPercent(b);if(c)return d.lengths.push(c[0]),c;var c=a.consumeColor(b);return c?(d.color=c[0],c):void 0}var d={inset:!1,lengths:[],color:null},e=a.consumeRepeated(c,/^/,b);if(e&&e[0].length)return[d,e[1]]}function c(c){var d=a.consumeRepeated(b,/^,/,c);if(d&&""==d[1])return d[0]}function d(b,c){for(;b.lengths.length<_Mathmax(b.lengths.length,c.lengths.length);){b.lengths.push({px:0})}for(;c.lengths.length<_Mathmax(b.lengths.length,c.lengths.length);){c.lengths.push({px:0})}if(b.inset==c.inset&&!!b.color==!!c.color){for(var d,e=[],f=[[],0],g=[[],0],h=0,i;h<b.lengths.length;h++){i=a.mergeDimensions(b.lengths[h],c.lengths[h],2==h);f[0].push(i[0]),g[0].push(i[1]),e.push(i[2])}if(b.color&&c.color){var j=a.mergeColors(b.color,c.color);f[1]=j[0],g[1]=j[1],d=j[2]}return[f,g,function(a){for(var c=b.inset?"inset ":" ",f=0;f<e.length;f++){c+=e[f](a[0][f])+" "}return d&&(c+=d(a[1])),c}]}}function e(b,c,d,e){function f(a){return{inset:a,color:[0,0,0,0],lengths:[{px:0},{px:0},{px:0},{px:0}]}}for(var g=[],h=[],i=0;i<d.length||i<e.length;i++){var j=d[i]||f(e[i].inset),k=e[i]||f(d[i].inset);g.push(j),h.push(k)}return a.mergeNestedRepeated(b,c,g,h)}var f=e.bind(null,d,", ");a.addPropertiesHandler(c,f,["box-shadow","text-shadow"])}(d),function(a,b){function c(a){return a.toFixed(3).replace(/0+$/,"").replace(/\.$/,"")}function d(a,b,c){return _Mathmin(b,_Mathmax(a,c))}function e(a){if(/^\s*[-+]?(\d*\.)?\d+\s*$/.test(a))return+a}function f(a,b){return[a,b,c]}function g(a,b){if(0!=a)return i(0,1/0)(a,b)}function h(a,b){return[a,b,function(a){return _Mathround(d(1,1/0,a))}]}function i(a,b){return function(e,f){return[e,f,function(e){return c(d(a,b,e))}]}}function j(a){var b=a.trim().split(/\s*[\s,]\s*/);if(0!==b.length){for(var c=[],d=0,f;d<b.length;d++){f=e(b[d]);if(void 0===f)return;c.push(f)}return c}}function k(a,b){if(a.length==b.length)return[a,b,function(a){return a.map(c).join(" ")}]}function l(a,b){return[a,b,_Mathround]}a.clamp=d,a.addPropertiesHandler(j,k,["stroke-dasharray"]),a.addPropertiesHandler(e,i(0,1/0),["border-image-width","line-height"]),a.addPropertiesHandler(e,i(0,1),["opacity","shape-image-threshold"]),a.addPropertiesHandler(e,g,["flex-grow","flex-shrink"]),a.addPropertiesHandler(e,h,["orphans","widows"]),a.addPropertiesHandler(e,l,["z-index"]),a.parseNumber=e,a.parseNumberList=j,a.mergeNumbers=f,a.numberToString=c}(d),function(a,b){function c(a,b){if("visible"==a||"visible"==b)return[0,1,function(c){return 0>=c?a:1<=c?b:"visible"}]}a.addPropertiesHandler(String,c,["visibility"])}(d),function(a,b){function c(a){a=a.trim(),f.fillStyle="#000",f.fillStyle=a;var b=f.fillStyle;if(f.fillStyle="#fff",f.fillStyle=a,b==f.fillStyle){f.fillRect(0,0,1,1);var c=f.getImageData(0,0,1,1).data;f.clearRect(0,0,1,1);var d=c[3]/255;return[c[0]*d,c[1]*d,c[2]*d,d]}}function d(b,c){return[b,c,function(b){function c(a){return _Mathmax(0,_Mathmin(255,a))}if(b[3])for(var d=0;3>d;d++){b[d]=_Mathround(c(b[d]/b[3]))}return b[3]=a.numberToString(a.clamp(0,1,b[3])),"rgba("+b.join(",")+")"}]}var e=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");e.width=e.height=1;var f=e.getContext("2d");a.addPropertiesHandler(c,d,["background-color","border-bottom-color","border-left-color","border-right-color","border-top-color","color","fill","flood-color","lighting-color","outline-color","stop-color","stroke","text-decoration-color"]),a.consumeColor=a.consumeParenthesised.bind(null,c),a.mergeColors=d}(d),function(a,b){function c(a,b){if("0"==(b=b.trim().toLowerCase())&&0<="px".search(a))return{px:0};if(/^[^(]*$|^calc/.test(b)){b=b.replace(/calc\(/g,"(");var c={};b=b.replace(a,function(a){return c[a]=null,"U"+a});for(var d="U("+a.source+")",e=b.replace(/[-+]?(\d*\.)?\d+/g,"N").replace(new RegExp("N"+d,"g"),"D").replace(/\s[+-]\s/g,"O").replace(/\s/g,""),f=[/N\*(D)/g,/(N|D)[*\/]N/g,/(N|D)O\1/g,/\((N|D)\)/g],g=0;g<f.length;){f[g].test(e)?(e=e.replace(f[g],"$1"),g=0):g++}if("D"==e){for(var h in c){var i=eval(b.replace(new RegExp("U"+h,"g"),"").replace(new RegExp(d,"g"),"*0"));if(!isFinite(i))return;c[h]=i}return c}}}function d(a,b){return e(a,b,!0)}function e(b,c,d){var e,f=[];for(e in b){f.push(e)}for(e in c){0>f.indexOf(e)&&f.push(e)}return b=f.map(function(a){return b[a]||0}),c=f.map(function(a){return c[a]||0}),[b,c,function(b){var c=b.map(function(c,e){return 1==b.length&&d&&(c=_Mathmax(c,0)),a.numberToString(c)+f[e]}).join(" + ");return 1<b.length?"calc("+c+")":c}]}var f="px|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc",g=c.bind(null,/px|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc/g),h=c.bind(null,/px|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|%/g),i=c.bind(null,/deg|rad|grad|turn/g);a.parseLength=g,a.parseLengthOrPercent=h,a.consumeLengthOrPercent=a.consumeParenthesised.bind(null,h),a.parseAngle=i,a.mergeDimensions=e;var j=a.consumeParenthesised.bind(null,g),k=a.consumeRepeated.bind(void 0,j,/^/),l=a.consumeRepeated.bind(void 0,k,/^,/);a.consumeSizePairList=l;var m=function m(a){var b=l(a);if(b&&""==b[1])return b[0]},n=a.mergeNestedRepeated.bind(void 0,d," "),o=a.mergeNestedRepeated.bind(void 0,n,",");a.mergeNonNegativeSizePair=n,a.addPropertiesHandler(m,o,["background-size"]),a.addPropertiesHandler(h,d,["border-bottom-width","border-image-width","border-left-width","border-right-width","border-top-width","flex-basis","font-size","height","line-height","max-height","max-width","outline-width","width"]),a.addPropertiesHandler(h,e,["border-bottom-left-radius","border-bottom-right-radius","border-top-left-radius","border-top-right-radius","bottom","left","letter-spacing","margin-bottom","margin-left","margin-right","margin-top","min-height","min-width","outline-offset","padding-bottom","padding-left","padding-right","padding-top","perspective","right","shape-margin","stroke-dashoffset","text-indent","top","vertical-align","word-spacing"])}(d,f),function(a,b){function c(b){return a.consumeLengthOrPercent(b)||a.consumeToken(/^auto/,b)}function d(b){var d=a.consumeList([a.ignore(a.consumeToken.bind(null,/^rect/)),a.ignore(a.consumeToken.bind(null,/^\(/)),a.consumeRepeated.bind(null,c,/^,/),a.ignore(a.consumeToken.bind(null,/^\)/))],b);if(d&&4==d[0].length)return d[0]}function e(b,c){return"auto"==b||"auto"==c?[!0,!1,function(d){var e=d?b:c;if("auto"==e)return"auto";var f=a.mergeDimensions(e,e);return f[2](f[0])}]:a.mergeDimensions(b,c)}function f(a){return"rect("+a+")"}var g=a.mergeWrappedNestedRepeated.bind(null,f,e,", ");a.parseBox=d,a.mergeBoxes=g,a.addPropertiesHandler(d,g,["clip"])}(d),function(a,b){function c(a){return function(b){var c=0;return a.map(function(a){return a===k?b[c++]:a})}}function d(a){return a}function e(b){if("none"==(b=b.toLowerCase().trim()))return[];for(var c,d=/\s*(\w+)\(([^)]*)\)/g,e=[],f=0;c=d.exec(b);){if(c.index!=f)return;f=c.index+c[0].length;var g=c[1],h=n[g];if(!h)return;var i=c[2].split(","),j=h[0];if(j.length<i.length)return;for(var k=[],o=0;o<j.length;o++){var p,q=i[o],r=j[o];if(void 0===(p=q?{A:function A(b){return"0"==b.trim()?m:a.parseAngle(b)},N:a.parseNumber,T:a.parseLengthOrPercent,L:a.parseLength}[r.toUpperCase()](q):{a:m,n:k[0],t:l}[r]))return;k.push(p)}if(e.push({t:g,d:k}),d.lastIndex==b.length)return e}}function f(a){return a.toFixed(6).replace(".000000","")}function g(b,c){if(b.decompositionPair!==c){b.decompositionPair=c;var d=a.makeMatrixDecomposition(b)}if(c.decompositionPair!==b){c.decompositionPair=b;var e=a.makeMatrixDecomposition(c)}return null==d[0]||null==e[0]?[[!1],[!0],function(a){return a?c[0].d:b[0].d}]:(d[0].push(0),e[0].push(1),[d,e,function(b){var c=a.quat(d[0][3],e[0][3],b[5]);return a.composeMatrix(b[0],b[1],b[2],c,b[4]).map(f).join(",")}])}function h(a){return a.replace(/[xy]/,"")}function i(a){return a.replace(/(x|y|z|3d)?$/,"3d")}function j(b,c){var d=a.makeMatrixDecomposition&&!0,e=!1;if(!b.length||!c.length){b.length||(e=!0,b=c,c=[]);for(var f=0;f<b.length;f++){var j=b[f].t,k=b[f].d,l="scale"==j.substr(0,5)?1:0;c.push({t:j,d:k.map(function(a){if("number"==typeof a)return l;var b={};for(var c in a){b[c]=l}return b})})}}var m=function m(a,b){return"perspective"==a&&"perspective"==b||("matrix"==a||"matrix3d"==a)&&("matrix"==b||"matrix3d"==b)},o=[],p=[],q=[];if(b.length!=c.length){if(!d)return;var r=g(b,c);o=[r[0]],p=[r[1]],q=[["matrix",[r[2]]]]}else for(var f=0;f<b.length;f++){var j,s=b[f].t,t=c[f].t,u=b[f].d,v=c[f].d,w=n[s],x=n[t];if(m(s,t)){if(!d)return;var r=g([b[f]],[c[f]]);o.push(r[0]),p.push(r[1]),q.push(["matrix",[r[2]]])}else{if(s==t)j=s;else if(w[2]&&x[2]&&h(s)==h(t))j=h(s),u=w[2](u),v=x[2](v);else{if(!w[1]||!x[1]||i(s)!=i(t)){if(!d)return;var r=g(b,c);o=[r[0]],p=[r[1]],q=[["matrix",[r[2]]]];break}j=i(s),u=w[1](u),v=x[1](v)}for(var y=[],z=[],A=[],B=0;B<u.length;B++){var C="number"==typeof u[B]?a.mergeNumbers:a.mergeDimensions,r=C(u[B],v[B]);y[B]=r[0],z[B]=r[1],A.push(r[2])}o.push(y),p.push(z),q.push([j,A])}}if(e){var D=o;o=p,p=D}return[o,p,function(a){return a.map(function(a,b){var c=a.map(function(a,c){return q[b][1][c](a)}).join(",");return"matrix"==q[b][0]&&16==c.split(",").length&&(q[b][0]="matrix3d"),q[b][0]+"("+c+")"}).join(" ")}]}var k=null,l={px:0},m={deg:0},n={matrix:["NNNNNN",[k,k,0,0,k,k,0,0,0,0,1,0,k,k,0,1],d],matrix3d:["NNNNNNNNNNNNNNNN",d],rotate:["A"],rotatex:["A"],rotatey:["A"],rotatez:["A"],rotate3d:["NNNA"],perspective:["L"],scale:["Nn",c([k,k,1]),d],scalex:["N",c([k,1,1]),c([k,1])],scaley:["N",c([1,k,1]),c([1,k])],scalez:["N",c([1,1,k])],scale3d:["NNN",d],skew:["Aa",null,d],skewx:["A",null,c([k,m])],skewy:["A",null,c([m,k])],translate:["Tt",c([k,k,l]),d],translatex:["T",c([k,l,l]),c([k,l])],translatey:["T",c([l,k,l]),c([l,k])],translatez:["L",c([l,l,k])],translate3d:["TTL",d]};a.addPropertiesHandler(e,j,["transform"])}(d),function(a,b){function c(a,b){b.concat([a]).forEach(function(b){b in document.documentElement.style&&(d[a]=b)})}var d={};c("transform",["webkitTransform","msTransform"]),c("transformOrigin",["webkitTransformOrigin"]),c("perspective",["webkitPerspective"]),c("perspectiveOrigin",["webkitPerspectiveOrigin"]),a.propertyName=function(a){return d[a]||a}}(d)}(),function(){if(void 0===document.createElement("div").animate([]).oncancel){var a;if(window.performance&&performance.now)var a=function a(){return performance.now()};else var a=function a(){return Date.now()};var b=function b(a,_b,c){this.target=a,this.currentTime=_b,this.timelineTime=c,this.type="cancel",this.bubbles=!1,this.cancelable=!1,this.currentTarget=a,this.defaultPrevented=!1,this.eventPhase=Event.AT_TARGET,this.timeStamp=Date.now()},c=window.Element.prototype.animate;window.Element.prototype.animate=function(d,e){var f=c.call(this,d,e);f._cancelHandlers=[],f.oncancel=null;var g=f.cancel;f.cancel=function(){g.call(this);var c=new b(this,null,a()),d=this._cancelHandlers.concat(this.oncancel?[this.oncancel]:[]);setTimeout(function(){d.forEach(function(a){a.call(c.target,c)})},0)};var h=f.addEventListener;f.addEventListener=function(a,b){"function"==typeof b&&"cancel"==a?this._cancelHandlers.push(b):h.call(this,a,b)};var i=f.removeEventListener;return f.removeEventListener=function(a,b){if("cancel"==a){var c=this._cancelHandlers.indexOf(b);0<=c&&this._cancelHandlers.splice(c,1)}else i.call(this,a,b)},f}}}(),function(a){var b=document.documentElement,c=null,d=!1;try{var e=getComputedStyle(b).getPropertyValue("opacity"),f="0"==e?"1":"0";c=b.animate({opacity:[f,f]},{duration:1}),c.currentTime=0,d=getComputedStyle(b).getPropertyValue("opacity")==f}catch(a){}finally{c&&c.cancel()}if(!d){var g=window.Element.prototype.animate;window.Element.prototype.animate=function(b,c){return window.Symbol&&Symbol.iterator&&Array.prototype.from&&b[Symbol.iterator]&&(b=Array.from(b)),Array.isArray(b)||null===b||(b=a.convertToArrayForm(b)),g.call(this,b,c)}}}(c),function(a,b,c){function d(a){var c=b.timeline;c.currentTime=a,c._discardAnimations(),0==c._animations.length?f=!1:requestAnimationFrame(d)}var e=window.requestAnimationFrame;window.requestAnimationFrame=function(a){return e(function(c){b.timeline._updateAnimationsPromises(),a(c),b.timeline._updateAnimationsPromises()})},b.AnimationTimeline=function(){this._animations=[],this.currentTime=void 0},b.AnimationTimeline.prototype={getAnimations:function getAnimations(){return this._discardAnimations(),this._animations.slice()},_updateAnimationsPromises:function _updateAnimationsPromises(){b.animationsWithPromises=b.animationsWithPromises.filter(function(a){return a._updatePromises()})},_discardAnimations:function _discardAnimations(){this._updateAnimationsPromises(),this._animations=this._animations.filter(function(a){return"finished"!=a.playState&&"idle"!=a.playState})},_play:function _play(a){var c=new b.Animation(a,this);return this._animations.push(c),b.restartWebAnimationsNextTick(),c._updatePromises(),c._animation.play(),c._updatePromises(),c},play:function play(a){return a&&a.remove(),this._play(a)}};var f=!1;b.restartWebAnimationsNextTick=function(){f||(f=!0,requestAnimationFrame(d))};var g=new b.AnimationTimeline;b.timeline=g;try{Object.defineProperty(window.document,"timeline",{configurable:!0,get:function get(){return g}})}catch(a){}try{window.document.timeline=g}catch(a){}}(0,e),function(a,b,c){var _NumberMAX_VALUE=Number.MAX_VALUE,_Mathsign=Math.sign;b.animationsWithPromises=[],b.Animation=function(b,c){if(this.id="",b&&b._id&&(this.id=b._id),this.effect=b,b&&(b._animation=this),!c)throw new Error("Animation with null timeline is not supported");this._timeline=c,this._sequenceNumber=a.sequenceNumber++,this._holdTime=0,this._paused=!1,this._isGroup=!1,this._animation=null,this._childAnimations=[],this._callback=null,this._oldPlayState="idle",this._rebuildUnderlyingAnimation(),this._animation.cancel(),this._updatePromises()},b.Animation.prototype={_updatePromises:function _updatePromises(){var a=this._oldPlayState,b=this.playState;return this._readyPromise&&b!==a&&("idle"==b?(this._rejectReadyPromise(),this._readyPromise=void 0):"pending"==a?this._resolveReadyPromise():"pending"==b&&(this._readyPromise=void 0)),this._finishedPromise&&b!==a&&("idle"==b?(this._rejectFinishedPromise(),this._finishedPromise=void 0):"finished"==b?this._resolveFinishedPromise():"finished"==a&&(this._finishedPromise=void 0)),this._oldPlayState=this.playState,this._readyPromise||this._finishedPromise},_rebuildUnderlyingAnimation:function _rebuildUnderlyingAnimation(){this._updatePromises();var a,c,d,e,f=!!this._animation;f&&(a=this.playbackRate,c=this._paused,d=this.startTime,e=this.currentTime,this._animation.cancel(),this._animation._wrapper=null,this._animation=null),(!this.effect||babelHelpers.instanceof(this.effect,window.KeyframeEffect))&&(this._animation=b.newUnderlyingAnimationForKeyframeEffect(this.effect),b.bindAnimationForKeyframeEffect(this)),(babelHelpers.instanceof(this.effect,window.SequenceEffect)||babelHelpers.instanceof(this.effect,window.GroupEffect))&&(this._animation=b.newUnderlyingAnimationForGroup(this.effect),b.bindAnimationForGroup(this)),this.effect&&this.effect._onsample&&b.bindAnimationForCustomEffect(this),f&&(1!=a&&(this.playbackRate=a),null!==d?this.startTime=d:null!==e?this.currentTime=e:null!==this._holdTime&&(this.currentTime=this._holdTime),c&&this.pause()),this._updatePromises()},_updateChildren:function _updateChildren(){if(this.effect&&"idle"!=this.playState){var a=this.effect._timing.delay;this._childAnimations.forEach(function(c){this._arrangeChildren(c,a),babelHelpers.instanceof(this.effect,window.SequenceEffect)&&(a+=b.groupChildDuration(c.effect))}.bind(this))}},_setExternalAnimation:function _setExternalAnimation(a){if(this.effect&&this._isGroup)for(var b=0;b<this.effect.children.length;b++){this.effect.children[b]._animation=a,this._childAnimations[b]._setExternalAnimation(a)}},_constructChildAnimations:function _constructChildAnimations(){if(this.effect&&this._isGroup){var a=this.effect._timing.delay;this._removeChildAnimations(),this.effect.children.forEach(function(c){var d=b.timeline._play(c);this._childAnimations.push(d),d.playbackRate=this.playbackRate,this._paused&&d.pause(),c._animation=this.effect._animation,this._arrangeChildren(d,a),babelHelpers.instanceof(this.effect,window.SequenceEffect)&&(a+=b.groupChildDuration(c))}.bind(this))}},_arrangeChildren:function _arrangeChildren(a,b){null===this.startTime?a.currentTime=this.currentTime-b/this.playbackRate:a.startTime!==this.startTime+b/this.playbackRate&&(a.startTime=this.startTime+b/this.playbackRate)},get timeline(){return this._timeline},get playState(){return this._animation?this._animation.playState:"idle"},get finished(){return window.Promise?(this._finishedPromise||(-1==b.animationsWithPromises.indexOf(this)&&b.animationsWithPromises.push(this),this._finishedPromise=new Promise(function(a,b){this._resolveFinishedPromise=function(){a(this)},this._rejectFinishedPromise=function(){b({type:DOMException.ABORT_ERR,name:"AbortError"})}}.bind(this)),"finished"==this.playState&&this._resolveFinishedPromise()),this._finishedPromise):(console.warn("Animation Promises require JavaScript Promise constructor"),null)},get ready(){return window.Promise?(this._readyPromise||(-1==b.animationsWithPromises.indexOf(this)&&b.animationsWithPromises.push(this),this._readyPromise=new Promise(function(a,b){this._resolveReadyPromise=function(){a(this)},this._rejectReadyPromise=function(){b({type:DOMException.ABORT_ERR,name:"AbortError"})}}.bind(this)),"pending"!==this.playState&&this._resolveReadyPromise()),this._readyPromise):(console.warn("Animation Promises require JavaScript Promise constructor"),null)},get onfinish(){return this._animation.onfinish},set onfinish(a){this._animation.onfinish="function"==typeof a?function(b){b.target=this,a.call(this,b)}.bind(this):a},get oncancel(){return this._animation.oncancel},set oncancel(a){this._animation.oncancel="function"==typeof a?function(b){b.target=this,a.call(this,b)}.bind(this):a},get currentTime(){this._updatePromises();var a=this._animation.currentTime;return this._updatePromises(),a},set currentTime(a){this._updatePromises(),this._animation.currentTime=isFinite(a)?a:_Mathsign(a)*_NumberMAX_VALUE,this._register(),this._forEachChild(function(b,c){b.currentTime=a-c}),this._updatePromises()},get startTime(){return this._animation.startTime},set startTime(a){this._updatePromises(),this._animation.startTime=isFinite(a)?a:_Mathsign(a)*_NumberMAX_VALUE,this._register(),this._forEachChild(function(b,c){b.startTime=a+c}),this._updatePromises()},get playbackRate(){return this._animation.playbackRate},set playbackRate(a){this._updatePromises();var b=this.currentTime;this._animation.playbackRate=a,this._forEachChild(function(b){b.playbackRate=a}),null!==b&&(this.currentTime=b),this._updatePromises()},play:function play(){this._updatePromises(),this._paused=!1,this._animation.play(),-1==this._timeline._animations.indexOf(this)&&this._timeline._animations.push(this),this._register(),b.awaitStartTime(this),this._forEachChild(function(a){var b=a.currentTime;a.play(),a.currentTime=b}),this._updatePromises()},pause:function pause(){this._updatePromises(),this.currentTime&&(this._holdTime=this.currentTime),this._animation.pause(),this._register(),this._forEachChild(function(a){a.pause()}),this._paused=!0,this._updatePromises()},finish:function finish(){this._updatePromises(),this._animation.finish(),this._register(),this._updatePromises()},cancel:function cancel(){this._updatePromises(),this._animation.cancel(),this._register(),this._removeChildAnimations(),this._updatePromises()},reverse:function reverse(){this._updatePromises();var a=this.currentTime;this._animation.reverse(),this._forEachChild(function(a){a.reverse()}),null!==a&&(this.currentTime=a),this._updatePromises()},addEventListener:function addEventListener(a,b){var c=b;"function"==typeof b&&(c=function(a){a.target=this,b.call(this,a)}.bind(this),b._wrapper=c),this._animation.addEventListener(a,c)},removeEventListener:function removeEventListener(a,b){this._animation.removeEventListener(a,b&&b._wrapper||b)},_removeChildAnimations:function _removeChildAnimations(){for(;this._childAnimations.length;){this._childAnimations.pop().cancel()}},_forEachChild:function _forEachChild(b){var c=0;if(this.effect.children&&this._childAnimations.length<this.effect.children.length&&this._constructChildAnimations(),this._childAnimations.forEach(function(a){b.call(this,a,c),babelHelpers.instanceof(this.effect,window.SequenceEffect)&&(c+=a.effect.activeDuration)}.bind(this)),"pending"!=this.playState){var d=this.effect._timing,e=this.currentTime;null!==e&&(e=a.calculateIterationProgress(a.calculateActiveDuration(d),e,d)),(null==e||isNaN(e))&&this._removeChildAnimations()}}},window.Animation=b.Animation}(c,e),function(a,b,c){function d(b){this._frames=a.normalizeKeyframes(b)}function e(){for(var a=!1;i.length;){i.shift()._updateChildren(),a=!0}return a}var f=function f(a){if(a._animation=void 0,babelHelpers.instanceof(a,window.SequenceEffect)||babelHelpers.instanceof(a,window.GroupEffect))for(var b=0;b<a.children.length;b++){f(a.children[b])}};b.removeMulti=function(a){for(var b=[],c=0,d;c<a.length;c++){d=a[c];d._parent?(-1==b.indexOf(d._parent)&&b.push(d._parent),d._parent.children.splice(d._parent.children.indexOf(d),1),d._parent=null,f(d)):d._animation&&d._animation.effect==d&&(d._animation.cancel(),d._animation.effect=new KeyframeEffect(null,[]),d._animation._callback&&(d._animation._callback._animation=null),d._animation._rebuildUnderlyingAnimation(),f(d))}for(c=0;c<b.length;c++){b[c]._rebuild()}},b.KeyframeEffect=function(b,c,e,f){return this.target=b,this._parent=null,e=a.numericTimingToObject(e),this._timingInput=a.cloneTimingInput(e),this._timing=a.normalizeTimingInput(e),this.timing=a.makeTiming(e,!1,this),this.timing._effect=this,"function"==typeof c?(a.deprecated("Custom KeyframeEffect","2015-06-22","Use KeyframeEffect.onsample instead."),this._normalizedKeyframes=c):this._normalizedKeyframes=new d(c),this._keyframes=c,this.activeDuration=a.calculateActiveDuration(this._timing),this._id=f,this},b.KeyframeEffect.prototype={getFrames:function getFrames(){return"function"==typeof this._normalizedKeyframes?this._normalizedKeyframes:this._normalizedKeyframes._frames},set onsample(a){if("function"==typeof this.getFrames())throw new Error("Setting onsample on custom effect KeyframeEffect is not supported.");this._onsample=a,this._animation&&this._animation._rebuildUnderlyingAnimation()},get parent(){return this._parent},clone:function clone(){if("function"==typeof this.getFrames())throw new Error("Cloning custom effects is not supported.");var b=new KeyframeEffect(this.target,[],a.cloneTimingInput(this._timingInput),this._id);return b._normalizedKeyframes=this._normalizedKeyframes,b._keyframes=this._keyframes,b},remove:function remove(){b.removeMulti([this])}};var g=Element.prototype.animate;Element.prototype.animate=function(a,c){var d="";return c&&c.id&&(d=c.id),b.timeline._play(new b.KeyframeEffect(this,a,c,d))};var h=document.createElementNS("http://www.w3.org/1999/xhtml","div");b.newUnderlyingAnimationForKeyframeEffect=function(a){if(a){var b=a.target||h,c=a._keyframes;"function"==typeof c&&(c=[]);var d=a._timingInput;d.id=a._id}else var b=h,c=[],d=0;return g.apply(b,[c,d])},b.bindAnimationForKeyframeEffect=function(a){a.effect&&"function"==typeof a.effect._normalizedKeyframes&&b.bindAnimationForCustomEffect(a)};var i=[];b.awaitStartTime=function(a){null===a.startTime&&a._isGroup&&(0==i.length&&requestAnimationFrame(e),i.push(a))};var j=window.getComputedStyle;Object.defineProperty(window,"getComputedStyle",{configurable:!0,enumerable:!0,value:function value(){b.timeline._updateAnimationsPromises();var a=j.apply(this,arguments);return e()&&(a=j.apply(this,arguments)),b.timeline._updateAnimationsPromises(),a}}),window.KeyframeEffect=b.KeyframeEffect,window.Element.prototype.getAnimations=function(){return document.timeline.getAnimations().filter(function(a){return null!==a.effect&&a.effect.target==this}.bind(this))}}(c,e),function(a,b,c){function d(a){a._registered||(a._registered=!0,g.push(a),h||(h=!0,requestAnimationFrame(e)))}function e(a){var b=g;g=[],b.sort(function(a,b){return a._sequenceNumber-b._sequenceNumber}),b=b.filter(function(a){a();var b=a._animation?a._animation.playState:"idle";return"running"!=b&&"pending"!=b&&(a._registered=!1),a._registered}),g.push.apply(g,b),g.length?(h=!0,requestAnimationFrame(e)):h=!1}var f=(document.createElementNS("http://www.w3.org/1999/xhtml","div"),0);b.bindAnimationForCustomEffect=function(b){var c,e=b.effect.target,g="function"==typeof b.effect.getFrames();c=g?b.effect.getFrames():b.effect._onsample;var h=b.effect.timing,i=null;h=a.normalizeTimingInput(h);var j=function j(){var d=j._animation?j._animation.currentTime:null;null!==d&&(d=a.calculateIterationProgress(a.calculateActiveDuration(h),d,h),isNaN(d)&&(d=null)),d!==i&&(g?c(d,e,b.effect):c(d,b.effect,b.effect._animation)),i=d};j._animation=b,j._registered=!1,j._sequenceNumber=f++,b._callback=j,d(j)};var g=[],h=!1;b.Animation.prototype._register=function(){this._callback&&d(this._callback)}}(c,e),function(a,b,c){function d(a){return a._timing.delay+a.activeDuration+a._timing.endDelay}function e(b,c,d){this._id=d,this._parent=null,this.children=b||[],this._reparent(this.children),c=a.numericTimingToObject(c),this._timingInput=a.cloneTimingInput(c),this._timing=a.normalizeTimingInput(c,!0),this.timing=a.makeTiming(c,!0,this),this.timing._effect=this,"auto"===this._timing.duration&&(this._timing.duration=this.activeDuration)}window.SequenceEffect=function(){e.apply(this,arguments)},window.GroupEffect=function(){e.apply(this,arguments)},e.prototype={_isAncestor:function _isAncestor(a){for(var b=this;null!==b;){if(b==a)return!0;b=b._parent}return!1},_rebuild:function _rebuild(){for(var a=this;a;){"auto"===a.timing.duration&&(a._timing.duration=a.activeDuration),a=a._parent}this._animation&&this._animation._rebuildUnderlyingAnimation()},_reparent:function _reparent(a){b.removeMulti(a);for(var c=0;c<a.length;c++){a[c]._parent=this}},_putChild:function _putChild(a,b){for(var c=b?"Cannot append an ancestor or self":"Cannot prepend an ancestor or self",d=0;d<a.length;d++){if(this._isAncestor(a[d]))throw{type:DOMException.HIERARCHY_REQUEST_ERR,name:"HierarchyRequestError",message:c}}for(var d=0;d<a.length;d++){b?this.children.push(a[d]):this.children.unshift(a[d])}this._reparent(a),this._rebuild()},append:function append(){this._putChild(arguments,!0)},prepend:function prepend(){this._putChild(arguments,!1)},get parent(){return this._parent},get firstChild(){return this.children.length?this.children[0]:null},get lastChild(){return this.children.length?this.children[this.children.length-1]:null},clone:function clone(){for(var b=a.cloneTimingInput(this._timingInput),c=[],d=0;d<this.children.length;d++){c.push(this.children[d].clone())}return babelHelpers.instanceof(this,GroupEffect)?new GroupEffect(c,b):new SequenceEffect(c,b)},remove:function remove(){b.removeMulti([this])}},window.SequenceEffect.prototype=Object.create(e.prototype),Object.defineProperty(window.SequenceEffect.prototype,"activeDuration",{get:function get(){var a=0;return this.children.forEach(function(b){a+=d(b)}),_Mathmax(a,0)}}),window.GroupEffect.prototype=Object.create(e.prototype),Object.defineProperty(window.GroupEffect.prototype,"activeDuration",{get:function get(){var a=0;return this.children.forEach(function(b){a=_Mathmax(a,d(b))}),a}}),b.newUnderlyingAnimationForGroup=function(c){var d,e=null,f=function f(b){var c=d._wrapper;if(c&&"pending"!=c.playState&&c.effect)return null==b?void c._removeChildAnimations():0==b&&0>c.playbackRate&&(e||(e=a.normalizeTimingInput(c.effect.timing)),b=a.calculateIterationProgress(a.calculateActiveDuration(e),-1,e),isNaN(b)||null==b)?(c._forEachChild(function(a){a.currentTime=-1}),void c._removeChildAnimations()):void 0},g=new KeyframeEffect(null,[],c._timing,c._id);return g.onsample=f,d=b.timeline._play(g)},b.bindAnimationForGroup=function(a){a._animation._wrapper=a,a._isGroup=!0,b.awaitStartTime(a),a._constructChildAnimations(),a._setExternalAnimation(a)},b.groupChildDuration=d}(c,e),b.true=a}({},function(){return this}());</script><iron-iconset-svg name="paper-dropdown-menu" size="24"><svg><defs><g id="arrow-drop-down"><path d="M7 10l5 5 5-5z"></path></g></defs></svg></iron-iconset-svg><dom-module id="paper-dropdown-menu-shared-styles" assetpath="../bower_components/paper-dropdown-menu/"><template><style>:host{display:inline-block;position:relative;text-align:left;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-tap-highlight-color:transparent;--paper-input-container-input:{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;max-width:100%;box-sizing:border-box;cursor:pointer;};@apply --paper-dropdown-menu;}:host([disabled]){@apply --paper-dropdown-menu-disabled;}:host([noink]) paper-ripple{display:none;}:host([no-label-float]) paper-ripple{top:8px;}paper-ripple{top:12px;left:0px;bottom:8px;right:0px;@apply --paper-dropdown-menu-ripple;}paper-menu-button{display:block;padding:0;@apply --paper-dropdown-menu-button;}paper-input{@apply --paper-dropdown-menu-input;}iron-icon{color:var(--disabled-text-color);@apply --paper-dropdown-menu-icon;}</style></template></dom-module><dom-module id="paper-dropdown-menu" assetpath="../bower_components/paper-dropdown-menu/"><template><style include="paper-dropdown-menu-shared-styles"></style><span role="button"></span><paper-menu-button id="menuButton" vertical-align="[[verticalAlign]]" horizontal-align="[[horizontalAlign]]" dynamic-align="[[dynamicAlign]]" vertical-offset="[[_computeMenuVerticalOffset(noLabelFloat, verticalOffset)]]" disabled="[[disabled]]" no-animations="[[noAnimations]]" on-iron-select="_onIronSelect" on-iron-deselect="_onIronDeselect" opened="{{opened}}" close-on-activate="" allow-outside-scroll="[[allowOutsideScroll]]" restore-focus-on-close="[[restoreFocusOnClose]]"><div class="dropdown-trigger" slot="dropdown-trigger"><paper-ripple></paper-ripple><paper-input type="text" invalid="[[invalid]]" readonly="" disabled="[[disabled]]" value="[[value]]" placeholder="[[placeholder]]" error-message="[[errorMessage]]" always-float-label="[[alwaysFloatLabel]]" no-label-float="[[noLabelFloat]]" label="[[label]]"><iron-icon icon="paper-dropdown-menu:arrow-drop-down" suffix="" slot="suffix"></iron-icon></paper-input></div><slot id="content" name="dropdown-content" slot="dropdown-content"></slot></paper-menu-button></template><script>(function(){"use strict";Polymer({is:"paper-dropdown-menu",behaviors:[Polymer.IronButtonState,Polymer.IronControlState,Polymer.IronFormElementBehavior,Polymer.IronValidatableBehavior],properties:{selectedItemLabel:{type:String,notify:!0,readOnly:!0},selectedItem:{type:Object,notify:!0,readOnly:!0},value:{type:String,notify:!0},label:{type:String},placeholder:{type:String},errorMessage:{type:String},opened:{type:Boolean,notify:!0,value:!1,observer:"_openedChanged"},allowOutsideScroll:{type:Boolean,value:!1},noLabelFloat:{type:Boolean,value:!1,reflectToAttribute:!0},alwaysFloatLabel:{type:Boolean,value:!1},noAnimations:{type:Boolean,value:!1},horizontalAlign:{type:String,value:"right"},verticalAlign:{type:String,value:"top"},verticalOffset:Number,dynamicAlign:{type:Boolean},restoreFocusOnClose:{type:Boolean,value:!0}},listeners:{tap:"_onTap"},keyBindings:{"up down":"open",esc:"close"},hostAttributes:{role:"combobox","aria-autocomplete":"none","aria-haspopup":"true"},observers:["_selectedItemChanged(selectedItem)"],attached:function attached(){var contentElement=this.contentElement;if(contentElement&&contentElement.selectedItem){this._setSelectedItem(contentElement.selectedItem)}},get contentElement(){for(var nodes=Polymer.dom(this.$.content).getDistributedNodes(),i=0,l=nodes.length;i<l;i++){if(nodes[i].nodeType===Node.ELEMENT_NODE){return nodes[i]}}},open:function open(){this.$.menuButton.open()},close:function close(){this.$.menuButton.close()},_onIronSelect:function _onIronSelect(event){this._setSelectedItem(event.detail.item)},_onIronDeselect:function _onIronDeselect(event){this._setSelectedItem(null)},_onTap:function _onTap(event){if(Polymer.Gestures.findOriginalTarget(event)===this){this.open()}},_selectedItemChanged:function _selectedItemChanged(selectedItem){var value="";if(!selectedItem){value=""}else{value=selectedItem.label||selectedItem.getAttribute("label")||selectedItem.textContent.trim()}this.value=value;this._setSelectedItemLabel(value)},_computeMenuVerticalOffset:function _computeMenuVerticalOffset(noLabelFloat,opt_verticalOffset){if(opt_verticalOffset){return opt_verticalOffset}return noLabelFloat?-4:8},_getValidity:function _getValidity(_value){return this.disabled||!this.required||this.required&&!!this.value},_openedChanged:function _openedChanged(){var openState=this.opened?"true":"false",e=this.contentElement;if(e){e.setAttribute("aria-expanded",openState)}}})})();</script></dom-module><script>(function(M,S){"object"===("undefined"===typeof module?"undefined":babelHelpers.typeof(module))&&module.exports?module.exports=M.document?S(M):S:M.Highcharts=S(M)})("undefined"!==typeof window?window:this,function(M){var _Mathsqrt=Math.sqrt,_NumberMAX_VALUE=Number.MAX_VALUE,_Mathceil=Math.ceil,_Mathsin=Math.sin,_Mathcos=Math.cos,_Mathmax=Math.max,_Mathabs=Math.abs,_Mathmin=Math.min,_Mathpow=Math.pow,_Mathfloor=Math.floor,_MathLN=Math.LN10,_Mathlog=Math.log,_Mathround=Math.round,_MathPI=Math.PI;M=function(){var a=window,C=a.document,A=a.navigator&&a.navigator.userAgent||"",F=C&&C.createElementNS&&!!C.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,E=/(edge|msie|trident)/i.test(A)&&!window.opera,m=!F,f=/Firefox/.test(A),l=f&&4>parseInt(A.split("Firefox/")[1],10);return a.Highcharts?a.Highcharts.error(16,!0):{product:"Highcharts",version:"5.0.14",deg2rad:2*_MathPI/360,doc:C,hasBidiBug:l,hasTouch:C&&void 0!==C.documentElement.ontouchstart,isMS:E,isWebKit:/AppleWebKit/.test(A),isFirefox:f,isTouchDevice:/(Mobile|Android|Windows Phone)/.test(A),SVG_NS:"http://www.w3.org/2000/svg",chartCount:0,seriesTypes:{},symbolSizes:{},svg:F,vml:m,win:a,marginNames:["plotTop","marginRight","marginBottom","plotLeft"],noop:function noop(){},charts:[]}}();(function(a){var _MatheaseInOutSine=Math.easeInOutSine,C=[],A=a.charts,F=a.doc,E=a.win;a.error=function(m,f){m=a.isNumber(m)?"Highcharts error #"+m+": www.highcharts.com/errors/"+m:m;if(f)throw Error(m);E.console&&console.log(m)};a.Fx=function(a,f,l){this.options=f;this.elem=a;this.prop=l};a.Fx.prototype={dSetter:function dSetter(){var a=this.paths[0],f=this.paths[1],l=[],r=this.now,u=a.length,t;if(1===r)l=this.toD;else if(u===f.length&&1>r)for(;u--;){t=parseFloat(a[u]),l[u]=isNaN(t)?a[u]:r*parseFloat(f[u]-t)+t}else l=f;this.elem.attr("d",l,null,!0)},update:function update(){var a=this.elem,f=this.prop,l=this.now,r=this.options.step;if(this[f+"Setter"])this[f+"Setter"]();else a.attr?a.element&&a.attr(f,l,null,!0):a.style[f]=l+this.unit;r&&r.call(a,l,this)},run:function run(a,f,l){var r=this,m=function m(a){return m.stopped?!1:r.step(a)},t;this.startTime=+new Date;this.start=a;this.end=f;this.unit=l;this.now=this.start;this.pos=0;m.elem=this.elem;m.prop=this.prop;m()&&1===C.push(m)&&(m.timerId=setInterval(function(){for(t=0;t<C.length;t++){C[t]()||C.splice(t--,1)}C.length||clearInterval(m.timerId)},13))},step:function step(m){var f=+new Date,l,r=this.options,u=this.elem,t=r.complete,g=r.duration,d=r.curAnim;u.attr&&!u.element?m=!1:m||f>=g+this.startTime?(this.now=this.end,this.pos=1,this.update(),l=d[this.prop]=!0,a.objectEach(d,function(a){!0!==a&&(l=!1)}),l&&t&&t.call(u),m=!1):(this.pos=r.easing((f-this.startTime)/g),this.now=this.start+(this.end-this.start)*this.pos,this.update(),m=!0);return m},initPath:function initPath(m,f,l){function r(a){var c,e;for(n=a.length;n--;){c="M"===a[n]||"L"===a[n],e=/[a-zA-Z]/.test(a[n+3]),c&&e&&a.splice(n+1,0,a[n+1],a[n+2],a[n+1],a[n+2])}}function u(a,c){for(;a.length<v;){a[0]=c[v-a.length];var b=a.slice(0,e);[].splice.apply(a,[0,0].concat(b));D&&(b=a.slice(a.length-e),[].splice.apply(a,[a.length,0].concat(b)),n--)}a[0]="M"}function t(a,c){for(var q=(v-a.length)/e;0<q&&q--;){y=a.slice().splice(a.length/J-e,e*J),y[0]=c[v-e-q*e],b&&(y[e-6]=y[e-2],y[e-5]=y[e-1]),[].splice.apply(a,[a.length/J,0].concat(y)),D&&q--}}f=f||"";var g,d=m.startX,k=m.endX,b=-1<f.indexOf("C"),e=b?7:3,v,y,n;f=f.split(" ");l=l.slice();var D=m.isArea,J=D?2:1,c;b&&(r(f),r(l));if(d&&k){for(n=0;n<d.length;n++){if(d[n]===k[0]){g=n;break}else if(d[0]===k[k.length-d.length+n]){g=n;c=!0;break}}void 0===g&&(f=[])}f.length&&a.isNumber(g)&&(v=l.length+g*J*e,c?(u(f,l),t(l,f)):(u(l,f),t(f,l)));return[f,l]}};a.Fx.prototype.fillSetter=a.Fx.prototype.strokeSetter=function(){this.elem.attr(this.prop,a.color(this.start).tweenTo(a.color(this.end),this.pos),null,!0)};a.extend=function(a,f){var m;a||(a={});for(m in f){a[m]=f[m]}return a};a.merge=function(){var m,f=arguments,l,r={},u=function u(f,g){"object"!==babelHelpers.typeof(f)&&(f={});a.objectEach(g,function(d,k){!a.isObject(d,!0)||a.isClass(d)||a.isDOMElement(d)?f[k]=g[k]:f[k]=u(f[k]||{},d)});return f};!0===f[0]&&(r=f[1],f=Array.prototype.slice.call(f,2));l=f.length;for(m=0;m<l;m++){r=u(r,f[m])}return r};a.pInt=function(a,f){return parseInt(a,f||10)};a.isString=function(a){return"string"===typeof a};a.isArray=function(a){a=Object.prototype.toString.call(a);return"[object Array]"===a||"[object Array Iterator]"===a};a.isObject=function(m,f){return!!m&&"object"===babelHelpers.typeof(m)&&(!f||!a.isArray(m))};a.isDOMElement=function(m){return a.isObject(m)&&"number"===typeof m.nodeType};a.isClass=function(m){var f=m&&m.constructor;return!(!a.isObject(m,!0)||a.isDOMElement(m)||!f||!f.name||"Object"===f.name)};a.isNumber=function(a){return"number"===typeof a&&!isNaN(a)};a.erase=function(a,f){for(var m=a.length;m--;){if(a[m]===f){a.splice(m,1);break}}};a.defined=function(a){return void 0!==a&&null!==a};a.attr=function(m,f,l){var r;a.isString(f)?a.defined(l)?m.setAttribute(f,l):m&&m.getAttribute&&(r=m.getAttribute(f)):a.defined(f)&&a.isObject(f)&&a.objectEach(f,function(a,f){m.setAttribute(f,a)});return r};a.splat=function(m){return a.isArray(m)?m:[m]};a.syncTimeout=function(a,f,l){if(f)return setTimeout(a,f,l);a.call(0,l)};a.pick=function(){var a=arguments,f,l,r=a.length;for(f=0;f<r;f++){if(l=a[f],void 0!==l&&null!==l)return l}};a.css=function(m,f){a.isMS&&!a.svg&&f&&void 0!==f.opacity&&(f.filter="alpha(opacity="+100*f.opacity+")");a.extend(m.style,f)};a.createElement=function(m,f,l,r,u){m=F.createElement(m);var t=a.css;f&&a.extend(m,f);u&&t(m,{padding:0,border:"none",margin:0});l&&t(m,l);r&&r.appendChild(m);return m};a.extendClass=function(m,f){var l=function l(){};l.prototype=new m;a.extend(l.prototype,f);return l};a.pad=function(a,f,l){return Array((f||2)+1-(a+"").length).join(l||0)+a};a.relativeLength=function(a,f,l){return /%$/.test(a)?f*parseFloat(a)/100+(l||0):parseFloat(a)};a.wrap=function(a,f,l){var r=a[f];a[f]=function(){var a=Array.prototype.slice.call(arguments),f=arguments,g=this;g.proceed=function(){r.apply(g,arguments.length?arguments:f)};a.unshift(r);a=l.apply(this,a);g.proceed=null;return a}};a.getTZOffset=function(m){var f=a.Date;return 6E4*(f.hcGetTimezoneOffset&&f.hcGetTimezoneOffset(m)||f.hcTimezoneOffset||0)};a.dateFormat=function(m,f,l){if(!a.defined(f)||isNaN(f))return a.defaultOptions.lang.invalidDate||"";m=a.pick(m,"%Y-%m-%d %H:%M:%S");var r=a.Date,u=new r(f-a.getTZOffset(f)),t=u[r.hcGetHours](),g=u[r.hcGetDay](),d=u[r.hcGetDate](),k=u[r.hcGetMonth](),b=u[r.hcGetFullYear](),e=a.defaultOptions.lang,v=e.weekdays,y=e.shortWeekdays,n=a.pad,r=a.extend({a:y?y[g]:v[g].substr(0,3),A:v[g],d:n(d),e:n(d,2," "),w:g,b:e.shortMonths[k],B:e.months[k],m:n(k+1),y:b.toString().substr(2,2),Y:b,H:n(t),k:t,I:n(t%12||12),l:t%12||12,M:n(u[r.hcGetMinutes]()),p:12>t?"AM":"PM",P:12>t?"am":"pm",S:n(u.getSeconds()),L:n(_Mathround(f%1E3),3)},a.dateFormats);a.objectEach(r,function(a,e){for(;-1!==m.indexOf("%"+e);){m=m.replace("%"+e,"function"===typeof a?a(f):a)}});return l?m.substr(0,1).toUpperCase()+m.substr(1):m};a.formatSingle=function(m,f){var l=/\.([0-9])/,r=a.defaultOptions.lang;/f$/.test(m)?(l=(l=m.match(l))?l[1]:-1,null!==f&&(f=a.numberFormat(f,l,r.decimalPoint,-1<m.indexOf(",")?r.thousandsSep:""))):f=a.dateFormat(m,f);return f};a.format=function(m,f){for(var l="{",r=!1,u,t,g,d,k=[],b;m;){l=m.indexOf(l);if(-1===l)break;u=m.slice(0,l);if(r){u=u.split(":");t=u.shift().split(".");d=t.length;b=f;for(g=0;g<d;g++){b=b[t[g]]}u.length&&(b=a.formatSingle(u.join(":"),b));k.push(b)}else k.push(u);m=m.slice(l+1);l=(r=!r)?"}":"{"}k.push(m);return k.join("")};a.getMagnitude=function(a){return _Mathpow(10,_Mathfloor(_Mathlog(a)/_MathLN))};a.normalizeTickInterval=function(m,f,l,r,u){var t,g=m;l=a.pick(l,1);t=m/l;f||(f=u?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],!1===r&&(1===l?f=a.grep(f,function(a){return 0===a%1}):.1>=l&&(f=[1/l])));for(r=0;r<f.length&&!(g=f[r],u&&g*l>=m||!u&&t<=(f[r]+(f[r+1]||f[r]))/2);r++){;}return g=a.correctFloat(g*l,-_Mathround(-6.907755278982137/_MathLN))};a.stableSort=function(a,f){var l=a.length,r,m;for(m=0;m<l;m++){a[m].safeI=m}a.sort(function(a,g){r=f(a,g);return 0===r?a.safeI-g.safeI:r});for(m=0;m<l;m++){delete a[m].safeI}};a.arrayMin=function(a){for(var f=a.length,l=a[0];f--;){a[f]<l&&(l=a[f])}return l};a.arrayMax=function(a){for(var f=a.length,l=a[0];f--;){a[f]>l&&(l=a[f])}return l};a.destroyObjectProperties=function(m,f){a.objectEach(m,function(a,r){a&&a!==f&&a.destroy&&a.destroy();delete m[r]})};a.discardElement=function(m){var f=a.garbageBin;f||(f=a.createElement("div"));m&&f.appendChild(m);f.innerHTML=""};a.correctFloat=function(a,f){return parseFloat(a.toPrecision(f||14))};a.setAnimation=function(m,f){f.renderer.globalAnimation=a.pick(m,f.options.chart.animation,!0)};a.animObject=function(m){return a.isObject(m)?a.merge(m):{duration:m?500:0}};a.timeUnits={millisecond:1,second:1E3,minute:6E4,hour:36E5,day:864E5,week:6048E5,month:24192E5,year:314496E5};a.numberFormat=function(m,f,l,r){m=+m||0;f=+f;var u=a.defaultOptions.lang,t=(m.toString().split(".")[1]||"").split("e")[0].length,g,d,k=m.toString().split("e");-1===f?f=_Mathmin(t,20):a.isNumber(f)||(f=2);d=(_Mathabs(k[1]?k[0]:m)+_Mathpow(10,-_Mathmax(f,t)-1)).toFixed(f);t=a.pInt(d)+"";g=3<t.length?t.length%3:0;l=a.pick(l,u.decimalPoint);r=a.pick(r,u.thousandsSep);m=(0>m?"-":"")+(g?t.substr(0,g)+r:"");m+=t.substr(g).replace(/(\d{3})(?=\d)/g,"$1"+r);f&&(m+=l+d.slice(-f));k[1]&&(m+="e"+k[1]);return m};_MatheaseInOutSine=function(a){return-.5*(_Mathcos(_MathPI*a)-1)};a.getStyle=function(m,f,l){if("width"===f)return _Mathmin(m.offsetWidth,m.scrollWidth)-a.getStyle(m,"padding-left")-a.getStyle(m,"padding-right");if("height"===f)return _Mathmin(m.offsetHeight,m.scrollHeight)-a.getStyle(m,"padding-top")-a.getStyle(m,"padding-bottom");if(m=E.getComputedStyle(m,void 0))m=m.getPropertyValue(f),a.pick(l,!0)&&(m=a.pInt(m));return m};a.inArray=function(a,f){return f.indexOf?f.indexOf(a):[].indexOf.call(f,a)};a.grep=function(a,f){return[].filter.call(a,f)};a.find=function(a,f){return[].find.call(a,f)};a.map=function(a,f){for(var l=[],r=0,m=a.length;r<m;r++){l[r]=f.call(a[r],a[r],r,a)}return l};a.offset=function(a){var f=F.documentElement;a=a.getBoundingClientRect();return{top:a.top+(E.pageYOffset||f.scrollTop)-(f.clientTop||0),left:a.left+(E.pageXOffset||f.scrollLeft)-(f.clientLeft||0)}};a.stop=function(a,f){for(var l=C.length;l--;){C[l].elem!==a||f&&f!==C[l].prop||(C[l].stopped=!0)}};a.each=function(a,f,l){return Array.prototype.forEach.call(a,f,l)};a.objectEach=function(a,f,l){for(var r in a){a.hasOwnProperty(r)&&f.call(l,a[r],r,a)}};a.addEvent=function(m,f,l){function r(a){a.target=a.srcElement||E;l.call(m,a)}var u=m.hcEvents=m.hcEvents||{};m.addEventListener?m.addEventListener(f,l,!1):m.attachEvent&&(m.hcEventsIE||(m.hcEventsIE={}),l.hcGetKey||(l.hcGetKey=a.uniqueKey()),m.hcEventsIE[l.hcGetKey]=r,m.attachEvent("on"+f,r));u[f]||(u[f]=[]);u[f].push(l);return function(){a.removeEvent(m,f,l)}};a.removeEvent=function(m,f,l){function r(a,b){m.removeEventListener?m.removeEventListener(a,b,!1):m.attachEvent&&(b=m.hcEventsIE[b.hcGetKey],m.detachEvent("on"+a,b))}function u(){var d,b;m.nodeName&&(f?(d={},d[f]=!0):d=g,a.objectEach(d,function(a,d){if(g[d])for(b=g[d].length;b--;){r(d,g[d][b])}}))}var t,g=m.hcEvents,d;g&&(f?(t=g[f]||[],l?(d=a.inArray(l,t),-1<d&&(t.splice(d,1),g[f]=t),r(f,l)):(u(),g[f]=[])):(u(),m.hcEvents={}))};a.fireEvent=function(m,f,l,r){var u;u=m.hcEvents;var t,g;l=l||{};if(F.createEvent&&(m.dispatchEvent||m.fireEvent))u=F.createEvent("Events"),u.initEvent(f,!0,!0),a.extend(u,l),m.dispatchEvent?m.dispatchEvent(u):m.fireEvent(f,u);else if(u)for(u=u[f]||[],t=u.length,l.target||a.extend(l,{preventDefault:function preventDefault(){l.defaultPrevented=!0},target:m,type:f}),f=0;f<t;f++){(g=u[f])&&!1===g.call(m,l)&&l.preventDefault()}r&&!l.defaultPrevented&&r(l)};a.animate=function(m,f,l){var r,u="",t,g,d;a.isObject(l)||(d=arguments,l={duration:d[2],easing:d[3],complete:d[4]});a.isNumber(l.duration)||(l.duration=400);l.easing="function"===typeof l.easing?l.easing:Math[l.easing]||_MatheaseInOutSine;l.curAnim=a.merge(f);a.objectEach(f,function(d,b){a.stop(m,b);g=new a.Fx(m,l,b);t=null;"d"===b?(g.paths=g.initPath(m,m.d,f.d),g.toD=f.d,r=0,t=1):m.attr?r=m.attr(b):(r=parseFloat(a.getStyle(m,b))||0,"opacity"!==b&&(u="px"));t||(t=d);t&&t.match&&t.match("px")&&(t=t.replace(/px/g,""));g.run(r,t,u)})};a.seriesType=function(m,f,l,r,u){var t=a.getOptions(),g=a.seriesTypes;t.plotOptions[m]=a.merge(t.plotOptions[f],l);g[m]=a.extendClass(g[f]||function(){},r);g[m].prototype.type=m;u&&(g[m].prototype.pointClass=a.extendClass(a.Point,u));return g[m]};a.uniqueKey=function(){var a=Math.random().toString(36).substring(2,9),f=0;return function(){return"highcharts-"+a+"-"+f++}}();E.jQuery&&(E.jQuery.fn.highcharts=function(){var m=[].slice.call(arguments);if(this[0])return m[0]?(new a[a.isString(m[0])?m.shift():"Chart"](this[0],m[0],m[1]),this):A[a.attr(this[0],"data-highcharts-chart")]});F&&!F.defaultView&&(a.getStyle=function(m,f){var l={width:"clientWidth",height:"clientHeight"}[f];if(m.style[f])return a.pInt(m.style[f]);"opacity"===f&&(f="filter");if(l)return m.style.zoom=1,_Mathmax(m[l]-2*a.getStyle(m,"padding"),0);m=m.currentStyle[f.replace(/\-(\w)/g,function(a,f){return f.toUpperCase()})];"filter"===f&&(m=m.replace(/alpha\(opacity=([0-9]+)\)/,function(a,f){return f/100}));return""===m?1:a.pInt(m)});Array.prototype.forEach||(a.each=function(a,f,l){for(var r=0,m=a.length;r<m;r++){if(!1===f.call(l,a[r],r,a))return r}});Array.prototype.indexOf||(a.inArray=function(a,f){var l,r=0;if(f)for(l=f.length;r<l;r++){if(f[r]===a)return r}return-1});Array.prototype.filter||(a.grep=function(a,f){for(var l=[],r=0,m=a.length;r<m;r++){f(a[r],r)&&l.push(a[r])}return l});Array.prototype.find||(a.find=function(a,f){var l,r=a.length;for(l=0;l<r;l++){if(f(a[l],l))return a[l]}})})(M);(function(a){var C=a.each,A=a.isNumber,F=a.map,E=a.merge,m=a.pInt;a.Color=function(f){if(!babelHelpers.instanceof(this,a.Color))return new a.Color(f);this.init(f)};a.Color.prototype={parsers:[{regex:/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,parse:function parse(a){return[m(a[1]),m(a[2]),m(a[3]),parseFloat(a[4],10)]}},{regex:/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,parse:function parse(a){return[m(a[1]),m(a[2]),m(a[3]),1]}}],names:{none:"rgba(255,255,255,0)",white:"#ffffff",black:"#000000"},init:function init(f){var l,r,m,t;if((this.input=f=this.names[f&&f.toLowerCase?f.toLowerCase():""]||f)&&f.stops)this.stops=F(f.stops,function(g){return new a.Color(g[1])});else if(f&&"#"===f.charAt()&&(l=f.length,f=parseInt(f.substr(1),16),7===l?r=[(16711680&f)>>16,(65280&f)>>8,255&f,1]:4===l&&(r=[(3840&f)>>4|(3840&f)>>8,(240&f)>>4|240&f,(15&f)<<4|15&f,1])),!r)for(m=this.parsers.length;m--&&!r;){t=this.parsers[m],(l=t.regex.exec(f))&&(r=t.parse(l))}this.rgba=r||[]},get:function get(a){var f=this.input,r=this.rgba,m;this.stops?(m=E(f),m.stops=[].concat(m.stops),C(this.stops,function(f,g){m.stops[g]=[m.stops[g][0],f.get(a)]})):m=r&&A(r[0])?"rgb"===a||!a&&1===r[3]?"rgb("+r[0]+","+r[1]+","+r[2]+")":"a"===a?r[3]:"rgba("+r.join(",")+")":f;return m},brighten:function brighten(a){var f,r=this.rgba;if(this.stops)C(this.stops,function(f){f.brighten(a)});else if(A(a)&&0!==a)for(f=0;3>f;f++){r[f]+=m(255*a),0>r[f]&&(r[f]=0),255<r[f]&&(r[f]=255)}return this},setOpacity:function setOpacity(a){this.rgba[3]=a;return this},tweenTo:function tweenTo(a,l){var f,m;a.rgba.length?(f=this.rgba,a=a.rgba,m=1!==a[3]||1!==f[3],a=(m?"rgba(":"rgb(")+_Mathround(a[0]+(f[0]-a[0])*(1-l))+","+_Mathround(a[1]+(f[1]-a[1])*(1-l))+","+_Mathround(a[2]+(f[2]-a[2])*(1-l))+(m?","+(a[3]+(f[3]-a[3])*(1-l)):"")+")"):a=a.input||"none";return a}};a.color=function(f){return new a.Color(f)}})(M);(function(a){var C,A,F=a.addEvent,E=a.animate,m=a.attr,f=a.charts,l=a.color,r=a.css,u=a.createElement,t=a.defined,g=a.deg2rad,d=a.destroyObjectProperties,k=a.doc,b=a.each,e=a.extend,v=a.erase,y=a.grep,n=a.hasTouch,D=a.inArray,J=a.isArray,c=a.isFirefox,G=a.isMS,q=a.isObject,B=a.isString,K=a.isWebKit,p=a.merge,z=a.noop,I=a.objectEach,L=a.pick,h=a.pInt,w=a.removeEvent,P=a.stop,H=a.svg,O=a.SVG_NS,Q=a.symbolSizes,R=a.win;C=a.SVGElement=function(){return this};e(C.prototype,{opacity:1,SVG_NS:O,textProps:"direction fontSize fontWeight fontFamily fontStyle color lineHeight width textAlign textDecoration textOverflow textOutline".split(" "),init:function init(a,h){this.element="span"===h?u(h):k.createElementNS(this.SVG_NS,h);this.renderer=a},animate:function animate(x,h,c){h=a.animObject(L(h,this.renderer.globalAnimation,!0));0!==h.duration?(c&&(h.complete=c),E(this,x,h)):(this.attr(x,null,c),h.step&&h.step.call(this));return this},colorGradient:function colorGradient(x,h,c){var w=this.renderer,e,q,N,d,n,g,k,H,G,v,z=[],f;x.radialGradient?q="radialGradient":x.linearGradient&&(q="linearGradient");q&&(N=x[q],n=w.gradients,k=x.stops,v=c.radialReference,J(N)&&(x[q]=N={x1:N[0],y1:N[1],x2:N[2],y2:N[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===q&&v&&!t(N.gradientUnits)&&(d=N,N=p(N,w.getRadialAttr(v,d),{gradientUnits:"userSpaceOnUse"})),I(N,function(a,x){"id"!==x&&z.push(x,a)}),I(k,function(a){z.push(a)}),z=z.join(","),n[z]?v=n[z].attr("id"):(N.id=v=a.uniqueKey(),n[z]=g=w.createElement(q).attr(N).add(w.defs),g.radAttr=d,g.stops=[],b(k,function(x){0===x[1].indexOf("rgba")?(e=a.color(x[1]),H=e.get("rgb"),G=e.get("a")):(H=x[1],G=1);x=w.createElement("stop").attr({offset:x[0],"stop-color":H,"stop-opacity":G}).add(g);g.stops.push(x)})),f="url("+w.url+"#"+v+")",c.setAttribute(h,f),c.gradient=z,x.toString=function(){return f})},applyTextOutline:function applyTextOutline(x){var h=this.element,c,w,p,e,q;-1!==x.indexOf("contrast")&&(x=x.replace(/contrast/g,this.renderer.getContrast(h.style.fill)));x=x.split(" ");w=x[x.length-1];if((p=x[0])&&"none"!==p&&a.svg){this.fakeTS=!0;x=[].slice.call(h.getElementsByTagName("tspan"));this.ySetter=this.xSetter;p=p.replace(/(^[\d\.]+)(.*?)$/g,function(a,x,h){return 2*x+h});for(q=x.length;q--;){c=x[q],"highcharts-text-outline"===c.getAttribute("class")&&v(x,h.removeChild(c))}e=h.firstChild;b(x,function(a,x){0===x&&(a.setAttribute("x",h.getAttribute("x")),x=h.getAttribute("y"),a.setAttribute("y",x||0),null===x&&h.setAttribute("y",0));a=a.cloneNode(1);m(a,{class:"highcharts-text-outline",fill:w,stroke:w,"stroke-width":p,"stroke-linejoin":"round"});h.insertBefore(a,e)})}},attr:function attr(a,h,c,w){var x,p=this.element,e,q=this,b,N;"string"===typeof a&&void 0!==h&&(x=a,a={},a[x]=h);"string"===typeof a?q=(this[a+"Getter"]||this._defaultGetter).call(this,a,p):(I(a,function(x,h){b=!1;w||P(this,h);this.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)$/.test(h)&&(e||(this.symbolAttr(a),e=!0),b=!0);this.rotation&&("x"===h||"y"===h)&&(this.doTransform=!0);b||(N=this[h+"Setter"]||this._defaultSetter,N.call(this,x,h,p),this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(h)&&this.updateShadows(h,x,N))},this),this.afterSetters());c&&c();return q},afterSetters:function afterSetters(){this.doTransform&&(this.updateTransform(),this.doTransform=!1)},updateShadows:function updateShadows(a,h,c){for(var x=this.shadows,w=x.length;w--;){c.call(x[w],"height"===a?_Mathmax(h-(x[w].cutHeight||0),0):"d"===a?this.d:h,a,x[w])}},addClass:function addClass(a,h){var x=this.attr("class")||"";-1===x.indexOf(a)&&(h||(a=(x+(x?" ":"")+a).replace("  "," ")),this.attr("class",a));return this},hasClass:function hasClass(a){return-1!==D(a,(this.attr("class")||"").split(" "))},removeClass:function removeClass(a){return this.attr("class",(this.attr("class")||"").replace(a,""))},symbolAttr:function symbolAttr(a){var x=this;b("x y r start end width height innerR anchorX anchorY".split(" "),function(h){x[h]=L(a[h],x[h])});x.attr({d:x.renderer.symbols[x.symbolName](x.x,x.y,x.width,x.height,x)})},clip:function clip(a){return this.attr("clip-path",a?"url("+this.renderer.url+"#"+a.id+")":"none")},crisp:function crisp(a,h){var x=this,c={},w;h=h||a.strokeWidth||0;w=_Mathround(h)%2/2;a.x=_Mathfloor(a.x||x.x||0)+w;a.y=_Mathfloor(a.y||x.y||0)+w;a.width=_Mathfloor((a.width||x.width||0)-2*w);a.height=_Mathfloor((a.height||x.height||0)-2*w);t(a.strokeWidth)&&(a.strokeWidth=h);I(a,function(a,h){x[h]!==a&&(x[h]=c[h]=a)});return c},css:function css(a){var x=this.styles,c={},w=this.element,p,q="",b,d=!x,n=["textOutline","textOverflow","width"];a&&a.color&&(a.fill=a.color);x&&I(a,function(a,h){a!==x[h]&&(c[h]=a,d=!0)});d&&(x&&(a=e(x,c)),p=this.textWidth=a&&a.width&&"auto"!==a.width&&"text"===w.nodeName.toLowerCase()&&h(a.width),this.styles=a,p&&!H&&this.renderer.forExport&&delete a.width,G&&!H?r(this.element,a):(b=function b(a,x){return"-"+x.toLowerCase()},I(a,function(a,x){-1===D(x,n)&&(q+=x.replace(/([A-Z])/g,b)+":"+a+";")}),q&&m(w,"style",q)),this.added&&("text"===this.element.nodeName&&this.renderer.buildText(this),a&&a.textOutline&&this.applyTextOutline(a.textOutline)));return this},strokeWidth:function strokeWidth(){return this["stroke-width"]||0},on:function on(a,h){var x=this,c=x.element;n&&"click"===a?(c.ontouchstart=function(a){x.touchEventFired=Date.now();a.preventDefault();h.call(c,a)},c.onclick=function(a){(-1===R.navigator.userAgent.indexOf("Android")||1100<Date.now()-(x.touchEventFired||0))&&h.call(c,a)}):c["on"+a]=h;return this},setRadialReference:function setRadialReference(a){var x=this.renderer.gradients[this.element.gradient];this.element.radialReference=a;x&&x.radAttr&&x.animate(this.renderer.getRadialAttr(a,x.radAttr));return this},translate:function translate(a,h){return this.attr({translateX:a,translateY:h})},invert:function invert(a){this.inverted=a;this.updateTransform();return this},updateTransform:function updateTransform(){var a=this.translateX||0,h=this.translateY||0,c=this.scaleX,w=this.scaleY,p=this.inverted,e=this.rotation,q=this.element;p&&(a+=this.width,h+=this.height);a=["translate("+a+","+h+")"];p?a.push("rotate(90) scale(-1,1)"):e&&a.push("rotate("+e+" "+(q.getAttribute("x")||0)+" "+(q.getAttribute("y")||0)+")");(t(c)||t(w))&&a.push("scale("+L(c,1)+" "+L(w,1)+")");a.length&&q.setAttribute("transform",a.join(" "))},toFront:function toFront(){var a=this.element;a.parentNode.appendChild(a);return this},align:function align(a,h,c){var x,w,p,e,q={};w=this.renderer;p=w.alignedObjects;var b,d;if(a){if(this.alignOptions=a,this.alignByTranslate=h,!c||B(c))this.alignTo=x=c||"renderer",v(p,this),p.push(this),c=null}else a=this.alignOptions,h=this.alignByTranslate,x=this.alignTo;c=L(c,w[x],w);x=a.align;w=a.verticalAlign;p=(c.x||0)+(a.x||0);e=(c.y||0)+(a.y||0);"right"===x?b=1:"center"===x&&(b=2);b&&(p+=(c.width-(a.width||0))/b);q[h?"translateX":"x"]=_Mathround(p);"bottom"===w?d=1:"middle"===w&&(d=2);d&&(e+=(c.height-(a.height||0))/d);q[h?"translateY":"y"]=_Mathround(e);this[this.placed?"animate":"attr"](q);this.placed=!0;this.alignAttr=q;return this},getBBox:function getBBox(a,h){var x,c=this.renderer,w,p=this.element,q=this.styles,d,n=this.textStr,k,N=c.cache,H=c.cacheKeys,G;h=L(h,this.rotation);w=h*g;d=q&&q.fontSize;void 0!==n&&(G=n.toString(),-1===G.indexOf("<")&&(G=G.replace(/[0-9]/g,"0")),G+=["",h||0,d,q&&q.width,q&&q.textOverflow].join());G&&!a&&(x=N[G]);if(!x){if(p.namespaceURI===this.SVG_NS||c.forExport){try{(k=this.fakeTS&&function(a){b(p.querySelectorAll(".highcharts-text-outline"),function(x){x.style.display=a})})&&k("none"),x=p.getBBox?e({},p.getBBox()):{width:p.offsetWidth,height:p.offsetHeight},k&&k("")}catch(W){}if(!x||0>x.width)x={width:0,height:0}}else x=this.htmlGetBBox();c.isSVG&&(a=x.width,c=x.height,q&&"11px"===q.fontSize&&17===_Mathround(c)&&(x.height=c=14),h&&(x.width=_Mathabs(c*_Mathsin(w))+_Mathabs(a*_Mathcos(w)),x.height=_Mathabs(c*_Mathcos(w))+_Mathabs(a*_Mathsin(w))));if(G&&0<x.height){for(;250<H.length;){delete N[H.shift()]}N[G]||H.push(G);N[G]=x}}return x},show:function show(a){return this.attr({visibility:a?"inherit":"visible"})},hide:function hide(){return this.attr({visibility:"hidden"})},fadeOut:function fadeOut(a){var x=this;x.animate({opacity:0},{duration:a||150,complete:function complete(){x.attr({y:-9999})}})},add:function add(a){var x=this.renderer,h=this.element,c;a&&(this.parentGroup=a);this.parentInverted=a&&a.inverted;void 0!==this.textStr&&x.buildText(this);this.added=!0;if(!a||a.handleZ||this.zIndex)c=this.zIndexSetter();c||(a?a.element:x.box).appendChild(h);if(this.onAdd)this.onAdd();return this},safeRemoveChild:function safeRemoveChild(a){var x=a.parentNode;x&&x.removeChild(a)},destroy:function destroy(){var a=this,h=a.element||{},c=a.renderer.isSVG&&"SPAN"===h.nodeName&&a.parentGroup,w=h.ownerSVGElement;h.onclick=h.onmouseout=h.onmouseover=h.onmousemove=h.point=null;P(a);a.clipPath&&w&&(b(w.querySelectorAll("[clip-path]"),function(x){-1<x.getAttribute("clip-path").indexOf(a.clipPath.element.id+")")&&x.removeAttribute("clip-path")}),a.clipPath=a.clipPath.destroy());if(a.stops){for(w=0;w<a.stops.length;w++){a.stops[w]=a.stops[w].destroy()}a.stops=null}a.safeRemoveChild(h);for(a.destroyShadows();c&&c.div&&0===c.div.childNodes.length;){h=c.parentGroup,a.safeRemoveChild(c.div),delete c.div,c=h}a.alignTo&&v(a.renderer.alignedObjects,a);I(a,function(x,h){delete a[h]});return null},shadow:function shadow(a,h,c){var x=[],w,p,q=this.element,e,b,d,n;if(!a)this.destroyShadows();else if(!this.shadows){b=L(a.width,3);d=(a.opacity||.15)/b;n=this.parentInverted?"(-1,-1)":"("+L(a.offsetX,1)+", "+L(a.offsetY,1)+")";for(w=1;w<=b;w++){p=q.cloneNode(0),e=2*b+1-2*w,m(p,{isShadow:"true",stroke:a.color||"#000000","stroke-opacity":d*w,"stroke-width":e,transform:"translate"+n,fill:"none"}),c&&(m(p,"height",_Mathmax(m(p,"height")-e,0)),p.cutHeight=e),h?h.element.appendChild(p):q.parentNode.insertBefore(p,q),x.push(p)}this.shadows=x}return this},destroyShadows:function destroyShadows(){b(this.shadows||[],function(a){this.safeRemoveChild(a)},this);this.shadows=void 0},xGetter:function xGetter(a){"circle"===this.element.nodeName&&("x"===a?a="cx":"y"===a&&(a="cy"));return this._defaultGetter(a)},_defaultGetter:function _defaultGetter(a){a=L(this[a],this.element?this.element.getAttribute(a):null,0);/^[\-0-9\.]+$/.test(a)&&(a=parseFloat(a));return a},dSetter:function dSetter(a,h,c){a&&a.join&&(a=a.join(" "));/(NaN| {2}|^$)/.test(a)&&(a="M 0 0");this[h]!==a&&(c.setAttribute(h,a),this[h]=a)},dashstyleSetter:function dashstyleSetter(a){var x,c=this["stroke-width"];"inherit"===c&&(c=1);if(a=a&&a.toLowerCase()){a=a.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",");for(x=a.length;x--;){a[x]=h(a[x])*c}a=a.join(",").replace(/NaN/g,"none");this.element.setAttribute("stroke-dasharray",a)}},alignSetter:function alignSetter(a){this.element.setAttribute("text-anchor",{left:"start",center:"middle",right:"end"}[a])},opacitySetter:function opacitySetter(a,h,c){this[h]=a;c.setAttribute(h,a)},titleSetter:function titleSetter(a){var h=this.element.getElementsByTagName("title")[0];h||(h=k.createElementNS(this.SVG_NS,"title"),this.element.appendChild(h));h.firstChild&&h.removeChild(h.firstChild);h.appendChild(k.createTextNode(String(L(a),"").replace(/<[^>]*>/g,"")))},textSetter:function textSetter(a){a!==this.textStr&&(delete this.bBox,this.textStr=a,this.added&&this.renderer.buildText(this))},fillSetter:function fillSetter(a,h,c){"string"===typeof a?c.setAttribute(h,a):a&&this.colorGradient(a,h,c)},visibilitySetter:function visibilitySetter(a,h,c){"inherit"===a?c.removeAttribute(h):this[h]!==a&&c.setAttribute(h,a);this[h]=a},zIndexSetter:function zIndexSetter(a,c){var x=this.renderer,w=this.parentGroup,p=(w||x).element||x.box,q,e=this.element,b;q=this.added;var d;t(a)&&(e.zIndex=a,a=+a,this[c]===a&&(q=!1),this[c]=a);if(q){(a=this.zIndex)&&w&&(w.handleZ=!0);c=p.childNodes;for(d=0;d<c.length&&!b;d++){w=c[d],q=w.zIndex,w!==e&&(h(q)>a||!t(a)&&t(q)||0>a&&!t(q)&&p!==x.box)&&(p.insertBefore(e,w),b=!0)}b||p.appendChild(e)}return b},_defaultSetter:function _defaultSetter(a,h,c){c.setAttribute(h,a)}});C.prototype.yGetter=C.prototype.xGetter;C.prototype.translateXSetter=C.prototype.translateYSetter=C.prototype.rotationSetter=C.prototype.verticalAlignSetter=C.prototype.scaleXSetter=C.prototype.scaleYSetter=function(a,h){this[h]=a;this.doTransform=!0};C.prototype["stroke-widthSetter"]=C.prototype.strokeSetter=function(a,h,c){this[h]=a;this.stroke&&this["stroke-width"]?(C.prototype.fillSetter.call(this,this.stroke,"stroke",c),c.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0):"stroke-width"===h&&0===a&&this.hasStroke&&(c.removeAttribute("stroke"),this.hasStroke=!1)};A=a.SVGRenderer=function(){this.init.apply(this,arguments)};e(A.prototype,{Element:C,SVG_NS:O,init:function init(a,h,w,p,q,e){var x;p=this.createElement("svg").attr({version:"1.1",class:"highcharts-root"}).css(this.getStyle(p));x=p.element;a.appendChild(x);-1===a.innerHTML.indexOf("xmlns")&&m(x,"xmlns",this.SVG_NS);this.isSVG=!0;this.box=x;this.boxWrapper=p;this.alignedObjects=[];this.url=(c||K)&&k.getElementsByTagName("base").length?R.location.href.replace(/#.*?$/,"").replace(/<[^>]*>/g,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"";this.createElement("desc").add().element.appendChild(k.createTextNode("Created with Highcharts 5.0.14"));this.defs=this.createElement("defs").add();this.allowHTML=e;this.forExport=q;this.gradients={};this.cache={};this.cacheKeys=[];this.imgCount=0;this.setSize(h,w,!1);var b;c&&a.getBoundingClientRect&&(h=function h(){r(a,{left:0,top:0});b=a.getBoundingClientRect();r(a,{left:_Mathceil(b.left)-b.left+"px",top:_Mathceil(b.top)-b.top+"px"})},h(),this.unSubPixelFix=F(R,"resize",h))},getStyle:function getStyle(a){return this.style=e({fontFamily:"\"Lucida Grande\", \"Lucida Sans Unicode\", Arial, Helvetica, sans-serif",fontSize:"12px"},a)},setStyle:function setStyle(a){this.boxWrapper.css(this.getStyle(a))},isHidden:function isHidden(){return!this.boxWrapper.getBBox().width},destroy:function destroy(){var a=this.defs;this.box=null;this.boxWrapper=this.boxWrapper.destroy();d(this.gradients||{});this.gradients=null;a&&(this.defs=a.destroy());this.unSubPixelFix&&this.unSubPixelFix();return this.alignedObjects=null},createElement:function createElement(a){var h=new this.Element;h.init(this,a);return h},draw:z,getRadialAttr:function getRadialAttr(a,h){return{cx:a[0]-a[2]/2+h.cx*a[2],cy:a[1]-a[2]/2+h.cy*a[2],r:h.r*a[2]}},getSpanWidth:function getSpanWidth(a,h){var c=a.getBBox(!0).width;!H&&this.forExport&&(c=this.measureSpanWidth(h.firstChild.data,a.styles));return c},applyEllipsis:function applyEllipsis(a,h,c,w){var x=a.rotation,p=c,q,e=0,b=c.length,d=function d(a){h.removeChild(h.firstChild);a&&h.appendChild(k.createTextNode(a))},n;a.rotation=0;p=this.getSpanWidth(a,h);if(n=p>w){for(;e<=b;){q=_Mathceil((e+b)/2),p=c.substring(0,q)+"\u2026",d(p),p=this.getSpanWidth(a,h),e===b?e=b+1:p>w?b=q-1:e=q}0===b&&d("")}a.rotation=x;return n},buildText:function buildText(a){var c=a.element,w=this,x=w.forExport,p=L(a.textStr,"").toString(),q=-1!==p.indexOf("<"),e=c.childNodes,d,n,g,G,v=m(c,"x"),z=a.styles,f=a.textWidth,I=z&&z.lineHeight,B=z&&z.textOutline,D=z&&"ellipsis"===z.textOverflow,l=z&&"nowrap"===z.whiteSpace,P=z&&z.fontSize,t,J,u=e.length,z=f&&!a.added&&this.box,K=function K(a){var x;x=/(px|em)$/.test(a&&a.style.fontSize)?a.style.fontSize:P||w.style.fontSize||12;return I?h(I):w.fontMetrics(x,a.getAttribute("style")?a:c).h};t=[p,D,l,I,B,P,f].join();if(t!==a.textCache){for(a.textCache=t;u--;){c.removeChild(e[u])}q||B||D||f||-1!==p.indexOf(" ")?(d=/<.*class="([^"]+)".*>/,n=/<.*style="([^"]+)".*>/,g=/<.*href="([^"]+)".*>/,z&&z.appendChild(c),p=q?p.replace(/<(b|strong)>/g,"<span style=\"font-weight:bold\">").replace(/<(i|em)>/g,"<span style=\"font-style:italic\">").replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g):[p],p=y(p,function(a){return""!==a}),b(p,function(h,p){var q,e=0;h=h.replace(/^\s+|\s+$/g,"").replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||");q=h.split("|||");b(q,function(h){if(""!==h||1===q.length){var b={},z=k.createElementNS(w.SVG_NS,"tspan"),y,I;d.test(h)&&(y=h.match(d)[1],m(z,"class",y));n.test(h)&&(I=h.match(n)[1].replace(/(;| |^)color([ :])/,"$1fill$2"),m(z,"style",I));g.test(h)&&!x&&(m(z,"onclick","location.href=\""+h.match(g)[1]+"\""),r(z,{cursor:"pointer"}));h=(h.replace(/<(.|\n)*?>/g,"")||" ").replace(/&lt;/g,"<").replace(/&gt;/g,">");if(" "!==h){z.appendChild(k.createTextNode(h));e?b.dx=0:p&&null!==v&&(b.x=v);m(z,b);c.appendChild(z);!e&&J&&(!H&&x&&r(z,{display:"block"}),m(z,"dy",K(z)));if(f){b=h.replace(/([^\^])-/g,"$1- ").split(" ");y=1<q.length||p||1<b.length&&!l;var B=[],N,P=K(z),t=a.rotation;for(D&&(G=w.applyEllipsis(a,z,h,f));!D&&y&&(b.length||B.length);){a.rotation=0,N=w.getSpanWidth(a,z),h=N>f,void 0===G&&(G=h),h&&1!==b.length?(z.removeChild(z.firstChild),B.unshift(b.pop())):(b=B,B=[],b.length&&!l&&(z=k.createElementNS(O,"tspan"),m(z,{dy:P,x:v}),I&&m(z,"style",I),c.appendChild(z)),N>f&&(f=N)),b.length&&z.appendChild(k.createTextNode(b.join(" ").replace(/- /g,"-")))}a.rotation=t}e++}}});J=J||c.childNodes.length}),G&&a.attr("title",a.textStr),z&&z.removeChild(c),B&&a.applyTextOutline&&a.applyTextOutline(B)):c.appendChild(k.createTextNode(p.replace(/&lt;/g,"<").replace(/&gt;/g,">")))}},getContrast:function getContrast(a){a=l(a).rgba;return 510<a[0]+a[1]+a[2]?"#000000":"#FFFFFF"},button:function button(a,h,c,w,q,b,d,n,g){var x=this.label(a,h,c,g,null,null,null,null,"button"),k=0;x.attr(p({padding:8,r:2},q));var z,H,v,f;q=p({fill:"#f7f7f7",stroke:"#cccccc","stroke-width":1,style:{color:"#333333",cursor:"pointer",fontWeight:"normal"}},q);z=q.style;delete q.style;b=p(q,{fill:"#e6e6e6"},b);H=b.style;delete b.style;d=p(q,{fill:"#e6ebf5",style:{color:"#000000",fontWeight:"bold"}},d);v=d.style;delete d.style;n=p(q,{style:{color:"#cccccc"}},n);f=n.style;delete n.style;F(x.element,G?"mouseover":"mouseenter",function(){3!==k&&x.setState(1)});F(x.element,G?"mouseout":"mouseleave",function(){3!==k&&x.setState(k)});x.setState=function(a){1!==a&&(x.state=k=a);x.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][a||0]);x.attr([q,b,d,n][a||0]).css([z,H,v,f][a||0])};x.attr(q).css(e({cursor:"default"},z));return x.on("click",function(a){3!==k&&w.call(x,a)})},crispLine:function crispLine(a,h){a[1]===a[4]&&(a[1]=a[4]=_Mathround(a[1])-h%2/2);a[2]===a[5]&&(a[2]=a[5]=_Mathround(a[2])+h%2/2);return a},path:function path(a){var h={fill:"none"};J(a)?h.d=a:q(a)&&e(h,a);return this.createElement("path").attr(h)},circle:function circle(a,h,c){a=q(a)?a:{x:a,y:h,r:c};h=this.createElement("circle");h.xSetter=h.ySetter=function(a,h,c){c.setAttribute("c"+h,a)};return h.attr(a)},arc:function arc(a,h,c,w,p,b){q(a)?(w=a,h=w.y,c=w.r,a=w.x):w={innerR:w,start:p,end:b};a=this.symbol("arc",a,h,c,c,w);a.r=c;return a},rect:function rect(a,h,c,w,p,b){p=q(a)?a.r:p;var x=this.createElement("rect");a=q(a)?a:void 0===a?{}:{x:a,y:h,width:_Mathmax(c,0),height:_Mathmax(w,0)};void 0!==b&&(a.strokeWidth=b,a=x.crisp(a));a.fill="none";p&&(a.r=p);x.rSetter=function(a,h,c){m(c,{rx:a,ry:a})};return x.attr(a)},setSize:function setSize(a,h,c){var w=this.alignedObjects,p=w.length;this.width=a;this.height=h;for(this.boxWrapper.animate({width:a,height:h},{step:function step(){this.attr({viewBox:"0 0 "+this.attr("width")+" "+this.attr("height")})},duration:L(c,!0)?void 0:0});p--;){w[p].align()}},g:function g(a){var h=this.createElement("g");return a?h.attr({class:"highcharts-"+a}):h},image:function image(a,h,c,w,p){var x={preserveAspectRatio:"none"};1<arguments.length&&e(x,{x:h,y:c,width:w,height:p});x=this.createElement("image").attr(x);x.element.setAttributeNS?x.element.setAttributeNS("http://www.w3.org/1999/xlink","href",a):x.element.setAttribute("hc-svg-href",a);return x},symbol:function symbol(a,h,c,w,p,q){var x=this,d,n=/^url\((.*?)\)$/,g=n.test(a),z=!g&&(this.symbols[a]?a:"circle"),G=z&&this.symbols[z],H=t(h)&&G&&G.call(this.symbols,_Mathround(h),_Mathround(c),w,p,q),v,y;G?(d=this.path(H),d.attr("fill","none"),e(d,{symbolName:z,x:h,y:c,width:w,height:p}),q&&e(d,q)):g&&(v=a.match(n)[1],d=this.image(v),d.imgwidth=L(Q[v]&&Q[v].width,q&&q.width),d.imgheight=L(Q[v]&&Q[v].height,q&&q.height),y=function y(){d.attr({width:d.width,height:d.height})},b(["width","height"],function(a){d[a+"Setter"]=function(a,h){var c={},w=this["img"+h],p="width"===h?"translateX":"translateY";this[h]=a;t(w)&&(this.element&&this.element.setAttribute(h,w),this.alignByTranslate||(c[p]=((this[h]||0)-w)/2,this.attr(c)))}}),t(h)&&d.attr({x:h,y:c}),d.isImg=!0,t(d.imgwidth)&&t(d.imgheight)?y():(d.attr({width:0,height:0}),u("img",{onload:function onload(){var a=f[x.chartIndex];0===this.width&&(r(this,{position:"absolute",top:"-999em"}),k.body.appendChild(this));Q[v]={width:this.width,height:this.height};d.imgwidth=this.width;d.imgheight=this.height;d.element&&y();this.parentNode&&this.parentNode.removeChild(this);x.imgCount--;if(!x.imgCount&&a&&a.onload)a.onload()},src:v}),this.imgCount++));return d},symbols:{circle:function circle(a,h,c,w){return this.arc(a+c/2,h+w/2,c/2,w/2,{start:0,end:2*_MathPI,open:!1})},square:function square(a,h,c,w){return["M",a,h,"L",a+c,h,a+c,h+w,a,h+w,"Z"]},triangle:function triangle(a,h,c,w){return["M",a+c/2,h,"L",a+c,h+w,a,h+w,"Z"]},"triangle-down":function triangleDown(a,h,c,w){return["M",a,h,"L",a+c,h,a+c/2,h+w,"Z"]},diamond:function diamond(a,h,c,w){return["M",a+c/2,h,"L",a+c,h+w/2,a+c/2,h+w,a,h+w/2,"Z"]},arc:function arc(a,h,c,w,p){var q=p.start,b=p.r||c,x=p.r||w||c,e=p.end-.001;c=p.innerR;w=L(p.open,.001>_Mathabs(p.end-p.start-2*_MathPI));var d=_Mathcos(q),n=_Mathsin(q),g=_Mathcos(e),e=_Mathsin(e);p=.001>p.end-q-_MathPI?0:1;b=["M",a+b*d,h+x*n,"A",b,x,0,p,1,a+b*g,h+x*e];t(c)&&b.push(w?"M":"L",a+c*g,h+c*e,"A",c,c,0,p,0,a+c*d,h+c*n);b.push(w?"":"Z");return b},callout:function callout(a,h,c,w,p){var q=_Mathmin(p&&p.r||0,c,w),b=q+6,e=p&&p.anchorX;p=p&&p.anchorY;var d;d=["M",a+q,h,"L",a+c-q,h,"C",a+c,h,a+c,h,a+c,h+q,"L",a+c,h+w-q,"C",a+c,h+w,a+c,h+w,a+c-q,h+w,"L",a+q,h+w,"C",a,h+w,a,h+w,a,h+w-q,"L",a,h+q,"C",a,h,a,h,a+q,h];e&&e>c?p>h+b&&p<h+w-b?d.splice(13,3,"L",a+c,p-6,a+c+6,p,a+c,p+6,a+c,h+w-q):d.splice(13,3,"L",a+c,w/2,e,p,a+c,w/2,a+c,h+w-q):e&&0>e?p>h+b&&p<h+w-b?d.splice(33,3,"L",a,p+6,a-6,p,a,p-6,a,h+q):d.splice(33,3,"L",a,w/2,e,p,a,w/2,a,h+q):p&&p>w&&e>a+b&&e<a+c-b?d.splice(23,3,"L",e+6,h+w,e,h+w+6,e-6,h+w,a+q,h+w):p&&0>p&&e>a+b&&e<a+c-b&&d.splice(3,3,"L",e-6,h,e,h-6,e+6,h,c-q,h);return d}},clipRect:function clipRect(h,c,w,p){var q=a.uniqueKey(),b=this.createElement("clipPath").attr({id:q}).add(this.defs);h=this.rect(h,c,w,p,0).add(b);h.id=q;h.clipPath=b;h.count=0;return h},text:function text(a,h,c,w){var p=!H&&this.forExport,q={};if(w&&(this.allowHTML||!this.forExport))return this.html(a,h,c);q.x=_Mathround(h||0);c&&(q.y=_Mathround(c));if(a||0===a)q.text=a;a=this.createElement("text").attr(q);p&&a.css({position:"absolute"});w||(a.xSetter=function(a,h,c){var w=c.getElementsByTagName("tspan"),p,q=c.getAttribute(h),b;for(b=0;b<w.length;b++){p=w[b],p.getAttribute(h)===q&&p.setAttribute(h,a)}c.setAttribute(h,a)});return a},fontMetrics:function fontMetrics(a,c){a=a||c&&c.style&&c.style.fontSize||this.style&&this.style.fontSize;a=/px/.test(a)?h(a):/em/.test(a)?parseFloat(a)*(c?this.fontMetrics(null,c.parentNode).f:16):12;c=24>a?a+3:_Mathround(1.2*a);return{h:c,b:_Mathround(.8*c),f:a}},rotCorr:function rotCorr(a,h,c){var w=a;h&&c&&(w=_Mathmax(w*_Mathcos(h*g),4));return{x:-a/3*_Mathsin(h*g),y:w}},label:function label(h,c,q,d,n,g,k,z,G){var x=this,H=x.g("button"!==G&&"label"),v=H.text=x.text("",0,0,k).attr({zIndex:1}),f,y,I=0,B=3,D=0,r,l,P,m,J,O={},L,u,N=/^url\((.*?)\)$/.test(d),K=N,U,T,Q,R;G&&H.addClass("highcharts-"+G);K=N;U=function U(){return(L||0)%2/2};T=function T(){var a=v.element.style,h={};y=(void 0===r||void 0===l||J)&&t(v.textStr)&&v.getBBox();H.width=(r||y.width||0)+2*B+D;H.height=(l||y.height||0)+2*B;u=B+x.fontMetrics(a&&a.fontSize,v).b;K&&(f||(H.box=f=x.symbols[d]||N?x.symbol(d):x.rect(),f.addClass(("button"===G?"":"highcharts-label-box")+(G?" highcharts-"+G+"-box":"")),f.add(H),a=U(),h.x=a,h.y=(z?-u:0)+a),h.width=_Mathround(H.width),h.height=_Mathround(H.height),f.attr(e(h,O)),O={})};Q=function Q(){var a=D+B,h;h=z?0:u;t(r)&&y&&("center"===J||"right"===J)&&(a+={center:.5,right:1}[J]*(r-y.width));if(a!==v.x||h!==v.y)v.attr("x",a),void 0!==h&&v.attr("y",h);v.x=a;v.y=h};R=function R(a,h){f?f.attr(a,h):O[a]=h};H.onAdd=function(){v.add(H);H.attr({text:h||0===h?h:"",x:c,y:q});f&&t(n)&&H.attr({anchorX:n,anchorY:g})};H.widthSetter=function(h){r=a.isNumber(h)?h:null};H.heightSetter=function(a){l=a};H["text-alignSetter"]=function(a){J=a};H.paddingSetter=function(a){t(a)&&a!==B&&(B=H.padding=a,Q())};H.paddingLeftSetter=function(a){t(a)&&a!==D&&(D=a,Q())};H.alignSetter=function(a){a={left:0,center:.5,right:1}[a];a!==I&&(I=a,y&&H.attr({x:P}))};H.textSetter=function(a){void 0!==a&&v.textSetter(a);T();Q()};H["stroke-widthSetter"]=function(a,h){a&&(K=!0);L=this["stroke-width"]=a;R(h,a)};H.strokeSetter=H.fillSetter=H.rSetter=function(a,h){"r"!==h&&("fill"===h&&a&&(K=!0),H[h]=a);R(h,a)};H.anchorXSetter=function(a,h){n=H.anchorX=a;R(h,_Mathround(a)-U()-P)};H.anchorYSetter=function(a,h){g=H.anchorY=a;R(h,a-m)};H.xSetter=function(a){H.x=a;I&&(a-=I*((r||y.width)+2*B));P=_Mathround(a);H.attr("translateX",P)};H.ySetter=function(a){m=H.y=_Mathround(a);H.attr("translateY",m)};var V=H.css;return e(H,{css:function css(a){if(a){var h={};a=p(a);b(H.textProps,function(c){void 0!==a[c]&&(h[c]=a[c],delete a[c])});v.css(h)}return V.call(H,a)},getBBox:function getBBox(){return{width:y.width+2*B,height:y.height+2*B,x:y.x-B,y:y.y-B}},shadow:function shadow(a){a&&(T(),f&&f.shadow(a));return H},destroy:function destroy(){w(H.element,"mouseenter");w(H.element,"mouseleave");v&&(v=v.destroy());f&&(f=f.destroy());C.prototype.destroy.call(H);H=x=T=Q=R=null}})}});a.Renderer=A})(M);(function(a){var C=a.attr,A=a.createElement,F=a.css,E=a.defined,m=a.each,f=a.extend,l=a.isFirefox,r=a.isMS,u=a.isWebKit,t=a.pInt,g=a.SVGRenderer,d=a.win,k=a.wrap;f(a.SVGElement.prototype,{htmlCss:function htmlCss(a){var b=this.element;if(b=a&&"SPAN"===b.tagName&&a.width)delete a.width,this.textWidth=b,this.updateTransform();a&&"ellipsis"===a.textOverflow&&(a.whiteSpace="nowrap",a.overflow="hidden");this.styles=f(this.styles,a);F(this.element,a);return this},htmlGetBBox:function htmlGetBBox(){var a=this.element;"text"===a.nodeName&&(a.style.position="absolute");return{x:a.offsetLeft,y:a.offsetTop,width:a.offsetWidth,height:a.offsetHeight}},htmlUpdateTransform:function htmlUpdateTransform(){if(this.added){var a=this.renderer,e=this.element,d=this.translateX||0,g=this.translateY||0,n=this.x||0,k=this.y||0,f=this.textAlign||"left",c={left:0,center:.5,right:1}[f],G=this.styles;F(e,{marginLeft:d,marginTop:g});this.shadows&&m(this.shadows,function(a){F(a,{marginLeft:d+1,marginTop:g+1})});this.inverted&&m(e.childNodes,function(c){a.invertChild(c,e)});if("SPAN"===e.tagName){var q=this.rotation,B=t(this.textWidth),r=G&&G.whiteSpace,p=[q,f,e.innerHTML,this.textWidth,this.textAlign].join();p!==this.cTT&&(G=a.fontMetrics(e.style.fontSize).b,E(q)&&this.setSpanRotation(q,c,G),F(e,{width:"",whiteSpace:r||"nowrap"}),e.offsetWidth>B&&/[ \-]/.test(e.textContent||e.innerText)&&F(e,{width:B+"px",display:"block",whiteSpace:r||"normal"}),this.getSpanCorrection(e.offsetWidth,G,c,q,f));F(e,{left:n+(this.xCorr||0)+"px",top:k+(this.yCorr||0)+"px"});u&&(G=e.offsetHeight);this.cTT=p}}else this.alignOnAdd=!0},setSpanRotation:function setSpanRotation(a,e,g){var b={},n=r?"-ms-transform":u?"-webkit-transform":l?"MozTransform":d.opera?"-o-transform":"";b[n]=b.transform="rotate("+a+"deg)";b[n+(l?"Origin":"-origin")]=b.transformOrigin=100*e+"% "+g+"px";F(this.element,b)},getSpanCorrection:function getSpanCorrection(a,e,d){this.xCorr=-a*d;this.yCorr=-e}});f(g.prototype,{html:function html(a,e,d){var b=this.createElement("span"),n=b.element,g=b.renderer,v=g.isSVG,c=function c(a,_c){m(["opacity","visibility"],function(q){k(a,q+"Setter",function(a,p,q,b){a.call(this,p,q,b);_c[q]=p})})};b.textSetter=function(a){a!==n.innerHTML&&delete this.bBox;n.innerHTML=this.textStr=a;b.htmlUpdateTransform()};v&&c(b,b.element.style);b.xSetter=b.ySetter=b.alignSetter=b.rotationSetter=function(a,c){"align"===c&&(c="textAlign");b[c]=a;b.htmlUpdateTransform()};b.attr({text:a,x:_Mathround(e),y:_Mathround(d)}).css({fontFamily:this.style.fontFamily,fontSize:this.style.fontSize,position:"absolute"});n.style.whiteSpace="nowrap";b.css=b.htmlCss;v&&(b.add=function(a){var q,e=g.box.parentNode,d=[];if(this.parentGroup=a){if(q=a.div,!q){for(;a;){d.push(a),a=a.parentGroup}m(d.reverse(),function(a){var p,n=C(a.element,"class");n&&(n={className:n});q=a.div=a.div||A("div",n,{position:"absolute",left:(a.translateX||0)+"px",top:(a.translateY||0)+"px",display:a.display,opacity:a.opacity,pointerEvents:a.styles&&a.styles.pointerEvents},q||e);p=q.style;f(a,{classSetter:function classSetter(a){this.element.setAttribute("class",a);q.className=a},on:function on(){d[0].div&&b.on.apply({element:d[0].div},arguments);return a},translateXSetter:function translateXSetter(c,h){p.left=c+"px";a[h]=c;a.doTransform=!0},translateYSetter:function translateYSetter(c,h){p.top=c+"px";a[h]=c;a.doTransform=!0}});c(a,p)})}}else q=e;q.appendChild(n);b.added=!0;b.alignOnAdd&&b.htmlUpdateTransform();return b});return b}})})(M);(function(a){var C,A,F=a.createElement,E=a.css,m=a.defined,f=a.deg2rad,l=a.discardElement,r=a.doc,u=a.each,t=a.erase,g=a.extend;C=a.extendClass;var d=a.isArray,k=a.isNumber,b=a.isObject,e=a.merge;A=a.noop;var v=a.pick,y=a.pInt,n=a.SVGElement,D=a.SVGRenderer,J=a.win;a.svg||(A={docMode8:r&&8===r.documentMode,init:function init(a,b){var c=["<",b," filled=\"f\" stroked=\"f\""],e=["position: ","absolute",";"],d="div"===b;("shape"===b||d)&&e.push("left:0;top:0;width:1px;height:1px;");e.push("visibility: ",d?"hidden":"visible");c.push(" style=\"",e.join(""),"\"/>");b&&(c=d||"span"===b||"img"===b?c.join(""):a.prepVML(c),this.element=F(c));this.renderer=a},add:function add(a){var c=this.renderer,b=this.element,e=c.box,d=a&&a.inverted,e=a?a.element||a:e;a&&(this.parentGroup=a);d&&c.invertChild(b,e);e.appendChild(b);this.added=!0;this.alignOnAdd&&!this.deferUpdateTransform&&this.updateTransform();if(this.onAdd)this.onAdd();this.className&&this.attr("class",this.className);return this},updateTransform:n.prototype.htmlUpdateTransform,setSpanRotation:function setSpanRotation(){var a=this.rotation,b=_Mathcos(a*f),q=_Mathsin(a*f);E(this.element,{filter:a?["progid:DXImageTransform.Microsoft.Matrix(M11=",b,", M12=",-q,", M21=",q,", M22=",b,", sizingMethod='auto expand')"].join(""):"none"})},getSpanCorrection:function getSpanCorrection(a,b,q,e,d){var c=e?_Mathcos(e*f):1,n=e?_Mathsin(e*f):0,g=v(this.elemHeight,this.element.offsetHeight),k;this.xCorr=0>c&&-a;this.yCorr=0>n&&-g;k=0>c*n;this.xCorr+=n*b*(k?1-q:q);this.yCorr-=c*b*(e?k?q:1-q:1);d&&"left"!==d&&(this.xCorr-=a*q*(0>c?-1:1),e&&(this.yCorr-=g*q*(0>n?-1:1)),E(this.element,{textAlign:d}))},pathToVML:function pathToVML(a){for(var c=a.length,b=[];c--;){k(a[c])?b[c]=_Mathround(10*a[c])-5:"Z"===a[c]?b[c]="x":(b[c]=a[c],!a.isArc||"wa"!==a[c]&&"at"!==a[c]||(b[c+5]===b[c+7]&&(b[c+7]+=a[c+7]>a[c+5]?1:-1),b[c+6]===b[c+8]&&(b[c+8]+=a[c+8]>a[c+6]?1:-1)))}return b.join(" ")||"x"},clip:function clip(a){var c=this,b;a?(b=a.members,t(b,c),b.push(c),c.destroyClip=function(){t(b,c)},a=a.getCSS(c)):(c.destroyClip&&c.destroyClip(),a={clip:c.docMode8?"inherit":"rect(auto)"});return c.css(a)},css:n.prototype.htmlCss,safeRemoveChild:function safeRemoveChild(a){a.parentNode&&l(a)},destroy:function destroy(){this.destroyClip&&this.destroyClip();return n.prototype.destroy.apply(this)},on:function on(a,b){this.element["on"+a]=function(){var a=J.event;a.target=a.srcElement;b(a)};return this},cutOffPath:function cutOffPath(a,b){var c;a=a.split(/[ ,]/);c=a.length;if(9===c||11===c)a[c-4]=a[c-2]=y(a[c-2])-10*b;return a.join(" ")},shadow:function shadow(a,b,e){var c=[],q,p=this.element,d=this.renderer,n,g=p.style,h,w=p.path,k,H,f,D;w&&"string"!==typeof w.value&&(w="x");H=w;if(a){f=v(a.width,3);D=(a.opacity||.15)/f;for(q=1;3>=q;q++){k=2*f+1-2*q,e&&(H=this.cutOffPath(w.value,k+.5)),h=["<shape isShadow=\"true\" strokeweight=\"",k,"\" filled=\"false\" path=\"",H,"\" coordsize=\"10 10\" style=\"",p.style.cssText,"\" />"],n=F(d.prepVML(h),null,{left:y(g.left)+v(a.offsetX,1),top:y(g.top)+v(a.offsetY,1)}),e&&(n.cutOff=k+1),h=["<stroke color=\"",a.color||"#000000","\" opacity=\"",D*q,"\"/>"],F(d.prepVML(h),null,null,n),b?b.element.appendChild(n):p.parentNode.insertBefore(n,p),c.push(n)}this.shadows=c}return this},updateShadows:A,setAttr:function setAttr(a,b){this.docMode8?this.element[a]=b:this.element.setAttribute(a,b)},classSetter:function classSetter(a){(this.added?this.element:this).className=a},dashstyleSetter:function dashstyleSetter(a,b,e){(e.getElementsByTagName("stroke")[0]||F(this.renderer.prepVML(["<stroke/>"]),null,null,e))[b]=a||"solid";this[b]=a},dSetter:function dSetter(a,b,e){var c=this.shadows;a=a||[];this.d=a.join&&a.join(" ");e.path=a=this.pathToVML(a);if(c)for(e=c.length;e--;){c[e].path=c[e].cutOff?this.cutOffPath(a,c[e].cutOff):a}this.setAttr(b,a)},fillSetter:function fillSetter(a,b,e){var c=e.nodeName;"SPAN"===c?e.style.color=a:"IMG"!==c&&(e.filled="none"!==a,this.setAttr("fillcolor",this.renderer.color(a,e,b,this)))},"fill-opacitySetter":function fillOpacitySetter(a,b,e){F(this.renderer.prepVML(["<",b.split("-")[0]," opacity=\"",a,"\"/>"]),null,null,e)},opacitySetter:A,rotationSetter:function rotationSetter(a,b,e){e=e.style;this[b]=e[b]=a;e.left=-_Mathround(_Mathsin(a*f)+1)+"px";e.top=_Mathround(_Mathcos(a*f))+"px"},strokeSetter:function strokeSetter(a,b,e){this.setAttr("strokecolor",this.renderer.color(a,e,b,this))},"stroke-widthSetter":function strokeWidthSetter(a,b,e){e.stroked=!!a;this[b]=a;k(a)&&(a+="px");this.setAttr("strokeweight",a)},titleSetter:function titleSetter(a,b){this.setAttr(b,a)},visibilitySetter:function visibilitySetter(a,b,e){"inherit"===a&&(a="visible");this.shadows&&u(this.shadows,function(c){c.style[b]=a});"DIV"===e.nodeName&&(a="hidden"===a?"-999em":0,this.docMode8||(e.style[b]=a?"visible":"hidden"),b="top");e.style[b]=a},xSetter:function xSetter(a,b,e){this[b]=a;"x"===b?b="left":"y"===b&&(b="top");this.updateClipping?(this[b]=a,this.updateClipping()):e.style[b]=a},zIndexSetter:function zIndexSetter(a,b,e){e.style[b]=a}},A["stroke-opacitySetter"]=A["fill-opacitySetter"],a.VMLElement=A=C(n,A),A.prototype.ySetter=A.prototype.widthSetter=A.prototype.heightSetter=A.prototype.xSetter,A={Element:A,isIE8:-1<J.navigator.userAgent.indexOf("MSIE 8.0"),init:function init(a,b,e){var c,d;this.alignedObjects=[];c=this.createElement("div").css({position:"relative"});d=c.element;a.appendChild(c.element);this.isVML=!0;this.box=d;this.boxWrapper=c;this.gradients={};this.cache={};this.cacheKeys=[];this.imgCount=0;this.setSize(b,e,!1);if(!r.namespaces.hcv){r.namespaces.add("hcv","urn:schemas-microsoft-com:vml");try{r.createStyleSheet().cssText="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}catch(p){r.styleSheets[0].cssText+="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}}},isHidden:function isHidden(){return!this.box.offsetWidth},clipRect:function clipRect(a,e,d,n){var c=this.createElement(),p=b(a);return g(c,{members:[],count:0,left:(p?a.x:a)+1,top:(p?a.y:e)+1,width:(p?a.width:d)-1,height:(p?a.height:n)-1,getCSS:function getCSS(a){var c=a.element,b=c.nodeName,h=a.inverted,w=this.top-("shape"===b?c.offsetTop:0),p=this.left,c=p+this.width,e=w+this.height,w={clip:"rect("+_Mathround(h?p:w)+"px,"+_Mathround(h?e:c)+"px,"+_Mathround(h?c:e)+"px,"+_Mathround(h?w:p)+"px)"};!h&&a.docMode8&&"DIV"===b&&g(w,{width:c+"px",height:e+"px"});return w},updateClipping:function updateClipping(){u(c.members,function(a){a.element&&a.css(c.getCSS(a))})}})},color:function color(c,b,e,d){var q=this,p,n=/^rgba/,g,k,h="none";c&&c.linearGradient?k="gradient":c&&c.radialGradient&&(k="pattern");if(k){var w,v,H=c.linearGradient||c.radialGradient,f,D,y,x,r,B="";c=c.stops;var l,G=[],m=function m(){g=["<fill colors=\""+G.join(",")+"\" opacity=\"",y,"\" o:opacity2=\"",D,"\" type=\"",k,"\" ",B,"focus=\"100%\" method=\"any\" />"];F(q.prepVML(g),null,null,b)};f=c[0];l=c[c.length-1];0<f[0]&&c.unshift([0,f[1]]);1>l[0]&&c.push([1,l[1]]);u(c,function(h,c){n.test(h[1])?(p=a.color(h[1]),w=p.get("rgb"),v=p.get("a")):(w=h[1],v=1);G.push(100*h[0]+"% "+w);c?(y=v,x=w):(D=v,r=w)});if("fill"===e){if("gradient"===k)e=H.x1||H[0]||0,c=H.y1||H[1]||0,f=H.x2||H[2]||0,H=H.y2||H[3]||0,B="angle=\""+(90-180*Math.atan((H-c)/(f-e))/_MathPI)+"\"",m();else{var h=H.r,t=2*h,J=2*h,A=H.cx,C=H.cy,E=b.radialReference,M,h=function h(){E&&(M=d.getBBox(),A+=(E[0]-M.x)/M.width-.5,C+=(E[1]-M.y)/M.height-.5,t*=E[2]/M.width,J*=E[2]/M.height);B="src=\""+a.getOptions().global.VMLRadialGradientURL+"\" size=\""+t+","+J+"\" origin=\"0.5,0.5\" position=\""+A+","+C+"\" color2=\""+r+"\" ";m()};d.added?h():d.onAdd=h;h=x}}else h=w}else n.test(c)&&"IMG"!==b.tagName?(p=a.color(c),d[e+"-opacitySetter"](p.get("a"),e,b),h=p.get("rgb")):(h=b.getElementsByTagName(e),h.length&&(h[0].opacity=1,h[0].type="solid"),h=c);return h},prepVML:function prepVML(a){var c=this.isIE8;a=a.join("");c?(a=a.replace("/>"," xmlns=\"urn:schemas-microsoft-com:vml\" />"),a=-1===a.indexOf("style=\"")?a.replace("/>"," style=\"display:inline-block;behavior:url(#default#VML);\" />"):a.replace("style=\"","style=\"display:inline-block;behavior:url(#default#VML);")):a=a.replace("<","<hcv:");return a},text:D.prototype.html,path:function path(a){var c={coordsize:"10 10"};d(a)?c.d=a:b(a)&&g(c,a);return this.createElement("shape").attr(c)},circle:function circle(a,e,d){var c=this.symbol("circle");b(a)&&(d=a.r,e=a.y,a=a.x);c.isCircle=!0;c.r=d;return c.attr({x:a,y:e})},g:function g(a){var c;a&&(c={className:"highcharts-"+a,class:"highcharts-"+a});return this.createElement("div").attr(c)},image:function image(a,b,e,d,n){var c=this.createElement("img").attr({src:a});1<arguments.length&&c.attr({x:b,y:e,width:d,height:n});return c},createElement:function createElement(a){return"rect"===a?this.symbol(a):D.prototype.createElement.call(this,a)},invertChild:function invertChild(a,b){var c=this;b=b.style;var e="IMG"===a.tagName&&a.style;E(a,{flip:"x",left:y(b.width)-(e?y(e.top):1),top:y(b.height)-(e?y(e.left):1),rotation:-90});u(a.childNodes,function(b){c.invertChild(b,a)})},symbols:{arc:function arc(a,b,e,d,n){var c=n.start,q=n.end,g=n.r||e||d;e=n.innerR;d=_Mathcos(c);var k=_Mathsin(c),h=_Mathcos(q),w=_Mathsin(q);if(0===q-c)return["x"];c=["wa",a-g,b-g,a+g,b+g,a+g*d,b+g*k,a+g*h,b+g*w];n.open&&!e&&c.push("e","M",a,b);c.push("at",a-e,b-e,a+e,b+e,a+e*h,b+e*w,a+e*d,b+e*k,"x","e");c.isArc=!0;return c},circle:function circle(a,b,e,d,n){n&&m(n.r)&&(e=d=2*n.r);n&&n.isCircle&&(a-=e/2,b-=d/2);return["wa",a,b,a+e,b+d,a+e,b+d/2,a+e,b+d/2,"e"]},rect:function rect(a,b,e,d,n){return D.prototype.symbols[m(n)&&n.r?"callout":"square"].call(0,a,b,e,d,n)}}},a.VMLRenderer=C=function C(){this.init.apply(this,arguments)},C.prototype=e(D.prototype,A),a.Renderer=C);D.prototype.measureSpanWidth=function(a,b){var c=r.createElement("span");a=r.createTextNode(a);c.appendChild(a);E(c,b);this.box.appendChild(c);b=c.offsetWidth;l(c);return b}})(M);(function(a){function C(){var f=a.defaultOptions.global,l=r.moment;if(f.timezone){if(l)return function(a){return-l.tz(a,f.timezone).utcOffset()};a.error(25)}return f.useUTC&&f.getTimezoneOffset}function A(){var f=a.defaultOptions.global,t,g=f.useUTC,d=g?"getUTC":"get",k=g?"setUTC":"set";a.Date=t=f.Date||r.Date;t.hcTimezoneOffset=g&&f.timezoneOffset;t.hcGetTimezoneOffset=C();t.hcMakeTime=function(a,e,d,k,n,f){var b;g?(b=t.UTC.apply(0,arguments),b+=m(b)):b=new t(a,e,l(d,1),l(k,0),l(n,0),l(f,0)).getTime();return b};E("Minutes Hours Day Date Month FullYear".split(" "),function(a){t["hcGet"+a]=d+a});E("Milliseconds Seconds Minutes Hours Date Month FullYear".split(" "),function(a){t["hcSet"+a]=k+a})}var F=a.color,E=a.each,m=a.getTZOffset,f=a.merge,l=a.pick,r=a.win;a.defaultOptions={colors:"#7cb5ec #434348 #90ed7d #f7a35c #8085e9 #f15c80 #e4d354 #2b908f #f45b5b #91e8e1".split(" "),symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),decimalPoint:".",numericSymbols:"kMGTPE".split(""),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{useUTC:!0,VMLRadialGradientURL:"http://code.highcharts.com/5.0.14/gfx/vml-radial-gradient.png"},chart:{borderRadius:0,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{zIndex:20},position:{align:"right",x:-10,y:10}},width:null,height:null,borderColor:"#335cad",backgroundColor:"#ffffff",plotBorderColor:"#cccccc"},title:{text:"Chart title",align:"center",margin:15,widthAdjust:-44},subtitle:{text:"",align:"center",widthAdjust:-44},plotOptions:{},labels:{style:{position:"absolute",color:"#333333"}},legend:{enabled:!0,align:"center",layout:"horizontal",labelFormatter:function labelFormatter(){return this.name},borderColor:"#999999",borderRadius:0,navigation:{activeColor:"#003399",inactiveColor:"#cccccc"},itemStyle:{color:"#333333",fontSize:"12px",fontWeight:"bold",textOverflow:"ellipsis"},itemHoverStyle:{color:"#000000"},itemHiddenStyle:{color:"#cccccc"},shadow:!1,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"#ffffff",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:a.svg,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},footerFormat:"",padding:8,snap:a.isTouchDevice?25:10,backgroundColor:F("#f7f7f7").setOpacity(.85).get(),borderWidth:1,headerFormat:"<span style=\"font-size: 10px\">{point.key}</span><br/>",pointFormat:"<span style=\"color:{point.color}\">\u25CF</span> {series.name}: <b>{point.y}</b><br/>",shadow:!0,style:{color:"#333333",cursor:"default",fontSize:"12px",pointerEvents:"none",whiteSpace:"nowrap"}},credits:{enabled:!0,href:"http://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#999999",fontSize:"9px"},text:"Highcharts.com"}};a.setOptions=function(r){a.defaultOptions=f(!0,a.defaultOptions,r);A();return a.defaultOptions};a.getOptions=function(){return a.defaultOptions};a.defaultPlotOptions=a.defaultOptions.plotOptions;A()})(M);(function(a){var C=a.correctFloat,A=a.defined,F=a.destroyObjectProperties,E=a.isNumber,m=a.merge,f=a.pick,l=a.deg2rad;a.Tick=function(a,f,l,g){this.axis=a;this.pos=f;this.type=l||"";this.isNewLabel=this.isNew=!0;l||g||this.addLabel()};a.Tick.prototype={addLabel:function addLabel(){var a=this.axis,l=a.options,t=a.chart,g=a.categories,d=a.names,k=this.pos,b=l.labels,e=a.tickPositions,v=k===e[0],y=k===e[e.length-1],d=g?f(g[k],d[k],k):k,g=this.label,e=e.info,n;a.isDatetimeAxis&&e&&(n=l.dateTimeLabelFormats[e.higherRanks[k]||e.unitName]);this.isFirst=v;this.isLast=y;l=a.labelFormatter.call({axis:a,chart:t,isFirst:v,isLast:y,dateTimeLabelFormat:n,value:a.isLog?C(a.lin2log(d)):d,pos:k});A(g)?g&&g.attr({text:l}):(this.labelLength=(this.label=g=A(l)&&b.enabled?t.renderer.text(l,0,0,b.useHTML).css(m(b.style)).add(a.labelGroup):null)&&g.getBBox().width,this.rotation=0)},getLabelSize:function getLabelSize(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0},handleOverflow:function handleOverflow(a){var r=this.axis,m=a.x,g=r.chart.chartWidth,d=r.chart.spacing,k=f(r.labelLeft,_Mathmin(r.pos,d[3])),d=f(r.labelRight,_Mathmax(r.pos+r.len,g-d[1])),b=this.label,e=this.rotation,v={left:0,center:.5,right:1}[r.labelAlign],y=b.getBBox().width,n=r.getSlotWidth(),D=n,J=1,c,G={};if(e)0>e&&m-v*y<k?c=_Mathround(m/_Mathcos(e*l)-k):0<e&&m+v*y>d&&(c=_Mathround((g-m)/_Mathcos(e*l)));else if(g=m+(1-v)*y,m-v*y<k?D=a.x+D*(1-v)-k:g>d&&(D=d-a.x+D*v,J=-1),D=_Mathmin(n,D),D<n&&"center"===r.labelAlign&&(a.x+=J*(n-D-v*(n-_Mathmin(y,D)))),y>D||r.autoRotation&&(b.styles||{}).width)c=D;c&&(G.width=c,(r.options.labels.style||{}).textOverflow||(G.textOverflow="ellipsis"),b.css(G))},getPosition:function getPosition(a,f,l,g){var d=this.axis,k=d.chart,b=g&&k.oldChartHeight||k.chartHeight;return{x:a?d.translate(f+l,null,null,g)+d.transB:d.left+d.offset+(d.opposite?(g&&k.oldChartWidth||k.chartWidth)-d.right-d.left:0),y:a?b-d.bottom+d.offset-(d.opposite?d.height:0):b-d.translate(f+l,null,null,g)-d.transB}},getLabelPosition:function getLabelPosition(a,f,m,g,d,k,b,e){var v=this.axis,y=v.transA,n=v.reversed,D=v.staggerLines,r=v.tickRotCorr||{x:0,y:0},c=d.y;A(c)||(c=0===v.side?m.rotation?-8:-m.getBBox().height:2===v.side?r.y+8:_Mathcos(m.rotation*l)*(r.y-m.getBBox(!1,0).height/2));a=a+d.x+r.x-(k&&g?k*y*(n?-1:1):0);f=f+c-(k&&!g?k*y*(n?1:-1):0);D&&(m=b/(e||1)%D,v.opposite&&(m=D-m-1),f+=v.labelOffset/D*m);return{x:a,y:_Mathround(f)}},getMarkPath:function getMarkPath(a,f,l,g,d,k){return k.crispLine(["M",a,f,"L",a+(d?0:-l),f+(d?l:0)],g)},renderGridLine:function renderGridLine(a,f,l){var g=this.axis,d=g.options,k=this.gridLine,b={},e=this.pos,v=this.type,y=g.tickmarkOffset,n=g.chart.renderer,D=v?v+"Grid":"grid",r=d[D+"LineWidth"],c=d[D+"LineColor"],d=d[D+"LineDashStyle"];k||(b.stroke=c,b["stroke-width"]=r,d&&(b.dashstyle=d),v||(b.zIndex=1),a&&(b.opacity=0),this.gridLine=k=n.path().attr(b).addClass("highcharts-"+(v?v+"-":"")+"grid-line").add(g.gridGroup));if(!a&&k&&(a=g.getPlotLinePath(e+y,k.strokeWidth()*l,a,!0)))k[this.isNew?"attr":"animate"]({d:a,opacity:f})},renderMark:function renderMark(a,l,m){var g=this.axis,d=g.options,k=g.chart.renderer,b=this.type,e=b?b+"Tick":"tick",v=g.tickSize(e),y=this.mark,n=!y,D=a.x;a=a.y;var r=f(d[e+"Width"],!b&&g.isXAxis?1:0),d=d[e+"Color"];v&&(g.opposite&&(v[0]=-v[0]),n&&(this.mark=y=k.path().addClass("highcharts-"+(b?b+"-":"")+"tick").add(g.axisGroup),y.attr({stroke:d,"stroke-width":r})),y[n?"attr":"animate"]({d:this.getMarkPath(D,a,v[0],y.strokeWidth()*m,g.horiz,k),opacity:l}))},renderLabel:function renderLabel(a,l,m,g){var d=this.axis,k=d.horiz,b=d.options,e=this.label,v=b.labels,y=v.step,n=d.tickmarkOffset,D=!0,r=a.x;a=a.y;e&&E(r)&&(e.xy=a=this.getLabelPosition(r,a,e,k,v,n,g,y),this.isFirst&&!this.isLast&&!f(b.showFirstLabel,1)||this.isLast&&!this.isFirst&&!f(b.showLastLabel,1)?D=!1:!k||d.isRadial||v.step||v.rotation||l||0===m||this.handleOverflow(a),y&&g%y&&(D=!1),D&&E(a.y)?(a.opacity=m,e[this.isNewLabel?"attr":"animate"](a),this.isNewLabel=!1):(e.attr("y",-9999),this.isNewLabel=!0),this.isNew=!1)},render:function render(a,l,m){var g=this.axis,d=g.horiz,k=this.getPosition(d,this.pos,g.tickmarkOffset,l),b=k.x,e=k.y,g=d&&b===g.pos+g.len||!d&&e===g.pos?-1:1;m=f(m,1);this.isActive=!0;this.renderGridLine(l,m,g);this.renderMark(k,m,g);this.renderLabel(k,l,m,a)},destroy:function destroy(){F(this,this.axis)}}})(M);var S=function(a){var C=a.addEvent,A=a.animObject,F=a.arrayMax,E=a.arrayMin,m=a.color,f=a.correctFloat,l=a.defaultOptions,r=a.defined,u=a.deg2rad,t=a.destroyObjectProperties,g=a.each,d=a.extend,k=a.fireEvent,b=a.format,e=a.getMagnitude,v=a.grep,y=a.inArray,n=a.isArray,D=a.isNumber,J=a.isString,c=a.merge,G=a.normalizeTickInterval,q=a.objectEach,B=a.pick,K=a.removeEvent,p=a.splat,z=a.syncTimeout,I=a.Tick,L=function L(){this.init.apply(this,arguments)};a.extend(L.prototype,{defaultOptions:{dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:!1,labels:{enabled:!0,style:{color:"#666666",cursor:"default",fontSize:"11px"},x:0},minPadding:.01,maxPadding:.01,minorTickLength:2,minorTickPosition:"outside",startOfWeek:1,startOnTick:!1,tickLength:10,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",title:{align:"middle",style:{color:"#666666"}},type:"linear",minorGridLineColor:"#f2f2f2",minorGridLineWidth:1,minorTickColor:"#999999",lineColor:"#ccd6eb",lineWidth:1,gridLineColor:"#e6e6e6",tickColor:"#ccd6eb"},defaultYAxisOptions:{endOnTick:!0,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8},maxPadding:.05,minPadding:.05,startOnTick:!0,title:{rotation:270,text:"Values"},stackLabels:{allowOverlap:!1,enabled:!1,formatter:function formatter(){return a.numberFormat(this.total,-1)},style:{fontSize:"11px",fontWeight:"bold",color:"#000000",textOutline:"1px contrast"}},gridLineWidth:1,lineWidth:0},defaultLeftAxisOptions:{labels:{x:-15},title:{rotation:270}},defaultRightAxisOptions:{labels:{x:15},title:{rotation:90}},defaultBottomAxisOptions:{labels:{autoRotation:[-45],x:0},title:{rotation:0}},defaultTopAxisOptions:{labels:{autoRotation:[-45],x:0},title:{rotation:0}},init:function init(a,c){var h=c.isX,b=this;b.chart=a;b.horiz=a.inverted&&!b.isZAxis?!h:h;b.isXAxis=h;b.coll=b.coll||(h?"xAxis":"yAxis");b.opposite=c.opposite;b.side=c.side||(b.horiz?b.opposite?0:2:b.opposite?1:3);b.setOptions(c);var w=this.options,e=w.type;b.labelFormatter=w.labels.formatter||b.defaultLabelFormatter;b.userOptions=c;b.minPixelPadding=0;b.reversed=w.reversed;b.visible=!1!==w.visible;b.zoomEnabled=!1!==w.zoomEnabled;b.hasNames="category"===e||!0===w.categories;b.categories=w.categories||b.hasNames;b.names=b.names||[];b.plotLinesAndBandsGroups={};b.isLog="logarithmic"===e;b.isDatetimeAxis="datetime"===e;b.positiveValuesOnly=b.isLog&&!b.allowNegativeLog;b.isLinked=r(w.linkedTo);b.ticks={};b.labelEdge=[];b.minorTicks={};b.plotLinesAndBands=[];b.alternateBands={};b.len=0;b.minRange=b.userMinRange=w.minRange||w.maxZoom;b.range=w.range;b.offset=w.offset||0;b.stacks={};b.oldStacks={};b.stacksTouched=0;b.max=null;b.min=null;b.crosshair=B(w.crosshair,p(a.options.tooltip.crosshairs)[h?0:1],!1);c=b.options.events;-1===y(b,a.axes)&&(h?a.axes.splice(a.xAxis.length,0,b):a.axes.push(b),a[b.coll].push(b));b.series=b.series||[];a.inverted&&!b.isZAxis&&h&&void 0===b.reversed&&(b.reversed=!0);q(c,function(a,h){C(b,h,a)});b.lin2log=w.linearToLogConverter||b.lin2log;b.isLog&&(b.val2lin=b.log2lin,b.lin2val=b.lin2log)},setOptions:function setOptions(a){this.options=c(this.defaultOptions,"yAxis"===this.coll&&this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],c(l[this.coll],a))},defaultLabelFormatter:function defaultLabelFormatter(){var h=this.axis,c=this.value,e=h.categories,p=this.dateTimeLabelFormat,d=l.lang,n=d.numericSymbols,d=d.numericSymbolMagnitude||1E3,q=n&&n.length,x,g=h.options.labels.format,h=h.isLog?_Mathabs(c):h.tickInterval;if(g)x=b(g,this);else if(e)x=c;else if(p)x=a.dateFormat(p,c);else if(q&&1E3<=h)for(;q--&&void 0===x;){e=_Mathpow(d,q+1),h>=e&&0===10*c%e&&null!==n[q]&&0!==c&&(x=a.numberFormat(c/e,-1)+n[q])}void 0===x&&(x=1E4<=_Mathabs(c)?a.numberFormat(c,-1):a.numberFormat(c,-1,void 0,""));return x},getSeriesExtremes:function getSeriesExtremes(){var a=this,b=a.chart;a.hasVisibleSeries=!1;a.dataMin=a.dataMax=a.threshold=null;a.softThreshold=!a.isXAxis;a.buildStacks&&a.buildStacks();g(a.series,function(h){if(h.visible||!b.options.chart.ignoreHiddenSeries){var c=h.options,w=c.threshold,e;a.hasVisibleSeries=!0;a.positiveValuesOnly&&0>=w&&(w=null);if(a.isXAxis)c=h.xData,c.length&&(h=E(c),D(h)||babelHelpers.instanceof(h,Date)||(c=v(c,function(a){return D(a)}),h=E(c)),a.dataMin=_Mathmin(B(a.dataMin,c[0]),h),a.dataMax=_Mathmax(B(a.dataMax,c[0]),F(c)));else if(h.getExtremes(),e=h.dataMax,h=h.dataMin,r(h)&&r(e)&&(a.dataMin=_Mathmin(B(a.dataMin,h),h),a.dataMax=_Mathmax(B(a.dataMax,e),e)),r(w)&&(a.threshold=w),!c.softThreshold||a.positiveValuesOnly)a.softThreshold=!1}})},translate:function translate(a,b,c,e,p,d){var h=this.linkedParent||this,w=1,n=0,q=e?h.oldTransA:h.transA;e=e?h.oldMin:h.min;var g=h.minPixelPadding;p=(h.isOrdinal||h.isBroken||h.isLog&&p)&&h.lin2val;q||(q=h.transA);c&&(w*=-1,n=h.len);h.reversed&&(w*=-1,n-=w*(h.sector||h.len));b?(a=(a*w+n-g)/q+e,p&&(a=h.lin2val(a))):(p&&(a=h.val2lin(a)),a=w*(a-e)*q+n+w*g+(D(d)?q*d:0));return a},toPixels:function toPixels(a,b){return this.translate(a,!1,!this.horiz,null,!0)+(b?0:this.pos)},toValue:function toValue(a,b){return this.translate(a-(b?0:this.pos),!0,!this.horiz,null,!0)},getPlotLinePath:function getPlotLinePath(a,b,c,e,p){var h=this.chart,w=this.left,d=this.top,n,q,g=c&&h.oldChartHeight||h.chartHeight,k=c&&h.oldChartWidth||h.chartWidth,f;n=this.transB;var v=function v(a,h,b){if(a<h||a>b)e?a=_Mathmin(_Mathmax(h,a),b):f=!0;return a};p=B(p,this.translate(a,null,null,c));a=c=_Mathround(p+n);n=q=_Mathround(g-p-n);D(p)?this.horiz?(n=d,q=g-this.bottom,a=c=v(a,w,w+this.width)):(a=w,c=k-this.right,n=q=v(n,d,d+this.height)):f=!0;return f&&!e?null:h.renderer.crispLine(["M",a,n,"L",c,q],b||1)},getLinearTickPositions:function getLinearTickPositions(a,b,c){var h,w=f(_Mathfloor(b/a)*a);c=f(_Mathceil(c/a)*a);var e=[];if(this.single)return[b];for(b=w;b<=c;){e.push(b);b=f(b+a);if(b===h)break;h=b}return e},getMinorTickPositions:function getMinorTickPositions(){var a=this,b=a.options,c=a.tickPositions,e=a.minorTickInterval,p=[],d=a.pointRangePadding||0,n=a.min-d,d=a.max+d,q=d-n;if(q&&q/e<a.len/3)if(a.isLog)g(this.paddedTicks,function(h,b,c){b&&p.push.apply(p,a.getLogTickPositions(e,c[b-1],c[b],!0))});else if(a.isDatetimeAxis&&"auto"===b.minorTickInterval)p=p.concat(a.getTimeTicks(a.normalizeTimeTickInterval(e),n,d,b.startOfWeek));else for(b=n+(c[0]-n)%e;b<=d&&b!==p[0];b+=e){p.push(b)}0!==p.length&&a.trimTicks(p);return p},adjustForMinRange:function adjustForMinRange(){var a=this.options,b=this.min,c=this.max,e,p,d,n,q,k,f,v;this.isXAxis&&void 0===this.minRange&&!this.isLog&&(r(a.min)||r(a.max)?this.minRange=null:(g(this.series,function(a){k=a.xData;for(n=f=a.xIncrement?1:k.length-1;0<n;n--){if(q=k[n]-k[n-1],void 0===d||q<d)d=q}}),this.minRange=_Mathmin(5*d,this.dataMax-this.dataMin)));c-b<this.minRange&&(p=this.dataMax-this.dataMin>=this.minRange,v=this.minRange,e=(v-c+b)/2,e=[b-e,B(a.min,b-e)],p&&(e[2]=this.isLog?this.log2lin(this.dataMin):this.dataMin),b=F(e),c=[b+v,B(a.max,b+v)],p&&(c[2]=this.isLog?this.log2lin(this.dataMax):this.dataMax),c=E(c),c-b<v&&(e[0]=c-v,e[1]=B(a.min,c-v),b=F(e)));this.min=b;this.max=c},getClosest:function getClosest(){var a;this.categories?a=1:g(this.series,function(h){var b=h.closestPointRange,c=h.visible||!h.chart.options.chart.ignoreHiddenSeries;!h.noSharedTooltip&&r(b)&&c&&(a=r(a)?_Mathmin(a,b):b)});return a},nameToX:function nameToX(a){var h=n(this.categories),b=h?this.categories:this.names,c=a.options.x,e;a.series.requireSorting=!1;r(c)||(c=!1===this.options.uniqueNames?a.series.autoIncrement():y(a.name,b));-1===c?h||(e=b.length):e=c;void 0!==e&&(this.names[e]=a.name);return e},updateNames:function updateNames(){var a=this;0<this.names.length&&(this.names.length=0,this.minRange=this.userMinRange,g(this.series||[],function(h){h.xIncrement=null;if(!h.points||h.isDirtyData)h.processData(),h.generatePoints();g(h.points,function(b,c){var e;b.options&&(e=a.nameToX(b),void 0!==e&&e!==b.x&&(b.x=e,h.xData[c]=e))})}))},setAxisTranslation:function setAxisTranslation(a){var h=this,b=h.max-h.min,c=h.axisPointRange||0,e,p=0,d=0,n=h.linkedParent,q=!!h.categories,k=h.transA,f=h.isXAxis;if(f||q||c)e=h.getClosest(),n?(p=n.minPointOffset,d=n.pointRangePadding):g(h.series,function(a){var b=q?1:f?B(a.options.pointRange,e,0):h.axisPointRange||0;a=a.options.pointPlacement;c=_Mathmax(c,b);h.single||(p=_Mathmax(p,J(a)?0:b/2),d=_Mathmax(d,"on"===a?0:b))}),n=h.ordinalSlope&&e?h.ordinalSlope/e:1,h.minPointOffset=p*=n,h.pointRangePadding=d*=n,h.pointRange=_Mathmin(c,b),f&&(h.closestPointRange=e);a&&(h.oldTransA=k);h.translationSlope=h.transA=k=h.options.staticScale||h.len/(b+d||1);h.transB=h.horiz?h.left:h.bottom;h.minPixelPadding=k*p},minFromRange:function minFromRange(){return this.max-this.range},setTickInterval:function setTickInterval(h){var b=this,c=b.chart,p=b.options,d=b.isLog,n=b.log2lin,q=b.isDatetimeAxis,x=b.isXAxis,v=b.isLinked,z=p.maxPadding,y=p.minPadding,l=p.tickInterval,I=p.tickPixelInterval,m=b.categories,J=b.threshold,t=b.softThreshold,L,u,K,A;q||m||v||this.getTickAmount();K=B(b.userMin,p.min);A=B(b.userMax,p.max);v?(b.linkedParent=c[b.coll][p.linkedTo],c=b.linkedParent.getExtremes(),b.min=B(c.min,c.dataMin),b.max=B(c.max,c.dataMax),p.type!==b.linkedParent.options.type&&a.error(11,1)):(!t&&r(J)&&(b.dataMin>=J?(L=J,y=0):b.dataMax<=J&&(u=J,z=0)),b.min=B(K,L,b.dataMin),b.max=B(A,u,b.dataMax));d&&(b.positiveValuesOnly&&!h&&0>=_Mathmin(b.min,B(b.dataMin,b.min))&&a.error(10,1),b.min=f(n(b.min),15),b.max=f(n(b.max),15));b.range&&r(b.max)&&(b.userMin=b.min=K=_Mathmax(b.dataMin,b.minFromRange()),b.userMax=A=b.max,b.range=null);k(b,"foundExtremes");b.beforePadding&&b.beforePadding();b.adjustForMinRange();!(m||b.axisPointRange||b.usePercentage||v)&&r(b.min)&&r(b.max)&&(n=b.max-b.min)&&(!r(K)&&y&&(b.min-=n*y),!r(A)&&z&&(b.max+=n*z));D(p.softMin)&&(b.min=_Mathmin(b.min,p.softMin));D(p.softMax)&&(b.max=_Mathmax(b.max,p.softMax));D(p.floor)&&(b.min=_Mathmax(b.min,p.floor));D(p.ceiling)&&(b.max=_Mathmin(b.max,p.ceiling));t&&r(b.dataMin)&&(J=J||0,!r(K)&&b.min<J&&b.dataMin>=J?b.min=J:!r(A)&&b.max>J&&b.dataMax<=J&&(b.max=J));b.tickInterval=b.min===b.max||void 0===b.min||void 0===b.max?1:v&&!l&&I===b.linkedParent.options.tickPixelInterval?l=b.linkedParent.tickInterval:B(l,this.tickAmount?(b.max-b.min)/_Mathmax(this.tickAmount-1,1):void 0,m?1:(b.max-b.min)*I/_Mathmax(b.len,I));x&&!h&&g(b.series,function(a){a.processData(b.min!==b.oldMin||b.max!==b.oldMax)});b.setAxisTranslation(!0);b.beforeSetTickPositions&&b.beforeSetTickPositions();b.postProcessTickInterval&&(b.tickInterval=b.postProcessTickInterval(b.tickInterval));b.pointRange&&!l&&(b.tickInterval=_Mathmax(b.pointRange,b.tickInterval));h=B(p.minTickInterval,b.isDatetimeAxis&&b.closestPointRange);!l&&b.tickInterval<h&&(b.tickInterval=h);q||d||l||(b.tickInterval=G(b.tickInterval,null,e(b.tickInterval),B(p.allowDecimals,!(.5<b.tickInterval&&5>b.tickInterval&&1E3<b.max&&9999>b.max)),!!this.tickAmount));this.tickAmount||(b.tickInterval=b.unsquish());this.setTickPositions()},setTickPositions:function setTickPositions(){var a=this.options,b,c=a.tickPositions,e=a.tickPositioner,p=a.startOnTick,d=a.endOnTick;this.tickmarkOffset=this.categories&&"between"===a.tickmarkPlacement&&1===this.tickInterval?.5:0;this.minorTickInterval="auto"===a.minorTickInterval&&this.tickInterval?this.tickInterval/5:a.minorTickInterval;this.single=this.min===this.max&&r(this.min)&&!this.tickAmount&&(parseInt(this.min,10)===this.min||!1!==a.allowDecimals);this.tickPositions=b=c&&c.slice();!b&&(b=this.isDatetimeAxis?this.getTimeTicks(this.normalizeTimeTickInterval(this.tickInterval,a.units),this.min,this.max,a.startOfWeek,this.ordinalPositions,this.closestPointRange,!0):this.isLog?this.getLogTickPositions(this.tickInterval,this.min,this.max):this.getLinearTickPositions(this.tickInterval,this.min,this.max),b.length>this.len&&(b=[b[0],b.pop()]),this.tickPositions=b,e&&(e=e.apply(this,[this.min,this.max])))&&(this.tickPositions=b=e);this.paddedTicks=b.slice(0);this.trimTicks(b,p,d);this.isLinked||(this.single&&2>b.length&&(this.min-=.5,this.max+=.5),c||e||this.adjustTickAmount())},trimTicks:function trimTicks(a,b,c){var h=a[0],e=a[a.length-1],p=this.minPointOffset||0;if(!this.isLinked){if(b&&-Infinity!==h)this.min=h;else for(;this.min-p>a[0];){a.shift()}if(c)this.max=e;else for(;this.max+p<a[a.length-1];){a.pop()}0===a.length&&r(h)&&a.push((e+h)/2)}},alignToOthers:function alignToOthers(){var a={},b,c=this.options;!1===this.chart.options.chart.alignTicks||!1===c.alignTicks||this.isLog||g(this.chart[this.coll],function(h){var c=h.options,c=[h.horiz?c.left:c.top,c.width,c.height,c.pane].join();h.series.length&&(a[c]?b=!0:a[c]=1)});return b},getTickAmount:function getTickAmount(){var a=this.options,b=a.tickAmount,c=a.tickPixelInterval;!r(a.tickInterval)&&this.len<c&&!this.isRadial&&!this.isLog&&a.startOnTick&&a.endOnTick&&(b=2);!b&&this.alignToOthers()&&(b=_Mathceil(this.len/c)+1);4>b&&(this.finalTickAmt=b,b=5);this.tickAmount=b},adjustTickAmount:function adjustTickAmount(){var a=this.tickInterval,b=this.tickPositions,c=this.tickAmount,e=this.finalTickAmt,p=b&&b.length;if(p<c){for(;b.length<c;){b.push(f(b[b.length-1]+a))}this.transA*=(p-1)/(c-1);this.max=b[b.length-1]}else p>c&&(this.tickInterval*=2,this.setTickPositions());if(r(e)){for(a=c=b.length;a--;){(3===e&&1===a%2||2>=e&&0<a&&a<c-1)&&b.splice(a,1)}this.finalTickAmt=void 0}},setScale:function setScale(){var a,b;this.oldMin=this.min;this.oldMax=this.max;this.oldAxisLength=this.len;this.setAxisSize();b=this.len!==this.oldAxisLength;g(this.series,function(b){if(b.isDirtyData||b.isDirty||b.xAxis.isDirty)a=!0});b||a||this.isLinked||this.forceRedraw||this.userMin!==this.oldUserMin||this.userMax!==this.oldUserMax||this.alignToOthers()?(this.resetStacks&&this.resetStacks(),this.forceRedraw=!1,this.getSeriesExtremes(),this.setTickInterval(),this.oldUserMin=this.userMin,this.oldUserMax=this.userMax,this.isDirty||(this.isDirty=b||this.min!==this.oldMin||this.max!==this.oldMax)):this.cleanStacks&&this.cleanStacks()},setExtremes:function setExtremes(a,b,c,e,p){var h=this,n=h.chart;c=B(c,!0);g(h.series,function(a){delete a.kdTree});p=d(p,{min:a,max:b});k(h,"setExtremes",p,function(){h.userMin=a;h.userMax=b;h.eventArgs=p;c&&n.redraw(e)})},zoom:function zoom(a,b){var h=this.dataMin,c=this.dataMax,e=this.options,p=_Mathmin(h,B(e.min,h)),e=_Mathmax(c,B(e.max,c));if(a!==this.min||b!==this.max)this.allowZoomOutside||(r(h)&&(a<p&&(a=p),a>e&&(a=e)),r(c)&&(b<p&&(b=p),b>e&&(b=e))),this.displayBtn=void 0!==a||void 0!==b,this.setExtremes(a,b,!1,void 0,{trigger:"zoom"});return!0},setAxisSize:function setAxisSize(){var b=this.chart,c=this.options,e=c.offsets||[0,0,0,0],p=this.horiz,d=this.width=_Mathround(a.relativeLength(B(c.width,b.plotWidth-e[3]+e[1]),b.plotWidth)),n=this.height=_Mathround(a.relativeLength(B(c.height,b.plotHeight-e[0]+e[2]),b.plotHeight)),q=this.top=_Mathround(a.relativeLength(B(c.top,b.plotTop+e[0]),b.plotHeight,b.plotTop)),c=this.left=_Mathround(a.relativeLength(B(c.left,b.plotLeft+e[3]),b.plotWidth,b.plotLeft));this.bottom=b.chartHeight-n-q;this.right=b.chartWidth-d-c;this.len=_Mathmax(p?d:n,0);this.pos=p?c:q},getExtremes:function getExtremes(){var a=this.isLog,b=this.lin2log;return{min:a?f(b(this.min)):this.min,max:a?f(b(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}},getThreshold:function getThreshold(a){var b=this.isLog,h=this.lin2log,c=b?h(this.min):this.min,b=b?h(this.max):this.max;null===a?a=c:c>a?a=c:b<a&&(a=b);return this.translate(a,0,1,0,1)},autoLabelAlign:function autoLabelAlign(a){a=(B(a,0)-90*this.side+720)%360;return 15<a&&165>a?"right":195<a&&345>a?"left":"center"},tickSize:function tickSize(a){var b=this.options,h=b[a+"Length"],c=B(b[a+"Width"],"tick"===a&&this.isXAxis?1:0);if(c&&h)return"inside"===b[a+"Position"]&&(h=-h),[h,c]},labelMetrics:function labelMetrics(){var a=this.tickPositions&&this.tickPositions[0]||0;return this.chart.renderer.fontMetrics(this.options.labels.style&&this.options.labels.style.fontSize,this.ticks[a]&&this.ticks[a].label)},unsquish:function unsquish(){var a=this.options.labels,b=this.horiz,c=this.tickInterval,e=c,p=this.len/(((this.categories?1:0)+this.max-this.min)/c),d,n=a.rotation,q=this.labelMetrics(),k,f=_NumberMAX_VALUE,v,z=function z(a){a/=p||1;a=1<a?_Mathceil(a):1;return a*c};b?(v=!a.staggerLines&&!a.step&&(r(n)?[n]:p<B(a.autoRotationLimit,80)&&a.autoRotation))&&g(v,function(a){var b;if(a===n||a&&-90<=a&&90>=a)k=z(_Mathabs(q.h/_Mathsin(u*a))),b=k+_Mathabs(a/360),b<f&&(f=b,d=a,e=k)}):a.step||(e=z(q.h));this.autoRotation=v;this.labelRotation=B(d,n);return e},getSlotWidth:function getSlotWidth(){var a=this.chart,b=this.horiz,c=this.options.labels,e=_Mathmax(this.tickPositions.length-(this.categories?0:1),1),p=a.margin[3];return b&&2>(c.step||0)&&!c.rotation&&(this.staggerLines||1)*this.len/e||!b&&(p&&p-a.spacing[3]||.33*a.chartWidth)},renderUnsquish:function renderUnsquish(){var a=this.chart,b=a.renderer,e=this.tickPositions,p=this.ticks,d=this.options.labels,n=this.horiz,q=this.getSlotWidth(),k=_Mathmax(1,_Mathround(q-2*(d.padding||5))),f={},v=this.labelMetrics(),z=d.style&&d.style.textOverflow,D,y=0,l,I;J(d.rotation)||(f.rotation=d.rotation||0);g(e,function(a){(a=p[a])&&a.labelLength>y&&(y=a.labelLength)});this.maxLabelLength=y;if(this.autoRotation)y>k&&y>v.h?f.rotation=this.labelRotation:this.labelRotation=0;else if(q&&(D={width:k+"px"},!z))for(D.textOverflow="clip",l=e.length;!n&&l--;){if(I=e[l],k=p[I].label)k.styles&&"ellipsis"===k.styles.textOverflow?k.css({textOverflow:"clip"}):p[I].labelLength>q&&k.css({width:q+"px"}),k.getBBox().height>this.len/e.length-(v.h-v.f)&&(k.specCss={textOverflow:"ellipsis"})}f.rotation&&(D={width:(y>.5*a.chartHeight?.33*a.chartHeight:a.chartHeight)+"px"},z||(D.textOverflow="ellipsis"));if(this.labelAlign=d.align||this.autoLabelAlign(this.labelRotation))f.align=this.labelAlign;g(e,function(a){var b=(a=p[a])&&a.label;b&&(b.attr(f),D&&b.css(c(D,b.specCss)),delete b.specCss,a.rotation=f.rotation)});this.tickRotCorr=b.rotCorr(v.b,this.labelRotation||0,0!==this.side)},hasData:function hasData(){return this.hasVisibleSeries||r(this.min)&&r(this.max)&&!!this.tickPositions},addTitle:function addTitle(a){var b=this.chart.renderer,c=this.horiz,h=this.opposite,e=this.options.title,p;this.axisTitle||((p=e.textAlign)||(p=(c?{low:"left",middle:"center",high:"right"}:{low:h?"right":"left",middle:"center",high:h?"left":"right"})[e.align]),this.axisTitle=b.text(e.text,0,0,e.useHTML).attr({zIndex:7,rotation:e.rotation||0,align:p}).addClass("highcharts-axis-title").css(e.style).add(this.axisGroup),this.axisTitle.isNew=!0);e.style.width||this.isRadial||this.axisTitle.css({width:this.len});this.axisTitle[a?"show":"hide"](!0)},generateTick:function generateTick(a){var b=this.ticks;b[a]?b[a].addLabel():b[a]=new I(this,a)},getOffset:function getOffset(){var a=this,b=a.chart,c=b.renderer,e=a.options,p=a.tickPositions,d=a.ticks,n=a.horiz,k=a.side,f=b.inverted&&!a.isZAxis?[1,0,3,2][k]:k,v,z,D=0,y,l=0,I=e.title,m=e.labels,G=0,J=b.axisOffset,b=b.clipOffset,t=[-1,1,1,-1][k],L=e.className,u=a.axisParent,K=this.tickSize("tick");v=a.hasData();a.showAxis=z=v||B(e.showEmpty,!0);a.staggerLines=a.horiz&&m.staggerLines;a.axisGroup||(a.gridGroup=c.g("grid").attr({zIndex:e.gridZIndex||1}).addClass("highcharts-"+this.coll.toLowerCase()+"-grid "+(L||"")).add(u),a.axisGroup=c.g("axis").attr({zIndex:e.zIndex||2}).addClass("highcharts-"+this.coll.toLowerCase()+" "+(L||"")).add(u),a.labelGroup=c.g("axis-labels").attr({zIndex:m.zIndex||7}).addClass("highcharts-"+a.coll.toLowerCase()+"-labels "+(L||"")).add(u));v||a.isLinked?(g(p,function(b,c){a.generateTick(b,c)}),a.renderUnsquish(),!1===m.reserveSpace||0!==k&&2!==k&&{1:"left",3:"right"}[k]!==a.labelAlign&&"center"!==a.labelAlign||g(p,function(a){G=_Mathmax(d[a].getLabelSize(),G)}),a.staggerLines&&(G*=a.staggerLines,a.labelOffset=G*(a.opposite?-1:1))):q(d,function(a,b){a.destroy();delete d[b]});I&&I.text&&!1!==I.enabled&&(a.addTitle(z),z&&!1!==I.reserveSpace&&(a.titleOffset=D=a.axisTitle.getBBox()[n?"height":"width"],y=I.offset,l=r(y)?0:B(I.margin,n?5:10)));a.renderLine();a.offset=t*B(e.offset,J[k]);a.tickRotCorr=a.tickRotCorr||{x:0,y:0};c=0===k?-a.labelMetrics().h:2===k?a.tickRotCorr.y:0;l=_Mathabs(G)+l;G&&(l=l-c+t*(n?B(m.y,a.tickRotCorr.y+8*t):m.x));a.axisTitleMargin=B(y,l);J[k]=_Mathmax(J[k],a.axisTitleMargin+D+t*a.offset,l,v&&p.length&&K?K[0]+t*a.offset:0);p=2*_Mathfloor(a.axisLine.strokeWidth()/2);0<e.offset&&(p-=2*e.offset);b[f]=_Mathmax(b[f]||p,p)},getLinePath:function getLinePath(a){var b=this.chart,c=this.opposite,h=this.offset,e=this.horiz,p=this.left+(c?this.width:0)+h,h=b.chartHeight-this.bottom-(c?this.height:0)+h;c&&(a*=-1);return b.renderer.crispLine(["M",e?this.left:p,e?h:this.top,"L",e?b.chartWidth-this.right:p,e?h:b.chartHeight-this.bottom],a)},renderLine:function renderLine(){this.axisLine||(this.axisLine=this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup),this.axisLine.attr({stroke:this.options.lineColor,"stroke-width":this.options.lineWidth,zIndex:7}))},getTitlePosition:function getTitlePosition(){var a=this.horiz,b=this.left,c=this.top,e=this.len,p=this.options.title,d=a?b:c,n=this.opposite,q=this.offset,k=p.x||0,g=p.y||0,f=this.axisTitle,v=this.chart.renderer.fontMetrics(p.style&&p.style.fontSize,f),f=_Mathmax(f.getBBox(null,0).height-v.h-1,0),e={low:d+(a?0:e),middle:d+e/2,high:d+(a?e:0)}[p.align],b=(a?c+this.height:b)+(a?1:-1)*(n?-1:1)*this.axisTitleMargin+[-f,f,v.f,-f][this.side];return{x:a?e+k:b+(n?this.width:0)+q+k,y:a?b+g-(n?this.height:0)+q:e+g}},renderMinorTick:function renderMinorTick(a){var b=this.chart.hasRendered&&D(this.oldMin),c=this.minorTicks;c[a]||(c[a]=new I(this,a,"minor"));b&&c[a].isNew&&c[a].render(null,!0);c[a].render(null,!1,1)},renderTick:function renderTick(a,b){var c=this.isLinked,e=this.ticks,h=this.chart.hasRendered&&D(this.oldMin);if(!c||a>=this.min&&a<=this.max)e[a]||(e[a]=new I(this,a)),h&&e[a].isNew&&e[a].render(b,!0,.1),e[a].render(b)},render:function render(){var b=this,c=b.chart,e=b.options,p=b.isLog,d=b.lin2log,n=b.isLinked,k=b.tickPositions,f=b.axisTitle,v=b.ticks,y=b.minorTicks,l=b.alternateBands,m=e.stackLabels,r=e.alternateGridColor,B=b.tickmarkOffset,G=b.axisLine,J=b.showAxis,t=A(c.renderer.globalAnimation),L,u;b.labelEdge.length=0;b.overlap=!1;g([v,y,l],function(a){q(a,function(a){a.isActive=!1})});if(b.hasData()||n)b.minorTickInterval&&!b.categories&&g(b.getMinorTickPositions(),function(a){b.renderMinorTick(a)}),k.length&&(g(k,function(a,c){b.renderTick(a,c)}),B&&(0===b.min||b.single)&&(v[-1]||(v[-1]=new I(b,-1,null,!0)),v[-1].render(-1))),r&&g(k,function(e,h){u=void 0!==k[h+1]?k[h+1]+B:b.max-B;0===h%2&&e<b.max&&u<=b.max+(c.polar?-B:B)&&(l[e]||(l[e]=new a.PlotLineOrBand(b)),L=e+B,l[e].options={from:p?d(L):L,to:p?d(u):u,color:r},l[e].render(),l[e].isActive=!0)}),b._addedPlotLB||(g((e.plotLines||[]).concat(e.plotBands||[]),function(a){b.addPlotBandOrLine(a)}),b._addedPlotLB=!0);g([v,y,l],function(a){var b,e=[],h=t.duration;q(a,function(a,b){a.isActive||(a.render(b,!1,0),a.isActive=!1,e.push(b))});z(function(){for(b=e.length;b--;){a[e[b]]&&!a[e[b]].isActive&&(a[e[b]].destroy(),delete a[e[b]])}},a!==l&&c.hasRendered&&h?h:0)});G&&(G[G.isPlaced?"animate":"attr"]({d:this.getLinePath(G.strokeWidth())}),G.isPlaced=!0,G[J?"show":"hide"](!0));f&&J&&(e=b.getTitlePosition(),D(e.y)?(f[f.isNew?"attr":"animate"](e),f.isNew=!1):(f.attr("y",-9999),f.isNew=!0));m&&m.enabled&&b.renderStackTotals();b.isDirty=!1},redraw:function redraw(){this.visible&&(this.render(),g(this.plotLinesAndBands,function(a){a.render()}));g(this.series,function(a){a.isDirty=!0})},keepProps:"extKey hcEvents names series userMax userMin".split(" "),destroy:function destroy(a){var b=this,c=b.stacks,e=b.plotLinesAndBands,h;a||K(b);q(c,function(a,b){t(a);c[b]=null});g([b.ticks,b.minorTicks,b.alternateBands],function(a){t(a)});if(e)for(a=e.length;a--;){e[a].destroy()}g("stackTotalGroup axisLine axisTitle axisGroup gridGroup labelGroup cross".split(" "),function(a){b[a]&&(b[a]=b[a].destroy())});for(h in b.plotLinesAndBandsGroups){b.plotLinesAndBandsGroups[h]=b.plotLinesAndBandsGroups[h].destroy()}q(b,function(a,c){-1===y(c,b.keepProps)&&delete b[c]})},drawCrosshair:function drawCrosshair(a,b){var c,e=this.crosshair,h=B(e.snap,!0),p,d=this.cross;a||(a=this.cross&&this.cross.e);this.crosshair&&!1!==(r(b)||!h)?(h?r(b)&&(p=this.isXAxis?b.plotX:this.len-b.plotY):p=a&&(this.horiz?a.chartX-this.pos:this.len-a.chartY+this.pos),r(p)&&(c=this.getPlotLinePath(b&&(this.isXAxis?b.x:B(b.stackY,b.y)),null,null,null,p)||null),r(c)?(b=this.categories&&!this.isRadial,d||(this.cross=d=this.chart.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-"+(b?"category ":"thin ")+e.className).attr({zIndex:B(e.zIndex,2)}).add(),d.attr({stroke:e.color||(b?m("#ccd6eb").setOpacity(.25).get():"#cccccc"),"stroke-width":B(e.width,1)}),e.dashStyle&&d.attr({dashstyle:e.dashStyle})),d.show().attr({d:c}),b&&!e.width&&d.attr({"stroke-width":this.transA}),this.cross.e=a):this.hideCrosshair()):this.hideCrosshair()},hideCrosshair:function hideCrosshair(){this.cross&&this.cross.hide()}});return a.Axis=L}(M);(function(a){var C=a.Axis,A=a.Date,F=a.dateFormat,E=a.defaultOptions,m=a.defined,f=a.each,l=a.extend,r=a.getMagnitude,u=a.getTZOffset,t=a.normalizeTickInterval,g=a.pick,d=a.timeUnits;C.prototype.getTimeTicks=function(a,b,e,v){var k=[],n={},D=E.global.useUTC,r,c=new A(b-_Mathmax(u(b),u(e))),G=A.hcMakeTime,q=a.unitRange,B=a.count,t,p;if(m(b)){c[A.hcSetMilliseconds](q>=d.second?0:B*_Mathfloor(c.getMilliseconds()/B));if(q>=d.second)c[A.hcSetSeconds](q>=d.minute?0:B*_Mathfloor(c.getSeconds()/B));if(q>=d.minute)c[A.hcSetMinutes](q>=d.hour?0:B*_Mathfloor(c[A.hcGetMinutes]()/B));if(q>=d.hour)c[A.hcSetHours](q>=d.day?0:B*_Mathfloor(c[A.hcGetHours]()/B));if(q>=d.day)c[A.hcSetDate](q>=d.month?1:B*_Mathfloor(c[A.hcGetDate]()/B));q>=d.month&&(c[A.hcSetMonth](q>=d.year?0:B*_Mathfloor(c[A.hcGetMonth]()/B)),r=c[A.hcGetFullYear]());if(q>=d.year)c[A.hcSetFullYear](r-r%B);if(q===d.week)c[A.hcSetDate](c[A.hcGetDate]()-c[A.hcGetDay]()+g(v,1));r=c[A.hcGetFullYear]();v=c[A.hcGetMonth]();var z=c[A.hcGetDate](),I=c[A.hcGetHours]();if(A.hcTimezoneOffset||A.hcGetTimezoneOffset)p=(!D||!!A.hcGetTimezoneOffset)&&(e-b>4*d.month||u(b)!==u(e)),c=c.getTime(),t=u(c),c=new A(c+t);D=c.getTime();for(b=1;D<e;){k.push(D),D=q===d.year?G(r+b*B,0):q===d.month?G(r,v+b*B):!p||q!==d.day&&q!==d.week?p&&q===d.hour?G(r,v,z,I+b*B,0,0,t)-t:D+q*B:G(r,v,z+b*B*(q===d.day?1:7)),b++}k.push(D);q<=d.hour&&1E4>k.length&&f(k,function(a){0===a%18E5&&"000000000"===F("%H%M%S%L",a)&&(n[a]="day")})}k.info=l(a,{higherRanks:n,totalRange:q*B});return k};C.prototype.normalizeTimeTickInterval=function(a,b){var e=b||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]];b=e[e.length-1];var k=d[b[0]],g=b[1],n;for(n=0;n<e.length&&!(b=e[n],k=d[b[0]],g=b[1],e[n+1]&&a<=(k*g[g.length-1]+d[e[n+1][0]])/2);n++){;}k===d.year&&a<5*k&&(g=[1,2,5]);a=t(a/k,g,"year"===b[0]?_Mathmax(r(a/k),1):1);return{unitRange:k,count:a,unitName:b[0]}}})(M);(function(a){var C=a.Axis,A=a.getMagnitude,F=a.map,E=a.normalizeTickInterval,m=a.pick;C.prototype.getLogTickPositions=function(a,l,r,u){var f=this.options,g=this.len,d=this.lin2log,k=this.log2lin,b=[];u||(this._minorAutoInterval=null);if(.5<=a)a=_Mathround(a),b=this.getLinearTickPositions(a,l,r);else if(.08<=a)for(var g=_Mathfloor(l),e,v,y,n,D,f=.3<a?[1,2,4]:.15<a?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];g<r+1&&!D;g++){for(v=f.length,e=0;e<v&&!D;e++){y=k(d(g)*f[e]),y>l&&(!u||n<=r)&&void 0!==n&&b.push(n),n>r&&(D=!0),n=y}}else l=d(l),r=d(r),a=f[u?"minorTickInterval":"tickInterval"],a=m("auto"===a?null:a,this._minorAutoInterval,f.tickPixelInterval/(u?5:1)*(r-l)/((u?g/this.tickPositions.length:g)||1)),a=E(a,null,A(a)),b=F(this.getLinearTickPositions(a,l,r),k),u||(this._minorAutoInterval=a/5);u||(this.tickInterval=a);return b};C.prototype.log2lin=function(a){return _Mathlog(a)/_MathLN};C.prototype.lin2log=function(a){return _Mathpow(10,a)}})(M);(function(a,C){var A=a.arrayMax,F=a.arrayMin,E=a.defined,m=a.destroyObjectProperties,f=a.each,l=a.erase,r=a.merge,u=a.pick;a.PlotLineOrBand=function(a,g){this.axis=a;g&&(this.options=g,this.id=g.id)};a.PlotLineOrBand.prototype={render:function render(){var f=this,g=f.axis,d=g.horiz,k=f.options,b=k.label,e=f.label,v=k.to,l=k.from,n=k.value,D=E(l)&&E(v),m=E(n),c=f.svgElem,G=!c,q=[],B=k.color,K=u(k.zIndex,0),p=k.events,q={class:"highcharts-plot-"+(D?"band ":"line ")+(k.className||"")},z={},I=g.chart.renderer,L=D?"bands":"lines",h=g.log2lin;g.isLog&&(l=h(l),v=h(v),n=h(n));m?(q={stroke:B,"stroke-width":k.width},k.dashStyle&&(q.dashstyle=k.dashStyle)):D&&(B&&(q.fill=B),k.borderWidth&&(q.stroke=k.borderColor,q["stroke-width"]=k.borderWidth));z.zIndex=K;L+="-"+K;(B=g.plotLinesAndBandsGroups[L])||(g.plotLinesAndBandsGroups[L]=B=I.g("plot-"+L).attr(z).add());G&&(f.svgElem=c=I.path().attr(q).add(B));if(m)q=g.getPlotLinePath(n,c.strokeWidth());else if(D)q=g.getPlotBandPath(l,v,k);else return;G&&q&&q.length?(c.attr({d:q}),p&&a.objectEach(p,function(a,b){c.on(b,function(a){p[b].apply(f,[a])})})):c&&(q?(c.show(),c.animate({d:q})):(c.hide(),e&&(f.label=e=e.destroy())));b&&E(b.text)&&q&&q.length&&0<g.width&&0<g.height&&!q.flat?(b=r({align:d&&D&&"center",x:d?!D&&4:10,verticalAlign:!d&&D&&"middle",y:d?D?16:10:D?6:-4,rotation:d&&!D&&90},b),this.renderLabel(b,q,D,K)):e&&e.hide();return f},renderLabel:function renderLabel(a,g,d,k){var b=this.label,e=this.axis.chart.renderer;b||(b={align:a.textAlign||a.align,rotation:a.rotation,class:"highcharts-plot-"+(d?"band":"line")+"-label "+(a.className||"")},b.zIndex=k,this.label=b=e.text(a.text,0,0,a.useHTML).attr(b).add(),b.css(a.style));k=[g[1],g[4],d?g[6]:g[1]];g=[g[2],g[5],d?g[7]:g[2]];d=F(k);e=F(g);b.align(a,!1,{x:d,y:e,width:A(k)-d,height:A(g)-e});b.show()},destroy:function destroy(){l(this.axis.plotLinesAndBands,this);delete this.axis;m(this)}};a.extend(C.prototype,{getPlotBandPath:function getPlotBandPath(a,g){var d=this.getPlotLinePath(g,null,null,!0),k=this.getPlotLinePath(a,null,null,!0),b=this.horiz,e=1;a=a<this.min&&g<this.min||a>this.max&&g>this.max;k&&d?(a&&(k.flat=k.toString()===d.toString(),e=0),k.push(b&&d[4]===k[4]?d[4]+e:d[4],b||d[5]!==k[5]?d[5]:d[5]+e,b&&d[1]===k[1]?d[1]+e:d[1],b||d[2]!==k[2]?d[2]:d[2]+e)):k=null;return k},addPlotBand:function addPlotBand(a){return this.addPlotBandOrLine(a,"plotBands")},addPlotLine:function addPlotLine(a){return this.addPlotBandOrLine(a,"plotLines")},addPlotBandOrLine:function addPlotBandOrLine(f,g){var d=new a.PlotLineOrBand(this,f).render(),k=this.userOptions;d&&(g&&(k[g]=k[g]||[],k[g].push(f)),this.plotLinesAndBands.push(d));return d},removePlotBandOrLine:function removePlotBandOrLine(a){for(var g=this.plotLinesAndBands,d=this.options,k=this.userOptions,b=g.length;b--;){g[b].id===a&&g[b].destroy()}f([d.plotLines||[],k.plotLines||[],d.plotBands||[],k.plotBands||[]],function(e){for(b=e.length;b--;){e[b].id===a&&l(e,e[b])}})},removePlotBand:function removePlotBand(a){this.removePlotBandOrLine(a)},removePlotLine:function removePlotLine(a){this.removePlotBandOrLine(a)}})})(M,S);(function(a){var C=a.dateFormat,A=a.each,F=a.extend,E=a.format,m=a.isNumber,f=a.map,l=a.merge,r=a.pick,u=a.splat,t=a.syncTimeout,g=a.timeUnits;a.Tooltip=function(){this.init.apply(this,arguments)};a.Tooltip.prototype={init:function init(a,k){this.chart=a;this.options=k;this.crosshairs=[];this.now={x:0,y:0};this.isHidden=!0;this.split=k.split&&!a.inverted;this.shared=k.shared||this.split},cleanSplit:function cleanSplit(a){A(this.chart.series,function(d){var b=d&&d.tt;b&&(!b.isActive||a?d.tt=b.destroy():b.isActive=!1)})},getLabel:function getLabel(){var a=this.chart.renderer,k=this.options;this.label||(this.split?this.label=a.g("tooltip"):(this.label=a.label("",0,0,k.shape||"callout",null,null,k.useHTML,null,"tooltip").attr({padding:k.padding,r:k.borderRadius}),this.label.attr({fill:k.backgroundColor,"stroke-width":k.borderWidth}).css(k.style).shadow(k.shadow)),this.label.attr({zIndex:8}).add());return this.label},update:function update(a){this.destroy();l(!0,this.chart.options.tooltip.userOptions,a);this.init(this.chart,l(!0,this.options,a))},destroy:function destroy(){this.label&&(this.label=this.label.destroy());this.split&&this.tt&&(this.cleanSplit(this.chart,!0),this.tt=this.tt.destroy());clearTimeout(this.hideTimer);clearTimeout(this.tooltipTimeout)},move:function move(a,k,b,e){var d=this,g=d.now,n=!1!==d.options.animation&&!d.isHidden&&(1<_Mathabs(a-g.x)||1<_Mathabs(k-g.y)),f=d.followPointer||1<d.len;F(g,{x:n?(2*g.x+a)/3:a,y:n?(g.y+k)/2:k,anchorX:f?void 0:n?(2*g.anchorX+b)/3:b,anchorY:f?void 0:n?(g.anchorY+e)/2:e});d.getLabel().attr(g);n&&(clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){d&&d.move(a,k,b,e)},32))},hide:function hide(a){var d=this;clearTimeout(this.hideTimer);a=r(a,this.options.hideDelay,500);this.isHidden||(this.hideTimer=t(function(){d.getLabel()[a?"fadeOut":"hide"]();d.isHidden=!0},a))},getAnchor:function getAnchor(a,k){var b,e=this.chart,d=e.inverted,g=e.plotTop,n=e.plotLeft,l=0,m=0,c,r;a=u(a);b=a[0].tooltipPos;this.followPointer&&k&&(void 0===k.chartX&&(k=e.pointer.normalize(k)),b=[k.chartX-e.plotLeft,k.chartY-g]);b||(A(a,function(a){c=a.series.yAxis;r=a.series.xAxis;l+=a.plotX+(!d&&r?r.left-n:0);m+=(a.plotLow?(a.plotLow+a.plotHigh)/2:a.plotY)+(!d&&c?c.top-g:0)}),l/=a.length,m/=a.length,b=[d?e.plotWidth-m:l,this.shared&&!d&&1<a.length&&k?k.chartY-g:d?e.plotHeight-l:m]);return f(b,Math.round)},getPosition:function getPosition(a,g,b){var e=this.chart,d=this.distance,k={},n=b.h||0,f,l=["y",e.chartHeight,g,b.plotY+e.plotTop,e.plotTop,e.plotTop+e.plotHeight],c=["x",e.chartWidth,a,b.plotX+e.plotLeft,e.plotLeft,e.plotLeft+e.plotWidth],m=!this.followPointer&&r(b.ttBelow,!e.inverted===!!b.negative),q=function q(a,b,c,e,p,_q){var h=c<e-d,g=e+d+c<b,f=e-d-c;e+=d;if(m&&g)k[a]=e;else if(!m&&h)k[a]=f;else if(h)k[a]=_Mathmin(_q-c,0>f-n?f:f-n);else if(g)k[a]=_Mathmax(p,e+n+c>b?e:e+n);else return!1},B=function B(a,b,c,e){var h;e<d||e>b-d?h=!1:k[a]=e<c/2?1:e>b-c/2?b-c-2:e-c/2;return h},t=function t(a){var b=l;l=c;c=b;f=a},p=function p(){!1!==q.apply(0,l)?!1!==B.apply(0,c)||f||(t(!0),p()):f?k.x=k.y=0:(t(!0),p())};(e.inverted||1<this.len)&&t();p();return k},defaultFormatter:function defaultFormatter(a){var d=this.points||u(this),b;b=[a.tooltipFooterHeaderFormatter(d[0])];b=b.concat(a.bodyFormatter(d));b.push(a.tooltipFooterHeaderFormatter(d[0],!0));return b},refresh:function refresh(a,g){var b,e=this.options,d,k=a,n,f={},l=[];b=e.formatter||this.defaultFormatter;var f=this.shared,c;e.enabled&&(clearTimeout(this.hideTimer),this.followPointer=u(k)[0].series.tooltipOptions.followPointer,n=this.getAnchor(k,g),g=n[0],d=n[1],!f||k.series&&k.series.noSharedTooltip?f=k.getLabelConfig():(A(k,function(a){a.setState("hover");l.push(a.getLabelConfig())}),f={x:k[0].category,y:k[0].y},f.points=l,k=k[0]),this.len=l.length,f=b.call(f,this),c=k.series,this.distance=r(c.tooltipOptions.distance,16),!1===f?this.hide():(b=this.getLabel(),this.isHidden&&b.attr({opacity:1}).show(),this.split?this.renderSplit(f,a):(e.style.width||b.css({width:this.chart.spacingBox.width}),b.attr({text:f&&f.join?f.join(""):f}),b.removeClass(/highcharts-color-[\d]+/g).addClass("highcharts-color-"+r(k.colorIndex,c.colorIndex)),b.attr({stroke:e.borderColor||k.color||c.color||"#666666"}),this.updatePosition({plotX:g,plotY:d,negative:k.negative,ttBelow:k.ttBelow,h:n[2]||0})),this.isHidden=!1))},renderSplit:function renderSplit(d,k){var b=this,e=[],g=this.chart,f=g.renderer,n=!0,l=this.options,m=0,c=this.getLabel();A(d.slice(0,k.length+1),function(a,d){if(!1!==a){d=k[d-1]||{isHeader:!0,plotX:k[0].plotX};var q=d.series||b,v=q.tt,p=d.series||{},z="highcharts-color-"+r(d.colorIndex,p.colorIndex,"none");v||(q.tt=v=f.label(null,null,null,"callout").addClass("highcharts-tooltip-box "+z).attr({padding:l.padding,r:l.borderRadius,fill:l.backgroundColor,stroke:l.borderColor||d.color||p.color||"#333333","stroke-width":l.borderWidth}).add(c));v.isActive=!0;v.attr({text:a});v.css(l.style).shadow(l.shadow);a=v.getBBox();p=a.width+v.strokeWidth();d.isHeader?(m=a.height,p=_Mathmax(0,_Mathmin(d.plotX+g.plotLeft-p/2,g.chartWidth-p))):p=d.plotX+g.plotLeft-r(l.distance,16)-p;0>p&&(n=!1);a=(d.series&&d.series.yAxis&&d.series.yAxis.pos)+(d.plotY||0);a-=g.plotTop;e.push({target:d.isHeader?g.plotHeight+m:a,rank:d.isHeader?1:0,size:q.tt.getBBox().height+1,point:d,x:p,tt:v})}});this.cleanSplit();a.distribute(e,g.plotHeight+m);A(e,function(a){var b=a.point,c=b.series;a.tt.attr({visibility:void 0===a.pos?"hidden":"inherit",x:n||b.isHeader?a.x:b.plotX+g.plotLeft+r(l.distance,16),y:a.pos+g.plotTop,anchorX:b.isHeader?b.plotX+g.plotLeft:b.plotX+c.xAxis.pos,anchorY:b.isHeader?a.pos+g.plotTop-15:b.plotY+c.yAxis.pos})})},updatePosition:function updatePosition(a){var d=this.chart,b=this.getLabel(),b=(this.options.positioner||this.getPosition).call(this,b.width,b.height,a);this.move(_Mathround(b.x),_Mathround(b.y||0),a.plotX+d.plotLeft,a.plotY+d.plotTop)},getDateFormat:function getDateFormat(a,k,b,e){var d=C("%m-%d %H:%M:%S.%L",k),f,n,l={millisecond:15,second:12,minute:9,hour:6,day:3},m="millisecond";for(n in g){if(a===g.week&&+C("%w",k)===b&&"00:00:00.000"===d.substr(6)){n="week";break}if(g[n]>a){n=m;break}if(l[n]&&d.substr(l[n])!=="01-01 00:00:00.000".substr(l[n]))break;"week"!==n&&(m=n)}n&&(f=e[n]);return f},getXDateFormat:function getXDateFormat(a,g,b){g=g.dateTimeLabelFormats;var e=b&&b.closestPointRange;return(e?this.getDateFormat(e,a.x,b.options.startOfWeek,g):g.day)||g.year},tooltipFooterHeaderFormatter:function tooltipFooterHeaderFormatter(a,g){var b=g?"footer":"header";g=a.series;var e=g.tooltipOptions,d=e.xDateFormat,k=g.xAxis,n=k&&"datetime"===k.options.type&&m(a.key),b=e[b+"Format"];n&&!d&&(d=this.getXDateFormat(a,e,k));n&&d&&(b=b.replace("{point.key}","{point.key:"+d+"}"));return E(b,{point:a,series:g})},bodyFormatter:function bodyFormatter(a){return f(a,function(a){var b=a.series.tooltipOptions;return(b.pointFormatter||a.point.tooltipFormatter).call(a.point,b.pointFormat)})}}})(M);(function(a){var C=a.addEvent,A=a.attr,F=a.charts,E=a.color,m=a.css,f=a.defined,l=a.each,r=a.extend,u=a.find,t=a.fireEvent,g=a.isObject,d=a.offset,k=a.pick,b=a.removeEvent,e=a.splat,v=a.Tooltip,y=a.win;a.Pointer=function(a,b){this.init(a,b)};a.Pointer.prototype={init:function init(a,b){this.options=b;this.chart=a;this.runChartClick=b.chart.events&&!!b.chart.events.click;this.pinchDown=[];this.lastValidTouch={};v&&(a.tooltip=new v(a,b.tooltip),this.followTouchMove=k(b.tooltip.followTouchMove,!0));this.setDOMEvents()},zoomOption:function zoomOption(a){var b=this.chart,e=b.options.chart,c=e.zoomType||"",b=b.inverted;/touch/.test(a.type)&&(c=k(e.pinchType,c));this.zoomX=a=/x/.test(c);this.zoomY=c=/y/.test(c);this.zoomHor=a&&!b||c&&b;this.zoomVert=c&&!b||a&&b;this.hasZoom=a||c},normalize:function normalize(a,b){var e,c;a=a||y.event;a.target||(a.target=a.srcElement);c=a.touches?a.touches.length?a.touches.item(0):a.changedTouches[0]:a;b||(this.chartPosition=b=d(this.chart.container));void 0===c.pageX?(e=_Mathmax(a.x,a.clientX-b.left),b=a.y):(e=c.pageX-b.left,b=c.pageY-b.top);return r(a,{chartX:_Mathround(e),chartY:_Mathround(b)})},getCoordinates:function getCoordinates(a){var b={xAxis:[],yAxis:[]};l(this.chart.axes,function(e){b[e.isXAxis?"xAxis":"yAxis"].push({axis:e,value:e.toValue(a[e.horiz?"chartX":"chartY"])})});return b},findNearestKDPoint:function findNearestKDPoint(a,b,e){var c;l(a,function(a){var d=!(a.noSharedTooltip&&b)&&0>a.options.findNearestPointBy.indexOf("y");a=a.searchPoint(e,d);if((d=g(a,!0))&&!(d=!g(c,!0)))var d=c.distX-a.distX,n=c.dist-a.dist,k=(a.series.group&&a.series.group.zIndex)-(c.series.group&&c.series.group.zIndex),d=0<(0!==d&&b?d:0!==n?n:0!==k?k:c.series.index>a.series.index?-1:1);d&&(c=a)});return c},getPointFromEvent:function getPointFromEvent(a){a=a.target;for(var b;a&&!b;){b=a.point,a=a.parentNode}return b},getChartCoordinatesFromPoint:function getChartCoordinatesFromPoint(a,b){var e=a.series,c=e.xAxis,e=e.yAxis;if(c&&e)return b?{chartX:c.len+c.pos-a.clientX,chartY:e.len+e.pos-a.plotY}:{chartX:a.clientX+c.pos,chartY:a.plotY+e.pos}},getHoverData:function getHoverData(b,e,d,c,f,q){var n,v=[];c=!(!c||!b);var p=e&&!e.stickyTracking?[e]:a.grep(d,function(a){return a.visible&&!(!f&&a.directTouch)&&k(a.options.enableMouseTracking,!0)&&a.stickyTracking});e=(n=c?b:this.findNearestKDPoint(p,f,q))&&n.series;n&&(f&&!e.noSharedTooltip?(p=a.grep(d,function(a){return a.visible&&!(!f&&a.directTouch)&&k(a.options.enableMouseTracking,!0)&&!a.noSharedTooltip}),l(p,function(a){a=u(a.points,function(a){return a.x===n.x});g(a)&&!a.isNull&&v.push(a)})):v.push(n));return{hoverPoint:n,hoverSeries:e,hoverPoints:v}},runPointActions:function runPointActions(b,e){var d=this.chart,c=d.tooltip,g=c?c.shared:!1,n=e||d.hoverPoint,f=n&&n.series||d.hoverSeries,f=this.getHoverData(n,f,d.series,!!e||f&&f.directTouch&&this.isDirectTouch,g,b),v,n=f.hoverPoint;v=f.hoverPoints;e=(f=f.hoverSeries)&&f.tooltipOptions.followPointer;g=g&&f&&!f.noSharedTooltip;if(n&&(n!==d.hoverPoint||c&&c.isHidden)){l(d.hoverPoints||[],function(b){-1===a.inArray(b,v)&&b.setState()});l(v||[],function(a){a.setState("hover")});if(d.hoverSeries!==f)f.onMouseOver();d.hoverPoint&&d.hoverPoint.firePointEvent("mouseOut");n.firePointEvent("mouseOver");d.hoverPoints=v;d.hoverPoint=n;c&&c.refresh(g?v:n,b)}else e&&c&&!c.isHidden&&(n=c.getAnchor([{}],b),c.updatePosition({plotX:n[0],plotY:n[1]}));this.unDocMouseMove||(this.unDocMouseMove=C(d.container.ownerDocument,"mousemove",function(b){var c=F[a.hoverChartIndex];if(c)c.pointer.onDocumentMouseMove(b)}));l(d.axes,function(c){var e=k(c.crosshair.snap,!0),p=e?a.find(v,function(a){return a.series[c.coll]===c}):void 0;p||!e?c.drawCrosshair(b,p):c.hideCrosshair()})},reset:function reset(a,b){var d=this.chart,c=d.hoverSeries,g=d.hoverPoint,n=d.hoverPoints,f=d.tooltip,k=f&&f.shared?n:g;a&&k&&l(e(k),function(b){b.series.isCartesian&&void 0===b.plotX&&(a=!1)});if(a)f&&k&&(f.refresh(k),g&&(g.setState(g.state,!0),l(d.axes,function(a){a.crosshair&&a.drawCrosshair(null,g)})));else{if(g)g.onMouseOut();n&&l(n,function(a){a.setState()});if(c)c.onMouseOut();f&&f.hide(b);this.unDocMouseMove&&(this.unDocMouseMove=this.unDocMouseMove());l(d.axes,function(a){a.hideCrosshair()});this.hoverX=d.hoverPoints=d.hoverPoint=null}},scaleGroups:function scaleGroups(a,b){var e=this.chart,c;l(e.series,function(d){c=a||d.getPlotBox();d.xAxis&&d.xAxis.zoomEnabled&&d.group&&(d.group.attr(c),d.markerGroup&&(d.markerGroup.attr(c),d.markerGroup.clip(b?e.clipRect:null)),d.dataLabelsGroup&&d.dataLabelsGroup.attr(c))});e.clipRect.attr(b||e.clipBox)},dragStart:function dragStart(a){var b=this.chart;b.mouseIsDown=a.type;b.cancelClick=!1;b.mouseDownX=this.mouseDownX=a.chartX;b.mouseDownY=this.mouseDownY=a.chartY},drag:function drag(a){var b=this.chart,e=b.options.chart,c=a.chartX,d=a.chartY,g=this.zoomHor,n=this.zoomVert,f=b.plotLeft,p=b.plotTop,k=b.plotWidth,v=b.plotHeight,l,h=this.selectionMarker,w=this.mouseDownX,m=this.mouseDownY,r=e.panKey&&a[e.panKey+"Key"];h&&h.touch||(c<f?c=f:c>f+k&&(c=f+k),d<p?d=p:d>p+v&&(d=p+v),this.hasDragged=_Mathsqrt(_Mathpow(w-c,2)+_Mathpow(m-d,2)),10<this.hasDragged&&(l=b.isInsidePlot(w-f,m-p),b.hasCartesianSeries&&(this.zoomX||this.zoomY)&&l&&!r&&!h&&(this.selectionMarker=h=b.renderer.rect(f,p,g?1:k,n?1:v,0).attr({fill:e.selectionMarkerFill||E("#335cad").setOpacity(.25).get(),class:"highcharts-selection-marker",zIndex:7}).add()),h&&g&&(c-=w,h.attr({width:_Mathabs(c),x:(0<c?0:c)+w})),h&&n&&(c=d-m,h.attr({height:_Mathabs(c),y:(0<c?0:c)+m})),l&&!h&&e.panning&&b.pan(a,e.panning)))},drop:function drop(a){var b=this,e=this.chart,c=this.hasPinched;if(this.selectionMarker){var d={originalEvent:a,xAxis:[],yAxis:[]},g=this.selectionMarker,n=g.attr?g.attr("x"):g.x,k=g.attr?g.attr("y"):g.y,p=g.attr?g.attr("width"):g.width,v=g.attr?g.attr("height"):g.height,I;if(this.hasDragged||c)l(e.axes,function(e){if(e.zoomEnabled&&f(e.min)&&(c||b[{xAxis:"zoomX",yAxis:"zoomY"}[e.coll]])){var h=e.horiz,g="touchend"===a.type?e.minPixelPadding:0,q=e.toValue((h?n:k)+g),h=e.toValue((h?n+p:k+v)-g);d[e.coll].push({axis:e,min:_Mathmin(q,h),max:_Mathmax(q,h)});I=!0}}),I&&t(e,"selection",d,function(a){e.zoom(r(a,c?{animation:!1}:null))});this.selectionMarker=this.selectionMarker.destroy();c&&this.scaleGroups()}e&&(m(e.container,{cursor:e._cursor}),e.cancelClick=10<this.hasDragged,e.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},onContainerMouseDown:function onContainerMouseDown(a){a=this.normalize(a);this.zoomOption(a);a.preventDefault&&a.preventDefault();this.dragStart(a)},onDocumentMouseUp:function onDocumentMouseUp(b){F[a.hoverChartIndex]&&F[a.hoverChartIndex].pointer.drop(b)},onDocumentMouseMove:function onDocumentMouseMove(a){var b=this.chart,e=this.chartPosition;a=this.normalize(a,e);!e||this.inClass(a.target,"highcharts-tracker")||b.isInsidePlot(a.chartX-b.plotLeft,a.chartY-b.plotTop)||this.reset()},onContainerMouseLeave:function onContainerMouseLeave(b){var e=F[a.hoverChartIndex];e&&(b.relatedTarget||b.toElement)&&(e.pointer.reset(),e.pointer.chartPosition=null)},onContainerMouseMove:function onContainerMouseMove(b){var e=this.chart;f(a.hoverChartIndex)&&F[a.hoverChartIndex]&&F[a.hoverChartIndex].mouseIsDown||(a.hoverChartIndex=e.index);b=this.normalize(b);b.returnValue=!1;"mousedown"===e.mouseIsDown&&this.drag(b);(this.inClass(b.target,"highcharts-tracker")||e.isInsidePlot(b.chartX-e.plotLeft,b.chartY-e.plotTop))&&!e.openMenu&&this.runPointActions(b)},inClass:function inClass(a,b){for(var e;a;){if(e=A(a,"class")){if(-1!==e.indexOf(b))return!0;if(-1!==e.indexOf("highcharts-container"))return!1}a=a.parentNode}},onTrackerMouseOut:function onTrackerMouseOut(a){var b=this.chart.hoverSeries;a=a.relatedTarget||a.toElement;this.isDirectTouch=!1;if(!(!b||!a||b.stickyTracking||this.inClass(a,"highcharts-tooltip")||this.inClass(a,"highcharts-series-"+b.index)&&this.inClass(a,"highcharts-tracker")))b.onMouseOut()},onContainerClick:function onContainerClick(a){var b=this.chart,e=b.hoverPoint,c=b.plotLeft,d=b.plotTop;a=this.normalize(a);b.cancelClick||(e&&this.inClass(a.target,"highcharts-tracker")?(t(e.series,"click",r(a,{point:e})),b.hoverPoint&&e.firePointEvent("click",a)):(r(a,this.getCoordinates(a)),b.isInsidePlot(a.chartX-c,a.chartY-d)&&t(b,"click",a)))},setDOMEvents:function setDOMEvents(){var b=this,e=b.chart.container,d=e.ownerDocument;e.onmousedown=function(a){b.onContainerMouseDown(a)};e.onmousemove=function(a){b.onContainerMouseMove(a)};e.onclick=function(a){b.onContainerClick(a)};C(e,"mouseleave",b.onContainerMouseLeave);1===a.chartCount&&C(d,"mouseup",b.onDocumentMouseUp);a.hasTouch&&(e.ontouchstart=function(a){b.onContainerTouchStart(a)},e.ontouchmove=function(a){b.onContainerTouchMove(a)},1===a.chartCount&&C(d,"touchend",b.onDocumentTouchEnd))},destroy:function destroy(){var e=this,d=this.chart.container.ownerDocument;e.unDocMouseMove&&e.unDocMouseMove();b(e.chart.container,"mouseleave",e.onContainerMouseLeave);a.chartCount||(b(d,"mouseup",e.onDocumentMouseUp),a.hasTouch&&b(d,"touchend",e.onDocumentTouchEnd));clearInterval(e.tooltipTimeout);a.objectEach(e,function(a,b){e[b]=null})}}})(M);(function(a){var C=a.charts,A=a.each,F=a.extend,E=a.map,m=a.noop,f=a.pick;F(a.Pointer.prototype,{pinchTranslate:function pinchTranslate(a,f,m,t,g,d){this.zoomHor&&this.pinchTranslateDirection(!0,a,f,m,t,g,d);this.zoomVert&&this.pinchTranslateDirection(!1,a,f,m,t,g,d)},pinchTranslateDirection:function pinchTranslateDirection(a,f,m,t,g,d,k,b){var e=this.chart,v=a?"x":"y",l=a?"X":"Y",n="chart"+l,r=a?"width":"height",u=e["plot"+(a?"Left":"Top")],c,G,q=b||1,B=e.inverted,K=e.bounds[a?"h":"v"],p=1===f.length,z=f[0][n],I=m[0][n],L=!p&&f[1][n],h=!p&&m[1][n],w;m=function m(){!p&&20<_Mathabs(z-L)&&(q=b||_Mathabs(I-h)/_Mathabs(z-L));G=(u-I)/q+z;c=e["plot"+(a?"Width":"Height")]/q};m();f=G;f<K.min?(f=K.min,w=!0):f+c>K.max&&(f=K.max-c,w=!0);w?(I-=.8*(I-k[v][0]),p||(h-=.8*(h-k[v][1])),m()):k[v]=[I,h];B||(d[v]=G-u,d[r]=c);d=B?1/q:q;g[r]=c;g[v]=f;t[B?a?"scaleY":"scaleX":"scale"+l]=q;t["translate"+l]=d*u+(I-d*z)},pinch:function pinch(a){var l=this,u=l.chart,t=l.pinchDown,g=a.touches,d=g.length,k=l.lastValidTouch,b=l.hasZoom,e=l.selectionMarker,v={},y=1===d&&(l.inClass(a.target,"highcharts-tracker")&&u.runTrackerClick||l.runChartClick),n={};1<d&&(l.initiated=!0);b&&l.initiated&&!y&&a.preventDefault();E(g,function(a){return l.normalize(a)});"touchstart"===a.type?(A(g,function(a,b){t[b]={chartX:a.chartX,chartY:a.chartY}}),k.x=[t[0].chartX,t[1]&&t[1].chartX],k.y=[t[0].chartY,t[1]&&t[1].chartY],A(u.axes,function(a){if(a.zoomEnabled){var b=u.bounds[a.horiz?"h":"v"],e=a.minPixelPadding,d=a.toPixels(f(a.options.min,a.dataMin)),g=a.toPixels(f(a.options.max,a.dataMax)),k=_Mathmax(d,g);b.min=_Mathmin(a.pos,_Mathmin(d,g)-e);b.max=_Mathmax(a.pos+a.len,k+e)}}),l.res=!0):l.followTouchMove&&1===d?this.runPointActions(l.normalize(a)):t.length&&(e||(l.selectionMarker=e=F({destroy:m,touch:!0},u.plotBox)),l.pinchTranslate(t,g,v,e,n,k),l.hasPinched=b,l.scaleGroups(v,n),l.res&&(l.res=!1,this.reset(!1,0)))},touch:function touch(l,m){var r=this.chart,t,g;if(r.index!==a.hoverChartIndex)this.onContainerMouseLeave({relatedTarget:!0});a.hoverChartIndex=r.index;1===l.touches.length?(l=this.normalize(l),(g=r.isInsidePlot(l.chartX-r.plotLeft,l.chartY-r.plotTop))&&!r.openMenu?(m&&this.runPointActions(l),"touchmove"===l.type&&(m=this.pinchDown,t=m[0]?4<=_Mathsqrt(_Mathpow(m[0].chartX-l.chartX,2)+_Mathpow(m[0].chartY-l.chartY,2)):!1),f(t,!0)&&this.pinch(l)):m&&this.reset()):2===l.touches.length&&this.pinch(l)},onContainerTouchStart:function onContainerTouchStart(a){this.zoomOption(a);this.touch(a,!0)},onContainerTouchMove:function onContainerTouchMove(a){this.touch(a)},onDocumentTouchEnd:function onDocumentTouchEnd(f){C[a.hoverChartIndex]&&C[a.hoverChartIndex].pointer.drop(f)}})})(M);(function(a){var C=a.addEvent,A=a.charts,F=a.css,E=a.doc,m=a.extend,f=a.noop,l=a.Pointer,r=a.removeEvent,u=a.win,t=a.wrap;if(!a.hasTouch&&(u.PointerEvent||u.MSPointerEvent)){var g={},d=!!u.PointerEvent,k=function k(){var b=[];b.item=function(a){return this[a]};a.objectEach(g,function(a){b.push({pageX:a.pageX,pageY:a.pageY,target:a.target})});return b},b=function b(_b,d,g,n){("touch"===_b.pointerType||_b.pointerType===_b.MSPOINTER_TYPE_TOUCH)&&A[a.hoverChartIndex]&&(n(_b),n=A[a.hoverChartIndex].pointer,n[d]({type:g,target:_b.currentTarget,preventDefault:f,touches:k()}))};m(l.prototype,{onContainerPointerDown:function onContainerPointerDown(a){b(a,"onContainerTouchStart","touchstart",function(a){g[a.pointerId]={pageX:a.pageX,pageY:a.pageY,target:a.currentTarget}})},onContainerPointerMove:function onContainerPointerMove(a){b(a,"onContainerTouchMove","touchmove",function(a){g[a.pointerId]={pageX:a.pageX,pageY:a.pageY};g[a.pointerId].target||(g[a.pointerId].target=a.currentTarget)})},onDocumentPointerUp:function onDocumentPointerUp(a){b(a,"onDocumentTouchEnd","touchend",function(a){delete g[a.pointerId]})},batchMSEvents:function batchMSEvents(a){a(this.chart.container,d?"pointerdown":"MSPointerDown",this.onContainerPointerDown);a(this.chart.container,d?"pointermove":"MSPointerMove",this.onContainerPointerMove);a(E,d?"pointerup":"MSPointerUp",this.onDocumentPointerUp)}});t(l.prototype,"init",function(a,b,d){a.call(this,b,d);this.hasZoom&&F(b.container,{"-ms-touch-action":"none","touch-action":"none"})});t(l.prototype,"setDOMEvents",function(a){a.apply(this);(this.hasZoom||this.followTouchMove)&&this.batchMSEvents(C)});t(l.prototype,"destroy",function(a){this.batchMSEvents(r);a.call(this)})}})(M);(function(a){var C=a.addEvent,A=a.css,F=a.discardElement,E=a.defined,m=a.each,f=a.isFirefox,l=a.marginNames,r=a.merge,u=a.pick,t=a.setAnimation,g=a.stableSort,d=a.win,k=a.wrap;a.Legend=function(a,e){this.init(a,e)};a.Legend.prototype={init:function init(a,e){this.chart=a;this.setOptions(e);e.enabled&&(this.render(),C(this.chart,"endResize",function(){this.legend.positionCheckboxes()}))},setOptions:function setOptions(a){var b=u(a.padding,8);this.options=a;this.itemStyle=a.itemStyle;this.itemHiddenStyle=r(this.itemStyle,a.itemHiddenStyle);this.itemMarginTop=a.itemMarginTop||0;this.padding=b;this.initialItemY=b-5;this.itemHeight=this.maxItemWidth=0;this.symbolWidth=u(a.symbolWidth,16);this.pages=[]},update:function update(a,e){var b=this.chart;this.setOptions(r(!0,this.options,a));this.destroy();b.isDirtyLegend=b.isDirtyBox=!0;u(e,!0)&&b.redraw()},colorizeItem:function colorizeItem(a,e){a.legendGroup[e?"removeClass":"addClass"]("highcharts-legend-item-hidden");var b=this.options,d=a.legendItem,g=a.legendLine,f=a.legendSymbol,k=this.itemHiddenStyle.color,b=e?b.itemStyle.color:k,c=e?a.color||k:k,l=a.options&&a.options.marker,q={fill:c};d&&d.css({fill:b,color:b});g&&g.attr({stroke:c});f&&(l&&f.isMarker&&(q=a.pointAttribs(),e||(q.stroke=q.fill=k)),f.attr(q))},positionItem:function positionItem(a){var b=this.options,d=b.symbolPadding,b=!b.rtl,g=a._legendItemPos,f=g[0],g=g[1],k=a.checkbox;(a=a.legendGroup)&&a.element&&a.translate(b?f:this.legendWidth-f-2*d-4,g);k&&(k.x=f,k.y=g)},destroyItem:function destroyItem(a){var b=a.checkbox;m(["legendItem","legendLine","legendSymbol","legendGroup"],function(b){a[b]&&(a[b]=a[b].destroy())});b&&F(a.checkbox)},destroy:function destroy(){function a(a){this[a]&&(this[a]=this[a].destroy())}m(this.getAllItems(),function(b){m(["legendItem","legendGroup"],a,b)});m("clipRect up down pager nav box title group".split(" "),a,this);this.display=null},positionCheckboxes:function positionCheckboxes(a){var b=this.group&&this.group.alignAttr,d,g=this.clipHeight||this.legendHeight,f=this.titleHeight;b&&(d=b.translateY,m(this.allItems,function(e){var k=e.checkbox,c;k&&(c=d+f+k.y+(a||0)+3,A(k,{left:b.translateX+e.checkboxOffset+k.x-20+"px",top:c+"px",display:c>d-6&&c<d+g-6?"":"none"}))}))},renderTitle:function renderTitle(){var a=this.options,e=this.padding,d=a.title,g=0;d.text&&(this.title||(this.title=this.chart.renderer.label(d.text,e-3,e-4,null,null,null,a.useHTML,null,"legend-title").attr({zIndex:1}).css(d.style).add(this.group)),a=this.title.getBBox(),g=a.height,this.offsetWidth=a.width,this.contentGroup.attr({translateY:g}));this.titleHeight=g},setText:function setText(b){var e=this.options;b.legendItem.attr({text:e.labelFormat?a.format(e.labelFormat,b):e.labelFormatter.call(b)})},renderItem:function renderItem(a){var b=this.chart,d=b.renderer,g=this.options,f="horizontal"===g.layout,k=this.symbolWidth,l=g.symbolPadding,c=this.itemStyle,m=this.itemHiddenStyle,q=this.padding,B=f?u(g.itemDistance,20):0,t=!g.rtl,p=g.width,z=g.itemMarginBottom||0,I=this.itemMarginTop,L=a.legendItem,h=!a.series,w=!h&&a.series.drawLegendSymbol?a.series:a,P=w.options,H=this.createCheckboxForItem&&P&&P.showCheckbox,P=k+l+B+(H?20:0),O=g.useHTML,A=a.options.className;L||(a.legendGroup=d.g("legend-item").addClass("highcharts-"+w.type+"-series highcharts-color-"+a.colorIndex+(A?" "+A:"")+(h?" highcharts-series-"+a.index:"")).attr({zIndex:1}).add(this.scrollGroup),a.legendItem=L=d.text("",t?k+l:-l,this.baseline||0,O).css(r(a.visible?c:m)).attr({align:t?"left":"right",zIndex:2}).add(a.legendGroup),this.baseline||(k=c.fontSize,this.fontMetrics=d.fontMetrics(k,L),this.baseline=this.fontMetrics.f+3+I,L.attr("y",this.baseline)),this.symbolHeight=g.symbolHeight||this.fontMetrics.f,w.drawLegendSymbol(this,a),this.setItemEvents&&this.setItemEvents(a,L,O),H&&this.createCheckboxForItem(a));this.colorizeItem(a,a.visible);c.width||L.css({width:(g.itemWidth||g.width||b.spacingBox.width)-P});this.setText(a);d=L.getBBox();c=a.checkboxOffset=g.itemWidth||a.legendItemWidth||d.width+P;this.itemHeight=d=_Mathround(a.legendItemHeight||d.height||this.symbolHeight);f&&this.itemX-q+c>(p||b.spacingBox.width-2*q-g.x)&&(this.itemX=q,this.itemY+=I+this.lastLineHeight+z,this.lastLineHeight=0);this.maxItemWidth=_Mathmax(this.maxItemWidth,c);this.lastItemY=I+this.itemY+z;this.lastLineHeight=_Mathmax(d,this.lastLineHeight);a._legendItemPos=[this.itemX,this.itemY];f?this.itemX+=c:(this.itemY+=I+d+z,this.lastLineHeight=d);this.offsetWidth=p||_Mathmax((f?this.itemX-q-(a.checkbox?0:B):c)+q,this.offsetWidth)},getAllItems:function getAllItems(){var a=[];m(this.chart.series,function(b){var e=b&&b.options;b&&u(e.showInLegend,E(e.linkedTo)?!1:void 0,!0)&&(a=a.concat(b.legendItems||("point"===e.legendType?b.data:b)))});return a},adjustMargins:function adjustMargins(a,e){var b=this.chart,d=this.options,g=d.align.charAt(0)+d.verticalAlign.charAt(0)+d.layout.charAt(0);d.floating||m([/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/],function(f,k){f.test(g)&&!E(a[k])&&(b[l[k]]=_Mathmax(b[l[k]],b.legend[(k+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][k]*d[k%2?"x":"y"]+u(d.margin,12)+e[k]))})},render:function render(){var a=this,e=a.chart,d=e.renderer,f=a.group,k,l,t,c,u=a.box,q=a.options,B=a.padding;a.itemX=B;a.itemY=a.initialItemY;a.offsetWidth=0;a.lastItemY=0;f||(a.group=f=d.g("legend").attr({zIndex:7}).add(),a.contentGroup=d.g().attr({zIndex:1}).add(f),a.scrollGroup=d.g().add(a.contentGroup));a.renderTitle();k=a.getAllItems();g(k,function(a,b){return(a.options&&a.options.legendIndex||0)-(b.options&&b.options.legendIndex||0)});q.reversed&&k.reverse();a.allItems=k;a.display=l=!!k.length;a.lastLineHeight=0;m(k,function(b){a.renderItem(b)});t=(q.width||a.offsetWidth)+B;c=a.lastItemY+a.lastLineHeight+a.titleHeight;c=a.handleOverflow(c);c+=B;u||(a.box=u=d.rect().addClass("highcharts-legend-box").attr({r:q.borderRadius}).add(f),u.isNew=!0);u.attr({stroke:q.borderColor,"stroke-width":q.borderWidth||0,fill:q.backgroundColor||"none"}).shadow(q.shadow);0<t&&0<c&&(u[u.isNew?"attr":"animate"](u.crisp({x:0,y:0,width:t,height:c},u.strokeWidth())),u.isNew=!1);u[l?"show":"hide"]();a.legendWidth=t;a.legendHeight=c;m(k,function(b){a.positionItem(b)});l&&f.align(r(q,{width:t,height:c}),!0,"spacingBox");e.isResizing||this.positionCheckboxes()},handleOverflow:function handleOverflow(a){var b=this,d=this.chart,g=d.renderer,f=this.options,k=f.y,l=this.padding,d=d.spacingBox.height+("top"===f.verticalAlign?-k:k)-l,k=f.maxHeight,c,r=this.clipRect,q=f.navigation,B=u(q.animation,!0),t=q.arrowSize||12,p=this.nav,z=this.pages,I,L=this.allItems,h=function h(a){"number"===typeof a?r.attr({height:a}):r&&(b.clipRect=r.destroy(),b.contentGroup.clip());b.contentGroup.div&&(b.contentGroup.div.style.clip=a?"rect("+l+"px,9999px,"+(l+a)+"px,0)":"auto")};"horizontal"!==f.layout||"middle"===f.verticalAlign||f.floating||(d/=2);k&&(d=_Mathmin(d,k));z.length=0;a>d&&!1!==q.enabled?(this.clipHeight=c=_Mathmax(d-20-this.titleHeight-l,0),this.currentPage=u(this.currentPage,1),this.fullHeight=a,m(L,function(a,b){var e=a._legendItemPos[1];a=_Mathround(a.legendItem.getBBox().height);var d=z.length;if(!d||e-z[d-1]>c&&(I||e)!==z[d-1])z.push(I||e),d++;b===L.length-1&&e+a-z[d-1]>c&&z.push(e);e!==I&&(I=e)}),r||(r=b.clipRect=g.clipRect(0,l,9999,0),b.contentGroup.clip(r)),h(c),p||(this.nav=p=g.g().attr({zIndex:1}).add(this.group),this.up=g.symbol("triangle",0,0,t,t).on("click",function(){b.scroll(-1,B)}).add(p),this.pager=g.text("",15,10).addClass("highcharts-legend-navigation").css(q.style).add(p),this.down=g.symbol("triangle-down",0,0,t,t).on("click",function(){b.scroll(1,B)}).add(p)),b.scroll(0),a=d):p&&(h(),this.nav=p.destroy(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0);return a},scroll:function scroll(a,e){var b=this.pages,d=b.length;a=this.currentPage+a;var g=this.clipHeight,f=this.options.navigation,k=this.pager,c=this.padding;a>d&&(a=d);0<a&&(void 0!==e&&t(e,this.chart),this.nav.attr({translateX:c,translateY:g+this.padding+7+this.titleHeight,visibility:"visible"}),this.up.attr({class:1===a?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"}),k.attr({text:a+"/"+d}),this.down.attr({x:18+this.pager.getBBox().width,class:a===d?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"}),this.up.attr({fill:1===a?f.inactiveColor:f.activeColor}).css({cursor:1===a?"default":"pointer"}),this.down.attr({fill:a===d?f.inactiveColor:f.activeColor}).css({cursor:a===d?"default":"pointer"}),e=-b[a-1]+this.initialItemY,this.scrollGroup.animate({translateY:e}),this.currentPage=a,this.positionCheckboxes(e))}};a.LegendSymbolMixin={drawRectangle:function drawRectangle(a,e){var b=a.symbolHeight,d=a.options.squareSymbol;e.legendSymbol=this.chart.renderer.rect(d?(a.symbolWidth-b)/2:0,a.baseline-b+1,d?b:a.symbolWidth,b,u(a.options.symbolRadius,b/2)).addClass("highcharts-point").attr({zIndex:3}).add(e.legendGroup)},drawLineMarker:function drawLineMarker(a){var b=this.options,d=b.marker,g=a.symbolWidth,f=a.symbolHeight,k=f/2,l=this.chart.renderer,c=this.legendGroup;a=a.baseline-_Mathround(.3*a.fontMetrics.b);var m;m={"stroke-width":b.lineWidth||0};b.dashStyle&&(m.dashstyle=b.dashStyle);this.legendLine=l.path(["M",0,a,"L",g,a]).addClass("highcharts-graph").attr(m).add(c);d&&!1!==d.enabled&&(b=_Mathmin(u(d.radius,k),k),0===this.symbol.indexOf("url")&&(d=r(d,{width:f,height:f}),b=0),this.legendSymbol=d=l.symbol(this.symbol,g/2-b,a-b,2*b,2*b,d).addClass("highcharts-point").add(c),d.isMarker=!0)}};(/Trident\/7\.0/.test(d.navigator.userAgent)||f)&&k(a.Legend.prototype,"positionItem",function(a,e){var b=this,d=function d(){e._legendItemPos&&a.call(b,e)};d();setTimeout(d)})})(M);(function(a){var C=a.addEvent,A=a.animate,F=a.animObject,E=a.attr,m=a.doc,f=a.Axis,l=a.createElement,r=a.defaultOptions,u=a.discardElement,t=a.charts,g=a.css,d=a.defined,k=a.each,b=a.extend,e=a.find,v=a.fireEvent,y=a.getStyle,n=a.grep,D=a.isNumber,J=a.isObject,c=a.isString,G=a.Legend,q=a.marginNames,B=a.merge,K=a.objectEach,p=a.Pointer,z=a.pick,I=a.pInt,L=a.removeEvent,h=a.seriesTypes,w=a.splat,P=a.svg,H=a.syncTimeout,O=a.win,Q=a.Renderer,R=a.Chart=function(){this.getArgs.apply(this,arguments)};a.chart=function(a,b,c){return new R(a,b,c)};b(R.prototype,{callbacks:[],getArgs:function getArgs(){var a=[].slice.call(arguments);if(c(a[0])||a[0].nodeName)this.renderTo=a.shift();this.init(a[0],a[1])},init:function init(b,c){var e,d,h=b.series,p=b.plotOptions||{};b.series=null;e=B(r,b);for(d in e.plotOptions){e.plotOptions[d].tooltip=p[d]&&B(p[d].tooltip)||void 0}e.tooltip.userOptions=b.chart&&b.chart.forExport&&b.tooltip.userOptions||b.tooltip;e.series=b.series=h;this.userOptions=b;b=e.chart;d=b.events;this.margin=[];this.spacing=[];this.bounds={h:{},v:{}};this.callback=c;this.isResizing=0;this.options=e;this.axes=[];this.series=[];this.hasCartesianSeries=b.showAxes;var g=this;g.index=t.length;t.push(g);a.chartCount++;d&&K(d,function(a,b){C(g,b,a)});g.xAxis=[];g.yAxis=[];g.pointCount=g.colorCounter=g.symbolCounter=0;g.firstRender()},initSeries:function initSeries(b){var c=this.options.chart;(c=h[b.type||c.type||c.defaultSeriesType])||a.error(17,!0);c=new c;c.init(this,b);return c},orderSeries:function orderSeries(a){var b=this.series;for(a=a||0;a<b.length;a++){b[a]&&(b[a].index=a,b[a].name=b[a].name||"Series "+(b[a].index+1))}},isInsidePlot:function isInsidePlot(a,b,c){var e=c?b:a;a=c?a:b;return 0<=e&&e<=this.plotWidth&&0<=a&&a<=this.plotHeight},redraw:function redraw(c){var e=this.axes,d=this.series,h=this.pointer,p=this.legend,g=this.isDirtyLegend,f,q,l=this.hasCartesianSeries,n=this.isDirtyBox,z,m=this.renderer,x=m.isHidden(),w=[];this.setResponsive&&this.setResponsive(!1);a.setAnimation(c,this);x&&this.temporaryDisplay();this.layOutTitles();for(c=d.length;c--;){if(z=d[c],z.options.stacking&&(f=!0,z.isDirty)){q=!0;break}}if(q)for(c=d.length;c--;){z=d[c],z.options.stacking&&(z.isDirty=!0)}k(d,function(a){a.isDirty&&"point"===a.options.legendType&&(a.updateTotals&&a.updateTotals(),g=!0);a.isDirtyData&&v(a,"updatedData")});g&&p.options.enabled&&(p.render(),this.isDirtyLegend=!1);f&&this.getStacks();l&&k(e,function(a){a.updateNames();a.setScale()});this.getMargins();l&&(k(e,function(a){a.isDirty&&(n=!0)}),k(e,function(a){var c=a.min+","+a.max;a.extKey!==c&&(a.extKey=c,w.push(function(){v(a,"afterSetExtremes",b(a.eventArgs,a.getExtremes()));delete a.eventArgs}));(n||f)&&a.redraw()}));n&&this.drawChartBox();v(this,"predraw");k(d,function(a){(n||a.isDirty)&&a.visible&&a.redraw();a.isDirtyData=!1});h&&h.reset(!0);m.draw();v(this,"redraw");v(this,"render");x&&this.temporaryDisplay(!0);k(w,function(a){a.call()})},get:function get(a){function b(b){return b.id===a||b.options&&b.options.id===a}var c,d=this.series,h;c=e(this.axes,b)||e(this.series,b);for(h=0;!c&&h<d.length;h++){c=e(d[h].points||[],b)}return c},getAxes:function getAxes(){var a=this,b=this.options,c=b.xAxis=w(b.xAxis||{}),b=b.yAxis=w(b.yAxis||{});k(c,function(a,b){a.index=b;a.isX=!0});k(b,function(a,b){a.index=b});c=c.concat(b);k(c,function(b){new f(a,b)})},getSelectedPoints:function getSelectedPoints(){var a=[];k(this.series,function(b){a=a.concat(n(b.data||[],function(a){return a.selected}))});return a},getSelectedSeries:function getSelectedSeries(){return n(this.series,function(a){return a.selected})},setTitle:function setTitle(a,b,c){var e=this,d=e.options,h;h=d.title=B({style:{color:"#333333",fontSize:d.isStock?"16px":"18px"}},d.title,a);d=d.subtitle=B({style:{color:"#666666"}},d.subtitle,b);k([["title",a,h],["subtitle",b,d]],function(a,b){var c=a[0],d=e[c],h=a[1];a=a[2];d&&h&&(e[c]=d=d.destroy());a&&a.text&&!d&&(e[c]=e.renderer.text(a.text,0,0,a.useHTML).attr({align:a.align,class:"highcharts-"+c,zIndex:a.zIndex||4}).add(),e[c].update=function(a){e.setTitle(!b&&a,b&&a)},e[c].css(a.style))});e.layOutTitles(c)},layOutTitles:function layOutTitles(a){var c=0,e,d=this.renderer,h=this.spacingBox;k(["title","subtitle"],function(a){var e=this[a],p=this.options[a];a="title"===a?-3:p.verticalAlign?0:c+2;var g;e&&(g=p.style.fontSize,g=d.fontMetrics(g,e).b,e.css({width:(p.width||h.width+p.widthAdjust)+"px"}).align(b({y:a+g},p),!1,"spacingBox"),p.floating||p.verticalAlign||(c=_Mathceil(c+e.getBBox(p.useHTML).height)))},this);e=this.titleOffset!==c;this.titleOffset=c;!this.isDirtyBox&&e&&(this.isDirtyBox=e,this.hasRendered&&z(a,!0)&&this.isDirtyBox&&this.redraw())},getChartSize:function getChartSize(){var b=this.options.chart,c=b.width,b=b.height,e=this.renderTo;d(c)||(this.containerWidth=y(e,"width"));d(b)||(this.containerHeight=y(e,"height"));this.chartWidth=_Mathmax(0,c||this.containerWidth||600);this.chartHeight=_Mathmax(0,a.relativeLength(b,this.chartWidth)||this.containerHeight||400)},temporaryDisplay:function temporaryDisplay(b){var c=this.renderTo;if(b)for(;c&&c.style;){c.hcOrigStyle&&(a.css(c,c.hcOrigStyle),delete c.hcOrigStyle),c.hcOrigDetached&&(m.body.removeChild(c),c.hcOrigDetached=!1),c=c.parentNode}else for(;c&&c.style;){m.body.contains(c)||(c.hcOrigDetached=!0,m.body.appendChild(c));if("none"===y(c,"display",!1)||c.hcOricDetached)c.hcOrigStyle={display:c.style.display,height:c.style.height,overflow:c.style.overflow},b={display:"block",overflow:"hidden"},c!==this.renderTo&&(b.height=0),a.css(c,b),c.offsetWidth||c.style.setProperty("display","block","important");c=c.parentNode;if(c===m.body)break}},setClassName:function setClassName(a){this.container.className="highcharts-container "+(a||"")},getContainer:function getContainer(){var e,d=this.options,h=d.chart,p,g;e=this.renderTo;var f=a.uniqueKey(),k;e||(this.renderTo=e=h.renderTo);c(e)&&(this.renderTo=e=m.getElementById(e));e||a.error(13,!0);p=I(E(e,"data-highcharts-chart"));D(p)&&t[p]&&t[p].hasRendered&&t[p].destroy();E(e,"data-highcharts-chart",this.index);e.innerHTML="";h.skipClone||e.offsetWidth||this.temporaryDisplay();this.getChartSize();p=this.chartWidth;g=this.chartHeight;k=b({position:"relative",overflow:"hidden",width:p+"px",height:g+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)"},h.style);this.container=e=l("div",{id:f},k,e);this._cursor=e.style.cursor;this.renderer=new(a[h.renderer]||Q)(e,p,g,null,h.forExport,d.exporting&&d.exporting.allowHTML);this.setClassName(h.className);this.renderer.setStyle(h.style);this.renderer.chartIndex=this.index},getMargins:function getMargins(a){var b=this.spacing,c=this.margin,e=this.titleOffset;this.resetMargins();e&&!d(c[0])&&(this.plotTop=_Mathmax(this.plotTop,e+this.options.title.margin+b[0]));this.legend.display&&this.legend.adjustMargins(c,b);this.extraMargin&&(this[this.extraMargin.type]=(this[this.extraMargin.type]||0)+this.extraMargin.value);this.extraTopMargin&&(this.plotTop+=this.extraTopMargin);a||this.getAxisMargins()},getAxisMargins:function getAxisMargins(){var a=this,b=a.axisOffset=[0,0,0,0],c=a.margin;a.hasCartesianSeries&&k(a.axes,function(a){a.visible&&a.getOffset()});k(q,function(e,h){d(c[h])||(a[e]+=b[h])});a.setChartSize()},reflow:function reflow(a){var b=this,c=b.options.chart,e=b.renderTo,h=d(c.width)&&d(c.height),p=c.width||y(e,"width"),c=c.height||y(e,"height"),e=a?a.target:O;if(!h&&!b.isPrinting&&p&&c&&(e===O||e===m)){if(p!==b.containerWidth||c!==b.containerHeight)clearTimeout(b.reflowTimeout),b.reflowTimeout=H(function(){b.container&&b.setSize(void 0,void 0,!1)},a?100:0);b.containerWidth=p;b.containerHeight=c}},initReflow:function initReflow(){var a=this,b;b=C(O,"resize",function(b){a.reflow(b)});C(a,"destroy",b)},setSize:function setSize(b,c,e){var d=this,h=d.renderer;d.isResizing+=1;a.setAnimation(e,d);d.oldChartHeight=d.chartHeight;d.oldChartWidth=d.chartWidth;void 0!==b&&(d.options.chart.width=b);void 0!==c&&(d.options.chart.height=c);d.getChartSize();b=h.globalAnimation;(b?A:g)(d.container,{width:d.chartWidth+"px",height:d.chartHeight+"px"},b);d.setChartSize(!0);h.setSize(d.chartWidth,d.chartHeight,e);k(d.axes,function(a){a.isDirty=!0;a.setScale()});d.isDirtyLegend=!0;d.isDirtyBox=!0;d.layOutTitles();d.getMargins();d.redraw(e);d.oldChartHeight=null;v(d,"resize");H(function(){d&&v(d,"endResize",null,function(){--d.isResizing})},F(b).duration)},setChartSize:function setChartSize(a){function b(a){a=f[a]||0;return _Mathmax(m||a,a)/2}var c=this.inverted,e=this.renderer,d=this.chartWidth,h=this.chartHeight,p=this.options.chart,g=this.spacing,f=this.clipOffset,q,n,l,z,m;this.plotLeft=q=_Mathround(this.plotLeft);this.plotTop=n=_Mathround(this.plotTop);this.plotWidth=l=_Mathmax(0,_Mathround(d-q-this.marginRight));this.plotHeight=z=_Mathmax(0,_Mathround(h-n-this.marginBottom));this.plotSizeX=c?z:l;this.plotSizeY=c?l:z;this.plotBorderWidth=p.plotBorderWidth||0;this.spacingBox=e.spacingBox={x:g[3],y:g[0],width:d-g[3]-g[1],height:h-g[0]-g[2]};this.plotBox=e.plotBox={x:q,y:n,width:l,height:z};m=2*_Mathfloor(this.plotBorderWidth/2);c=_Mathceil(b(3));e=_Mathceil(b(0));this.clipBox={x:c,y:e,width:_Mathfloor(this.plotSizeX-b(1)-c),height:_Mathmax(0,_Mathfloor(this.plotSizeY-b(2)-e))};a||k(this.axes,function(a){a.setAxisSize();a.setAxisTranslation()})},resetMargins:function resetMargins(){var a=this,b=a.options.chart;k(["margin","spacing"],function(c){var e=b[c],d=J(e)?e:[e,e,e,e];k(["Top","Right","Bottom","Left"],function(e,h){a[c][h]=z(b[c+e],d[h])})});k(q,function(b,c){a[b]=z(a.margin[c],a.spacing[c])});a.axisOffset=[0,0,0,0];a.clipOffset=[]},drawChartBox:function drawChartBox(){var a=this.options.chart,b=this.renderer,c=this.chartWidth,e=this.chartHeight,d=this.chartBackground,h=this.plotBackground,p=this.plotBorder,g,f=this.plotBGImage,k=a.backgroundColor,q=a.plotBackgroundColor,l=a.plotBackgroundImage,n,z=this.plotLeft,m=this.plotTop,w=this.plotWidth,I=this.plotHeight,v=this.plotBox,r=this.clipRect,B=this.clipBox,y="animate";d||(this.chartBackground=d=b.rect().addClass("highcharts-background").add(),y="attr");g=a.borderWidth||0;n=g+(a.shadow?8:0);k={fill:k||"none"};if(g||d["stroke-width"])k.stroke=a.borderColor,k["stroke-width"]=g;d.attr(k).shadow(a.shadow);d[y]({x:n/2,y:n/2,width:c-n-g%2,height:e-n-g%2,r:a.borderRadius});y="animate";h||(y="attr",this.plotBackground=h=b.rect().addClass("highcharts-plot-background").add());h[y](v);h.attr({fill:q||"none"}).shadow(a.plotShadow);l&&(f?f.animate(v):this.plotBGImage=b.image(l,z,m,w,I).add());r?r.animate({width:B.width,height:B.height}):this.clipRect=b.clipRect(B);y="animate";p||(y="attr",this.plotBorder=p=b.rect().addClass("highcharts-plot-border").attr({zIndex:1}).add());p.attr({stroke:a.plotBorderColor,"stroke-width":a.plotBorderWidth||0,fill:"none"});p[y](p.crisp({x:z,y:m,width:w,height:I},-p.strokeWidth()));this.isDirtyBox=!1},propFromSeries:function propFromSeries(){var a=this,b=a.options.chart,c,e=a.options.series,d,p;k(["inverted","angular","polar"],function(g){c=h[b.type||b.defaultSeriesType];p=b[g]||c&&c.prototype[g];for(d=e&&e.length;!p&&d--;){(c=h[e[d].type])&&c.prototype[g]&&(p=!0)}a[g]=p})},linkSeries:function linkSeries(){var a=this,b=a.series;k(b,function(a){a.linkedSeries.length=0});k(b,function(b){var e=b.options.linkedTo;c(e)&&(e=":previous"===e?a.series[b.index-1]:a.get(e))&&e.linkedParent!==b&&(e.linkedSeries.push(b),b.linkedParent=e,b.visible=z(b.options.visible,e.options.visible,b.visible))})},renderSeries:function renderSeries(){k(this.series,function(a){a.translate();a.render()})},renderLabels:function renderLabels(){var a=this,c=a.options.labels;c.items&&k(c.items,function(e){var d=b(c.style,e.style),h=I(d.left)+a.plotLeft,p=I(d.top)+a.plotTop+12;delete d.left;delete d.top;a.renderer.text(e.html,h,p).attr({zIndex:2}).css(d).add()})},render:function render(){var a=this.axes,b=this.renderer,c=this.options,e,d,h;this.setTitle();this.legend=new G(this,c.legend);this.getStacks&&this.getStacks();this.getMargins(!0);this.setChartSize();c=this.plotWidth;e=this.plotHeight-=21;k(a,function(a){a.setScale()});this.getAxisMargins();d=1.1<c/this.plotWidth;h=1.05<e/this.plotHeight;if(d||h)k(a,function(a){(a.horiz&&d||!a.horiz&&h)&&a.setTickInterval(!0)}),this.getMargins();this.drawChartBox();this.hasCartesianSeries&&k(a,function(a){a.visible&&a.render()});this.seriesGroup||(this.seriesGroup=b.g("series-group").attr({zIndex:3}).add());this.renderSeries();this.renderLabels();this.addCredits();this.setResponsive&&this.setResponsive();this.hasRendered=!0},addCredits:function addCredits(a){var b=this;a=B(!0,this.options.credits,a);a.enabled&&!this.credits&&(this.credits=this.renderer.text(a.text+(this.mapCredits||""),0,0).addClass("highcharts-credits").on("click",function(){a.href&&(O.location.href=a.href)}).attr({align:a.position.align,zIndex:8}).css(a.style).add().align(a.position),this.credits.update=function(a){b.credits=b.credits.destroy();b.addCredits(a)})},destroy:function destroy(){var b=this,c=b.axes,e=b.series,d=b.container,h,p=d&&d.parentNode;v(b,"destroy");b.renderer.forExport?a.erase(t,b):t[b.index]=void 0;a.chartCount--;b.renderTo.removeAttribute("data-highcharts-chart");L(b);for(h=c.length;h--;){c[h]=c[h].destroy()}this.scroller&&this.scroller.destroy&&this.scroller.destroy();for(h=e.length;h--;){e[h]=e[h].destroy()}k("title subtitle chartBackground plotBackground plotBGImage plotBorder seriesGroup clipRect credits pointer rangeSelector legend resetZoomButton tooltip renderer".split(" "),function(a){var c=b[a];c&&c.destroy&&(b[a]=c.destroy())});d&&(d.innerHTML="",L(d),p&&u(d));K(b,function(a,c){delete b[c]})},isReadyToRender:function isReadyToRender(){var a=this;return P||O!=O.top||"complete"===m.readyState?!0:(m.attachEvent("onreadystatechange",function(){m.detachEvent("onreadystatechange",a.firstRender);"complete"===m.readyState&&a.firstRender()}),!1)},firstRender:function firstRender(){var a=this,b=a.options;if(a.isReadyToRender()){a.getContainer();v(a,"init");a.resetMargins();a.setChartSize();a.propFromSeries();a.getAxes();k(b.series||[],function(b){a.initSeries(b)});a.linkSeries();v(a,"beforeRender");p&&(a.pointer=new p(a,b));a.render();if(!a.renderer.imgCount&&a.onload)a.onload();a.temporaryDisplay(!0)}},onload:function onload(){k([this.callback].concat(this.callbacks),function(a){a&&void 0!==this.index&&a.apply(this,[this])},this);v(this,"load");v(this,"render");d(this.index)&&!1!==this.options.chart.reflow&&this.initReflow();this.onload=null}})})(M);(function(a){var C,A=a.each,F=a.extend,E=a.erase,m=a.fireEvent,f=a.format,l=a.isArray,r=a.isNumber,u=a.pick,t=a.removeEvent;a.Point=C=function C(){};a.Point.prototype={init:function init(a,d,f){this.series=a;this.color=a.color;this.applyOptions(d,f);a.options.colorByPoint?(d=a.options.colors||a.chart.options.colors,this.color=this.color||d[a.colorCounter],d=d.length,f=a.colorCounter,a.colorCounter++,a.colorCounter===d&&(a.colorCounter=0)):f=a.colorIndex;this.colorIndex=u(this.colorIndex,f);a.chart.pointCount++;return this},applyOptions:function applyOptions(a,d){var g=this.series,b=g.options.pointValKey||g.pointValKey;a=C.prototype.optionsToObject.call(this,a);F(this,a);this.options=this.options?F(this.options,a):a;a.group&&delete this.group;b&&(this.y=this[b]);this.isNull=u(this.isValid&&!this.isValid(),null===this.x||!r(this.y,!0));this.selected&&(this.state="select");"name"in this&&void 0===d&&g.xAxis&&g.xAxis.hasNames&&(this.x=g.xAxis.nameToX(this));void 0===this.x&&g&&(this.x=void 0===d?g.autoIncrement(this):d);return this},optionsToObject:function optionsToObject(a){var d={},g=this.series,b=g.options.keys,e=b||g.pointArrayMap||["y"],f=e.length,m=0,n=0;if(r(a)||null===a)d[e[0]]=a;else if(l(a))for(!b&&a.length>f&&(g=babelHelpers.typeof(a[0]),"string"===g?d.name=a[0]:"number"===g&&(d.x=a[0]),m++);n<f;){b&&void 0===a[m]||(d[e[n]]=a[m]),m++,n++}else"object"===babelHelpers.typeof(a)&&(d=a,a.dataLabels&&(g._hasPointLabels=!0),a.marker&&(g._hasPointMarkers=!0));return d},getClassName:function getClassName(){return"highcharts-point"+(this.selected?" highcharts-point-select":"")+(this.negative?" highcharts-negative":"")+(this.isNull?" highcharts-null-point":"")+(void 0!==this.colorIndex?" highcharts-color-"+this.colorIndex:"")+(this.options.className?" "+this.options.className:"")+(this.zone&&this.zone.className?" "+this.zone.className.replace("highcharts-negative",""):"")},getZone:function getZone(){var a=this.series,d=a.zones,a=a.zoneAxis||"y",f=0,b;for(b=d[f];this[a]>=b.value;){b=d[++f]}b&&b.color&&!this.options.color&&(this.color=b.color);return b},destroy:function destroy(){var a=this.series.chart,d=a.hoverPoints,f;a.pointCount--;d&&(this.setState(),E(d,this),d.length||(a.hoverPoints=null));if(this===a.hoverPoint)this.onMouseOut();if(this.graphic||this.dataLabel)t(this),this.destroyElements();this.legendItem&&a.legend.destroyItem(this);for(f in this){this[f]=null}},destroyElements:function destroyElements(){for(var a=["graphic","dataLabel","dataLabelUpper","connector","shadowGroup"],d,f=6;f--;){d=a[f],this[d]&&(this[d]=this[d].destroy())}},getLabelConfig:function getLabelConfig(){return{x:this.category,y:this.y,color:this.color,colorIndex:this.colorIndex,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},tooltipFormatter:function tooltipFormatter(a){var d=this.series,g=d.tooltipOptions,b=u(g.valueDecimals,""),e=g.valuePrefix||"",l=g.valueSuffix||"";A(d.pointArrayMap||["y"],function(d){d="{point."+d;if(e||l)a=a.replace(d+"}",e+d+"}"+l);a=a.replace(d+"}",d+":,."+b+"f}")});return f(a,{point:this,series:this.series})},firePointEvent:function firePointEvent(a,d,f){var b=this,e=this.series.options;(e.point.events[a]||b.options&&b.options.events&&b.options.events[a])&&this.importEvents();"click"===a&&e.allowPointSelect&&(f=function f(a){b.select&&b.select(null,a.ctrlKey||a.metaKey||a.shiftKey)});m(this,a,d,f)},visible:!0}})(M);(function(a){var C=a.addEvent,A=a.animObject,F=a.arrayMax,E=a.arrayMin,m=a.correctFloat,f=a.Date,l=a.defaultOptions,r=a.defaultPlotOptions,u=a.defined,t=a.each,g=a.erase,d=a.extend,k=a.fireEvent,b=a.grep,e=a.isArray,v=a.isNumber,y=a.isString,n=a.merge,D=a.objectEach,J=a.pick,c=a.removeEvent,G=a.splat,q=a.SVGElement,B=a.syncTimeout,K=a.win;a.Series=a.seriesType("line",null,{lineWidth:2,allowPointSelect:!1,showCheckbox:!1,animation:{duration:1E3},events:{},marker:{lineWidth:0,lineColor:"#ffffff",radius:4,states:{hover:{animation:{duration:50},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:"#cccccc",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{align:"center",formatter:function formatter(){return null===this.y?"":a.numberFormat(this.y,-1)},style:{fontSize:"11px",fontWeight:"bold",color:"contrast",textOutline:"1px contrast"},verticalAlign:"bottom",x:0,y:0,padding:5},cropThreshold:300,pointRange:0,softThreshold:!0,states:{hover:{animation:{duration:50},lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{marker:{}}},stickyTracking:!0,turboThreshold:1E3,findNearestPointBy:"x"},{isCartesian:!0,pointClass:a.Point,sorted:!0,requireSorting:!0,directTouch:!1,axisTypes:["xAxis","yAxis"],colorCounter:0,parallelArrays:["x","y"],coll:"series",init:function init(a,b){var c=this,e,h=a.series,p;c.chart=a;c.options=b=c.setOptions(b);c.linkedSeries=[];c.bindAxes();d(c,{name:b.name,state:"",visible:!1!==b.visible,selected:!0===b.selected});e=b.events;D(e,function(a,b){C(c,b,a)});if(e&&e.click||b.point&&b.point.events&&b.point.events.click||b.allowPointSelect)a.runTrackerClick=!0;c.getColor();c.getSymbol();t(c.parallelArrays,function(a){c[a+"Data"]=[]});c.setData(b.data,!1);c.isCartesian&&(a.hasCartesianSeries=!0);h.length&&(p=h[h.length-1]);c._i=J(p&&p._i,-1)+1;a.orderSeries(this.insert(h))},insert:function insert(a){var b=this.options.index,c;if(v(b)){for(c=a.length;c--;){if(b>=J(a[c].options.index,a[c]._i)){a.splice(c+1,0,this);break}}-1===c&&a.unshift(this);c+=1}else a.push(this);return J(c,a.length-1)},bindAxes:function bindAxes(){var b=this,c=b.options,e=b.chart,d;t(b.axisTypes||[],function(h){t(e[h],function(a){d=a.options;if(c[h]===d.index||void 0!==c[h]&&c[h]===d.id||void 0===c[h]&&0===d.index)b.insert(a.series),b[h]=a,a.isDirty=!0});b[h]||b.optionalAxis===h||a.error(18,!0)})},updateParallelArrays:function updateParallelArrays(a,b){var c=a.series,e=arguments,d=v(b)?function(e){var d="y"===e&&c.toYData?c.toYData(a):a[e];c[e+"Data"][b]=d}:function(a){Array.prototype[b].apply(c[a+"Data"],Array.prototype.slice.call(e,2))};t(c.parallelArrays,d)},autoIncrement:function autoIncrement(){var a=this.options,b=this.xIncrement,c,e=a.pointIntervalUnit,b=J(b,a.pointStart,0);this.pointInterval=c=J(this.pointInterval,a.pointInterval,1);e&&(a=new f(b),"day"===e?a=+a[f.hcSetDate](a[f.hcGetDate]()+c):"month"===e?a=+a[f.hcSetMonth](a[f.hcGetMonth]()+c):"year"===e&&(a=+a[f.hcSetFullYear](a[f.hcGetFullYear]()+c)),c=a-b);this.xIncrement=b+c;return b},setOptions:function setOptions(a){var b=this.chart,c=b.options,e=c.plotOptions,d=(b.userOptions||{}).plotOptions||{},p=e[this.type];this.userOptions=a;b=n(p,e.series,a);this.tooltipOptions=n(l.tooltip,l.plotOptions.series&&l.plotOptions.series.tooltip,l.plotOptions[this.type].tooltip,c.tooltip.userOptions,e.series&&e.series.tooltip,e[this.type].tooltip,a.tooltip);this.stickyTracking=J(a.stickyTracking,d[this.type]&&d[this.type].stickyTracking,d.series&&d.series.stickyTracking,this.tooltipOptions.shared&&!this.noSharedTooltip?!0:b.stickyTracking);null===p.marker&&delete b.marker;this.zoneAxis=b.zoneAxis;a=this.zones=(b.zones||[]).slice();(b.negativeColor||b.negativeFillColor)&&!b.zones&&a.push({value:b[this.zoneAxis+"Threshold"]||b.threshold||0,className:"highcharts-negative",color:b.negativeColor,fillColor:b.negativeFillColor});a.length&&u(a[a.length-1].value)&&a.push({color:this.color,fillColor:this.fillColor});return b},getCyclic:function getCyclic(a,b,c){var e,d=this.chart,p=this.userOptions,f=a+"Index",g=a+"Counter",k=c?c.length:J(d.options.chart[a+"Count"],d[a+"Count"]);b||(e=J(p[f],p["_"+f]),u(e)||(d.series.length||(d[g]=0),p["_"+f]=e=d[g]%k,d[g]+=1),c&&(b=c[e]));void 0!==e&&(this[f]=e);this[a]=b},getColor:function getColor(){this.options.colorByPoint?this.options.color=null:this.getCyclic("color",this.options.color||r[this.type].color,this.chart.options.colors)},getSymbol:function getSymbol(){this.getCyclic("symbol",this.options.marker.symbol,this.chart.options.symbols)},drawLegendSymbol:a.LegendSymbolMixin.drawLineMarker,setData:function setData(b,c,d,f){var h=this,p=h.points,g=p&&p.length||0,k,q=h.options,l=h.chart,n=null,m=h.xAxis,z=q.turboThreshold,r=this.xData,B=this.yData,I=(k=h.pointArrayMap)&&k.length;b=b||[];k=b.length;c=J(c,!0);if(!1!==f&&k&&g===k&&!h.cropped&&!h.hasGroupedData&&h.visible)t(b,function(a,b){p[b].update&&a!==q.data[b]&&p[b].update(a,!1,null,!1)});else{h.xIncrement=null;h.colorCounter=0;t(this.parallelArrays,function(a){h[a+"Data"].length=0});if(z&&k>z){for(d=0;null===n&&d<k;){n=b[d],d++}if(v(n))for(d=0;d<k;d++){r[d]=this.autoIncrement(),B[d]=b[d]}else if(e(n)){if(I)for(d=0;d<k;d++){n=b[d],r[d]=n[0],B[d]=n.slice(1,I+1)}else for(d=0;d<k;d++){n=b[d],r[d]=n[0],B[d]=n[1]}}else a.error(12)}else for(d=0;d<k;d++){void 0!==b[d]&&(n={series:h},h.pointClass.prototype.applyOptions.apply(n,[b[d]]),h.updateParallelArrays(n,d))}y(B[0])&&a.error(14,!0);h.data=[];h.options.data=h.userOptions.data=b;for(d=g;d--;){p[d]&&p[d].destroy&&p[d].destroy()}m&&(m.minRange=m.userMinRange);h.isDirty=l.isDirtyBox=!0;h.isDirtyData=!!p;d=!1}"point"===q.legendType&&(this.processData(),this.generatePoints());c&&l.redraw(d)},processData:function processData(b){var c=this.xData,e=this.yData,d=c.length,h;h=0;var p,f,g=this.xAxis,k,q=this.options;k=q.cropThreshold;var n=this.getExtremesFromAll||q.getExtremesFromAll,l=this.isCartesian,q=g&&g.val2lin,m=g&&g.isLog,v,r;if(l&&!this.isDirty&&!g.isDirty&&!this.yAxis.isDirty&&!b)return!1;g&&(b=g.getExtremes(),v=b.min,r=b.max);if(l&&this.sorted&&!n&&(!k||d>k||this.forceCrop))if(c[d-1]<v||c[0]>r)c=[],e=[];else if(c[0]<v||c[d-1]>r)h=this.cropData(this.xData,this.yData,v,r),c=h.xData,e=h.yData,h=h.start,p=!0;for(k=c.length||1;--k;){d=m?q(c[k])-q(c[k-1]):c[k]-c[k-1],0<d&&(void 0===f||d<f)?f=d:0>d&&this.requireSorting&&a.error(15)}this.cropped=p;this.cropStart=h;this.processedXData=c;this.processedYData=e;this.closestPointRange=f},cropData:function cropData(a,b,c,e){var d=a.length,p=0,g=d,f=J(this.cropShoulder,1),k;for(k=0;k<d;k++){if(a[k]>=c){p=_Mathmax(0,k-f);break}}for(c=k;c<d;c++){if(a[c]>e){g=c+f;break}}return{xData:a.slice(p,g),yData:b.slice(p,g),start:p,end:g}},generatePoints:function generatePoints(){var a=this.options,b=a.data,c=this.data,e,d=this.processedXData,g=this.processedYData,f=this.pointClass,k=d.length,q=this.cropStart||0,n,l=this.hasGroupedData,a=a.keys,m,v=[],r;c||l||(c=[],c.length=b.length,c=this.data=c);a&&l&&(this.options.keys=!1);for(r=0;r<k;r++){n=q+r,l?(m=new f().init(this,[d[r]].concat(G(g[r]))),m.dataGroup=this.groupMap[r]):(m=c[n])||void 0===b[n]||(c[n]=m=new f().init(this,b[n],d[r])),m&&(m.index=n,v[r]=m)}this.options.keys=a;if(c&&(k!==(e=c.length)||l))for(r=0;r<e;r++){r!==q||l||(r+=k),c[r]&&(c[r].destroyElements(),c[r].plotX=void 0)}this.data=c;this.points=v},getExtremes:function getExtremes(a){var b=this.yAxis,c=this.processedXData,d,h=[],p=0;d=this.xAxis.getExtremes();var g=d.min,f=d.max,k,q,n,l;a=a||this.stackedYData||this.processedYData||[];d=a.length;for(l=0;l<d;l++){if(q=c[l],n=a[l],k=(v(n,!0)||e(n))&&(!b.positiveValuesOnly||n.length||0<n),q=this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||(c[l]||q)>=g&&(c[l]||q)<=f,k&&q)if(k=n.length)for(;k--;){null!==n[k]&&(h[p++]=n[k])}else h[p++]=n}this.dataMin=E(h);this.dataMax=F(h)},translate:function translate(){this.processedXData||this.processData();this.generatePoints();var a=this.options,b=a.stacking,c=this.xAxis,e=c.categories,d=this.yAxis,g=this.points,f=g.length,k=!!this.modifyValue,q=a.pointPlacement,n="between"===q||v(q),l=a.threshold,r=a.startFromThreshold?l:0,B,y,t,G,D=_NumberMAX_VALUE;"between"===q&&(q=.5);v(q)&&(q*=J(a.pointRange||c.pointRange));for(a=0;a<f;a++){var K=g[a],A=K.x,C=K.y;y=K.low;var E=b&&d.stacks[(this.negStacks&&C<(r?0:l)?"-":"")+this.stackKey],F;d.positiveValuesOnly&&null!==C&&0>=C&&(K.isNull=!0);K.plotX=B=m(_Mathmin(_Mathmax(-1E5,c.translate(A,0,0,0,1,q,"flags"===this.type)),1E5));b&&this.visible&&!K.isNull&&E&&E[A]&&(G=this.getStackIndicator(G,A,this.index),F=E[A],C=F.points[G.key],y=C[0],C=C[1],y===r&&G.key===E[A].base&&(y=J(l,d.min)),d.positiveValuesOnly&&0>=y&&(y=null),K.total=K.stackTotal=F.total,K.percentage=F.total&&100*(K.y/F.total),K.stackY=C,F.setOffset(this.pointXOffset||0,this.barW||0));K.yBottom=u(y)?d.translate(y,0,1,0,1):null;k&&(C=this.modifyValue(C,K));K.plotY=y="number"===typeof C&&1/0!==C?_Mathmin(_Mathmax(-1E5,d.translate(C,0,1,0,1)),1E5):void 0;K.isInside=void 0!==y&&0<=y&&y<=d.len&&0<=B&&B<=c.len;K.clientX=n?m(c.translate(A,0,0,0,1,q)):B;K.negative=K.y<(l||0);K.category=e&&void 0!==e[K.x]?e[K.x]:K.x;K.isNull||(void 0!==t&&(D=_Mathmin(D,_Mathabs(B-t))),t=B);K.zone=this.zones.length&&K.getZone()}this.closestPointRangePx=D},getValidPoints:function getValidPoints(a,c){var e=this.chart;return b(a||this.points||[],function(a){return c&&!e.isInsidePlot(a.plotX,a.plotY,e.inverted)?!1:!a.isNull})},setClip:function setClip(a){var b=this.chart,c=this.options,e=b.renderer,d=b.inverted,p=this.clipBox,g=p||b.clipBox,f=this.sharedClipKey||["_sharedClip",a&&a.duration,a&&a.easing,g.height,c.xAxis,c.yAxis].join(),k=b[f],q=b[f+"m"];k||(a&&(g.width=0,b[f+"m"]=q=e.clipRect(-99,d?-b.plotLeft:-b.plotTop,99,d?b.chartWidth:b.chartHeight)),b[f]=k=e.clipRect(g),k.count={length:0});a&&!k.count[this.index]&&(k.count[this.index]=!0,k.count.length+=1);!1!==c.clip&&(this.group.clip(a||p?k:b.clipRect),this.markerGroup.clip(q),this.sharedClipKey=f);a||(k.count[this.index]&&(delete k.count[this.index],--k.count.length),0===k.count.length&&f&&b[f]&&(p||(b[f]=b[f].destroy()),b[f+"m"]&&(b[f+"m"]=b[f+"m"].destroy())))},animate:function animate(a){var b=this.chart,c=A(this.options.animation),e;a?this.setClip(c):(e=this.sharedClipKey,(a=b[e])&&a.animate({width:b.plotSizeX},c),b[e+"m"]&&b[e+"m"].animate({width:b.plotSizeX+99},c),this.animate=null)},afterAnimate:function afterAnimate(){this.setClip();k(this,"afterAnimate");this.finishedAnimating=!0},drawPoints:function drawPoints(){var a=this.points,b=this.chart,c,e,d,f,g=this.options.marker,k,q,n,l,m=this[this.specialGroup]||this.markerGroup,r=J(g.enabled,this.xAxis.isRadial?!0:null,this.closestPointRangePx>=2*g.radius);if(!1!==g.enabled||this._hasPointMarkers)for(e=0;e<a.length;e++){d=a[e],c=d.plotY,f=d.graphic,k=d.marker||{},q=!!d.marker,n=r&&void 0===k.enabled||k.enabled,l=d.isInside,n&&v(c)&&null!==d.y?(c=J(k.symbol,this.symbol),d.hasImage=0===c.indexOf("url"),n=this.markerAttribs(d,d.selected&&"select"),f?f[l?"show":"hide"](!0).animate(n):l&&(0<n.width||d.hasImage)&&(d.graphic=f=b.renderer.symbol(c,n.x,n.y,n.width,n.height,q?k:g).add(m)),f&&f.attr(this.pointAttribs(d,d.selected&&"select")),f&&f.addClass(d.getClassName(),!0)):f&&(d.graphic=f.destroy())}},markerAttribs:function markerAttribs(a,b){var c=this.options.marker,e=a.marker||{},d=J(e.radius,c.radius);b&&(c=c.states[b],b=e.states&&e.states[b],d=J(b&&b.radius,c&&c.radius,d+(c&&c.radiusPlus||0)));a.hasImage&&(d=0);a={x:_Mathfloor(a.plotX)-d,y:a.plotY-d};d&&(a.width=a.height=2*d);return a},pointAttribs:function pointAttribs(a,b){var c=this.options.marker,e=a&&a.options,d=e&&e.marker||{},f=this.color,g=e&&e.color,p=a&&a.color,e=J(d.lineWidth,c.lineWidth);a=a&&a.zone&&a.zone.color;f=g||a||p||f;a=d.fillColor||c.fillColor||f;f=d.lineColor||c.lineColor||f;b&&(c=c.states[b],b=d.states&&d.states[b]||{},e=J(b.lineWidth,c.lineWidth,e+J(b.lineWidthPlus,c.lineWidthPlus,0)),a=b.fillColor||c.fillColor||a,f=b.lineColor||c.lineColor||f);return{stroke:f,"stroke-width":e,fill:a}},destroy:function destroy(){var a=this,b=a.chart,e=/AppleWebKit\/533/.test(K.navigator.userAgent),d,h,f=a.data||[],n,l;k(a,"destroy");c(a);t(a.axisTypes||[],function(b){(l=a[b])&&l.series&&(g(l.series,a),l.isDirty=l.forceRedraw=!0)});a.legendItem&&a.chart.legend.destroyItem(a);for(h=f.length;h--;){(n=f[h])&&n.destroy&&n.destroy()}a.points=null;clearTimeout(a.animationTimeout);D(a,function(a,b){babelHelpers.instanceof(a,q)&&!a.survive&&(d=e&&"group"===b?"hide":"destroy",a[d]())});b.hoverSeries===a&&(b.hoverSeries=null);g(b.series,a);b.orderSeries();D(a,function(b,c){delete a[c]})},getGraphPath:function getGraphPath(a,b,c){var e=this,d=e.options,f=d.step,g,p=[],k=[],q;a=a||e.points;(g=a.reversed)&&a.reverse();(f={right:1,center:2}[f]||f&&3)&&g&&(f=4-f);!d.connectNulls||b||c||(a=this.getValidPoints(a));t(a,function(h,g){var n=h.plotX,l=h.plotY,m=a[g-1];(h.leftCliff||m&&m.rightCliff)&&!c&&(q=!0);h.isNull&&!u(b)&&0<g?q=!d.connectNulls:h.isNull&&!b?q=!0:(0===g||q?g=["M",h.plotX,h.plotY]:e.getPointSpline?g=e.getPointSpline(a,h,g):f?(g=1===f?["L",m.plotX,l]:2===f?["L",(m.plotX+n)/2,m.plotY,"L",(m.plotX+n)/2,l]:["L",n,m.plotY],g.push("L",n,l)):g=["L",n,l],k.push(h.x),f&&k.push(h.x),p.push.apply(p,g),q=!1)});p.xMap=k;return e.graphPath=p},drawGraph:function drawGraph(){var a=this,b=this.options,c=(this.gappedPath||this.getGraphPath).call(this),e=[["graph","highcharts-graph",b.lineColor||this.color,b.dashStyle]];t(this.zones,function(c,d){e.push(["zone-graph-"+d,"highcharts-graph highcharts-zone-graph-"+d+" "+(c.className||""),c.color||a.color,c.dashStyle||b.dashStyle])});t(e,function(e,d){var h=e[0],f=a[h];f?(f.endX=c.xMap,f.animate({d:c})):c.length&&(a[h]=a.chart.renderer.path(c).addClass(e[1]).attr({zIndex:1}).add(a.group),f={stroke:e[2],"stroke-width":b.lineWidth,fill:a.fillGraph&&a.color||"none"},e[3]?f.dashstyle=e[3]:"square"!==b.linecap&&(f["stroke-linecap"]=f["stroke-linejoin"]="round"),f=a[h].attr(f).shadow(2>d&&b.shadow));f&&(f.startX=c.xMap,f.isArea=c.isArea)})},applyZones:function applyZones(){var a=this,b=this.chart,c=b.renderer,e=this.zones,d,f,g=this.clips||[],k,q=this.graph,n=this.area,l=_Mathmax(b.chartWidth,b.chartHeight),m=this[(this.zoneAxis||"y")+"Axis"],r,v,B=b.inverted,y,u,G,D,K=!1;e.length&&(q||n)&&m&&void 0!==m.min&&(v=m.reversed,y=m.horiz,q&&q.hide(),n&&n.hide(),r=m.getExtremes(),t(e,function(e,h){d=v?y?b.plotWidth:0:y?0:m.toPixels(r.min);d=_Mathmin(_Mathmax(J(f,d),0),l);f=_Mathmin(_Mathmax(_Mathround(m.toPixels(J(e.value,r.max),!0)),0),l);K&&(d=f=m.toPixels(r.max));u=_Mathabs(d-f);G=_Mathmin(d,f);D=_Mathmax(d,f);m.isXAxis?(k={x:B?D:G,y:0,width:u,height:l},y||(k.x=b.plotHeight-k.x)):(k={x:0,y:B?D:G,width:l,height:u},y&&(k.y=b.plotWidth-k.y));B&&c.isVML&&(k=m.isXAxis?{x:0,y:v?G:D,height:k.width,width:b.chartWidth}:{x:k.y-b.plotLeft-b.spacingBox.x,y:0,width:k.height,height:b.chartHeight});g[h]?g[h].animate(k):(g[h]=c.clipRect(k),q&&a["zone-graph-"+h].clip(g[h]),n&&a["zone-area-"+h].clip(g[h]));K=e.value>r.max}),this.clips=g)},invertGroups:function invertGroups(a){function b(){t(["group","markerGroup"],function(b){c[b]&&(e.renderer.isVML&&c[b].attr({width:c.yAxis.len,height:c.xAxis.len}),c[b].width=c.yAxis.len,c[b].height=c.xAxis.len,c[b].invert(a))})}var c=this,e=c.chart,d;c.xAxis&&(d=C(e,"resize",b),C(c,"destroy",d),b(a),c.invertGroups=b)},plotGroup:function plotGroup(a,b,c,e,d){var h=this[a],f=!h;f&&(this[a]=h=this.chart.renderer.g().attr({zIndex:e||.1}).add(d));h.addClass("highcharts-"+b+" highcharts-series-"+this.index+" highcharts-"+this.type+"-series highcharts-color-"+this.colorIndex+" "+(this.options.className||""),!0);h.attr({visibility:c})[f?"attr":"animate"](this.getPlotBox());return h},getPlotBox:function getPlotBox(){var a=this.chart,b=this.xAxis,c=this.yAxis;a.inverted&&(b=c,c=this.xAxis);return{translateX:b?b.left:a.plotLeft,translateY:c?c.top:a.plotTop,scaleX:1,scaleY:1}},render:function render(){var a=this,b=a.chart,c,e=a.options,d=!!a.animate&&b.renderer.isSVG&&A(e.animation).duration,f=a.visible?"inherit":"hidden",g=e.zIndex,k=a.hasRendered,q=b.seriesGroup,n=b.inverted;c=a.plotGroup("group","series",f,g,q);a.markerGroup=a.plotGroup("markerGroup","markers",f,g,q);d&&a.animate(!0);c.inverted=a.isCartesian?n:!1;a.drawGraph&&(a.drawGraph(),a.applyZones());a.drawDataLabels&&a.drawDataLabels();a.visible&&a.drawPoints();a.drawTracker&&!1!==a.options.enableMouseTracking&&a.drawTracker();a.invertGroups(n);!1===e.clip||a.sharedClipKey||k||c.clip(b.clipRect);d&&a.animate();k||(a.animationTimeout=B(function(){a.afterAnimate()},d));a.isDirty=!1;a.hasRendered=!0},redraw:function redraw(){var a=this.chart,b=this.isDirty||this.isDirtyData,c=this.group,e=this.xAxis,d=this.yAxis;c&&(a.inverted&&c.attr({width:a.plotWidth,height:a.plotHeight}),c.animate({translateX:J(e&&e.left,a.plotLeft),translateY:J(d&&d.top,a.plotTop)}));this.translate();this.render();b&&delete this.kdTree},kdAxisArray:["clientX","plotY"],searchPoint:function searchPoint(a,b){var c=this.xAxis,e=this.yAxis,d=this.chart.inverted;return this.searchKDTree({clientX:d?c.len-a.chartY+c.pos:a.chartX-c.pos,plotY:d?e.len-a.chartX+e.pos:a.chartY-e.pos},b)},buildKDTree:function buildKDTree(){function a(c,e,d){var h,f;if(f=c&&c.length)return h=b.kdAxisArray[e%d],c.sort(function(a,b){return a[h]-b[h]}),f=_Mathfloor(f/2),{point:c[f],left:a(c.slice(0,f),e+1,d),right:a(c.slice(f+1),e+1,d)}}this.buildingKdTree=!0;var b=this,c=-1<b.options.findNearestPointBy.indexOf("y")?2:1;delete b.kdTree;B(function(){b.kdTree=a(b.getValidPoints(null,!b.directTouch),c,c);b.buildingKdTree=!1},b.options.kdNow?0:1)},searchKDTree:function searchKDTree(a,b){function c(a,b,h,k){var p=b.point,q=e.kdAxisArray[h%k],n,l,m=p;l=u(a[d])&&u(p[d])?_Mathpow(a[d]-p[d],2):null;n=u(a[f])&&u(p[f])?_Mathpow(a[f]-p[f],2):null;n=(l||0)+(n||0);p.dist=u(n)?_Mathsqrt(n):_NumberMAX_VALUE;p.distX=u(l)?_Mathsqrt(l):_NumberMAX_VALUE;q=a[q]-p[q];n=0>q?"left":"right";l=0>q?"right":"left";b[n]&&(n=c(a,b[n],h+1,k),m=n[g]<m[g]?n:p);b[l]&&_Mathsqrt(q*q)<m[g]&&(a=c(a,b[l],h+1,k),m=a[g]<m[g]?a:m);return m}var e=this,d=this.kdAxisArray[0],f=this.kdAxisArray[1],g=b?"distX":"dist";b=-1<e.options.findNearestPointBy.indexOf("y")?2:1;this.kdTree||this.buildingKdTree||this.buildKDTree();if(this.kdTree)return c(a,this.kdTree,b,b)}})})(M);(function(a){var C=a.Axis,A=a.Chart,F=a.correctFloat,E=a.defined,m=a.destroyObjectProperties,f=a.each,l=a.format,r=a.objectEach,u=a.pick,t=a.Series;a.StackItem=function(a,d,f,b,e){var g=a.chart.inverted;this.axis=a;this.isNegative=f;this.options=d;this.x=b;this.total=null;this.points={};this.stack=e;this.rightCliff=this.leftCliff=0;this.alignOptions={align:d.align||(g?f?"left":"right":"center"),verticalAlign:d.verticalAlign||(g?"middle":f?"bottom":"top"),y:u(d.y,g?4:f?14:-6),x:u(d.x,g?f?-6:6:0)};this.textAlign=d.textAlign||(g?f?"right":"left":"center")};a.StackItem.prototype={destroy:function destroy(){m(this,this.axis)},render:function render(a){var d=this.options,f=d.format,f=f?l(f,this):d.formatter.call(this);this.label?this.label.attr({text:f,visibility:"hidden"}):this.label=this.axis.chart.renderer.text(f,null,null,d.useHTML).css(d.style).attr({align:this.textAlign,rotation:d.rotation,visibility:"hidden"}).add(a)},setOffset:function setOffset(a,d){var f=this.axis,b=f.chart,e=f.translate(f.usePercentage?100:this.total,0,0,0,1),f=f.translate(0),f=_Mathabs(e-f);a=b.xAxis[0].translate(this.x)+a;e=this.getStackBox(b,this,a,e,d,f);if(d=this.label)d.align(this.alignOptions,null,e),e=d.alignAttr,d[!1===this.options.crop||b.isInsidePlot(e.x,e.y)?"show":"hide"](!0)},getStackBox:function getStackBox(a,d,f,b,e,l){var g=d.axis.reversed,k=a.inverted;a=a.plotHeight;d=d.isNegative&&!g||!d.isNegative&&g;return{x:k?d?b:b-l:f,y:k?a-f-e:d?a-b-l:a-b,width:k?l:e,height:k?e:l}}};A.prototype.getStacks=function(){var a=this;f(a.yAxis,function(a){a.stacks&&a.hasVisibleSeries&&(a.oldStacks=a.stacks)});f(a.series,function(d){d.options.stacking&&(!0===d.visible||!1===a.options.chart.ignoreHiddenSeries)&&(d.stackKey=d.type+u(d.options.stack,""))})};C.prototype.buildStacks=function(){var a=this.series,d=u(this.options.reversedStacks,!0),f=a.length,b;if(!this.isXAxis){this.usePercentage=!1;for(b=f;b--;){a[d?b:f-b-1].setStackedPoints()}if(this.usePercentage)for(b=0;b<f;b++){a[b].setPercentStacks()}}};C.prototype.renderStackTotals=function(){var a=this.chart,d=a.renderer,f=this.stacks,b=this.stackTotalGroup;b||(this.stackTotalGroup=b=d.g("stack-labels").attr({visibility:"visible",zIndex:6}).add());b.translate(a.plotLeft,a.plotTop);r(f,function(a){r(a,function(a){a.render(b)})})};C.prototype.resetStacks=function(){var a=this,d=a.stacks;a.isXAxis||r(d,function(d){r(d,function(b,e){b.touched<a.stacksTouched?(b.destroy(),delete d[e]):(b.total=null,b.cum=null)})})};C.prototype.cleanStacks=function(){var a;this.isXAxis||(this.oldStacks&&(a=this.stacks=this.oldStacks),r(a,function(a){r(a,function(a){a.cum=a.total})}))};t.prototype.setStackedPoints=function(){if(this.options.stacking&&(!0===this.visible||!1===this.chart.options.chart.ignoreHiddenSeries)){var f=this.processedXData,d=this.processedYData,k=[],b=d.length,e=this.options,l=e.threshold,m=e.startFromThreshold?l:0,n=e.stack,e=e.stacking,r=this.stackKey,t="-"+r,c=this.negStacks,G=this.yAxis,q=G.stacks,B=G.oldStacks,K,p,z,I,A,h,w;G.stacksTouched+=1;for(A=0;A<b;A++){h=f[A],w=d[A],K=this.getStackIndicator(K,h,this.index),I=K.key,z=(p=c&&w<(m?0:l))?t:r,q[z]||(q[z]={}),q[z][h]||(B[z]&&B[z][h]?(q[z][h]=B[z][h],q[z][h].total=null):q[z][h]=new a.StackItem(G,G.options.stackLabels,p,h,n)),z=q[z][h],null!==w&&(z.points[I]=z.points[this.index]=[u(z.cum,m)],E(z.cum)||(z.base=I),z.touched=G.stacksTouched,0<K.index&&!1===this.singleStacks&&(z.points[I][0]=z.points[this.index+","+h+",0"][0])),"percent"===e?(p=p?r:t,c&&q[p]&&q[p][h]?(p=q[p][h],z.total=p.total=_Mathmax(p.total,z.total)+_Mathabs(w)||0):z.total=F(z.total+(_Mathabs(w)||0))):z.total=F(z.total+(w||0)),z.cum=u(z.cum,m)+(w||0),null!==w&&(z.points[I].push(z.cum),k[A]=z.cum)}"percent"===e&&(G.usePercentage=!0);this.stackedYData=k;G.oldStacks={}}};t.prototype.setPercentStacks=function(){var a=this,d=a.stackKey,k=a.yAxis.stacks,b=a.processedXData,e;f([d,"-"+d],function(d){for(var f=b.length,g,l;f--;){if(g=b[f],e=a.getStackIndicator(e,g,a.index,d),g=(l=k[d]&&k[d][g])&&l.points[e.key])l=l.total?100/l.total:0,g[0]=F(g[0]*l),g[1]=F(g[1]*l),a.stackedYData[f]=g[1]}})};t.prototype.getStackIndicator=function(a,d,f,b){!E(a)||a.x!==d||b&&a.key!==b?a={x:d,index:0,key:b}:a.index++;a.key=[f,d,a.index].join();return a}})(M);(function(a){var C=a.addEvent,A=a.animate,F=a.Axis,E=a.createElement,m=a.css,f=a.defined,l=a.each,r=a.erase,u=a.extend,t=a.fireEvent,g=a.inArray,d=a.isNumber,k=a.isObject,b=a.isArray,e=a.merge,v=a.objectEach,y=a.pick,n=a.Point,D=a.Series,J=a.seriesTypes,c=a.setAnimation,G=a.splat;u(a.Chart.prototype,{addSeries:function addSeries(a,b,c){var e,d=this;a&&(b=y(b,!0),t(d,"addSeries",{options:a},function(){e=d.initSeries(a);d.isDirtyLegend=!0;d.linkSeries();b&&d.redraw(c)}));return e},addAxis:function addAxis(a,b,c,d){var f=b?"xAxis":"yAxis",g=this.options;a=e(a,{index:this[f].length,isX:b});b=new F(this,a);g[f]=G(g[f]||{});g[f].push(a);y(c,!0)&&this.redraw(d);return b},showLoading:function showLoading(a){var b=this,c=b.options,e=b.loadingDiv,d=c.loading,f=function f(){e&&m(e,{left:b.plotLeft+"px",top:b.plotTop+"px",width:b.plotWidth+"px",height:b.plotHeight+"px"})};e||(b.loadingDiv=e=E("div",{className:"highcharts-loading highcharts-loading-hidden"},null,b.container),b.loadingSpan=E("span",{className:"highcharts-loading-inner"},null,e),C(b,"redraw",f));e.className="highcharts-loading";b.loadingSpan.innerHTML=a||c.lang.loading;m(e,u(d.style,{zIndex:10}));m(b.loadingSpan,d.labelStyle);b.loadingShown||(m(e,{opacity:0,display:""}),A(e,{opacity:d.style.opacity||.5},{duration:d.showDuration||0}));b.loadingShown=!0;f()},hideLoading:function hideLoading(){var a=this.options,b=this.loadingDiv;b&&(b.className="highcharts-loading highcharts-loading-hidden",A(b,{opacity:0},{duration:a.loading.hideDuration||100,complete:function complete(){m(b,{display:"none"})}}));this.loadingShown=!1},propsRequireDirtyBox:"backgroundColor borderColor borderWidth margin marginTop marginRight marginBottom marginLeft spacing spacingTop spacingRight spacingBottom spacingLeft borderRadius plotBackgroundColor plotBackgroundImage plotBorderColor plotBorderWidth plotShadow shadow".split(" "),propsRequireUpdateSeries:"chart.inverted chart.polar chart.ignoreHiddenSeries chart.type colors plotOptions tooltip".split(" "),update:function update(a,b,c){var k=this,n={credits:"addCredits",title:"setTitle",subtitle:"setSubtitle"},q=a.chart,m,h,r=[];if(q){e(!0,k.options.chart,q);"className"in q&&k.setClassName(q.className);if("inverted"in q||"polar"in q)k.propFromSeries(),m=!0;"alignTicks"in q&&(m=!0);v(q,function(a,b){-1!==g("chart."+b,k.propsRequireUpdateSeries)&&(h=!0);-1!==g(b,k.propsRequireDirtyBox)&&(k.isDirtyBox=!0)});"style"in q&&k.renderer.setStyle(q.style)}a.colors&&(this.options.colors=a.colors);a.plotOptions&&e(!0,this.options.plotOptions,a.plotOptions);v(a,function(a,b){if(k[b]&&"function"===typeof k[b].update)k[b].update(a,!1);else if("function"===typeof k[n[b]])k[n[b]](a);"chart"!==b&&-1!==g(b,k.propsRequireUpdateSeries)&&(h=!0)});l("xAxis yAxis zAxis series colorAxis pane".split(" "),function(b){a[b]&&(l(G(a[b]),function(a,e){(e=f(a.id)&&k.get(a.id)||k[b][e])&&e.coll===b&&(e.update(a,!1),c&&(e.touched=!0));if(!e&&c)if("series"===b)k.addSeries(a,!1).touched=!0;else if("xAxis"===b||"yAxis"===b)k.addAxis(a,"xAxis"===b,!1).touched=!0}),c&&l(k[b],function(a){a.touched?delete a.touched:r.push(a)}))});l(r,function(a){a.remove(!1)});m&&l(k.axes,function(a){a.update({},!1)});h&&l(k.series,function(a){a.update({},!1)});a.loading&&e(!0,k.options.loading,a.loading);m=q&&q.width;q=q&&q.height;d(m)&&m!==k.chartWidth||d(q)&&q!==k.chartHeight?k.setSize(m,q):y(b,!0)&&k.redraw()},setSubtitle:function setSubtitle(a){this.setTitle(void 0,a)}});u(n.prototype,{update:function update(a,b,c,e){function d(){f.applyOptions(a);null===f.y&&h&&(f.graphic=h.destroy());k(a,!0)&&(h&&h.element&&a&&a.marker&&void 0!==a.marker.symbol&&(f.graphic=h.destroy()),a&&a.dataLabels&&f.dataLabel&&(f.dataLabel=f.dataLabel.destroy()));p=f.index;g.updateParallelArrays(f,p);q.data[p]=k(q.data[p],!0)||k(a,!0)?f.options:a;g.isDirty=g.isDirtyData=!0;!g.fixedBox&&g.hasCartesianSeries&&(l.isDirtyBox=!0);"point"===q.legendType&&(l.isDirtyLegend=!0);b&&l.redraw(c)}var f=this,g=f.series,h=f.graphic,p,l=g.chart,q=g.options;b=y(b,!0);!1===e?d():f.firePointEvent("update",{options:a},d)},remove:function remove(a,b){this.series.removePoint(g(this,this.series.data),a,b)}});u(D.prototype,{addPoint:function addPoint(a,b,c,e){var d=this.options,f=this.data,g=this.chart,h=this.xAxis,h=h&&h.hasNames&&h.names,k=d.data,p,l,q=this.xData,n,m;b=y(b,!0);p={series:this};this.pointClass.prototype.applyOptions.apply(p,[a]);m=p.x;n=q.length;if(this.requireSorting&&m<q[n-1])for(l=!0;n&&q[n-1]>m;){n--}this.updateParallelArrays(p,"splice",n,0,0);this.updateParallelArrays(p,n);h&&p.name&&(h[m]=p.name);k.splice(n,0,a);l&&(this.data.splice(n,0,null),this.processData());"point"===d.legendType&&this.generatePoints();c&&(f[0]&&f[0].remove?f[0].remove(!1):(f.shift(),this.updateParallelArrays(p,"shift"),k.shift()));this.isDirtyData=this.isDirty=!0;b&&g.redraw(e)},removePoint:function removePoint(a,b,e){var d=this,f=d.data,g=f[a],k=d.points,h=d.chart,l=function l(){k&&k.length===f.length&&k.splice(a,1);f.splice(a,1);d.options.data.splice(a,1);d.updateParallelArrays(g||{series:d},"splice",a,1);g&&g.destroy();d.isDirty=!0;d.isDirtyData=!0;b&&h.redraw()};c(e,h);b=y(b,!0);g?g.firePointEvent("remove",null,l):l()},remove:function remove(a,b,c){function e(){d.destroy();f.isDirtyLegend=f.isDirtyBox=!0;f.linkSeries();y(a,!0)&&f.redraw(b)}var d=this,f=d.chart;!1!==c?t(d,"remove",null,e):e()},update:function update(a,b){var c=this,d=c.chart,f=c.userOptions,g=c.oldType||c.type,k=a.type||f.type||d.options.chart.type,h=J[g].prototype,n,q=["group","markerGroup","dataLabelsGroup","navigatorSeries","baseSeries"],m=c.finishedAnimating&&{animation:!1};if(Object.keys&&"data"===Object.keys(a).toString())return this.setData(a.data,b);if(k&&k!==g||void 0!==a.zIndex)q.length=0;l(q,function(a){q[a]=c[a];delete c[a]});a=e(f,m,{index:c.index,pointStart:c.xData[0]},{data:c.options.data},a);c.remove(!1,null,!1);for(n in h){c[n]=void 0}u(c,J[k||g].prototype);l(q,function(a){c[a]=q[a]});c.init(d,a);c.oldType=g;d.linkSeries();y(b,!0)&&d.redraw(!1)}});u(F.prototype,{update:function update(a,b){var c=this.chart;a=c.options[this.coll][this.options.index]=e(this.userOptions,a);this.destroy(!0);this.init(c,u(a,{events:void 0}));c.isDirtyBox=!0;y(b,!0)&&c.redraw()},remove:function remove(a){for(var c=this.chart,e=this.coll,d=this.series,f=d.length;f--;){d[f]&&d[f].remove(!1)}r(c.axes,this);r(c[e],this);b(c.options[e])?c.options[e].splice(this.options.index,1):delete c.options[e];l(c[e],function(a,b){a.options.index=b});this.destroy();c.isDirtyBox=!0;y(a,!0)&&c.redraw()},setTitle:function setTitle(a,b){this.update({title:a},b)},setCategories:function setCategories(a,b){this.update({categories:a},b)}})})(M);(function(a){var C=a.color,A=a.each,F=a.map,E=a.pick,m=a.Series,f=a.seriesType;f("area","line",{softThreshold:!1,threshold:0},{singleStacks:!1,getStackPoints:function getStackPoints(f){var l=[],m=[],t=this.xAxis,g=this.yAxis,d=g.stacks[this.stackKey],k={},b=this.index,e=g.series,v=e.length,y,n=E(g.options.reversedStacks,!0)?1:-1,D;f=f||this.points;if(this.options.stacking){for(D=0;D<f.length;D++){k[f[D].x]=f[D]}a.objectEach(d,function(a,b){null!==a.total&&m.push(b)});m.sort(function(a,b){return a-b});y=F(e,function(){return this.visible});A(m,function(a,c){var e=0,f,r;if(k[a]&&!k[a].isNull)l.push(k[a]),A([-1,1],function(e){var g=1===e?"rightNull":"leftNull",l=0,q=d[m[c+e]];if(q)for(D=b;0<=D&&D<v;){f=q.points[D],f||(D===b?k[a][g]=!0:y[D]&&(r=d[a].points[D])&&(l-=r[1]-r[0])),D+=n}k[a][1===e?"rightCliff":"leftCliff"]=l});else{for(D=b;0<=D&&D<v;){if(f=d[a].points[D]){e=f[1];break}D+=n}e=g.translate(e,0,1,0,1);l.push({isNull:!0,plotX:t.translate(a,0,0,0,1),x:a,plotY:e,yBottom:e})}})}return l},getGraphPath:function getGraphPath(a){var f=m.prototype.getGraphPath,l=this.options,t=l.stacking,g=this.yAxis,d,k,b=[],e=[],v=this.index,y,n=g.stacks[this.stackKey],D=l.threshold,A=g.getThreshold(l.threshold),c,l=l.connectNulls||"percent"===t,G=function G(c,d,f){var k=a[c];c=t&&n[k.x].points[v];var l=k[f+"Null"]||0;f=k[f+"Cliff"]||0;var q,m,k=!0;f||l?(q=(l?c[0]:c[1])+f,m=c[0]+f,k=!!l):!t&&a[d]&&a[d].isNull&&(q=m=D);void 0!==q&&(e.push({plotX:y,plotY:null===q?A:g.getThreshold(q),isNull:k,isCliff:!0}),b.push({plotX:y,plotY:null===m?A:g.getThreshold(m),doCurve:!1}))};a=a||this.points;t&&(a=this.getStackPoints(a));for(d=0;d<a.length;d++){if(k=a[d].isNull,y=E(a[d].rectPlotX,a[d].plotX),c=E(a[d].yBottom,A),!k||l)l||G(d,d-1,"left"),k&&!t&&l||(e.push(a[d]),b.push({x:d,plotX:y,plotY:c})),l||G(d,d+1,"right")}d=f.call(this,e,!0,!0);b.reversed=!0;k=f.call(this,b,!0,!0);k.length&&(k[0]="L");k=d.concat(k);f=f.call(this,e,!1,l);k.xMap=d.xMap;this.areaPath=k;return f},drawGraph:function drawGraph(){this.areaPath=[];m.prototype.drawGraph.apply(this);var a=this,f=this.areaPath,u=this.options,t=[["area","highcharts-area",this.color,u.fillColor]];A(this.zones,function(f,d){t.push(["zone-area-"+d,"highcharts-area highcharts-zone-area-"+d+" "+f.className,f.color||a.color,f.fillColor||u.fillColor])});A(t,function(g){var d=g[0],k=a[d];k?(k.endX=f.xMap,k.animate({d:f})):(k=a[d]=a.chart.renderer.path(f).addClass(g[1]).attr({fill:E(g[3],C(g[2]).setOpacity(E(u.fillOpacity,.75)).get()),zIndex:0}).add(a.group),k.isArea=!0);k.startX=f.xMap;k.shiftUnit=u.step?2:1})},drawLegendSymbol:a.LegendSymbolMixin.drawRectangle})})(M);(function(a){var C=a.pick;a=a.seriesType;a("spline","line",{},{getPointSpline:function getPointSpline(a,F,E){var m=F.plotX,f=F.plotY,l=a[E-1];E=a[E+1];var r,u,t,g;if(l&&!l.isNull&&!1!==l.doCurve&&!F.isCliff&&E&&!E.isNull&&!1!==E.doCurve&&!F.isCliff){a=l.plotY;t=E.plotX;E=E.plotY;var d=0;r=(1.5*m+l.plotX)/2.5;u=(1.5*f+a)/2.5;t=(1.5*m+t)/2.5;g=(1.5*f+E)/2.5;t!==r&&(d=(g-u)*(t-m)/(t-r)+f-g);u+=d;g+=d;u>a&&u>f?(u=_Mathmax(a,f),g=2*f-u):u<a&&u<f&&(u=_Mathmin(a,f),g=2*f-u);g>E&&g>f?(g=_Mathmax(E,f),u=2*f-g):g<E&&g<f&&(g=_Mathmin(E,f),u=2*f-g);F.rightContX=t;F.rightContY=g}F=["C",C(l.rightContX,l.plotX),C(l.rightContY,l.plotY),C(r,m),C(u,f),m,f];l.rightContX=l.rightContY=null;return F}})})(M);(function(a){var C=a.seriesTypes.area.prototype,A=a.seriesType;A("areaspline","spline",a.defaultPlotOptions.area,{getStackPoints:C.getStackPoints,getGraphPath:C.getGraphPath,drawGraph:C.drawGraph,drawLegendSymbol:a.LegendSymbolMixin.drawRectangle})})(M);(function(a){var C=a.animObject,A=a.color,F=a.each,E=a.extend,m=a.isNumber,f=a.merge,l=a.pick,r=a.Series,u=a.seriesType,t=a.svg;u("column","line",{borderRadius:0,crisp:!0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1,brightness:.1,shadow:!1},select:{color:"#cccccc",borderColor:"#000000",shadow:!1}},dataLabels:{align:null,verticalAlign:null,y:null},softThreshold:!1,startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0,borderColor:"#ffffff"},{cropShoulder:0,directTouch:!0,trackerGroups:["group","dataLabelsGroup"],negStacks:!0,init:function init(){r.prototype.init.apply(this,arguments);var a=this,d=a.chart;d.hasRendered&&F(d.series,function(d){d.type===a.type&&(d.isDirty=!0)})},getColumnMetrics:function getColumnMetrics(){var a=this,d=a.options,f=a.xAxis,b=a.yAxis,e=f.reversed,m,r={},n=0;!1===d.grouping?n=1:F(a.chart.series,function(c){var e=c.options,d=c.yAxis,f;c.type!==a.type||!c.visible&&a.chart.options.chart.ignoreHiddenSeries||b.len!==d.len||b.pos!==d.pos||(e.stacking?(m=c.stackKey,void 0===r[m]&&(r[m]=n++),f=r[m]):!1!==e.grouping&&(f=n++),c.columnIndex=f)});var t=_Mathmin(_Mathabs(f.transA)*(f.ordinalSlope||d.pointRange||f.closestPointRange||f.tickInterval||1),f.len),u=t*d.groupPadding,c=(t-2*u)/(n||1),d=_Mathmin(d.maxPointWidth||f.len,l(d.pointWidth,c*(1-2*d.pointPadding)));a.columnMetrics={width:d,offset:(c-d)/2+(u+((a.columnIndex||0)+(e?1:0))*c-t/2)*(e?-1:1)};return a.columnMetrics},crispCol:function crispCol(a,d,f,b){var e=this.chart,g=this.borderWidth,k=-(g%2?.5:0),g=g%2?.5:1;e.inverted&&e.renderer.isVML&&(g+=1);this.options.crisp&&(f=_Mathround(a+f)+k,a=_Mathround(a)+k,f-=a);b=_Mathround(d+b)+g;k=.5>=_Mathabs(d)&&.5<b;d=_Mathround(d)+g;b-=d;k&&b&&(--d,b+=1);return{x:a,y:d,width:f,height:b}},translate:function translate(){var a=this,d=a.chart,f=a.options,b=a.dense=2>a.closestPointRange*a.xAxis.transA,b=a.borderWidth=l(f.borderWidth,b?0:1),e=a.yAxis,m=a.translatedThreshold=e.getThreshold(f.threshold),t=l(f.minPointLength,5),n=a.getColumnMetrics(),u=n.width,A=a.barW=_Mathmax(u,1+2*b),c=a.pointXOffset=n.offset;d.inverted&&(m-=.5);f.pointPadding&&(A=_Mathceil(A));r.prototype.translate.apply(a);F(a.points,function(b){var f=l(b.yBottom,m),g=999+_Mathabs(f),g=_Mathmin(_Mathmax(-g,b.plotY),e.len+g),k=b.plotX+c,n=A,r=_Mathmin(g,f),v,y=_Mathmax(g,f)-r;_Mathabs(y)<t&&t&&(y=t,v=!e.reversed&&!b.negative||e.reversed&&b.negative,r=_Mathabs(r-m)>t?f-t:m-(v?t:0));b.barX=k;b.pointWidth=u;b.tooltipPos=d.inverted?[e.len+e.pos-d.plotLeft-g,a.xAxis.len-k-n/2,y]:[k+n/2,g+e.pos-d.plotTop,y];b.shapeType="rect";b.shapeArgs=a.crispCol.apply(a,b.isNull?[k,m,n,0]:[k,r,n,y])})},getSymbol:a.noop,drawLegendSymbol:a.LegendSymbolMixin.drawRectangle,drawGraph:function drawGraph(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data")},pointAttribs:function pointAttribs(a,d){var g=this.options,b,e=this.pointAttrToOptions||{};b=e.stroke||"borderColor";var l=e["stroke-width"]||"borderWidth",m=a&&a.color||this.color,n=a[b]||g[b]||this.color||m,r=a[l]||g[l]||this[l]||0,e=g.dashStyle;a&&this.zones.length&&(m=a.getZone(),m=a.options.color||m&&m.color||this.color);d&&(a=f(g.states[d],a.options.states&&a.options.states[d]||{}),d=a.brightness,m=a.color||void 0!==d&&A(m).brighten(a.brightness).get()||m,n=a[b]||n,r=a[l]||r,e=a.dashStyle||e);b={fill:m,stroke:n,"stroke-width":r};e&&(b.dashstyle=e);return b},drawPoints:function drawPoints(){var a=this,d=this.chart,k=a.options,b=d.renderer,e=k.animationLimit||250,l;F(a.points,function(g){var n=g.graphic;if(m(g.plotY)&&null!==g.y){l=g.shapeArgs;if(n)n[d.pointCount<e?"animate":"attr"](f(l));else g.graphic=n=b[g.shapeType](l).add(g.group||a.group);k.borderRadius&&n.attr({r:k.borderRadius});n.attr(a.pointAttribs(g,g.selected&&"select")).shadow(k.shadow,null,k.stacking&&!k.borderRadius);n.addClass(g.getClassName(),!0)}else n&&(g.graphic=n.destroy())})},animate:function animate(a){var d=this,f=this.yAxis,b=d.options,e=this.chart.inverted,g={};t&&(a?(g.scaleY=.001,a=_Mathmin(f.pos+f.len,_Mathmax(f.pos,f.toPixels(b.threshold))),e?g.translateX=a-f.len:g.translateY=a,d.group.attr(g)):(g[e?"translateX":"translateY"]=f.pos,d.group.animate(g,E(C(d.options.animation),{step:function step(a,b){d.group.attr({scaleY:_Mathmax(.001,b.pos)})}})),d.animate=null))},remove:function remove(){var a=this,d=a.chart;d.hasRendered&&F(d.series,function(d){d.type===a.type&&(d.isDirty=!0)});r.prototype.remove.apply(a,arguments)}})})(M);(function(a){a=a.seriesType;a("bar","column",null,{inverted:!0})})(M);(function(a){var C=a.Series;a=a.seriesType;a("scatter","line",{lineWidth:0,findNearestPointBy:"xy",marker:{enabled:!0},tooltip:{headerFormat:"<span style=\"color:{point.color}\">\u25CF</span> <span style=\"font-size: 0.85em\"> {series.name}</span><br/>",pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}},{sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1,drawGraph:function drawGraph(){this.options.lineWidth&&C.prototype.drawGraph.call(this)}})})(M);(function(a){var C=a.pick,A=a.relativeLength;a.CenteredSeriesMixin={getCenter:function getCenter(){var a=this.options,E=this.chart,m=2*(a.slicedOffset||0),f=E.plotWidth-2*m,E=E.plotHeight-2*m,l=a.center,l=[C(l[0],"50%"),C(l[1],"50%"),a.size||"100%",a.innerSize||0],r=_Mathmin(f,E),u,t;for(u=0;4>u;++u){t=l[u],a=2>u||2===u&&/%$/.test(t),l[u]=A(t,[f,E,r,l[2]][u])+(a?m:0)}l[3]>l[2]&&(l[3]=l[2]);return l}}})(M);(function(a){var C=a.addEvent,A=a.defined,F=a.each,E=a.extend,m=a.inArray,f=a.noop,l=a.pick,r=a.Point,u=a.Series,t=a.seriesType,g=a.setAnimation;t("pie","line",{center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{distance:30,enabled:!0,formatter:function formatter(){return this.point.isNull?void 0:this.point.name},x:0},ignoreHiddenPoint:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,stickyTracking:!1,tooltip:{followPointer:!0},borderColor:"#ffffff",borderWidth:1,states:{hover:{brightness:.1,shadow:!1}}},{isCartesian:!1,requireSorting:!1,directTouch:!0,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],axisTypes:[],pointAttribs:a.seriesTypes.column.prototype.pointAttribs,animate:function animate(a){var d=this,b=d.points,e=d.startAngleRad;a||(F(b,function(a){var b=a.graphic,f=a.shapeArgs;b&&(b.attr({r:a.startR||d.center[3]/2,start:e,end:e}),b.animate({r:f.r,start:f.start,end:f.end},d.options.animation))}),d.animate=null)},updateTotals:function updateTotals(){var a,f=0,b=this.points,e=b.length,g,l=this.options.ignoreHiddenPoint;for(a=0;a<e;a++){g=b[a],f+=l&&!g.visible?0:g.isNull?0:g.y}this.total=f;for(a=0;a<e;a++){g=b[a],g.percentage=0<f&&(g.visible||!l)?100*(g.y/f):0,g.total=f}},generatePoints:function generatePoints(){u.prototype.generatePoints.call(this);this.updateTotals()},translate:function translate(a){this.generatePoints();var d=0,b=this.options,e=b.slicedOffset,f=e+(b.borderWidth||0),g,n,m,r=b.startAngle||0,c=this.startAngleRad=_MathPI/180*(r-90),r=(this.endAngleRad=_MathPI/180*(l(b.endAngle,r+360)-90))-c,t=this.points,q,B=b.dataLabels.distance,b=b.ignoreHiddenPoint,u,p=t.length,z;a||(this.center=a=this.getCenter());this.getX=function(b,c,e){m=Math.asin(_Mathmin((b-a[1])/(a[2]/2+e.labelDistance),1));return a[0]+(c?-1:1)*_Mathcos(m)*(a[2]/2+e.labelDistance)};for(u=0;u<p;u++){z=t[u];z.labelDistance=l(z.options.dataLabels&&z.options.dataLabels.distance,B);this.maxLabelDistance=_Mathmax(this.maxLabelDistance||0,z.labelDistance);g=c+d*r;if(!b||z.visible)d+=z.percentage/100;n=c+d*r;z.shapeType="arc";z.shapeArgs={x:a[0],y:a[1],r:a[2]/2,innerR:a[3]/2,start:_Mathround(1E3*g)/1E3,end:_Mathround(1E3*n)/1E3};m=(n+g)/2;m>1.5*_MathPI?m-=2*_MathPI:m<-_MathPI/2&&(m+=2*_MathPI);z.slicedTranslation={translateX:_Mathround(_Mathcos(m)*e),translateY:_Mathround(_Mathsin(m)*e)};n=_Mathcos(m)*a[2]/2;q=_Mathsin(m)*a[2]/2;z.tooltipPos=[a[0]+.7*n,a[1]+.7*q];z.half=m<-_MathPI/2||m>_MathPI/2?1:0;z.angle=m;g=_Mathmin(f,z.labelDistance/5);z.labelPos=[a[0]+n+_Mathcos(m)*z.labelDistance,a[1]+q+_Mathsin(m)*z.labelDistance,a[0]+n+_Mathcos(m)*g,a[1]+q+_Mathsin(m)*g,a[0]+n,a[1]+q,0>z.labelDistance?"center":z.half?"right":"left",m]}},drawGraph:null,drawPoints:function drawPoints(){var a=this,f=a.chart.renderer,b,e,g,l,n=a.options.shadow;n&&!a.shadowGroup&&(a.shadowGroup=f.g("shadow").add(a.group));F(a.points,function(d){if(!d.isNull){e=d.graphic;l=d.shapeArgs;b=d.getTranslate();var k=d.shadowGroup;n&&!k&&(k=d.shadowGroup=f.g("shadow").add(a.shadowGroup));k&&k.attr(b);g=a.pointAttribs(d,d.selected&&"select");e?e.setRadialReference(a.center).attr(g).animate(E(l,b)):(d.graphic=e=f[d.shapeType](l).setRadialReference(a.center).attr(b).add(a.group),d.visible||e.attr({visibility:"hidden"}),e.attr(g).attr({"stroke-linejoin":"round"}).shadow(n,k));e.addClass(d.getClassName())}})},searchPoint:f,sortByAngle:function sortByAngle(a,f){a.sort(function(a,e){return void 0!==a.angle&&(e.angle-a.angle)*f})},drawLegendSymbol:a.LegendSymbolMixin.drawRectangle,getCenter:a.CenteredSeriesMixin.getCenter,getSymbol:f},{init:function init(){r.prototype.init.apply(this,arguments);var a=this,f;a.name=l(a.name,"Slice");f=function f(b){a.slice("select"===b.type)};C(a,"select",f);C(a,"unselect",f);return a},isValid:function isValid(){return a.isNumber(this.y,!0)&&0<=this.y},setVisible:function setVisible(a,f){var b=this,e=b.series,d=e.chart,g=e.options.ignoreHiddenPoint;f=l(f,g);a!==b.visible&&(b.visible=b.options.visible=a=void 0===a?!b.visible:a,e.options.data[m(b,e.data)]=b.options,F(["graphic","dataLabel","connector","shadowGroup"],function(e){if(b[e])b[e][a?"show":"hide"](!0)}),b.legendItem&&d.legend.colorizeItem(b,a),a||"hover"!==b.state||b.setState(""),g&&(e.isDirty=!0),f&&d.redraw())},slice:function slice(a,f,b){var e=this.series;g(b,e.chart);l(f,!0);this.sliced=this.options.sliced=A(a)?a:!this.sliced;e.options.data[m(this,e.data)]=this.options;this.graphic.animate(this.getTranslate());this.shadowGroup&&this.shadowGroup.animate(this.getTranslate())},getTranslate:function getTranslate(){return this.sliced?this.slicedTranslation:{translateX:0,translateY:0}},haloPath:function haloPath(a){var d=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(d.x,d.y,d.r+a,d.r+a,{innerR:this.shapeArgs.r,start:d.start,end:d.end})}})})(M);(function(a){var C=a.addEvent,A=a.arrayMax,F=a.defined,E=a.each,m=a.extend,f=a.format,l=a.map,r=a.merge,u=a.noop,t=a.pick,g=a.relativeLength,d=a.Series,k=a.seriesTypes,b=a.stableSort;a.distribute=function(a,d){function e(a,b){return a.target-b.target}var f,g=!0,k=a,c=[],m;m=0;for(f=a.length;f--;){m+=a[f].size}if(m>d){b(a,function(a,b){return(b.rank||0)-(a.rank||0)});for(m=f=0;m<=d;){m+=a[f].size,f++}c=a.splice(f-1,a.length)}b(a,e);for(a=l(a,function(a){return{size:a.size,targets:[a.target]}});g;){for(f=a.length;f--;){g=a[f],m=(_Mathmin.apply(0,g.targets)+_Mathmax.apply(0,g.targets))/2,g.pos=_Mathmin(_Mathmax(0,m-g.size/2),d-g.size)}f=a.length;for(g=!1;f--;){0<f&&a[f-1].pos+a[f-1].size>a[f].pos&&(a[f-1].size+=a[f].size,a[f-1].targets=a[f-1].targets.concat(a[f].targets),a[f-1].pos+a[f-1].size>d&&(a[f-1].pos=d-a[f-1].size),a.splice(f,1),g=!0)}}f=0;E(a,function(a){var b=0;E(a.targets,function(){k[f].pos=a.pos+b;b+=k[f].size;f++})});k.push.apply(k,c);b(k,e)};d.prototype.drawDataLabels=function(){var b=this,d=b.options,g=d.dataLabels,k=b.points,l,m,c=b.hasRendered||0,u,q,B=t(g.defer,!!d.animation),A=b.chart.renderer;if(g.enabled||b._hasPointLabels)b.dlProcessOptions&&b.dlProcessOptions(g),q=b.plotGroup("dataLabelsGroup","data-labels",B&&!c?"hidden":"visible",g.zIndex||6),B&&(q.attr({opacity:+c}),c||C(b,"afterAnimate",function(){b.visible&&q.show(!0);q[d.animation?"animate":"attr"]({opacity:1},{duration:200})})),m=g,E(k,function(c){var e,k=c.dataLabel,n,h,p=c.connector,v=!k,B;l=c.dlOptions||c.options&&c.options.dataLabels;if(e=t(l&&l.enabled,m.enabled)&&null!==c.y)g=r(m,l),n=c.getLabelConfig(),u=g.format?f(g.format,n):g.formatter.call(n,g),B=g.style,n=g.rotation,B.color=t(g.color,B.color,b.color,"#000000"),"contrast"===B.color&&(c.contrastColor=A.getContrast(c.color||b.color),B.color=g.inside||0>t(c.labelDistance,g.distance)||d.stacking?c.contrastColor:"#000000"),d.cursor&&(B.cursor=d.cursor),h={fill:g.backgroundColor,stroke:g.borderColor,"stroke-width":g.borderWidth,r:g.borderRadius||0,rotation:n,padding:g.padding,zIndex:1},a.objectEach(h,function(a,b){void 0===a&&delete h[b]});!k||e&&F(u)?e&&F(u)&&(k?h.text=u:(k=c.dataLabel=A[n?"text":"label"](u,0,-9999,g.shape,null,null,g.useHTML,null,"data-label"),k.addClass("highcharts-data-label-color-"+c.colorIndex+" "+(g.className||"")+(g.useHTML?"highcharts-tracker":""))),k.attr(h),k.css(B).shadow(g.shadow),k.added||k.add(q),b.alignDataLabel(c,k,g,null,v)):(c.dataLabel=k=k.destroy(),p&&(c.connector=p.destroy()))})};d.prototype.alignDataLabel=function(a,b,d,f,g){var e=this.chart,c=e.inverted,k=t(a.plotX,-9999),l=t(a.plotY,-9999),n=b.getBBox(),r,p=d.rotation,v=d.align,u=this.visible&&(a.series.forceDL||e.isInsidePlot(k,_Mathround(l),c)||f&&e.isInsidePlot(k,c?f.x+1:f.y+f.height-1,c)),y="justify"===t(d.overflow,"justify");if(u&&(r=d.style.fontSize,r=e.renderer.fontMetrics(r,b).b,f=m({x:c?this.yAxis.len-l:k,y:_Mathround(c?this.xAxis.len-k:l),width:0,height:0},f),m(d,{width:n.width,height:n.height}),p?(y=!1,k=e.renderer.rotCorr(r,p),k={x:f.x+d.x+f.width/2+k.x,y:f.y+d.y+{top:0,middle:.5,bottom:1}[d.verticalAlign]*f.height},b[g?"attr":"animate"](k).attr({align:v}),l=(p+720)%360,l=180<l&&360>l,"left"===v?k.y-=l?n.height:0:"center"===v?(k.x-=n.width/2,k.y-=n.height/2):"right"===v&&(k.x-=n.width,k.y-=l?0:n.height)):(b.align(d,null,f),k=b.alignAttr),y?a.isLabelJustified=this.justifyDataLabel(b,d,k,n,f,g):t(d.crop,!0)&&(u=e.isInsidePlot(k.x,k.y)&&e.isInsidePlot(k.x+n.width,k.y+n.height)),d.shape&&!p))b[g?"attr":"animate"]({anchorX:c?e.plotWidth-a.plotY:a.plotX,anchorY:c?e.plotHeight-a.plotX:a.plotY});u||(b.attr({y:-9999}),b.placed=!1)};d.prototype.justifyDataLabel=function(a,b,d,f,g,k){var c=this.chart,e=b.align,l=b.verticalAlign,m,n,p=a.box?0:a.padding||0;m=d.x+p;0>m&&("right"===e?b.align="left":b.x=-m,n=!0);m=d.x+f.width-p;m>c.plotWidth&&("left"===e?b.align="right":b.x=c.plotWidth-m,n=!0);m=d.y+p;0>m&&("bottom"===l?b.verticalAlign="top":b.y=-m,n=!0);m=d.y+f.height-p;m>c.plotHeight&&("top"===l?b.verticalAlign="bottom":b.y=c.plotHeight-m,n=!0);n&&(a.placed=!k,a.align(b,null,g));return n};k.pie&&(k.pie.prototype.drawDataLabels=function(){var b=this,f=b.data,g,k=b.chart,l=b.options.dataLabels,m=t(l.connectorPadding,10),c=t(l.connectorWidth,1),r=k.plotWidth,q=k.plotHeight,u,C=b.center,p=C[2]/2,z=C[1],I,L,h,w,M=[[],[]],H,O,Q,R,x=[0,0,0,0];b.visible&&(l.enabled||b._hasPointLabels)&&(E(f,function(a){a.dataLabel&&a.visible&&a.dataLabel.shortened&&(a.dataLabel.attr({width:"auto"}).css({width:"auto",textOverflow:"clip"}),a.dataLabel.shortened=!1)}),d.prototype.drawDataLabels.apply(b),E(f,function(a){a.dataLabel&&a.visible&&(M[a.half].push(a),a.dataLabel._pos=null)}),E(M,function(c,d){var e,f,n=c.length,v=[],u;if(n)for(b.sortByAngle(c,d-.5),0<b.maxLabelDistance&&(e=_Mathmax(0,z-p-b.maxLabelDistance),f=_Mathmin(z+p+b.maxLabelDistance,k.plotHeight),E(c,function(a){0<a.labelDistance&&a.dataLabel&&(a.top=_Mathmax(0,z-p-a.labelDistance),a.bottom=_Mathmin(z+p+a.labelDistance,k.plotHeight),u=a.dataLabel.getBBox().height||21,a.positionsIndex=v.push({target:a.labelPos[1]-a.top+u/2,size:u,rank:a.y})-1)}),a.distribute(v,f+u-e)),R=0;R<n;R++){g=c[R],f=g.positionsIndex,h=g.labelPos,I=g.dataLabel,Q=!1===g.visible?"hidden":"inherit",e=h[1],F(v[f])?void 0===v[f].pos?Q="hidden":(w=v[f].size,O=g.top+v[f].pos):O=e,delete g.positionIndex,H=l.justify?C[0]+(d?-1:1)*(p+g.labelDistance):b.getX(O<g.top+2||O>g.bottom-2?e:O,d,g),I._attr={visibility:Q,align:h[6]},I._pos={x:H+l.x+({left:m,right:-m}[h[6]]||0),y:O+l.y-10},h.x=H,h.y=O,t(l.crop,!0)&&(L=I.getBBox().width,e=null,H-L<m?(e=_Mathround(L-H+m),x[3]=_Mathmax(e,x[3])):H+L>r-m&&(e=_Mathround(H+L-r+m),x[1]=_Mathmax(e,x[1])),0>O-w/2?x[0]=_Mathmax(_Mathround(-O+w/2),x[0]):O+w/2>q&&(x[2]=_Mathmax(_Mathround(O+w/2-q),x[2])),I.sideOverflow=e)}}),0===A(x)||this.verifyDataLabelOverflow(x))&&(this.placeDataLabels(),c&&E(this.points,function(a){var e;u=a.connector;if((I=a.dataLabel)&&I._pos&&a.visible&&0<a.labelDistance){Q=I._attr.visibility;if(e=!u)a.connector=u=k.renderer.path().addClass("highcharts-data-label-connector highcharts-color-"+a.colorIndex).add(b.dataLabelsGroup),u.attr({"stroke-width":c,stroke:l.connectorColor||a.color||"#666666"});u[e?"attr":"animate"]({d:b.connectorPath(a.labelPos)});u.attr("visibility",Q)}else u&&(a.connector=u.destroy())}))},k.pie.prototype.connectorPath=function(a){var b=a.x,d=a.y;return t(this.options.dataLabels.softConnector,!0)?["M",b+("left"===a[6]?5:-5),d,"C",b,d,2*a[2]-a[4],2*a[3]-a[5],a[2],a[3],"L",a[4],a[5]]:["M",b+("left"===a[6]?5:-5),d,"L",a[2],a[3],"L",a[4],a[5]]},k.pie.prototype.placeDataLabels=function(){E(this.points,function(a){var b=a.dataLabel;b&&a.visible&&((a=b._pos)?(b.sideOverflow&&(b._attr.width=b.getBBox().width-b.sideOverflow,b.css({width:b._attr.width+"px",textOverflow:"ellipsis"}),b.shortened=!0),b.attr(b._attr),b[b.moved?"animate":"attr"](a),b.moved=!0):b&&b.attr({y:-9999}))},this)},k.pie.prototype.alignDataLabel=u,k.pie.prototype.verifyDataLabelOverflow=function(a){var b=this.center,d=this.options,e=d.center,f=d.minSize||80,k,c=null!==d.size;c||(null!==e[0]?k=_Mathmax(b[2]-_Mathmax(a[1],a[3]),f):(k=_Mathmax(b[2]-a[1]-a[3],f),b[0]+=(a[3]-a[1])/2),null!==e[1]?k=_Mathmax(_Mathmin(k,b[2]-_Mathmax(a[0],a[2])),f):(k=_Mathmax(_Mathmin(k,b[2]-a[0]-a[2]),f),b[1]+=(a[0]-a[2])/2),k<b[2]?(b[2]=k,b[3]=_Mathmin(g(d.innerSize||0,k),k),this.translate(b),this.drawDataLabels&&this.drawDataLabels()):c=!0);return c});k.column&&(k.column.prototype.alignDataLabel=function(a,b,f,g,k){var e=this.chart.inverted,c=a.series,l=a.dlBox||a.shapeArgs,m=t(a.below,a.plotY>t(this.translatedThreshold,c.yAxis.len)),n=t(f.inside,!!this.options.stacking);l&&(g=r(l),0>g.y&&(g.height+=g.y,g.y=0),l=g.y+g.height-c.yAxis.len,0<l&&(g.height-=l),e&&(g={x:c.yAxis.len-g.y-g.height,y:c.xAxis.len-g.x-g.width,width:g.height,height:g.width}),n||(e?(g.x+=m?0:g.width,g.width=0):(g.y+=m?g.height:0,g.height=0)));f.align=t(f.align,!e||n?"center":m?"right":"left");f.verticalAlign=t(f.verticalAlign,e||n?"middle":m?"top":"bottom");d.prototype.alignDataLabel.call(this,a,b,f,g,k);a.isLabelJustified&&a.contrastColor&&a.dataLabel.css({color:a.contrastColor})})})(M);(function(a){var C=a.Chart,A=a.each,F=a.objectEach,E=a.pick,m=a.addEvent;C.prototype.callbacks.push(function(a){function f(){var f=[];A(a.yAxis||[],function(a){a.options.stackLabels&&!a.options.stackLabels.allowOverlap&&F(a.stacks,function(a){F(a,function(a){f.push(a.label)})})});A(a.series||[],function(a){var l=a.options.dataLabels,g=a.dataLabelCollections||["dataLabel"];(l.enabled||a._hasPointLabels)&&!l.allowOverlap&&a.visible&&A(g,function(d){A(a.points,function(a){a[d]&&(a[d].labelrank=E(a.labelrank,a.shapeArgs&&a.shapeArgs.height),f.push(a[d]))})})});a.hideOverlappingLabels(f)}f();m(a,"redraw",f)});C.prototype.hideOverlappingLabels=function(a){var f=a.length,m,u,t,g,d,k,b,e,v,y=function y(a,b,d,c,e,f,g,k){return!(e>a+d||e+g<a||f>b+c||f+k<b)};for(u=0;u<f;u++){if(m=a[u])m.oldOpacity=m.opacity,m.newOpacity=1,m.width||(t=m.getBBox(),m.width=t.width,m.height=t.height)}a.sort(function(a,b){return(b.labelrank||0)-(a.labelrank||0)});for(u=0;u<f;u++){for(t=a[u],m=u+1;m<f;++m){if(g=a[m],t&&g&&t!==g&&t.placed&&g.placed&&0!==t.newOpacity&&0!==g.newOpacity&&(d=t.alignAttr,k=g.alignAttr,b=t.parentGroup,e=g.parentGroup,v=2*(t.box?0:t.padding||0),d=y(d.x+b.translateX,d.y+b.translateY,t.width-v,t.height-v,k.x+e.translateX,k.y+e.translateY,g.width-v,g.height-v)))(t.labelrank<g.labelrank?t:g).newOpacity=0}}A(a,function(a){var b,d;a&&(d=a.newOpacity,a.oldOpacity!==d&&a.placed&&(d?a.show(!0):b=function b(){a.hide()},a.alignAttr.opacity=d,a[a.isOld?"animate":"attr"](a.alignAttr,null,b)),a.isOld=!0)})}})(M);(function(a){var C=a.addEvent,A=a.Chart,F=a.createElement,E=a.css,m=a.defaultOptions,f=a.defaultPlotOptions,l=a.each,r=a.extend,u=a.fireEvent,t=a.hasTouch,g=a.inArray,d=a.isObject,k=a.Legend,b=a.merge,e=a.pick,v=a.Point,y=a.Series,n=a.seriesTypes,D=a.svg,J;J=a.TrackerMixin={drawTrackerPoint:function drawTrackerPoint(){var a=this,b=a.chart.pointer,d=function d(a){var c=b.getPointFromEvent(a);void 0!==c&&(b.isDirectTouch=!0,c.onMouseOver(a))};l(a.points,function(a){a.graphic&&(a.graphic.element.point=a);a.dataLabel&&(a.dataLabel.div?a.dataLabel.div.point=a:a.dataLabel.element.point=a)});a._hasTracking||(l(a.trackerGroups,function(c){if(a[c]){a[c].addClass("highcharts-tracker").on("mouseover",d).on("mouseout",function(a){b.onTrackerMouseOut(a)});if(t)a[c].on("touchstart",d);a.options.cursor&&a[c].css(E).css({cursor:a.options.cursor})}}),a._hasTracking=!0)},drawTrackerGraph:function drawTrackerGraph(){var a=this,b=a.options,d=b.trackByArea,e=[].concat(d?a.areaPath:a.graphPath),f=e.length,g=a.chart,k=g.pointer,m=g.renderer,n=g.options.tooltip.snap,h=a.tracker,r,u=function u(){if(g.hoverSeries!==a)a.onMouseOver()},v="rgba(192,192,192,"+(D?1e-4:.002)+")";if(f&&!d)for(r=f+1;r--;){"M"===e[r]&&e.splice(r+1,0,e[r+1]-n,e[r+2],"L"),(r&&"M"===e[r]||r===f)&&e.splice(r,0,"L",e[r-2]+n,e[r-1])}h?h.attr({d:e}):a.graph&&(a.tracker=m.path(e).attr({"stroke-linejoin":"round",visibility:a.visible?"visible":"hidden",stroke:v,fill:d?v:"none","stroke-width":a.graph.strokeWidth()+(d?0:2*n),zIndex:2}).add(a.group),l([a.tracker,a.markerGroup],function(a){a.addClass("highcharts-tracker").on("mouseover",u).on("mouseout",function(a){k.onTrackerMouseOut(a)});b.cursor&&a.css({cursor:b.cursor});if(t)a.on("touchstart",u)}))}};n.column&&(n.column.prototype.drawTracker=J.drawTrackerPoint);n.pie&&(n.pie.prototype.drawTracker=J.drawTrackerPoint);n.scatter&&(n.scatter.prototype.drawTracker=J.drawTrackerPoint);r(k.prototype,{setItemEvents:function setItemEvents(a,d,e){var c=this,f=c.chart.renderer.boxWrapper,g="highcharts-legend-"+(a.series?"point":"series")+"-active";(e?d:a.legendGroup).on("mouseover",function(){a.setState("hover");f.addClass(g);d.css(c.options.itemHoverStyle)}).on("mouseout",function(){d.css(b(a.visible?c.itemStyle:c.itemHiddenStyle));f.removeClass(g);a.setState()}).on("click",function(b){var c=function c(){a.setVisible&&a.setVisible()};b={browserEvent:b};a.firePointEvent?a.firePointEvent("legendItemClick",b,c):u(a,"legendItemClick",b,c)})},createCheckboxForItem:function createCheckboxForItem(a){a.checkbox=F("input",{type:"checkbox",checked:a.selected,defaultChecked:a.selected},this.options.itemCheckboxStyle,this.chart.container);C(a.checkbox,"click",function(b){u(a.series||a,"checkboxClick",{checked:b.target.checked,item:a},function(){a.select()})})}});m.legend.itemStyle.cursor="pointer";r(A.prototype,{showResetZoom:function showResetZoom(){var a=this,b=m.lang,d=a.options.chart.resetZoomButton,e=d.theme,f=e.states,g="chart"===d.relativeTo?null:"plotBox";this.resetZoomButton=a.renderer.button(b.resetZoom,null,null,function(){a.zoomOut()},e,f&&f.hover).attr({align:d.position.align,title:b.resetZoomTitle}).addClass("highcharts-reset-zoom").add().align(d.position,!1,g)},zoomOut:function zoomOut(){var a=this;u(a,"selection",{resetSelection:!0},function(){a.zoom()})},zoom:function zoom(a){var b,c=this.pointer,f=!1,g;!a||a.resetSelection?(l(this.axes,function(a){b=a.zoom()}),c.initiated=!1):l(a.xAxis.concat(a.yAxis),function(a){var d=a.axis;c[d.isXAxis?"zoomX":"zoomY"]&&(b=d.zoom(a.min,a.max),d.displayBtn&&(f=!0))});g=this.resetZoomButton;f&&!g?this.showResetZoom():!f&&d(g)&&(this.resetZoomButton=g.destroy());b&&this.redraw(e(this.options.chart.animation,a&&a.animation,100>this.pointCount))},pan:function pan(a,b){var c=this,d=c.hoverPoints,e;d&&l(d,function(a){a.setState()});l("xy"===b?[1,0]:[1],function(b){b=c[b?"xAxis":"yAxis"][0];var d=b.horiz,f=a[d?"chartX":"chartY"],d=d?"mouseDownX":"mouseDownY",g=c[d],h=(b.pointRange||0)/2,k=b.getExtremes(),l=b.toValue(g-f,!0)+h,h=b.toValue(g+b.len-f,!0)-h,m=h<l,g=m?h:l,l=m?l:h,h=_Mathmin(k.dataMin,b.toValue(b.toPixels(k.min)-b.minPixelPadding)),m=_Mathmax(k.dataMax,b.toValue(b.toPixels(k.max)+b.minPixelPadding)),n;n=h-g;0<n&&(l+=n,g=h);n=l-m;0<n&&(l=m,g-=n);b.series.length&&g!==k.min&&l!==k.max&&(b.setExtremes(g,l,!1,!1,{trigger:"pan"}),e=!0);c[d]=f});e&&c.redraw(!1);E(c.container,{cursor:"move"})}});r(v.prototype,{select:function select(a,b){var c=this,d=c.series,f=d.chart;a=e(a,!c.selected);c.firePointEvent(a?"select":"unselect",{accumulate:b},function(){c.selected=c.options.selected=a;d.options.data[g(c,d.data)]=c.options;c.setState(a&&"select");b||l(f.getSelectedPoints(),function(a){a.selected&&a!==c&&(a.selected=a.options.selected=!1,d.options.data[g(a,d.data)]=a.options,a.setState(""),a.firePointEvent("unselect"))})})},onMouseOver:function onMouseOver(a){var b=this.series.chart,c=b.pointer;a=a?c.normalize(a):c.getChartCoordinatesFromPoint(this,b.inverted);c.runPointActions(a,this)},onMouseOut:function onMouseOut(){var a=this.series.chart;this.firePointEvent("mouseOut");l(a.hoverPoints||[],function(a){a.setState()});a.hoverPoints=a.hoverPoint=null},importEvents:function importEvents(){if(!this.hasImportedEvents){var c=this,d=b(c.series.options.point,c.options).events;c.events=d;a.objectEach(d,function(a,b){C(c,b,a)});this.hasImportedEvents=!0}},setState:function setState(a,b){var c=_Mathfloor(this.plotX),d=this.plotY,g=this.series,k=g.options.states[a]||{},l=f[g.type].marker&&g.options.marker,m=l&&!1===l.enabled,n=l&&l.states&&l.states[a]||{},h=!1===n.enabled,t=g.stateMarkerGraphic,u=this.marker||{},v=g.chart,y=g.halo,A,C=l&&g.markerAttribs;a=a||"";if(!(a===this.state&&!b||this.selected&&"select"!==a||!1===k.enabled||a&&(h||m&&!1===n.enabled)||a&&u.states&&u.states[a]&&!1===u.states[a].enabled)){C&&(A=g.markerAttribs(this,a));if(this.graphic)this.state&&this.graphic.removeClass("highcharts-point-"+this.state),a&&this.graphic.addClass("highcharts-point-"+a),this.graphic.animate(g.pointAttribs(this,a),e(v.options.chart.animation,k.animation)),A&&this.graphic.animate(A,e(v.options.chart.animation,n.animation,l.animation)),t&&t.hide();else{if(a&&n){l=u.symbol||g.symbol;t&&t.currentSymbol!==l&&(t=t.destroy());if(t)t[b?"animate":"attr"]({x:A.x,y:A.y});else l&&(g.stateMarkerGraphic=t=v.renderer.symbol(l,A.x,A.y,A.width,A.height).add(g.markerGroup),t.currentSymbol=l);t&&t.attr(g.pointAttribs(this,a))}t&&(t[a&&v.isInsidePlot(c,d,v.inverted)?"show":"hide"](),t.element.point=this)}(c=k.halo)&&c.size?(y||(g.halo=y=v.renderer.path().add((this.graphic||t).parentGroup)),y[b?"animate":"attr"]({d:this.haloPath(c.size)}),y.attr({class:"highcharts-halo highcharts-color-"+e(this.colorIndex,g.colorIndex)}),y.point=this,y.attr(r({fill:this.color||g.color,"fill-opacity":c.opacity,zIndex:-1},c.attributes))):y&&y.point&&y.point.haloPath&&y.animate({d:y.point.haloPath(0)});this.state=a}},haloPath:function haloPath(a){return this.series.chart.renderer.symbols.circle(_Mathfloor(this.plotX)-a,this.plotY-a,2*a,2*a)}});r(y.prototype,{onMouseOver:function onMouseOver(){var a=this.chart,b=a.hoverSeries;if(b&&b!==this)b.onMouseOut();this.options.events.mouseOver&&u(this,"mouseOver");this.setState("hover");a.hoverSeries=this},onMouseOut:function onMouseOut(){var a=this.options,b=this.chart,d=b.tooltip,e=b.hoverPoint;b.hoverSeries=null;if(e)e.onMouseOut();this&&a.events.mouseOut&&u(this,"mouseOut");!d||this.stickyTracking||d.shared&&!this.noSharedTooltip||d.hide();this.setState()},setState:function setState(a){var b=this,c=b.options,d=b.graph,f=c.states,g=c.lineWidth,c=0;a=a||"";if(b.state!==a&&(l([b.group,b.markerGroup,b.dataLabelsGroup],function(c){c&&(b.state&&c.removeClass("highcharts-series-"+b.state),a&&c.addClass("highcharts-series-"+a))}),b.state=a,!f[a]||!1!==f[a].enabled)&&(a&&(g=f[a].lineWidth||g+(f[a].lineWidthPlus||0)),d&&!d.dashstyle))for(g={"stroke-width":g},d.animate(g,e(b.chart.options.chart.animation,f[a]&&f[a].animation));b["zone-graph-"+c];){b["zone-graph-"+c].attr(g),c+=1}},setVisible:function setVisible(a,b){var c=this,d=c.chart,e=c.legendItem,f,g=d.options.chart.ignoreHiddenSeries,k=c.visible;f=(c.visible=a=c.options.visible=c.userOptions.visible=void 0===a?!k:a)?"show":"hide";l(["group","dataLabelsGroup","markerGroup","tracker","tt"],function(a){if(c[a])c[a][f]()});if(d.hoverSeries===c||(d.hoverPoint&&d.hoverPoint.series)===c)c.onMouseOut();e&&d.legend.colorizeItem(c,a);c.isDirty=!0;c.options.stacking&&l(d.series,function(a){a.options.stacking&&a.visible&&(a.isDirty=!0)});l(c.linkedSeries,function(b){b.setVisible(a,!1)});g&&(d.isDirtyBox=!0);!1!==b&&d.redraw();u(c,f)},show:function show(){this.setVisible(!0)},hide:function hide(){this.setVisible(!1)},select:function select(a){this.selected=a=void 0===a?!this.selected:a;this.checkbox&&(this.checkbox.checked=a);u(this,a?"select":"unselect")},drawTracker:J.drawTrackerGraph})})(M);(function(a){var C=a.Chart,A=a.each,F=a.inArray,E=a.isArray,m=a.isObject,f=a.pick,l=a.splat;C.prototype.setResponsive=function(f){var l=this.options.responsive,m=[],g=this.currentResponsive;l&&l.rules&&A(l.rules,function(d){void 0===d._id&&(d._id=a.uniqueKey());this.matchResponsiveRule(d,m,f)},this);var d=a.merge.apply(0,a.map(m,function(d){return a.find(l.rules,function(a){return a._id===d}).chartOptions})),m=m.toString()||void 0;m!==(g&&g.ruleIds)&&(g&&this.update(g.undoOptions,f),m?(this.currentResponsive={ruleIds:m,mergedOptions:d,undoOptions:this.currentOptions(d)},this.update(d,f)):this.currentResponsive=void 0)};C.prototype.matchResponsiveRule=function(a,l){var m=a.condition;(m.callback||function(){return this.chartWidth<=f(m.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=f(m.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=f(m.minWidth,0)&&this.chartHeight>=f(m.minHeight,0)}).call(this)&&l.push(a._id)};C.prototype.currentOptions=function(f){function r(f,d,k,b){var e;a.objectEach(f,function(a,g){if(!b&&-1<F(g,["series","xAxis","yAxis"]))for(f[g]=l(f[g]),k[g]=[],e=0;e<f[g].length;e++){d[g][e]&&(k[g][e]={},r(a[e],d[g][e],k[g][e],b+1))}else m(a)?(k[g]=E(a)?[]:{},r(a,d[g]||{},k[g],b+1)):k[g]=d[g]||null})}var t={};r(f,this.options,t,0);return t}})(M);return M});</script><dom-module id="image-controls" assetpath="elements/"><template><style>:host{display:flex;height:100%;}.container{flex-direction:column;flex:1;display:flex;overflow:hidden;}.content{overflow-y:auto;overflow-x:hidden;display:flex;flex-direction:column;}.item{padding:8px;flex:1;display:flex;}.end{justify-content:flex-end;}paper-dropdown-menu{flex:1;}.spacer{flex:1;}#container, .chart-container{display:block;flex-shrink:0;position:relative;height:256px;width:256px;}.chart-container{height:100%;width:100%;}</style><div class="container"><div id="container"><div id="chart" class="chart-container"></div></div><div class="content"><div class="item"><paper-dropdown-menu label="Orientation" selected-item-label="{{orientation}}"><paper-listbox slot="dropdown-content" selected="{{orientationSelected}}"><paper-item label="Default">Default</paper-item><paper-item label="Axial">Axial</paper-item><paper-item label="Coronal">Coronal</paper-item><paper-item label="Sagittal">Sagittal</paper-item></paper-listbox></paper-dropdown-menu></div><div class="item"><paper-dropdown-menu label="Color LUT" selected-item-label="{{colorLut}}"><paper-listbox slot="dropdown-content" selected="{{colorLutSelected}}"><paper-item label="Default">Default</paper-item><paper-item label="Spectrum">Spectrum</paper-item><paper-item label="Hot and Cold">Hot and Cold</paper-item><paper-item label="Gold">Gold</paper-item><paper-item label="Random">Random</paper-item><paper-item label="Walking Dead">Walking Dead</paper-item></paper-listbox></paper-dropdown-menu></div><div class="item end"><paper-button on-tap="reset">reset</paper-button></div></div><div class="spacer"></div></div></template><script>var ImageControls=function(_Polymer$GestureEvent){babelHelpers.inherits(ImageControls,_Polymer$GestureEvent);function ImageControls(){babelHelpers.classCallCheck(this,ImageControls);return babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(ImageControls).apply(this,arguments))}babelHelpers.createClass(ImageControls,[{key:"ready",value:function ready(){babelHelpers.get(babelHelpers.getPrototypeOf(ImageControls.prototype),"ready",this).call(this)}},{key:"connectedCallback",value:function connectedCallback(){babelHelpers.get(babelHelpers.getPrototypeOf(ImageControls.prototype),"connectedCallback",this).call(this);this.highchart=Highcharts.chart({colors:["#2b908f","#90ee7e"],chart:{type:"line",animation:!1,backgroundColor:"rgba(255, 255, 255, 0.0)",plotBorderColor:"#606063",renderTo:this.$.chart},title:{text:null,style:{color:"#A0A0A3"}},subtitle:{text:"Histogram",style:{color:"#A0A0A3"}},plotOptions:{series:{animation:!1,marker:{states:{hover:{enabled:!1}}}}},xAxis:{gridLineColor:"#707073",labels:{style:{color:"#E0E0E3"}},lineColor:"#707073",minorGridLineColor:"#505053",tickColor:"#707073",title:{style:{color:"#A0A0A3"}}},yAxis:{gridLineColor:"#707073",labels:{enabled:!1},lineColor:"#707073",minorGridLineColor:"#505053",tickColor:"#707073",title:{text:null}},tooltip:{enabled:!1},series:[{name:"Intensity distribution",data:[[0,0],[1,0],[2,1],[3,1],[4,0],[5,0]]},{name:"Window Level",data:[[0,0],[1,0],[2,1],[3,1],[4,0],[5,0]]}],legend:{itemStyle:{fontSize:"10px",color:"#E0E0E3"},itemHoverStyle:{color:"#FFF"},itemHiddenStyle:{color:"#606063"}}})}},{key:"_histogramChanged",value:function _histogramChanged(){var data=[];if(this.max===void 0){this.max=Number.NEGATIVE_INFINITY}for(var index=0,i=this.minMax[0];i<this.minMax[1];i++){if(this.histogram[index]>this.max){this.max=this.histogram[index]}data.push([i,this.histogram[index]]);index++}this.highchart.series[0].setData(data);this._windowChanged()}},{key:"_windowChanged",value:function _windowChanged(){var _Mathround=Math.round;if(this.windowCenter&&this.windowWidth&&this.histogram){var start=_Mathround(this.windowCenter-this.windowWidth/2);if(start<this.minMax[0]){start=this.minMax[0]}var end=_Mathround(this.windowCenter+this.windowWidth/2);if(end>this.minMax[1]){end=this.minMax[1]}this.highchart.series[1].data[0].update({x:this.minMax[0],y:0});this.highchart.series[1].data[1].update({x:start,y:0});this.highchart.series[1].data[2].update({x:start+1,y:this.max});this.highchart.series[1].data[3].update({x:end-1,y:this.max});this.highchart.series[1].data[4].update({x:end,y:0});this.highchart.series[1].data[5].update({x:this.minMax[1],y:0})}}},{key:"_windowLevelChanged",value:function _windowLevelChanged(){if("Manual"===this.windowLevel){this.windowLevelSelected=1}}},{key:"resize",value:function resize(){this.$.chart.redraw()}},{key:"reflow",value:function reflow(){if(this.highchart){if(!this.$.container.contains(this.$.chart)){this.$.container.appendChild(this.$.chart)}this.highchart.reflow()}}},{key:"reset",value:function reset(){this.colorLutSelected=0;this.orientationSelected=0;this.windowLevelSelected=0}}],[{key:"is",get:function get(){return"image-controls"}},{key:"properties",get:function get(){return{activated:{type:Boolean,value:!1},colorLut:{type:String,notify:!0},colorLutSelected:{type:Number,value:0},histogram:{type:Array,observer:"_histogramChanged"},max:{type:Number},minMax:{type:Array},orientation:{type:String,notify:!0},orientationSelected:{type:Number,value:0},windowLevel:{type:String,notify:!0,observer:"_windowLevelChanged"},windowLevelSelected:{type:Number,value:0},windowCenter:{type:Number,observer:"_windowChanged"},windowWidth:{type:Number,observer:"_windowChanged"}}}}]);return ImageControls}(Polymer.GestureEventListeners(Polymer.Element));window.customElements.define(ImageControls.is,ImageControls);</script></dom-module><iron-iconset-svg name="image" size="24"><svg><defs><g id="add-a-photo"><path d="M3 4V1h2v3h3v2H5v3H3V6H0V4h3zm3 6V7h3V4h7l1.83 2H21c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H5c-1.1 0-2-.9-2-2V10h3zm7 9c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-3.2-5c0 1.77 1.43 3.2 3.2 3.2s3.2-1.43 3.2-3.2-1.43-3.2-3.2-3.2-3.2 1.43-3.2 3.2z"></path></g><g id="add-to-photos"><path d="M4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6zm16-4H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-1 9h-4v4h-2v-4H9V9h4V5h2v4h4v2z"></path></g><g id="adjust"><path d="M12 2C6.49 2 2 6.49 2 12s4.49 10 10 10 10-4.49 10-10S17.51 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm3-8c0 1.66-1.34 3-3 3s-3-1.34-3-3 1.34-3 3-3 3 1.34 3 3z"></path></g><g id="assistant"><path d="M19 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h4l3 3 3-3h4c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-5.12 10.88L12 17l-1.88-4.12L6 11l4.12-1.88L12 5l1.88 4.12L18 11l-4.12 1.88z"></path></g><g id="assistant-photo"><path d="M14.4 6L14 4H5v17h2v-7h5.6l.4 2h7V6z"></path></g><g id="audiotrack"><path d="M12 3v9.28c-.47-.17-.97-.28-1.5-.28C8.01 12 6 14.01 6 16.5S8.01 21 10.5 21c2.31 0 4.2-1.75 4.45-4H15V6h4V3h-7z"></path></g><g id="blur-circular"><path d="M10 9c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm0 4c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zM7 9.5c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zm3 7c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zm-3-3c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zm3-6c.28 0 .5-.22.5-.5s-.22-.5-.5-.5-.5.22-.5.5.22.5.5.5zM14 9c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm0-1.5c.28 0 .5-.22.5-.5s-.22-.5-.5-.5-.5.22-.5.5.22.5.5.5zm3 6c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zm0-4c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm2-3.5c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zm0-3.5c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1z"></path></g><g id="blur-linear"><path d="M5 17.5c.83 0 1.5-.67 1.5-1.5s-.67-1.5-1.5-1.5-1.5.67-1.5 1.5.67 1.5 1.5 1.5zM9 13c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1zm0-4c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1zM3 21h18v-2H3v2zM5 9.5c.83 0 1.5-.67 1.5-1.5S5.83 6.5 5 6.5 3.5 7.17 3.5 8 4.17 9.5 5 9.5zm0 4c.83 0 1.5-.67 1.5-1.5s-.67-1.5-1.5-1.5-1.5.67-1.5 1.5.67 1.5 1.5 1.5zM9 17c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1zm8-.5c.28 0 .5-.22.5-.5s-.22-.5-.5-.5-.5.22-.5.5.22.5.5.5zM3 3v2h18V3H3zm14 5.5c.28 0 .5-.22.5-.5s-.22-.5-.5-.5-.5.22-.5.5.22.5.5.5zm0 4c.28 0 .5-.22.5-.5s-.22-.5-.5-.5-.5.22-.5.5.22.5.5.5zM13 9c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1zm0 4c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1zm0 4c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1z"></path></g><g id="blur-off"><path d="M14 7c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1zm-.2 4.48l.2.02c.83 0 1.5-.67 1.5-1.5s-.67-1.5-1.5-1.5-1.5.67-1.5 1.5l.02.2c.09.67.61 1.19 1.28 1.28zM14 3.5c.28 0 .5-.22.5-.5s-.22-.5-.5-.5-.5.22-.5.5.22.5.5.5zm-4 0c.28 0 .5-.22.5-.5s-.22-.5-.5-.5-.5.22-.5.5.22.5.5.5zm11 7c.28 0 .5-.22.5-.5s-.22-.5-.5-.5-.5.22-.5.5.22.5.5.5zM10 7c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1zm8 8c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1zm0-4c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1zm0-4c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1zm-4 13.5c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zM2.5 5.27l3.78 3.78L6 9c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1c0-.1-.03-.19-.06-.28l2.81 2.81c-.71.11-1.25.73-1.25 1.47 0 .83.67 1.5 1.5 1.5.74 0 1.36-.54 1.47-1.25l2.81 2.81c-.09-.03-.18-.06-.28-.06-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1c0-.1-.03-.19-.06-.28l3.78 3.78L20 20.23 3.77 4 2.5 5.27zM10 17c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm11-3.5c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zM6 13c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zM3 9.5c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zm7 11c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zM6 17c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm-3-3.5c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5z"></path></g><g id="blur-on"><path d="M6 13c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm0 4c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm0-8c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm-3 .5c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zM6 5c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm15 5.5c.28 0 .5-.22.5-.5s-.22-.5-.5-.5-.5.22-.5.5.22.5.5.5zM14 7c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1zm0-3.5c.28 0 .5-.22.5-.5s-.22-.5-.5-.5-.5.22-.5.5.22.5.5.5zm-11 10c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zm7 7c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zm0-17c.28 0 .5-.22.5-.5s-.22-.5-.5-.5-.5.22-.5.5.22.5.5.5zM10 7c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1zm0 5.5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm8 .5c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm0 4c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm0-8c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm0-4c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm3 8.5c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zM14 17c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm0 3.5c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zm-4-12c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm0 8.5c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm4-4.5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm0-4c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5z"></path></g><g id="brightness-1"><circle cx="12" cy="12" r="10"></circle></g><g id="brightness-2"><path d="M10 2c-1.82 0-3.53.5-5 1.35C7.99 5.08 10 8.3 10 12s-2.01 6.92-5 8.65C6.47 21.5 8.18 22 10 22c5.52 0 10-4.48 10-10S15.52 2 10 2z"></path></g><g id="brightness-3"><path d="M9 2c-1.05 0-2.05.16-3 .46 4.06 1.27 7 5.06 7 9.54 0 4.48-2.94 8.27-7 9.54.95.3 1.95.46 3 .46 5.52 0 10-4.48 10-10S14.52 2 9 2z"></path></g><g id="brightness-4"><path d="M20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69zM12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6c3.31 0 6 2.69 6 6s-2.69 6-6 6z"></path></g><g id="brightness-5"><path d="M20 15.31L23.31 12 20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69zM12 18c-3.31 0-6-2.69-6-6s2.69-6 6-6 6 2.69 6 6-2.69 6-6 6z"></path></g><g id="brightness-6"><path d="M20 15.31L23.31 12 20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69zM12 18V6c3.31 0 6 2.69 6 6s-2.69 6-6 6z"></path></g><g id="brightness-7"><path d="M20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69zM12 18c-3.31 0-6-2.69-6-6s2.69-6 6-6 6 2.69 6 6-2.69 6-6 6zm0-10c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4z"></path></g><g id="broken-image"><path d="M21 5v6.59l-3-3.01-4 4.01-4-4-4 4-3-3.01V5c0-1.1.9-2 2-2h14c1.1 0 2 .9 2 2zm-3 6.42l3 3.01V19c0 1.1-.9 2-2 2H5c-1.1 0-2-.9-2-2v-6.58l3 2.99 4-4 4 4 4-3.99z"></path></g><g id="brush"><path d="M7 14c-1.66 0-3 1.34-3 3 0 1.31-1.16 2-2 2 .92 1.22 2.49 2 4 2 2.21 0 4-1.79 4-4 0-1.66-1.34-3-3-3zm13.71-9.37l-1.34-1.34c-.39-.39-1.02-.39-1.41 0L9 12.25 11.75 15l8.96-8.96c.39-.39.39-1.02 0-1.41z"></path></g><g id="burst-mode"><path d="M1 5h2v14H1zm4 0h2v14H5zm17 0H10c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h12c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1zM11 17l2.5-3.15L15.29 16l2.5-3.22L21 17H11z"></path></g><g id="camera"><path d="M9.4 10.5l4.77-8.26C13.47 2.09 12.75 2 12 2c-2.4 0-4.6.85-6.32 2.25l3.66 6.35.06-.1zM21.54 9c-.92-2.92-3.15-5.26-6-6.34L11.88 9h9.66zm.26 1h-7.49l.29.5 4.76 8.25C21 16.97 22 14.61 22 12c0-.69-.07-1.35-.2-2zM8.54 12l-3.9-6.75C3.01 7.03 2 9.39 2 12c0 .69.07 1.35.2 2h7.49l-1.15-2zm-6.08 3c.92 2.92 3.15 5.26 6 6.34L12.12 15H2.46zm11.27 0l-3.9 6.76c.7.15 1.42.24 2.17.24 2.4 0 4.6-.85 6.32-2.25l-3.66-6.35-.93 1.6z"></path></g><g id="camera-alt"><circle cx="12" cy="12" r="3.2"></circle><path d="M9 2L7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2H9zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5z"></path></g><g id="camera-front"><path d="M10 20H5v2h5v2l3-3-3-3v2zm4 0v2h5v-2h-5zM12 8c1.1 0 2-.9 2-2s-.9-2-2-2-1.99.9-1.99 2S10.9 8 12 8zm5-8H7C5.9 0 5 .9 5 2v14c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V2c0-1.1-.9-2-2-2zM7 2h10v10.5c0-1.67-3.33-2.5-5-2.5s-5 .83-5 2.5V2z"></path></g><g id="camera-rear"><path d="M10 20H5v2h5v2l3-3-3-3v2zm4 0v2h5v-2h-5zm3-20H7C5.9 0 5 .9 5 2v14c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V2c0-1.1-.9-2-2-2zm-5 6c-1.11 0-2-.9-2-2s.89-2 1.99-2 2 .9 2 2C14 5.1 13.1 6 12 6z"></path></g><g id="camera-roll"><path d="M14 5c0-1.1-.9-2-2-2h-1V2c0-.55-.45-1-1-1H6c-.55 0-1 .45-1 1v1H4c-1.1 0-2 .9-2 2v15c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2h8V5h-8zm-2 13h-2v-2h2v2zm0-9h-2V7h2v2zm4 9h-2v-2h2v2zm0-9h-2V7h2v2zm4 9h-2v-2h2v2zm0-9h-2V7h2v2z"></path></g><g id="center-focus-strong"><path d="M12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm-7 7H3v4c0 1.1.9 2 2 2h4v-2H5v-4zM5 5h4V3H5c-1.1 0-2 .9-2 2v4h2V5zm14-2h-4v2h4v4h2V5c0-1.1-.9-2-2-2zm0 16h-4v2h4c1.1 0 2-.9 2-2v-4h-2v4z"></path></g><g id="center-focus-weak"><path d="M5 15H3v4c0 1.1.9 2 2 2h4v-2H5v-4zM5 5h4V3H5c-1.1 0-2 .9-2 2v4h2V5zm14-2h-4v2h4v4h2V5c0-1.1-.9-2-2-2zm0 16h-4v2h4c1.1 0 2-.9 2-2v-4h-2v4zM12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm0 6c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z"></path></g><g id="collections"><path d="M22 16V4c0-1.1-.9-2-2-2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2zm-11-4l2.03 2.71L16 11l4 5H8l3-4zM2 6v14c0 1.1.9 2 2 2h14v-2H4V6H2z"></path></g><g id="collections-bookmark"><path d="M4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6zm16-4H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 10l-2.5-1.5L15 12V4h5v8z"></path></g><g id="color-lens"><path d="M12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9c.83 0 1.5-.67 1.5-1.5 0-.39-.15-.74-.39-1.01-.23-.26-.38-.61-.38-.99 0-.83.67-1.5 1.5-1.5H16c2.76 0 5-2.24 5-5 0-4.42-4.03-8-9-8zm-5.5 9c-.83 0-1.5-.67-1.5-1.5S5.67 9 6.5 9 8 9.67 8 10.5 7.33 12 6.5 12zm3-4C8.67 8 8 7.33 8 6.5S8.67 5 9.5 5s1.5.67 1.5 1.5S10.33 8 9.5 8zm5 0c-.83 0-1.5-.67-1.5-1.5S13.67 5 14.5 5s1.5.67 1.5 1.5S15.33 8 14.5 8zm3 4c-.83 0-1.5-.67-1.5-1.5S16.67 9 17.5 9s1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"></path></g><g id="colorize"><path d="M20.71 5.63l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-3.12 3.12-1.93-1.91-1.41 1.41 1.42 1.42L3 16.25V21h4.75l8.92-8.92 1.42 1.42 1.41-1.41-1.92-1.92 3.12-3.12c.4-.4.4-1.03.01-1.42zM6.92 19L5 17.08l8.06-8.06 1.92 1.92L6.92 19z"></path></g><g id="compare"><path d="M10 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h5v2h2V1h-2v2zm0 15H5l5-6v6zm9-15h-5v2h5v13l-5-6v9h5c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"></path></g><g id="control-point"><path d="M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.49 2 2 6.49 2 12s4.49 10 10 10 10-4.49 10-10S17.51 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"></path></g><g id="control-point-duplicate"><path d="M16 8h-2v3h-3v2h3v3h2v-3h3v-2h-3zM2 12c0-2.79 1.64-5.2 4.01-6.32V3.52C2.52 4.76 0 8.09 0 12s2.52 7.24 6.01 8.48v-2.16C3.64 17.2 2 14.79 2 12zm13-9c-4.96 0-9 4.04-9 9s4.04 9 9 9 9-4.04 9-9-4.04-9-9-9zm0 16c-3.86 0-7-3.14-7-7s3.14-7 7-7 7 3.14 7 7-3.14 7-7 7z"></path></g><g id="crop"><path d="M17 15h2V7c0-1.1-.9-2-2-2H9v2h8v8zM7 17V1H5v4H1v2h4v10c0 1.1.9 2 2 2h10v4h2v-4h4v-2H7z"></path></g><g id="crop-16-9"><path d="M19 6H5c-1.1 0-2 .9-2 2v8c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm0 10H5V8h14v8z"></path></g><g id="crop-3-2"><path d="M19 4H5c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 14H5V6h14v12z"></path></g><g id="crop-5-4"><path d="M19 5H5c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 12H5V7h14v10z"></path></g><g id="crop-7-5"><path d="M19 7H5c-1.1 0-2 .9-2 2v6c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2zm0 8H5V9h14v6z"></path></g><g id="crop-din"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14z"></path></g><g id="crop-free"><path d="M3 5v4h2V5h4V3H5c-1.1 0-2 .9-2 2zm2 10H3v4c0 1.1.9 2 2 2h4v-2H5v-4zm14 4h-4v2h4c1.1 0 2-.9 2-2v-4h-2v4zm0-16h-4v2h4v4h2V5c0-1.1-.9-2-2-2z"></path></g><g id="crop-landscape"><path d="M19 5H5c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 12H5V7h14v10z"></path></g><g id="crop-original"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14zm-5.04-6.71l-2.75 3.54-1.96-2.36L6.5 17h11l-3.54-4.71z"></path></g><g id="crop-portrait"><path d="M17 3H7c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H7V5h10v14z"></path></g><g id="crop-rotate"><path d="M7.47 21.49C4.2 19.93 1.86 16.76 1.5 13H0c.51 6.16 5.66 11 11.95 11 .23 0 .44-.02.66-.03L8.8 20.15l-1.33 1.34zM12.05 0c-.23 0-.44.02-.66.04l3.81 3.81 1.33-1.33C19.8 4.07 22.14 7.24 22.5 11H24c-.51-6.16-5.66-11-11.95-11zM16 14h2V8c0-1.11-.9-2-2-2h-6v2h6v6zm-8 2V4H6v2H4v2h2v8c0 1.1.89 2 2 2h8v2h2v-2h2v-2H8z"></path></g><g id="crop-square"><path d="M18 4H6c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 14H6V6h12v12z"></path></g><g id="dehaze"><path d="M2 15.5v2h20v-2H2zm0-5v2h20v-2H2zm0-5v2h20v-2H2z"></path></g><g id="details"><path d="M3 4l9 16 9-16H3zm3.38 2h11.25L12 16 6.38 6z"></path></g><g id="edit"><path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"></path></g><g id="exposure"><path d="M15 17v2h2v-2h2v-2h-2v-2h-2v2h-2v2h2zm5-15H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM5 5h6v2H5V5zm15 15H4L20 4v16z"></path></g><g id="exposure-neg-1"><path d="M4 11v2h8v-2H4zm15 7h-2V7.38L14 8.4V6.7L18.7 5h.3v13z"></path></g><g id="exposure-neg-2"><path d="M15.05 16.29l2.86-3.07c.38-.39.72-.79 1.04-1.18.32-.39.59-.78.82-1.17.23-.39.41-.78.54-1.17s.19-.79.19-1.18c0-.53-.09-1.02-.27-1.46-.18-.44-.44-.81-.78-1.11-.34-.31-.77-.54-1.26-.71-.51-.16-1.08-.24-1.72-.24-.69 0-1.31.11-1.85.32-.54.21-1 .51-1.36.88-.37.37-.65.8-.84 1.3-.18.47-.27.97-.28 1.5h2.14c.01-.31.05-.6.13-.87.09-.29.23-.54.4-.75.18-.21.41-.37.68-.49.27-.12.6-.18.96-.18.31 0 .58.05.81.15.23.1.43.25.59.43.16.18.28.4.37.65.08.25.13.52.13.81 0 .22-.03.43-.08.65-.06.22-.15.45-.29.7-.14.25-.32.53-.56.83-.23.3-.52.65-.88 1.03l-4.17 4.55V18H21v-1.71h-5.95zM2 11v2h8v-2H2z"></path></g><g id="exposure-plus-1"><path d="M10 7H8v4H4v2h4v4h2v-4h4v-2h-4V7zm10 11h-2V7.38L15 8.4V6.7L19.7 5h.3v13z"></path></g><g id="exposure-plus-2"><path d="M16.05 16.29l2.86-3.07c.38-.39.72-.79 1.04-1.18.32-.39.59-.78.82-1.17.23-.39.41-.78.54-1.17.13-.39.19-.79.19-1.18 0-.53-.09-1.02-.27-1.46-.18-.44-.44-.81-.78-1.11-.34-.31-.77-.54-1.26-.71-.51-.16-1.08-.24-1.72-.24-.69 0-1.31.11-1.85.32-.54.21-1 .51-1.36.88-.37.37-.65.8-.84 1.3-.18.47-.27.97-.28 1.5h2.14c.01-.31.05-.6.13-.87.09-.29.23-.54.4-.75.18-.21.41-.37.68-.49.27-.12.6-.18.96-.18.31 0 .58.05.81.15.23.1.43.25.59.43.16.18.28.4.37.65.08.25.13.52.13.81 0 .22-.03.43-.08.65-.06.22-.15.45-.29.7-.14.25-.32.53-.56.83-.23.3-.52.65-.88 1.03l-4.17 4.55V18H22v-1.71h-5.95zM8 7H6v4H2v2h4v4h2v-4h4v-2H8V7z"></path></g><g id="exposure-zero"><path d="M16.14 12.5c0 1-.1 1.85-.3 2.55-.2.7-.48 1.27-.83 1.7-.36.44-.79.75-1.3.95-.51.2-1.07.3-1.7.3-.62 0-1.18-.1-1.69-.3-.51-.2-.95-.51-1.31-.95-.36-.44-.65-1.01-.85-1.7-.2-.7-.3-1.55-.3-2.55v-2.04c0-1 .1-1.85.3-2.55.2-.7.48-1.26.84-1.69.36-.43.8-.74 1.31-.93C10.81 5.1 11.38 5 12 5c.63 0 1.19.1 1.7.29.51.19.95.5 1.31.93.36.43.64.99.84 1.69.2.7.3 1.54.3 2.55v2.04zm-2.11-2.36c0-.64-.05-1.18-.13-1.62-.09-.44-.22-.79-.4-1.06-.17-.27-.39-.46-.64-.58-.25-.13-.54-.19-.86-.19-.32 0-.61.06-.86.18s-.47.31-.64.58c-.17.27-.31.62-.4 1.06s-.13.98-.13 1.62v2.67c0 .64.05 1.18.14 1.62.09.45.23.81.4 1.09s.39.48.64.61.54.19.87.19c.33 0 .62-.06.87-.19s.46-.33.63-.61c.17-.28.3-.64.39-1.09.09-.45.13-.99.13-1.62v-2.66z"></path></g><g id="filter"><path d="M15.96 10.29l-2.75 3.54-1.96-2.36L8.5 15h11l-3.54-4.71zM3 5H1v16c0 1.1.9 2 2 2h16v-2H3V5zm18-4H7c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V3c0-1.1-.9-2-2-2zm0 16H7V3h14v14z"></path></g><g id="filter-1"><path d="M3 5H1v16c0 1.1.9 2 2 2h16v-2H3V5zm11 10h2V5h-4v2h2v8zm7-14H7c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V3c0-1.1-.9-2-2-2zm0 16H7V3h14v14z"></path></g><g id="filter-2"><path d="M3 5H1v16c0 1.1.9 2 2 2h16v-2H3V5zm18-4H7c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V3c0-1.1-.9-2-2-2zm0 16H7V3h14v14zm-4-4h-4v-2h2c1.1 0 2-.89 2-2V7c0-1.11-.9-2-2-2h-4v2h4v2h-2c-1.1 0-2 .89-2 2v4h6v-2z"></path></g><g id="filter-3"><path d="M21 1H7c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V3c0-1.1-.9-2-2-2zm0 16H7V3h14v14zM3 5H1v16c0 1.1.9 2 2 2h16v-2H3V5zm14 8v-1.5c0-.83-.67-1.5-1.5-1.5.83 0 1.5-.67 1.5-1.5V7c0-1.11-.9-2-2-2h-4v2h4v2h-2v2h2v2h-4v2h4c1.1 0 2-.89 2-2z"></path></g><g id="filter-4"><path d="M3 5H1v16c0 1.1.9 2 2 2h16v-2H3V5zm12 10h2V5h-2v4h-2V5h-2v6h4v4zm6-14H7c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V3c0-1.1-.9-2-2-2zm0 16H7V3h14v14z"></path></g><g id="filter-5"><path d="M21 1H7c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V3c0-1.1-.9-2-2-2zm0 16H7V3h14v14zM3 5H1v16c0 1.1.9 2 2 2h16v-2H3V5zm14 8v-2c0-1.11-.9-2-2-2h-2V7h4V5h-6v6h4v2h-4v2h4c1.1 0 2-.89 2-2z"></path></g><g id="filter-6"><path d="M3 5H1v16c0 1.1.9 2 2 2h16v-2H3V5zm18-4H7c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V3c0-1.1-.9-2-2-2zm0 16H7V3h14v14zm-8-2h2c1.1 0 2-.89 2-2v-2c0-1.11-.9-2-2-2h-2V7h4V5h-4c-1.1 0-2 .89-2 2v6c0 1.11.9 2 2 2zm0-4h2v2h-2v-2z"></path></g><g id="filter-7"><path d="M3 5H1v16c0 1.1.9 2 2 2h16v-2H3V5zm18-4H7c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V3c0-1.1-.9-2-2-2zm0 16H7V3h14v14zm-8-2l4-8V5h-6v2h4l-4 8h2z"></path></g><g id="filter-8"><path d="M3 5H1v16c0 1.1.9 2 2 2h16v-2H3V5zm18-4H7c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V3c0-1.1-.9-2-2-2zm0 16H7V3h14v14zm-8-2h2c1.1 0 2-.89 2-2v-1.5c0-.83-.67-1.5-1.5-1.5.83 0 1.5-.67 1.5-1.5V7c0-1.11-.9-2-2-2h-2c-1.1 0-2 .89-2 2v1.5c0 .83.67 1.5 1.5 1.5-.83 0-1.5.67-1.5 1.5V13c0 1.11.9 2 2 2zm0-8h2v2h-2V7zm0 4h2v2h-2v-2z"></path></g><g id="filter-9"><path d="M3 5H1v16c0 1.1.9 2 2 2h16v-2H3V5zm18-4H7c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V3c0-1.1-.9-2-2-2zm0 16H7V3h14v14zM15 5h-2c-1.1 0-2 .89-2 2v2c0 1.11.9 2 2 2h2v2h-4v2h4c1.1 0 2-.89 2-2V7c0-1.11-.9-2-2-2zm0 4h-2V7h2v2z"></path></g><g id="filter-9-plus"><path d="M3 5H1v16c0 1.1.9 2 2 2h16v-2H3V5zm11 7V8c0-1.11-.9-2-2-2h-1c-1.1 0-2 .89-2 2v1c0 1.11.9 2 2 2h1v1H9v2h3c1.1 0 2-.89 2-2zm-3-3V8h1v1h-1zm10-8H7c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V3c0-1.1-.9-2-2-2zm0 8h-2V7h-2v2h-2v2h2v2h2v-2h2v6H7V3h14v6z"></path></g><g id="filter-b-and-w"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16l-7-8v8H5l7-8V5h7v14z"></path></g><g id="filter-center-focus"><path d="M5 15H3v4c0 1.1.9 2 2 2h4v-2H5v-4zM5 5h4V3H5c-1.1 0-2 .9-2 2v4h2V5zm14-2h-4v2h4v4h2V5c0-1.1-.9-2-2-2zm0 16h-4v2h4c1.1 0 2-.9 2-2v-4h-2v4zM12 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"></path></g><g id="filter-drama"><path d="M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.61 5.64 5.36 8.04 2.35 8.36 0 10.9 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM19 18H6c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4h2c0-2.76-1.86-5.08-4.4-5.78C8.61 6.88 10.2 6 12 6c3.03 0 5.5 2.47 5.5 5.5v.5H19c1.65 0 3 1.35 3 3s-1.35 3-3 3z"></path></g><g id="filter-frames"><path d="M20 4h-4l-4-4-4 4H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H4V6h4.52l3.52-3.5L15.52 6H20v14zM18 8H6v10h12"></path></g><g id="filter-hdr"><path d="M14 6l-3.75 5 2.85 3.8-1.6 1.2C9.81 13.75 7 10 7 10l-6 8h22L14 6z"></path></g><g id="filter-none"><path d="M3 5H1v16c0 1.1.9 2 2 2h16v-2H3V5zm18-4H7c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V3c0-1.1-.9-2-2-2zm0 16H7V3h14v14z"></path></g><g id="filter-tilt-shift"><path d="M11 4.07V2.05c-2.01.2-3.84 1-5.32 2.21L7.1 5.69c1.11-.86 2.44-1.44 3.9-1.62zm7.32.19C16.84 3.05 15.01 2.25 13 2.05v2.02c1.46.18 2.79.76 3.9 1.62l1.42-1.43zM19.93 11h2.02c-.2-2.01-1-3.84-2.21-5.32L18.31 7.1c.86 1.11 1.44 2.44 1.62 3.9zM5.69 7.1L4.26 5.68C3.05 7.16 2.25 8.99 2.05 11h2.02c.18-1.46.76-2.79 1.62-3.9zM4.07 13H2.05c.2 2.01 1 3.84 2.21 5.32l1.43-1.43c-.86-1.1-1.44-2.43-1.62-3.89zM15 12c0-1.66-1.34-3-3-3s-3 1.34-3 3 1.34 3 3 3 3-1.34 3-3zm3.31 4.9l1.43 1.43c1.21-1.48 2.01-3.32 2.21-5.32h-2.02c-.18 1.45-.76 2.78-1.62 3.89zM13 19.93v2.02c2.01-.2 3.84-1 5.32-2.21l-1.43-1.43c-1.1.86-2.43 1.44-3.89 1.62zm-7.32-.19C7.16 20.95 9 21.75 11 21.95v-2.02c-1.46-.18-2.79-.76-3.9-1.62l-1.42 1.43z"></path></g><g id="filter-vintage"><path d="M18.7 12.4c-.28-.16-.57-.29-.86-.4.29-.11.58-.24.86-.4 1.92-1.11 2.99-3.12 3-5.19-1.79-1.03-4.07-1.11-6 0-.28.16-.54.35-.78.54.05-.31.08-.63.08-.95 0-2.22-1.21-4.15-3-5.19C10.21 1.85 9 3.78 9 6c0 .32.03.64.08.95-.24-.2-.5-.39-.78-.55-1.92-1.11-4.2-1.03-6 0 0 2.07 1.07 4.08 3 5.19.28.16.57.29.86.4-.29.11-.58.24-.86.4-1.92 1.11-2.99 3.12-3 5.19 1.79 1.03 4.07 1.11 6 0 .28-.16.54-.35.78-.54-.05.32-.08.64-.08.96 0 2.22 1.21 4.15 3 5.19 1.79-1.04 3-2.97 3-5.19 0-.32-.03-.64-.08-.95.24.2.5.38.78.54 1.92 1.11 4.2 1.03 6 0-.01-2.07-1.08-4.08-3-5.19zM12 16c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4z"></path></g><g id="flare"><path d="M7 11H1v2h6v-2zm2.17-3.24L7.05 5.64 5.64 7.05l2.12 2.12 1.41-1.41zM13 1h-2v6h2V1zm5.36 6.05l-1.41-1.41-2.12 2.12 1.41 1.41 2.12-2.12zM17 11v2h6v-2h-6zm-5-2c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3zm2.83 7.24l2.12 2.12 1.41-1.41-2.12-2.12-1.41 1.41zm-9.19.71l1.41 1.41 2.12-2.12-1.41-1.41-2.12 2.12zM11 23h2v-6h-2v6z"></path></g><g id="flash-auto"><path d="M3 2v12h3v9l7-12H9l4-9H3zm16 0h-2l-3.2 9h1.9l.7-2h3.2l.7 2h1.9L19 2zm-2.15 5.65L18 4l1.15 3.65h-2.3z"></path></g><g id="flash-off"><path d="M3.27 3L2 4.27l5 5V13h3v9l3.58-6.14L17.73 20 19 18.73 3.27 3zM17 10h-4l4-8H7v2.18l8.46 8.46L17 10z"></path></g><g id="flash-on"><path d="M7 2v11h3v9l7-12h-4l4-8z"></path></g><g id="flip"><path d="M15 21h2v-2h-2v2zm4-12h2V7h-2v2zM3 5v14c0 1.1.9 2 2 2h4v-2H5V5h4V3H5c-1.1 0-2 .9-2 2zm16-2v2h2c0-1.1-.9-2-2-2zm-8 20h2V1h-2v22zm8-6h2v-2h-2v2zM15 5h2V3h-2v2zm4 8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2z"></path></g><g id="gradient"><path d="M11 9h2v2h-2zm-2 2h2v2H9zm4 0h2v2h-2zm2-2h2v2h-2zM7 9h2v2H7zm12-6H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 18H7v-2h2v2zm4 0h-2v-2h2v2zm4 0h-2v-2h2v2zm2-7h-2v2h2v2h-2v-2h-2v2h-2v-2h-2v2H9v-2H7v2H5v-2h2v-2H5V5h14v6z"></path></g><g id="grain"><path d="M10 12c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zM6 8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12-8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm-4 8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm4-4c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-4-4c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-4-4c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"></path></g><g id="grid-off"><path d="M8 4v1.45l2 2V4h4v4h-3.45l2 2H14v1.45l2 2V10h4v4h-3.45l2 2H20v1.45l2 2V4c0-1.1-.9-2-2-2H4.55l2 2H8zm8 0h4v4h-4V4zM1.27 1.27L0 2.55l2 2V20c0 1.1.9 2 2 2h15.46l2 2 1.27-1.27L1.27 1.27zM10 12.55L11.45 14H10v-1.45zm-6-6L5.45 8H4V6.55zM8 20H4v-4h4v4zm0-6H4v-4h3.45l.55.55V14zm6 6h-4v-4h3.45l.55.54V20zm2 0v-1.46L17.46 20H16z"></path></g><g id="grid-on"><path d="M20 2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM8 20H4v-4h4v4zm0-6H4v-4h4v4zm0-6H4V4h4v4zm6 12h-4v-4h4v4zm0-6h-4v-4h4v4zm0-6h-4V4h4v4zm6 12h-4v-4h4v4zm0-6h-4v-4h4v4zm0-6h-4V4h4v4z"></path></g><g id="hdr-off"><path d="M17.5 15v-2h1.1l.9 2H21l-.9-2.1c.5-.2.9-.8.9-1.4v-1c0-.8-.7-1.5-1.5-1.5H16v4.9l1.1 1.1h.4zm0-4.5h2v1h-2v-1zm-4.5 0v.4l1.5 1.5v-1.9c0-.8-.7-1.5-1.5-1.5h-1.9l1.5 1.5h.4zm-3.5-1l-7-7-1.1 1L6.9 9h-.4v2h-2V9H3v6h1.5v-2.5h2V15H8v-4.9l1.5 1.5V15h3.4l7.6 7.6 1.1-1.1-12.1-12z"></path></g><g id="hdr-on"><path d="M21 11.5v-1c0-.8-.7-1.5-1.5-1.5H16v6h1.5v-2h1.1l.9 2H21l-.9-2.1c.5-.3.9-.8.9-1.4zm-1.5 0h-2v-1h2v1zm-13-.5h-2V9H3v6h1.5v-2.5h2V15H8V9H6.5v2zM13 9H9.5v6H13c.8 0 1.5-.7 1.5-1.5v-3c0-.8-.7-1.5-1.5-1.5zm0 4.5h-2v-3h2v3z"></path></g><g id="hdr-strong"><path d="M17 6c-3.31 0-6 2.69-6 6s2.69 6 6 6 6-2.69 6-6-2.69-6-6-6zM5 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm0 6c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z"></path></g><g id="hdr-weak"><path d="M5 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm12-2c-3.31 0-6 2.69-6 6s2.69 6 6 6 6-2.69 6-6-2.69-6-6-6zm0 10c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4z"></path></g><g id="healing"><path d="M17.73 12.02l3.98-3.98c.39-.39.39-1.02 0-1.41l-4.34-4.34c-.39-.39-1.02-.39-1.41 0l-3.98 3.98L8 2.29C7.8 2.1 7.55 2 7.29 2c-.25 0-.51.1-.7.29L2.25 6.63c-.39.39-.39 1.02 0 1.41l3.98 3.98L2.25 16c-.39.39-.39 1.02 0 1.41l4.34 4.34c.39.39 1.02.39 1.41 0l3.98-3.98 3.98 3.98c.2.2.45.29.71.29.26 0 .51-.1.71-.29l4.34-4.34c.39-.39.39-1.02 0-1.41l-3.99-3.98zM12 9c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm-4.71 1.96L3.66 7.34l3.63-3.63 3.62 3.62-3.62 3.63zM10 13c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm2 2c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm2-4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm2.66 9.34l-3.63-3.62 3.63-3.63 3.62 3.62-3.62 3.63z"></path></g><g id="image"><path d="M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"></path></g><g id="image-aspect-ratio"><path d="M16 10h-2v2h2v-2zm0 4h-2v2h2v-2zm-8-4H6v2h2v-2zm4 0h-2v2h2v-2zm8-6H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 14H4V6h16v12z"></path></g><g id="iso"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM5.5 7.5h2v-2H9v2h2V9H9v2H7.5V9h-2V7.5zM19 19H5L19 5v14zm-2-2v-1.5h-5V17h5z"></path></g><g id="landscape"><path d="M14 6l-3.75 5 2.85 3.8-1.6 1.2C9.81 13.75 7 10 7 10l-6 8h22L14 6z"></path></g><g id="leak-add"><path d="M6 3H3v3c1.66 0 3-1.34 3-3zm8 0h-2c0 4.97-4.03 9-9 9v2c6.08 0 11-4.93 11-11zm-4 0H8c0 2.76-2.24 5-5 5v2c3.87 0 7-3.13 7-7zm0 18h2c0-4.97 4.03-9 9-9v-2c-6.07 0-11 4.93-11 11zm8 0h3v-3c-1.66 0-3 1.34-3 3zm-4 0h2c0-2.76 2.24-5 5-5v-2c-3.87 0-7 3.13-7 7z"></path></g><g id="leak-remove"><path d="M10 3H8c0 .37-.04.72-.12 1.06l1.59 1.59C9.81 4.84 10 3.94 10 3zM3 4.27l2.84 2.84C5.03 7.67 4.06 8 3 8v2c1.61 0 3.09-.55 4.27-1.46L8.7 9.97C7.14 11.24 5.16 12 3 12v2c2.71 0 5.19-.99 7.11-2.62l2.5 2.5C10.99 15.81 10 18.29 10 21h2c0-2.16.76-4.14 2.03-5.69l1.43 1.43C14.55 17.91 14 19.39 14 21h2c0-1.06.33-2.03.89-2.84L19.73 21 21 19.73 4.27 3 3 4.27zM14 3h-2c0 1.5-.37 2.91-1.02 4.16l1.46 1.46C13.42 6.98 14 5.06 14 3zm5.94 13.12c.34-.08.69-.12 1.06-.12v-2c-.94 0-1.84.19-2.66.52l1.6 1.6zm-4.56-4.56l1.46 1.46C18.09 12.37 19.5 12 21 12v-2c-2.06 0-3.98.58-5.62 1.56z"></path></g><g id="lens"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2z"></path></g><g id="linked-camera"><circle cx="12" cy="14" r="3.2"></circle><path d="M16 3.33c2.58 0 4.67 2.09 4.67 4.67H22c0-3.31-2.69-6-6-6v1.33M16 6c1.11 0 2 .89 2 2h1.33c0-1.84-1.49-3.33-3.33-3.33V6"></path><path d="M17 9c0-1.11-.89-2-2-2V4H9L7.17 6H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V9h-5zm-5 10c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5z"></path></g><g id="looks"><path d="M12 10c-3.86 0-7 3.14-7 7h2c0-2.76 2.24-5 5-5s5 2.24 5 5h2c0-3.86-3.14-7-7-7zm0-4C5.93 6 1 10.93 1 17h2c0-4.96 4.04-9 9-9s9 4.04 9 9h2c0-6.07-4.93-11-11-11z"></path></g><g id="looks-3"><path d="M19.01 3h-14c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-4 7.5c0 .83-.67 1.5-1.5 1.5.83 0 1.5.67 1.5 1.5V15c0 1.11-.9 2-2 2h-4v-2h4v-2h-2v-2h2V9h-4V7h4c1.1 0 2 .89 2 2v1.5z"></path></g><g id="looks-4"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-4 14h-2v-4H9V7h2v4h2V7h2v10z"></path></g><g id="looks-5"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-4 6h-4v2h2c1.1 0 2 .89 2 2v2c0 1.11-.9 2-2 2H9v-2h4v-2H9V7h6v2z"></path></g><g id="looks-6"><path d="M11 15h2v-2h-2v2zm8-12H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-4 6h-4v2h2c1.1 0 2 .89 2 2v2c0 1.11-.9 2-2 2h-2c-1.1 0-2-.89-2-2V9c0-1.11.9-2 2-2h4v2z"></path></g><g id="looks-one"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5 14h-2V9h-2V7h4v10z"></path></g><g id="looks-two"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-4 8c0 1.11-.9 2-2 2h-2v2h4v2H9v-4c0-1.11.9-2 2-2h2V9H9V7h4c1.1 0 2 .89 2 2v2z"></path></g><g id="loupe"><path d="M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.49 2 2 6.49 2 12s4.49 10 10 10h8c1.1 0 2-.9 2-2v-8c0-5.51-4.49-10-10-10zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"></path></g><g id="monochrome-photos"><path d="M20 5h-3.2L15 3H9L7.2 5H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 14h-8v-1c-2.8 0-5-2.2-5-5s2.2-5 5-5V7h8v12zm-3-6c0-2.8-2.2-5-5-5v1.8c1.8 0 3.2 1.4 3.2 3.2s-1.4 3.2-3.2 3.2V18c2.8 0 5-2.2 5-5zm-8.2 0c0 1.8 1.4 3.2 3.2 3.2V9.8c-1.8 0-3.2 1.4-3.2 3.2z"></path></g><g id="movie-creation"><path d="M18 4l2 4h-3l-2-4h-2l2 4h-3l-2-4H8l2 4H7L5 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V4h-4z"></path></g><g id="movie-filter"><path d="M18 4l2 3h-3l-2-3h-2l2 3h-3l-2-3H8l2 3H7L5 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V4h-4zm-6.75 11.25L10 18l-1.25-2.75L6 14l2.75-1.25L10 10l1.25 2.75L14 14l-2.75 1.25zm5.69-3.31L16 14l-.94-2.06L13 11l2.06-.94L16 8l.94 2.06L19 11l-2.06.94z"></path></g><g id="music-note"><path d="M12 3v10.55c-.59-.34-1.27-.55-2-.55-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4V7h4V3h-6z"></path></g><g id="nature"><path d="M13 16.12c3.47-.41 6.17-3.36 6.17-6.95 0-3.87-3.13-7-7-7s-7 3.13-7 7c0 3.47 2.52 6.34 5.83 6.89V20H5v2h14v-2h-6v-3.88z"></path></g><g id="nature-people"><path d="M22.17 9.17c0-3.87-3.13-7-7-7s-7 3.13-7 7c0 3.47 2.52 6.34 5.83 6.89V20H6v-3h1v-4c0-.55-.45-1-1-1H3c-.55 0-1 .45-1 1v4h1v5h16v-2h-3v-3.88c3.47-.41 6.17-3.36 6.17-6.95zM4.5 11c.83 0 1.5-.67 1.5-1.5S5.33 8 4.5 8 3 8.67 3 9.5 3.67 11 4.5 11z"></path></g><g id="navigate-before"><path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"></path></g><g id="navigate-next"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"></path></g><g id="palette"><path d="M12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9c.83 0 1.5-.67 1.5-1.5 0-.39-.15-.74-.39-1.01-.23-.26-.38-.61-.38-.99 0-.83.67-1.5 1.5-1.5H16c2.76 0 5-2.24 5-5 0-4.42-4.03-8-9-8zm-5.5 9c-.83 0-1.5-.67-1.5-1.5S5.67 9 6.5 9 8 9.67 8 10.5 7.33 12 6.5 12zm3-4C8.67 8 8 7.33 8 6.5S8.67 5 9.5 5s1.5.67 1.5 1.5S10.33 8 9.5 8zm5 0c-.83 0-1.5-.67-1.5-1.5S13.67 5 14.5 5s1.5.67 1.5 1.5S15.33 8 14.5 8zm3 4c-.83 0-1.5-.67-1.5-1.5S16.67 9 17.5 9s1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"></path></g><g id="panorama"><path d="M23 18V6c0-1.1-.9-2-2-2H3c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2zM8.5 12.5l2.5 3.01L14.5 11l4.5 6H5l3.5-4.5z"></path></g><g id="panorama-fish-eye"><path d="M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"></path></g><g id="panorama-horizontal"><path d="M20 6.54v10.91c-2.6-.77-5.28-1.16-8-1.16-2.72 0-5.4.39-8 1.16V6.54c2.6.77 5.28 1.16 8 1.16 2.72.01 5.4-.38 8-1.16M21.43 4c-.1 0-.2.02-.31.06C18.18 5.16 15.09 5.7 12 5.7c-3.09 0-6.18-.55-9.12-1.64-.11-.04-.22-.06-.31-.06-.34 0-.57.23-.57.63v14.75c0 .39.23.62.57.62.1 0 .2-.02.31-.06 2.94-1.1 6.03-1.64 9.12-1.64 3.09 0 6.18.55 9.12 1.64.11.04.21.06.31.06.33 0 .57-.23.57-.63V4.63c0-.4-.24-.63-.57-.63z"></path></g><g id="panorama-vertical"><path d="M19.94 21.12c-1.1-2.94-1.64-6.03-1.64-9.12 0-3.09.55-6.18 1.64-9.12.04-.11.06-.22.06-.31 0-.34-.23-.57-.63-.57H4.63c-.4 0-.63.23-.63.57 0 .1.02.2.06.31C5.16 5.82 5.71 8.91 5.71 12c0 3.09-.55 6.18-1.64 9.12-.05.11-.07.22-.07.31 0 .33.23.57.63.57h14.75c.39 0 .63-.24.63-.57-.01-.1-.03-.2-.07-.31zM6.54 20c.77-2.6 1.16-5.28 1.16-8 0-2.72-.39-5.4-1.16-8h10.91c-.77 2.6-1.16 5.28-1.16 8 0 2.72.39 5.4 1.16 8H6.54z"></path></g><g id="panorama-wide-angle"><path d="M12 6c2.45 0 4.71.2 7.29.64.47 1.78.71 3.58.71 5.36 0 1.78-.24 3.58-.71 5.36-2.58.44-4.84.64-7.29.64s-4.71-.2-7.29-.64C4.24 15.58 4 13.78 4 12c0-1.78.24-3.58.71-5.36C7.29 6.2 9.55 6 12 6m0-2c-2.73 0-5.22.24-7.95.72l-.93.16-.25.9C2.29 7.85 2 9.93 2 12s.29 4.15.87 6.22l.25.89.93.16c2.73.49 5.22.73 7.95.73s5.22-.24 7.95-.72l.93-.16.25-.89c.58-2.08.87-4.16.87-6.23s-.29-4.15-.87-6.22l-.25-.89-.93-.16C17.22 4.24 14.73 4 12 4z"></path></g><g id="photo"><path d="M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"></path></g><g id="photo-album"><path d="M18 2H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM6 4h5v8l-2.5-1.5L6 12V4zm0 15l3-3.86 2.14 2.58 3-3.86L18 19H6z"></path></g><g id="photo-camera"><circle cx="12" cy="12" r="3.2"></circle><path d="M9 2L7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2H9zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5z"></path></g><g id="photo-filter"><path d="M19.02 10v9H5V5h9V3H5.02c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-9h-2zM17 10l.94-2.06L20 7l-2.06-.94L17 4l-.94 2.06L14 7l2.06.94zm-3.75.75L12 8l-1.25 2.75L8 12l2.75 1.25L12 16l1.25-2.75L16 12z"></path></g><g id="photo-library"><path d="M22 16V4c0-1.1-.9-2-2-2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2zm-11-4l2.03 2.71L16 11l4 5H8l3-4zM2 6v14c0 1.1.9 2 2 2h14v-2H4V6H2z"></path></g><g id="photo-size-select-actual"><path d="M21 3H3C2 3 1 4 1 5v14c0 1.1.9 2 2 2h18c1 0 2-1 2-2V5c0-1-1-2-2-2zM5 17l3.5-4.5 2.5 3.01L14.5 11l4.5 6H5z"></path></g><g id="photo-size-select-large"><path d="M21 15h2v2h-2v-2zm0-4h2v2h-2v-2zm2 8h-2v2c1 0 2-1 2-2zM13 3h2v2h-2V3zm8 4h2v2h-2V7zm0-4v2h2c0-1-1-2-2-2zM1 7h2v2H1V7zm16-4h2v2h-2V3zm0 16h2v2h-2v-2zM3 3C2 3 1 4 1 5h2V3zm6 0h2v2H9V3zM5 3h2v2H5V3zm-4 8v8c0 1.1.9 2 2 2h12V11H1zm2 8l2.5-3.21 1.79 2.15 2.5-3.22L13 19H3z"></path></g><g id="photo-size-select-small"><path d="M23 15h-2v2h2v-2zm0-4h-2v2h2v-2zm0 8h-2v2c1 0 2-1 2-2zM15 3h-2v2h2V3zm8 4h-2v2h2V7zm-2-4v2h2c0-1-1-2-2-2zM3 21h8v-6H1v4c0 1.1.9 2 2 2zM3 7H1v2h2V7zm12 12h-2v2h2v-2zm4-16h-2v2h2V3zm0 16h-2v2h2v-2zM3 3C2 3 1 4 1 5h2V3zm0 8H1v2h2v-2zm8-8H9v2h2V3zM7 3H5v2h2V3z"></path></g><g id="picture-as-pdf"><path d="M20 2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-8.5 7.5c0 .83-.67 1.5-1.5 1.5H9v2H7.5V7H10c.83 0 1.5.67 1.5 1.5v1zm5 2c0 .83-.67 1.5-1.5 1.5h-2.5V7H15c.83 0 1.5.67 1.5 1.5v3zm4-3H19v1h1.5V11H19v2h-1.5V7h3v1.5zM9 9.5h1v-1H9v1zM4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6zm10 5.5h1v-3h-1v3z"></path></g><g id="portrait"><path d="M12 12.25c1.24 0 2.25-1.01 2.25-2.25S13.24 7.75 12 7.75 9.75 8.76 9.75 10s1.01 2.25 2.25 2.25zm4.5 4c0-1.5-3-2.25-4.5-2.25s-4.5.75-4.5 2.25V17h9v-.75zM19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14z"></path></g><g id="remove-red-eye"><path d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"></path></g><g id="rotate-90-degrees-ccw"><path d="M7.34 6.41L.86 12.9l6.49 6.48 6.49-6.48-6.5-6.49zM3.69 12.9l3.66-3.66L11 12.9l-3.66 3.66-3.65-3.66zm15.67-6.26C17.61 4.88 15.3 4 13 4V.76L8.76 5 13 9.24V6c1.79 0 3.58.68 4.95 2.05 2.73 2.73 2.73 7.17 0 9.9C16.58 19.32 14.79 20 13 20c-.97 0-1.94-.21-2.84-.61l-1.49 1.49C10.02 21.62 11.51 22 13 22c2.3 0 4.61-.88 6.36-2.64 3.52-3.51 3.52-9.21 0-12.72z"></path></g><g id="rotate-left"><path d="M7.11 8.53L5.7 7.11C4.8 8.27 4.24 9.61 4.07 11h2.02c.14-.87.49-1.72 1.02-2.47zM6.09 13H4.07c.17 1.39.72 2.73 1.62 3.89l1.41-1.42c-.52-.75-.87-1.59-1.01-2.47zm1.01 5.32c1.16.9 2.51 1.44 3.9 1.61V17.9c-.87-.15-1.71-.49-2.46-1.03L7.1 18.32zM13 4.07V1L8.45 5.55 13 10V6.09c2.84.48 5 2.94 5 5.91s-2.16 5.43-5 5.91v2.02c3.95-.49 7-3.85 7-7.93s-3.05-7.44-7-7.93z"></path></g><g id="rotate-right"><path d="M15.55 5.55L11 1v3.07C7.06 4.56 4 7.92 4 12s3.05 7.44 7 7.93v-2.02c-2.84-.48-5-2.94-5-5.91s2.16-5.43 5-5.91V10l4.55-4.45zM19.93 11c-.17-1.39-.72-2.73-1.62-3.89l-1.42 1.42c.54.75.88 1.6 1.02 2.47h2.02zM13 17.9v2.02c1.39-.17 2.74-.71 3.9-1.61l-1.44-1.44c-.75.54-1.59.89-2.46 1.03zm3.89-2.42l1.42 1.41c.9-1.16 1.45-2.5 1.62-3.89h-2.02c-.14.87-.48 1.72-1.02 2.48z"></path></g><g id="slideshow"><path d="M10 8v8l5-4-5-4zm9-5H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14z"></path></g><g id="straighten"><path d="M21 6H3c-1.1 0-2 .9-2 2v8c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm0 10H3V8h2v4h2V8h2v4h2V8h2v4h2V8h2v4h2V8h2v8z"></path></g><g id="style"><path d="M2.53 19.65l1.34.56v-9.03l-2.43 5.86c-.41 1.02.08 2.19 1.09 2.61zm19.5-3.7L17.07 3.98c-.31-.75-1.04-1.21-1.81-1.23-.26 0-.53.04-.79.15L7.1 5.95c-.75.31-1.21 1.03-1.23 1.8-.01.27.04.54.15.8l4.96 11.97c.31.76 1.05 1.22 1.83 1.23.26 0 .52-.05.77-.15l7.36-3.05c1.02-.42 1.51-1.59 1.09-2.6zM7.88 8.75c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm-2 11c0 1.1.9 2 2 2h1.45l-3.45-8.34v6.34z"></path></g><g id="switch-camera"><path d="M20 4h-3.17L15 2H9L7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-5 11.5V13H9v2.5L5.5 12 9 8.5V11h6V8.5l3.5 3.5-3.5 3.5z"></path></g><g id="switch-video"><path d="M18 9.5V6c0-.55-.45-1-1-1H3c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h14c.55 0 1-.45 1-1v-3.5l4 4v-13l-4 4zm-5 6V13H7v2.5L3.5 12 7 8.5V11h6V8.5l3.5 3.5-3.5 3.5z"></path></g><g id="tag-faces"><path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm3.5-9c.83 0 1.5-.67 1.5-1.5S16.33 8 15.5 8 14 8.67 14 9.5s.67 1.5 1.5 1.5zm-7 0c.83 0 1.5-.67 1.5-1.5S9.33 8 8.5 8 7 8.67 7 9.5 7.67 11 8.5 11zm3.5 6.5c2.33 0 4.31-1.46 5.11-3.5H6.89c.8 2.04 2.78 3.5 5.11 3.5z"></path></g><g id="texture"><path d="M19.51 3.08L3.08 19.51c.09.34.27.65.51.9.25.24.56.42.9.51L20.93 4.49c-.19-.69-.73-1.23-1.42-1.41zM11.88 3L3 11.88v2.83L14.71 3h-2.83zM5 3c-1.1 0-2 .9-2 2v2l4-4H5zm14 18c.55 0 1.05-.22 1.41-.59.37-.36.59-.86.59-1.41v-2l-4 4h2zm-9.71 0h2.83L21 12.12V9.29L9.29 21z"></path></g><g id="timelapse"><path d="M16.24 7.76C15.07 6.59 13.54 6 12 6v6l-4.24 4.24c2.34 2.34 6.14 2.34 8.49 0 2.34-2.34 2.34-6.14-.01-8.48zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"></path></g><g id="timer"><path d="M15 1H9v2h6V1zm-4 13h2V8h-2v6zm8.03-6.61l1.42-1.42c-.43-.51-.9-.99-1.41-1.41l-1.42 1.42C16.07 4.74 14.12 4 12 4c-4.97 0-9 4.03-9 9s4.02 9 9 9 9-4.03 9-9c0-2.12-.74-4.07-1.97-5.61zM12 20c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"></path></g><g id="timer-10"><path d="M0 7.72V9.4l3-1V18h2V6h-.25L0 7.72zm23.78 6.65c-.14-.28-.35-.53-.63-.74-.28-.21-.61-.39-1.01-.53s-.85-.27-1.35-.38c-.35-.07-.64-.15-.87-.23-.23-.08-.41-.16-.55-.25-.14-.09-.23-.19-.28-.3-.05-.11-.08-.24-.08-.39 0-.14.03-.28.09-.41.06-.13.15-.25.27-.34.12-.1.27-.18.45-.24s.4-.09.64-.09c.25 0 .47.04.66.11.19.07.35.17.48.29.13.12.22.26.29.42.06.16.1.32.1.49h1.95c0-.39-.08-.75-.24-1.09-.16-.34-.39-.63-.69-.88-.3-.25-.66-.44-1.09-.59C21.49 9.07 21 9 20.46 9c-.51 0-.98.07-1.39.21-.41.14-.77.33-1.06.57-.29.24-.51.52-.67.84-.16.32-.23.65-.23 1.01s.08.69.23.96c.15.28.36.52.64.73.27.21.6.38.98.53.38.14.81.26 1.27.36.39.08.71.17.95.26s.43.19.57.29c.13.1.22.22.27.34.05.12.07.25.07.39 0 .32-.13.57-.4.77-.27.2-.66.29-1.17.29-.22 0-.43-.02-.64-.08-.21-.05-.4-.13-.56-.24-.17-.11-.3-.26-.41-.44-.11-.18-.17-.41-.18-.67h-1.89c0 .36.08.71.24 1.05.16.34.39.65.7.93.31.27.69.49 1.15.66.46.17.98.25 1.58.25.53 0 1.01-.06 1.44-.19.43-.13.8-.31 1.11-.54.31-.23.54-.51.71-.83.17-.32.25-.67.25-1.06-.02-.4-.09-.74-.24-1.02zm-9.96-7.32c-.34-.4-.75-.7-1.23-.88-.47-.18-1.01-.27-1.59-.27-.58 0-1.11.09-1.59.27-.48.18-.89.47-1.23.88-.34.41-.6.93-.79 1.59-.18.65-.28 1.45-.28 2.39v1.92c0 .94.09 1.74.28 2.39.19.66.45 1.19.8 1.6.34.41.75.71 1.23.89.48.18 1.01.28 1.59.28.59 0 1.12-.09 1.59-.28.48-.18.88-.48 1.22-.89.34-.41.6-.94.78-1.6.18-.65.28-1.45.28-2.39v-1.92c0-.94-.09-1.74-.28-2.39-.18-.66-.44-1.19-.78-1.59zm-.92 6.17c0 .6-.04 1.11-.12 1.53-.08.42-.2.76-.36 1.02-.16.26-.36.45-.59.57-.23.12-.51.18-.82.18-.3 0-.58-.06-.82-.18s-.44-.31-.6-.57c-.16-.26-.29-.6-.38-1.02-.09-.42-.13-.93-.13-1.53v-2.5c0-.6.04-1.11.13-1.52.09-.41.21-.74.38-1 .16-.25.36-.43.6-.55.24-.11.51-.17.81-.17.31 0 .58.06.81.17.24.11.44.29.6.55.16.25.29.58.37.99.08.41.13.92.13 1.52v2.51z"></path></g><g id="timer-3"><path d="M11.61 12.97c-.16-.24-.36-.46-.62-.65-.25-.19-.56-.35-.93-.48.3-.14.57-.3.8-.5.23-.2.42-.41.57-.64.15-.23.27-.46.34-.71.08-.24.11-.49.11-.73 0-.55-.09-1.04-.28-1.46-.18-.42-.44-.77-.78-1.06-.33-.28-.73-.5-1.2-.64-.45-.13-.97-.2-1.53-.2-.55 0-1.06.08-1.52.24-.47.17-.87.4-1.2.69-.33.29-.6.63-.78 1.03-.2.39-.29.83-.29 1.29h1.98c0-.26.05-.49.14-.69.09-.2.22-.38.38-.52.17-.14.36-.25.58-.33.22-.08.46-.12.73-.12.61 0 1.06.16 1.36.47.3.31.44.75.44 1.32 0 .27-.04.52-.12.74-.08.22-.21.41-.38.57-.17.16-.38.28-.63.37-.25.09-.55.13-.89.13H6.72v1.57H7.9c.34 0 .64.04.91.11.27.08.5.19.69.35.19.16.34.36.44.61.1.24.16.54.16.87 0 .62-.18 1.09-.53 1.42-.35.33-.84.49-1.45.49-.29 0-.56-.04-.8-.13-.24-.08-.44-.2-.61-.36-.17-.16-.3-.34-.39-.56-.09-.22-.14-.46-.14-.72H4.19c0 .55.11 1.03.32 1.45.21.42.5.77.86 1.05s.77.49 1.24.63.96.21 1.48.21c.57 0 1.09-.08 1.58-.23.49-.15.91-.38 1.26-.68.36-.3.64-.66.84-1.1.2-.43.3-.93.3-1.48 0-.29-.04-.58-.11-.86-.08-.25-.19-.51-.35-.76zm9.26 1.4c-.14-.28-.35-.53-.63-.74-.28-.21-.61-.39-1.01-.53s-.85-.27-1.35-.38c-.35-.07-.64-.15-.87-.23-.23-.08-.41-.16-.55-.25-.14-.09-.23-.19-.28-.3-.05-.11-.08-.24-.08-.39s.03-.28.09-.41c.06-.13.15-.25.27-.34.12-.1.27-.18.45-.24s.4-.09.64-.09c.25 0 .47.04.66.11.19.07.35.17.48.29.13.12.22.26.29.42.06.16.1.32.1.49h1.95c0-.39-.08-.75-.24-1.09-.16-.34-.39-.63-.69-.88-.3-.25-.66-.44-1.09-.59-.43-.15-.92-.22-1.46-.22-.51 0-.98.07-1.39.21-.41.14-.77.33-1.06.57-.29.24-.51.52-.67.84-.16.32-.23.65-.23 1.01s.08.68.23.96c.15.28.37.52.64.73.27.21.6.38.98.53.38.14.81.26 1.27.36.39.08.71.17.95.26s.43.19.57.29c.13.1.22.22.27.34.05.12.07.25.07.39 0 .32-.13.57-.4.77-.27.2-.66.29-1.17.29-.22 0-.43-.02-.64-.08-.21-.05-.4-.13-.56-.24-.17-.11-.3-.26-.41-.44-.11-.18-.17-.41-.18-.67h-1.89c0 .36.08.71.24 1.05.16.34.39.65.7.93.31.27.69.49 1.15.66.46.17.98.25 1.58.25.53 0 1.01-.06 1.44-.19.43-.13.8-.31 1.11-.54.31-.23.54-.51.71-.83.17-.32.25-.67.25-1.06-.02-.4-.09-.74-.24-1.02z"></path></g><g id="timer-off"><path d="M19.04 4.55l-1.42 1.42C16.07 4.74 14.12 4 12 4c-1.83 0-3.53.55-4.95 1.48l1.46 1.46C9.53 6.35 10.73 6 12 6c3.87 0 7 3.13 7 7 0 1.27-.35 2.47-.94 3.49l1.45 1.45C20.45 16.53 21 14.83 21 13c0-2.12-.74-4.07-1.97-5.61l1.42-1.42-1.41-1.42zM15 1H9v2h6V1zm-4 8.44l2 2V8h-2v1.44zM3.02 4L1.75 5.27 4.5 8.03C3.55 9.45 3 11.16 3 13c0 4.97 4.02 9 9 9 1.84 0 3.55-.55 4.98-1.5l2.5 2.5 1.27-1.27-7.71-7.71L3.02 4zM12 20c-3.87 0-7-3.13-7-7 0-1.28.35-2.48.95-3.52l9.56 9.56c-1.03.61-2.23.96-3.51.96z"></path></g><g id="tonality"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.94-.49-7-3.85-7-7.93s3.05-7.44 7-7.93v15.86zm2-15.86c1.03.13 2 .45 2.87.93H13v-.93zM13 7h5.24c.25.31.48.65.68 1H13V7zm0 3h6.74c.08.33.15.66.19 1H13v-1zm0 9.93V19h2.87c-.87.48-1.84.8-2.87.93zM18.24 17H13v-1h5.92c-.2.35-.43.69-.68 1zm1.5-3H13v-1h6.93c-.04.34-.11.67-.19 1z"></path></g><g id="transform"><path d="M22 18v-2H8V4h2L7 1 4 4h2v2H2v2h4v8c0 1.1.9 2 2 2h8v2h-2l3 3 3-3h-2v-2h4zM10 8h6v6h2V8c0-1.1-.9-2-2-2h-6v2z"></path></g><g id="tune"><path d="M3 17v2h6v-2H3zM3 5v2h10V5H3zm10 16v-2h8v-2h-8v-2h-2v6h2zM7 9v2H3v2h4v2h2V9H7zm14 4v-2H11v2h10zm-6-4h2V7h4V5h-4V3h-2v6z"></path></g><g id="view-comfy"><path d="M3 9h4V5H3v4zm0 5h4v-4H3v4zm5 0h4v-4H8v4zm5 0h4v-4h-4v4zM8 9h4V5H8v4zm5-4v4h4V5h-4zm5 9h4v-4h-4v4zM3 19h4v-4H3v4zm5 0h4v-4H8v4zm5 0h4v-4h-4v4zm5 0h4v-4h-4v4zm0-14v4h4V5h-4z"></path></g><g id="view-compact"><path d="M3 19h6v-7H3v7zm7 0h12v-7H10v7zM3 5v6h19V5H3z"></path></g><g id="vignette"><path d="M21 3H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-9 15c-4.42 0-8-2.69-8-6s3.58-6 8-6 8 2.69 8 6-3.58 6-8 6z"></path></g><g id="wb-auto"><path d="M6.85 12.65h2.3L8 9l-1.15 3.65zM22 7l-1.2 6.29L19.3 7h-1.6l-1.49 6.29L15 7h-.76C12.77 5.17 10.53 4 8 4c-4.42 0-8 3.58-8 8s3.58 8 8 8c3.13 0 5.84-1.81 7.15-4.43l.1.43H17l1.5-6.1L20 16h1.75l2.05-9H22zm-11.7 9l-.7-2H6.4l-.7 2H3.8L7 7h2l3.2 9h-1.9z"></path></g><g id="wb-cloudy"><path d="M19.36 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.64-4.96z"></path></g><g id="wb-incandescent"><path d="M3.55 18.54l1.41 1.41 1.79-1.8-1.41-1.41-1.79 1.8zM11 22.45h2V19.5h-2v2.95zM4 10.5H1v2h3v-2zm11-4.19V1.5H9v4.81C7.21 7.35 6 9.28 6 11.5c0 3.31 2.69 6 6 6s6-2.69 6-6c0-2.22-1.21-4.15-3-5.19zm5 4.19v2h3v-2h-3zm-2.76 7.66l1.79 1.8 1.41-1.41-1.8-1.79-1.4 1.4z"></path></g><g id="wb-iridescent"><path d="M5 14.5h14v-6H5v6zM11 .55V3.5h2V.55h-2zm8.04 2.5l-1.79 1.79 1.41 1.41 1.8-1.79-1.42-1.41zM13 22.45V19.5h-2v2.95h2zm7.45-3.91l-1.8-1.79-1.41 1.41 1.79 1.8 1.42-1.42zM3.55 4.46l1.79 1.79 1.41-1.41-1.79-1.79-1.41 1.41zm1.41 15.49l1.79-1.8-1.41-1.41-1.79 1.79 1.41 1.42z"></path></g><g id="wb-sunny"><path d="M6.76 4.84l-1.8-1.79-1.41 1.41 1.79 1.79 1.42-1.41zM4 10.5H1v2h3v-2zm9-9.95h-2V3.5h2V.55zm7.45 3.91l-1.41-1.41-1.79 1.79 1.41 1.41 1.79-1.79zm-3.21 13.7l1.79 1.8 1.41-1.41-1.8-1.79-1.4 1.4zM20 10.5v2h3v-2h-3zm-8-5c-3.31 0-6 2.69-6 6s2.69 6 6 6 6-2.69 6-6-2.69-6-6-6zm-1 16.95h2V19.5h-2v2.95zm-7.45-3.91l1.41 1.41 1.79-1.8-1.41-1.41-1.79 1.8z"></path></g></defs></svg></iron-iconset-svg><iron-iconset-svg name="device" size="24"><svg><defs><g id="access-alarm"><path d="M22 5.72l-4.6-3.86-1.29 1.53 4.6 3.86L22 5.72zM7.88 3.39L6.6 1.86 2 5.71l1.29 1.53 4.59-3.85zM12.5 8H11v6l4.75 2.85.75-1.23-4-2.37V8zM12 4c-4.97 0-9 4.03-9 9s4.02 9 9 9c4.97 0 9-4.03 9-9s-4.03-9-9-9zm0 16c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"></path></g><g id="access-alarms"><path d="M22 5.7l-4.6-3.9-1.3 1.5 4.6 3.9L22 5.7zM7.9 3.4L6.6 1.9 2 5.7l1.3 1.5 4.6-3.8zM12.5 8H11v6l4.7 2.9.8-1.2-4-2.4V8zM12 4c-5 0-9 4-9 9s4 9 9 9 9-4 9-9-4-9-9-9zm0 16c-3.9 0-7-3.1-7-7s3.1-7 7-7 7 3.1 7 7-3.1 7-7 7z"></path></g><g id="access-time"><path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm.5-13H11v6l5.25 3.15.75-1.23-4.5-2.67z"></path></g><g id="add-alarm"><path d="M7.88 3.39L6.6 1.86 2 5.71l1.29 1.53 4.59-3.85zM22 5.72l-4.6-3.86-1.29 1.53 4.6 3.86L22 5.72zM12 4c-4.97 0-9 4.03-9 9s4.02 9 9 9c4.97 0 9-4.03 9-9s-4.03-9-9-9zm0 16c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7zm1-11h-2v3H8v2h3v3h2v-3h3v-2h-3V9z"></path></g><g id="airplanemode-active"><path d="M10.18 9"></path><path d="M21 16v-2l-8-5V3.5c0-.83-.67-1.5-1.5-1.5S10 2.67 10 3.5V9l-8 5v2l8-2.5V19l-2 1.5V22l3.5-1 3.5 1v-1.5L13 19v-5.5l8 2.5z"></path></g><g id="airplanemode-inactive"><path d="M13 9V3.5c0-.83-.67-1.5-1.5-1.5S10 2.67 10 3.5v3.68l7.83 7.83L21 16v-2l-8-5zM3 5.27l4.99 4.99L2 14v2l8-2.5V19l-2 1.5V22l3.5-1 3.5 1v-1.5L13 19v-3.73L18.73 21 20 19.73 4.27 4 3 5.27z"></path></g><g id="battery-20"><path d="M7 17v3.67C7 21.4 7.6 22 8.33 22h7.33c.74 0 1.34-.6 1.34-1.33V17H7z"></path><path fill-opacity=".3" d="M17 5.33C17 4.6 16.4 4 15.67 4H14V2h-4v2H8.33C7.6 4 7 4.6 7 5.33V17h10V5.33z"></path></g><g id="battery-30"><path fill-opacity=".3" d="M17 5.33C17 4.6 16.4 4 15.67 4H14V2h-4v2H8.33C7.6 4 7 4.6 7 5.33V15h10V5.33z"></path><path d="M7 15v5.67C7 21.4 7.6 22 8.33 22h7.33c.74 0 1.34-.6 1.34-1.33V15H7z"></path></g><g id="battery-50"><path fill-opacity=".3" d="M17 5.33C17 4.6 16.4 4 15.67 4H14V2h-4v2H8.33C7.6 4 7 4.6 7 5.33V13h10V5.33z"></path><path d="M7 13v7.67C7 21.4 7.6 22 8.33 22h7.33c.74 0 1.34-.6 1.34-1.33V13H7z"></path></g><g id="battery-60"><path fill-opacity=".3" d="M17 5.33C17 4.6 16.4 4 15.67 4H14V2h-4v2H8.33C7.6 4 7 4.6 7 5.33V11h10V5.33z"></path><path d="M7 11v9.67C7 21.4 7.6 22 8.33 22h7.33c.74 0 1.34-.6 1.34-1.33V11H7z"></path></g><g id="battery-80"><path fill-opacity=".3" d="M17 5.33C17 4.6 16.4 4 15.67 4H14V2h-4v2H8.33C7.6 4 7 4.6 7 5.33V9h10V5.33z"></path><path d="M7 9v11.67C7 21.4 7.6 22 8.33 22h7.33c.74 0 1.34-.6 1.34-1.33V9H7z"></path></g><g id="battery-90"><path fill-opacity=".3" d="M17 5.33C17 4.6 16.4 4 15.67 4H14V2h-4v2H8.33C7.6 4 7 4.6 7 5.33V8h10V5.33z"></path><path d="M7 8v12.67C7 21.4 7.6 22 8.33 22h7.33c.74 0 1.34-.6 1.34-1.33V8H7z"></path></g><g id="battery-alert"><path d="M15.67 4H14V2h-4v2H8.33C7.6 4 7 4.6 7 5.33v15.33C7 21.4 7.6 22 8.33 22h7.33c.74 0 1.34-.6 1.34-1.33V5.33C17 4.6 16.4 4 15.67 4zM13 18h-2v-2h2v2zm0-4h-2V9h2v5z"></path></g><g id="battery-charging-20"><path d="M11 20v-3H7v3.67C7 21.4 7.6 22 8.33 22h7.33c.74 0 1.34-.6 1.34-1.33V17h-4.4L11 20z"></path><path fill-opacity=".3" d="M15.67 4H14V2h-4v2H8.33C7.6 4 7 4.6 7 5.33V17h4v-2.5H9L13 7v5.5h2L12.6 17H17V5.33C17 4.6 16.4 4 15.67 4z"></path></g><g id="battery-charging-30"><path fill-opacity=".3" d="M15.67 4H14V2h-4v2H8.33C7.6 4 7 4.6 7 5.33v9.17h2L13 7v5.5h2l-1.07 2H17V5.33C17 4.6 16.4 4 15.67 4z"></path><path d="M11 20v-5.5H7v6.17C7 21.4 7.6 22 8.33 22h7.33c.74 0 1.34-.6 1.34-1.33V14.5h-3.07L11 20z"></path></g><g id="battery-charging-50"><path d="M14.47 13.5L11 20v-5.5H9l.53-1H7v7.17C7 21.4 7.6 22 8.33 22h7.33c.74 0 1.34-.6 1.34-1.33V13.5h-2.53z"></path><path fill-opacity=".3" d="M15.67 4H14V2h-4v2H8.33C7.6 4 7 4.6 7 5.33v8.17h2.53L13 7v5.5h2l-.53 1H17V5.33C17 4.6 16.4 4 15.67 4z"></path></g><g id="battery-charging-60"><path fill-opacity=".3" d="M15.67 4H14V2h-4v2H8.33C7.6 4 7 4.6 7 5.33V11h3.87L13 7v4h4V5.33C17 4.6 16.4 4 15.67 4z"></path><path d="M13 12.5h2L11 20v-5.5H9l1.87-3.5H7v9.67C7 21.4 7.6 22 8.33 22h7.33c.74 0 1.34-.6 1.34-1.33V11h-4v1.5z"></path></g><g id="battery-charging-80"><path fill-opacity=".3" d="M15.67 4H14V2h-4v2H8.33C7.6 4 7 4.6 7 5.33V9h4.93L13 7v2h4V5.33C17 4.6 16.4 4 15.67 4z"></path><path d="M13 12.5h2L11 20v-5.5H9L11.93 9H7v11.67C7 21.4 7.6 22 8.33 22h7.33c.74 0 1.34-.6 1.34-1.33V9h-4v3.5z"></path></g><g id="battery-charging-90"><path fill-opacity=".3" d="M15.67 4H14V2h-4v2H8.33C7.6 4 7 4.6 7 5.33V8h5.47L13 7v1h4V5.33C17 4.6 16.4 4 15.67 4z"></path><path d="M13 12.5h2L11 20v-5.5H9L12.47 8H7v12.67C7 21.4 7.6 22 8.33 22h7.33c.74 0 1.34-.6 1.34-1.33V8h-4v4.5z"></path></g><g id="battery-charging-full"><path d="M15.67 4H14V2h-4v2H8.33C7.6 4 7 4.6 7 5.33v15.33C7 21.4 7.6 22 8.33 22h7.33c.74 0 1.34-.6 1.34-1.33V5.33C17 4.6 16.4 4 15.67 4zM11 20v-5.5H9L13 7v5.5h2L11 20z"></path></g><g id="battery-full"><path d="M15.67 4H14V2h-4v2H8.33C7.6 4 7 4.6 7 5.33v15.33C7 21.4 7.6 22 8.33 22h7.33c.74 0 1.34-.6 1.34-1.33V5.33C17 4.6 16.4 4 15.67 4z"></path></g><g id="battery-std"><path d="M15.67 4H14V2h-4v2H8.33C7.6 4 7 4.6 7 5.33v15.33C7 21.4 7.6 22 8.33 22h7.33c.74 0 1.34-.6 1.34-1.33V5.33C17 4.6 16.4 4 15.67 4z"></path></g><g id="battery-unknown"><path d="M15.67 4H14V2h-4v2H8.33C7.6 4 7 4.6 7 5.33v15.33C7 21.4 7.6 22 8.33 22h7.33c.74 0 1.34-.6 1.34-1.33V5.33C17 4.6 16.4 4 15.67 4zm-2.72 13.95h-1.9v-1.9h1.9v1.9zm1.35-5.26s-.38.42-.67.71c-.48.48-.83 1.15-.83 1.6h-1.6c0-.83.46-1.52.93-2l.93-.94c.27-.27.44-.65.44-1.06 0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5H9c0-1.66 1.34-3 3-3s3 1.34 3 3c0 .66-.27 1.26-.7 1.69z"></path></g><g id="bluetooth"><path d="M17.71 7.71L12 2h-1v7.59L6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 11 14.41V22h1l5.71-5.71-4.3-4.29 4.3-4.29zM13 5.83l1.88 1.88L13 9.59V5.83zm1.88 10.46L13 18.17v-3.76l1.88 1.88z"></path></g><g id="bluetooth-connected"><path d="M7 12l-2-2-2 2 2 2 2-2zm10.71-4.29L12 2h-1v7.59L6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 11 14.41V22h1l5.71-5.71-4.3-4.29 4.3-4.29zM13 5.83l1.88 1.88L13 9.59V5.83zm1.88 10.46L13 18.17v-3.76l1.88 1.88zM19 10l-2 2 2 2 2-2-2-2z"></path></g><g id="bluetooth-disabled"><path d="M13 5.83l1.88 1.88-1.6 1.6 1.41 1.41 3.02-3.02L12 2h-1v5.03l2 2v-3.2zM5.41 4L4 5.41 10.59 12 5 17.59 6.41 19 11 14.41V22h1l4.29-4.29 2.3 2.29L20 18.59 5.41 4zM13 18.17v-3.76l1.88 1.88L13 18.17z"></path></g><g id="bluetooth-searching"><path d="M14.24 12.01l2.32 2.32c.28-.72.44-1.51.44-2.33 0-.82-.16-1.59-.43-2.31l-2.33 2.32zm5.29-5.3l-1.26 1.26c.63 1.21.98 2.57.98 4.02s-.36 2.82-.98 4.02l1.2 1.2c.97-1.54 1.54-3.36 1.54-5.31-.01-1.89-.55-3.67-1.48-5.19zm-3.82 1L10 2H9v7.59L4.41 5 3 6.41 8.59 12 3 17.59 4.41 19 9 14.41V22h1l5.71-5.71-4.3-4.29 4.3-4.29zM11 5.83l1.88 1.88L11 9.59V5.83zm1.88 10.46L11 18.17v-3.76l1.88 1.88z"></path></g><g id="brightness-auto"><path d="M10.85 12.65h2.3L12 9l-1.15 3.65zM20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69zM14.3 16l-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9h-1.9z"></path></g><g id="brightness-high"><path d="M20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69zM12 18c-3.31 0-6-2.69-6-6s2.69-6 6-6 6 2.69 6 6-2.69 6-6 6zm0-10c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4z"></path></g><g id="brightness-low"><path d="M20 15.31L23.31 12 20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69zM12 18c-3.31 0-6-2.69-6-6s2.69-6 6-6 6 2.69 6 6-2.69 6-6 6z"></path></g><g id="brightness-medium"><path d="M20 15.31L23.31 12 20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69zM12 18V6c3.31 0 6 2.69 6 6s-2.69 6-6 6z"></path></g><g id="data-usage"><path d="M13 2.05v3.03c3.39.49 6 3.39 6 6.92 0 .9-.18 1.75-.48 2.54l2.6 1.53c.56-1.24.88-2.62.88-4.07 0-5.18-3.95-9.45-9-9.95zM12 19c-3.87 0-7-3.13-7-7 0-3.53 2.61-6.43 6-6.92V2.05c-5.06.5-9 4.76-9 9.95 0 5.52 4.47 10 9.99 10 3.31 0 6.24-1.61 8.06-4.09l-2.6-1.53C16.17 17.98 14.21 19 12 19z"></path></g><g id="developer-mode"><path d="M7 5h10v2h2V3c0-1.1-.9-1.99-2-1.99L7 1c-1.1 0-2 .9-2 2v4h2V5zm8.41 11.59L20 12l-4.59-4.59L14 8.83 17.17 12 14 15.17l1.41 1.42zM10 15.17L6.83 12 10 8.83 8.59 7.41 4 12l4.59 4.59L10 15.17zM17 19H7v-2H5v4c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2v-4h-2v2z"></path></g><g id="devices"><path d="M4 6h18V4H4c-1.1 0-2 .9-2 2v11H0v3h14v-3H4V6zm19 2h-6c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h6c.55 0 1-.45 1-1V9c0-.55-.45-1-1-1zm-1 9h-4v-7h4v7z"></path></g><g id="dvr"><path d="M21 3H3c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h5v2h8v-2h5c1.1 0 1.99-.9 1.99-2L23 5c0-1.1-.9-2-2-2zm0 14H3V5h18v12zm-2-9H8v2h11V8zm0 4H8v2h11v-2zM7 8H5v2h2V8zm0 4H5v2h2v-2z"></path></g><g id="gps-fixed"><path d="M12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm8.94 3c-.46-4.17-3.77-7.48-7.94-7.94V1h-2v2.06C6.83 3.52 3.52 6.83 3.06 11H1v2h2.06c.46 4.17 3.77 7.48 7.94 7.94V23h2v-2.06c4.17-.46 7.48-3.77 7.94-7.94H23v-2h-2.06zM12 19c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"></path></g><g id="gps-not-fixed"><path d="M20.94 11c-.46-4.17-3.77-7.48-7.94-7.94V1h-2v2.06C6.83 3.52 3.52 6.83 3.06 11H1v2h2.06c.46 4.17 3.77 7.48 7.94 7.94V23h2v-2.06c4.17-.46 7.48-3.77 7.94-7.94H23v-2h-2.06zM12 19c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"></path></g><g id="gps-off"><path d="M20.94 11c-.46-4.17-3.77-7.48-7.94-7.94V1h-2v2.06c-1.13.12-2.19.46-3.16.97l1.5 1.5C10.16 5.19 11.06 5 12 5c3.87 0 7 3.13 7 7 0 .94-.19 1.84-.52 2.65l1.5 1.5c.5-.96.84-2.02.97-3.15H23v-2h-2.06zM3 4.27l2.04 2.04C3.97 7.62 3.25 9.23 3.06 11H1v2h2.06c.46 4.17 3.77 7.48 7.94 7.94V23h2v-2.06c1.77-.2 3.38-.91 4.69-1.98L19.73 21 21 19.73 4.27 3 3 4.27zm13.27 13.27C15.09 18.45 13.61 19 12 19c-3.87 0-7-3.13-7-7 0-1.61.55-3.09 1.46-4.27l9.81 9.81z"></path></g><g id="graphic-eq"><path d="M7 18h2V6H7v12zm4 4h2V2h-2v20zm-8-8h2v-4H3v4zm12 4h2V6h-2v12zm4-8v4h2v-4h-2z"></path></g><g id="location-disabled"><path d="M20.94 11c-.46-4.17-3.77-7.48-7.94-7.94V1h-2v2.06c-1.13.12-2.19.46-3.16.97l1.5 1.5C10.16 5.19 11.06 5 12 5c3.87 0 7 3.13 7 7 0 .94-.19 1.84-.52 2.65l1.5 1.5c.5-.96.84-2.02.97-3.15H23v-2h-2.06zM3 4.27l2.04 2.04C3.97 7.62 3.25 9.23 3.06 11H1v2h2.06c.46 4.17 3.77 7.48 7.94 7.94V23h2v-2.06c1.77-.2 3.38-.91 4.69-1.98L19.73 21 21 19.73 4.27 3 3 4.27zm13.27 13.27C15.09 18.45 13.61 19 12 19c-3.87 0-7-3.13-7-7 0-1.61.55-3.09 1.46-4.27l9.81 9.81z"></path></g><g id="location-searching"><path d="M20.94 11c-.46-4.17-3.77-7.48-7.94-7.94V1h-2v2.06C6.83 3.52 3.52 6.83 3.06 11H1v2h2.06c.46 4.17 3.77 7.48 7.94 7.94V23h2v-2.06c4.17-.46 7.48-3.77 7.94-7.94H23v-2h-2.06zM12 19c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"></path></g><g id="network-cell"><path fill-opacity=".3" d="M2 22h20V2z"></path><path d="M17 7L2 22h15z"></path></g><g id="network-wifi"><path fill-opacity=".3" d="M12.01 21.49L23.64 7c-.45-.34-4.93-4-11.64-4C5.28 3 .81 6.66.36 7l11.63 14.49.01.01.01-.01z"></path><path d="M3.53 10.95l8.46 10.54.01.01.01-.01 8.46-10.54C20.04 10.62 16.81 8 12 8c-4.81 0-8.04 2.62-8.47 2.95z"></path></g><g id="nfc"><path d="M20 2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 18H4V4h16v16zM18 6h-5c-1.1 0-2 .9-2 2v2.28c-.6.35-1 .98-1 1.72 0 1.1.9 2 2 2s2-.9 2-2c0-.74-.4-1.38-1-1.72V8h3v8H8V8h2V6H6v12h12V6z"></path></g><g id="screen-lock-landscape"><path d="M21 5H3c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm-2 12H5V7h14v10zm-9-1h4c.55 0 1-.45 1-1v-3c0-.55-.45-1-1-1v-1c0-1.11-.9-2-2-2-1.11 0-2 .9-2 2v1c-.55 0-1 .45-1 1v3c0 .55.45 1 1 1zm.8-6c0-.66.54-1.2 1.2-1.2.66 0 1.2.54 1.2 1.2v1h-2.4v-1z"></path></g><g id="screen-lock-portrait"><path d="M10 16h4c.55 0 1-.45 1-1v-3c0-.55-.45-1-1-1v-1c0-1.11-.9-2-2-2-1.11 0-2 .9-2 2v1c-.55 0-1 .45-1 1v3c0 .55.45 1 1 1zm.8-6c0-.66.54-1.2 1.2-1.2.66 0 1.2.54 1.2 1.2v1h-2.4v-1zM17 1H7c-1.1 0-2 .9-2 2v18c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V3c0-1.1-.9-2-2-2zm0 18H7V5h10v14z"></path></g><g id="screen-lock-rotation"><path d="M23.25 12.77l-2.57-2.57-1.41 1.41 2.22 2.22-5.66 5.66L4.51 8.17l5.66-5.66 2.1 2.1 1.41-1.41L11.23.75c-.59-.59-1.54-.59-2.12 0L2.75 7.11c-.59.59-.59 1.54 0 2.12l12.02 12.02c.59.59 1.54.59 2.12 0l6.36-6.36c.59-.59.59-1.54 0-2.12zM8.47 20.48C5.2 18.94 2.86 15.76 2.5 12H1c.51 6.16 5.66 11 11.95 11l.66-.03-3.81-3.82-1.33 1.33zM16 9h5c.55 0 1-.45 1-1V4c0-.55-.45-1-1-1v-.5C21 1.12 19.88 0 18.5 0S16 1.12 16 2.5V3c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1zm.8-6.5c0-.94.76-1.7 1.7-1.7s1.7.76 1.7 1.7V3h-3.4v-.5z"></path></g><g id="screen-rotation"><path d="M16.48 2.52c3.27 1.55 5.61 4.72 5.97 8.48h1.5C23.44 4.84 18.29 0 12 0l-.66.03 3.81 3.81 1.33-1.32zm-6.25-.77c-.59-.59-1.54-.59-2.12 0L1.75 8.11c-.59.59-.59 1.54 0 2.12l12.02 12.02c.59.59 1.54.59 2.12 0l6.36-6.36c.59-.59.59-1.54 0-2.12L10.23 1.75zm4.6 19.44L2.81 9.17l6.36-6.36 12.02 12.02-6.36 6.36zm-7.31.29C4.25 19.94 1.91 16.76 1.55 13H.05C.56 19.16 5.71 24 12 24l.66-.03-3.81-3.81-1.33 1.32z"></path></g><g id="sd-storage"><path d="M18 2h-8L4.02 8 4 20c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-6 6h-2V4h2v4zm3 0h-2V4h2v4zm3 0h-2V4h2v4z"></path></g><g id="settings-system-daydream"><path d="M9 16h6.5c1.38 0 2.5-1.12 2.5-2.5S16.88 11 15.5 11h-.05c-.24-1.69-1.69-3-3.45-3-1.4 0-2.6.83-3.16 2.02h-.16C7.17 10.18 6 11.45 6 13c0 1.66 1.34 3 3 3zM21 3H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16.01H3V4.99h18v14.02z"></path></g><g id="signal-cellular-0-bar"><path fill-opacity=".3" d="M2 22h20V2z"></path></g><g id="signal-cellular-1-bar"><path fill-opacity=".3" d="M2 22h20V2z"></path><path d="M12 12L2 22h10z"></path></g><g id="signal-cellular-2-bar"><path fill-opacity=".3" d="M2 22h20V2z"></path><path d="M14 10L2 22h12z"></path></g><g id="signal-cellular-3-bar"><path fill-opacity=".3" d="M2 22h20V2z"></path><path d="M17 7L2 22h15z"></path></g><g id="signal-cellular-4-bar"><path d="M2 22h20V2z"></path></g><g id="signal-cellular-connected-no-internet-0-bar"><path fill-opacity=".3" d="M22 8V2L2 22h16V8z"></path><path d="M20 22h2v-2h-2v2zm0-12v8h2v-8h-2z"></path></g><g id="signal-cellular-connected-no-internet-1-bar"><path fill-opacity=".3" d="M22 8V2L2 22h16V8z"></path><path d="M20 10v8h2v-8h-2zm-8 12V12L2 22h10zm8 0h2v-2h-2v2z"></path></g><g id="signal-cellular-connected-no-internet-2-bar"><path fill-opacity=".3" d="M22 8V2L2 22h16V8z"></path><path d="M14 22V10L2 22h12zm6-12v8h2v-8h-2zm0 12h2v-2h-2v2z"></path></g><g id="signal-cellular-connected-no-internet-3-bar"><path fill-opacity=".3" d="M22 8V2L2 22h16V8z"></path><path d="M17 22V7L2 22h15zm3-12v8h2v-8h-2zm0 12h2v-2h-2v2z"></path></g><g id="signal-cellular-connected-no-internet-4-bar"><path d="M20 18h2v-8h-2v8zm0 4h2v-2h-2v2zM2 22h16V8h4V2L2 22z"></path></g><g id="signal-cellular-no-sim"><path d="M18.99 5c0-1.1-.89-2-1.99-2h-7L7.66 5.34 19 16.68 18.99 5zM3.65 3.88L2.38 5.15 5 7.77V19c0 1.1.9 2 2 2h10.01c.35 0 .67-.1.96-.26l1.88 1.88 1.27-1.27L3.65 3.88z"></path></g><g id="signal-cellular-null"><path d="M20 6.83V20H6.83L20 6.83M22 2L2 22h20V2z"></path></g><g id="signal-cellular-off"><path d="M21 1l-8.59 8.59L21 18.18V1zM4.77 4.5L3.5 5.77l6.36 6.36L1 21h17.73l2 2L22 21.73 4.77 4.5z"></path></g><g id="signal-wifi-0-bar"><path fill-opacity=".3" d="M12.01 21.49L23.64 7c-.45-.34-4.93-4-11.64-4C5.28 3 .81 6.66.36 7l11.63 14.49.01.01.01-.01z"></path></g><g id="signal-wifi-1-bar"><path fill-opacity=".3" d="M12.01 21.49L23.64 7c-.45-.34-4.93-4-11.64-4C5.28 3 .81 6.66.36 7l11.63 14.49.01.01.01-.01z"></path><path d="M6.67 14.86L12 21.49v.01l.01-.01 5.33-6.63C17.06 14.65 15.03 13 12 13s-5.06 1.65-5.33 1.86z"></path></g><g id="signal-wifi-1-bar-lock"><path d="M23 16v-1.5c0-1.4-1.1-2.5-2.5-2.5S18 13.1 18 14.5V16c-.5 0-1 .5-1 1v4c0 .5.5 1 1 1h5c.5 0 1-.5 1-1v-4c0-.5-.5-1-1-1zm-1 0h-3v-1.5c0-.8.7-1.5 1.5-1.5s1.5.7 1.5 1.5V16z"></path><path d="M15.5 14.5c0-2.8 2.2-5 5-5 .4 0 .7 0 1 .1L23.6 7c-.4-.3-4.9-4-11.6-4C5.3 3 .8 6.7.4 7L12 21.5l3.5-4.3v-2.7z" opacity=".3"></path><path d="M6.7 14.9l5.3 6.6 3.5-4.3v-2.6c0-.2 0-.5.1-.7-.9-.5-2.2-.9-3.6-.9-3 0-5.1 1.7-5.3 1.9z"></path></g><g id="signal-wifi-2-bar"><path fill-opacity=".3" d="M12.01 21.49L23.64 7c-.45-.34-4.93-4-11.64-4C5.28 3 .81 6.66.36 7l11.63 14.49.01.01.01-.01z"></path><path d="M4.79 12.52l7.2 8.98H12l.01-.01 7.2-8.98C18.85 12.24 16.1 10 12 10s-6.85 2.24-7.21 2.52z"></path></g><g id="signal-wifi-2-bar-lock"><path d="M23 16v-1.5c0-1.4-1.1-2.5-2.5-2.5S18 13.1 18 14.5V16c-.5 0-1 .5-1 1v4c0 .5.5 1 1 1h5c.5 0 1-.5 1-1v-4c0-.5-.5-1-1-1zm-1 0h-3v-1.5c0-.8.7-1.5 1.5-1.5s1.5.7 1.5 1.5V16z"></path><path d="M15.5 14.5c0-2.8 2.2-5 5-5 .4 0 .7 0 1 .1L23.6 7c-.4-.3-4.9-4-11.6-4C5.3 3 .8 6.7.4 7L12 21.5l3.5-4.3v-2.7z" opacity=".3"></path><path d="M4.8 12.5l7.2 9 3.5-4.4v-2.6c0-1.3.5-2.5 1.4-3.4C15.6 10.5 14 10 12 10c-4.1 0-6.8 2.2-7.2 2.5z"></path></g><g id="signal-wifi-3-bar"><path fill-opacity=".3" d="M12.01 21.49L23.64 7c-.45-.34-4.93-4-11.64-4C5.28 3 .81 6.66.36 7l11.63 14.49.01.01.01-.01z"></path><path d="M3.53 10.95l8.46 10.54.01.01.01-.01 8.46-10.54C20.04 10.62 16.81 8 12 8c-4.81 0-8.04 2.62-8.47 2.95z"></path></g><g id="signal-wifi-3-bar-lock"><path opacity=".3" d="M12 3C5.3 3 .8 6.7.4 7l3.2 3.9L12 21.5l3.5-4.3v-2.6c0-2.2 1.4-4 3.3-4.7.3-.1.5-.2.8-.2.3-.1.6-.1.9-.1.4 0 .7 0 1 .1L23.6 7c-.4-.3-4.9-4-11.6-4z"></path><path d="M23 16v-1.5c0-1.4-1.1-2.5-2.5-2.5S18 13.1 18 14.5V16c-.5 0-1 .5-1 1v4c0 .5.5 1 1 1h5c.5 0 1-.5 1-1v-4c0-.5-.5-1-1-1zm-1 0h-3v-1.5c0-.8.7-1.5 1.5-1.5s1.5.7 1.5 1.5V16zm-10 5.5l3.5-4.3v-2.6c0-2.2 1.4-4 3.3-4.7C17.3 9 14.9 8 12 8c-4.8 0-8 2.6-8.5 2.9"></path></g><g id="signal-wifi-4-bar"><path d="M12.01 21.49L23.64 7c-.45-.34-4.93-4-11.64-4C5.28 3 .81 6.66.36 7l11.63 14.49.01.01.01-.01z"></path></g><g id="signal-wifi-4-bar-lock"><path d="M23 16v-1.5c0-1.4-1.1-2.5-2.5-2.5S18 13.1 18 14.5V16c-.5 0-1 .5-1 1v4c0 .5.5 1 1 1h5c.5 0 1-.5 1-1v-4c0-.5-.5-1-1-1zm-1 0h-3v-1.5c0-.8.7-1.5 1.5-1.5s1.5.7 1.5 1.5V16zm-6.5-1.5c0-2.8 2.2-5 5-5 .4 0 .7 0 1 .1L23.6 7c-.4-.3-4.9-4-11.6-4C5.3 3 .8 6.7.4 7L12 21.5l3.5-4.4v-2.6z"></path></g><g id="signal-wifi-off"><path d="M23.64 7c-.45-.34-4.93-4-11.64-4-1.5 0-2.89.19-4.15.48L18.18 13.8 23.64 7zm-6.6 8.22L3.27 1.44 2 2.72l2.05 2.06C1.91 5.76.59 6.82.36 7l11.63 14.49.01.01.01-.01 3.9-4.86 3.32 3.32 1.27-1.27-3.46-3.46z"></path></g><g id="storage"><path d="M2 20h20v-4H2v4zm2-3h2v2H4v-2zM2 4v4h20V4H2zm4 3H4V5h2v2zm-4 7h20v-4H2v4zm2-3h2v2H4v-2z"></path></g><g id="usb"><path d="M15 7v4h1v2h-3V5h2l-3-4-3 4h2v8H8v-2.07c.7-.37 1.2-1.08 1.2-1.93 0-1.21-.99-2.2-2.2-2.2-1.21 0-2.2.99-2.2 2.2 0 .85.5 1.56 1.2 1.93V13c0 1.11.89 2 2 2h3v3.05c-.71.37-1.2 1.1-1.2 1.95 0 1.22.99 2.2 2.2 2.2 1.21 0 2.2-.98 2.2-2.2 0-.85-.49-1.58-1.2-1.95V15h3c1.11 0 2-.89 2-2v-2h1V7h-4z"></path></g><g id="wallpaper"><path d="M4 4h7V2H4c-1.1 0-2 .9-2 2v7h2V4zm6 9l-4 5h12l-3-4-2.03 2.71L10 13zm7-4.5c0-.83-.67-1.5-1.5-1.5S14 7.67 14 8.5s.67 1.5 1.5 1.5S17 9.33 17 8.5zM20 2h-7v2h7v7h2V4c0-1.1-.9-2-2-2zm0 18h-7v2h7c1.1 0 2-.9 2-2v-7h-2v7zM4 13H2v7c0 1.1.9 2 2 2h7v-2H4v-7z"></path></g><g id="widgets"><path d="M13 13v8h8v-8h-8zM3 21h8v-8H3v8zM3 3v8h8V3H3zm13.66-1.31L11 7.34 16.66 13l5.66-5.66-5.66-5.65z"></path></g><g id="wifi-lock"><path d="M20.5 9.5c.28 0 .55.04.81.08L24 6c-3.34-2.51-7.5-4-12-4S3.34 3.49 0 6l12 16 3.5-4.67V14.5c0-2.76 2.24-5 5-5zM23 16v-1.5c0-1.38-1.12-2.5-2.5-2.5S18 13.12 18 14.5V16c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1h5c.55 0 1-.45 1-1v-4c0-.55-.45-1-1-1zm-1 0h-3v-1.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5V16z"></path></g><g id="wifi-tethering"><path d="M12 11c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 2c0-3.31-2.69-6-6-6s-6 2.69-6 6c0 2.22 1.21 4.15 3 5.19l1-1.74c-1.19-.7-2-1.97-2-3.45 0-2.21 1.79-4 4-4s4 1.79 4 4c0 1.48-.81 2.75-2 3.45l1 1.74c1.79-1.04 3-2.97 3-5.19zM12 3C6.48 3 2 7.48 2 13c0 3.7 2.01 6.92 4.99 8.65l1-1.73C5.61 18.53 4 15.96 4 13c0-4.42 3.58-8 8-8s8 3.58 8 8c0 2.96-1.61 5.53-4 6.92l1 1.73c2.99-1.73 5-4.95 5-8.65 0-5.52-4.48-10-10-10z"></path></g></defs></svg></iron-iconset-svg><iron-iconset-svg name="editor" size="24"><svg><defs><g id="attach-file"><path d="M16.5 6v11.5c0 2.21-1.79 4-4 4s-4-1.79-4-4V5c0-1.38 1.12-2.5 2.5-2.5s2.5 1.12 2.5 2.5v10.5c0 .55-.45 1-1 1s-1-.45-1-1V6H10v9.5c0 1.38 1.12 2.5 2.5 2.5s2.5-1.12 2.5-2.5V5c0-2.21-1.79-4-4-4S7 2.79 7 5v12.5c0 3.04 2.46 5.5 5.5 5.5s5.5-2.46 5.5-5.5V6h-1.5z"></path></g><g id="attach-money"><path d="M11.8 10.9c-2.27-.59-3-1.2-3-2.15 0-1.09 1.01-1.85 2.7-1.85 1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-1.94.42-3.5 1.68-3.5 3.61 0 2.31 1.91 3.46 4.7 4.13 2.5.6 3 1.48 3 2.41 0 .69-.49 1.79-2.7 1.79-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c1.95-.37 3.5-1.5 3.5-3.55 0-2.84-2.43-3.81-4.7-4.4z"></path></g><g id="border-all"><path d="M3 3v18h18V3H3zm8 16H5v-6h6v6zm0-8H5V5h6v6zm8 8h-6v-6h6v6zm0-8h-6V5h6v6z"></path></g><g id="border-bottom"><path d="M9 11H7v2h2v-2zm4 4h-2v2h2v-2zM9 3H7v2h2V3zm4 8h-2v2h2v-2zM5 3H3v2h2V3zm8 4h-2v2h2V7zm4 4h-2v2h2v-2zm-4-8h-2v2h2V3zm4 0h-2v2h2V3zm2 10h2v-2h-2v2zm0 4h2v-2h-2v2zM5 7H3v2h2V7zm14-4v2h2V3h-2zm0 6h2V7h-2v2zM5 11H3v2h2v-2zM3 21h18v-2H3v2zm2-6H3v2h2v-2z"></path></g><g id="border-clear"><path d="M7 5h2V3H7v2zm0 8h2v-2H7v2zm0 8h2v-2H7v2zm4-4h2v-2h-2v2zm0 4h2v-2h-2v2zm-8 0h2v-2H3v2zm0-4h2v-2H3v2zm0-4h2v-2H3v2zm0-4h2V7H3v2zm0-4h2V3H3v2zm8 8h2v-2h-2v2zm8 4h2v-2h-2v2zm0-4h2v-2h-2v2zm0 8h2v-2h-2v2zm0-12h2V7h-2v2zm-8 0h2V7h-2v2zm8-6v2h2V3h-2zm-8 2h2V3h-2v2zm4 16h2v-2h-2v2zm0-8h2v-2h-2v2zm0-8h2V3h-2v2z"></path></g><g id="border-color"><path d="M17.75 7L14 3.25l-10 10V17h3.75l10-10zm2.96-2.96c.39-.39.39-1.02 0-1.41L18.37.29c-.39-.39-1.02-.39-1.41 0L15 2.25 18.75 6l1.96-1.96z"></path><path fill-opacity=".36" d="M0 20h24v4H0z"></path></g><g id="border-horizontal"><path d="M3 21h2v-2H3v2zM5 7H3v2h2V7zM3 17h2v-2H3v2zm4 4h2v-2H7v2zM5 3H3v2h2V3zm4 0H7v2h2V3zm8 0h-2v2h2V3zm-4 4h-2v2h2V7zm0-4h-2v2h2V3zm6 14h2v-2h-2v2zm-8 4h2v-2h-2v2zm-8-8h18v-2H3v2zM19 3v2h2V3h-2zm0 6h2V7h-2v2zm-8 8h2v-2h-2v2zm4 4h2v-2h-2v2zm4 0h2v-2h-2v2z"></path></g><g id="border-inner"><path d="M3 21h2v-2H3v2zm4 0h2v-2H7v2zM5 7H3v2h2V7zM3 17h2v-2H3v2zM9 3H7v2h2V3zM5 3H3v2h2V3zm12 0h-2v2h2V3zm2 6h2V7h-2v2zm0-6v2h2V3h-2zm-4 18h2v-2h-2v2zM13 3h-2v8H3v2h8v8h2v-8h8v-2h-8V3zm6 18h2v-2h-2v2zm0-4h2v-2h-2v2z"></path></g><g id="border-left"><path d="M11 21h2v-2h-2v2zm0-4h2v-2h-2v2zm0-12h2V3h-2v2zm0 4h2V7h-2v2zm0 4h2v-2h-2v2zm-4 8h2v-2H7v2zM7 5h2V3H7v2zm0 8h2v-2H7v2zm-4 8h2V3H3v18zM19 9h2V7h-2v2zm-4 12h2v-2h-2v2zm4-4h2v-2h-2v2zm0-14v2h2V3h-2zm0 10h2v-2h-2v2zm0 8h2v-2h-2v2zm-4-8h2v-2h-2v2zm0-8h2V3h-2v2z"></path></g><g id="border-outer"><path d="M13 7h-2v2h2V7zm0 4h-2v2h2v-2zm4 0h-2v2h2v-2zM3 3v18h18V3H3zm16 16H5V5h14v14zm-6-4h-2v2h2v-2zm-4-4H7v2h2v-2z"></path></g><g id="border-right"><path d="M7 21h2v-2H7v2zM3 5h2V3H3v2zm4 0h2V3H7v2zm0 8h2v-2H7v2zm-4 8h2v-2H3v2zm8 0h2v-2h-2v2zm-8-8h2v-2H3v2zm0 4h2v-2H3v2zm0-8h2V7H3v2zm8 8h2v-2h-2v2zm4-4h2v-2h-2v2zm4-10v18h2V3h-2zm-4 18h2v-2h-2v2zm0-16h2V3h-2v2zm-4 8h2v-2h-2v2zm0-8h2V3h-2v2zm0 4h2V7h-2v2z"></path></g><g id="border-style"><path d="M15 21h2v-2h-2v2zm4 0h2v-2h-2v2zM7 21h2v-2H7v2zm4 0h2v-2h-2v2zm8-4h2v-2h-2v2zm0-4h2v-2h-2v2zM3 3v18h2V5h16V3H3zm16 6h2V7h-2v2z"></path></g><g id="border-top"><path d="M7 21h2v-2H7v2zm0-8h2v-2H7v2zm4 0h2v-2h-2v2zm0 8h2v-2h-2v2zm-8-4h2v-2H3v2zm0 4h2v-2H3v2zm0-8h2v-2H3v2zm0-4h2V7H3v2zm8 8h2v-2h-2v2zm8-8h2V7h-2v2zm0 4h2v-2h-2v2zM3 3v2h18V3H3zm16 14h2v-2h-2v2zm-4 4h2v-2h-2v2zM11 9h2V7h-2v2zm8 12h2v-2h-2v2zm-4-8h2v-2h-2v2z"></path></g><g id="border-vertical"><path d="M3 9h2V7H3v2zm0-4h2V3H3v2zm4 16h2v-2H7v2zm0-8h2v-2H7v2zm-4 0h2v-2H3v2zm0 8h2v-2H3v2zm0-4h2v-2H3v2zM7 5h2V3H7v2zm12 12h2v-2h-2v2zm-8 4h2V3h-2v18zm8 0h2v-2h-2v2zm0-8h2v-2h-2v2zm0-10v2h2V3h-2zm0 6h2V7h-2v2zm-4-4h2V3h-2v2zm0 16h2v-2h-2v2zm0-8h2v-2h-2v2z"></path></g><g id="bubble-chart"><circle cx="7.2" cy="14.4" r="3.2"></circle><circle cx="14.8" cy="18" r="2"></circle><circle cx="15.2" cy="8.8" r="4.8"></circle></g><g id="drag-handle"><path d="M20 9H4v2h16V9zM4 15h16v-2H4v2z"></path></g><g id="format-align-center"><path d="M7 15v2h10v-2H7zm-4 6h18v-2H3v2zm0-8h18v-2H3v2zm4-6v2h10V7H7zM3 3v2h18V3H3z"></path></g><g id="format-align-justify"><path d="M3 21h18v-2H3v2zm0-4h18v-2H3v2zm0-4h18v-2H3v2zm0-4h18V7H3v2zm0-6v2h18V3H3z"></path></g><g id="format-align-left"><path d="M15 15H3v2h12v-2zm0-8H3v2h12V7zM3 13h18v-2H3v2zm0 8h18v-2H3v2zM3 3v2h18V3H3z"></path></g><g id="format-align-right"><path d="M3 21h18v-2H3v2zm6-4h12v-2H9v2zm-6-4h18v-2H3v2zm6-4h12V7H9v2zM3 3v2h18V3H3z"></path></g><g id="format-bold"><path d="M15.6 10.79c.97-.67 1.65-1.77 1.65-2.79 0-2.26-1.75-4-4-4H7v14h7.04c2.09 0 3.71-1.7 3.71-3.79 0-1.52-.86-2.82-2.15-3.42zM10 6.5h3c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5h-3v-3zm3.5 9H10v-3h3.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5z"></path></g><g id="format-clear"><path d="M3.27 5L2 6.27l6.97 6.97L6.5 19h3l1.57-3.66L16.73 21 18 19.73 3.55 5.27 3.27 5zM6 5v.18L8.82 8h2.4l-.72 1.68 2.1 2.1L14.21 8H20V5H6z"></path></g><g id="format-color-fill"><path d="M16.56 8.94L7.62 0 6.21 1.41l2.38 2.38-5.15 5.15c-.59.59-.59 1.54 0 2.12l5.5 5.5c.29.29.68.44 1.06.44s.77-.15 1.06-.44l5.5-5.5c.59-.58.59-1.53 0-2.12zM5.21 10L10 5.21 14.79 10H5.21zM19 11.5s-2 2.17-2 3.5c0 1.1.9 2 2 2s2-.9 2-2c0-1.33-2-3.5-2-3.5z"></path><path fill-opacity=".36" d="M0 20h24v4H0z"></path></g><g id="format-color-reset"><path d="M18 14c0-4-6-10.8-6-10.8s-1.33 1.51-2.73 3.52l8.59 8.59c.09-.42.14-.86.14-1.31zm-.88 3.12L12.5 12.5 5.27 5.27 4 6.55l3.32 3.32C6.55 11.32 6 12.79 6 14c0 3.31 2.69 6 6 6 1.52 0 2.9-.57 3.96-1.5l2.63 2.63 1.27-1.27-2.74-2.74z"></path></g><g id="format-color-text"><path fill-opacity=".36" d="M0 20h24v4H0z"></path><path d="M11 3L5.5 17h2.25l1.12-3h6.25l1.12 3h2.25L13 3h-2zm-1.38 9L12 5.67 14.38 12H9.62z"></path></g><g id="format-indent-decrease"><path d="M11 17h10v-2H11v2zm-8-5l4 4V8l-4 4zm0 9h18v-2H3v2zM3 3v2h18V3H3zm8 6h10V7H11v2zm0 4h10v-2H11v2z"></path></g><g id="format-indent-increase"><path d="M3 21h18v-2H3v2zM3 8v8l4-4-4-4zm8 9h10v-2H11v2zM3 3v2h18V3H3zm8 6h10V7H11v2zm0 4h10v-2H11v2z"></path></g><g id="format-italic"><path d="M10 4v3h2.21l-3.42 8H6v3h8v-3h-2.21l3.42-8H18V4z"></path></g><g id="format-line-spacing"><path d="M6 7h2.5L5 3.5 1.5 7H4v10H1.5L5 20.5 8.5 17H6V7zm4-2v2h12V5H10zm0 14h12v-2H10v2zm0-6h12v-2H10v2z"></path></g><g id="format-list-bulleted"><path d="M4 10.5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm0-6c-.83 0-1.5.67-1.5 1.5S3.17 7.5 4 7.5 5.5 6.83 5.5 6 4.83 4.5 4 4.5zm0 12c-.83 0-1.5.68-1.5 1.5s.68 1.5 1.5 1.5 1.5-.68 1.5-1.5-.67-1.5-1.5-1.5zM7 19h14v-2H7v2zm0-6h14v-2H7v2zm0-8v2h14V5H7z"></path></g><g id="format-list-numbered"><path d="M2 17h2v.5H3v1h1v.5H2v1h3v-4H2v1zm1-9h1V4H2v1h1v3zm-1 3h1.8L2 13.1v.9h3v-1H3.2L5 10.9V10H2v1zm5-6v2h14V5H7zm0 14h14v-2H7v2zm0-6h14v-2H7v2z"></path></g><g id="format-paint"><path d="M18 4V3c0-.55-.45-1-1-1H5c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1h12c.55 0 1-.45 1-1V6h1v4H9v11c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-9h8V4h-3z"></path></g><g id="format-quote"><path d="M6 17h3l2-4V7H5v6h3zm8 0h3l2-4V7h-6v6h3z"></path></g><g id="format-shapes"><path d="M23 7V1h-6v2H7V1H1v6h2v10H1v6h6v-2h10v2h6v-6h-2V7h2zM3 3h2v2H3V3zm2 18H3v-2h2v2zm12-2H7v-2H5V7h2V5h10v2h2v10h-2v2zm4 2h-2v-2h2v2zM19 5V3h2v2h-2zm-5.27 9h-3.49l-.73 2H7.89l3.4-9h1.4l3.41 9h-1.63l-.74-2zm-3.04-1.26h2.61L12 8.91l-1.31 3.83z"></path></g><g id="format-size"><path d="M9 4v3h5v12h3V7h5V4H9zm-6 8h3v7h3v-7h3V9H3v3z"></path></g><g id="format-strikethrough"><path d="M10 19h4v-3h-4v3zM5 4v3h5v3h4V7h5V4H5zM3 14h18v-2H3v2z"></path></g><g id="format-textdirection-l-to-r"><path d="M9 10v5h2V4h2v11h2V4h2V2H9C6.79 2 5 3.79 5 6s1.79 4 4 4zm12 8l-4-4v3H5v2h12v3l4-4z"></path></g><g id="format-textdirection-r-to-l"><path d="M10 10v5h2V4h2v11h2V4h2V2h-8C7.79 2 6 3.79 6 6s1.79 4 4 4zm-2 7v-3l-4 4 4 4v-3h12v-2H8z"></path></g><g id="format-underlined"><path d="M12 17c3.31 0 6-2.69 6-6V3h-2.5v8c0 1.93-1.57 3.5-3.5 3.5S8.5 12.93 8.5 11V3H6v8c0 3.31 2.69 6 6 6zm-7 2v2h14v-2H5z"></path></g><g id="functions"><path d="M18 4H6v2l6.5 6L6 18v2h12v-3h-7l5-5-5-5h7z"></path></g><g id="highlight"><path d="M6 14l3 3v5h6v-5l3-3V9H6zm5-12h2v3h-2zM3.5 5.875L4.914 4.46l2.12 2.122L5.62 7.997zm13.46.71l2.123-2.12 1.414 1.414L18.375 8z"></path></g><g id="insert-chart"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"></path></g><g id="insert-comment"><path d="M20 2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h14l4 4V4c0-1.1-.9-2-2-2zm-2 12H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z"></path></g><g id="insert-drive-file"><path d="M6 2c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6H6zm7 7V3.5L18.5 9H13z"></path></g><g id="insert-emoticon"><path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm3.5-9c.83 0 1.5-.67 1.5-1.5S16.33 8 15.5 8 14 8.67 14 9.5s.67 1.5 1.5 1.5zm-7 0c.83 0 1.5-.67 1.5-1.5S9.33 8 8.5 8 7 8.67 7 9.5 7.67 11 8.5 11zm3.5 6.5c2.33 0 4.31-1.46 5.11-3.5H6.89c.8 2.04 2.78 3.5 5.11 3.5z"></path></g><g id="insert-invitation"><path d="M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z"></path></g><g id="insert-link"><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"></path></g><g id="insert-photo"><path d="M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"></path></g><g id="linear-scale"><path d="M19.5 9.5c-1.03 0-1.9.62-2.29 1.5h-2.92c-.39-.88-1.26-1.5-2.29-1.5s-1.9.62-2.29 1.5H6.79c-.39-.88-1.26-1.5-2.29-1.5C3.12 9.5 2 10.62 2 12s1.12 2.5 2.5 2.5c1.03 0 1.9-.62 2.29-1.5h2.92c.39.88 1.26 1.5 2.29 1.5s1.9-.62 2.29-1.5h2.92c.39.88 1.26 1.5 2.29 1.5 1.38 0 2.5-1.12 2.5-2.5s-1.12-2.5-2.5-2.5z"></path></g><g id="merge-type"><path d="M17 20.41L18.41 19 15 15.59 13.59 17 17 20.41zM7.5 8H11v5.59L5.59 19 7 20.41l6-6V8h3.5L12 3.5 7.5 8z"></path></g><g id="mode-comment"><path d="M21.99 4c0-1.1-.89-2-1.99-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h14l4 4-.01-18z"></path></g><g id="mode-edit"><path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"></path></g><g id="monetization-on"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1.41 16.09V20h-2.67v-1.93c-1.71-.36-3.16-1.46-3.27-3.4h1.96c.1 1.05.82 1.87 2.65 1.87 1.96 0 2.4-.98 2.4-1.59 0-.83-.44-1.61-2.67-2.14-2.48-.6-4.18-1.62-4.18-3.67 0-1.72 1.39-2.84 3.11-3.21V4h2.67v1.95c1.86.45 2.79 1.86 2.85 3.39H14.3c-.05-1.11-.64-1.87-2.22-1.87-1.5 0-2.4.68-2.4 1.64 0 .84.65 1.39 2.67 1.91s4.18 1.39 4.18 3.91c-.01 1.83-1.38 2.83-3.12 3.16z"></path></g><g id="money-off"><path d="M12.5 6.9c1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-.53.12-1.03.3-1.48.54l1.47 1.47c.41-.17.91-.27 1.51-.27zM5.33 4.06L4.06 5.33 7.5 8.77c0 2.08 1.56 3.21 3.91 3.91l3.51 3.51c-.34.48-1.05.91-2.42.91-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c.96-.18 1.82-.55 2.45-1.12l2.22 2.22 1.27-1.27L5.33 4.06z"></path></g><g id="multiline-chart"><path d="M22 6.92l-1.41-1.41-2.85 3.21C15.68 6.4 12.83 5 9.61 5 6.72 5 4.07 6.16 2 8l1.42 1.42C5.12 7.93 7.27 7 9.61 7c2.74 0 5.09 1.26 6.77 3.24l-2.88 3.24-4-4L2 16.99l1.5 1.5 6-6.01 4 4 4.05-4.55c.75 1.35 1.25 2.9 1.44 4.55H21c-.22-2.3-.95-4.39-2.04-6.14L22 6.92z"></path></g><g id="pie-chart"><path d="M11 2v20c-5.07-.5-9-4.79-9-10s3.93-9.5 9-10zm2.03 0v8.99H22c-.47-4.74-4.24-8.52-8.97-8.99zm0 11.01V22c4.74-.47 8.5-4.25 8.97-8.99h-8.97z"></path></g><g id="pie-chart-outlined"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2zm1 2.07c3.61.45 6.48 3.33 6.93 6.93H13V4.07zM4 12c0-4.06 3.07-7.44 7-7.93v15.87c-3.93-.5-7-3.88-7-7.94zm9 7.93V13h6.93c-.45 3.61-3.32 6.48-6.93 6.93z"></path></g><g id="publish"><path d="M5 4v2h14V4H5zm0 10h4v6h6v-6h4l-7-7-7 7z"></path></g><g id="short-text"><path d="M4 9h16v2H4zm0 4h10v2H4z"></path></g><g id="show-chart"><path d="M3.5 18.49l6-6.01 4 4L22 6.92l-1.41-1.41-7.09 7.97-4-4L2 16.99z"></path></g><g id="space-bar"><path d="M18 9v4H6V9H4v6h16V9z"></path></g><g id="strikethrough-s"><path d="M7.24 8.75c-.26-.48-.39-1.03-.39-1.67 0-.61.13-1.16.4-1.67.26-.5.63-.93 1.11-1.29.48-.35 1.05-.63 1.7-.83.66-.19 1.39-.29 2.18-.29.81 0 1.54.11 2.21.34.66.22 1.23.54 1.69.94.47.4.83.88 1.08 1.43.25.55.38 1.15.38 1.81h-3.01c0-.31-.05-.59-.15-.85-.09-.27-.24-.49-.44-.68-.2-.19-.45-.33-.75-.44-.3-.1-.66-.16-1.06-.16-.39 0-.74.04-1.03.13-.29.09-.53.21-.72.36-.19.16-.34.34-.44.55-.1.21-.15.43-.15.66 0 .48.25.88.74 1.21.38.25.77.48 1.41.7H7.39c-.05-.08-.11-.17-.15-.25zM21 12v-2H3v2h9.62c.18.07.4.14.55.2.37.17.66.34.87.51.21.17.35.36.43.57.07.2.11.43.11.69 0 .23-.05.45-.14.66-.09.2-.23.38-.42.53-.19.15-.42.26-.71.35-.29.08-.63.13-1.01.13-.43 0-.83-.04-1.18-.13s-.66-.23-.91-.42c-.25-.19-.45-.44-.59-.75-.14-.31-.25-.76-.25-1.21H6.4c0 .55.08 1.13.24 1.58.16.45.37.85.65 1.21.28.35.6.66.98.92.37.26.78.48 1.22.65.44.17.9.3 1.38.39.48.08.96.13 1.44.13.8 0 1.53-.09 2.18-.28s1.21-.45 1.67-.79c.46-.34.82-.77 1.07-1.27s.38-1.07.38-1.71c0-.6-.1-1.14-.31-1.61-.05-.11-.11-.23-.17-.33H21z"></path></g><g id="text-fields"><path d="M2.5 4v3h5v12h3V7h5V4h-13zm19 5h-9v3h3v7h3v-7h3V9z"></path></g><g id="title"><path d="M5 4v3h5.5v12h3V7H19V4z"></path></g><g id="vertical-align-bottom"><path d="M16 13h-3V3h-2v10H8l4 4 4-4zM4 19v2h16v-2H4z"></path></g><g id="vertical-align-center"><path d="M8 19h3v4h2v-4h3l-4-4-4 4zm8-14h-3V1h-2v4H8l4 4 4-4zM4 11v2h16v-2H4z"></path></g><g id="vertical-align-top"><path d="M8 11h3v10h2V11h3l-4-4-4 4zM4 3v2h16V3H4z"></path></g><g id="wrap-text"><path d="M4 19h6v-2H4v2zM20 5H4v2h16V5zm-3 6H4v2h13.25c1.1 0 2 .9 2 2s-.9 2-2 2H15v-2l-3 3 3 3v-2h2c2.21 0 4-1.79 4-4s-1.79-4-4-4z"></path></g></defs></svg></iron-iconset-svg><iron-iconset-svg name="layout-icons" size="100"><svg><defs><g id="layout-0"><path d="M96,1H4C2.343,1,1,2.343,1,4v92c0,1.657,1.343,3,3,3h92c1.657,0,3-1.343,3-3V4C99,2.343,97.657,1,96,1z M93,93H7V7h86V93z"></path></g><g id="layout-1"><path d="M96,1H50H4C2.343,1,1,2.343,1,4v92c0,1.657,1.343,3,3,3h46h46c1.657,0,3-1.343,3-3V4C99,2.343,97.657,1,96,1 z M7,7h40v86H7V7z M93,93H53V7h40V93z"></path></g><g id="layout-2"><path d="M96,1H50H4C2.343,1,1,2.343,1,4v92c0,1.657,1.343,3,3,3h46h46c1.657,0,3-1.343,3-3V50V4 C99,2.343,97.657,1,96,1z M93,47H53V7h40V47z M7,7h40v43v43H7V7z M93,93H53V53h40V93z"></path></g><g id="layout-3"><path d="M96,1H50H4C2.343,1,1,2.343,1,4v46v46c0,1.657,1.343,3,3,3h46h46c1.657,0,3-1.343,3-3V50V4 C99,2.343,97.657,1,96,1z M93,47H53V7h40V47z M7,7h40v40H7V7z M7,53h40v40H7V53z M93,93H53V53h40V93z"></path></g><g id="layout-4"><path d="M96,1H65.333H34.667H4C2.343,1,1,2.343,1,4v46v46c0,1.657,1.343,3,3,3h30.667h30.667H96c1.657,0,3-1.343,3-3 V50V4C99,2.343,97.657,1,96,1z M93,47H68.333V7H93V47z M62.333,47H37.667V7h24.667V47z M7,7h24.667v40H7V7z M7,53h24.667v40H7V53z M37.667,53h24.667v40H37.667V53z M93,93H68.333V53H93V93z"></path></g><g id="layout-5"><path d="m65.38821,1l-30.69324,0l-30.69324,0c-1.10562,0 -2.00173,1.343 -2.00173,3l0,92c0,1.657 0.89611,3 2.00173,3l30.69324,0l30.69324,0c1.10562,0 2.00173,-1.343 2.00173,-3l0,-92c0,-1.657 -0.89611,-3 -2.00173,-3zm-59.38475,6l26.68977,0l0,86l-26.68977,0l0,-86zm57.38301,86l-26.68977,0l0,-86l26.68977,0l0,86z"></path><path d="m96.24826,1.16667l-30.69324,0l-30.69324,0c-1.10562,0 -2.00173,1.343 -2.00173,3l0,92c0,1.657 0.89611,3 2.00173,3l30.69324,0l30.69324,0c1.10562,0 2.00173,-1.343 2.00173,-3l0,-92c0,-1.657 -0.89611,-3 -2.00173,-3zm-59.38475,6l26.68977,0l0,86l-26.68977,0l0,-86zm57.38301,86l-26.68977,0l0,-86l26.68977,0l0,86z"></path></g></defs></svg></iron-iconset-svg><dom-module id="viewer-global-controls" assetpath="elements/"><template><style>:host{display:block;-webkit-box-flex:1;-ms-flex:1;flex:1;overflow-y:auto;overflow-x:hidden;}.container{-webkit-box-flex:1;-ms-flex:1;flex:1;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;}.expand{display:flex;padding:0px 12px;border-right:1px solid var(--divider-color);align-items:center;}.label{padding:2px;font-size:12px;text-align:end;color:var(--secondary-text-color);}.stretch{display:-webkit-box;display:-ms-flexbox;display:flex;overflow:hidden;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}.spacer{-webkit-box-flex:1;-ms-flex:1;flex:1;}#show{overflow:hidden;-webkit-transform:rotate(0deg);-ms-transform:rotate(0deg);transform:rotate(0deg);-webkit-transition:transform 0.6s;-webkit-transition:-webkit-transform 0.6s;transition:-webkit-transform 0.6s;-o-transition:transform 0.6s;transition:transform 0.6s;transition:transform 0.6s, -webkit-transform 0.6s;}#show.opened{-webkit-transform:rotate(180deg);-ms-transform:rotate(180deg);transform:rotate(180deg);}.collapsedLabel{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-ms-flex:1;flex:1;}#collapser{padding:2px;overflow:hidden;}[hidden]{display:none;}paper-button, paper-dropdown-menu, paper-slider{-webkit-box-flex:1;-ms-flex:1;flex:1;width:auto;}.close{flex:0;padding:0;border:none;}.iron-selected{color:var(--accent-color);}iron-selector{text-align:center;display:flex;}iron-selector > div{display:inline-block;}</style><div class="container"><div hidden$="[[collapse]]" class="expand"><div class="label">Layout</div><iron-selector selected="{{layout}}"><paper-icon-button icon="layout-icons:layout-0"></paper-icon-button><paper-icon-button icon="layout-icons:layout-1"></paper-icon-button><paper-icon-button icon="layout-icons:layout-2"></paper-icon-button><paper-icon-button hidden="" icon="layout-icons:layout-3"></paper-icon-button><paper-icon-button hidden="" icon="layout-icons:layout-4"></paper-icon-button><paper-icon-button icon="layout-icons:layout-5"></paper-icon-button></iron-selector></div><div hidden$="[[collapse]]" class="expand"><div class="label">Focus mode</div><paper-icon-button class$="{{_isTheaterModeSelected(theaterMode)}}" icon$="{{_isTheaterMode(theaterMode)}}" on-tap="_theaterMode"></paper-icon-button></div><div hidden$="[[collapse]]" class="expand"><div class="label">Localizers</div><paper-icon-button class$="{{_isLocalizerSelected(localizer)}}" icon="editor:border-inner" on-tap="_localizer"></paper-icon-button></div><div class="spacer"></div></div></template><script>var ViewerGlobalControls=function(_Polymer$GestureEvent){babelHelpers.inherits(ViewerGlobalControls,_Polymer$GestureEvent);function ViewerGlobalControls(){babelHelpers.classCallCheck(this,ViewerGlobalControls);return babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(ViewerGlobalControls).apply(this,arguments))}babelHelpers.createClass(ViewerGlobalControls,[{key:"_collapse",value:function _collapse(){this.set("collapse",!this.collapse)}},{key:"_isCollapsed",value:function _isCollapsed(collapsed){return collapsed?"icons:expand-more":"icons:expand-less"}},{key:"_theaterMode",value:function _theaterMode(){this.set("theaterMode",!this.theaterMode)}},{key:"_localizer",value:function _localizer(){this.set("localizer",!this.localizer)}},{key:"_isTheaterMode",value:function _isTheaterMode(theaterMode){return theaterMode?"icons:fullscreen-exit":"icons:fullscreen"}},{key:"_isTheaterModeSelected",value:function _isTheaterModeSelected(theaterMode){return theaterMode?"iron-selected":""}},{key:"_isLocalizerSelected",value:function _isLocalizerSelected(localizer){return localizer?"iron-selected":""}}],[{key:"is",get:function get(){return"viewer-global-controls"}},{key:"properties",get:function get(){return{collapse:{type:Boolean,value:!1,notify:!0},layout:{type:Number,value:0,notify:!0},theaterMode:{type:Boolean,value:!1,notify:!0},localizer:{type:Boolean,value:!1,notify:!0}}}}]);return ViewerGlobalControls}(Polymer.GestureEventListeners(Polymer.Element));window.customElements.define(ViewerGlobalControls.is,ViewerGlobalControls);</script></dom-module><dom-module id="shared-styles"><template><style>.card{margin:24px;padding:16px;color:#757575;border-radius:5px;background-color:#fff;box-shadow:0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12), 0 3px 1px -2px rgba(0, 0, 0, 0.2);}.circle{display:inline-block;width:64px;height:64px;text-align:center;color:#555;border-radius:50%;background:#ddd;font-size:30px;line-height:64px;}h1{margin:16px 0;color:#212121;font-size:22px;}</style></template></dom-module></div><dom-module id="rev-viewer"><template><style include="shared-styles">:host{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-ms-flex:1;flex:1;background-color:var(--dark-primary-color);color:var(--text-primary-color);font-weight:lighter;width:100%;min-height:0;}.content{-webkit-box-flex:1;-ms-flex:1;flex:1;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;background-color:var(--dark-primary-color);overflow:hidden;position:relative;}.overlay{position:absolute;top:0;bottom:0;left:0;right:0;background-color:var(--dark-primary-color);z-index:2;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;font-size:24px;}.panel{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;}.viewersContainer{-webkit-box-flex:1;-ms-flex:1;flex:1;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;}rev-layout-manager{flex:1;height:100%;}.viewers{-webkit-box-flex:1;-ms-flex:1;flex:1;height:0;width:100%;}.viewerui{display:-webkit-box;display:-ms-flexbox;display:flex;height:100%;position:relative;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;width:0;-webkit-box-flex:1;-ms-flex:1;flex:1;-webkit-box-sizing:border-box;box-sizing:border-box;border:1px solid #212121;border-bottom:4px solid #212121;}.viewerui.active{border-bottom-color:var(--accent-color);}.series{-webkit-box-flex:1;-ms-flex:1;flex:1;overflow-y:auto;overflow-x:hidden;}.data{font-size:18px;padding:2px;}.data > div{display:flex;align-items:center;}.data > div > iron-icon{margin-right:4px;}.patient.data > div > iron-icon{color:var(--patient-primary-color);}.normative.data > div > iron-icon{color:var(--normative-primary-color);}.border-bottom{border-bottom:1px solid var(--divider-color);}.border-right{border-right:1px solid var(--divider-color);}.border-left{border-left:1px solid var(--divider-color);}.loader{position:absolute;top:0;bottom:0;left:0;right:0;background-color:var(--dark-primary-color);z-index:2;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;color:#ffffff;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;}.globalControls{width:100%;background-color:var(--dark-primary-color);}.illustration{width:128px;height:128px;margin:auto;margin-bottom:24px;}.search-image{background-image:url("/images/search.svg");background-position:center;background-size:contain;background-repeat:no-repeat;}.left-image{background-image:url("/images/people.svg");background-position:center;background-size:contain;background-repeat:no-repeat;}.retrieving{padding:10px;}series-preview{margin:4px;}app-toolbar.data{height:auto;background:var(--default-primary-color);border:1px solid var(--divider-color);}[hidden]{display:none;}</style><rev-panel class="border-right" hidden$="[[!_isReady(dataStatusGe)]]" on-is-open-changed="_panelIsOpenChanged"><div slot="title">Data</div><div slot="content"><app-toolbar class="normative data"><div main-title=""><iron-icon icon="social:school"></iron-icon><div>Normatives</div></div></app-toolbar><div class="normative series"><template is="dom-repeat" items="[[dataGe]]"><wc-series-preview active="[[active]]" layout="[[layout]]" current-layout="[[currentLayout]]" draggable="true" on-dragstart="_onDragStart" on-dragend="_onDragEnd" on-mouseup="_onMouseUp" series="[[item]]" type="normative"><wc-series-preview></wc-series-preview></wc-series-preview></template></div></div></rev-panel><div class="content"><div class="globalControls border-bottom"><viewer-global-controls layout="{{layout}}" localizer="{{localizerVisible}}" theater-mode="{{theaterMode}}"></viewer-global-controls></div><div class="viewersContainer"><rev-layout-manager active="[[active]]" layout="[[layout]]" fullscreen="[[fullscreen]]" on-iron-resize="_layoutSizeChanged"><wc-viewer-2d id="viewer0" data-uid="0" slot="s0" active="[[_isActive(0, active)]]" color-lut="{{colorLut0}}" cursor="{{cursor}}" histogram="{{histogram0}}" offset-sync="{{offsetSync}}" localizer="{{l0}}" localizer0="{{l1}}" localizer1="{{l2}}" localizer2="{{l3}}" localizer-visible="[[localizerVisible]]" min-max="{{minMax0}}" orientation="{{orientation0}}" window-center="{{windowCenter0}}" window-level="{{windowLevel0}}" window-width="{{windowWidth0}}" on-enter-fullscreen="_onEnterFullscreen" on-exit-fullscreen="_onExitFullscreen" on-activate="_onActivateRenderer" on-deactivate="_onDeactivateRenderer" on-drop="_onDrop" on-dragenter="_onDragEnter" on-dragleave="_onDragLeave" on-dragover="_onDragOver"></wc-viewer-2d><wc-viewer-2d id="viewer1" data-uid="1" slot="s1" active="[[_isActive(1, active)]]" color-lut="{{colorLut1}}" cursor="{{cursor}}" histogram="{{histogram1}}" offset-sync="{{offsetSync}}" localizer="{{l1}}" localizer0="{{l0}}" localizer1="{{l2}}" localizer2="{{l3}}" localizer-visible="[[localizerVisible]]" min-max="{{minMax1}}" orientation="{{orientation1}}" window-center="{{windowCenter1}}" window-level="{{windowLevel1}}" window-width="{{windowWidth1}}" on-enter-fullscreen="_onEnterFullscreen" on-exit-fullscreen="_onExitFullscreen" on-activate="_onActivateRenderer" on-deactivate="_onDeactivateRenderer" on-drop="_onDrop" on-dragenter="_onDragEnter" on-dragleave="_onDragLeave" on-dragover="_onDragOver"></wc-viewer-2d><wc-viewer-2d id="viewer2" data-uid="2" slot="s2" active="[[_isActive(2, active)]]" color-lut="{{colorLut2}}" cursor="{{cursor}}" histogram="{{histogram2}}" offset-sync="{{offsetSync}}" localizer="{{l2}}" localizer0="{{l0}}" localizer1="{{l1}}" localizer2="{{l3}}" localizer-visible="[[localizerVisible]]" min-max="{{minMax2}}" orientation="{{orientation2}}" window-center="{{windowCenter2}}" window-level="{{windowLevel2}}" window-width="{{windowWidth2}}" on-enter-fullscreen="_onEnterFullscreen" on-exit-fullscreen="_onExitFullscreen" on-activate="_onActivateRenderer" on-deactivate="_onDeactivateRenderer" on-drop="_onDrop" on-dragenter="_onDragEnter" on-dragleave="_onDragLeave" on-dragover="_onDragOver"></wc-viewer-2d></rev-layout-manager></div></div><rev-panel class="border-left" size="large" hidden$="[[!_isSomethingActive(active)]]" on-is-open-changed="_panelIsOpenChanged"><div slot="title">Active view</div><div slot="content"><image-controls id="ic0" hidden$="[[!_isActive(0, active)]]" color-lut="{{colorLut0}}" histogram="[[histogram0]]" min-max="[[minMax0]]" orientation="{{orientation0}}" window-center="{{windowCenter0}}" window-level="{{windowLevel0}}" window-width="{{windowWidth0}}"></image-controls><image-controls id="ic1" hidden$="[[!_isActive(1, active)]]" color-lut="{{colorLut1}}" histogram="[[histogram1]]" min-max="[[minMax1]]" orientation="{{orientation1}}" window-center="{{windowCenter1}}" window-level="{{windowLevel1}}" window-width="{{windowWidth1}}"></image-controls><image-controls id="ic2" hidden$="[[!_isActive(2, active)]]" color-lut="{{colorLut2}}" histogram="[[histogram2]]" min-max="[[minMax2]]" orientation="{{orientation2}}" window-center="{{windowCenter2}}" window-level="{{windowLevel2}}" window-width="{{windowWidth2}}"></image-controls></div></rev-panel></template><script>var RevViewer=function(_Polymer$GestureEvent){babelHelpers.inherits(RevViewer,_Polymer$GestureEvent);babelHelpers.createClass(RevViewer,null,[{key:"is",get:function get(){return"rev-viewer"}},{key:"properties",get:function get(){return{loaded:{type:Boolean},dataGe:{type:Array,value:[]},dataStatusGe:{type:String,value:""},layout:{type:Number,value:0,observer:"_layoutSizeChanged"},cacheLayout:{type:Array,value:[-1,-1,-1,-1,-1,-1]},currentLayout:{type:Array,value:[-1,-1,-1,-1,-1,-1]},active:{type:Number,value:-1,observer:"_activeChanged"},fullscreen:{type:Number,value:-1},fullscreenViewer:{type:Boolean,value:!1},theaterMode:{type:Boolean,observer:"_theaterModeChanged"}}}},{key:"observers",get:function get(){return["_currentLayoutChanged(currentLayout.*)"]}}]);function RevViewer(){var _this;babelHelpers.classCallCheck(this,RevViewer);_this=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(RevViewer).call(this));_this._resizeListenerBound=_this._resizeListener.bind(babelHelpers.assertThisInitialized(babelHelpers.assertThisInitialized(_this)));_this._fullscreenListenerBound=_this._fullscreenListener.bind(babelHelpers.assertThisInitialized(babelHelpers.assertThisInitialized(_this)));return _this}babelHelpers.createClass(RevViewer,[{key:"connectedCallback",value:function connectedCallback(){babelHelpers.get(babelHelpers.getPrototypeOf(RevViewer.prototype),"connectedCallback",this).call(this);window.addEventListener("resize",this._resizeListenerBound);this.addEventListener("webkitfullscreenchange",this._fullscreenListenerBound);this.addEventListener("mozfullscreenchange",this._fullscreenListenerBound);this.addEventListener("fullscreenchange",this._fullscreenListenerBound);this.addEventListener("MSfullscreenchange",this._fullscreenListenerBound)}},{key:"disconnectedCallback",value:function disconnectedCallback(){babelHelpers.get(babelHelpers.getPrototypeOf(RevViewer.prototype),"disconnectedCallback",this).call(this);window.removeEventListener("resize",this._resizeListenerBound);this.removeEventListener("webkitfullscreenchange",this._fullscreenListenerBound);this.removeEventListener("mozfullscreenchange",this._fullscreenListenerBound);this.removeEventListener("fullscreenchange",this._fullscreenListenerBound);this.addremoveEventListenerEventListener("MSfullscreenchange",this._fullscreenListenerBound)}},{key:"_panelIsOpenChanged",value:function _panelIsOpenChanged(){this._layoutSizeChanged();return}},{key:"_isEmpty",value:function _isEmpty(status){return"empty"===status}},{key:"_isFetching",value:function _isFetching(status){return"fetching"===status}},{key:"_isReady",value:function _isReady(status){return"ready"===status}},{key:"_isSelected",value:function _isSelected(data){return!(data===void 0||!data.data)}},{key:"_onDragStart",value:function _onDragStart(event){var draggingSeries=event.model.__data.item.details.series;event.dataTransfer.setData("uid",draggingSeries.uid)}},{key:"_onDragEnd",value:function _onDragEnd(event){event.target.$.image.style.display="block";event.target.positionThumbnail(.5,event.target.$.image)}},{key:"_onMouseUp",value:function _onMouseUp(event){event.target.$.image.style.display="block";event.target.positionThumbnail(.5,event.target.$.image)}},{key:"_onDrop",value:function _onDrop(event){event.preventDefault();event.target.drag=!1;var dataTransfer=event.dataTransfer,targetViewer=event.target;this.set(["currentLayout",targetViewer.dataset.uid],dataTransfer.getData("uid"))}},{key:"_onDragEnter",value:function _onDragEnter(event){event.preventDefault();event.target.drag=!0}},{key:"_onDragOver",value:function _onDragOver(event){event.preventDefault()}},{key:"_onDragLeave",value:function _onDragLeave(event){event.preventDefault();event.target.drag=!1}},{key:"_onEnterFullscreen",value:function _onEnterFullscreen(event){this.fullscreen=event.target.dataset.uid;this.active=this.fullscreen;this._layoutSizeChanged()}},{key:"_onExitFullscreen",value:function _onExitFullscreen(){this.fullscreen=-1;this._layoutSizeChanged()}},{key:"_onActivateRenderer",value:function _onActivateRenderer(event){this.active=event.target.dataset.uid}},{key:"_onDeactivateRenderer",value:function _onDeactivateRenderer(event){this.set(["currentLayout",this.active],-1);this.active=-1}},{key:"_theaterModeChanged",value:function _theaterModeChanged(){var currentlyFullscreen=!1;if(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement){currentlyFullscreen=!0}if(this.theaterMode&&!currentlyFullscreen){this.webkitRequestFullScreen()}else if(!this.theaterMode&&currentlyFullscreen){if(document.exitFullscreen)document.exitFullscreen();else if(document.webkitExitFullscreen)document.webkitExitFullscreen();else if(document.mozCancelFullScreen)document.mozCancelFullScreen();else if(document.msExitFullscreen)document.msExitFullscreen()}}},{key:"_fullscreenListener",value:function _fullscreenListener(event){if(!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)&&this.theaterMode){this.theaterMode=!1}this._layoutSizeChanged()}},{key:"_isActive",value:function _isActive(current,target){if(0===+current&&-1===+target){return!1}return+current===+target}},{key:"_resizeListener",value:function _resizeListener(){this._layoutSizeChanged()}},{key:"_layoutSizeChanged",value:function _layoutSizeChanged(layout){if(Number.isInteger(layout)){var nbOfViewers=layout;if(4===layout){nbOfViewers=5}else if(5===layout){nbOfViewers=2}if(this.currentLayout.length>nbOfViewers+1){for(var i=0;i<this.currentLayout.length;i++){this.cacheLayout[i]=this.currentLayout[i]}this.currentLayout=this.currentLayout.slice(0,nbOfViewers+1)}else{var cache=this.cacheLayout.slice(this.currentLayout.length,nbOfViewers+1);this.currentLayout=babelHelpers.toConsumableArray(this.currentLayout).concat(babelHelpers.toConsumableArray(cache))}}this.$.viewer0.resize();this.$.viewer1.resize();this.$.viewer2.resize()}},{key:"_isSomethingActive",value:function _isSomethingActive(active){return-1<active}},{key:"_activeChanged",value:function _activeChanged(active){if(active===void 0||-1===active){this._resizeListener();return}this.$["ic".concat(active)].reflow();this.$["viewer".concat(active)].resize()}},{key:"_currentLayoutChanged",value:function _currentLayoutChanged(currentLayout){window.console.log(currentLayout);if(this.loaded&&!currentLayout.path.startsWith("currentLayout.")){return!1}if(this.loaded===void 0&&"currentLayout"===currentLayout.path){if(0===currentLayout.value.length||0<currentLayout.value.length&&-1===currentLayout.value[0]){return!1}}if(-1===currentLayout.value){return!1}if(currentLayout.path.startsWith("currentLayout.")){for(var uid=currentLayout.value,target=currentLayout.path.split(".")[1],images=[],api={},i=0;i<this.dataGe.length;i++){if(this.dataGe[i].details.series.uid===uid){images=this.dataGe[i].details.series.data}}this.$["viewer".concat(target)].api=api;this.$["viewer".concat(target)].images=images;this.$["viewer".concat(target)].type="normative"}else{for(var _i=0;_i<currentLayout.value.length;_i++){for(var _uid=currentLayout.value[_i],_target=_i,_images=[],_api={},_i2=0;_i2<this.dataGe.length;_i2++){if(this.dataGe[_i2].details.series.uid===_uid){_images=this.dataGe[_i2].details.series.data}}this.$["viewer".concat(_target)].api=_api;this.$["viewer".concat(_target)].images=_images;this.$["viewer".concat(_target)].type="normative"}}this.loaded=!0}}]);return RevViewer}(Polymer.GestureEventListeners(Polymer.Element));window.customElements.define(RevViewer.is,RevViewer);</script></dom-module></body></html>